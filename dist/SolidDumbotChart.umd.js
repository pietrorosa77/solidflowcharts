(function(Xo,ba){typeof exports=="object"&&typeof module!="undefined"?ba(exports):typeof define=="function"&&define.amd?define(["exports"],ba):(Xo=typeof globalThis!="undefined"?globalThis:Xo||self,ba(Xo.SolidDumbotChart={}))})(this,function(Xo){"use strict";var kT=Object.defineProperty,CT=Object.defineProperties;var ST=Object.getOwnPropertyDescriptors;var N3=Object.getOwnPropertySymbols;var Y8=Object.prototype.hasOwnProperty,V8=Object.prototype.propertyIsEnumerable;var Nk=(Xo,ba,Qa)=>ba in Xo?kT(Xo,ba,{enumerable:!0,configurable:!0,writable:!0,value:Qa}):Xo[ba]=Qa,ks=(Xo,ba)=>{for(var Qa in ba||(ba={}))Y8.call(ba,Qa)&&Nk(Xo,Qa,ba[Qa]);if(N3)for(var Qa of N3(ba))V8.call(ba,Qa)&&Nk(Xo,Qa,ba[Qa]);return Xo},dd=(Xo,ba)=>CT(Xo,ST(ba));var W8=(Xo,ba)=>{var Qa={};for(var hs in Xo)Y8.call(Xo,hs)&&ba.indexOf(hs)<0&&(Qa[hs]=Xo[hs]);if(Xo!=null&&N3)for(var hs of N3(Xo))ba.indexOf(hs)<0&&V8.call(Xo,hs)&&(Qa[hs]=Xo[hs]);return Qa};var Pk=(Xo,ba,Qa)=>(Nk(Xo,typeof ba!="symbol"?ba+"":ba,Qa),Qa);var Ei=(Xo,ba,Qa)=>new Promise((hs,vy)=>{var by=ol=>{try{xy(Qa.next(ol))}catch(F0){vy(F0)}},Bg=ol=>{try{xy(Qa.throw(ol))}catch(F0){vy(F0)}},xy=ol=>ol.done?hs(ol.value):Promise.resolve(ol.value).then(by,Bg);xy((Qa=Qa.apply(Xo,ba)).next())});const ba={context:void 0,registry:void 0},Qa=(U,l)=>U===l,hs=Symbol("solid-proxy"),vy=Symbol("solid-track"),by={equals:Qa};let Bg=null,xy=Hk;const ol=1,F0=2,Rk={owned:null,cleanups:null,context:null,owner:null};var xa=null;let P3=null,ts=null,Sl=null,fd=null,jx=0;function db(U,l){const f=ts,I=xa,L=U.length===0,d=L?Rk:{owned:null,cleanups:null,context:null,owner:l===void 0?I:l},u=L?U:()=>U(()=>nh(()=>Rx(d)));xa=d,ts=null;try{return jg(u,!0)}finally{ts=f,xa=I}}function wp(U,l){l=l?Object.assign({},by,l):by;const f={value:U,observers:null,observerSlots:null,comparator:l.equals||void 0},I=L=>(typeof L=="function"&&(L=L(f.value)),Uk(f,L));return[zk.bind(f),I]}function qa(U,l,f){const I=Ix(U,l,!1,ol);pb(I)}function z0(U,l,f){xy=e7;const I=Ix(U,l,!1,ol);(!f||!f.render)&&(I.user=!0),fd?fd.push(I):pb(I)}function gc(U,l,f){f=f?Object.assign({},by,f):by;const I=Ix(U,l,!0,0);return I.observers=null,I.observerSlots=null,I.comparator=f.equals||void 0,pb(I),zk.bind(I)}function bu(U){return jg(U,!1)}function nh(U){if(ts===null)return U();const l=ts;ts=null;try{return U()}finally{ts=l}}function fb(U){z0(()=>nh(U))}function hf(U){return xa===null||(xa.cleanups===null?xa.cleanups=[U]:xa.cleanups.push(U)),U}function G8(U,l){Bg||(Bg=Symbol("error")),xa=Ix(void 0,void 0,!0),xa.context={[Bg]:[l]};try{return U()}catch(f){Dx(f)}finally{xa=xa.owner}}function Dk(){return ts}function X8(){return xa}function Z8(U,l){const f=xa,I=ts;xa=U,ts=null;try{return jg(l,!0)}catch(L){Dx(L)}finally{xa=f,ts=I}}function K8(U,l){const f=Symbol("context");return{id:f,Provider:r7(f),defaultValue:U}}function J8(U){let l;return(l=R3(xa,U.id))!==void 0?l:U.defaultValue}function Fk(U){const l=gc(U),f=gc(()=>D3(l()));return f.toArray=()=>{const I=f();return Array.isArray(I)?I:I!=null?[I]:[]},f}function zk(){if(this.sources&&this.state)if(this.state===ol)pb(this);else{const U=Sl;Sl=null,jg(()=>Px(this),!1),Sl=U}if(ts){const U=this.observers?this.observers.length:0;ts.sources?(ts.sources.push(this),ts.sourceSlots.push(U)):(ts.sources=[this],ts.sourceSlots=[U]),this.observers?(this.observers.push(ts),this.observerSlots.push(ts.sources.length-1)):(this.observers=[ts],this.observerSlots=[ts.sources.length-1])}return this.value}function Uk(U,l,f){let I=U.value;return(!U.comparator||!U.comparator(I,l))&&(U.value=l,U.observers&&U.observers.length&&jg(()=>{for(let L=0;L<U.observers.length;L+=1){const d=U.observers[L],u=P3&&P3.running;u&&P3.disposed.has(d),(u?!d.tState:!d.state)&&(d.pure?Sl.push(d):fd.push(d),d.observers&&$k(d)),u||(d.state=ol)}if(Sl.length>1e6)throw Sl=[],new Error},!1)),l}function pb(U){if(!U.fn)return;Rx(U);const l=xa,f=ts,I=jx;ts=xa=U,Q8(U,U.value,I),ts=f,xa=l}function Q8(U,l,f){let I;try{I=U.fn(l)}catch(L){return U.pure&&(U.state=ol,U.owned&&U.owned.forEach(Rx),U.owned=null),U.updatedAt=f+1,Dx(L)}(!U.updatedAt||U.updatedAt<=f)&&(U.updatedAt!=null&&"observers"in U?Uk(U,I):U.value=I,U.updatedAt=f)}function Ix(U,l,f,I=ol,L){const d={fn:U,state:I,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:l,owner:xa,context:null,pure:f};return xa===null||xa!==Rk&&(xa.owned?xa.owned.push(d):xa.owned=[d]),d}function Nx(U){if(U.state===0)return;if(U.state===F0)return Px(U);if(U.suspense&&nh(U.suspense.inFallback))return U.suspense.effects.push(U);const l=[U];for(;(U=U.owner)&&(!U.updatedAt||U.updatedAt<jx);)U.state&&l.push(U);for(let f=l.length-1;f>=0;f--)if(U=l[f],U.state===ol)pb(U);else if(U.state===F0){const I=Sl;Sl=null,jg(()=>Px(U,l[0]),!1),Sl=I}}function jg(U,l){if(Sl)return U();let f=!1;l||(Sl=[]),fd?f=!0:fd=[],jx++;try{const I=U();return t7(f),I}catch(I){f||(fd=null),Sl=null,Dx(I)}}function t7(U){if(Sl&&(Hk(Sl),Sl=null),U)return;const l=fd;fd=null,l.length&&jg(()=>xy(l),!1)}function Hk(U){for(let l=0;l<U.length;l++)Nx(U[l])}function e7(U){let l,f=0;for(l=0;l<U.length;l++){const I=U[l];I.user?U[f++]=I:Nx(I)}for(l=0;l<f;l++)Nx(U[l])}function Px(U,l){U.state=0;for(let f=0;f<U.sources.length;f+=1){const I=U.sources[f];if(I.sources){const L=I.state;L===ol?I!==l&&(!I.updatedAt||I.updatedAt<jx)&&Nx(I):L===F0&&Px(I,l)}}}function $k(U){for(let l=0;l<U.observers.length;l+=1){const f=U.observers[l];f.state||(f.state=F0,f.pure?Sl.push(f):fd.push(f),f.observers&&$k(f))}}function Rx(U){let l;if(U.sources)for(;U.sources.length;){const f=U.sources.pop(),I=U.sourceSlots.pop(),L=f.observers;if(L&&L.length){const d=L.pop(),u=f.observerSlots.pop();I<L.length&&(d.sourceSlots[u]=I,L[I]=d,f.observerSlots[I]=u)}}if(U.owned){for(l=U.owned.length-1;l>=0;l--)Rx(U.owned[l]);U.owned=null}if(U.cleanups){for(l=U.cleanups.length-1;l>=0;l--)U.cleanups[l]();U.cleanups=null}U.state=0,U.context=null}function n7(U){return U instanceof Error?U:new Error(typeof U=="string"?U:"Unknown error",{cause:U})}function qk(U,l){for(const f of U)f(l)}function Dx(U){const l=Bg&&R3(xa,Bg);if(!l)throw U;const f=n7(U);fd?fd.push({fn(){qk(l,f)},state:ol}):qk(l,f)}function R3(U,l){return U?U.context&&U.context[l]!==void 0?U.context[l]:R3(U.owner,l):void 0}function D3(U){if(typeof U=="function"&&!U.length)return D3(U());if(Array.isArray(U)){const l=[];for(let f=0;f<U.length;f++){const I=D3(U[f]);Array.isArray(I)?l.push.apply(l,I):l.push(I)}return l}return U}function r7(U,l){return function(I){let L;return qa(()=>L=nh(()=>(xa.context={[U]:I.value},Fk(()=>I.children))),void 0),L}}const i7=Symbol("fallback");function Yk(U){for(let l=0;l<U.length;l++)U[l]()}function o7(U,l,f={}){let I=[],L=[],d=[],u=0,s=l.length>1?[]:null;return hf(()=>Yk(d)),()=>{let n=U()||[],m,g;return n[vy],nh(()=>{let k=n.length,E,C,v,h,a,O,_,M,P;if(k===0)u!==0&&(Yk(d),d=[],I=[],L=[],u=0,s&&(s=[])),f.fallback&&(I=[i7],L[0]=db(R=>(d[0]=R,f.fallback())),u=1);else if(u===0){for(L=new Array(k),g=0;g<k;g++)I[g]=n[g],L[g]=db(y);u=k}else{for(v=new Array(k),h=new Array(k),s&&(a=new Array(k)),O=0,_=Math.min(u,k);O<_&&I[O]===n[O];O++);for(_=u-1,M=k-1;_>=O&&M>=O&&I[_]===n[M];_--,M--)v[M]=L[_],h[M]=d[_],s&&(a[M]=s[_]);for(E=new Map,C=new Array(M+1),g=M;g>=O;g--)P=n[g],m=E.get(P),C[g]=m===void 0?-1:m,E.set(P,g);for(m=O;m<=_;m++)P=I[m],g=E.get(P),g!==void 0&&g!==-1?(v[g]=L[m],h[g]=d[m],s&&(a[g]=s[m]),g=C[g],E.set(P,g)):d[m]();for(g=O;g<k;g++)g in v?(L[g]=v[g],d[g]=h[g],s&&(s[g]=a[g],s[g](g))):L[g]=db(y);L=L.slice(0,u=k),I=n.slice(0)}return L});function y(k){if(d[g]=k,s){const[E,C]=wp(g);return s[g]=C,l(n[g],E)}return l(n[g])}}}function gr(U,l){return nh(()=>U(l||{}))}function Fx(){return!0}const F3={get(U,l,f){return l===hs?f:U.get(l)},has(U,l){return l===hs?!0:U.has(l)},set:Fx,deleteProperty:Fx,getOwnPropertyDescriptor(U,l){return{configurable:!0,enumerable:!0,get(){return U.get(l)},set:Fx,deleteProperty:Fx}},ownKeys(U){return U.keys()}};function z3(U){return(U=typeof U=="function"?U():U)?U:{}}function a7(){for(let U=0,l=this.length;U<l;++U){const f=this[U]();if(f!==void 0)return f}}function Oh(...U){let l=!1;for(let d=0;d<U.length;d++){const u=U[d];l=l||!!u&&hs in u,U[d]=typeof u=="function"?(l=!0,gc(u)):u}if(l)return new Proxy({get(d){for(let u=U.length-1;u>=0;u--){const s=z3(U[u])[d];if(s!==void 0)return s}},has(d){for(let u=U.length-1;u>=0;u--)if(d in z3(U[u]))return!0;return!1},keys(){const d=[];for(let u=0;u<U.length;u++)d.push(...Object.keys(z3(U[u])));return[...new Set(d)]}},F3);const f={},I={};let L=!1;for(let d=U.length-1;d>=0;d--){const u=U[d];if(!u)continue;const s=Object.getOwnPropertyNames(u);L=L||d!==0&&!!s.length;for(let n=0,m=s.length;n<m;n++){const g=s[n];if(!(g==="__proto__"||g==="constructor"))if(g in f){const y=I[g],k=Object.getOwnPropertyDescriptor(u,g);y?k.get?y.push(k.get.bind(u)):k.value!==void 0&&y.push(()=>k.value):f[g]===void 0&&(f[g]=k.value)}else{const y=Object.getOwnPropertyDescriptor(u,g);y.get?Object.defineProperty(f,g,{enumerable:!0,configurable:!0,get:a7.bind(I[g]=[y.get.bind(u)])}):f[g]=y.value}}}return f}function zx(U,...l){if(hs in U){const L=new Set(l.length>1?l.flat():l[0]),d=l.map(u=>new Proxy({get(s){return u.includes(s)?U[s]:void 0},has(s){return u.includes(s)&&s in U},keys(){return u.filter(s=>s in U)}},F3));return d.push(new Proxy({get(u){return L.has(u)?void 0:U[u]},has(u){return L.has(u)?!1:u in U},keys(){return Object.keys(U).filter(u=>!L.has(u))}},F3)),d}const f={},I=l.map(()=>({}));for(const L of Object.getOwnPropertyNames(U)){const d=Object.getOwnPropertyDescriptor(U,L),u=!d.get&&!d.set&&d.enumerable&&d.writable&&d.configurable;let s=!1,n=0;for(const m of l)m.includes(L)&&(s=!0,u?I[n][L]=d.value:Object.defineProperty(I[n],L,d)),++n;s||(u?f[L]=d.value:Object.defineProperty(f,L,d))}return[...I,f]}const Vk=U=>`Stale read from <${U}>.`;function Ux(U){const l="fallback"in U&&{fallback:()=>U.fallback};return gc(o7(()=>U.each,U.children,l||void 0))}function df(U){const l=U.keyed,f=gc(()=>U.when,void 0,{equals:(I,L)=>l?I===L:!I==!L});return gc(()=>{const I=f();if(I){const L=U.children;return typeof L=="function"&&L.length>0?nh(()=>L(l?I:()=>{if(!nh(f))throw Vk("Show");return U.when})):L}return U.fallback},void 0,void 0)}function s7(U){let l=!1;const f=(d,u)=>d[0]===u[0]&&(l?d[1]===u[1]:!d[1]==!u[1])&&d[2]===u[2],I=Fk(()=>U.children),L=gc(()=>{let d=I();Array.isArray(d)||(d=[d]);for(let u=0;u<d.length;u++){const s=d[u].when;if(s)return l=!!d[u].keyed,[u,s,d[u]]}return[-1]},void 0,{equals:f});return gc(()=>{const[d,u,s]=L();if(d<0)return U.fallback;const n=s.children;return typeof n=="function"&&n.length>0?nh(()=>n(l?u:()=>{if(nh(L)[0]!==d)throw Vk("Match");return s.when})):n},void 0,void 0)}function U3(U){return U}let Hx;function c7(U){let l;const[f,I]=wp(l,void 0);return Hx||(Hx=new Set),Hx.add(I),hf(()=>Hx.delete(I)),gc(()=>{let L;if(L=f()){const d=U.fallback;return typeof d=="function"&&d.length?nh(()=>d(L,()=>I())):d}return G8(()=>U.children,I)},void 0,void 0)}const l7=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],u7=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...l7]),h7=new Set(["innerHTML","textContent","innerText","children"]),d7=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),f7=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function p7(U,l){const f=f7[U];return typeof f=="object"?f[l]?f.$:void 0:f}const g7=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),m7={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function y7(U,l,f){let I=f.length,L=l.length,d=I,u=0,s=0,n=l[L-1].nextSibling,m=null;for(;u<L||s<d;){if(l[u]===f[s]){u++,s++;continue}for(;l[L-1]===f[d-1];)L--,d--;if(L===u){const g=d<I?s?f[s-1].nextSibling:f[d-s]:n;for(;s<d;)U.insertBefore(f[s++],g)}else if(d===s)for(;u<L;)(!m||!m.has(l[u]))&&l[u].remove(),u++;else if(l[u]===f[d-1]&&f[s]===l[L-1]){const g=l[--L].nextSibling;U.insertBefore(f[s++],l[u++].nextSibling),U.insertBefore(f[--d],g),l[L]=f[d]}else{if(!m){m=new Map;let y=s;for(;y<d;)m.set(f[y],y++)}const g=m.get(l[u]);if(g!=null)if(s<g&&g<d){let y=u,k=1,E;for(;++y<L&&y<d&&!((E=m.get(l[y]))==null||E!==g+k);)k++;if(k>g-s){const C=l[u];for(;s<g;)U.insertBefore(f[s++],C)}else U.replaceChild(f[s++],l[u++])}else u++;else l[u++].remove()}}}const Wk="_$DX_DELEGATE";function v7(U,l,f,I={}){let L;return db(d=>{L=d,l===document?U():Di(l,U(),l.firstChild?null:void 0,f)},I.owner),()=>{L(),l.textContent=""}}function ja(U,l,f){let I;const L=()=>{const u=document.createElement("template");return u.innerHTML=U,f?u.content.firstChild.firstChild:u.content.firstChild},d=l?()=>nh(()=>document.importNode(I||(I=L()),!0)):()=>(I||(I=L())).cloneNode(!0);return d.cloneNode=d,d}function gb(U,l=window.document){const f=l[Wk]||(l[Wk]=new Set);for(let I=0,L=U.length;I<L;I++){const d=U[I];f.has(d)||(f.add(d),l.addEventListener(d,k7))}}function al(U,l,f){f==null?U.removeAttribute(l):U.setAttribute(l,f)}function b7(U,l,f,I){I==null?U.removeAttributeNS(l,f):U.setAttributeNS(l,f,I)}function Ya(U,l){l==null?U.removeAttribute("class"):U.className=l}function x7(U,l,f,I){if(I)Array.isArray(f)?(U[`$$${l}`]=f[0],U[`$$${l}Data`]=f[1]):U[`$$${l}`]=f;else if(Array.isArray(f)){const L=f[0];U.addEventListener(l,f[0]=d=>L.call(U,f[1],d))}else U.addEventListener(l,f)}function mb(U,l,f={}){const I=Object.keys(l||{}),L=Object.keys(f);let d,u;for(d=0,u=L.length;d<u;d++){const s=L[d];!s||s==="undefined"||l[s]||(Gk(U,s,!1),delete f[s])}for(d=0,u=I.length;d<u;d++){const s=I[d],n=!!l[s];!s||s==="undefined"||f[s]===n||!n||(Gk(U,s,!0),f[s]=n)}return f}function yb(U,l,f){if(!l)return f?al(U,"style"):l;const I=U.style;if(typeof l=="string")return I.cssText=l;typeof f=="string"&&(I.cssText=f=void 0),f||(f={}),l||(l={});let L,d;for(d in f)l[d]==null&&I.removeProperty(d),delete f[d];for(d in l)L=l[d],L!==f[d]&&(I.setProperty(d,L),f[d]=L);return f}function ff(U,l={},f,I){const L={};return I||qa(()=>L.children=wy(U,l.children,L.children)),qa(()=>l.ref&&l.ref(U)),qa(()=>w7(U,l,f,!0,L,!0)),L}function Ig(U,l,f){return nh(()=>U(l,f))}function Di(U,l,f,I){if(f!==void 0&&!I&&(I=[]),typeof l!="function")return wy(U,l,I,f);qa(L=>wy(U,l(),L,f),I)}function w7(U,l,f,I,L={},d=!1){l||(l={});for(const u in L)if(!(u in l)){if(u==="children")continue;L[u]=Xk(U,u,null,L[u],f,d)}for(const u in l){if(u==="children"){I||wy(U,l.children);continue}const s=l[u];L[u]=Xk(U,u,s,L[u],f,d)}}function _7(U){return U.toLowerCase().replace(/-([a-z])/g,(l,f)=>f.toUpperCase())}function Gk(U,l,f){const I=l.trim().split(/\s+/);for(let L=0,d=I.length;L<d;L++)U.classList.toggle(I[L],f)}function Xk(U,l,f,I,L,d){let u,s,n,m,g;if(l==="style")return yb(U,f,I);if(l==="classList")return mb(U,f,I);if(f===I)return I;if(l==="ref")d||f(U);else if(l.slice(0,3)==="on:"){const y=l.slice(3);I&&U.removeEventListener(y,I),f&&U.addEventListener(y,f)}else if(l.slice(0,10)==="oncapture:"){const y=l.slice(10);I&&U.removeEventListener(y,I,!0),f&&U.addEventListener(y,f,!0)}else if(l.slice(0,2)==="on"){const y=l.slice(2).toLowerCase(),k=g7.has(y);if(!k&&I){const E=Array.isArray(I)?I[0]:I;U.removeEventListener(y,E)}(k||f)&&(x7(U,y,f,k),k&&gb([y]))}else if(l.slice(0,5)==="attr:")al(U,l.slice(5),f);else if((g=l.slice(0,5)==="prop:")||(n=h7.has(l))||!L&&((m=p7(l,U.tagName))||(s=u7.has(l)))||(u=U.nodeName.includes("-")))g&&(l=l.slice(5),s=!0),l==="class"||l==="className"?Ya(U,f):u&&!s&&!n?U[_7(l)]=f:U[m||l]=f;else{const y=L&&l.indexOf(":")>-1&&m7[l.split(":")[0]];y?b7(U,y,l,f):al(U,d7[l]||l,f)}return f}function k7(U){const l=`$$${U.type}`;let f=U.composedPath&&U.composedPath()[0]||U.target;for(U.target!==f&&Object.defineProperty(U,"target",{configurable:!0,value:f}),Object.defineProperty(U,"currentTarget",{configurable:!0,get(){return f||document}});f;){const I=f[l];if(I&&!f.disabled){const L=f[`${l}Data`];if(L!==void 0?I.call(f,L,U):I.call(f,U),U.cancelBubble)return}f=f._$host||f.parentNode||f.host}}function wy(U,l,f,I,L){for(;typeof f=="function";)f=f();if(l===f)return f;const d=typeof l,u=I!==void 0;if(U=u&&f[0]&&f[0].parentNode||U,d==="string"||d==="number")if(d==="number"&&(l=l.toString()),u){let s=f[0];s&&s.nodeType===3?s.data=l:s=document.createTextNode(l),f=_y(U,f,I,s)}else f!==""&&typeof f=="string"?f=U.firstChild.data=l:f=U.textContent=l;else if(l==null||d==="boolean")f=_y(U,f,I);else{if(d==="function")return qa(()=>{let s=l();for(;typeof s=="function";)s=s();f=wy(U,s,f,I)}),()=>f;if(Array.isArray(l)){const s=[],n=f&&Array.isArray(f);if(H3(s,l,f,L))return qa(()=>f=wy(U,s,f,I,!0)),()=>f;if(s.length===0){if(f=_y(U,f,I),u)return f}else n?f.length===0?Zk(U,s,I):y7(U,f,s):(f&&_y(U),Zk(U,s));f=s}else if(l.nodeType){if(Array.isArray(f)){if(u)return f=_y(U,f,I,l);_y(U,f,null,l)}else f==null||f===""||!U.firstChild?U.appendChild(l):U.replaceChild(l,U.firstChild);f=l}else console.warn("Unrecognized value. Skipped inserting",l)}return f}function H3(U,l,f,I){let L=!1;for(let d=0,u=l.length;d<u;d++){let s=l[d],n=f&&f[d],m;if(!(s==null||s===!0||s===!1))if((m=typeof s)=="object"&&s.nodeType)U.push(s);else if(Array.isArray(s))L=H3(U,s,n)||L;else if(m==="function")if(I){for(;typeof s=="function";)s=s();L=H3(U,Array.isArray(s)?s:[s],Array.isArray(n)?n:[n])||L}else U.push(s),L=!0;else{const g=String(s);n&&n.nodeType===3&&n.data===g?U.push(n):U.push(document.createTextNode(g))}}return L}function Zk(U,l,f=null){for(let I=0,L=l.length;I<L;I++)U.insertBefore(l[I],f)}function _y(U,l,f,I){if(f===void 0)return U.textContent="";const L=I||document.createTextNode("");if(l.length){let d=!1;for(let u=l.length-1;u>=0;u--){const s=l[u];if(L!==s){const n=s.parentNode===U;!d&&!u?n?U.replaceChild(L,s):U.insertBefore(L,f):n&&s.remove()}else d=!0}}else U.insertBefore(L,f);return[L]}const C7=!1,S7="http://www.w3.org/2000/svg";function E7(U,l=!1){return l?document.createElementNS(S7,U):document.createElement(U)}function T7(U){const{useShadow:l}=U,f=document.createTextNode(""),I=()=>U.mount||document.body,L=X8();let d,u=!!ba.context;return z0(()=>{d||(d=Z8(L,()=>U.children));const s=I();if(s instanceof HTMLHeadElement){const[n,m]=wp(!1),g=()=>m(!0);db(y=>Di(s,()=>n()?y():d,null)),hf(g)}else{const n=E7(U.isSVG?"g":"div",U.isSVG),m=l&&n.attachShadow?n.attachShadow({mode:"open"}):n;Object.defineProperty(n,"_$host",{get(){return f.parentNode},configurable:!0}),Di(m,d),s.appendChild(n),U.ref&&U.ref(n),hf(()=>s.removeChild(n))}},void 0,{render:!u}),f}var vb=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function mc(U){return U&&U.__esModule&&Object.prototype.hasOwnProperty.call(U,"default")?U.default:U}var $x={exports:{}};$x.exports=Kk,$x.exports.addWheelListener=Kk,$x.exports.removeWheelListener=A7;function Kk(U,l,f){U.addEventListener("wheel",l,f)}function A7(U,l,f){U.removeEventListener("wheel",l,f)}var O7=$x.exports,qx={exports:{}},M7=4,L7=.001,B7=1e-7,j7=10,bb=11,Yx=1/(bb-1),I7=typeof Float32Array=="function";function Jk(U,l){return 1-3*l+3*U}function Qk(U,l){return 3*l-6*U}function t6(U){return 3*U}function Vx(U,l,f){return((Jk(l,f)*U+Qk(l,f))*U+t6(l))*U}function e6(U,l,f){return 3*Jk(l,f)*U*U+2*Qk(l,f)*U+t6(l)}function N7(U,l,f,I,L){var d,u,s=0;do u=l+(f-l)/2,d=Vx(u,I,L)-U,d>0?f=u:l=u;while(Math.abs(d)>B7&&++s<j7);return u}function P7(U,l,f,I){for(var L=0;L<M7;++L){var d=e6(l,f,I);if(d===0)return l;var u=Vx(l,f,I)-U;l-=u/d}return l}function R7(U){return U}var D7=function(l,f,I,L){if(!(0<=l&&l<=1&&0<=I&&I<=1))throw new Error("bezier x values must be in [0, 1] range");if(l===f&&I===L)return R7;for(var d=I7?new Float32Array(bb):new Array(bb),u=0;u<bb;++u)d[u]=Vx(u*Yx,l,I);function s(n){for(var m=0,g=1,y=bb-1;g!==y&&d[g]<=n;++g)m+=Yx;--g;var k=(n-d[g])/(d[g+1]-d[g]),E=m+k*Yx,C=e6(E,l,I);return C>=L7?P7(n,E,l,I):C===0?E:N7(n,m,m+Yx,l,I)}return function(m){return m===0?0:m===1?1:Vx(s(m),f,L)}},xb=D7,n6={ease:xb(.25,.1,.25,1),easeIn:xb(.42,0,1,1),easeOut:xb(0,0,.58,1),easeInOut:xb(.42,0,.58,1),linear:xb(0,0,1,1)};qx.exports=F7,qx.exports.makeAggregateRaf=i6,qx.exports.sharedScheduler=i6();function F7(U,l,f){var I=Object.create(null),L=Object.create(null);f=f||{};var d=typeof f.easing=="function"?f.easing:n6[f.easing];d||(f.easing&&console.warn("Unknown easing function in amator: "+f.easing),d=n6.ease);var u=typeof f.step=="function"?f.step:r6,s=typeof f.done=="function"?f.done:r6,n=z7(f.scheduler),m=Object.keys(l);m.forEach(function(a){I[a]=U[a],L[a]=l[a]-U[a]});var g=typeof f.duration=="number"?f.duration:400,y=Math.max(1,g*.06),k,E=0;return k=n.next(v),{cancel:C};function C(){n.cancel(k),k=0}function v(){var a=d(E/y);E+=1,h(a),E<=y?(k=n.next(v),u(U)):(k=0,setTimeout(function(){s(U)},0))}function h(a){m.forEach(function(O){U[O]=L[O]*a+I[O]})}}function r6(){}function z7(U){if(!U){var l=typeof window!="undefined"&&window.requestAnimationFrame;return l?U7():H7()}if(typeof U.next!="function")throw new Error("Scheduler is supposed to have next(cb) function");if(typeof U.cancel!="function")throw new Error("Scheduler is supposed to have cancel(handle) function");return U}function U7(){return{next:window.requestAnimationFrame.bind(window),cancel:window.cancelAnimationFrame.bind(window)}}function H7(){return{next:function(U){return setTimeout(U,1e3/60)},cancel:function(U){return clearTimeout(U)}}}function i6(){var U=new Set,l=new Set,f=0;return{next:L,cancel:L,clearAll:I};function I(){U.clear(),l.clear(),cancelAnimationFrame(f),f=0}function L(s){l.add(s),d()}function d(){f||(f=requestAnimationFrame(u))}function u(){f=0;var s=l;l=U,U=s,U.forEach(function(n){n()}),U.clear()}}var $7=qx.exports,q7=function(l){V7(l);var f=Y7(l);return l.on=f.on,l.off=f.off,l.fire=f.fire,l};function Y7(U){var l=Object.create(null);return{on:function(f,I,L){if(typeof I!="function")throw new Error("callback is expected to be a function");var d=l[f];return d||(d=l[f]=[]),d.push({callback:I,ctx:L}),U},off:function(f,I){var L=typeof f=="undefined";if(L)return l=Object.create(null),U;if(l[f]){var d=typeof I!="function";if(d)delete l[f];else for(var u=l[f],s=0;s<u.length;++s)u[s].callback===I&&u.splice(s,1)}return U},fire:function(f){var I=l[f];if(!I)return U;var L;arguments.length>1&&(L=Array.prototype.splice.call(arguments,1));for(var d=0;d<I.length;++d){var u=I[d];u.callback.apply(u.ctx,L)}return U}}}function V7(U){if(!U)throw new Error("Eventify cannot use falsy object as events subject");for(var l=["on","fire","off"],f=0;f<l.length;++f)if(U.hasOwnProperty(l[f]))throw new Error("Subject cannot be eventified, since it already has property '"+l[f]+"'")}var W7=G7;function G7(U,l,f){typeof f!="object"&&(f={});var I=typeof f.minVelocity=="number"?f.minVelocity:5,L=typeof f.amplitude=="number"?f.amplitude:.25,d=typeof f.cancelAnimationFrame=="function"?f.cancelAnimationFrame:X7(),u=typeof f.requestAnimationFrame=="function"?f.requestAnimationFrame:Z7(),s,n,m=342,g,y,k,E,C,v,h,a;return{start:_,stop:P,cancel:O};function O(){d(g),d(a)}function _(){s=U(),E=h=y=C=0,n=new Date,d(g),d(a),g=u(M)}function M(){var $=Date.now(),F=$-n;n=$;var j=U(),X=j.x-s.x,W=j.y-s.y;s=j;var V=1e3/(1+F);y=.8*X*V+.2*y,C=.8*W*V+.2*C,g=u(M)}function P(){d(g),d(a);var $=U();k=$.x,v=$.y,n=Date.now(),(y<-I||y>I)&&(E=L*y,k+=E),(C<-I||C>I)&&(h=L*C,v+=h),a=u(R)}function R(){var $=Date.now()-n,F=!1,j=0,X=0;E&&(j=-E*Math.exp(-$/m),j>.5||j<-.5?F=!0:j=E=0),h&&(X=-h*Math.exp(-$/m),X>.5||X<-.5?F=!0:X=h=0),F&&(l(k+j,v+X),a=u(R))}}function X7(){return typeof cancelAnimationFrame=="function"?cancelAnimationFrame:clearTimeout}function Z7(){return typeof requestAnimationFrame=="function"?requestAnimationFrame:function(U){return setTimeout(U,16)}}var K7=J7;function J7(U){if(U)return{capture:a6,release:a6};var l,f,I,L=!1;return{capture:d,release:u};function d(s){L=!0,f=window.document.onselectstart,I=window.document.ondragstart,window.document.onselectstart=o6,l=s,l.ondragstart=o6}function u(){L&&(L=!1,window.document.onselectstart=f,l&&(l.ondragstart=I))}}function o6(U){return U.stopPropagation(),!1}function a6(){}var $3,s6;function Q7(){if(s6)return $3;s6=1,$3=U;function U(){this.x=0,this.y=0,this.scale=1}return $3}var Wx={exports:{}},c6;function tC(){if(c6)return Wx.exports;c6=1,Wx.exports=U,Wx.exports.canAttach=l;function U(f,I){if(!l(f))throw new Error("svg element is required for svg.panzoom to work");var L=f.ownerSVGElement;if(!L)throw new Error("Do not apply panzoom to the root <svg> element. Use its child instead (e.g. <g></g>). As of March 2016 only FireFox supported transform on the root element");I.disableKeyboardInteraction||L.setAttribute("tabindex",0);var d={getBBox:s,getScreenCTM:n,getOwner:u,applyTransform:g,initTransform:m};return d;function u(){return L}function s(){var y=f.getBBox();return{left:y.x,top:y.y,width:y.width,height:y.height}}function n(){var y=L.getCTM();return y||L.getScreenCTM()}function m(y){var k=f.getCTM();k===null&&(k=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix()),y.x=k.e,y.y=k.f,y.scale=k.a,L.removeAttributeNS(null,"viewBox")}function g(y){f.setAttribute("transform","matrix("+y.scale+" 0 0 "+y.scale+" "+y.x+" "+y.y+")")}}function l(f){return f&&f.ownerSVGElement&&f.getCTM}return Wx.exports}var Gx={exports:{}},l6;function eC(){if(l6)return Gx.exports;l6=1,Gx.exports=U,Gx.exports.canAttach=l;function U(f,I){var L=l(f);if(!L)throw new Error("panzoom requires DOM element to be attached to the DOM tree");var d=f.parentElement;f.scrollTop=0,I.disableKeyboardInteraction||d.setAttribute("tabindex",0);var u={getBBox:n,getOwner:s,applyTransform:m};return u;function s(){return d}function n(){return{left:0,top:0,width:f.clientWidth,height:f.clientHeight}}function m(g){f.style.transformOrigin="0 0 0",f.style.transform="matrix("+g.scale+", 0, 0, "+g.scale+", "+g.x+", "+g.y+")"}}function l(f){return f&&f.parentElement&&f.style}return Gx.exports}var u6=O7,q3=$7,nC=q7,rC=W7,h6=K7,iC=h6(),oC=h6(!0),aC=Q7(),d6=tC(),f6=eC(),sC=1,cC=1.75,p6=300,g6=200,lC=m6;function m6(U,l){l=l||{};var f=l.controller;if(f||(d6.canAttach(U)?f=d6(U,l):f6.canAttach(U)&&(f=f6(U,l))),!f)throw new Error("Cannot create panzoom for the current type of dom element");var I=f.getOwner(),L={x:0,y:0},d=!1,u=new aC;f.initTransform&&f.initTransform(u);var s=typeof l.filterKey=="function"?l.filterKey:ky,n=typeof l.pinchSpeed=="number"?l.pinchSpeed:1,m=l.bounds,g=typeof l.maxZoom=="number"?l.maxZoom:Number.POSITIVE_INFINITY,y=typeof l.minZoom=="number"?l.minZoom:0,k=typeof l.boundsPadding=="number"?l.boundsPadding:.05,E=typeof l.zoomDoubleClickSpeed=="number"?l.zoomDoubleClickSpeed:cC,C=l.beforeWheel||ky,v=l.beforeMouseDown||ky,h=typeof l.zoomSpeed=="number"?l.zoomSpeed:sC,a=y6(l.transformOrigin),O=l.enableTextSelection?oC:iC;uC(m),l.autocenter&&ne();var _,M=0,P=0,R=0,$=null,F=new Date,j,X=!1,W=!1,V,K,st,it,pt,ct;"smoothScroll"in l&&!l.smoothScroll?ct=hC():ct=rC(qt,we,l.smoothScroll);var lt,J,Bt,Tt=!1;We();var Ct={dispose:Ue,moveBy:Te,moveTo:Nt,smoothMoveTo:Se,centerOn:Ht,zoomTo:_r,zoomAbs:he,smoothZoom:vr,smoothZoomAbs:Zr,showRectangle:mt,pause:kt,resume:xt,isPaused:Pt,getTransform:Qt,getMinZoom:Kt,setMinZoom:Xt,getMaxZoom:se,setMaxZoom:ue,getTransformOrigin:re,setTransformOrigin:_t,getZoomSpeed:ut,setZoomSpeed:Mt};nC(Ct);var St=typeof l.initialX=="number"?l.initialX:u.x,at=typeof l.initialY=="number"?l.initialY:u.y,yt=typeof l.initialZoom=="number"?l.initialZoom:u.scale;return(St!=u.x||at!=u.y||yt!=u.scale)&&he(St,at,yt),Ct;function kt(){De(),Tt=!0}function xt(){Tt&&(We(),Tt=!1)}function Pt(){return Tt}function mt(En){var Yn=I.getBoundingClientRect(),Un=Yt(Yn.width,Yn.height),qn=En.right-En.left,Lr=En.bottom-En.top;if(!Number.isFinite(qn)||!Number.isFinite(Lr))throw new Error("Invalid rectangle");var Ar=Un.x/qn,wr=Un.y/Lr,ei=Math.min(Ar,wr);u.x=-(En.left+qn/2)*ei+Un.x/2,u.y=-(En.top+Lr/2)*ei+Un.y/2,u.scale=ei}function Yt(En,Yn){if(f.getScreenCTM){var Un=f.getScreenCTM(),qn=Un.a,Lr=Un.d,Ar=Un.e,wr=Un.f;L.x=En*qn-Ar,L.y=Yn*Lr-wr}else L.x=En,L.y=Yn;return L}function ne(){var En,Yn,Un=0,qn=0,Lr=Wt();if(Lr)Un=Lr.left,qn=Lr.top,En=Lr.right-Lr.left,Yn=Lr.bottom-Lr.top;else{var Ar=I.getBoundingClientRect();En=Ar.width,Yn=Ar.height}var wr=f.getBBox();if(!(wr.width===0||wr.height===0)){var ei=Yn/wr.height,vi=En/wr.width,bi=Math.min(vi,ei);u.x=-(wr.left+wr.width/2)*bi+En/2+Un,u.y=-(wr.top+wr.height/2)*bi+Yn/2+qn,u.scale=bi}}function Qt(){return u}function Kt(){return y}function Xt(En){y=En}function se(){return g}function ue(En){g=En}function re(){return a}function _t(En){a=y6(En)}function ut(){return h}function Mt(En){if(!Number.isFinite(En))throw new Error("Zoom speed should be a number");h=En}function qt(){return{x:u.x,y:u.y}}function Nt(En,Yn){u.x=En,u.y=Yn,Ut(),kr("pan"),ee()}function Vt(En,Yn){Nt(u.x+En,u.y+Yn)}function Ut(){var En=Wt();if(En){var Yn=!1,Un=Ft(),qn=En.left-Un.right;return qn>0&&(u.x+=qn,Yn=!0),qn=En.right-Un.left,qn<0&&(u.x+=qn,Yn=!0),qn=En.top-Un.bottom,qn>0&&(u.y+=qn,Yn=!0),qn=En.bottom-Un.top,qn<0&&(u.y+=qn,Yn=!0),Yn}}function Wt(){if(m){if(typeof m=="boolean"){var En=I.getBoundingClientRect(),Yn=En.width,Un=En.height;return{left:Yn*k,top:Un*k,right:Yn*(1-k),bottom:Un*(1-k)}}return m}}function Ft(){var En=f.getBBox(),Yn=jt(En.left,En.top);return{left:Yn.x,top:Yn.y,right:En.width*u.scale+Yn.x,bottom:En.height*u.scale+Yn.y}}function jt(En,Yn){return{x:En*u.scale+u.x,y:Yn*u.scale+u.y}}function ee(){d=!0,_=window.requestAnimationFrame(me)}function Lt(En,Yn,Un){if(Y3(En)||Y3(Yn)||Y3(Un))throw new Error("zoom requires valid numbers");var qn=u.scale*Un;if(qn<y){if(u.scale===y)return;Un=y/u.scale}if(qn>g){if(u.scale===g)return;Un=g/u.scale}var Lr=Yt(En,Yn);if(u.x=Lr.x-Un*(Lr.x-u.x),u.y=Lr.y-Un*(Lr.y-u.y),m&&k===1&&y===1)u.scale*=Un,Ut();else{var Ar=Ut();Ar||(u.scale*=Un)}kr("zoom"),ee()}function he(En,Yn,Un){var qn=Un/u.scale;Lt(En,Yn,qn)}function Ht(En){var Yn=En.ownerSVGElement;if(!Yn)throw new Error("ui element is required to be within the scene");var Un=En.getBoundingClientRect(),qn=Un.left+Un.width/2,Lr=Un.top+Un.height/2,Ar=Yn.getBoundingClientRect(),wr=Ar.width/2-qn,ei=Ar.height/2-Lr;Te(wr,ei,!0)}function Se(En,Yn){Te(En-u.x,Yn-u.y,!0)}function Te(En,Yn,Un){if(!Un)return Vt(En,Yn);lt&&lt.cancel();var qn={x:0,y:0},Lr={x:En,y:Yn},Ar=0,wr=0;lt=q3(qn,Lr,{step:function(ei){Vt(ei.x-Ar,ei.y-wr),Ar=ei.x,wr=ei.y}})}function we(En,Yn){Hr(),Nt(En,Yn)}function Ue(){De()}function We(){I.addEventListener("mousedown",yn,{passive:!1}),I.addEventListener("dblclick",on,{passive:!1}),I.addEventListener("touchstart",He,{passive:!1}),I.addEventListener("keydown",Pe,{passive:!1}),u6.addWheelListener(I,Fr,{passive:!1}),ee()}function De(){u6.removeWheelListener(I,Fr),I.removeEventListener("mousedown",yn),I.removeEventListener("keydown",Pe),I.removeEventListener("dblclick",on),I.removeEventListener("touchstart",He),_&&(window.cancelAnimationFrame(_),_=0),ct.cancel(),Fn(),ke(),O.release(),mr()}function me(){d&&Oe()}function Oe(){d=!1,f.applyTransform(u),kr("transform"),_=0}function Pe(En){var Yn=0,Un=0,qn=0;if(En.keyCode===38?Un=1:En.keyCode===40?Un=-1:En.keyCode===37?Yn=1:En.keyCode===39?Yn=-1:En.keyCode===189||En.keyCode===109?qn=1:(En.keyCode===187||En.keyCode===107)&&(qn=-1),!s(En,Yn,Un,qn)){if(Yn||Un){En.preventDefault(),En.stopPropagation();var Lr=I.getBoundingClientRect(),Ar=Math.min(Lr.width,Lr.height),wr=.05,ei=Ar*wr*Yn,vi=Ar*wr*Un;Te(ei,vi)}if(qn){var bi=Tr(qn*100),Ar=a?jr():ze();_r(Ar.x,Ar.y,bi)}}}function ze(){var En=I.getBoundingClientRect();return{x:En.width/2,y:En.height/2}}function He(En){if(dn(En),Bn(),En.touches.length===1)return Kn(En,En.touches[0]);En.touches.length===2&&(pt=sn(En.touches[0],En.touches[1]),Bt=!0,an())}function dn(En){l.onTouch&&!l.onTouch(En)||(En.stopPropagation(),En.preventDefault())}function Mn(En){Bn(),!(l.onDoubleClick&&!l.onDoubleClick(En))&&(En.preventDefault(),En.stopPropagation())}function Kn(En){P=new Date;var Yn=En.touches[0],Un=Ye(Yn);j=Un;var qn=Yt(Un.x,Un.y);V=qn.x,K=qn.y,st=V,it=K,ct.cancel(),an()}function an(){X||(X=!0,document.addEventListener("touchmove",mn),document.addEventListener("touchend",$n),document.addEventListener("touchcancel",$n))}function mn(En){if(En.touches.length===1){En.stopPropagation();var Yn=En.touches[0],Un=Ye(Yn),qn=Yt(Un.x,Un.y),Lr=qn.x-V,Ar=qn.y-K;Lr!==0&&Ar!==0&&br(),V=qn.x,K=qn.y,Te(Lr,Ar)}else if(En.touches.length===2){Bt=!0;var wr=En.touches[0],ei=En.touches[1],vi=sn(wr,ei),bi=1+(vi/pt-1)*n,oo=Ye(wr),ci=Ye(ei);if(V=(oo.x+ci.x)/2,K=(oo.y+ci.y)/2,a){var Un=jr();V=Un.x,K=Un.y}_r(V,K,bi),pt=vi,En.stopPropagation(),En.preventDefault()}}function Bn(){R&&(clearTimeout(R),R=0)}function Rn(En){if(l.onClick){Bn();var Yn=V-st,Un=K-it,qn=Math.sqrt(Yn*Yn+Un*Un);qn>5||(R=setTimeout(function(){R=0,l.onClick(En)},p6))}}function $n(En){if(Bn(),En.touches.length>0){var Yn=Ye(En.touches[0]),Un=Yt(Yn.x,Yn.y);V=Un.x,K=Un.y}else{var qn=new Date;if(qn-M<p6)if(a){var Yn=jr();vr(Yn.x,Yn.y,E)}else vr(j.x,j.y,E);else qn-P<g6&&Rn(En);M=qn,mr(),ke()}}function sn(En,Yn){var Un=En.clientX-Yn.clientX,qn=En.clientY-Yn.clientY;return Math.sqrt(Un*Un+qn*qn)}function on(En){Mn(En);var Yn=Ye(En);a&&(Yn=jr()),vr(Yn.x,Yn.y,E)}function yn(En){if(Bn(),!v(En)){if($=En,F=new Date,X)return En.stopPropagation(),!1;var Yn=En.button===1&&window.event!==null||En.button===0;if(Yn){ct.cancel();var Un=Ye(En),qn=Yt(Un.x,Un.y);return st=V=qn.x,it=K=qn.y,document.addEventListener("mousemove",Sn),document.addEventListener("mouseup",Ge),O.capture(En.target||En.srcElement),!1}}}function Sn(En){if(!X){br();var Yn=Ye(En),Un=Yt(Yn.x,Yn.y),qn=Un.x-V,Lr=Un.y-K;V=Un.x,K=Un.y,Te(qn,Lr)}}function Ge(){var En=new Date;En-F<g6&&Rn($),O.release(),mr(),Fn()}function Fn(){document.removeEventListener("mousemove",Sn),document.removeEventListener("mouseup",Ge),W=!1}function ke(){document.removeEventListener("touchmove",mn),document.removeEventListener("touchend",$n),document.removeEventListener("touchcancel",$n),W=!1,Bt=!1,X=!1}function Fr(En){if(!C(En)){ct.cancel();var Yn=En.deltaY;En.deltaMode>0&&(Yn*=100);var Un=Tr(Yn);if(Un!==1){var qn=a?jr():Ye(En);_r(qn.x,qn.y,Un),En.preventDefault()}}}function Ye(En){var Yn,Un,qn=I.getBoundingClientRect();return Yn=En.clientX-qn.left,Un=En.clientY-qn.top,{x:Yn,y:Un}}function vr(En,Yn,Un){var qn=u.scale,Lr={scale:qn},Ar={scale:Un*qn};ct.cancel(),Hr(),J=q3(Lr,Ar,{step:function(wr){he(En,Yn,wr.scale)},done:xr})}function Zr(En,Yn,Un){var qn=u.scale,Lr={scale:qn},Ar={scale:Un};ct.cancel(),Hr(),J=q3(Lr,Ar,{step:function(wr){he(En,Yn,wr.scale)}})}function jr(){var En=I.getBoundingClientRect();return{x:En.width*a.x,y:En.height*a.y}}function _r(En,Yn,Un){return ct.cancel(),Hr(),Lt(En,Yn,Un)}function Hr(){J&&(J.cancel(),J=null)}function Tr(En){var Yn=Math.sign(En),Un=Math.min(.25,Math.abs(h*En/128));return 1-Yn*Un}function br(){W||(kr("panstart"),W=!0,ct.start())}function mr(){W&&(Bt||ct.stop(),kr("panend"))}function xr(){kr("zoomend")}function kr(En){Ct.fire(En,Ct)}}function y6(U){if(U){if(typeof U=="object")return(!Cy(U.x)||!Cy(U.y))&&v6(U),U;v6()}}function v6(U){throw console.error(U),new Error(["Cannot parse transform origin.","Some good examples:",'  "center center" can be achieved with {x: 0.5, y: 0.5}','  "top center" can be achieved with {x: 0.5, y: 0}','  "bottom right" can be achieved with {x: 1, y: 1}'].join(`
`))}function ky(){}function uC(U){var l=typeof U;if(!(l==="undefined"||l==="boolean")){var f=Cy(U.left)&&Cy(U.top)&&Cy(U.bottom)&&Cy(U.right);if(!f)throw new Error("Bounds object is not valid. It can be: undefined, boolean (true|false) or an object {left, top, right, bottom}")}}function Cy(U){return Number.isFinite(U)}function Y3(U){return Number.isNaN?Number.isNaN(U):U!==U}function hC(){return{start:ky,stop:ky,cancel:ky}}function dC(){if(typeof document=="undefined")return;var U=document.getElementsByTagName("script");if(!U)return;for(var l,f=0;f<U.length;++f){var I=U[f];if(I.src&&I.src.match(/\bpanzoom(\.min)?\.js/)){l=I;break}}if(!l)return;var L=l.getAttribute("query");if(!L)return;var d=l.getAttribute("name")||"pz",u=Date.now();s();function s(){var g=document.querySelector(L);if(!g){var y=Date.now(),k=y-u;if(k<2e3){setTimeout(s,100);return}console.error("Cannot find the panzoom element",d);return}var E=n(l);console.log(E),window[d]=m6(g,E)}function n(g){for(var y=g.attributes,k={},E=0;E<y.length;++E){var C=y[E],v=m(C);v&&(k[v.name]=v.value)}return k}function m(g){if(g.name){var y=g.name[0]==="p"&&g.name[1]==="z"&&g.name[2]==="-";if(y){var k=g.name.substr(3),E=JSON.parse(g.value);return{name:k,value:E}}}}}dC();const fC=mc(lC),Cs={CanvasWrapper:"_CanvasWrapper_qglui_1",SelectedArea:"_SelectedArea_qglui_7",Canvas:"_Canvas_qglui_1",CanvasCommands:"_CanvasCommands_qglui_33",CanvasCommandsDisabled:"_CanvasCommandsDisabled_qglui_48",CanvasCommand:"_CanvasCommand_qglui_33",CanvasCommandsEnabled:"_CanvasCommandsEnabled_qglui_59",CanvasModal:"_CanvasModal_qglui_71"},IT="",pC=ja("<button>"),sl=U=>{const[l,f]=zx(U,["variant","classList"]);return(()=>{const I=pC();return ff(I,Oh(f,{get classList(){var L,d;return Oh((L=l.classList)!=null?L:{},{"sb-button":!0,[(d=l.variant)!=null?d:"primary"]:!0})}}),!1,!1),I})()},gC=ja('<svg stroke-width="0"></svg>',2),mC=ja("<title></title>",2);function Mh(U,l){const f=Oh(U.a,l),[I,L]=zx(f,["src"]);return(()=>{const d=gC.cloneNode(!0);return ff(d,Oh({get stroke(){return U.a.stroke},get color(){return l.color||"currentColor"},get style(){return dd(ks({},l.style),{overflow:"visible"})}},L,{get height(){return l.size||"1em"},get width(){return l.size||"1em"},get innerHTML(){return U.c},xmlns:"http://www.w3.org/2000/svg"}),!0,!0),Di(d,()=>C7,null),Di(d,(()=>{const u=gc(()=>!!l.title);return()=>u()&&(()=>{const s=mC.cloneNode(!0);return Di(s,()=>l.title),s})()})(),null),d})()}function b6(U){return Mh({a:{viewBox:"0 0 1024 1024"},c:'<path d="M396 512a112 112 0 1 0 224 0 112 112 0 1 0-224 0zm546.2-25.8C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 0 0 0 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM508 688c-97.2 0-176-78.8-176-176s78.8-176 176-176 176 78.8 176 176-78.8 176-176 176z"/>'},U)}function yC(U){return Mh({a:{viewBox:"0 0 1024 1024"},c:'<path d="M512.5 390.6c-29.9 0-57.9 11.6-79.1 32.8-21.1 21.2-32.8 49.2-32.8 79.1 0 29.9 11.7 57.9 32.8 79.1 21.2 21.1 49.2 32.8 79.1 32.8 29.9 0 57.9-11.7 79.1-32.8 21.1-21.2 32.8-49.2 32.8-79.1 0-29.9-11.7-57.9-32.8-79.1a110.96 110.96 0 0 0-79.1-32.8zm412.3 235.5-65.4-55.9c3.1-19 4.7-38.4 4.7-57.7s-1.6-38.8-4.7-57.7l65.4-55.9a32.03 32.03 0 0 0 9.3-35.2l-.9-2.6a442.5 442.5 0 0 0-79.6-137.7l-1.8-2.1a32.12 32.12 0 0 0-35.1-9.5l-81.2 28.9c-30-24.6-63.4-44-99.6-57.5l-15.7-84.9a32.05 32.05 0 0 0-25.8-25.7l-2.7-.5c-52-9.4-106.8-9.4-158.8 0l-2.7.5a32.05 32.05 0 0 0-25.8 25.7l-15.8 85.3a353.44 353.44 0 0 0-98.9 57.3l-81.8-29.1a32 32 0 0 0-35.1 9.5l-1.8 2.1a445.93 445.93 0 0 0-79.6 137.7l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.2 56.5c-3.1 18.8-4.6 38-4.6 57 0 19.2 1.5 38.4 4.6 57l-66 56.5a32.03 32.03 0 0 0-9.3 35.2l.9 2.6c18.1 50.3 44.8 96.8 79.6 137.7l1.8 2.1a32.12 32.12 0 0 0 35.1 9.5l81.8-29.1c29.8 24.5 63 43.9 98.9 57.3l15.8 85.3a32.05 32.05 0 0 0 25.8 25.7l2.7.5a448.27 448.27 0 0 0 158.8 0l2.7-.5a32.05 32.05 0 0 0 25.8-25.7l15.7-84.9c36.2-13.6 69.6-32.9 99.6-57.5l81.2 28.9a32 32 0 0 0 35.1-9.5l1.8-2.1c34.8-41.1 61.5-87.4 79.6-137.7l.9-2.6c4.3-12.4.6-26.3-9.5-35zm-412.3 52.2c-97.1 0-175.8-78.7-175.8-175.8s78.7-175.8 175.8-175.8 175.8 78.7 175.8 175.8-78.7 175.8-175.8 175.8z"/>'},U)}function x6(U){return Mh({a:{viewBox:"0 0 1024 1024"},c:'<path d="M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h360c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H184V184h656v320c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V144c0-17.7-14.3-32-32-32zM653.3 599.4l52.2-52.2a8.01 8.01 0 0 0-4.7-13.6l-179.4-21c-5.1-.6-9.5 3.7-8.9 8.9l21 179.4c.8 6.6 8.9 9.4 13.6 4.7l52.4-52.4 256.2 256.2c3.1 3.1 8.2 3.1 11.3 0l42.4-42.4c3.1-3.1 3.1-8.2 0-11.3L653.3 599.4z"/>'},U)}function vC(U){return Mh({a:{viewBox:"0 0 24 24"},c:'<path d="M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm1 16h-2v-2h2v2zm.976-4.885c-.196.158-.385.309-.535.459-.408.407-.44.777-.441.793v.133h-2v-.167c0-.118.029-1.177 1.026-2.174.195-.195.437-.393.691-.599.734-.595 1.216-1.029 1.216-1.627a1.934 1.934 0 0 0-3.867.001h-2C8.066 7.765 9.831 6 12 6s3.934 1.765 3.934 3.934c0 1.597-1.179 2.55-1.958 3.181z"/>'},U)}function w6(U){return Mh({a:{viewBox:"0 0 24 24"},c:'<path d="M6 7H5v13a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V7H6zm4 12H8v-9h2v9zm6 0h-2v-9h2v9zm.618-15L15 2H9L7.382 4H3v2h18V4z"/>'},U)}function _6(U){return Mh({a:{viewBox:"0 0 512 512"},c:'<path d="M278.6 9.4c-12.5-12.5-32.8-12.5-45.3 0l-64 64c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l9.4-9.4V224H109.3l9.4-9.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-64 64c-12.5 12.5-12.5 32.8 0 45.3l64 64c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-9.4-9.4H224v114.8l-9.4-9.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l64 64c12.5 12.5 32.8 12.5 45.3 0l64-64c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-9.4 9.4V288h114.8l-9.4 9.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l64-64c12.5-12.5 12.5-32.8 0-45.3l-64-64c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l9.4 9.4H288V109.3l9.4 9.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-64-64z"/>'},U)}function k6(U){return Mh({a:{viewBox:"0 0 448 512"},c:'<path d="M135.2 17.7 128 32H32C14.3 32 0 46.3 0 64s14.3 32 32 32h384c17.7 0 32-14.3 32-32s-14.3-32-32-32h-96l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32l21.2 339c1.6 25.3 22.6 45 47.9 45h245.8c25.3 0 46.3-19.7 47.9-45L416 128z"/>'},U)}function C6(U){return Mh({a:{viewBox:"0 0 512 512"},c:'<rect width="112" height="112" x="48" y="48" rx="8" ry="8"/><rect width="112" height="112" x="200" y="48" rx="8" ry="8"/><rect width="112" height="112" x="352" y="48" rx="8" ry="8"/><rect width="112" height="112" x="48" y="200" rx="8" ry="8"/><rect width="112" height="112" x="200" y="200" rx="8" ry="8"/><rect width="112" height="112" x="352" y="200" rx="8" ry="8"/><rect width="112" height="112" x="48" y="352" rx="8" ry="8"/><rect width="112" height="112" x="200" y="352" rx="8" ry="8"/><rect width="112" height="112" x="352" y="352" rx="8" ry="8"/>'},U)}function bC(U){return Mh({a:{viewBox:"0 0 16 16"},c:'<path d="M8 1a7.979 7.979 0 0 0-5.657 2.343L0 1v6h6L3.757 4.757a6 6 0 1 1 8.211 8.743l1.323 1.5A8 8 0 0 0 8 1z"/>'},U)}function xC(U){return Mh({a:{viewBox:"0 0 16 16"},c:'<path d="M0 9a7.982 7.982 0 0 0 2.709 6l1.323-1.5a6 6 0 1 1 8.212-8.743L10.001 7h6V1l-2.343 2.343A8 8 0 0 0 .001 9z"/>'},U)}const NT="",Xx=(U,l,f=[],I=[])=>{if(U){if(Array.isArray(U))U.forEach(L=>Xx(L,l,f,I));else if(typeof U=="function")Xx(U.apply(null,f),l,f,I);else{const L=U;(!l||(typeof l=="function"?l(L):L.nodeName===l))&&I.push(L)}return I}},V3=ja("<div>"),wC=ja("<header>"),_C=ja("<main>"),kC=ja("<footer>");let W3=0;const G3=U=>{const[l,f]=zx(U,["open","noPortal","children"]),[I,L]=wp(l.open);z0(()=>{var y;I()===!1&&((y=U.onClose)==null||y.call(U)),console.log("popup is",I())});const d=g=>{L(typeof g=="boolean"?g:y=>!y)},u=gc(()=>{var g;return(g=Xx(l.children,y=>y.className.indexOf("sb-modal-content")!==-1,[{open:I,toggle:d}]))!=null?g:[]}),s=gc(()=>Xx(l.children,g=>g.className.indexOf("sb-modal-content")===-1,[{open:I,toggle:d}]));let n;z0(()=>I()&&(n==null||n.focus(),n==null?void 0:n.scrollIntoView())),W3++,z0(()=>{if(!n)return;const g=n.querySelector(".sb-modal-header");g&&n.setAttribute("aria-labelledby",g.id||(()=>g.id=`sb-modal-header-${W3}`)());const y=n.querySelector(".sb-modal-body");y&&n.setAttribute("aria-describedby",y.id||(()=>y.id=`sb-modal-body-${W3}`)())});const m=Oh(f,{role:"dialog",tabIndex:-1,style:{"--sb-modal-width":U.width||"unset"},class:U.class?`sb-modal ${U.class}`:"sb-modal",children:u(),onClick:gc(()=>U.closeOnClickOutside?g=>{const y=g.target;u().some(k=>k==null?void 0:k.contains(y))||d(!1)}:void 0)(),onkeyup:gc(()=>U.closeOnEsc!==!1?g=>{g.key==="Escape"&&!g.defaultPrevented&&d(!1)}:void 0)()});return gr(s7,{get children(){return[gr(U3,{get when(){return!I()},get children(){return s()}}),gr(U3,{get when(){return I()&&l.noPortal},get children(){return[gc(s),(()=>{const g=V3(),y=n;return typeof y=="function"?Ig(y,g):n=g,ff(g,m,!1,!1),g})()]}}),gr(U3,{get when(){return I()&&!l.noPortal},get children(){return[gc(s),gr(T7,{get mount(){return window.DMBRoot.body||window.DMBRoot},get children(){const g=V3(),y=n;return typeof y=="function"?Ig(y,g):n=g,ff(g,m,!1,!1),g}})]}})]}})},X3=U=>(()=>{const l=V3();return ff(l,Oh(U,{get class(){return U.class?`sb-modal-content ${U.class}`:"sb-modal-content"}}),!1,!1),l})(),Z3=U=>(()=>{const l=wC();return ff(l,Oh(U,{get class(){return U.class?`sb-modal-header ${U.class}`:"sb-modal-header"}}),!1,!1),l})(),K3=U=>(()=>{const l=_C();return ff(l,Oh(U,{get class(){return U.class?`sb-modal-body ${U.class}`:"sb-modal-body"}}),!1,!1),l})(),J3=U=>(()=>{const l=kC();return ff(l,Oh(U,{get class(){return U.class?`sb-modal-footer ${U.class}`:"sb-modal-footer"}}),!1,!1),l})();var Zx={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Zx.exports,function(U,l){(function(){var f,I="4.17.21",L=200,d="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",s="Invalid `variable` option passed into `_.template`",n="__lodash_hash_undefined__",m=500,g="__lodash_placeholder__",y=1,k=2,E=4,C=1,v=2,h=1,a=2,O=4,_=8,M=16,P=32,R=64,$=128,F=256,j=512,X=30,W="...",V=800,K=16,st=1,it=2,pt=3,ct=1/0,lt=9007199254740991,J=17976931348623157e292,Bt=0/0,Tt=4294967295,Ct=Tt-1,St=Tt>>>1,at=[["ary",$],["bind",h],["bindKey",a],["curry",_],["curryRight",M],["flip",j],["partial",P],["partialRight",R],["rearg",F]],yt="[object Arguments]",kt="[object Array]",xt="[object AsyncFunction]",Pt="[object Boolean]",mt="[object Date]",Yt="[object DOMException]",ne="[object Error]",Qt="[object Function]",Kt="[object GeneratorFunction]",Xt="[object Map]",se="[object Number]",ue="[object Null]",re="[object Object]",_t="[object Promise]",ut="[object Proxy]",Mt="[object RegExp]",qt="[object Set]",Nt="[object String]",Vt="[object Symbol]",Ut="[object Undefined]",Wt="[object WeakMap]",Ft="[object WeakSet]",jt="[object ArrayBuffer]",ee="[object DataView]",Lt="[object Float32Array]",he="[object Float64Array]",Ht="[object Int8Array]",Se="[object Int16Array]",Te="[object Int32Array]",we="[object Uint8Array]",Ue="[object Uint8ClampedArray]",We="[object Uint16Array]",De="[object Uint32Array]",me=/\b__p \+= '';/g,Oe=/\b(__p \+=) '' \+/g,Pe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ze=/&(?:amp|lt|gt|quot|#39);/g,He=/[&<>"']/g,dn=RegExp(ze.source),Mn=RegExp(He.source),Kn=/<%-([\s\S]+?)%>/g,an=/<%([\s\S]+?)%>/g,mn=/<%=([\s\S]+?)%>/g,Bn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Rn=/^\w*$/,$n=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,sn=/[\\^$.*+?()[\]{}|]/g,on=RegExp(sn.source),yn=/^\s+/,Sn=/\s/,Ge=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Fn=/\{\n\/\* \[wrapped with (.+)\] \*/,ke=/,? & /,Fr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ye=/[()=,{}\[\]\/\s]/,vr=/\\(\\)?/g,Zr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,jr=/\w*$/,_r=/^[-+]0x[0-9a-f]+$/i,Hr=/^0b[01]+$/i,Tr=/^\[object .+?Constructor\]$/,br=/^0o[0-7]+$/i,mr=/^(?:0|[1-9]\d*)$/,xr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,kr=/($^)/,En=/['\n\r\u2028\u2029\\]/g,Yn="\\ud800-\\udfff",Un="\\u0300-\\u036f",qn="\\ufe20-\\ufe2f",Lr="\\u20d0-\\u20ff",Ar=Un+qn+Lr,wr="\\u2700-\\u27bf",ei="a-z\\xdf-\\xf6\\xf8-\\xff",vi="\\xac\\xb1\\xd7\\xf7",bi="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",oo="\\u2000-\\u206f",ci=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Eo="A-Z\\xc0-\\xd6\\xd8-\\xde",xi="\\ufe0e\\ufe0f",Ro=vi+bi+oo+ci,To="['’]",wa="["+Yn+"]",sr="["+Ro+"]",Ss="["+Ar+"]",lo="\\d+",ul="["+wr+"]",vc="["+ei+"]",Ia="[^"+Yn+Ro+lo+wr+ei+Eo+"]",Cr="\\ud83c[\\udffb-\\udfff]",ki="(?:"+Ss+"|"+Cr+")",ii="[^"+Yn+"]",cr="(?:\\ud83c[\\udde6-\\uddff]){2}",Oi="[\\ud800-\\udbff][\\udc00-\\udfff]",$e="["+Eo+"]",Es="\\u200d",fn="(?:"+vc+"|"+Ia+")",ao="(?:"+$e+"|"+Ia+")",_a="(?:"+To+"(?:d|ll|m|re|s|t|ve))?",Na="(?:"+To+"(?:D|LL|M|RE|S|T|VE))?",ds=ki+"?",ra="["+xi+"]?",Us="(?:"+Es+"(?:"+[ii,cr,Oi].join("|")+")"+ra+ds+")*",Ni="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Do="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Zo=ra+ds+Us,fs="(?:"+[ul,cr,Oi].join("|")+")"+Zo,es="(?:"+[ii+Ss+"?",Ss,cr,Oi,wa].join("|")+")",Ts=RegExp(To,"g"),ui=RegExp(Ss,"g"),Ko=RegExp(Cr+"(?="+Cr+")|"+es+Zo,"g"),mo=RegExp([$e+"?"+vc+"+"+_a+"(?="+[sr,$e,"$"].join("|")+")",ao+"+"+Na+"(?="+[sr,$e+fn,"$"].join("|")+")",$e+"?"+fn+"+"+_a,$e+"+"+Na,Do,Ni,lo,fs].join("|"),"g"),Pa=RegExp("["+Es+Yn+Ar+xi+"]"),Tl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,hl=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],rn=-1,er={};er[Lt]=er[he]=er[Ht]=er[Se]=er[Te]=er[we]=er[Ue]=er[We]=er[De]=!0,er[yt]=er[kt]=er[jt]=er[Pt]=er[ee]=er[mt]=er[ne]=er[Qt]=er[Xt]=er[se]=er[re]=er[Mt]=er[qt]=er[Nt]=er[Wt]=!1;var Vn={};Vn[yt]=Vn[kt]=Vn[jt]=Vn[ee]=Vn[Pt]=Vn[mt]=Vn[Lt]=Vn[he]=Vn[Ht]=Vn[Se]=Vn[Te]=Vn[Xt]=Vn[se]=Vn[re]=Vn[Mt]=Vn[qt]=Vn[Nt]=Vn[Vt]=Vn[we]=Vn[Ue]=Vn[We]=Vn[De]=!0,Vn[ne]=Vn[Qt]=Vn[Wt]=!1;var wi={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},no={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Xr={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Fo={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Wa=parseFloat,Io=parseInt,ha=typeof vb=="object"&&vb&&vb.Object===Object&&vb,Ao=typeof self=="object"&&self&&self.Object===Object&&self,ia=ha||Ao||Function("return this")(),bc=l&&!l.nodeType&&l,dl=bc&&!0&&U&&!U.nodeType&&U,zo=dl&&dl.exports===bc,wu=zo&&ha.process,Oo=function(){try{var xn=dl&&dl.require&&dl.require("util").types;return xn||wu&&wu.binding&&wu.binding("util")}catch(Hn){}}(),xc=Oo&&Oo.isArrayBuffer,ir=Oo&&Oo.isDate,_u=Oo&&Oo.isMap,so=Oo&&Oo.isRegExp,$c=Oo&&Oo.isSet,Gl=Oo&&Oo.isTypedArray;function Ga(xn,Hn,In){switch(In.length){case 0:return xn.call(Hn);case 1:return xn.call(Hn,In[0]);case 2:return xn.call(Hn,In[0],In[1]);case 3:return xn.call(Hn,In[0],In[1],In[2])}return xn.apply(Hn,In)}function Xa(xn,Hn,In,Sr){for(var Wr=-1,uo=xn==null?0:xn.length;++Wr<uo;){var Uo=xn[Wr];Hn(Sr,Uo,In(Uo),xn)}return Sr}function Gi(xn,Hn){for(var In=-1,Sr=xn==null?0:xn.length;++In<Sr&&Hn(xn[In],In,xn)!==!1;);return xn}function qc(xn,Hn){for(var In=xn==null?0:xn.length;In--&&Hn(xn[In],In,xn)!==!1;);return xn}function ih(xn,Hn){for(var In=-1,Sr=xn==null?0:xn.length;++In<Sr;)if(!Hn(xn[In],In,xn))return!1;return!0}function Ra(xn,Hn){for(var In=-1,Sr=xn==null?0:xn.length,Wr=0,uo=[];++In<Sr;){var Uo=xn[In];Hn(Uo,In,xn)&&(uo[Wr++]=Uo)}return uo}function tc(xn,Hn){var In=xn==null?0:xn.length;return!!In&&Hs(xn,Hn,0)>-1}function ku(xn,Hn,In){for(var Sr=-1,Wr=xn==null?0:xn.length;++Sr<Wr;)if(In(Hn,xn[Sr]))return!0;return!1}function Vi(xn,Hn){for(var In=-1,Sr=xn==null?0:xn.length,Wr=Array(Sr);++In<Sr;)Wr[In]=Hn(xn[In],In,xn);return Wr}function Yc(xn,Hn){for(var In=-1,Sr=Hn.length,Wr=xn.length;++In<Sr;)xn[Wr+In]=Hn[In];return xn}function ns(xn,Hn,In,Sr){var Wr=-1,uo=xn==null?0:xn.length;for(Sr&&uo&&(In=xn[++Wr]);++Wr<uo;)In=Hn(In,xn[Wr],Wr,xn);return In}function yd(xn,Hn,In,Sr){var Wr=xn==null?0:xn.length;for(Sr&&Wr&&(In=xn[--Wr]);Wr--;)In=Hn(In,xn[Wr],Wr,xn);return In}function ka(xn,Hn){for(var In=-1,Sr=xn==null?0:xn.length;++In<Sr;)if(Hn(xn[In],In,xn))return!0;return!1}var oh=rs("length");function Al(xn){return xn.split("")}function ah(xn){return xn.match(Fr)||[]}function Da(xn,Hn,In){var Sr;return In(xn,function(Wr,uo,Uo){if(Hn(Wr,uo,Uo))return Sr=uo,!1}),Sr}function Ol(xn,Hn,In,Sr){for(var Wr=xn.length,uo=In+(Sr?1:-1);Sr?uo--:++uo<Wr;)if(Hn(xn[uo],uo,xn))return uo;return-1}function Hs(xn,Hn,In){return Hn===Hn?Cu(xn,Hn,In):Ol(xn,$s,In)}function jh(xn,Hn,In,Sr){for(var Wr=In-1,uo=xn.length;++Wr<uo;)if(Sr(xn[Wr],Hn))return Wr;return-1}function $s(xn){return xn!==xn}function wc(xn,Hn){var In=xn==null?0:xn.length;return In?is(xn,Hn)/In:Bt}function rs(xn){return function(Hn){return Hn==null?f:Hn[xn]}}function Xl(xn){return function(Hn){return xn==null?f:xn[Hn]}}function oa(xn,Hn,In,Sr,Wr){return Wr(xn,function(uo,Uo,vo){In=Sr?(Sr=!1,uo):Hn(In,uo,Uo,vo)}),In}function yo(xn,Hn){var In=xn.length;for(xn.sort(Hn);In--;)xn[In]=xn[In].value;return xn}function is(xn,Hn){for(var In,Sr=-1,Wr=xn.length;++Sr<Wr;){var uo=Hn(xn[Sr]);uo!==f&&(In=In===f?uo:In+uo)}return In}function Fa(xn,Hn){for(var In=-1,Sr=Array(xn);++In<xn;)Sr[In]=Hn(In);return Sr}function Wi(xn,Hn){return Vi(Hn,function(In){return[In,xn[In]]})}function Mi(xn){return xn&&xn.slice(0,bd(xn)+1).replace(yn,"")}function gt(xn){return function(Hn){return xn(Hn)}}function $t(xn,Hn){return Vi(Hn,function(In){return xn[In]})}function ce(xn,Hn){return xn.has(Hn)}function Me(xn,Hn){for(var In=-1,Sr=xn.length;++In<Sr&&Hs(Hn,xn[In],0)>-1;);return In}function cn(xn,Hn){for(var In=xn.length;In--&&Hs(Hn,xn[In],0)>-1;);return In}function Nn(xn,Hn){for(var In=xn.length,Sr=0;In--;)xn[In]===Hn&&++Sr;return Sr}var zn=Xl(wi),tr=Xl(no);function nr(xn){return"\\"+Fo[xn]}function lr(xn,Hn){return xn==null?f:xn[Hn]}function dr(xn){return Pa.test(xn)}function Vr(xn){return Tl.test(xn)}function Ir(xn){for(var Hn,In=[];!(Hn=xn.next()).done;)In.push(Hn.value);return In}function Ci(xn){var Hn=-1,In=Array(xn.size);return xn.forEach(function(Sr,Wr){In[++Hn]=[Wr,Sr]}),In}function $i(xn,Hn){return function(In){return xn(Hn(In))}}function _i(xn,Hn){for(var In=-1,Sr=xn.length,Wr=0,uo=[];++In<Sr;){var Uo=xn[In];(Uo===Hn||Uo===g)&&(xn[In]=g,uo[Wr++]=In)}return uo}function No(xn){var Hn=-1,In=Array(xn.size);return xn.forEach(function(Sr){In[++Hn]=Sr}),In}function Za(xn){var Hn=-1,In=Array(xn.size);return xn.forEach(function(Sr){In[++Hn]=[Sr,Sr]}),In}function Cu(xn,Hn,In){for(var Sr=In-1,Wr=xn.length;++Sr<Wr;)if(xn[Sr]===Hn)return Sr;return-1}function vd(xn,Hn,In){for(var Sr=In+1;Sr--;)if(xn[Sr]===Hn)return Sr;return Sr}function Ml(xn){return dr(xn)?Sp(xn):oh(xn)}function za(xn){return dr(xn)?Zl(xn):Al(xn)}function bd(xn){for(var Hn=xn.length;Hn--&&Sn.test(xn.charAt(Hn)););return Hn}var qs=Xl(Xr);function Sp(xn){for(var Hn=Ko.lastIndex=0;Ko.test(xn);)++Hn;return Hn}function Zl(xn){return xn.match(Ko)||[]}function Ih(xn){return xn.match(mo)||[]}var ec=function xn(Hn){Hn=Hn==null?ia:aa.defaults(ia.Object(),Hn,aa.pick(ia,hl));var In=Hn.Array,Sr=Hn.Date,Wr=Hn.Error,uo=Hn.Function,Uo=Hn.Math,vo=Hn.Object,ps=Hn.RegExp,gf=Hn.String,da=Hn.TypeError,fl=In.prototype,$0=uo.prototype,pl=vo.prototype,sh=Hn["__core-js_shared__"],nc=$0.toString,Xi=pl.hasOwnProperty,mf=0,Ho=function(){var S=/[^.]+$/.exec(sh&&sh.keys&&sh.keys.IE_PROTO||"");return S?"Symbol(src)_1."+S:""}(),Ll=pl.toString,Vc=nc.call(vo),xd=ia._,q0=ps("^"+nc.call(Xi).replace(sn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ch=zo?Hn.Buffer:f,gl=Hn.Symbol,yf=Hn.Uint8Array,os=ch?ch.allocUnsafe:f,Wc=$i(vo.getPrototypeOf,vo),Ys=vo.create,Kl=pl.propertyIsEnumerable,Gc=fl.splice,wd=gl?gl.isConcatSpreadable:f,$o=gl?gl.iterator:f,As=gl?gl.toStringTag:f,_d=function(){try{var S=Wh(vo,"defineProperty");return S({},"",{}),S}catch(D){}}(),_c=Hn.clearTimeout!==ia.clearTimeout&&Hn.clearTimeout,Su=Sr&&Sr.now!==ia.Date.now&&Sr.now,Jl=Hn.setTimeout!==ia.setTimeout&&Hn.setTimeout,Ql=Uo.ceil,tu=Uo.floor,Os=vo.getOwnPropertySymbols,lh=ch?ch.isBuffer:f,Xc=Hn.isFinite,Zc=fl.join,Bl=$i(vo.keys,vo),Ca=Uo.max,Jo=Uo.min,Ep=Sr.now,ml=Hn.parseInt,Eu=Uo.random,Y0=fl.reverse,rc=Wh(Hn,"DataView"),Tu=Wh(Hn,"Map"),eu=Wh(Hn,"Promise"),Au=Wh(Hn,"Set"),kd=Wh(Hn,"WeakMap"),yl=Wh(vo,"create"),nu=kd&&new kd,vl={},jl=hu(rc),kc=hu(Tu),ru=hu(eu),Nh=hu(Au),Cd=hu(kd),Ph=gl?gl.prototype:f,Rh=Ph?Ph.valueOf:f,uh=Ph?Ph.toString:f;function Ee(S){if(Ji(S)&&!yi(S)&&!(S instanceof Ti)){if(S instanceof Vs)return S;if(Xi.call(S,"__wrapped__"))return Fp(S)}return new Vs(S)}var bl=function(){function S(){}return function(D){if(!Ki(D))return{};if(Ys)return Ys(D);S.prototype=D;var vt=new S;return S.prototype=f,vt}}();function Sd(){}function Vs(S,D){this.__wrapped__=S,this.__actions__=[],this.__chain__=!!D,this.__index__=0,this.__values__=f}Ee.templateSettings={escape:Kn,evaluate:an,interpolate:mn,variable:"",imports:{_:Ee}},Ee.prototype=Sd.prototype,Ee.prototype.constructor=Ee,Vs.prototype=bl(Sd.prototype),Vs.prototype.constructor=Vs;function Ti(S){this.__wrapped__=S,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Tt,this.__views__=[]}function Ed(){var S=new Ti(this.__wrapped__);return S.__actions__=Oc(this.__actions__),S.__dir__=this.__dir__,S.__filtered__=this.__filtered__,S.__iteratees__=Oc(this.__iteratees__),S.__takeCount__=this.__takeCount__,S.__views__=Oc(this.__views__),S}function vf(){if(this.__filtered__){var S=new Ti(this);S.__dir__=-1,S.__filtered__=!0}else S=this.clone(),S.__dir__*=-1;return S}function Fg(){var S=this.__wrapped__.value(),D=this.__dir__,vt=yi(S),Jt=D<0,ge=vt?S.length:0,je=bh(0,ge,this.__views__),Ve=je.start,ln=je.end,Cn=ln-Ve,Xn=Jt?ln:Ve-1,Zn=this.__iteratees__,rr=Zn.length,Or=0,Yr=Jo(Cn,this.__takeCount__);if(!vt||!Jt&&ge==Cn&&Yr==Cn)return Dl(S,this.__actions__);var li=[];t:for(;Cn--&&Or<Yr;){Xn+=D;for(var Pi=-1,ai=S[Xn];++Pi<rr;){var Ri=Zn[Pi],Bi=Ri.iteratee,Js=Ri.type,xs=Bi(ai);if(Js==it)ai=xs;else if(!xs){if(Js==st)continue t;break t}}li[Or++]=ai}return li}Ti.prototype=bl(Sd.prototype),Ti.prototype.constructor=Ti;function hh(S){var D=-1,vt=S==null?0:S.length;for(this.clear();++D<vt;){var Jt=S[D];this.set(Jt[0],Jt[1])}}function Tp(){this.__data__=yl?yl(null):{},this.size=0}function dh(S){var D=this.has(S)&&delete this.__data__[S];return this.size-=D?1:0,D}function Ap(S){var D=this.__data__;if(yl){var vt=D[S];return vt===n?f:vt}return Xi.call(D,S)?D[S]:f}function Ou(S){var D=this.__data__;return yl?D[S]!==f:Xi.call(D,S)}function iu(S,D){var vt=this.__data__;return this.size+=this.has(S)?0:1,vt[S]=yl&&D===f?n:D,this}hh.prototype.clear=Tp,hh.prototype.delete=dh,hh.prototype.get=Ap,hh.prototype.has=Ou,hh.prototype.set=iu;function Ms(S){var D=-1,vt=S==null?0:S.length;for(this.clear();++D<vt;){var Jt=S[D];this.set(Jt[0],Jt[1])}}function V0(){this.__data__=[],this.size=0}function Cc(S){var D=this.__data__,vt=Uh(D,S);if(vt<0)return!1;var Jt=D.length-1;return vt==Jt?D.pop():Gc.call(D,vt,1),--this.size,!0}function Op(S){var D=this.__data__,vt=Uh(D,S);return vt<0?f:D[vt][1]}function Il(S){return Uh(this.__data__,S)>-1}function W0(S,D){var vt=this.__data__,Jt=Uh(vt,S);return Jt<0?(++this.size,vt.push([S,D])):vt[Jt][1]=D,this}Ms.prototype.clear=V0,Ms.prototype.delete=Cc,Ms.prototype.get=Op,Ms.prototype.has=Il,Ms.prototype.set=W0;function ou(S){var D=-1,vt=S==null?0:S.length;for(this.clear();++D<vt;){var Jt=S[D];this.set(Jt[0],Jt[1])}}function zg(){this.size=0,this.__data__={hash:new hh,map:new(Tu||Ms),string:new hh}}function Dh(S){var D=r1(this,S).delete(S);return this.size-=D?1:0,D}function Sc(S){return r1(this,S).get(S)}function au(S){return r1(this,S).has(S)}function bf(S,D){var vt=r1(this,S),Jt=vt.size;return vt.set(S,D),this.size+=vt.size==Jt?0:1,this}ou.prototype.clear=zg,ou.prototype.delete=Dh,ou.prototype.get=Sc,ou.prototype.has=au,ou.prototype.set=bf;function fa(S){var D=-1,vt=S==null?0:S.length;for(this.__data__=new ou;++D<vt;)this.add(S[D])}function G0(S){return this.__data__.set(S,n),this}function Fh(S){return this.__data__.has(S)}fa.prototype.add=fa.prototype.push=G0,fa.prototype.has=Fh;function Ua(S){var D=this.__data__=new Ms(S);this.size=D.size}function Mu(){this.__data__=new Ms,this.size=0}function Td(S){var D=this.__data__,vt=D.delete(S);return this.size=D.size,vt}function Ha(S){return this.__data__.get(S)}function fh(S){return this.__data__.has(S)}function Mp(S,D){var vt=this.__data__;if(vt instanceof Ms){var Jt=vt.__data__;if(!Tu||Jt.length<L-1)return Jt.push([S,D]),this.size=++vt.size,this;vt=this.__data__=new ou(Jt)}return vt.set(S,D),this.size=vt.size,this}Ua.prototype.clear=Mu,Ua.prototype.delete=Td,Ua.prototype.get=Ha,Ua.prototype.has=fh,Ua.prototype.set=Mp;function su(S,D){var vt=yi(S),Jt=!vt&&Ch(S),ge=!vt&&!Jt&&Nc(S),je=!vt&&!Jt&&!ge&&kl(S),Ve=vt||Jt||ge||je,ln=Ve?Fa(S.length,gf):[],Cn=ln.length;for(var Xn in S)(D||Xi.call(S,Xn))&&!(Ve&&(Xn=="length"||ge&&(Xn=="offset"||Xn=="parent")||je&&(Xn=="buffer"||Xn=="byteLength"||Xn=="byteOffset")||zl(Xn,Cn)))&&ln.push(Xn);return ln}function X0(S){var D=S.length;return D?S[qo(0,D-1)]:f}function zh(S,D){return ac(Oc(S),Ec(D,0,S.length))}function Lp(S){return ac(Oc(S))}function Kc(S,D,vt){(vt!==f&&!Is(S[D],vt)||vt===f&&!(D in S))&&ic(S,D,vt)}function Lu(S,D,vt){var Jt=S[D];(!(Xi.call(S,D)&&Is(Jt,vt))||vt===f&&!(D in S))&&ic(S,D,vt)}function Uh(S,D){for(var vt=S.length;vt--;)if(Is(S[vt][0],D))return vt;return-1}function ph(S,D,vt,Jt){return as(S,function(ge,je,Ve){D(Jt,ge,vt(ge),Ve)}),Jt}function Ad(S,D){return S&&Aa(D,Ma(D),S)}function cu(S,D){return S&&Aa(D,us(D),S)}function ic(S,D,vt){D=="__proto__"&&_d?_d(S,D,{configurable:!0,enumerable:!0,value:vt,writable:!0}):S[D]=vt}function gs(S,D){for(var vt=-1,Jt=D.length,ge=In(Jt),je=S==null;++vt<Jt;)ge[vt]=je?f:bm(S,D[vt]);return ge}function Ec(S,D,vt){return S===S&&(vt!==f&&(S=S<=vt?S:vt),D!==f&&(S=S>=D?S:D)),S}function Sa(S,D,vt,Jt,ge,je){var Ve,ln=D&y,Cn=D&k,Xn=D&E;if(vt&&(Ve=ge?vt(S,Jt,ge,je):vt(S)),Ve!==f)return Ve;if(!Ki(S))return S;var Zn=yi(S);if(Zn){if(Ve=Pp(S),!ln)return Oc(S,Ve)}else{var rr=bo(S),Or=rr==Qt||rr==Kt;if(Nc(S))return Hg(S,ln);if(rr==re||rr==yt||Or&&!ge){if(Ve=Cn||Or?{}:Rp(S),!ln)return Cn?Ny(S,cu(Ve,S)):Yg(S,Ad(Ve,S))}else{if(!Vn[rr])return ge?S:{};Ve=zy(S,rr,ln)}}je||(je=new Ua);var Yr=je.get(S);if(Yr)return Yr;je.set(S,Ve),F1(S)?S.forEach(function(ai){Ve.add(Sa(ai,D,vt,ai,S,je))}):Pc(S)&&S.forEach(function(ai,Ri){Ve.set(Ri,Sa(ai,D,vt,Ri,S,je))});var li=Xn?Cn?Of:Np:Cn?us:Ma,Pi=Zn?f:li(S);return Gi(Pi||S,function(ai,Ri){Pi&&(Ri=ai,ai=S[Ri]),Lu(Ve,Ri,Sa(ai,D,vt,Ri,S,je))}),Ve}function Po(S){var D=Ma(S);return function(vt){return Ea(vt,S,D)}}function Ea(S,D,vt){var Jt=vt.length;if(S==null)return!Jt;for(S=vo(S);Jt--;){var ge=vt[Jt],je=D[ge],Ve=S[ge];if(Ve===f&&!(ge in S)||!je(Ve))return!1}return!0}function Bu(S,D,vt){if(typeof S!="function")throw new da(u);return cs(function(){S.apply(f,vt)},D)}function Nl(S,D,vt,Jt){var ge=-1,je=tc,Ve=!0,ln=S.length,Cn=[],Xn=D.length;if(!ln)return Cn;vt&&(D=Vi(D,gt(vt))),Jt?(je=ku,Ve=!1):D.length>=L&&(je=ce,Ve=!1,D=new fa(D));t:for(;++ge<ln;){var Zn=S[ge],rr=vt==null?Zn:vt(Zn);if(Zn=Jt||Zn!==0?Zn:0,Ve&&rr===rr){for(var Or=Xn;Or--;)if(D[Or]===rr)continue t;Cn.push(Zn)}else je(D,rr,Jt)||Cn.push(Zn)}return Cn}var as=Py(Co),Hh=Py(lu,!0);function Ls(S,D){var vt=!0;return as(S,function(Jt,ge,je){return vt=!!D(Jt,ge,je),vt}),vt}function ms(S,D,vt){for(var Jt=-1,ge=S.length;++Jt<ge;){var je=S[Jt],Ve=D(je);if(Ve!=null&&(ln===f?Ve===Ve&&!Ps(Ve):vt(Ve,ln)))var ln=Ve,Cn=je}return Cn}function wo(S,D,vt,Jt){var ge=S.length;for(vt=Li(vt),vt<0&&(vt=-vt>ge?0:ge+vt),Jt=Jt===f||Jt>ge?ge:Li(Jt),Jt<0&&(Jt+=ge),Jt=vt>Jt?0:lv(Jt);vt<Jt;)S[vt++]=D;return S}function xf(S,D){var vt=[];return as(S,function(Jt,ge,je){D(Jt,ge,je)&&vt.push(Jt)}),vt}function Ka(S,D,vt,Jt,ge){var je=-1,Ve=S.length;for(vt||(vt=Hy),ge||(ge=[]);++je<Ve;){var ln=S[je];D>0&&vt(ln)?D>1?Ka(ln,D-1,vt,Jt,ge):Yc(ge,ln):Jt||(ge[ge.length]=ln)}return ge}var Pl=Gs(),ju=Gs(!0);function Co(S,D){return S&&Pl(S,D,Ma)}function lu(S,D){return S&&ju(S,D,Ma)}function sa(S,D){return Ra(D,function(vt){return Uu(S[vt])})}function Rl(S,D){D=Bs(D,S);for(var vt=0,Jt=D.length;S!=null&&vt<Jt;)S=S[Pr(D[vt++])];return vt&&vt==Jt?S:f}function wf(S,D,vt){var Jt=D(S);return yi(S)?Jt:Yc(Jt,vt(S))}function Ws(S){return S==null?S===f?Ut:ue:As&&As in vo(S)?Kg(S):Vy(S)}function Tc(S,D){return S>D}function Jc(S,D){return S!=null&&Xi.call(S,D)}function _f(S,D){return S!=null&&D in vo(S)}function Od(S,D,vt){return S>=Jo(D,vt)&&S<Ca(D,vt)}function Qc(S,D,vt){for(var Jt=vt?ku:tc,ge=S[0].length,je=S.length,Ve=je,ln=In(je),Cn=1/0,Xn=[];Ve--;){var Zn=S[Ve];Ve&&D&&(Zn=Vi(Zn,gt(D))),Cn=Jo(Zn.length,Cn),ln[Ve]=!vt&&(D||ge>=120&&Zn.length>=120)?new fa(Ve&&Zn):f}Zn=S[0];var rr=-1,Or=ln[0];t:for(;++rr<ge&&Xn.length<Cn;){var Yr=Zn[rr],li=D?D(Yr):Yr;if(Yr=vt||Yr!==0?Yr:0,!(Or?ce(Or,li):Jt(Xn,li,vt))){for(Ve=je;--Ve;){var Pi=ln[Ve];if(!(Pi?ce(Pi,li):Jt(S[Ve],li,vt)))continue t}Or&&Or.push(li),Xn.push(Yr)}}return Xn}function $h(S,D,vt,Jt){return Co(S,function(ge,je,Ve){D(Jt,vt(ge),je,Ve)}),Jt}function ss(S,D,vt){D=Bs(D,S),S=Dp(S,D);var Jt=S==null?S:S[Pr(Hl(D))];return Jt==null?f:Ga(Jt,S,vt)}function ht(S){return Ji(S)&&Ws(S)==yt}function H(S){return Ji(S)&&Ws(S)==jt}function At(S){return Ji(S)&&Ws(S)==mt}function q(S,D,vt,Jt,ge){return S===D?!0:S==null||D==null||!Ji(S)&&!Ji(D)?S!==S&&D!==D:bt(S,D,vt,Jt,q,ge)}function bt(S,D,vt,Jt,ge,je){var Ve=yi(S),ln=yi(D),Cn=Ve?kt:bo(S),Xn=ln?kt:bo(D);Cn=Cn==yt?re:Cn,Xn=Xn==yt?re:Xn;var Zn=Cn==re,rr=Xn==re,Or=Cn==Xn;if(Or&&Nc(S)){if(!Nc(D))return!1;Ve=!0,Zn=!1}if(Or&&!Zn)return je||(je=new Ua),Ve||kl(S)?Vh(S,D,vt,Jt,ge,je):Lc(S,D,Cn,vt,Jt,ge,je);if(!(vt&C)){var Yr=Zn&&Xi.call(S,"__wrapped__"),li=rr&&Xi.call(D,"__wrapped__");if(Yr||li){var Pi=Yr?S.value():S,ai=li?D.value():D;return je||(je=new Ua),ge(Pi,ai,vt,Jt,je)}}return Or?(je||(je=new Ua),Bb(S,D,vt,Jt,ge,je)):!1}function Q(S){return Ji(S)&&bo(S)==Xt}function ot(S,D,vt,Jt){var ge=vt.length,je=ge,Ve=!Jt;if(S==null)return!je;for(S=vo(S);ge--;){var ln=vt[ge];if(Ve&&ln[2]?ln[1]!==S[ln[0]]:!(ln[0]in S))return!1}for(;++ge<je;){ln=vt[ge];var Cn=ln[0],Xn=S[Cn],Zn=ln[1];if(Ve&&ln[2]){if(Xn===f&&!(Cn in S))return!1}else{var rr=new Ua;if(Jt)var Or=Jt(Xn,Zn,Cn,S,D,rr);if(!(Or===f?q(Zn,Xn,C|v,Jt,rr):Or))return!1}}return!0}function r(S){if(!Ki(S)||qy(S))return!1;var D=Uu(S)?q0:Tr;return D.test(hu(S))}function b(S){return Ji(S)&&Ws(S)==Mt}function Z(S){return Ji(S)&&bo(S)==qt}function dt(S){return Ji(S)&&bs(S.length)&&!!er[Ws(S)]}function wt(S){return typeof S=="function"?S:S==null?Rc:typeof S=="object"?yi(S)?ur(S[0],S[1]):Qn(S):Wl(S)}function te(S){if(!jf(S))return Bl(S);var D=[];for(var vt in vo(S))Xi.call(S,vt)&&vt!="constructor"&&D.push(vt);return D}function Ce(S){if(!Ki(S))return s1(S);var D=jf(S),vt=[];for(var Jt in S)Jt=="constructor"&&(D||!Xi.call(S,Jt))||vt.push(Jt);return vt}function Ke(S,D){return S<D}function Ln(S,D){var vt=-1,Jt=vs(S)?In(S.length):[];return as(S,function(ge,je,Ve){Jt[++vt]=D(ge,je,Ve)}),Jt}function Qn(S){var D=Zg(S);return D.length==1&&D[0][2]?em(D[0][0],D[0][1]):function(vt){return vt===S||ot(vt,S,D)}}function ur(S,D){return Bf(S)&&tm(D)?em(Pr(S),D):function(vt){var Jt=bm(vt,S);return Jt===f&&Jt===D?Qf(vt,S):q(D,Jt,C|v)}}function fr(S,D,vt,Jt,ge){S!==D&&Pl(D,function(je,Ve){if(ge||(ge=new Ua),Ki(je))Mr(S,D,Ve,vt,fr,Jt,ge);else{var ln=Jt?Jt(ca(S,Ve),je,Ve+"",S,D,ge):f;ln===f&&(ln=je),Kc(S,Ve,ln)}},us)}function Mr(S,D,vt,Jt,ge,je,Ve){var ln=ca(S,vt),Cn=ca(D,vt),Xn=Ve.get(Cn);if(Xn){Kc(S,vt,Xn);return}var Zn=je?je(ln,Cn,vt+"",S,D,Ve):f,rr=Zn===f;if(rr){var Or=yi(Cn),Yr=!Or&&Nc(Cn),li=!Or&&!Yr&&kl(Cn);Zn=Cn,Or||Yr||li?yi(ln)?Zn=ln:va(ln)?Zn=Oc(ln):Yr?(rr=!1,Zn=Hg(Cn,!0)):li?(rr=!1,Zn=Cf(Cn,!0)):Zn=[]:na(Cn)||Ch(Cn)?(Zn=ln,Ch(ln)?Zn=z1(ln):(!Ki(ln)||Uu(ln))&&(Zn=Rp(Cn))):rr=!1}rr&&(Ve.set(Cn,Zn),ge(Zn,Cn,Jt,je,Ve),Ve.delete(Cn)),Kc(S,vt,Zn)}function Ur(S,D){var vt=S.length;if(vt)return D+=D<0?vt:0,zl(D,vt)?S[D]:f}function zr(S,D,vt){D.length?D=Vi(D,function(je){return yi(je)?function(Ve){return Rl(Ve,je.length===1?je[0]:je)}:je}):D=[Rc];var Jt=-1;D=Vi(D,gt(oi()));var ge=Ln(S,function(je,Ve,ln){var Cn=Vi(D,function(Xn){return Xn(je)});return{criteria:Cn,index:++Jt,value:je}});return yo(ge,function(je,Ve){return qg(je,Ve,vt)})}function Si(S,D){return ho(S,D,function(vt,Jt){return Qf(S,Jt)})}function ho(S,D,vt){for(var Jt=-1,ge=D.length,je={};++Jt<ge;){var Ve=D[Jt],ln=Rl(S,Ve);vt(ln,Ve)&&$r(je,Bs(Ve,S),ln)}return je}function gi(S){return function(D){return Rl(D,S)}}function Br(S,D,vt,Jt){var ge=Jt?jh:Hs,je=-1,Ve=D.length,ln=S;for(S===D&&(D=Oc(D)),vt&&(ln=Vi(S,gt(vt)));++je<Ve;)for(var Cn=0,Xn=D[je],Zn=vt?vt(Xn):Xn;(Cn=ge(ln,Zn,Cn,Jt))>-1;)ln!==S&&Gc.call(ln,Cn,1),Gc.call(S,Cn,1);return S}function mi(S,D){for(var vt=S?D.length:0,Jt=vt-1;vt--;){var ge=D[vt];if(vt==Jt||ge!==je){var je=ge;zl(ge)?Gc.call(S,ge,1):J0(S,ge)}}return S}function qo(S,D){return S+tu(Eu()*(D-S+1))}function vn(S,D,vt,Jt){for(var ge=-1,je=Ca(Ql((D-S)/(vt||1)),0),Ve=In(je);je--;)Ve[Jt?je:++ge]=S,S+=vt;return Ve}function gn(S,D){var vt="";if(!S||D<1||D>lt)return vt;do D%2&&(vt+=S),D=tu(D/2),D&&(S+=S);while(D);return vt}function Xe(S,D){return Mo(di(S,D,Rc),S+"")}function hr(S){return X0(np(S))}function Gn(S,D){var vt=np(S);return ac(vt,Ec(D,0,vt.length))}function $r(S,D,vt,Jt){if(!Ki(S))return S;D=Bs(D,S);for(var ge=-1,je=D.length,Ve=je-1,ln=S;ln!=null&&++ge<je;){var Cn=Pr(D[ge]),Xn=vt;if(Cn==="__proto__"||Cn==="constructor"||Cn==="prototype")return S;if(ge!=Ve){var Zn=ln[Cn];Xn=Jt?Jt(Zn,Cn,ln):f,Xn===f&&(Xn=Ki(Zn)?Zn:zl(D[ge+1])?[]:{})}Lu(ln,Cn,Xn),ln=ln[Cn]}return S}var Ai=nu?function(S,D){return nu.set(S,D),S}:Rc,_o=_d?function(S,D){return _d(S,"toString",{configurable:!0,enumerable:!1,value:Zd(D),writable:!0})}:Rc;function So(S){return ac(np(S))}function Yo(S,D,vt){var Jt=-1,ge=S.length;D<0&&(D=-D>ge?0:ge+D),vt=vt>ge?ge:vt,vt<0&&(vt+=ge),ge=D>vt?0:vt-D>>>0,D>>>=0;for(var je=In(ge);++Jt<ge;)je[Jt]=S[Jt+D];return je}function xl(S,D){var vt;return as(S,function(Jt,ge,je){return vt=D(Jt,ge,je),!vt}),!!vt}function Ta(S,D,vt){var Jt=0,ge=S==null?Jt:S.length;if(typeof D=="number"&&D===D&&ge<=St){for(;Jt<ge;){var je=Jt+ge>>>1,Ve=S[je];Ve!==null&&!Ps(Ve)&&(vt?Ve<=D:Ve<D)?Jt=je+1:ge=je}return ge}return wl(S,D,Rc,vt)}function wl(S,D,vt,Jt){var ge=0,je=S==null?0:S.length;if(je===0)return 0;D=vt(D);for(var Ve=D!==D,ln=D===null,Cn=Ps(D),Xn=D===f;ge<je;){var Zn=tu((ge+je)/2),rr=vt(S[Zn]),Or=rr!==f,Yr=rr===null,li=rr===rr,Pi=Ps(rr);if(Ve)var ai=Jt||li;else Xn?ai=li&&(Jt||Or):ln?ai=li&&Or&&(Jt||!Yr):Cn?ai=li&&Or&&!Yr&&(Jt||!Pi):Yr||Pi?ai=!1:ai=Jt?rr<=D:rr<D;ai?ge=Zn+1:je=Zn}return Jo(je,Ct)}function Z0(S,D){for(var vt=-1,Jt=S.length,ge=0,je=[];++vt<Jt;){var Ve=S[vt],ln=D?D(Ve):Ve;if(!vt||!Is(ln,Cn)){var Cn=ln;je[ge++]=Ve===0?0:Ve}}return je}function K0(S){return typeof S=="number"?S:Ps(S)?Bt:+S}function Ac(S){if(typeof S=="string")return S;if(yi(S))return Vi(S,Ac)+"";if(Ps(S))return uh?uh.call(S):"";var D=S+"";return D=="0"&&1/S==-ct?"-0":D}function uu(S,D,vt){var Jt=-1,ge=tc,je=S.length,Ve=!0,ln=[],Cn=ln;if(vt)Ve=!1,ge=ku;else if(je>=L){var Xn=D?null:Fy(S);if(Xn)return No(Xn);Ve=!1,ge=ce,Cn=new fa}else Cn=D?[]:ln;t:for(;++Jt<je;){var Zn=S[Jt],rr=D?D(Zn):Zn;if(Zn=vt||Zn!==0?Zn:0,Ve&&rr===rr){for(var Or=Cn.length;Or--;)if(Cn[Or]===rr)continue t;D&&Cn.push(rr),ln.push(Zn)}else ge(Cn,rr,vt)||(Cn!==ln&&Cn.push(rr),ln.push(Zn))}return ln}function J0(S,D){return D=Bs(D,S),S=Dp(S,D),S==null||delete S[Pr(Hl(D))]}function Ly(S,D,vt,Jt){return $r(S,D,vt(Rl(S,D)),Jt)}function qh(S,D,vt,Jt){for(var ge=S.length,je=Jt?ge:-1;(Jt?je--:++je<ge)&&D(S[je],je,S););return vt?Yo(S,Jt?0:je,Jt?je+1:ge):Yo(S,Jt?je+1:0,Jt?ge:je)}function Dl(S,D){var vt=S;return vt instanceof Ti&&(vt=vt.value()),ns(D,function(Jt,ge){return ge.func.apply(ge.thisArg,Yc([Jt],ge.args))},vt)}function Bp(S,D,vt){var Jt=S.length;if(Jt<2)return Jt?uu(S[0]):[];for(var ge=-1,je=In(Jt);++ge<Jt;)for(var Ve=S[ge],ln=-1;++ln<Jt;)ln!=ge&&(je[ge]=Nl(je[ge]||Ve,S[ln],D,vt));return uu(Ka(je,1),D,vt)}function Ug(S,D,vt){for(var Jt=-1,ge=S.length,je=D.length,Ve={};++Jt<ge;){var ln=Jt<je?D[Jt]:f;vt(Ve,S[Jt],ln)}return Ve}function jp(S){return va(S)?S:[]}function kf(S){return typeof S=="function"?S:Rc}function Bs(S,D){return yi(S)?S:Bf(S,D)?[S]:sc(xo(S))}var Ip=Xe;function gh(S,D,vt){var Jt=S.length;return vt=vt===f?Jt:vt,!D&&vt>=Jt?S:Yo(S,D,vt)}var Q0=_c||function(S){return ia.clearTimeout(S)};function Hg(S,D){if(D)return S.slice();var vt=S.length,Jt=os?os(vt):new S.constructor(vt);return S.copy(Jt),Jt}function $g(S){var D=new S.constructor(S.byteLength);return new yf(D).set(new yf(S)),D}function Fl(S,D){var vt=D?$g(S.buffer):S.buffer;return new S.constructor(vt,S.byteOffset,S.byteLength)}function Iu(S){var D=new S.constructor(S.source,jr.exec(S));return D.lastIndex=S.lastIndex,D}function By(S){return Rh?vo(Rh.call(S)):{}}function Cf(S,D){var vt=D?$g(S.buffer):S.buffer;return new S.constructor(vt,S.byteOffset,S.length)}function mh(S,D){if(S!==D){var vt=S!==f,Jt=S===null,ge=S===S,je=Ps(S),Ve=D!==f,ln=D===null,Cn=D===D,Xn=Ps(D);if(!ln&&!Xn&&!je&&S>D||je&&Ve&&Cn&&!ln&&!Xn||Jt&&Ve&&Cn||!vt&&Cn||!ge)return 1;if(!Jt&&!je&&!Xn&&S<D||Xn&&vt&&ge&&!Jt&&!je||ln&&vt&&ge||!Ve&&ge||!Cn)return-1}return 0}function qg(S,D,vt){for(var Jt=-1,ge=S.criteria,je=D.criteria,Ve=ge.length,ln=vt.length;++Jt<Ve;){var Cn=mh(ge[Jt],je[Jt]);if(Cn){if(Jt>=ln)return Cn;var Xn=vt[Jt];return Cn*(Xn=="desc"?-1:1)}}return S.index-D.index}function jy(S,D,vt,Jt){for(var ge=-1,je=S.length,Ve=vt.length,ln=-1,Cn=D.length,Xn=Ca(je-Ve,0),Zn=In(Cn+Xn),rr=!Jt;++ln<Cn;)Zn[ln]=D[ln];for(;++ge<Ve;)(rr||ge<je)&&(Zn[vt[ge]]=S[ge]);for(;Xn--;)Zn[ln++]=S[ge++];return Zn}function Iy(S,D,vt,Jt){for(var ge=-1,je=S.length,Ve=-1,ln=vt.length,Cn=-1,Xn=D.length,Zn=Ca(je-ln,0),rr=In(Zn+Xn),Or=!Jt;++ge<Zn;)rr[ge]=S[ge];for(var Yr=ge;++Cn<Xn;)rr[Yr+Cn]=D[Cn];for(;++Ve<ln;)(Or||ge<je)&&(rr[Yr+vt[Ve]]=S[ge++]);return rr}function Oc(S,D){var vt=-1,Jt=S.length;for(D||(D=In(Jt));++vt<Jt;)D[vt]=S[vt];return D}function Aa(S,D,vt,Jt){var ge=!vt;vt||(vt={});for(var je=-1,Ve=D.length;++je<Ve;){var ln=D[je],Cn=Jt?Jt(vt[ln],S[ln],ln,vt,S):f;Cn===f&&(Cn=S[ln]),ge?ic(vt,ln,Cn):Lu(vt,ln,Cn)}return vt}function Yg(S,D){return Aa(S,i1(S),D)}function Ny(S,D){return Aa(S,Jg(S),D)}function t1(S,D){return function(vt,Jt){var ge=yi(vt)?Xa:ph,je=D?D():{};return ge(vt,S,oi(Jt,2),je)}}function Sf(S){return Xe(function(D,vt){var Jt=-1,ge=vt.length,je=ge>1?vt[ge-1]:f,Ve=ge>2?vt[2]:f;for(je=S.length>3&&typeof je=="function"?(ge--,je):f,Ve&&ga(vt[0],vt[1],Ve)&&(je=ge<3?f:je,ge=1),D=vo(D);++Jt<ge;){var ln=vt[Jt];ln&&S(D,ln,Jt,je)}return D})}function Py(S,D){return function(vt,Jt){if(vt==null)return vt;if(!vs(vt))return S(vt,Jt);for(var ge=vt.length,je=D?ge:-1,Ve=vo(vt);(D?je--:++je<ge)&&Jt(Ve[je],je,Ve)!==!1;);return vt}}function Gs(S){return function(D,vt,Jt){for(var ge=-1,je=vo(D),Ve=Jt(D),ln=Ve.length;ln--;){var Cn=Ve[S?ln:++ge];if(vt(je[Cn],Cn,je)===!1)break}return D}}function Vg(S,D,vt){var Jt=D&h,ge=Md(S);function je(){var Ve=this&&this!==ia&&this instanceof je?ge:S;return Ve.apply(Jt?vt:this,arguments)}return je}function Ef(S){return function(D){D=xo(D);var vt=dr(D)?za(D):f,Jt=vt?vt[0]:D.charAt(0),ge=vt?gh(vt,1).join(""):D.slice(1);return Jt[S]()+ge}}function tl(S){return function(D){return ns(Xd(ip(D).replace(Ts,"")),S,"")}}function Md(S){return function(){var D=arguments;switch(D.length){case 0:return new S;case 1:return new S(D[0]);case 2:return new S(D[0],D[1]);case 3:return new S(D[0],D[1],D[2]);case 4:return new S(D[0],D[1],D[2],D[3]);case 5:return new S(D[0],D[1],D[2],D[3],D[4]);case 6:return new S(D[0],D[1],D[2],D[3],D[4],D[5]);case 7:return new S(D[0],D[1],D[2],D[3],D[4],D[5],D[6])}var vt=bl(S.prototype),Jt=S.apply(vt,D);return Ki(Jt)?Jt:vt}}function Ry(S,D,vt){var Jt=Md(S);function ge(){for(var je=arguments.length,Ve=In(je),ln=je,Cn=Lf(ge);ln--;)Ve[ln]=arguments[ln];var Xn=je<3&&Ve[0]!==Cn&&Ve[je-1]!==Cn?[]:_i(Ve,Cn);if(je-=Xn.length,je<vt)return pa(S,D,Ld,ge.placeholder,f,Ve,Xn,f,f,vt-je);var Zn=this&&this!==ia&&this instanceof ge?Jt:S;return Ga(Zn,this,Ve)}return ge}function Wg(S){return function(D,vt,Jt){var ge=vo(D);if(!vs(D)){var je=oi(vt,3);D=Ma(D),vt=function(ln){return je(ge[ln],ln,ge)}}var Ve=S(D,vt,Jt);return Ve>-1?ge[je?D[Ve]:Ve]:f}}function oc(S){return vh(function(D){var vt=D.length,Jt=vt,ge=Vs.prototype.thru;for(S&&D.reverse();Jt--;){var je=D[Jt];if(typeof je!="function")throw new da(u);if(ge&&!Ve&&n1(je)=="wrapper")var Ve=new Vs([],!0)}for(Jt=Ve?Jt:vt;++Jt<vt;){je=D[Jt];var ln=n1(je),Cn=ln=="wrapper"?Mf(je):f;Cn&&o1(Cn[0])&&Cn[1]==($|_|P|F)&&!Cn[4].length&&Cn[9]==1?Ve=Ve[n1(Cn[0])].apply(Ve,Cn[3]):Ve=je.length==1&&o1(je)?Ve[ln]():Ve.thru(je)}return function(){var Xn=arguments,Zn=Xn[0];if(Ve&&Xn.length==1&&yi(Zn))return Ve.plant(Zn).value();for(var rr=0,Or=vt?D[rr].apply(this,Xn):Zn;++rr<vt;)Or=D[rr].call(this,Or);return Or}})}function Ld(S,D,vt,Jt,ge,je,Ve,ln,Cn,Xn){var Zn=D&$,rr=D&h,Or=D&a,Yr=D&(_|M),li=D&j,Pi=Or?f:Md(S);function ai(){for(var Ri=arguments.length,Bi=In(Ri),Js=Ri;Js--;)Bi[Js]=arguments[Js];if(Yr)var xs=Lf(ai),dc=Nn(Bi,xs);if(Jt&&(Bi=jy(Bi,Jt,ge,Yr)),je&&(Bi=Iy(Bi,je,Ve,Yr)),Ri-=dc,Yr&&Ri<Xn){var La=_i(Bi,xs);return pa(S,D,Ld,ai.placeholder,vt,Bi,La,ln,Cn,Xn-Ri)}var gu=rr?vt:this,mu=Or?gu[S]:S;return Ri=Bi.length,ln?Bi=qi(Bi,ln):li&&Ri>1&&Bi.reverse(),Zn&&Cn<Ri&&(Bi.length=Cn),this&&this!==ia&&this instanceof ai&&(mu=Pi||Md(mu)),mu.apply(gu,Bi)}return ai}function Gg(S,D){return function(vt,Jt){return $h(vt,S,D(Jt),{})}}function Bd(S,D){return function(vt,Jt){var ge;if(vt===f&&Jt===f)return D;if(vt!==f&&(ge=vt),Jt!==f){if(ge===f)return Jt;typeof vt=="string"||typeof Jt=="string"?(vt=Ac(vt),Jt=Ac(Jt)):(vt=K0(vt),Jt=K0(Jt)),ge=S(vt,Jt)}return ge}}function Yh(S){return vh(function(D){return D=Vi(D,gt(oi())),Xe(function(vt){var Jt=this;return S(D,function(ge){return Ga(ge,Jt,vt)})})})}function Tf(S,D){D=D===f?" ":Ac(D);var vt=D.length;if(vt<2)return vt?gn(D,S):D;var Jt=gn(D,Ql(S/Ml(D)));return dr(D)?gh(za(Jt),0,S).join(""):Jt.slice(0,S)}function Lb(S,D,vt,Jt){var ge=D&h,je=Md(S);function Ve(){for(var ln=-1,Cn=arguments.length,Xn=-1,Zn=Jt.length,rr=In(Zn+Cn),Or=this&&this!==ia&&this instanceof Ve?je:S;++Xn<Zn;)rr[Xn]=Jt[Xn];for(;Cn--;)rr[Xn++]=arguments[++ln];return Ga(Or,ge?vt:this,rr)}return Ve}function Dy(S){return function(D,vt,Jt){return Jt&&typeof Jt!="number"&&ga(D,vt,Jt)&&(vt=Jt=f),D=Hu(D),vt===f?(vt=D,D=0):vt=Hu(vt),Jt=Jt===f?D<vt?1:-1:Hu(Jt),vn(D,vt,Jt,S)}}function yh(S){return function(D,vt){return typeof D=="string"&&typeof vt=="string"||(D=Rs(D),vt=Rs(vt)),S(D,vt)}}function pa(S,D,vt,Jt,ge,je,Ve,ln,Cn,Xn){var Zn=D&_,rr=Zn?Ve:f,Or=Zn?f:Ve,Yr=Zn?je:f,li=Zn?f:je;D|=Zn?P:R,D&=~(Zn?R:P),D&O||(D&=~(h|a));var Pi=[S,D,ge,Yr,rr,li,Or,ln,Cn,Xn],ai=vt.apply(f,Pi);return o1(S)&&If(ai,Pi),ai.placeholder=Jt,Jr(ai,S,D)}function Nu(S){var D=Uo[S];return function(vt,Jt){if(vt=Rs(vt),Jt=Jt==null?0:Jo(Li(Jt),292),Jt&&Xc(vt)){var ge=(xo(vt)+"e").split("e"),je=D(ge[0]+"e"+(+ge[1]+Jt));return ge=(xo(je)+"e").split("e"),+(ge[0]+"e"+(+ge[1]-Jt))}return D(vt)}}var Fy=Au&&1/No(new Au([,-0]))[1]==ct?function(S){return new Au(S)}:Jd;function Xs(S){return function(D){var vt=bo(D);return vt==Xt?Ci(D):vt==qt?Za(D):Wi(D,S(D))}}function Mc(S,D,vt,Jt,ge,je,Ve,ln){var Cn=D&a;if(!Cn&&typeof S!="function")throw new da(u);var Xn=Jt?Jt.length:0;if(Xn||(D&=~(P|R),Jt=ge=f),Ve=Ve===f?Ve:Ca(Li(Ve),0),ln=ln===f?ln:Li(ln),Xn-=ge?ge.length:0,D&R){var Zn=Jt,rr=ge;Jt=ge=f}var Or=Cn?f:Mf(S),Yr=[S,D,vt,Jt,ge,Zn,rr,je,Ve,ln];if(Or&&a1(Yr,Or),S=Yr[0],D=Yr[1],vt=Yr[2],Jt=Yr[3],ge=Yr[4],ln=Yr[9]=Yr[9]===f?Cn?0:S.length:Ca(Yr[9]-Xn,0),!ln&&D&(_|M)&&(D&=~(_|M)),!D||D==h)var li=Vg(S,D,vt);else D==_||D==M?li=Ry(S,D,ln):(D==P||D==(h|P))&&!ge.length?li=Lb(S,D,vt,Jt):li=Ld.apply(f,Yr);var Pi=Or?Ai:If;return Jr(Pi(li,Yr),S,D)}function e1(S,D,vt,Jt){return S===f||Is(S,pl[vt])&&!Xi.call(Jt,vt)?D:S}function Af(S,D,vt,Jt,ge,je){return Ki(S)&&Ki(D)&&(je.set(D,S),fr(S,D,f,Af,je),je.delete(D)),S}function Xg(S){return na(S)?f:S}function Vh(S,D,vt,Jt,ge,je){var Ve=vt&C,ln=S.length,Cn=D.length;if(ln!=Cn&&!(Ve&&Cn>ln))return!1;var Xn=je.get(S),Zn=je.get(D);if(Xn&&Zn)return Xn==D&&Zn==S;var rr=-1,Or=!0,Yr=vt&v?new fa:f;for(je.set(S,D),je.set(D,S);++rr<ln;){var li=S[rr],Pi=D[rr];if(Jt)var ai=Ve?Jt(Pi,li,rr,D,S,je):Jt(li,Pi,rr,S,D,je);if(ai!==f){if(ai)continue;Or=!1;break}if(Yr){if(!ka(D,function(Ri,Bi){if(!ce(Yr,Bi)&&(li===Ri||ge(li,Ri,vt,Jt,je)))return Yr.push(Bi)})){Or=!1;break}}else if(!(li===Pi||ge(li,Pi,vt,Jt,je))){Or=!1;break}}return je.delete(S),je.delete(D),Or}function Lc(S,D,vt,Jt,ge,je,Ve){switch(vt){case ee:if(S.byteLength!=D.byteLength||S.byteOffset!=D.byteOffset)return!1;S=S.buffer,D=D.buffer;case jt:return!(S.byteLength!=D.byteLength||!je(new yf(S),new yf(D)));case Pt:case mt:case se:return Is(+S,+D);case ne:return S.name==D.name&&S.message==D.message;case Mt:case Nt:return S==D+"";case Xt:var ln=Ci;case qt:var Cn=Jt&C;if(ln||(ln=No),S.size!=D.size&&!Cn)return!1;var Xn=Ve.get(S);if(Xn)return Xn==D;Jt|=v,Ve.set(S,D);var Zn=Vh(ln(S),ln(D),Jt,ge,je,Ve);return Ve.delete(S),Zn;case Vt:if(Rh)return Rh.call(S)==Rh.call(D)}return!1}function Bb(S,D,vt,Jt,ge,je){var Ve=vt&C,ln=Np(S),Cn=ln.length,Xn=Np(D),Zn=Xn.length;if(Cn!=Zn&&!Ve)return!1;for(var rr=Cn;rr--;){var Or=ln[rr];if(!(Ve?Or in D:Xi.call(D,Or)))return!1}var Yr=je.get(S),li=je.get(D);if(Yr&&li)return Yr==D&&li==S;var Pi=!0;je.set(S,D),je.set(D,S);for(var ai=Ve;++rr<Cn;){Or=ln[rr];var Ri=S[Or],Bi=D[Or];if(Jt)var Js=Ve?Jt(Bi,Ri,Or,D,S,je):Jt(Ri,Bi,Or,S,D,je);if(!(Js===f?Ri===Bi||ge(Ri,Bi,vt,Jt,je):Js)){Pi=!1;break}ai||(ai=Or=="constructor")}if(Pi&&!ai){var xs=S.constructor,dc=D.constructor;xs!=dc&&"constructor"in S&&"constructor"in D&&!(typeof xs=="function"&&xs instanceof xs&&typeof dc=="function"&&dc instanceof dc)&&(Pi=!1)}return je.delete(S),je.delete(D),Pi}function vh(S){return Mo(di(S,f,rm),S+"")}function Np(S){return wf(S,Ma,i1)}function Of(S){return wf(S,us,Jg)}var Mf=nu?function(S){return nu.get(S)}:Jd;function n1(S){for(var D=S.name+"",vt=vl[D],Jt=Xi.call(vl,D)?vt.length:0;Jt--;){var ge=vt[Jt],je=ge.func;if(je==null||je==S)return ge.name}return D}function Lf(S){var D=Xi.call(Ee,"placeholder")?Ee:S;return D.placeholder}function oi(){var S=Ee.iteratee||g0;return S=S===g0?wt:S,arguments.length?S(arguments[0],arguments[1]):S}function r1(S,D){var vt=S.__data__;return $y(D)?vt[typeof D=="string"?"string":"hash"]:vt.map}function Zg(S){for(var D=Ma(S),vt=D.length;vt--;){var Jt=D[vt],ge=S[Jt];D[vt]=[Jt,ge,tm(ge)]}return D}function Wh(S,D){var vt=lr(S,D);return r(vt)?vt:f}function Kg(S){var D=Xi.call(S,As),vt=S[As];try{S[As]=f;var Jt=!0}catch(je){}var ge=Ll.call(S);return Jt&&(D?S[As]=vt:delete S[As]),ge}var i1=Os?function(S){return S==null?[]:(S=vo(S),Ra(Os(S),function(D){return Kl.call(S,D)}))}:v0,Jg=Os?function(S){for(var D=[];S;)Yc(D,i1(S)),S=Wc(S);return D}:v0,bo=Ws;(rc&&bo(new rc(new ArrayBuffer(1)))!=ee||Tu&&bo(new Tu)!=Xt||eu&&bo(eu.resolve())!=_t||Au&&bo(new Au)!=qt||kd&&bo(new kd)!=Wt)&&(bo=function(S){var D=Ws(S),vt=D==re?S.constructor:f,Jt=vt?hu(vt):"";if(Jt)switch(Jt){case jl:return ee;case kc:return Xt;case ru:return _t;case Nh:return qt;case Cd:return Wt}return D});function bh(S,D,vt){for(var Jt=-1,ge=vt.length;++Jt<ge;){var je=vt[Jt],Ve=je.size;switch(je.type){case"drop":S+=Ve;break;case"dropRight":D-=Ve;break;case"take":D=Jo(D,S+Ve);break;case"takeRight":S=Ca(S,D-Ve);break}}return{start:S,end:D}}function Gh(S){var D=S.match(Fn);return D?D[1].split(ke):[]}function Qg(S,D,vt){D=Bs(D,S);for(var Jt=-1,ge=D.length,je=!1;++Jt<ge;){var Ve=Pr(D[Jt]);if(!(je=S!=null&&vt(S,Ve)))break;S=S[Ve]}return je||++Jt!=ge?je:(ge=S==null?0:S.length,!!ge&&bs(ge)&&zl(Ve,ge)&&(yi(S)||Ch(S)))}function Pp(S){var D=S.length,vt=new S.constructor(D);return D&&typeof S[0]=="string"&&Xi.call(S,"index")&&(vt.index=S.index,vt.input=S.input),vt}function Rp(S){return typeof S.constructor=="function"&&!jf(S)?bl(Wc(S)):{}}function zy(S,D,vt){var Jt=S.constructor;switch(D){case jt:return $g(S);case Pt:case mt:return new Jt(+S);case ee:return Fl(S,vt);case Lt:case he:case Ht:case Se:case Te:case we:case Ue:case We:case De:return Cf(S,vt);case Xt:return new Jt;case se:case Nt:return new Jt(S);case Mt:return Iu(S);case qt:return new Jt;case Vt:return By(S)}}function Uy(S,D){var vt=D.length;if(!vt)return S;var Jt=vt-1;return D[Jt]=(vt>1?"& ":"")+D[Jt],D=D.join(vt>2?", ":" "),S.replace(Ge,`{
/* [wrapped with `+D+`] */
`)}function Hy(S){return yi(S)||Ch(S)||!!(wd&&S&&S[wd])}function zl(S,D){var vt=typeof S;return D=D==null?lt:D,!!D&&(vt=="number"||vt!="symbol"&&mr.test(S))&&S>-1&&S%1==0&&S<D}function ga(S,D,vt){if(!Ki(vt))return!1;var Jt=typeof D;return(Jt=="number"?vs(vt)&&zl(D,vt.length):Jt=="string"&&D in vt)?Is(vt[D],S):!1}function Bf(S,D){if(yi(S))return!1;var vt=typeof S;return vt=="number"||vt=="symbol"||vt=="boolean"||S==null||Ps(S)?!0:Rn.test(S)||!Bn.test(S)||D!=null&&S in vo(D)}function $y(S){var D=typeof S;return D=="string"||D=="number"||D=="symbol"||D=="boolean"?S!=="__proto__":S===null}function o1(S){var D=n1(S),vt=Ee[D];if(typeof vt!="function"||!(D in Ti.prototype))return!1;if(S===vt)return!0;var Jt=Mf(vt);return!!Jt&&S===Jt[0]}function qy(S){return!!Ho&&Ho in S}var Yy=sh?Uu:ap;function jf(S){var D=S&&S.constructor,vt=typeof D=="function"&&D.prototype||pl;return S===vt}function tm(S){return S===S&&!Ki(S)}function em(S,D){return function(vt){return vt==null?!1:vt[S]===D&&(D!==f||S in vo(vt))}}function Xh(S){var D=ua(S,function(Jt){return vt.size===m&&vt.clear(),Jt}),vt=D.cache;return D}function a1(S,D){var vt=S[1],Jt=D[1],ge=vt|Jt,je=ge<(h|a|$),Ve=Jt==$&&vt==_||Jt==$&&vt==F&&S[7].length<=D[8]||Jt==($|F)&&D[7].length<=D[8]&&vt==_;if(!(je||Ve))return S;Jt&h&&(S[2]=D[2],ge|=vt&h?0:O);var ln=D[3];if(ln){var Cn=S[3];S[3]=Cn?jy(Cn,ln,D[4]):ln,S[4]=Cn?_i(S[3],g):D[4]}return ln=D[5],ln&&(Cn=S[5],S[5]=Cn?Iy(Cn,ln,D[6]):ln,S[6]=Cn?_i(S[5],g):D[6]),ln=D[7],ln&&(S[7]=ln),Jt&$&&(S[8]=S[8]==null?D[8]:Jo(S[8],D[8])),S[9]==null&&(S[9]=D[9]),S[0]=D[0],S[1]=ge,S}function s1(S){var D=[];if(S!=null)for(var vt in vo(S))D.push(vt);return D}function Vy(S){return Ll.call(S)}function di(S,D,vt){return D=Ca(D===f?S.length-1:D,0),function(){for(var Jt=arguments,ge=-1,je=Ca(Jt.length-D,0),Ve=In(je);++ge<je;)Ve[ge]=Jt[D+ge];ge=-1;for(var ln=In(D+1);++ge<D;)ln[ge]=Jt[ge];return ln[D]=vt(Ve),Ga(S,this,ln)}}function Dp(S,D){return D.length<2?S:Rl(S,Yo(D,0,-1))}function qi(S,D){for(var vt=S.length,Jt=Jo(D.length,vt),ge=Oc(S);Jt--;){var je=D[Jt];S[Jt]=zl(je,vt)?ge[je]:f}return S}function ca(S,D){if(!(D==="constructor"&&typeof S[D]=="function")&&D!="__proto__")return S[D]}var If=Zi(Ai),cs=Jl||function(S,D){return ia.setTimeout(S,D)},Mo=Zi(_o);function Jr(S,D,vt){var Jt=D+"";return Mo(S,Uy(Jt,Wy(Gh(Jt),vt)))}function Zi(S){var D=0,vt=0;return function(){var Jt=Ep(),ge=K-(Jt-vt);if(vt=Jt,ge>0){if(++D>=V)return arguments[0]}else D=0;return S.apply(f,arguments)}}function ac(S,D){var vt=-1,Jt=S.length,ge=Jt-1;for(D=D===f?Jt:D;++vt<D;){var je=qo(vt,ge),Ve=S[je];S[je]=S[vt],S[vt]=Ve}return S.length=D,S}var sc=Xh(function(S){var D=[];return S.charCodeAt(0)===46&&D.push(""),S.replace($n,function(vt,Jt,ge,je){D.push(ge?je.replace(vr,"$1"):Jt||vt)}),D});function Pr(S){if(typeof S=="string"||Ps(S))return S;var D=S+"";return D=="0"&&1/S==-ct?"-0":D}function hu(S){if(S!=null){try{return nc.call(S)}catch(D){}try{return S+""}catch(D){}}return""}function Wy(S,D){return Gi(at,function(vt){var Jt="_."+vt[0];D&vt[1]&&!tc(S,Jt)&&S.push(Jt)}),S.sort()}function Fp(S){if(S instanceof Ti)return S.clone();var D=new Vs(S.__wrapped__,S.__chain__);return D.__actions__=Oc(S.__actions__),D.__index__=S.__index__,D.__values__=S.__values__,D}function c1(S,D,vt){(vt?ga(S,D,vt):D===f)?D=1:D=Ca(Li(D),0);var Jt=S==null?0:S.length;if(!Jt||D<1)return[];for(var ge=0,je=0,Ve=In(Ql(Jt/D));ge<Jt;)Ve[je++]=Yo(S,ge,ge+=D);return Ve}function Nr(S){for(var D=-1,vt=S==null?0:S.length,Jt=0,ge=[];++D<vt;){var je=S[D];je&&(ge[Jt++]=je)}return ge}function Ul(){var S=arguments.length;if(!S)return[];for(var D=In(S-1),vt=arguments[0],Jt=S;Jt--;)D[Jt-1]=arguments[Jt];return Yc(yi(vt)?Oc(vt):[vt],Ka(D,1))}var ma=Xe(function(S,D){return va(S)?Nl(S,Ka(D,1,va,!0)):[]}),nm=Xe(function(S,D){var vt=Hl(D);return va(vt)&&(vt=f),va(S)?Nl(S,Ka(D,1,va,!0),oi(vt,2)):[]}),l1=Xe(function(S,D){var vt=Hl(D);return va(vt)&&(vt=f),va(S)?Nl(S,Ka(D,1,va,!0),f,vt):[]});function Bc(S,D,vt){var Jt=S==null?0:S.length;return Jt?(D=vt||D===f?1:Li(D),Yo(S,D<0?0:D,Jt)):[]}function Gy(S,D,vt){var Jt=S==null?0:S.length;return Jt?(D=vt||D===f?1:Li(D),D=Jt-D,Yo(S,0,D<0?0:D)):[]}function ya(S,D){return S&&S.length?qh(S,oi(D,3),!0,!0):[]}function xh(S,D){return S&&S.length?qh(S,oi(D,3),!0):[]}function Xy(S,D,vt,Jt){var ge=S==null?0:S.length;return ge?(vt&&typeof vt!="number"&&ga(S,D,vt)&&(vt=0,Jt=ge),wo(S,D,vt,Jt)):[]}function u1(S,D,vt){var Jt=S==null?0:S.length;if(!Jt)return-1;var ge=vt==null?0:Li(vt);return ge<0&&(ge=Ca(Jt+ge,0)),Ol(S,oi(D,3),ge)}function h1(S,D,vt){var Jt=S==null?0:S.length;if(!Jt)return-1;var ge=Jt-1;return vt!==f&&(ge=Li(vt),ge=vt<0?Ca(Jt+ge,0):Jo(ge,Jt-1)),Ol(S,oi(D,3),ge,!0)}function rm(S){var D=S==null?0:S.length;return D?Ka(S,1):[]}function du(S){var D=S==null?0:S.length;return D?Ka(S,ct):[]}function Zy(S,D){var vt=S==null?0:S.length;return vt?(D=D===f?1:Li(D),Ka(S,D)):[]}function Ky(S){for(var D=-1,vt=S==null?0:S.length,Jt={};++D<vt;){var ge=S[D];Jt[ge[0]]=ge[1]}return Jt}function d1(S){return S&&S.length?S[0]:f}function Nf(S,D,vt){var Jt=S==null?0:S.length;if(!Jt)return-1;var ge=vt==null?0:Li(vt);return ge<0&&(ge=Ca(Jt+ge,0)),Hs(S,D,ge)}function f1(S){var D=S==null?0:S.length;return D?Yo(S,0,-1):[]}var p1=Xe(function(S){var D=Vi(S,jp);return D.length&&D[0]===S[0]?Qc(D):[]}),g1=Xe(function(S){var D=Hl(S),vt=Vi(S,jp);return D===Hl(vt)?D=f:vt.pop(),vt.length&&vt[0]===S[0]?Qc(vt,oi(D,2)):[]}),Pu=Xe(function(S){var D=Hl(S),vt=Vi(S,jp);return D=typeof D=="function"?D:f,D&&vt.pop(),vt.length&&vt[0]===S[0]?Qc(vt,f,D):[]});function jb(S,D){return S==null?"":Zc.call(S,D)}function Hl(S){var D=S==null?0:S.length;return D?S[D-1]:f}function Ib(S,D,vt){var Jt=S==null?0:S.length;if(!Jt)return-1;var ge=Jt;return vt!==f&&(ge=Li(vt),ge=ge<0?Ca(Jt+ge,0):Jo(ge,Jt-1)),D===D?vd(S,D,ge):Ol(S,$s,ge,!0)}function m1(S,D){return S&&S.length?Ur(S,Li(D)):f}var Nb=Xe(zp);function zp(S,D){return S&&S.length&&D&&D.length?Br(S,D):S}function jd(S,D,vt){return S&&S.length&&D&&D.length?Br(S,D,oi(vt,2)):S}function y1(S,D,vt){return S&&S.length&&D&&D.length?Br(S,D,f,vt):S}var Id=vh(function(S,D){var vt=S==null?0:S.length,Jt=gs(S,D);return mi(S,Vi(D,function(ge){return zl(ge,vt)?+ge:ge}).sort(mh)),Jt});function Zs(S,D){var vt=[];if(!(S&&S.length))return vt;var Jt=-1,ge=[],je=S.length;for(D=oi(D,3);++Jt<je;){var Ve=S[Jt];D(Ve,Jt,S)&&(vt.push(Ve),ge.push(Jt))}return mi(S,ge),vt}function Pf(S){return S==null?S:Y0.call(S)}function v1(S,D,vt){var Jt=S==null?0:S.length;return Jt?(vt&&typeof vt!="number"&&ga(S,D,vt)?(D=0,vt=Jt):(D=D==null?0:Li(D),vt=vt===f?Jt:Li(vt)),Yo(S,D,vt)):[]}function Qo(S,D){return Ta(S,D)}function cc(S,D,vt){return wl(S,D,oi(vt,2))}function Oa(S,D){var vt=S==null?0:S.length;if(vt){var Jt=Ta(S,D);if(Jt<vt&&Is(S[Jt],D))return Jt}return-1}function Vo(S,D){return Ta(S,D,!0)}function la(S,D,vt){return wl(S,D,oi(vt,2),!0)}function wh(S,D){var vt=S==null?0:S.length;if(vt){var Jt=Ta(S,D,!0)-1;if(Is(S[Jt],D))return Jt}return-1}function Jy(S){return S&&S.length?Z0(S):[]}function Rf(S,D){return S&&S.length?Z0(S,oi(D,2)):[]}function Zh(S){var D=S==null?0:S.length;return D?Yo(S,1,D):[]}function _h(S,D,vt){return S&&S.length?(D=vt||D===f?1:Li(D),Yo(S,0,D<0?0:D)):[]}function Df(S,D,vt){var Jt=S==null?0:S.length;return Jt?(D=vt||D===f?1:Li(D),D=Jt-D,Yo(S,D<0?0:D,Jt)):[]}function b1(S,D){return S&&S.length?qh(S,oi(D,3),!1,!0):[]}function Up(S,D){return S&&S.length?qh(S,oi(D,3)):[]}var x1=Xe(function(S){return uu(Ka(S,1,va,!0))}),w1=Xe(function(S){var D=Hl(S);return va(D)&&(D=f),uu(Ka(S,1,va,!0),oi(D,2))}),_1=Xe(function(S){var D=Hl(S);return D=typeof D=="function"?D:f,uu(Ka(S,1,va,!0),f,D)});function k1(S){return S&&S.length?uu(S):[]}function C1(S,D){return S&&S.length?uu(S,oi(D,2)):[]}function im(S,D){return D=typeof D=="function"?D:f,S&&S.length?uu(S,f,D):[]}function Hp(S){if(!(S&&S.length))return[];var D=0;return S=Ra(S,function(vt){if(va(vt))return D=Ca(vt.length,D),!0}),Fa(D,function(vt){return Vi(S,rs(vt))})}function S1(S,D){if(!(S&&S.length))return[];var vt=Hp(S);return D==null?vt:Vi(vt,function(Jt){return Ga(D,f,Jt)})}var $p=Xe(function(S,D){return va(S)?Nl(S,D):[]}),Nd=Xe(function(S){return Bp(Ra(S,va))}),lc=Xe(function(S){var D=Hl(S);return va(D)&&(D=f),Bp(Ra(S,va),oi(D,2))}),jc=Xe(function(S){var D=Hl(S);return D=typeof D=="function"?D:f,Bp(Ra(S,va),f,D)}),ls=Xe(Hp);function Kh(S,D){return Ug(S||[],D||[],Lu)}function Ru(S,D){return Ug(S||[],D||[],$r)}var E1=Xe(function(S){var D=S.length,vt=D>1?S[D-1]:f;return vt=typeof vt=="function"?(S.pop(),vt):f,S1(S,vt)});function T1(S){var D=Ee(S);return D.__chain__=!0,D}function qp(S,D){return D(S),S}function Jh(S,D){return D(S)}var A1=vh(function(S){var D=S.length,vt=D?S[0]:0,Jt=this.__wrapped__,ge=function(je){return gs(je,S)};return D>1||this.__actions__.length||!(Jt instanceof Ti)||!zl(vt)?this.thru(ge):(Jt=Jt.slice(vt,+vt+(D?1:0)),Jt.__actions__.push({func:Jh,args:[ge],thisArg:f}),new Vs(Jt,this.__chain__).thru(function(je){return D&&!je.length&&je.push(f),je}))});function Qy(){return T1(this)}function tv(){return new Vs(this.value(),this.__chain__)}function el(){this.__values__===f&&(this.__values__=rd(this.value()));var S=this.__index__>=this.__values__.length,D=S?f:this.__values__[this.__index__++];return{done:S,value:D}}function ev(){return this}function om(S){for(var D,vt=this;vt instanceof Sd;){var Jt=Fp(vt);Jt.__index__=0,Jt.__values__=f,D?ge.__wrapped__=Jt:D=Jt;var ge=Jt;vt=vt.__wrapped__}return ge.__wrapped__=S,D}function nv(){var S=this.__wrapped__;if(S instanceof Ti){var D=S;return this.__actions__.length&&(D=new Ti(this)),D=D.reverse(),D.__actions__.push({func:Jh,args:[Pf],thisArg:f}),new Vs(D,this.__chain__)}return this.thru(Pf)}function $l(){return Dl(this.__wrapped__,this.__actions__)}var fi=t1(function(S,D,vt){Xi.call(S,vt)?++S[vt]:ic(S,vt,1)});function Qh(S,D,vt){var Jt=yi(S)?ih:Ls;return vt&&ga(S,D,vt)&&(D=f),Jt(S,oi(D,3))}function Fi(S,D){var vt=yi(S)?Ra:xf;return vt(S,oi(D,3))}var $a=Wg(u1),O1=Wg(h1);function uc(S,D){return Ka(ed(S,D),1)}function Wo(S,D){return Ka(ed(S,D),ct)}function ni(S,D,vt){return vt=vt===f?1:Li(vt),Ka(ed(S,D),vt)}function ro(S,D){var vt=yi(S)?Gi:as;return vt(S,oi(D,3))}function td(S,D){var vt=yi(S)?qc:Hh;return vt(S,oi(D,3))}var Ic=t1(function(S,D,vt){Xi.call(S,vt)?S[vt].push(D):ic(S,vt,[D])});function qr(S,D,vt,Jt){S=vs(S)?S:np(S),vt=vt&&!Jt?Li(vt):0;var ge=S.length;return vt<0&&(vt=Ca(ge+vt,0)),Ns(S)?vt<=ge&&S.indexOf(D,vt)>-1:!!ge&&Hs(S,D,vt)>-1}var Ff=Xe(function(S,D,vt){var Jt=-1,ge=typeof D=="function",je=vs(S)?In(S.length):[];return as(S,function(Ve){je[++Jt]=ge?Ga(D,Ve,vt):ss(Ve,D,vt)}),je}),M1=t1(function(S,D,vt){ic(S,vt,D)});function ed(S,D){var vt=yi(S)?Vi:Ln;return vt(S,oi(D,3))}function Yp(S,D,vt,Jt){return S==null?[]:(yi(D)||(D=D==null?[]:[D]),vt=Jt?f:vt,yi(vt)||(vt=vt==null?[]:[vt]),zr(S,D,vt))}var L1=t1(function(S,D,vt){S[vt?0:1].push(D)},function(){return[[],[]]});function Rr(S,D,vt){var Jt=yi(S)?ns:oa,ge=arguments.length<3;return Jt(S,oi(D,4),vt,ge,as)}function _l(S,D,vt){var Jt=yi(S)?yd:oa,ge=arguments.length<3;return Jt(S,oi(D,4),vt,ge,Hh)}function ys(S,D){var vt=yi(S)?Ra:xf;return vt(S,js(oi(D,3)))}function B1(S){var D=yi(S)?X0:hr;return D(S)}function rv(S,D,vt){(vt?ga(S,D,vt):D===f)?D=1:D=Li(D);var Jt=yi(S)?zh:Gn;return Jt(S,D)}function hc(S){var D=yi(S)?Lp:So;return D(S)}function Vp(S){if(S==null)return 0;if(vs(S))return Ns(S)?Ml(S):S.length;var D=bo(S);return D==Xt||D==qt?S.size:te(S).length}function ta(S,D,vt){var Jt=yi(S)?ka:xl;return vt&&ga(S,D,vt)&&(D=f),Jt(S,oi(D,3))}var Wp=Xe(function(S,D){if(S==null)return[];var vt=D.length;return vt>1&&ga(S,D[0],D[1])?D=[]:vt>2&&ga(D[0],D[1],D[2])&&(D=[D[0]]),zr(S,Ka(D,1),[])}),zf=Su||function(){return ia.Date.now()};function j1(S,D){if(typeof D!="function")throw new da(u);return S=Li(S),function(){if(--S<1)return D.apply(this,arguments)}}function Uf(S,D,vt){return D=vt?f:D,D=S&&D==null?S.length:D,Mc(S,$,f,f,f,f,D)}function I1(S,D){var vt;if(typeof D!="function")throw new da(u);return S=Li(S),function(){return--S>0&&(vt=D.apply(this,arguments)),S<=1&&(D=f),vt}}var nl=Xe(function(S,D,vt){var Jt=h;if(vt.length){var ge=_i(vt,Lf(nl));Jt|=P}return Mc(S,Jt,D,vt,ge)}),am=Xe(function(S,D,vt){var Jt=h|a;if(vt.length){var ge=_i(vt,Lf(am));Jt|=P}return Mc(D,Jt,S,vt,ge)});function sm(S,D,vt){D=vt?f:D;var Jt=Mc(S,_,f,f,f,f,f,D);return Jt.placeholder=sm.placeholder,Jt}function Hf(S,D,vt){D=vt?f:D;var Jt=Mc(S,M,f,f,f,f,f,D);return Jt.placeholder=Hf.placeholder,Jt}function Gp(S,D,vt){var Jt,ge,je,Ve,ln,Cn,Xn=0,Zn=!1,rr=!1,Or=!0;if(typeof S!="function")throw new da(u);D=Rs(D)||0,Ki(vt)&&(Zn=!!vt.leading,rr="maxWait"in vt,je=rr?Ca(Rs(vt.maxWait)||0,D):je,Or="trailing"in vt?!!vt.trailing:Or);function Yr(La){var gu=Jt,mu=ge;return Jt=ge=f,Xn=La,Ve=S.apply(mu,gu),Ve}function li(La){return Xn=La,ln=cs(Ri,D),Zn?Yr(La):Ve}function Pi(La){var gu=La-Cn,mu=La-Xn,Rm=D-gu;return rr?Jo(Rm,je-mu):Rm}function ai(La){var gu=La-Cn,mu=La-Xn;return Cn===f||gu>=D||gu<0||rr&&mu>=je}function Ri(){var La=zf();if(ai(La))return Bi(La);ln=cs(Ri,Pi(La))}function Bi(La){return ln=f,Or&&Jt?Yr(La):(Jt=ge=f,Ve)}function Js(){ln!==f&&Q0(ln),Xn=0,Jt=Cn=ge=ln=f}function xs(){return ln===f?Ve:Bi(zf())}function dc(){var La=zf(),gu=ai(La);if(Jt=arguments,ge=this,Cn=La,gu){if(ln===f)return li(Cn);if(rr)return Q0(ln),ln=cs(Ri,D),Yr(Cn)}return ln===f&&(ln=cs(Ri,D)),Ve}return dc.cancel=Js,dc.flush=xs,dc}var Pd=Xe(function(S,D){return Bu(S,1,D)}),ea=Xe(function(S,D,vt){return Bu(S,Rs(D)||0,vt)});function Ks(S){return Mc(S,j)}function ua(S,D){if(typeof S!="function"||D!=null&&typeof D!="function")throw new da(u);var vt=function(){var Jt=arguments,ge=D?D.apply(this,Jt):Jt[0],je=vt.cache;if(je.has(ge))return je.get(ge);var Ve=S.apply(this,Jt);return vt.cache=je.set(ge,Ve)||je,Ve};return vt.cache=new(ua.Cache||ou),vt}ua.Cache=ou;function js(S){if(typeof S!="function")throw new da(u);return function(){var D=arguments;switch(D.length){case 0:return!S.call(this);case 1:return!S.call(this,D[0]);case 2:return!S.call(this,D[0],D[1]);case 3:return!S.call(this,D[0],D[1],D[2])}return!S.apply(this,D)}}function Du(S){return I1(2,S)}var Xp=Ip(function(S,D){D=D.length==1&&yi(D[0])?Vi(D[0],gt(oi())):Vi(Ka(D,1),gt(oi()));var vt=D.length;return Xe(function(Jt){for(var ge=-1,je=Jo(Jt.length,vt);++ge<je;)Jt[ge]=D[ge].call(this,Jt[ge]);return Ga(S,this,Jt)})}),$f=Xe(function(S,D){var vt=_i(D,Lf($f));return Mc(S,P,f,D,vt)}),ql=Xe(function(S,D){var vt=_i(D,Lf(ql));return Mc(S,R,f,D,vt)}),Zp=vh(function(S,D){return Mc(S,F,f,f,f,D)});function nd(S,D){if(typeof S!="function")throw new da(u);return D=D===f?D:Li(D),Xe(S,D)}function kh(S,D){if(typeof S!="function")throw new da(u);return D=D==null?0:Ca(Li(D),0),Xe(function(vt){var Jt=vt[D],ge=gh(vt,0,D);return Jt&&Yc(ge,Jt),Ga(S,this,ge)})}function Kp(S,D,vt){var Jt=!0,ge=!0;if(typeof S!="function")throw new da(u);return Ki(vt)&&(Jt="leading"in vt?!!vt.leading:Jt,ge="trailing"in vt?!!vt.trailing:ge),Gp(S,D,{leading:Jt,maxWait:D,trailing:ge})}function qf(S){return Uf(S,1)}function Fu(S,D){return $f(kf(D),S)}function N1(){if(!arguments.length)return[];var S=arguments[0];return yi(S)?S:[S]}function iv(S){return Sa(S,E)}function ov(S,D){return D=typeof D=="function"?D:f,Sa(S,E,D)}function Jp(S){return Sa(S,y|E)}function av(S,D){return D=typeof D=="function"?D:f,Sa(S,y|E,D)}function Qp(S,D){return D==null||Ea(S,D,Ma(D))}function Is(S,D){return S===D||S!==S&&D!==D}var P1=yh(Tc),Rd=yh(function(S,D){return S>=D}),Ch=ht(function(){return arguments}())?ht:function(S){return Ji(S)&&Xi.call(S,"callee")&&!Kl.call(S,"callee")},yi=In.isArray,t0=xc?gt(xc):H;function vs(S){return S!=null&&bs(S.length)&&!Uu(S)}function va(S){return Ji(S)&&vs(S)}function R1(S){return S===!0||S===!1||Ji(S)&&Ws(S)==Pt}var Nc=lh||ap,e0=ir?gt(ir):At;function n0(S){return Ji(S)&&S.nodeType===1&&!na(S)}function Yf(S){if(S==null)return!0;if(vs(S)&&(yi(S)||typeof S=="string"||typeof S.splice=="function"||Nc(S)||kl(S)||Ch(S)))return!S.length;var D=bo(S);if(D==Xt||D==qt)return!S.size;if(jf(S))return!te(S).length;for(var vt in S)if(Xi.call(S,vt))return!1;return!0}function Vf(S,D){return q(S,D)}function r0(S,D,vt){vt=typeof vt=="function"?vt:f;var Jt=vt?vt(S,D):f;return Jt===f?q(S,D,f,vt):!!Jt}function Dd(S){if(!Ji(S))return!1;var D=Ws(S);return D==ne||D==Yt||typeof S.message=="string"&&typeof S.name=="string"&&!na(S)}function zu(S){return typeof S=="number"&&Xc(S)}function Uu(S){if(!Ki(S))return!1;var D=Ws(S);return D==Qt||D==Kt||D==xt||D==ut}function cm(S){return typeof S=="number"&&S==Li(S)}function bs(S){return typeof S=="number"&&S>-1&&S%1==0&&S<=lt}function Ki(S){var D=typeof S;return S!=null&&(D=="object"||D=="function")}function Ji(S){return S!=null&&typeof S=="object"}var Pc=_u?gt(_u):Q;function Wf(S,D){return S===D||ot(S,D,Zg(D))}function Gf(S,D,vt){return vt=typeof vt=="function"?vt:f,ot(S,D,Zg(D),vt)}function i0(S){return lm(S)&&S!=+S}function sv(S){if(Yy(S))throw new Wr(d);return r(S)}function o0(S){return S===null}function cv(S){return S==null}function lm(S){return typeof S=="number"||Ji(S)&&Ws(S)==se}function na(S){if(!Ji(S)||Ws(S)!=re)return!1;var D=Wc(S);if(D===null)return!0;var vt=Xi.call(D,"constructor")&&D.constructor;return typeof vt=="function"&&vt instanceof vt&&nc.call(vt)==Vc}var Yl=so?gt(so):b;function D1(S){return cm(S)&&S>=-lt&&S<=lt}var F1=$c?gt($c):Z;function Ns(S){return typeof S=="string"||!yi(S)&&Ji(S)&&Ws(S)==Nt}function Ps(S){return typeof S=="symbol"||Ji(S)&&Ws(S)==Vt}var kl=Gl?gt(Gl):dt;function Fd(S){return S===f}function um(S){return Ji(S)&&bo(S)==Wt}function hm(S){return Ji(S)&&Ws(S)==Ft}var Xf=yh(Ke),fu=yh(function(S,D){return S<=D});function rd(S){if(!S)return[];if(vs(S))return Ns(S)?za(S):Oc(S);if($o&&S[$o])return Ir(S[$o]());var D=bo(S),vt=D==Xt?Ci:D==qt?No:np;return vt(S)}function Hu(S){if(!S)return S===0?S:0;if(S=Rs(S),S===ct||S===-ct){var D=S<0?-1:1;return D*J}return S===S?S:0}function Li(S){var D=Hu(S),vt=D%1;return D===D?vt?D-vt:D:0}function lv(S){return S?Ec(Li(S),0,Tt):0}function Rs(S){if(typeof S=="number")return S;if(Ps(S))return Bt;if(Ki(S)){var D=typeof S.valueOf=="function"?S.valueOf():S;S=Ki(D)?D+"":D}if(typeof S!="string")return S===0?S:+S;S=Mi(S);var vt=Hr.test(S);return vt||br.test(S)?Io(S.slice(2),vt?2:8):_r.test(S)?Bt:+S}function z1(S){return Aa(S,us(S))}function dm(S){return S?Ec(Li(S),-lt,lt):S===0?S:0}function xo(S){return S==null?"":Ac(S)}var fm=Sf(function(S,D){if(jf(D)||vs(D)){Aa(D,Ma(D),S);return}for(var vt in D)Xi.call(D,vt)&&Lu(S,vt,D[vt])}),U1=Sf(function(S,D){Aa(D,us(D),S)}),Zf=Sf(function(S,D,vt,Jt){Aa(D,us(D),S,Jt)}),H1=Sf(function(S,D,vt,Jt){Aa(D,Ma(D),S,Jt)}),pm=vh(gs);function gm(S,D){var vt=bl(S);return D==null?vt:Ad(vt,D)}var a0=Xe(function(S,D){S=vo(S);var vt=-1,Jt=D.length,ge=Jt>2?D[2]:f;for(ge&&ga(D[0],D[1],ge)&&(Jt=1);++vt<Jt;)for(var je=D[vt],Ve=us(je),ln=-1,Cn=Ve.length;++ln<Cn;){var Xn=Ve[ln],Zn=S[Xn];(Zn===f||Is(Zn,pl[Xn])&&!Xi.call(S,Xn))&&(S[Xn]=je[Xn])}return S}),Kf=Xe(function(S){return S.push(f,Af),Ga(Hd,f,S)});function Jf(S,D){return Da(S,oi(D,3),Co)}function zd(S,D){return Da(S,oi(D,3),lu)}function uv(S,D){return S==null?S:Pl(S,oi(D,3),us)}function mm(S,D){return S==null?S:ju(S,oi(D,3),us)}function $1(S,D){return S&&Co(S,oi(D,3))}function ym(S,D){return S&&lu(S,oi(D,3))}function vm(S){return S==null?[]:sa(S,Ma(S))}function Pb(S){return S==null?[]:sa(S,us(S))}function bm(S,D,vt){var Jt=S==null?f:Rl(S,D);return Jt===f?vt:Jt}function Ud(S,D){return S!=null&&Qg(S,D,Jc)}function Qf(S,D){return S!=null&&Qg(S,D,_f)}var s0=Gg(function(S,D,vt){D!=null&&typeof D.toString!="function"&&(D=Ll.call(D)),S[D]=vt},Zd(Rc)),tp=Gg(function(S,D,vt){D!=null&&typeof D.toString!="function"&&(D=Ll.call(D)),Xi.call(S,D)?S[D].push(vt):S[D]=[vt]},oi),ep=Xe(ss);function Ma(S){return vs(S)?su(S):te(S)}function us(S){return vs(S)?su(S,!0):Ce(S)}function q1(S,D){var vt={};return D=oi(D,3),Co(S,function(Jt,ge,je){ic(vt,D(Jt,ge,je),Jt)}),vt}function c0(S,D){var vt={};return D=oi(D,3),Co(S,function(Jt,ge,je){ic(vt,ge,D(Jt,ge,je))}),vt}var Rb=Sf(function(S,D,vt){fr(S,D,vt)}),Hd=Sf(function(S,D,vt,Jt){fr(S,D,vt,Jt)}),hv=vh(function(S,D){var vt={};if(S==null)return vt;var Jt=!1;D=Vi(D,function(je){return je=Bs(je,S),Jt||(Jt=je.length>1),je}),Aa(S,Of(S),vt),Jt&&(vt=Sa(vt,y|k|E,Xg));for(var ge=D.length;ge--;)J0(vt,D[ge]);return vt});function $u(S,D){return l0(S,js(oi(D)))}var xm=vh(function(S,D){return S==null?{}:Si(S,D)});function l0(S,D){if(S==null)return{};var vt=Vi(Of(S),function(Jt){return[Jt]});return D=oi(D),ho(S,vt,function(Jt,ge){return D(Jt,ge[0])})}function Y1(S,D,vt){D=Bs(D,S);var Jt=-1,ge=D.length;for(ge||(ge=1,S=f);++Jt<ge;){var je=S==null?f:S[Pr(D[Jt])];je===f&&(Jt=ge,je=vt),S=Uu(je)?je.call(S):je}return S}function V1(S,D,vt){return S==null?S:$r(S,D,vt)}function u0(S,D,vt,Jt){return Jt=typeof Jt=="function"?Jt:f,S==null?S:$r(S,D,vt,Jt)}var wm=Xs(Ma),W1=Xs(us);function id(S,D,vt){var Jt=yi(S),ge=Jt||Nc(S)||kl(S);if(D=oi(D,4),vt==null){var je=S&&S.constructor;ge?vt=Jt?new je:[]:Ki(S)?vt=Uu(je)?bl(Wc(S)):{}:vt={}}return(ge?Gi:Co)(S,function(Ve,ln,Cn){return D(vt,Ve,ln,Cn)}),vt}function G1(S,D){return S==null?!0:J0(S,D)}function dv(S,D,vt){return S==null?S:Ly(S,D,kf(vt))}function X1(S,D,vt,Jt){return Jt=typeof Jt=="function"?Jt:f,S==null?S:Ly(S,D,kf(vt),Jt)}function np(S){return S==null?[]:$t(S,Ma(S))}function rp(S){return S==null?[]:$t(S,us(S))}function Db(S,D,vt){return vt===f&&(vt=D,D=f),vt!==f&&(vt=Rs(vt),vt=vt===vt?vt:0),D!==f&&(D=Rs(D),D=D===D?D:0),Ec(Rs(S),D,vt)}function _m(S,D,vt){return D=Hu(D),vt===f?(vt=D,D=0):vt=Hu(vt),S=Rs(S),Od(S,D,vt)}function h0(S,D,vt){if(vt&&typeof vt!="boolean"&&ga(S,D,vt)&&(D=vt=f),vt===f&&(typeof D=="boolean"?(vt=D,D=f):typeof S=="boolean"&&(vt=S,S=f)),S===f&&D===f?(S=0,D=1):(S=Hu(S),D===f?(D=S,S=0):D=Hu(D)),S>D){var Jt=S;S=D,D=Jt}if(vt||S%1||D%1){var ge=Eu();return Jo(S+ge*(D-S+Wa("1e-"+((ge+"").length-1))),D)}return qo(S,D)}var km=tl(function(S,D,vt){return D=D.toLowerCase(),S+(vt?fv(D):D)});function fv(S){return Gd(xo(S).toLowerCase())}function ip(S){return S=xo(S),S&&S.replace(xr,zn).replace(ui,"")}function d0(S,D,vt){S=xo(S),D=Ac(D);var Jt=S.length;vt=vt===f?Jt:Ec(Li(vt),0,Jt);var ge=vt;return vt-=D.length,vt>=0&&S.slice(vt,ge)==D}function Cm(S){return S=xo(S),S&&Mn.test(S)?S.replace(He,tr):S}function pv(S){return S=xo(S),S&&on.test(S)?S.replace(sn,"\\$&"):S}var $d=tl(function(S,D,vt){return S+(vt?"-":"")+D.toLowerCase()}),qd=tl(function(S,D,vt){return S+(vt?" ":"")+D.toLowerCase()}),Yd=Ef("toLowerCase");function Vd(S,D,vt){S=xo(S),D=Li(D);var Jt=D?Ml(S):0;if(!D||Jt>=D)return S;var ge=(D-Jt)/2;return Tf(tu(ge),vt)+S+Tf(Ql(ge),vt)}function pu(S,D,vt){S=xo(S),D=Li(D);var Jt=D?Ml(S):0;return D&&Jt<D?S+Tf(D-Jt,vt):S}function Sm(S,D,vt){S=xo(S),D=Li(D);var Jt=D?Ml(S):0;return D&&Jt<D?Tf(D-Jt,vt)+S:S}function Fb(S,D,vt){return vt||D==null?D=0:D&&(D=+D),ml(xo(S).replace(yn,""),D||0)}function Z1(S,D,vt){return(vt?ga(S,D,vt):D===f)?D=1:D=Li(D),gn(xo(S),D)}function zb(){var S=arguments,D=xo(S[0]);return S.length<3?D:D.replace(S[1],S[2])}var gv=tl(function(S,D,vt){return S+(vt?"_":"")+D.toLowerCase()});function od(S,D,vt){return vt&&typeof vt!="number"&&ga(S,D,vt)&&(D=vt=f),vt=vt===f?Tt:vt>>>0,vt?(S=xo(S),S&&(typeof D=="string"||D!=null&&!Yl(D))&&(D=Ac(D),!D&&dr(S))?gh(za(S),0,vt):S.split(D,vt)):[]}var K1=tl(function(S,D,vt){return S+(vt?" ":"")+Gd(D)});function Wd(S,D,vt){return S=xo(S),vt=vt==null?0:Ec(Li(vt),0,S.length),D=Ac(D),S.slice(vt,vt+D.length)==D}function J1(S,D,vt){var Jt=Ee.templateSettings;vt&&ga(S,D,vt)&&(D=f),S=xo(S),D=Zf({},D,Jt,e1);var ge=Zf({},D.imports,Jt.imports,e1),je=Ma(ge),Ve=$t(ge,je),ln,Cn,Xn=0,Zn=D.interpolate||kr,rr="__p += '",Or=ps((D.escape||kr).source+"|"+Zn.source+"|"+(Zn===mn?Zr:kr).source+"|"+(D.evaluate||kr).source+"|$","g"),Yr="//# sourceURL="+(Xi.call(D,"sourceURL")?(D.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++rn+"]")+`
`;S.replace(Or,function(ai,Ri,Bi,Js,xs,dc){return Bi||(Bi=Js),rr+=S.slice(Xn,dc).replace(En,nr),Ri&&(ln=!0,rr+=`' +
__e(`+Ri+`) +
'`),xs&&(Cn=!0,rr+=`';
`+xs+`;
__p += '`),Bi&&(rr+=`' +
((__t = (`+Bi+`)) == null ? '' : __t) +
'`),Xn=dc+ai.length,ai}),rr+=`';
`;var li=Xi.call(D,"variable")&&D.variable;if(!li)rr=`with (obj) {
`+rr+`
}
`;else if(Ye.test(li))throw new Wr(s);rr=(Cn?rr.replace(me,""):rr).replace(Oe,"$1").replace(Pe,"$1;"),rr="function("+(li||"obj")+`) {
`+(li?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ln?", __e = _.escape":"")+(Cn?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+rr+`return __p
}`;var Pi=f0(function(){return uo(je,Yr+"return "+rr).apply(f,Ve)});if(Pi.source=rr,Dd(Pi))throw Pi;return Pi}function Em(S){return xo(S).toLowerCase()}function Q1(S){return xo(S).toUpperCase()}function tg(S,D,vt){if(S=xo(S),S&&(vt||D===f))return Mi(S);if(!S||!(D=Ac(D)))return S;var Jt=za(S),ge=za(D),je=Me(Jt,ge),Ve=cn(Jt,ge)+1;return gh(Jt,je,Ve).join("")}function mv(S,D,vt){if(S=xo(S),S&&(vt||D===f))return S.slice(0,bd(S)+1);if(!S||!(D=Ac(D)))return S;var Jt=za(S),ge=cn(Jt,za(D))+1;return gh(Jt,0,ge).join("")}function qu(S,D,vt){if(S=xo(S),S&&(vt||D===f))return S.replace(yn,"");if(!S||!(D=Ac(D)))return S;var Jt=za(S),ge=Me(Jt,za(D));return gh(Jt,ge).join("")}function Yu(S,D){var vt=X,Jt=W;if(Ki(D)){var ge="separator"in D?D.separator:ge;vt="length"in D?Li(D.length):vt,Jt="omission"in D?Ac(D.omission):Jt}S=xo(S);var je=S.length;if(dr(S)){var Ve=za(S);je=Ve.length}if(vt>=je)return S;var ln=vt-Ml(Jt);if(ln<1)return Jt;var Cn=Ve?gh(Ve,0,ln).join(""):S.slice(0,ln);if(ge===f)return Cn+Jt;if(Ve&&(ln+=Cn.length-ln),Yl(ge)){if(S.slice(ln).search(ge)){var Xn,Zn=Cn;for(ge.global||(ge=ps(ge.source,xo(jr.exec(ge))+"g")),ge.lastIndex=0;Xn=ge.exec(Zn);)var rr=Xn.index;Cn=Cn.slice(0,rr===f?ln:rr)}}else if(S.indexOf(Ac(ge),ln)!=ln){var Or=Cn.lastIndexOf(ge);Or>-1&&(Cn=Cn.slice(0,Or))}return Cn+Jt}function Tm(S){return S=xo(S),S&&dn.test(S)?S.replace(ze,qs):S}var Am=tl(function(S,D,vt){return S+(vt?" ":"")+D.toUpperCase()}),Gd=Ef("toUpperCase");function Xd(S,D,vt){return S=xo(S),D=vt?f:D,D===f?Vr(S)?Ih(S):ah(S):S.match(D)||[]}var f0=Xe(function(S,D){try{return Ga(S,f,D)}catch(vt){return Dd(vt)?vt:new Wr(vt)}}),op=vh(function(S,D){return Gi(D,function(vt){vt=Pr(vt),ic(S,vt,nl(S[vt],S))}),S});function eg(S){var D=S==null?0:S.length,vt=oi();return S=D?Vi(S,function(Jt){if(typeof Jt[1]!="function")throw new da(u);return[vt(Jt[0]),Jt[1]]}):[],Xe(function(Jt){for(var ge=-1;++ge<D;){var je=S[ge];if(Ga(je[0],this,Jt))return Ga(je[1],this,Jt)}})}function ad(S){return Po(Sa(S,y))}function Zd(S){return function(){return S}}function Vl(S,D){return S==null||S!==S?D:S}var Kd=oc(),p0=oc(!0);function Rc(S){return S}function g0(S){return wt(typeof S=="function"?S:Sa(S,y))}function yv(S){return Qn(Sa(S,y))}function m0(S,D){return ur(S,Sa(D,y))}var vv=Xe(function(S,D){return function(vt){return ss(vt,S,D)}}),bv=Xe(function(S,D){return function(vt){return ss(S,vt,D)}});function y0(S,D,vt){var Jt=Ma(D),ge=sa(D,Jt);vt==null&&!(Ki(D)&&(ge.length||!Jt.length))&&(vt=D,D=S,S=this,ge=sa(D,Ma(D)));var je=!(Ki(vt)&&"chain"in vt)||!!vt.chain,Ve=Uu(S);return Gi(ge,function(ln){var Cn=D[ln];S[ln]=Cn,Ve&&(S.prototype[ln]=function(){var Xn=this.__chain__;if(je||Xn){var Zn=S(this.__wrapped__),rr=Zn.__actions__=Oc(this.__actions__);return rr.push({func:Cn,args:arguments,thisArg:S}),Zn.__chain__=Xn,Zn}return Cn.apply(S,Yc([this.value()],arguments))})}),S}function Om(){return ia._===this&&(ia._=xd),this}function Jd(){}function ng(S){return S=Li(S),Xe(function(D){return Ur(D,S)})}var xv=Yh(Vi),wv=Yh(ih),sd=Yh(ka);function Wl(S){return Bf(S)?rs(Pr(S)):gi(S)}function cd(S){return function(D){return S==null?f:Rl(S,D)}}var rg=Dy(),Ub=Dy(!0);function v0(){return[]}function ap(){return!1}function Mm(){return{}}function Lm(){return""}function b0(){return!0}function Hb(S,D){if(S=Li(S),S<1||S>lt)return[];var vt=Tt,Jt=Jo(S,Tt);D=oi(D),S-=Tt;for(var ge=Fa(Jt,D);++vt<S;)D(vt);return ge}function x0(S){return yi(S)?Vi(S,Pr):Ps(S)?[S]:Oc(sc(xo(S)))}function ig(S){var D=++mf;return xo(S)+D}var Bm=Bd(function(S,D){return S+D},0),og=Nu("ceil"),jm=Bd(function(S,D){return S/D},1),Im=Nu("floor");function w0(S){return S&&S.length?ms(S,Rc,Tc):f}function Nm(S,D){return S&&S.length?ms(S,oi(D,2),Tc):f}function _v(S){return wc(S,Rc)}function $b(S,D){return wc(S,oi(D,2))}function _0(S){return S&&S.length?ms(S,Rc,Ke):f}function Vu(S,D){return S&&S.length?ms(S,oi(D,2),Ke):f}var sp=Bd(function(S,D){return S*D},1),ag=Nu("round"),Pm=Bd(function(S,D){return S-D},0);function k0(S){return S&&S.length?is(S,Rc):0}function kv(S,D){return S&&S.length?is(S,oi(D,2)):0}return Ee.after=j1,Ee.ary=Uf,Ee.assign=fm,Ee.assignIn=U1,Ee.assignInWith=Zf,Ee.assignWith=H1,Ee.at=pm,Ee.before=I1,Ee.bind=nl,Ee.bindAll=op,Ee.bindKey=am,Ee.castArray=N1,Ee.chain=T1,Ee.chunk=c1,Ee.compact=Nr,Ee.concat=Ul,Ee.cond=eg,Ee.conforms=ad,Ee.constant=Zd,Ee.countBy=fi,Ee.create=gm,Ee.curry=sm,Ee.curryRight=Hf,Ee.debounce=Gp,Ee.defaults=a0,Ee.defaultsDeep=Kf,Ee.defer=Pd,Ee.delay=ea,Ee.difference=ma,Ee.differenceBy=nm,Ee.differenceWith=l1,Ee.drop=Bc,Ee.dropRight=Gy,Ee.dropRightWhile=ya,Ee.dropWhile=xh,Ee.fill=Xy,Ee.filter=Fi,Ee.flatMap=uc,Ee.flatMapDeep=Wo,Ee.flatMapDepth=ni,Ee.flatten=rm,Ee.flattenDeep=du,Ee.flattenDepth=Zy,Ee.flip=Ks,Ee.flow=Kd,Ee.flowRight=p0,Ee.fromPairs=Ky,Ee.functions=vm,Ee.functionsIn=Pb,Ee.groupBy=Ic,Ee.initial=f1,Ee.intersection=p1,Ee.intersectionBy=g1,Ee.intersectionWith=Pu,Ee.invert=s0,Ee.invertBy=tp,Ee.invokeMap=Ff,Ee.iteratee=g0,Ee.keyBy=M1,Ee.keys=Ma,Ee.keysIn=us,Ee.map=ed,Ee.mapKeys=q1,Ee.mapValues=c0,Ee.matches=yv,Ee.matchesProperty=m0,Ee.memoize=ua,Ee.merge=Rb,Ee.mergeWith=Hd,Ee.method=vv,Ee.methodOf=bv,Ee.mixin=y0,Ee.negate=js,Ee.nthArg=ng,Ee.omit=hv,Ee.omitBy=$u,Ee.once=Du,Ee.orderBy=Yp,Ee.over=xv,Ee.overArgs=Xp,Ee.overEvery=wv,Ee.overSome=sd,Ee.partial=$f,Ee.partialRight=ql,Ee.partition=L1,Ee.pick=xm,Ee.pickBy=l0,Ee.property=Wl,Ee.propertyOf=cd,Ee.pull=Nb,Ee.pullAll=zp,Ee.pullAllBy=jd,Ee.pullAllWith=y1,Ee.pullAt=Id,Ee.range=rg,Ee.rangeRight=Ub,Ee.rearg=Zp,Ee.reject=ys,Ee.remove=Zs,Ee.rest=nd,Ee.reverse=Pf,Ee.sampleSize=rv,Ee.set=V1,Ee.setWith=u0,Ee.shuffle=hc,Ee.slice=v1,Ee.sortBy=Wp,Ee.sortedUniq=Jy,Ee.sortedUniqBy=Rf,Ee.split=od,Ee.spread=kh,Ee.tail=Zh,Ee.take=_h,Ee.takeRight=Df,Ee.takeRightWhile=b1,Ee.takeWhile=Up,Ee.tap=qp,Ee.throttle=Kp,Ee.thru=Jh,Ee.toArray=rd,Ee.toPairs=wm,Ee.toPairsIn=W1,Ee.toPath=x0,Ee.toPlainObject=z1,Ee.transform=id,Ee.unary=qf,Ee.union=x1,Ee.unionBy=w1,Ee.unionWith=_1,Ee.uniq=k1,Ee.uniqBy=C1,Ee.uniqWith=im,Ee.unset=G1,Ee.unzip=Hp,Ee.unzipWith=S1,Ee.update=dv,Ee.updateWith=X1,Ee.values=np,Ee.valuesIn=rp,Ee.without=$p,Ee.words=Xd,Ee.wrap=Fu,Ee.xor=Nd,Ee.xorBy=lc,Ee.xorWith=jc,Ee.zip=ls,Ee.zipObject=Kh,Ee.zipObjectDeep=Ru,Ee.zipWith=E1,Ee.entries=wm,Ee.entriesIn=W1,Ee.extend=U1,Ee.extendWith=Zf,y0(Ee,Ee),Ee.add=Bm,Ee.attempt=f0,Ee.camelCase=km,Ee.capitalize=fv,Ee.ceil=og,Ee.clamp=Db,Ee.clone=iv,Ee.cloneDeep=Jp,Ee.cloneDeepWith=av,Ee.cloneWith=ov,Ee.conformsTo=Qp,Ee.deburr=ip,Ee.defaultTo=Vl,Ee.divide=jm,Ee.endsWith=d0,Ee.eq=Is,Ee.escape=Cm,Ee.escapeRegExp=pv,Ee.every=Qh,Ee.find=$a,Ee.findIndex=u1,Ee.findKey=Jf,Ee.findLast=O1,Ee.findLastIndex=h1,Ee.findLastKey=zd,Ee.floor=Im,Ee.forEach=ro,Ee.forEachRight=td,Ee.forIn=uv,Ee.forInRight=mm,Ee.forOwn=$1,Ee.forOwnRight=ym,Ee.get=bm,Ee.gt=P1,Ee.gte=Rd,Ee.has=Ud,Ee.hasIn=Qf,Ee.head=d1,Ee.identity=Rc,Ee.includes=qr,Ee.indexOf=Nf,Ee.inRange=_m,Ee.invoke=ep,Ee.isArguments=Ch,Ee.isArray=yi,Ee.isArrayBuffer=t0,Ee.isArrayLike=vs,Ee.isArrayLikeObject=va,Ee.isBoolean=R1,Ee.isBuffer=Nc,Ee.isDate=e0,Ee.isElement=n0,Ee.isEmpty=Yf,Ee.isEqual=Vf,Ee.isEqualWith=r0,Ee.isError=Dd,Ee.isFinite=zu,Ee.isFunction=Uu,Ee.isInteger=cm,Ee.isLength=bs,Ee.isMap=Pc,Ee.isMatch=Wf,Ee.isMatchWith=Gf,Ee.isNaN=i0,Ee.isNative=sv,Ee.isNil=cv,Ee.isNull=o0,Ee.isNumber=lm,Ee.isObject=Ki,Ee.isObjectLike=Ji,Ee.isPlainObject=na,Ee.isRegExp=Yl,Ee.isSafeInteger=D1,Ee.isSet=F1,Ee.isString=Ns,Ee.isSymbol=Ps,Ee.isTypedArray=kl,Ee.isUndefined=Fd,Ee.isWeakMap=um,Ee.isWeakSet=hm,Ee.join=jb,Ee.kebabCase=$d,Ee.last=Hl,Ee.lastIndexOf=Ib,Ee.lowerCase=qd,Ee.lowerFirst=Yd,Ee.lt=Xf,Ee.lte=fu,Ee.max=w0,Ee.maxBy=Nm,Ee.mean=_v,Ee.meanBy=$b,Ee.min=_0,Ee.minBy=Vu,Ee.stubArray=v0,Ee.stubFalse=ap,Ee.stubObject=Mm,Ee.stubString=Lm,Ee.stubTrue=b0,Ee.multiply=sp,Ee.nth=m1,Ee.noConflict=Om,Ee.noop=Jd,Ee.now=zf,Ee.pad=Vd,Ee.padEnd=pu,Ee.padStart=Sm,Ee.parseInt=Fb,Ee.random=h0,Ee.reduce=Rr,Ee.reduceRight=_l,Ee.repeat=Z1,Ee.replace=zb,Ee.result=Y1,Ee.round=ag,Ee.runInContext=xn,Ee.sample=B1,Ee.size=Vp,Ee.snakeCase=gv,Ee.some=ta,Ee.sortedIndex=Qo,Ee.sortedIndexBy=cc,Ee.sortedIndexOf=Oa,Ee.sortedLastIndex=Vo,Ee.sortedLastIndexBy=la,Ee.sortedLastIndexOf=wh,Ee.startCase=K1,Ee.startsWith=Wd,Ee.subtract=Pm,Ee.sum=k0,Ee.sumBy=kv,Ee.template=J1,Ee.times=Hb,Ee.toFinite=Hu,Ee.toInteger=Li,Ee.toLength=lv,Ee.toLower=Em,Ee.toNumber=Rs,Ee.toSafeInteger=dm,Ee.toString=xo,Ee.toUpper=Q1,Ee.trim=tg,Ee.trimEnd=mv,Ee.trimStart=qu,Ee.truncate=Yu,Ee.unescape=Tm,Ee.uniqueId=ig,Ee.upperCase=Am,Ee.upperFirst=Gd,Ee.each=ro,Ee.eachRight=td,Ee.first=d1,y0(Ee,function(){var S={};return Co(Ee,function(D,vt){Xi.call(Ee.prototype,vt)||(S[vt]=D)}),S}(),{chain:!1}),Ee.VERSION=I,Gi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(S){Ee[S].placeholder=Ee}),Gi(["drop","take"],function(S,D){Ti.prototype[S]=function(vt){vt=vt===f?1:Ca(Li(vt),0);var Jt=this.__filtered__&&!D?new Ti(this):this.clone();return Jt.__filtered__?Jt.__takeCount__=Jo(vt,Jt.__takeCount__):Jt.__views__.push({size:Jo(vt,Tt),type:S+(Jt.__dir__<0?"Right":"")}),Jt},Ti.prototype[S+"Right"]=function(vt){return this.reverse()[S](vt).reverse()}}),Gi(["filter","map","takeWhile"],function(S,D){var vt=D+1,Jt=vt==st||vt==pt;Ti.prototype[S]=function(ge){var je=this.clone();return je.__iteratees__.push({iteratee:oi(ge,3),type:vt}),je.__filtered__=je.__filtered__||Jt,je}}),Gi(["head","last"],function(S,D){var vt="take"+(D?"Right":"");Ti.prototype[S]=function(){return this[vt](1).value()[0]}}),Gi(["initial","tail"],function(S,D){var vt="drop"+(D?"":"Right");Ti.prototype[S]=function(){return this.__filtered__?new Ti(this):this[vt](1)}}),Ti.prototype.compact=function(){return this.filter(Rc)},Ti.prototype.find=function(S){return this.filter(S).head()},Ti.prototype.findLast=function(S){return this.reverse().find(S)},Ti.prototype.invokeMap=Xe(function(S,D){return typeof S=="function"?new Ti(this):this.map(function(vt){return ss(vt,S,D)})}),Ti.prototype.reject=function(S){return this.filter(js(oi(S)))},Ti.prototype.slice=function(S,D){S=Li(S);var vt=this;return vt.__filtered__&&(S>0||D<0)?new Ti(vt):(S<0?vt=vt.takeRight(-S):S&&(vt=vt.drop(S)),D!==f&&(D=Li(D),vt=D<0?vt.dropRight(-D):vt.take(D-S)),vt)},Ti.prototype.takeRightWhile=function(S){return this.reverse().takeWhile(S).reverse()},Ti.prototype.toArray=function(){return this.take(Tt)},Co(Ti.prototype,function(S,D){var vt=/^(?:filter|find|map|reject)|While$/.test(D),Jt=/^(?:head|last)$/.test(D),ge=Ee[Jt?"take"+(D=="last"?"Right":""):D],je=Jt||/^find/.test(D);ge&&(Ee.prototype[D]=function(){var Ve=this.__wrapped__,ln=Jt?[1]:arguments,Cn=Ve instanceof Ti,Xn=ln[0],Zn=Cn||yi(Ve),rr=function(Ri){var Bi=ge.apply(Ee,Yc([Ri],ln));return Jt&&Or?Bi[0]:Bi};Zn&&vt&&typeof Xn=="function"&&Xn.length!=1&&(Cn=Zn=!1);var Or=this.__chain__,Yr=!!this.__actions__.length,li=je&&!Or,Pi=Cn&&!Yr;if(!je&&Zn){Ve=Pi?Ve:new Ti(this);var ai=S.apply(Ve,ln);return ai.__actions__.push({func:Jh,args:[rr],thisArg:f}),new Vs(ai,Or)}return li&&Pi?S.apply(this,ln):(ai=this.thru(rr),li?Jt?ai.value()[0]:ai.value():ai)})}),Gi(["pop","push","shift","sort","splice","unshift"],function(S){var D=fl[S],vt=/^(?:push|sort|unshift)$/.test(S)?"tap":"thru",Jt=/^(?:pop|shift)$/.test(S);Ee.prototype[S]=function(){var ge=arguments;if(Jt&&!this.__chain__){var je=this.value();return D.apply(yi(je)?je:[],ge)}return this[vt](function(Ve){return D.apply(yi(Ve)?Ve:[],ge)})}}),Co(Ti.prototype,function(S,D){var vt=Ee[D];if(vt){var Jt=vt.name+"";Xi.call(vl,Jt)||(vl[Jt]=[]),vl[Jt].push({name:D,func:vt})}}),vl[Ld(f,a).name]=[{name:"wrapper",func:f}],Ti.prototype.clone=Ed,Ti.prototype.reverse=vf,Ti.prototype.value=Fg,Ee.prototype.at=A1,Ee.prototype.chain=Qy,Ee.prototype.commit=tv,Ee.prototype.next=el,Ee.prototype.plant=om,Ee.prototype.reverse=nv,Ee.prototype.toJSON=Ee.prototype.valueOf=Ee.prototype.value=$l,Ee.prototype.first=Ee.prototype.head,$o&&(Ee.prototype[$o]=ev),Ee},aa=ec();dl?((dl.exports=aa)._=aa,bc._=aa):ia._=aa}).call(vb)}(Zx,Zx.exports);var Sy=Zx.exports;let Q3=(U=21)=>crypto.getRandomValues(new Uint8Array(U)).reduce((l,f)=>(f&=63,f<36?l+=f.toString(36):f<62?l+=(f-26).toString(36).toUpperCase():f>62?l+="-":l+="_",l),"");const t4=Symbol("store-raw"),wb=Symbol("store-node");function S6(U){let l=U[hs];if(!l&&(Object.defineProperty(U,hs,{value:l=new Proxy(U,EC)}),!Array.isArray(U))){const f=Object.keys(U),I=Object.getOwnPropertyDescriptors(U);for(let L=0,d=f.length;L<d;L++){const u=f[L];I[u].get&&Object.defineProperty(U,u,{enumerable:I[u].enumerable,get:I[u].get.bind(l)})}}return l}function Kx(U){let l;return U!=null&&typeof U=="object"&&(U[hs]||!(l=Object.getPrototypeOf(U))||l===Object.prototype||Array.isArray(U))}function _b(U,l=new Set){let f,I,L,d;if(f=U!=null&&U[t4])return f;if(!Kx(U)||l.has(U))return U;if(Array.isArray(U)){Object.isFrozen(U)?U=U.slice(0):l.add(U);for(let u=0,s=U.length;u<s;u++)L=U[u],(I=_b(L,l))!==L&&(U[u]=I)}else{Object.isFrozen(U)?U=Object.assign({},U):l.add(U);const u=Object.keys(U),s=Object.getOwnPropertyDescriptors(U);for(let n=0,m=u.length;n<m;n++)d=u[n],!s[d].get&&(L=U[d],(I=_b(L,l))!==L&&(U[d]=I))}return U}function e4(U){let l=U[wb];return l||Object.defineProperty(U,wb,{value:l=Object.create(null)}),l}function n4(U,l,f){return U[l]||(U[l]=T6(f))}function CC(U,l){const f=Reflect.getOwnPropertyDescriptor(U,l);return!f||f.get||!f.configurable||l===hs||l===wb||(delete f.value,delete f.writable,f.get=()=>U[hs][l]),f}function E6(U){if(Dk()){const l=e4(U);(l._||(l._=T6()))()}}function SC(U){return E6(U),Reflect.ownKeys(U)}function T6(U){const[l,f]=wp(U,{equals:!1,internal:!0});return l.$=f,l}const EC={get(U,l,f){if(l===t4)return U;if(l===hs)return f;if(l===vy)return E6(U),f;const I=e4(U),L=I[l];let d=L?L():U[l];if(l===wb||l==="__proto__")return d;if(!L){const u=Object.getOwnPropertyDescriptor(U,l);Dk()&&(typeof d!="function"||U.hasOwnProperty(l))&&!(u&&u.get)&&(d=n4(I,l,d)())}return Kx(d)?S6(d):d},has(U,l){return l===t4||l===hs||l===vy||l===wb||l==="__proto__"?!0:(this.get(U,l,U),l in U)},set(){return!0},deleteProperty(){return!0},ownKeys:SC,getOwnPropertyDescriptor:CC};function Jx(U,l,f,I=!1){if(!I&&U[l]===f)return;const L=U[l],d=U.length;f===void 0?delete U[l]:U[l]=f;let u=e4(U),s;if((s=n4(u,l,L))&&s.$(()=>f),Array.isArray(U)&&U.length!==d){for(let n=U.length;n<d;n++)(s=u[n])&&s.$();(s=n4(u,"length",d))&&s.$(U.length)}(s=u._)&&s.$()}function A6(U,l){const f=Object.keys(l);for(let I=0;I<f.length;I+=1){const L=f[I];Jx(U,L,l[L])}}function TC(U,l){if(typeof l=="function"&&(l=l(U)),l=_b(l),Array.isArray(l)){if(U===l)return;let f=0,I=l.length;for(;f<I;f++){const L=l[f];U[f]!==L&&Jx(U,f,L)}Jx(U,"length",I)}else A6(U,l)}function kb(U,l,f=[]){let I,L=U;if(l.length>1){I=l.shift();const u=typeof I,s=Array.isArray(U);if(Array.isArray(I)){for(let n=0;n<I.length;n++)kb(U,[I[n]].concat(l),f);return}else if(s&&u==="function"){for(let n=0;n<U.length;n++)I(U[n],n)&&kb(U,[n].concat(l),f);return}else if(s&&u==="object"){const{from:n=0,to:m=U.length-1,by:g=1}=I;for(let y=n;y<=m;y+=g)kb(U,[y].concat(l),f);return}else if(l.length>1){kb(U[I],l,[I].concat(f));return}L=U[I],f=[I].concat(f)}let d=l[0];typeof d=="function"&&(d=d(L,f),d===L)||I===void 0&&d==null||(d=_b(d),I===void 0||Kx(L)&&Kx(d)&&!Array.isArray(d)?A6(L,d):Jx(U,I,d))}function AC(...[U,l]){const f=_b(U||{}),I=Array.isArray(f),L=S6(f);function d(...u){bu(()=>{I&&u.length===1?TC(f,u[0]):kb(f,u)})}return[L,d]}class OC{constructor(l){Pk(this,"current");Pk(this,"reducer",(l,f)=>{const{past:I,present:L,future:d}=l;let u=ks({},l);switch(f.type){case"undo":if(I.length>0){const s=I[I.length-1];u={past:I.slice(0,I.length-1),present:s,future:[L,...d]}}break;case"redo":if(d.length>0){const s=d[0],n=d.slice(1);u={past:[...I,L],present:s,future:n}}break;case"save":(!L||!Sy.isEqual(f.payload,L))&&(f.merge?u.present=Sy.merge(u.present,f.payload):u={past:[...I,L],present:f.payload,future:[]});break;case"reset":u={past:[],present:f.payload,future:[]};break}return u});this.current={past:[],present:l,future:[]}}save(l,f){const I=Sy.cloneDeep(l);return this.current=this.reducer(this.current,{type:"save",payload:I,merge:f==="onNodeSizeChanged"}),this.current.present}canUndo(){return this.current.past.length>0}canRedo(){return this.current.future.length>0}undo(){return this.current=this.reducer(this.current,{type:"undo"}),Sy.cloneDeep(this.current.present)}redo(){return this.current=this.reducer(this.current,{type:"redo"}),Sy.cloneDeep(this.current.present)}}function O6(U,l,f,I,L){const d=(f==null?void 0:f.offsetLeft)||0,u=(f==null?void 0:f.offsetRight)||0,s=(f==null?void 0:f.offsetTop)||0,n=(f==null?void 0:f.offsetBottom)||0,m={left:0+d,right:U.w-(l.w+u),top:0+s,bottom:U.h-(l.h+n)};return I=Math.min(I,m.right),L=Math.min(L,m.bottom),I=Math.max(I,m.left),L=Math.max(L,m.top),{x:I,y:L}}const MC=U=>{const l=window.DMBRoot.querySelectorAll(".drag-hat-selected");if(!l.length)return{};const f=Array.from(l).map(m=>({rect:m.getBoundingClientRect(),id:m.id}));if(!f||!f.length)return{};const I=Math.min(...f.map(m=>m.rect.top)),L=Math.max(...f.map(m=>m.rect.bottom)),d=Math.min(...f.map(m=>m.rect.left)),u=Math.max(...f.map(m=>m.rect.right)),s={left:d,top:I,bottom:L,right:u};return f.reduce((m,g)=>dd(ks({},m),{[`${g.id}`]:{offsetLeft:Math.abs(g.rect.left-s.left)/U,offsetRight:Math.abs(g.rect.right-s.right)/U,offsetTop:Math.abs(g.rect.top-s.top)/U,offsetBottom:Math.abs(g.rect.bottom-s.bottom)/U}}),{})},M6=U=>{U.preventDefault(),U.stopImmediatePropagation(),U.cancelBubble=!0},LC=(U,l)=>{const f=U.size||{h:0,w:0},I=U.position.x,L=U.position.y,d=U.position.x+f.w,u=U.position.y+f.h;return l.x>I&&l.x<d&&l.y>L&&l.y<u},BC=(U,l,f)=>{var I;return console.debug("from node",f),!((I=U.properties)!=null&&I.onlyOut)&&l.filter(L=>L.to===U.id).length===0},L6=(U,l,f)=>Object.keys(U.links).filter(I=>U.links[I].from.nodeId===l&&U.links[I].from.portId===f).map(I=>U.links[I]),jC=U=>Object.keys(U.nodes).map(l=>{const f=U.nodes[l];return f.output?{key:f.output.id,type:f.output.type}:{key:null,type:null}}).filter(l=>l.key&&l.type&&l.type!=="null"),B6=K8();function IC(U){const l=new OC(Sy.cloneDeep(U.initialChart)),f=(u,s,n=!1)=>{const m=n?u:l.save(u,s);L("canRedo",()=>l.canRedo()),L("canUndo",()=>l.canUndo()),U.onHistoryChange&&U.onHistoryChange(m)},[I,L]=AC({chart:U.initialChart,scale:1,selection:!1,portHeight:30,portOffset:35,newLink:void 0,canUndo:!1,canRedo:!1,sidebar:!1}),d=[I,{nodesSizeChanged(u){bu(()=>{u.forEach(s=>{const n=s.target.getAttribute("data-node-id");L("chart","nodes",n,"size",()=>({h:s.contentRect.height,w:s.contentRect.width}))}),f(I.chart,"onNodeSizeChanged")})},onNodeDrag(u){L("chart","nodes",u.nodeId,"position",()=>u.position)},onToggleSidebar(){L("sidebar",()=>!I.sidebar)},onMultiDrag(u){bu(()=>{L("chart","nodes",u.leaderId,"position",()=>u.leaderPos),Object.keys(I.chart.selected).filter(s=>s!==u.leaderId&&I.chart.selected[s]).forEach(s=>{const n=I.chart.nodes[s],m=O6(u.canvasSize,n.size||{w:0,h:0},u.multiSelectOffsets[`${n.id}-drag-hat`],n.position.x+u.delta.x,n.position.y+u.delta.y);L("chart","nodes",s,"position",()=>m)})})},onScale(u){L("scale",()=>u)},onAreaSelection(u){bu(()=>{L("chart","selected",()=>u),f(I.chart,"crtAction")})},onToggleNodeSelection(u,s){bu(()=>{L("chart","selected",u,()=>s),f(I.chart,"crtAction")})},onToggleAreaSelection(u){bu(()=>{L("selection",()=>u),f(I.chart,"crtAction")})},onCreatingLink(u){L("newLink",()=>u)},onEndConnection(u,s){bu(()=>{const n=Object.keys(I.chart.nodes).map(g=>I.chart.nodes[g]).find(g=>u.posTo&&LC(g,u.posTo));if(!n||!BC(n,s,u.from.nodeId)){L("newLink",()=>{});return}const m=dd(ks({},u),{id:Q3(),posTo:void 0,to:n.id});L("chart","links",m.id,()=>m),L("chart","paths",`${m.from.nodeId}-${m.from.portId}`,()=>m.to),L("newLink",()=>{}),f(I.chart,"crtAction")})},onRemoveLinks(u,s){const n=L6(I.chart,u,s);bu(()=>{n.forEach(m=>{L("chart","links",m.id,()=>{})}),L("chart","paths",`${u}-${s}`,()=>{}),f(I.chart,"crtAction")})},onDeleteNodes(u){bu(()=>{const s=Object.keys(I.chart.links).filter(m=>{const g=I.chart.links[m];return u.includes(g.to)||u.includes(g.from.nodeId)}),n=Object.keys(I.chart.paths).filter(m=>{const g=u.filter(k=>m.startsWith(k)).length,y=u.includes(I.chart.paths[m]);return g||y});u.forEach(m=>{L("chart","nodes",m,()=>{}),L("chart","selected",m,()=>{})}),s.forEach(m=>{L("chart","links",m,()=>{})}),n.forEach(m=>{L("chart","paths",m,()=>{})}),f(I.chart,"crtAction")})},onNodeChanged(u,s){bu(()=>{const n=I.chart.nodes[u],m=Object.keys(n.ports),g=Object.keys(s.ports),y=m.filter(v=>!g.includes(v)),k=Object.keys(I.chart.links).filter(v=>{const h=I.chart.links[v];return y.includes(h.from.portId)&&h.from.nodeId===n.id}),C=Object.keys(I.chart.paths).filter(v=>v.startsWith(`${u}-`)).filter(v=>g.filter(h=>v.endsWith(h)).length===0);k.forEach(v=>{L("chart","links",v,()=>{})}),C.forEach(v=>{L("chart","paths",v,()=>{})}),L("chart","nodes",u,()=>s),f(I.chart,"crtAction")})},onAddNode(u){bu(()=>{const s=dd(ks({},u),{id:Q3()});L("chart","nodes",s.id,()=>s),f(I.chart,"crtAction")})},onUndo(){bu(()=>{const u=l.undo();L("chart",()=>u),f(I.chart,"undo")})},onRedo(){bu(()=>{const u=l.redo();L("chart",()=>u),f(u,"crtAction")})},onNodeDraggingEnd(){bu(()=>{f(I.chart,"crtAction")})},onToggleEditNodeContent(u){L("editNodeContent",()=>u||void 0)},onToggleEditNodeSettings(u){L("editNodeSettings",()=>u||void 0)}}];return gr(B6.Provider,{value:d,get children(){return U.children}})}function rh(){return J8(B6)}const NC=ja("<div>"),PC=ja("<ul><li><strong> Node Library:</strong> Collapse/expande node library sidebar</li><li><strong> Pan and zoom mode:</strong> Drag canvas with mouse or arrow keys. Zoom using mouse wheel or + - keys</li><li><strong> Reset canvas:</strong> Restore zoom and canvas position</li><li><strong> Selection mode:</strong> Left click and mouse move for multi node selection</li><li><strong> Delete nodes:</strong> Delete selected nodes"),RC=U=>{const[l,f]=rh();fb(()=>{});const I=()=>Object.keys(l.chart.selected).filter(g=>l.chart.selected[g]).length>0,L=()=>{const g=Object.keys(l.chart.selected).filter(y=>l.chart.selected[y]).map(y=>y);f.onDeleteNodes(g)},d=()=>{l.canUndo&&f.onUndo()},u=()=>{l.canRedo&&f.onRedo()},s=()=>{U.onEnablePanZoom()},n=()=>{U.onEnableSelection()},m=()=>{U.onResetAll()};return(()=>{const g=NC();return Di(g,gr(sl,{variant:"icon",get classList(){return{[`${Cs.CanvasCommand}`]:!0,[`${Cs.CanvasCommandsDisabled}`]:!l.sidebar,[`${Cs.CanvasCommandsEnabled}`]:l.sidebar}},get onClick(){return f.onToggleSidebar},get children(){return gr(C6,{size:30})}}),null),Di(g,gr(sl,{variant:"icon",get classList(){return{[`${Cs.CanvasCommand}`]:!0,[`${Cs.CanvasCommandsDisabled}`]:l.selection,[`${Cs.CanvasCommandsEnabled}`]:!l.selection}},onClick:s,get children(){return gr(_6,{size:30})}}),null),Di(g,gr(sl,{variant:"icon",get classList(){return{[`${Cs.CanvasCommand}`]:!0,[`${Cs.CanvasCommandsDisabled}`]:!l.selection,[`${Cs.CanvasCommandsEnabled}`]:l.selection}},onClick:n,get children(){return gr(x6,{size:30})}}),null),Di(g,gr(sl,{variant:"icon",get classList(){return{[`${Cs.CanvasCommand}`]:!0}},onClick:m,get children(){return gr(b6,{size:30})}}),null),Di(g,gr(sl,{variant:"icon",get classList(){return{[`${Cs.CanvasCommand}`]:!0,[`${Cs.CanvasCommandsDisabled}`]:!l.canUndo}},onClick:d,get children(){return gr(bC,{size:30})}}),null),Di(g,gr(sl,{variant:"icon",get classList(){return{[`${Cs.CanvasCommand}`]:!0,[`${Cs.CanvasCommandsDisabled}`]:!l.canRedo}},onClick:u,get children(){return gr(xC,{size:30})}}),null),Di(g,gr(sl,{variant:"icon",get classList(){return{[`${Cs.CanvasCommand}`]:!0,[`${Cs.CanvasCommandsDisabled}`]:!I()}},onClick:L,get children(){return gr(k6,{size:30})}}),null),Di(g,gr(G3,{closeOnClickOutside:!0,closeOnEsc:!0,get classList(){return{[`${Cs.CanvasModal}`]:!0}},children:y=>[gr(sl,{get["aria-disabled"](){return y.open()},variant:"icon",get classList(){return{[`${Cs.CanvasCommand}`]:!0}},get onClick(){return y.toggle},get children(){return gr(vC,{size:30})}}),gr(X3,{get children(){return[gr(Z3,{get children(){return["Canvas Commands Help",gr(sl,{variant:"icon",get onclick(){return y.toggle},style:{float:"right"},children:"✕"})]}}),gr(K3,{get children(){const k=PC(),E=k.firstChild,C=E.firstChild,v=E.nextSibling,h=v.firstChild,a=v.nextSibling,O=a.firstChild,_=a.nextSibling,M=_.firstChild,P=_.nextSibling,R=P.firstChild;return Di(E,gr(C6,{size:30,style:{display:"inline"}}),C),Di(v,gr(_6,{size:30,style:{display:"inline"}}),h),Di(a,gr(b6,{size:30,style:{display:"inline"}}),O),Di(_,gr(x6,{size:30,style:{display:"inline"}}),M),Di(P,gr(k6,{size:30,style:{display:"inline"}}),R),k}}),gr(J3,{get children(){return gr(sl,{get onclick(){return y.toggle},children:"OK"})}})]}})]}),null),qa(()=>Ya(g,Cs.CanvasCommands)),g})()},DC=ja("<div>"),FC=ja('<div role="presentation">');function zC(U){const[l,f]=rh(),[I,L]=wp();let d;const u=g=>{if(!d||!l.selection||g.diagramDetails)return;const y=l.scale,k=d.getBoundingClientRect();g.preventDefault(),g.stopPropagation();const E={x:(g.clientX-k.left)/y,y:(g.clientY-k.top)/y};let C;const v=a=>{a.preventDefault(),a.stopPropagation(),C={x:(a.clientX-k.left)/y,y:(a.clientY-k.top)/y},L({from:E,to:C})},h=()=>{const a=m({from:E,to:C});f.onAreaSelection(a),window.removeEventListener("pointerup",h,!1),window.removeEventListener("pointermove",v,!1),L(void 0)};window.addEventListener("pointerup",h,!1),window.addEventListener("pointermove",v,!1)},s=g=>{const y=g?n(g):void 0,k=y?{height:`${y==null?void 0:y.height}px`,width:`${y==null?void 0:y.width}px`,top:`${y==null?void 0:y.top}px`,left:`${y==null?void 0:y.left}px`}:void 0;return gr(df,{when:k,get children(){const E=DC();return qa(C=>{const v=k,h=Cs.SelectedArea;return C._v$=yb(E,v,C._v$),h!==C._v$2&&Ya(E,C._v$2=h),C},{_v$:void 0,_v$2:void 0}),E}})},n=g=>{if(!g.to||!g.from)return;const y=Math.min(g.from.x,g.to.x)-1,k=Math.min(g.from.y,g.to.y)-1,E=Math.abs(g.from.x-g.to.x)+1,C=Math.abs(g.from.y-g.to.y)+1;return{top:k,left:y,width:E,height:C}},m=g=>{const y=n(g);return Object.keys(l.chart.nodes).reduce((E,C)=>{const v=l.chart.nodes[C],h=window.DMBRoot.getElementById(`${v.id}-drag-hat`),a={top:v.position.y,left:v.position.x,width:h.clientWidth,height:h.clientHeight};return dd(ks({},E),{[`${C}`]:UC(y,a)})},{})};return(()=>{const g=FC();g.$$pointerdown=u;const y=d;return typeof y=="function"?Ig(y,g):d=g,g.style.setProperty("height","100%"),g.style.setProperty("width","100%"),g.style.setProperty("position","relative"),Di(g,()=>s(I()),null),Di(g,()=>U.children,null),g})()}const j6=(U,l)=>U[1]>=l[0]&&l[1]>=U[0],UC=(U,l)=>{if(!U||!l)return!1;const f={x:[U.left,U.left+U.width],y:[U.top,U.top+U.height]},I={x:[l.left,l.left+l.width],y:[l.top,l.top+l.height]};return j6(f.x,I.x)&&j6(f.y,I.y)};gb(["pointerdown"]);const HC=ja("<div><div>"),$C=U=>{let l,f;const[I,L]=rh(),d=y=>{U.onScale(y)};fb(()=>{f=fC(l,{minZoom:U.minZoom,maxZoom:U.maxZoom,zoomDoubleClickSpeed:1,onDoubleClick:function(){return!1}}),f.on("transform",d)}),hf(()=>{f&&(f.off("transform",d),f.dispose())});const u=()=>{f.pause(),L.onToggleAreaSelection(!0)},s=()=>{f.resume(),L.onToggleAreaSelection(!1)},n=()=>{f.moveTo(0,0),f.zoomAbs(0,0,1)},m=y=>{if(!y.dataTransfer)return;const k=y.dataTransfer.getData("DIAGRAM-BLOCK"),E=JSON.parse(k),C=l.getBoundingClientRect(),v=(y.clientX+l.scrollLeft-C.left)/I.scale,h=(y.clientY+l.scrollTop-C.top)/I.scale;E.position={x:v,y:h},L.onAddNode(E)},g=y=>{y.preventDefault()};return[(()=>{const y=HC(),k=y.firstChild;k.addEventListener("dragover",g),k.addEventListener("drop",m);const E=l;return typeof E=="function"?Ig(E,k):l=k,Di(k,gr(zC,{get children(){return U.children}})),qa(C=>{const v=Cs.CanvasWrapper,h=Cs.Canvas,a=U.id,O=I.selection?"crosshair":"grab";return v!==C._v$&&Ya(y,C._v$=v),h!==C._v$2&&Ya(k,C._v$2=h),a!==C._v$3&&al(k,"id",C._v$3=a),O!==C._v$4&&((C._v$4=O)!=null?k.style.setProperty("cursor",O):k.style.removeProperty("cursor")),C},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),y})(),gr(RC,{onResetAll:n,onEnableSelection:u,onEnablePanZoom:s})]},qC={"sb-checkbox":"_sb-checkbox_1jivc_1"},YC=ja('<label><input type="checkbox">'),VC=U=>{const[l,f,I]=zx(U,["accessKey","aria-disabled","autofocus","checked","class","disabled","id","name","onclick","onkeydown","onkeypress","onkeyup","oninvalid","required","value"],["align","children","onchange","switch"]),L=d=>{var u,s;return(s=f.onchange)==null?void 0:s.call(f,(u=d.target)==null?void 0:u.checked)};return(()=>{const d=YC(),u=d.firstChild;return ff(d,Oh({get class(){return qC["sb-checkbox"]}},I),!1,!0),Di(d,gr(df,{get when(){return f.align==="right"},get children(){return f.children}}),u),ff(u,Oh({get role(){return f.switch?"switch":void 0}},l,{onChange:L}),!1,!1),Di(d,gr(df,{get when(){return f.align!=="right"},get children(){return f.children}}),null),d})()},Lh={Node:"_Node_1ol2l_1",NodeSelected:"_NodeSelected_1ol2l_15",NodeDragging:"_NodeDragging_1ol2l_27",NodeHead:"_NodeHead_1ol2l_32",NodeHeadTitle:"_NodeHeadTitle_1ol2l_52",NodeContent:"_NodeContent_1ol2l_65",NodeContentPart:"_NodeContentPart_1ol2l_77",NodeCommands:"_NodeCommands_1ol2l_90",NodeCommandsContainer:"_NodeCommandsContainer_1ol2l_103"},_p={PortsContainer:"_PortsContainer_98r4u_1",PortOuter:"_PortOuter_98r4u_11",PortContent:"_PortContent_98r4u_21",PortOutContainer:"_PortOutContainer_98r4u_30",PortOutInner:"_PortOutInner_98r4u_62",DeleteLinkIcon:"_DeleteLinkIcon_98r4u_69",LoopPortIndicator:"_LoopPortIndicator_98r4u_81",PortText:"_PortText_98r4u_86"};function WC(U){return Mh({a:{baseProfile:"tiny",version:"1.2",viewBox:"0 0 24 24"},c:'<path d="M16.5 8h-2.086l1.293-1.293a.999.999 0 1 0-1.414-1.414L10.586 9l3.707 3.707a.997.997 0 0 0 1.414 0 .999.999 0 0 0 0-1.414L14.414 10H16.5c1.379 0 2.5 1.346 2.5 3s-1.346 3-3 3H8c-1.654 0-3-1.346-3-3s1.346-3 3-3a1 1 0 1 0 0-2c-2.757 0-5 2.243-5 5s2.243 5 5 5h8c2.757 0 5-2.243 5-5s-2.019-5-4.5-5z"/>'},U)}const r4=ja("<div>"),GC=ja("<div><div><div><span>"),XC=U=>{if(U.bgColor)return U.bgColor},ZC=U=>{if(U.fontColor)return U.fontColor},KC=U=>{const[l,f]=rh(),I=m=>{m.preventDefault(),m.stopPropagation();const g=L6(l.chart,U.nodeId,U.portId);if(!U.allowMultiple&&g.length>0)return;const k=window.DMBRoot.getElementById(U.canvasId).getBoundingClientRect(),E=l.scale;let C=0;const v=O=>{O.stopPropagation(),O.stopImmediatePropagation(),O.cancelBubble=!0;const _={x:(O.clientX-k.left)/E,y:(O.clientY-k.top)/E};C=requestAnimationFrame(()=>f.onCreatingLink({from:{nodeId:U.nodeId,portId:U.portId},to:"",posTo:_,id:"newLinkCreating"}))},h=O=>{window.removeEventListener("pointermove",a,{capture:!1}),window.removeEventListener("pointerup",h,!1),cancelAnimationFrame(C);const _={from:{nodeId:U.nodeId,portId:U.portId},id:"newLinkCreating",to:"",posTo:{x:(O.clientX-k.left)/E,y:(O.clientY-k.top)/E}},M=setTimeout(()=>{f.onEndConnection(_,g),clearTimeout(M)},100)},a=O=>C=requestAnimationFrame(()=>v(O));window.addEventListener("pointerup",h,!1),window.addEventListener("pointermove",a,{capture:!1,passive:!0})},L=m=>{m.cancelBubble=!0,m.preventDefault(),m.stopImmediatePropagation(),m.stopPropagation(),f.onRemoveLinks(U.nodeId,U.portId)},d=()=>!!l.chart.paths[`${U.nodeId}-${U.portId}`],u=()=>!!l.chart.nodes[U.nodeId].ports[U.portId].properties.disabled,s=()=>d()&&l.chart.paths[`${U.nodeId}-${U.portId}`]===U.nodeId,n={role:"button","aria-text":"delete link"};return(()=>{const m=GC(),g=m.firstChild,y=g.firstChild,k=y.firstChild;return m.style.setProperty("width","100%"),g.style.setProperty("width","100%"),Di(k,()=>l.chart.nodes[U.nodeId].ports[U.portId].text),Di(y,gr(df,{get when(){return s()},get children(){return gr(WC,{size:24,get class(){return _p.LoopPortIndicator},title:"this port has a loop link"})}}),null),Di(g,gr(df,{get when(){return!u()},get children(){const E=r4();return E.$$pointerdown=I,Di(E,gr(df,{get when(){return d()},get fallback(){return(()=>{const C=r4();return qa(()=>Ya(C,_p.PortOutInner)),C})()},get children(){return gr(w6,Oh({"aria-label":"delete link",title:"delete link",size:20,onPointerDown:L,get class(){return _p.DeleteLinkIcon}},n))}})),qa(()=>Ya(E,_p.PortOutContainer)),E}}),null),qa(E=>{const C=_p.PortContainer,v=`${l.portOffset}px`,h=_p.PortOuter,a=`${l.portHeight}px`,O=XC(l.chart.nodes[U.nodeId].ports[U.portId]),_=_p.PortContent,M=_p.PortText,P=ZC(l.chart.nodes[U.nodeId].ports[U.portId]);return C!==E._v$&&Ya(m,E._v$=C),v!==E._v$2&&((E._v$2=v)!=null?m.style.setProperty("height",v):m.style.removeProperty("height")),h!==E._v$3&&Ya(g,E._v$3=h),a!==E._v$4&&((E._v$4=a)!=null?g.style.setProperty("height",a):g.style.removeProperty("height")),O!==E._v$5&&((E._v$5=O)!=null?g.style.setProperty("background-color",O):g.style.removeProperty("background-color")),_!==E._v$6&&Ya(y,E._v$6=_),M!==E._v$7&&Ya(k,E._v$7=M),P!==E._v$8&&((E._v$8=P)!=null?k.style.setProperty("color",P):k.style.removeProperty("color")),E},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0}),m})()},JC=U=>Object.keys(U.ports||{}).sort((l,f)=>U.ports[f].index-U.ports[l].index),QC=U=>{const[l]=rh();return(()=>{const f=r4();return Di(f,gr(Ux,{get each(){return JC(l.chart.nodes[U.nodeId])},children:I=>gr(KC,{portId:I,get canvasId(){return U.canvasId},get nodeId(){return U.nodeId}})})),qa(I=>{const L=_p.PortsContainer,d=`${U.nodeId}-port-container`,u=`${U.nodeId}`;return L!==I._v$9&&Ya(f,I._v$9=L),d!==I._v$10&&al(f,"id",I._v$10=d),u!==I._v$11&&al(f,"data-node-id",I._v$11=u),I},{_v$9:void 0,_v$10:void 0,_v$11:void 0}),f})()};gb(["pointerdown"]);var t9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qx(U){return U&&U.__esModule&&Object.prototype.hasOwnProperty.call(U,"default")?U.default:U}function i4(){}Object.assign(i4,{default:i4,register:i4,revert:function(){},__esModule:!0}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(U){const l=(this.document||this.ownerDocument).querySelectorAll(U);let f=l.length;for(;--f>=0&&l.item(f)!==this;);return f>-1}),Element.prototype.closest||(Element.prototype.closest=function(U){let l=this;if(!document.documentElement.contains(l))return null;do{if(l.matches(U))return l;l=l.parentElement||l.parentNode}while(l!==null);return null}),Element.prototype.prepend||(Element.prototype.prepend=function(U){const l=document.createDocumentFragment();Array.isArray(U)||(U=[U]),U.forEach(f=>{const I=f instanceof Node;l.appendChild(I?f:document.createTextNode(f))}),this.insertBefore(l,this.firstChild)}),Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(U){U=arguments.length===0?!0:!!U;const l=this.parentNode,f=window.getComputedStyle(l,null),I=parseInt(f.getPropertyValue("border-top-width")),L=parseInt(f.getPropertyValue("border-left-width")),d=this.offsetTop-l.offsetTop<l.scrollTop,u=this.offsetTop-l.offsetTop+this.clientHeight-I>l.scrollTop+l.clientHeight,s=this.offsetLeft-l.offsetLeft<l.scrollLeft,n=this.offsetLeft-l.offsetLeft+this.clientWidth-L>l.scrollLeft+l.clientWidth,m=d&&!u;(d||u)&&U&&(l.scrollTop=this.offsetTop-l.offsetTop-l.clientHeight/2-I+this.clientHeight/2),(s||n)&&U&&(l.scrollLeft=this.offsetLeft-l.offsetLeft-l.clientWidth/2-L+this.clientWidth/2),(d||u||s||n)&&!U&&this.scrollIntoView(m)});let e9=(U=21)=>crypto.getRandomValues(new Uint8Array(U)).reduce((l,f)=>(f&=63,f<36?l+=f.toString(36):f<62?l+=(f-26).toString(36).toUpperCase():f>62?l+="-":l+="_",l),"");var I6=(U=>(U.VERBOSE="VERBOSE",U.INFO="INFO",U.WARN="WARN",U.ERROR="ERROR",U))(I6||{});const Ii={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91},n9={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};function Cb(U,l,f="log",I,L="color: inherit"){if(!("console"in window)||!window.console[f])return;const d=["info","log","warn","error"].includes(f),u=[];switch(Cb.logLevel){case"ERROR":if(f!=="error")return;break;case"WARN":if(!["error","warn"].includes(f))return;break;case"INFO":if(!d||U)return;break}I&&u.push(I);const s="Editor.js 2.27.0",n=`line-height: 1em;
            color: #006FEA;
            display: inline-block;
            font-size: 11px;
            line-height: 1em;
            background-color: #fff;
            padding: 4px 9px;
            border-radius: 30px;
            border: 1px solid rgba(56, 138, 229, 0.16);
            margin: 4px 5px 4px 0;`;U&&(d?(u.unshift(n,L),l=`%c${s}%c ${l}`):l=`( ${s} )${l}`);try{d?I?console[f](`${l} %o`,...u):console[f](l,...u):console[f](l)}catch(m){}}Cb.logLevel="VERBOSE";function r9(U){Cb.logLevel=U}const fo=Cb.bind(window,!1),pd=Cb.bind(window,!0);function Ng(U){return Object.prototype.toString.call(U).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function Va(U){return Ng(U)==="function"||Ng(U)==="asyncfunction"}function cl(U){return Ng(U)==="object"}function U0(U){return Ng(U)==="string"}function i9(U){return Ng(U)==="boolean"}function N6(U){return Ng(U)==="number"}function P6(U){return Ng(U)==="undefined"}function gd(U){return U?Object.keys(U).length===0&&U.constructor===Object:!0}function R6(U){return U>47&&U<58||U===32||U===13||U===229||U>64&&U<91||U>95&&U<112||U>185&&U<193||U>218&&U<223}function D6(U,l=()=>{},f=()=>{}){return Ei(this,null,function*(){function I(L,d,u){return Ei(this,null,function*(){try{yield L.function(L.data),yield d(P6(L.data)?{}:L.data)}catch(s){u(P6(L.data)?{}:L.data)}})}return U.reduce((L,d)=>Ei(this,null,function*(){return yield L,I(d,l,f)}),Promise.resolve())})}function F6(U){return Array.prototype.slice.call(U)}function Pg(U,l){return function(){const f=this,I=arguments;window.setTimeout(()=>U.apply(f,I),l)}}function o9(U){return U.name.split(".").pop()}function a9(U){return/^[-\w]+\/([-+\w]+|\*)$/.test(U)}function s9(U,l,f){let I;return(...L)=>{const d=this,u=()=>{I=null,f||U.apply(d,L)},s=f&&!I;window.clearTimeout(I),I=window.setTimeout(u,l),s&&U.apply(d,L)}}function o4(U,l,f=void 0){let I,L,d,u=null,s=0;f||(f={});const n=function(){s=f.leading===!1?0:Date.now(),u=null,d=U.apply(I,L),u||(I=L=null)};return function(){const m=Date.now();!s&&f.leading===!1&&(s=m);const g=l-(m-s);return I=this,L=arguments,g<=0||g>l?(u&&(clearTimeout(u),u=null),s=m,d=U.apply(I,L),u||(I=L=null)):!u&&f.trailing!==!1&&(u=setTimeout(n,g)),d}}function c9(){const U={win:!1,mac:!1,x11:!1,linux:!1},l=Object.keys(U).find(f=>window.navigator.appVersion.toLowerCase().indexOf(f)!==-1);return l&&(U[l]=!0),U}function tw(U){return U[0].toUpperCase()+U.slice(1)}function a4(U,...l){if(!l.length)return U;const f=l.shift();if(cl(U)&&cl(f))for(const I in f)cl(f[I])?(U[I]||Object.assign(U,{[I]:{}}),a4(U[I],f[I])):Object.assign(U,{[I]:f[I]});return a4(U,...l)}function z6(U){const l=c9();return U=U.replace(/shift/gi,"⇧").replace(/backspace/gi,"⌫").replace(/enter/gi,"⏎").replace(/up/gi,"↑").replace(/left/gi,"→").replace(/down/gi,"↓").replace(/right/gi,"←").replace(/escape/gi,"⎋").replace(/insert/gi,"Ins").replace(/delete/gi,"␡").replace(/\+/gi," + "),l.mac?U=U.replace(/ctrl|cmd/gi,"⌘").replace(/alt/gi,"⌥"):U=U.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),U}function l9(U){try{return new URL(U).href}catch(l){}return U.substring(0,2)==="//"?window.location.protocol+U:window.location.origin+U}function u9(){return e9(10)}function h9(U){window.open(U,"_blank")}function d9(U=""){return`${U}${Math.floor(Math.random()*1e8).toString(16)}`}function s4(U,l,f){const I=`«${l}» is deprecated and will be removed in the next major release. Please use the «${f}» instead.`;U&&pd(I,"warn")}function Ey(U,l,f){const I=f.value?"value":"get",L=f[I],d=`#${l}Cache`;if(f[I]=function(...u){return this[d]===void 0&&(this[d]=L.apply(this,...u)),this[d]},I==="get"&&f.set){const u=f.set;f.set=function(s){delete U[d],u.apply(this,s)}}return f}const U6=650;function Rg(){return window.matchMedia(`(max-width: ${U6}px)`).matches}const H6=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function f9(U,l){const f=Array.isArray(U)||cl(U),I=Array.isArray(l)||cl(l);return f||I?JSON.stringify(U)===JSON.stringify(l):U===l}class Dn{static isSingleTag(l){return l.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(l.tagName)}static isLineBreakTag(l){return l&&l.tagName&&["BR","WBR"].includes(l.tagName)}static make(l,f=null,I={}){const L=document.createElement(l);Array.isArray(f)?L.classList.add(...f):f&&L.classList.add(f);for(const d in I)Object.prototype.hasOwnProperty.call(I,d)&&(L[d]=I[d]);return L}static text(l){return document.createTextNode(l)}static append(l,f){Array.isArray(f)?f.forEach(I=>l.appendChild(I)):l.appendChild(f)}static prepend(l,f){Array.isArray(f)?(f=f.reverse(),f.forEach(I=>l.prepend(I))):l.prepend(f)}static swap(l,f){const I=document.createElement("div"),L=l.parentNode;L.insertBefore(I,l),L.insertBefore(l,f),L.insertBefore(f,I),L.removeChild(I)}static find(l=document,f){return l.querySelector(f)}static get(l){return document.getElementById(l)}static findAll(l=document,f){return l.querySelectorAll(f)}static get allInputsSelector(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map(l=>`input[type="${l}"]`).join(", ")}static findAllInputs(l){return F6(l.querySelectorAll(Dn.allInputsSelector)).reduce((f,I)=>Dn.isNativeInput(I)||Dn.containsOnlyInlineElements(I)?[...f,I]:[...f,...Dn.getDeepestBlockElements(I)],[])}static getDeepestNode(l,f=!1){const I=f?"lastChild":"firstChild",L=f?"previousSibling":"nextSibling";if(l&&l.nodeType===Node.ELEMENT_NODE&&l[I]){let d=l[I];if(Dn.isSingleTag(d)&&!Dn.isNativeInput(d)&&!Dn.isLineBreakTag(d))if(d[L])d=d[L];else if(d.parentNode[L])d=d.parentNode[L];else return d.parentNode;return this.getDeepestNode(d,f)}return l}static isElement(l){return N6(l)?!1:l&&l.nodeType&&l.nodeType===Node.ELEMENT_NODE}static isFragment(l){return N6(l)?!1:l&&l.nodeType&&l.nodeType===Node.DOCUMENT_FRAGMENT_NODE}static isContentEditable(l){return l.contentEditable==="true"}static isNativeInput(l){const f=["INPUT","TEXTAREA"];return l&&l.tagName?f.includes(l.tagName):!1}static canSetCaret(l){let f=!0;if(Dn.isNativeInput(l))switch(l.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":f=!1;break}else f=Dn.isContentEditable(l);return f}static isNodeEmpty(l){let f;return this.isSingleTag(l)&&!this.isLineBreakTag(l)?!1:(this.isElement(l)&&this.isNativeInput(l)?f=l.value:f=l.textContent.replace("​",""),f.trim().length===0)}static isLeaf(l){return l?l.childNodes.length===0:!1}static isEmpty(l){l.normalize();const f=[l];for(;f.length>0;)if(l=f.shift(),!!l){if(this.isLeaf(l)&&!this.isNodeEmpty(l))return!1;l.childNodes&&f.push(...Array.from(l.childNodes))}return!0}static isHTMLString(l){const f=Dn.make("div");return f.innerHTML=l,f.childElementCount>0}static getContentLength(l){return Dn.isNativeInput(l)?l.value.length:l.nodeType===Node.TEXT_NODE?l.length:l.textContent.length}static get blockElements(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}static containsOnlyInlineElements(l){let f;U0(l)?(f=document.createElement("div"),f.innerHTML=l):f=l;const I=L=>!Dn.blockElements.includes(L.tagName.toLowerCase())&&Array.from(L.children).every(I);return Array.from(f.children).every(I)}static getDeepestBlockElements(l){return Dn.containsOnlyInlineElements(l)?[l]:Array.from(l.children).reduce((f,I)=>[...f,...Dn.getDeepestBlockElements(I)],[])}static getHolder(l){return U0(l)?document.getElementById(l):l}static isAnchor(l){return l.tagName.toLowerCase()==="a"}static offset(l){const f=l.getBoundingClientRect(),I=window.pageXOffset||document.documentElement.scrollLeft,L=window.pageYOffset||document.documentElement.scrollTop,d=f.top+L,u=f.left+I;return{top:d,left:u,bottom:d+f.height,right:u+f.width}}}const p9={blockTunes:{toggler:{"Click to tune":"","or drag to move":""}},inlineToolbar:{converter:{"Convert to":""}},toolbar:{toolbox:{Add:""}},popover:{Filter:"","Nothing found":""}},g9={Text:"",Link:"",Bold:"",Italic:""},m9={link:{"Add a link":""},stub:{"The block can not be displayed correctly.":""}},y9={delete:{Delete:"","Click to delete":""},moveUp:{"Move up":""},moveDown:{"Move down":""}},$6={ui:p9,toolNames:g9,tools:m9,blockTunes:y9},Ty=class{static ui(U,l){return Ty._t(U,l)}static t(U,l){return Ty._t(U,l)}static setDictionary(U){Ty.currentDictionary=U}static _t(U,l){const f=Ty.getNamespace(U);return!f||!f[l]?l:f[l]}static getNamespace(U){return U.split(".").reduce((l,f)=>!l||!Object.keys(l).length?{}:l[f],Ty.currentDictionary)}};let xu=Ty;xu.currentDictionary=$6;class q6 extends Error{}class ew{constructor(){this.subscribers={}}on(l,f){l in this.subscribers||(this.subscribers[l]=[]),this.subscribers[l].push(f)}once(l,f){l in this.subscribers||(this.subscribers[l]=[]);const I=L=>{const d=f(L),u=this.subscribers[l].indexOf(I);return u!==-1&&this.subscribers[l].splice(u,1),d};this.subscribers[l].push(I)}emit(l,f){gd(this.subscribers)||!this.subscribers[l]||this.subscribers[l].reduce((I,L)=>{const d=L(I);return d!==void 0?d:I},f)}off(l,f){for(let I=0;I<this.subscribers[l].length;I++)if(this.subscribers[l][I]===f){delete this.subscribers[l][I];break}}destroy(){this.subscribers=null}}function Sb(U){Object.setPrototypeOf(this,{get id(){return U.id},get name(){return U.name},get config(){return U.config},get holder(){return U.holder},get isEmpty(){return U.isEmpty},get selected(){return U.selected},set stretched(l){U.stretched=l},get stretched(){return U.stretched},call(l,f){return U.call(l,f)},save(){return U.save()},validate(l){return U.validate(l)},dispatchChange(){U.dispatchChange()}})}class c4{constructor(){this.allListeners=[]}on(l,f,I,L=!1){const d=d9("l"),u={id:d,element:l,eventType:f,handler:I,options:L};if(!this.findOne(l,f,I))return this.allListeners.push(u),l.addEventListener(f,I,L),d}off(l,f,I,L){const d=this.findAll(l,f,I);d.forEach((u,s)=>{const n=this.allListeners.indexOf(d[s]);n>-1&&(this.allListeners.splice(n,1),u.element.removeEventListener(u.eventType,u.handler,u.options))})}offById(l){const f=this.findById(l);f&&f.element.removeEventListener(f.eventType,f.handler,f.options)}findOne(l,f,I){const L=this.findAll(l,f,I);return L.length>0?L[0]:null}findAll(l,f,I){let L;const d=l?this.findByEventTarget(l):[];return l&&f&&I?L=d.filter(u=>u.eventType===f&&u.handler===I):l&&f?L=d.filter(u=>u.eventType===f):L=d,L}removeAll(){this.allListeners.map(l=>{l.element.removeEventListener(l.eventType,l.handler,l.options)}),this.allListeners=[]}destroy(){this.removeAll()}findByEventTarget(l){return this.allListeners.filter(f=>{if(f.element===l)return f})}findByType(l){return this.allListeners.filter(f=>{if(f.eventType===l)return f})}findByHandler(l){return this.allListeners.filter(f=>{if(f.handler===l)return f})}findById(l){return this.allListeners.find(f=>f.id===l)}}class go{constructor({config:l,eventsDispatcher:f}){if(this.nodes={},this.listeners=new c4,this.readOnlyMutableListeners={on:(I,L,d,u=!1)=>{this.mutableListenerIds.push(this.listeners.on(I,L,d,u))},clearAll:()=>{for(const I of this.mutableListenerIds)this.listeners.offById(I);this.mutableListenerIds=[]}},this.mutableListenerIds=[],new.target===go)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=l,this.eventsDispatcher=f}set state(l){this.Editor=l}removeAllNodes(){for(const l in this.nodes){const f=this.nodes[l];f instanceof HTMLElement&&f.remove()}}get isRtl(){return this.config.i18n.direction==="rtl"}}class ti{constructor(){this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}static get CSS(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}static get anchorNode(){const l=window.getSelection();return l?l.anchorNode:null}static get anchorElement(){const l=window.getSelection();if(!l)return null;const f=l.anchorNode;return f?Dn.isElement(f)?f:f.parentElement:null}static get anchorOffset(){const l=window.getSelection();return l?l.anchorOffset:null}static get isCollapsed(){const l=window.getSelection();return l?l.isCollapsed:null}static get isAtEditor(){return this.isSelectionAtEditor(ti.get())}static isSelectionAtEditor(l){if(!l)return!1;let f=l.anchorNode||l.focusNode;f&&f.nodeType===Node.TEXT_NODE&&(f=f.parentNode);let I=null;return f&&f instanceof Element&&(I=f.closest(`.${ti.CSS.editorZone}`)),I?I.nodeType===Node.ELEMENT_NODE:!1}static isRangeAtEditor(l){if(!l)return;let f=l.startContainer;f&&f.nodeType===Node.TEXT_NODE&&(f=f.parentNode);let I=null;return f&&f instanceof Element&&(I=f.closest(`.${ti.CSS.editorZone}`)),I?I.nodeType===Node.ELEMENT_NODE:!1}static get isSelectionExists(){return!!ti.get().anchorNode}static get range(){return this.getRangeFromSelection(this.get())}static getRangeFromSelection(l){return l&&l.rangeCount?l.getRangeAt(0):null}static get rect(){let l=document.selection,f,I={x:0,y:0,width:0,height:0};if(l&&l.type!=="Control")return l=l,f=l.createRange(),I.x=f.boundingLeft,I.y=f.boundingTop,I.width=f.boundingWidth,I.height=f.boundingHeight,I;if(!window.getSelection)return fo("Method window.getSelection is not supported","warn"),I;if(l=window.getSelection(),l.rangeCount===null||isNaN(l.rangeCount))return fo("Method SelectionUtils.rangeCount is not supported","warn"),I;if(l.rangeCount===0)return I;if(f=l.getRangeAt(0).cloneRange(),f.getBoundingClientRect&&(I=f.getBoundingClientRect()),I.x===0&&I.y===0){const L=document.createElement("span");if(L.getBoundingClientRect){L.appendChild(document.createTextNode("​")),f.insertNode(L),I=L.getBoundingClientRect();const d=L.parentNode;d.removeChild(L),d.normalize()}}return I}static get text(){return window.getSelection?window.getSelection().toString():""}static get(){return window.getSelection()}static setCursor(l,f=0){const I=document.createRange(),L=window.getSelection();return Dn.isNativeInput(l)?Dn.canSetCaret(l)?(l.focus(),l.selectionStart=l.selectionEnd=f,l.getBoundingClientRect()):void 0:(I.setStart(l,f),I.setEnd(l,f),L.removeAllRanges(),L.addRange(I),I.getBoundingClientRect())}static isRangeInsideContainer(l){const f=ti.range;return f===null?!1:l.contains(f.startContainer)}static addFakeCursor(){const l=ti.range;if(l===null)return;const f=Dn.make("span","codex-editor__fake-cursor");f.dataset.mutationFree="true",l.collapse(),l.insertNode(f)}static isFakeCursorInsideContainer(l){return Dn.find(l,".codex-editor__fake-cursor")!==null}static removeFakeCursor(l=document.body){const f=Dn.find(l,".codex-editor__fake-cursor");f&&f.remove()}removeFakeBackground(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}setFakeBackground(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}save(){this.savedSelectionRange=ti.range}restore(){if(!this.savedSelectionRange)return;const l=window.getSelection();l.removeAllRanges(),l.addRange(this.savedSelectionRange)}clearSaved(){this.savedSelectionRange=null}collapseToEnd(){const l=window.getSelection(),f=document.createRange();f.selectNodeContents(l.focusNode),f.collapse(!1),l.removeAllRanges(),l.addRange(f)}findParentTag(l,f,I=10){const L=window.getSelection();let d=null;return!L||!L.anchorNode||!L.focusNode?null:([L.anchorNode,L.focusNode].forEach(u=>{let s=I;for(;s>0&&u.parentNode&&!(u.tagName===l&&(d=u,f&&u.classList&&!u.classList.contains(f)&&(d=null),d));)u=u.parentNode,s--}),d)}expandToTag(l){const f=window.getSelection();f.removeAllRanges();const I=document.createRange();I.selectNodeContents(l),f.addRange(I)}}function v9(U,l){const{type:f,target:I,addedNodes:L,removedNodes:d}=U;if(["characterData","attributes"].includes(f)){const n=I.nodeType===Node.TEXT_NODE?I.parentNode:I;return l.contains(n)}const u=Array.from(L).some(n=>l.contains(n)),s=Array.from(d).some(n=>l.contains(n));return u||s}const l4="redactor dom changed",Y6="block changed",V6="fake cursor is about to be toggled",W6="fake cursor have been set";var H0=(U=>(U.APPEND_CALLBACK="appendCallback",U.RENDERED="rendered",U.MOVED="moved",U.UPDATED="updated",U.REMOVED="removed",U.ON_PASTE="onPaste",U))(H0||{});class yc extends ew{constructor({id:l=u9(),data:f,tool:I,api:L,readOnly:d,tunesData:u},s){super(),this.cachedInputs=[],this.toolRenderedElement=null,this.tunesInstances=new Map,this.defaultTunesInstances=new Map,this.unavailableTunesData={},this.inputIndex=0,this.editorEventBus=null,this.handleFocus=()=>{this.dropInputsCache(),this.updateCurrentInput()},this.didMutated=(n=void 0)=>{const m=n===void 0,g=n instanceof InputEvent;!m&&!g&&this.detectToolRootChange(n);let y;m||g?y=!0:y=!(n.length>0&&n.every(k=>{const{addedNodes:E,removedNodes:C}=k;return[...Array.from(E),...Array.from(C)].some(v=>Dn.isElement(v)?v.dataset.mutationFree==="true":!1)})),y&&(this.dropInputsCache(),this.updateCurrentInput(),this.call("updated"),this.emit("didMutated",this))},this.name=I.name,this.id=l,this.settings=I.settings,this.config=I.settings.config||{},this.api=L,this.editorEventBus=s||null,this.blockAPI=new Sb(this),this.tool=I,this.toolInstance=I.create(f,this.blockAPI,d),this.tunes=I.tunes,this.composeTunes(u),this.holder=this.compose(),this.watchBlockMutations(),this.addInputEvents()}static get CSS(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",focused:"ce-block--focused",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}get inputs(){if(this.cachedInputs.length!==0)return this.cachedInputs;const l=Dn.findAllInputs(this.holder);return this.inputIndex>l.length-1&&(this.inputIndex=l.length-1),this.cachedInputs=l,l}get currentInput(){return this.inputs[this.inputIndex]}set currentInput(l){const f=this.inputs.findIndex(I=>I===l||I.contains(l));f!==-1&&(this.inputIndex=f)}get firstInput(){return this.inputs[0]}get lastInput(){const l=this.inputs;return l[l.length-1]}get nextInput(){return this.inputs[this.inputIndex+1]}get previousInput(){return this.inputs[this.inputIndex-1]}get data(){return this.save().then(l=>l&&!gd(l.data)?l.data:{})}get sanitize(){return this.tool.sanitizeConfig}get mergeable(){return Va(this.toolInstance.merge)}get isEmpty(){const l=Dn.isEmpty(this.pluginsContent),f=!this.hasMedia;return l&&f}get hasMedia(){const l=["img","iframe","video","audio","source","input","textarea","twitterwidget"];return!!this.holder.querySelector(l.join(","))}set focused(l){this.holder.classList.toggle(yc.CSS.focused,l)}get focused(){return this.holder.classList.contains(yc.CSS.focused)}set selected(l){var f,I;this.holder.classList.toggle(yc.CSS.selected,l);const L=l===!0&&ti.isRangeInsideContainer(this.holder),d=l===!1&&ti.isFakeCursorInsideContainer(this.holder);(L||d)&&((f=this.editorEventBus)==null||f.emit(V6,{state:l}),L?ti.addFakeCursor():ti.removeFakeCursor(this.holder),(I=this.editorEventBus)==null||I.emit(W6,{state:l}))}get selected(){return this.holder.classList.contains(yc.CSS.selected)}set stretched(l){this.holder.classList.toggle(yc.CSS.wrapperStretched,l)}get stretched(){return this.holder.classList.contains(yc.CSS.wrapperStretched)}set dropTarget(l){this.holder.classList.toggle(yc.CSS.dropTarget,l)}get pluginsContent(){return this.toolRenderedElement}call(l,f){if(Va(this.toolInstance[l])){l==="appendCallback"&&fo("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[l].call(this.toolInstance,f)}catch(I){fo(`Error during '${l}' call: ${I.message}`,"error")}}}mergeWith(l){return Ei(this,null,function*(){yield this.toolInstance.merge(l)})}save(){return Ei(this,null,function*(){const l=yield this.toolInstance.save(this.pluginsContent),f=this.unavailableTunesData;[...this.tunesInstances.entries(),...this.defaultTunesInstances.entries()].forEach(([d,u])=>{if(Va(u.save))try{f[d]=u.save()}catch(s){fo(`Tune ${u.constructor.name} save method throws an Error %o`,"warn",s)}});const I=window.performance.now();let L;return Promise.resolve(l).then(d=>(L=window.performance.now(),{id:this.id,tool:this.name,data:d,tunes:f,time:L-I})).catch(d=>{fo(`Saving process for ${this.name} tool failed due to the ${d}`,"log","red")})})}validate(l){return Ei(this,null,function*(){let f=!0;return this.toolInstance.validate instanceof Function&&(f=yield this.toolInstance.validate(l)),f})}getTunes(){const l=document.createElement("div"),f=[],I=typeof this.toolInstance.renderSettings=="function"?this.toolInstance.renderSettings():[],L=[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].map(d=>d.render());return[I,L].flat().forEach(d=>{Dn.isElement(d)?l.appendChild(d):Array.isArray(d)?f.push(...d):f.push(d)}),[f,l]}updateCurrentInput(){this.currentInput=Dn.isNativeInput(document.activeElement)||!ti.anchorNode?document.activeElement:ti.anchorNode}dispatchChange(){this.didMutated()}destroy(){this.unwatchBlockMutations(),this.removeInputEvents(),super.destroy(),Va(this.toolInstance.destroy)&&this.toolInstance.destroy()}getActiveToolboxEntry(){return Ei(this,null,function*(){const l=this.tool.toolbox;if(l.length===1)return Promise.resolve(this.tool.toolbox[0]);const f=yield this.data;return l.find(I=>Object.entries(I.data).some(([L,d])=>f[L]&&f9(f[L],d)))})}compose(){const l=Dn.make("div",yc.CSS.wrapper),f=Dn.make("div",yc.CSS.content),I=this.toolInstance.render();this.toolRenderedElement=I,f.appendChild(this.toolRenderedElement);let L=f;return[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].forEach(d=>{if(Va(d.wrap))try{L=d.wrap(L)}catch(u){fo(`Tune ${d.constructor.name} wrap method throws an Error %o`,"warn",u)}}),l.appendChild(L),l}composeTunes(l){Array.from(this.tunes.values()).forEach(f=>{(f.isInternal?this.defaultTunesInstances:this.tunesInstances).set(f.name,f.create(l[f.name],this.blockAPI))}),Object.entries(l).forEach(([f,I])=>{this.tunesInstances.has(f)||(this.unavailableTunesData[f]=I)})}addInputEvents(){this.inputs.forEach(l=>{l.addEventListener("focus",this.handleFocus),Dn.isNativeInput(l)&&l.addEventListener("input",this.didMutated)})}removeInputEvents(){this.inputs.forEach(l=>{l.removeEventListener("focus",this.handleFocus),Dn.isNativeInput(l)&&l.removeEventListener("input",this.didMutated)})}watchBlockMutations(){var l;this.redactorDomChangedCallback=f=>{const{mutations:I}=f;I.some(L=>v9(L,this.toolRenderedElement))&&this.didMutated(I)},(l=this.editorEventBus)==null||l.on(l4,this.redactorDomChangedCallback)}unwatchBlockMutations(){var l;(l=this.editorEventBus)==null||l.off(l4,this.redactorDomChangedCallback)}detectToolRootChange(l){l.forEach(f=>{if(Array.from(f.removedNodes).includes(this.toolRenderedElement)){const I=f.addedNodes[f.addedNodes.length-1];this.toolRenderedElement=I}})}dropInputsCache(){this.cachedInputs=[]}}class b9 extends go{constructor(){super(...arguments),this.insert=(l=this.config.defaultBlock,f={},I={},L,d,u,s)=>{const n=this.Editor.BlockManager.insert({id:s,tool:l,data:f,index:L,needToFocus:d,replace:u});return new Sb(n)},this.composeBlockData=l=>Ei(this,null,function*(){const f=this.Editor.Tools.blockTools.get(l);return new yc({tool:f,api:this.Editor.API,readOnly:!0,data:{},tunesData:{}}).data}),this.update=(l,f)=>{const{BlockManager:I}=this.Editor,L=I.getBlockById(l);if(!L){fo("blocks.update(): Block with passed id was not found","warn");return}const d=I.getBlockIndex(L);I.insert({id:L.id,tool:L.name,data:f,index:d,replace:!0,tunes:L.tunes})}}get methods(){return{clear:()=>this.clear(),render:l=>this.render(l),renderFromHTML:l=>this.renderFromHTML(l),delete:l=>this.delete(l),swap:(l,f)=>this.swap(l,f),move:(l,f)=>this.move(l,f),getBlockByIndex:l=>this.getBlockByIndex(l),getById:l=>this.getById(l),getCurrentBlockIndex:()=>this.getCurrentBlockIndex(),getBlockIndex:l=>this.getBlockIndex(l),getBlocksCount:()=>this.getBlocksCount(),stretchBlock:(l,f=!0)=>this.stretchBlock(l,f),insertNewBlock:()=>this.insertNewBlock(),insert:this.insert,update:this.update,composeBlockData:this.composeBlockData}}getBlocksCount(){return this.Editor.BlockManager.blocks.length}getCurrentBlockIndex(){return this.Editor.BlockManager.currentBlockIndex}getBlockIndex(l){const f=this.Editor.BlockManager.getBlockById(l);if(!f){pd("There is no block with id `"+l+"`","warn");return}return this.Editor.BlockManager.getBlockIndex(f)}getBlockByIndex(l){const f=this.Editor.BlockManager.getBlockByIndex(l);if(f===void 0){pd("There is no block at index `"+l+"`","warn");return}return new Sb(f)}getById(l){const f=this.Editor.BlockManager.getBlockById(l);return f===void 0?(pd("There is no block with id `"+l+"`","warn"),null):new Sb(f)}swap(l,f){fo("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(l,f)}move(l,f){this.Editor.BlockManager.move(l,f)}delete(l){try{this.Editor.BlockManager.removeBlock(l)}catch(f){pd(f,"warn");return}this.Editor.BlockManager.blocks.length===0&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}clear(){this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}render(l){return this.Editor.BlockManager.clear(),this.Editor.Renderer.render(l.blocks)}renderFromHTML(l){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(l,!0)}stretchBlock(l,f=!0){s4(!0,"blocks.stretchBlock()","BlockAPI");const I=this.Editor.BlockManager.getBlockByIndex(l);I&&(I.stretched=f)}insertNewBlock(){fo("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}}class x9 extends go{constructor(){super(...arguments),this.setToFirstBlock=(l=this.Editor.Caret.positions.DEFAULT,f=0)=>this.Editor.BlockManager.firstBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock,l,f),!0):!1,this.setToLastBlock=(l=this.Editor.Caret.positions.DEFAULT,f=0)=>this.Editor.BlockManager.lastBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock,l,f),!0):!1,this.setToPreviousBlock=(l=this.Editor.Caret.positions.DEFAULT,f=0)=>this.Editor.BlockManager.previousBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock,l,f),!0):!1,this.setToNextBlock=(l=this.Editor.Caret.positions.DEFAULT,f=0)=>this.Editor.BlockManager.nextBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock,l,f),!0):!1,this.setToBlock=(l,f=this.Editor.Caret.positions.DEFAULT,I=0)=>this.Editor.BlockManager.blocks[l]?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.blocks[l],f,I),!0):!1,this.focus=(l=!1)=>l?this.setToLastBlock(this.Editor.Caret.positions.END):this.setToFirstBlock(this.Editor.Caret.positions.START)}get methods(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}}class w9 extends go{get methods(){return{emit:(l,f)=>this.emit(l,f),off:(l,f)=>this.off(l,f),on:(l,f)=>this.on(l,f)}}on(l,f){this.eventsDispatcher.on(l,f)}emit(l,f){this.eventsDispatcher.emit(l,f)}off(l,f){this.eventsDispatcher.off(l,f)}}class u4 extends go{static getNamespace(l){return l.isTune()?`blockTunes.${l.name}`:`tools.${l.name}`}get methods(){return{t:()=>{pd("I18n.t() method can be accessed only from Tools","warn")}}}getMethodsForTool(l){return Object.assign(this.methods,{t:f=>xu.t(u4.getNamespace(l),f)})}}class _9 extends go{get methods(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods,ui:this.Editor.UiAPI.methods}}getMethodsForTool(l){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(l)})}}class k9 extends go{get methods(){return{close:()=>this.close(),open:()=>this.open()}}open(){this.Editor.InlineToolbar.tryToShow()}close(){this.Editor.InlineToolbar.close()}}class C9 extends go{get methods(){return{on:(l,f,I,L)=>this.on(l,f,I,L),off:(l,f,I,L)=>this.off(l,f,I,L),offById:l=>this.offById(l)}}on(l,f,I,L){return this.listeners.on(l,f,I,L)}off(l,f,I,L){this.listeners.off(l,f,I,L)}offById(l){this.listeners.offById(l)}}var h4={},S9={get exports(){return h4},set exports(U){h4=U}};(function(U,l){(function(f,I){U.exports=I()})(window,function(){return function(f){var I={};function L(d){if(I[d])return I[d].exports;var u=I[d]={i:d,l:!1,exports:{}};return f[d].call(u.exports,u,u.exports,L),u.l=!0,u.exports}return L.m=f,L.c=I,L.d=function(d,u,s){L.o(d,u)||Object.defineProperty(d,u,{enumerable:!0,get:s})},L.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},L.t=function(d,u){if(1&u&&(d=L(d)),8&u||4&u&&typeof d=="object"&&d&&d.__esModule)return d;var s=Object.create(null);if(L.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:d}),2&u&&typeof d!="string")for(var n in d)L.d(s,n,function(m){return d[m]}.bind(null,n));return s},L.n=function(d){var u=d&&d.__esModule?function(){return d.default}:function(){return d};return L.d(u,"a",u),u},L.o=function(d,u){return Object.prototype.hasOwnProperty.call(d,u)},L.p="/",L(L.s=0)}([function(f,I,L){L(1),f.exports=function(){var d=L(6),u="cdx-notify--bounce-in",s=null;return{show:function(n){if(n.message){(function(){if(s)return!0;s=d.getWrapper(),document.body.appendChild(s)})();var m=null,g=n.time||8e3;switch(n.type){case"confirm":m=d.confirm(n);break;case"prompt":m=d.prompt(n);break;default:m=d.alert(n),window.setTimeout(function(){m.remove()},g)}s.appendChild(m),m.classList.add(u)}}}}()},function(f,I,L){var d=L(2);typeof d=="string"&&(d=[[f.i,d,""]]);var u={hmr:!0,transform:void 0,insertInto:void 0};L(4)(d,u),d.locals&&(f.exports=d.locals)},function(f,I,L){(f.exports=L(3)(!1)).push([f.i,`.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`,""])},function(f,I){f.exports=function(L){var d=[];return d.toString=function(){return this.map(function(u){var s=function(n,m){var g=n[1]||"",y=n[3];if(!y)return g;if(m&&typeof btoa=="function"){var k=(C=y,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(C))))+" */"),E=y.sources.map(function(v){return"/*# sourceURL="+y.sourceRoot+v+" */"});return[g].concat(E).concat([k]).join(`
`)}var C;return[g].join(`
`)}(u,L);return u[2]?"@media "+u[2]+"{"+s+"}":s}).join("")},d.i=function(u,s){typeof u=="string"&&(u=[[null,u,""]]);for(var n={},m=0;m<this.length;m++){var g=this[m][0];typeof g=="number"&&(n[g]=!0)}for(m=0;m<u.length;m++){var y=u[m];typeof y[0]=="number"&&n[y[0]]||(s&&!y[2]?y[2]=s:s&&(y[2]="("+y[2]+") and ("+s+")"),d.push(y))}},d}},function(f,I,L){var d,u,s={},n=(d=function(){return window&&document&&document.all&&!window.atob},function(){return u===void 0&&(u=d.apply(this,arguments)),u}),m=function(F){var j={};return function(X){if(typeof X=="function")return X();if(j[X]===void 0){var W=function(V){return document.querySelector(V)}.call(this,X);if(window.HTMLIFrameElement&&W instanceof window.HTMLIFrameElement)try{W=W.contentDocument.head}catch(V){W=null}j[X]=W}return j[X]}}(),g=null,y=0,k=[],E=L(5);function C(F,j){for(var X=0;X<F.length;X++){var W=F[X],V=s[W.id];if(V){V.refs++;for(var K=0;K<V.parts.length;K++)V.parts[K](W.parts[K]);for(;K<W.parts.length;K++)V.parts.push(M(W.parts[K],j))}else{var st=[];for(K=0;K<W.parts.length;K++)st.push(M(W.parts[K],j));s[W.id]={id:W.id,refs:1,parts:st}}}}function v(F,j){for(var X=[],W={},V=0;V<F.length;V++){var K=F[V],st=j.base?K[0]+j.base:K[0],it={css:K[1],media:K[2],sourceMap:K[3]};W[st]?W[st].parts.push(it):X.push(W[st]={id:st,parts:[it]})}return X}function h(F,j){var X=m(F.insertInto);if(!X)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var W=k[k.length-1];if(F.insertAt==="top")W?W.nextSibling?X.insertBefore(j,W.nextSibling):X.appendChild(j):X.insertBefore(j,X.firstChild),k.push(j);else if(F.insertAt==="bottom")X.appendChild(j);else{if(typeof F.insertAt!="object"||!F.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var V=m(F.insertInto+" "+F.insertAt.before);X.insertBefore(j,V)}}function a(F){if(F.parentNode===null)return!1;F.parentNode.removeChild(F);var j=k.indexOf(F);j>=0&&k.splice(j,1)}function O(F){var j=document.createElement("style");return F.attrs.type===void 0&&(F.attrs.type="text/css"),_(j,F.attrs),h(F,j),j}function _(F,j){Object.keys(j).forEach(function(X){F.setAttribute(X,j[X])})}function M(F,j){var X,W,V,K;if(j.transform&&F.css){if(!(K=j.transform(F.css)))return function(){};F.css=K}if(j.singleton){var st=y++;X=g||(g=O(j)),W=$.bind(null,X,st,!1),V=$.bind(null,X,st,!0)}else F.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(X=function(it){var pt=document.createElement("link");return it.attrs.type===void 0&&(it.attrs.type="text/css"),it.attrs.rel="stylesheet",_(pt,it.attrs),h(it,pt),pt}(j),W=function(it,pt,ct){var lt=ct.css,J=ct.sourceMap,Bt=pt.convertToAbsoluteUrls===void 0&&J;(pt.convertToAbsoluteUrls||Bt)&&(lt=E(lt)),J&&(lt+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(J))))+" */");var Tt=new Blob([lt],{type:"text/css"}),Ct=it.href;it.href=URL.createObjectURL(Tt),Ct&&URL.revokeObjectURL(Ct)}.bind(null,X,j),V=function(){a(X),X.href&&URL.revokeObjectURL(X.href)}):(X=O(j),W=function(it,pt){var ct=pt.css,lt=pt.media;if(lt&&it.setAttribute("media",lt),it.styleSheet)it.styleSheet.cssText=ct;else{for(;it.firstChild;)it.removeChild(it.firstChild);it.appendChild(document.createTextNode(ct))}}.bind(null,X),V=function(){a(X)});return W(F),function(it){if(it){if(it.css===F.css&&it.media===F.media&&it.sourceMap===F.sourceMap)return;W(F=it)}else V()}}f.exports=function(F,j){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(j=j||{}).attrs=typeof j.attrs=="object"?j.attrs:{},j.singleton||typeof j.singleton=="boolean"||(j.singleton=n()),j.insertInto||(j.insertInto="head"),j.insertAt||(j.insertAt="bottom");var X=v(F,j);return C(X,j),function(W){for(var V=[],K=0;K<X.length;K++){var st=X[K];(it=s[st.id]).refs--,V.push(it)}for(W&&C(v(W,j),j),K=0;K<V.length;K++){var it;if((it=V[K]).refs===0){for(var pt=0;pt<it.parts.length;pt++)it.parts[pt]();delete s[it.id]}}}};var P,R=(P=[],function(F,j){return P[F]=j,P.filter(Boolean).join(`
`)});function $(F,j,X,W){var V=X?"":W.css;if(F.styleSheet)F.styleSheet.cssText=R(j,V);else{var K=document.createTextNode(V),st=F.childNodes;st[j]&&F.removeChild(st[j]),st.length?F.insertBefore(K,st[j]):F.appendChild(K)}}},function(f,I){f.exports=function(L){var d=typeof window<"u"&&window.location;if(!d)throw new Error("fixUrls requires window.location");if(!L||typeof L!="string")return L;var u=d.protocol+"//"+d.host,s=u+d.pathname.replace(/\/[^\/]*$/,"/");return L.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(n,m){var g,y=m.trim().replace(/^"(.*)"$/,function(k,E){return E}).replace(/^'(.*)'$/,function(k,E){return E});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(y)?n:(g=y.indexOf("//")===0?y:y.indexOf("/")===0?u+y:s+y.replace(/^\.\//,""),"url("+JSON.stringify(g)+")")})}},function(f,I,L){var d,u,s,n,m,g,y,k,E;f.exports=(d="cdx-notifies",u="cdx-notify",s="cdx-notify__cross",n="cdx-notify__button--confirm",m="cdx-notify__button--cancel",g="cdx-notify__input",y="cdx-notify__button",k="cdx-notify__btns-wrapper",{alert:E=function(C){var v=document.createElement("DIV"),h=document.createElement("DIV"),a=C.message,O=C.style;return v.classList.add(u),O&&v.classList.add(u+"--"+O),v.innerHTML=a,h.classList.add(s),h.addEventListener("click",v.remove.bind(v)),v.appendChild(h),v},confirm:function(C){var v=E(C),h=document.createElement("div"),a=document.createElement("button"),O=document.createElement("button"),_=v.querySelector("."+s),M=C.cancelHandler,P=C.okHandler;return h.classList.add(k),a.innerHTML=C.okText||"Confirm",O.innerHTML=C.cancelText||"Cancel",a.classList.add(y),O.classList.add(y),a.classList.add(n),O.classList.add(m),M&&typeof M=="function"&&(O.addEventListener("click",M),_.addEventListener("click",M)),P&&typeof P=="function"&&a.addEventListener("click",P),a.addEventListener("click",v.remove.bind(v)),O.addEventListener("click",v.remove.bind(v)),h.appendChild(a),h.appendChild(O),v.appendChild(h),v},prompt:function(C){var v=E(C),h=document.createElement("div"),a=document.createElement("button"),O=document.createElement("input"),_=v.querySelector("."+s),M=C.cancelHandler,P=C.okHandler;return h.classList.add(k),a.innerHTML=C.okText||"Ok",a.classList.add(y),a.classList.add(n),O.classList.add(g),C.placeholder&&O.setAttribute("placeholder",C.placeholder),C.default&&(O.value=C.default),C.inputType&&(O.type=C.inputType),M&&typeof M=="function"&&_.addEventListener("click",M),P&&typeof P=="function"&&a.addEventListener("click",function(){P(O.value)}),a.addEventListener("click",v.remove.bind(v)),h.appendChild(O),h.appendChild(a),v.appendChild(h),v},getWrapper:function(){var C=document.createElement("DIV");return C.classList.add(d),C}})}])})})(S9);const E9=Qx(h4);class T9{show(l){E9.show(l)}}class A9 extends go{constructor({config:l,eventsDispatcher:f}){super({config:l,eventsDispatcher:f}),this.notifier=new T9}get methods(){return{show:l=>this.show(l)}}show(l){return this.notifier.show(l)}}class O9 extends go{get methods(){const l=()=>this.isEnabled;return{toggle:f=>this.toggle(f),get isEnabled(){return l()}}}toggle(l){return this.Editor.ReadOnly.toggle(l)}get isEnabled(){return this.Editor.ReadOnly.isEnabled}}var d4={},M9={get exports(){return d4},set exports(U){d4=U}};(function(U,l){(function(f,I){U.exports=I()})(t9,function(){function f(y){var k=y.tags,E=Object.keys(k),C=E.map(function(v){return typeof k[v]}).every(function(v){return v==="object"||v==="boolean"||v==="function"});if(!C)throw new Error("The configuration was invalid");this.config=y}var I=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function L(y){return I.indexOf(y.nodeName)!==-1}var d=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function u(y){return d.indexOf(y.nodeName)!==-1}f.prototype.clean=function(y){const k=document.implementation.createHTMLDocument(),E=k.createElement("div");return E.innerHTML=y,this._sanitize(k,E),E.innerHTML},f.prototype._sanitize=function(y,k){var E=s(y,k),C=E.firstChild();if(C)do{if(C.nodeType===Node.TEXT_NODE)if(C.data.trim()===""&&(C.previousElementSibling&&L(C.previousElementSibling)||C.nextElementSibling&&L(C.nextElementSibling))){k.removeChild(C),this._sanitize(y,k);break}else continue;if(C.nodeType===Node.COMMENT_NODE){k.removeChild(C),this._sanitize(y,k);break}var v=u(C),h;v&&(h=Array.prototype.some.call(C.childNodes,L));var a=!!k.parentNode,O=L(k)&&L(C)&&a,_=C.nodeName.toLowerCase(),M=n(this.config,_,C),P=v&&h;if(P||m(C,M)||!this.config.keepNestedBlockElements&&O){if(!(C.nodeName==="SCRIPT"||C.nodeName==="STYLE"))for(;C.childNodes.length>0;)k.insertBefore(C.childNodes[0],C);k.removeChild(C),this._sanitize(y,k);break}for(var R=0;R<C.attributes.length;R+=1){var $=C.attributes[R];g($,M,C)&&(C.removeAttribute($.name),R=R-1)}this._sanitize(y,C)}while(C=E.nextSibling())};function s(y,k){return y.createTreeWalker(k,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}function n(y,k,E){return typeof y.tags[k]=="function"?y.tags[k](E):y.tags[k]}function m(y,k){return typeof k>"u"?!0:typeof k=="boolean"?!k:!1}function g(y,k,E){var C=y.name.toLowerCase();return k===!0?!1:typeof k[C]=="function"?!k[C](y.value,E):typeof k[C]>"u"||k[C]===!1?!0:typeof k[C]=="string"?k[C]!==y.value:!1}return f})})(M9);const L9=d4;function G6(U,l){return U.map(f=>{const I=Va(l)?l(f.tool):l;return gd(I)||(f.data=f4(f.data,I)),f})}function kp(U,l={}){const f={tags:l};return new L9(f).clean(U)}function f4(U,l){return Array.isArray(U)?B9(U,l):cl(U)?j9(U,l):U0(U)?I9(U,l):U}function B9(U,l){return U.map(f=>f4(f,l))}function j9(U,l){const f={};for(const I in U){if(!Object.prototype.hasOwnProperty.call(U,I))continue;const L=U[I],d=N9(l[I])?l[I]:l;f[I]=f4(L,d)}return f}function I9(U,l){return cl(l)?kp(U,l):l===!1?kp(U,{}):U}function N9(U){return cl(U)||i9(U)||Va(U)}class P9 extends go{get methods(){return{clean:(l,f)=>this.clean(l,f)}}clean(l,f){return kp(l,f)}}class R9 extends go{get methods(){return{save:()=>this.save()}}save(){const l="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(pd(l,"warn"),Promise.reject(new Error(l))):this.Editor.Saver.save()}}class D9 extends go{get methods(){return{findParentTag:(l,f)=>this.findParentTag(l,f),expandToTag:l=>this.expandToTag(l)}}findParentTag(l,f){return new ti().findParentTag(l,f)}expandToTag(l){new ti().expandToTag(l)}}class F9 extends go{get classes(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}}class z9 extends go{get methods(){return{close:()=>this.close(),open:()=>this.open(),toggleBlockSettings:l=>this.toggleBlockSettings(l),toggleToolbox:l=>this.toggleToolbox(l)}}open(){this.Editor.Toolbar.moveAndOpen()}close(){this.Editor.Toolbar.close()}toggleBlockSettings(l){if(this.Editor.BlockManager.currentBlockIndex===-1){pd("Could't toggle the Toolbar because there is no block selected ","warn");return}(l!=null?l:!this.Editor.BlockSettings.opened)?(this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close()}toggleToolbox(l){if(this.Editor.BlockManager.currentBlockIndex===-1){pd("Could't toggle the Toolbox because there is no block selected ","warn");return}(l!=null?l:!this.Editor.Toolbar.toolbox.opened)?(this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()):this.Editor.Toolbar.toolbox.close()}}var p4={},U9={get exports(){return p4},set exports(U){p4=U}};/*!
 * CodeX.Tooltips
 * 
 * @version 1.0.5
 * 
 * @licence MIT
 * @author CodeX <https://codex.so>
 * 
 * 
 */(function(U,l){(function(f,I){U.exports=I()})(window,function(){return function(f){var I={};function L(d){if(I[d])return I[d].exports;var u=I[d]={i:d,l:!1,exports:{}};return f[d].call(u.exports,u,u.exports,L),u.l=!0,u.exports}return L.m=f,L.c=I,L.d=function(d,u,s){L.o(d,u)||Object.defineProperty(d,u,{enumerable:!0,get:s})},L.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},L.t=function(d,u){if(1&u&&(d=L(d)),8&u||4&u&&typeof d=="object"&&d&&d.__esModule)return d;var s=Object.create(null);if(L.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:d}),2&u&&typeof d!="string")for(var n in d)L.d(s,n,function(m){return d[m]}.bind(null,n));return s},L.n=function(d){var u=d&&d.__esModule?function(){return d.default}:function(){return d};return L.d(u,"a",u),u},L.o=function(d,u){return Object.prototype.hasOwnProperty.call(d,u)},L.p="",L(L.s=0)}([function(f,I,L){f.exports=L(1)},function(f,I,L){L.r(I),L.d(I,"default",function(){return d});class d{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(s,n,m){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const g=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},m);if(g.hidingDelay&&(this.hidingDelay=g.hidingDelay),this.nodes.content.innerHTML="",typeof n=="string")this.nodes.content.appendChild(document.createTextNode(n));else{if(!(n instanceof Node))throw Error("[CodeX Tooltip] Wrong type of «content» passed. It should be an instance of Node or String. But "+typeof n+" given.");this.nodes.content.appendChild(n)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),g.placement){case"top":this.placeTop(s,g);break;case"left":this.placeLeft(s,g);break;case"right":this.placeRight(s,g);break;case"bottom":default:this.placeBottom(s,g)}g&&g.delay?this.showingTimeout=setTimeout(()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0},g.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(s=!1){if(this.hidingDelay&&!s)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout(()=>{this.hide(!0)},this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(s,n,m){s.addEventListener("mouseenter",()=>{this.show(s,n,m)}),s.addEventListener("mouseleave",()=>{this.hide()})}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const s="codex-tooltips-style";if(document.getElementById(s))return;const n=L(2),m=this.make("style",null,{textContent:n.toString(),id:s});this.prepend(document.head,m)}placeBottom(s,n){const m=s.getBoundingClientRect(),g=m.left+s.clientWidth/2-this.nodes.wrapper.offsetWidth/2,y=m.bottom+window.pageYOffset+this.offsetTop+n.marginTop;this.applyPlacement("bottom",g,y)}placeTop(s,n){const m=s.getBoundingClientRect(),g=m.left+s.clientWidth/2-this.nodes.wrapper.offsetWidth/2,y=m.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",g,y)}placeLeft(s,n){const m=s.getBoundingClientRect(),g=m.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-n.marginLeft,y=m.top+window.pageYOffset+s.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",g,y)}placeRight(s,n){const m=s.getBoundingClientRect(),g=m.right+this.offsetRight+n.marginRight,y=m.top+window.pageYOffset+s.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",g,y)}applyPlacement(s,n,m){this.nodes.wrapper.classList.add(this.CSS.placement[s]),this.nodes.wrapper.style.left=n+"px",this.nodes.wrapper.style.top=m+"px"}make(s,n=null,m={}){const g=document.createElement(s);Array.isArray(n)?g.classList.add(...n):n&&g.classList.add(n);for(const y in m)m.hasOwnProperty(y)&&(g[y]=m[y]);return g}append(s,n){Array.isArray(n)?n.forEach(m=>s.appendChild(m)):s.appendChild(n)}prepend(s,n){Array.isArray(n)?(n=n.reverse()).forEach(m=>s.prepend(m)):s.prepend(n)}}},function(f,I){f.exports=`.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`}]).default})})(U9);const H9=Qx(p4);class g4{constructor(){this.lib=new H9}destroy(){this.lib.destroy()}show(l,f,I){this.lib.show(l,f,I)}hide(l=!1){this.lib.hide(l)}onHover(l,f,I){this.lib.onHover(l,f,I)}}class $9 extends go{constructor({config:l,eventsDispatcher:f}){super({config:l,eventsDispatcher:f}),this.tooltip=new g4}destroy(){this.tooltip.destroy()}get methods(){return{show:(l,f,I)=>this.show(l,f,I),hide:()=>this.hide(),onHover:(l,f,I)=>this.onHover(l,f,I)}}show(l,f,I){this.tooltip.show(l,f,I)}hide(){this.tooltip.hide()}onHover(l,f,I){this.tooltip.onHover(l,f,I)}}class q9 extends go{get methods(){return{nodes:this.editorNodes}}get editorNodes(){return{wrapper:this.Editor.UI.nodes.wrapper,redactor:this.Editor.UI.nodes.redactor}}}function X6(U,l){const f={};return Object.entries(U).forEach(([I,L])=>{if(cl(L)){const d=l?`${l}.${I}`:I;Object.values(L).every(u=>U0(u))?f[I]=d:f[I]=X6(L,d);return}f[I]=L}),f}const md=X6($6);function Y9(U,l){const f={};return Object.keys(U).forEach(I=>{const L=l[I];L!==void 0?f[L]=U[I]:f[I]=U[I]}),f}const V9='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>',Z6='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',W9='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>',G9='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',X9='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>',Z9='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>',K6='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>',K9='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 7.29999H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 7.29999H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.30999 12H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 12H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 16.7H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 16.7H14.59"/></svg>',J9='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',Q9='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',tS='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>';class zs{constructor(l){this.nodes={root:null,icon:null},this.confirmationState=null,this.removeSpecialFocusBehavior=()=>{this.nodes.root.classList.remove(zs.CSS.noFocus)},this.removeSpecialHoverBehavior=()=>{this.nodes.root.classList.remove(zs.CSS.noHover)},this.onErrorAnimationEnd=()=>{this.nodes.icon.classList.remove(zs.CSS.wobbleAnimation),this.nodes.icon.removeEventListener("animationend",this.onErrorAnimationEnd)},this.params=l,this.nodes.root=this.make(l)}get isDisabled(){return this.params.isDisabled}get toggle(){return this.params.toggle}get title(){return this.params.title}get closeOnActivate(){return this.params.closeOnActivate}get isConfirmationStateEnabled(){return this.confirmationState!==null}get isFocused(){return this.nodes.root.classList.contains(zs.CSS.focused)}static get CSS(){return{container:"ce-popover-item",title:"ce-popover-item__title",secondaryTitle:"ce-popover-item__secondary-title",icon:"ce-popover-item__icon",active:"ce-popover-item--active",disabled:"ce-popover-item--disabled",focused:"ce-popover-item--focused",hidden:"ce-popover-item--hidden",confirmationState:"ce-popover-item--confirmation",noHover:"ce-popover-item--no-hover",noFocus:"ce-popover-item--no-focus",wobbleAnimation:"wobble"}}getElement(){return this.nodes.root}handleClick(){if(this.isConfirmationStateEnabled){this.activateOrEnableConfirmationMode(this.confirmationState);return}this.activateOrEnableConfirmationMode(this.params)}toggleActive(l){this.nodes.root.classList.toggle(zs.CSS.active,l)}toggleHidden(l){this.nodes.root.classList.toggle(zs.CSS.hidden,l)}reset(){this.isConfirmationStateEnabled&&this.disableConfirmationMode()}onFocus(){this.disableSpecialHoverAndFocusBehavior()}make(l){const f=Dn.make("div",zs.CSS.container);return l.name&&(f.dataset.itemName=l.name),this.nodes.icon=Dn.make("div",zs.CSS.icon,{innerHTML:l.icon||X9}),f.appendChild(this.nodes.icon),f.appendChild(Dn.make("div",zs.CSS.title,{innerHTML:l.title||""})),l.secondaryLabel&&f.appendChild(Dn.make("div",zs.CSS.secondaryTitle,{textContent:l.secondaryLabel})),l.isActive&&f.classList.add(zs.CSS.active),l.isDisabled&&f.classList.add(zs.CSS.disabled),f}enableConfirmationMode(l){const f=dd(ks(ks({},this.params),l),{confirmation:l.confirmation}),I=this.make(f);this.nodes.root.innerHTML=I.innerHTML,this.nodes.root.classList.add(zs.CSS.confirmationState),this.confirmationState=l,this.enableSpecialHoverAndFocusBehavior()}disableConfirmationMode(){const l=this.make(this.params);this.nodes.root.innerHTML=l.innerHTML,this.nodes.root.classList.remove(zs.CSS.confirmationState),this.confirmationState=null,this.disableSpecialHoverAndFocusBehavior()}enableSpecialHoverAndFocusBehavior(){this.nodes.root.classList.add(zs.CSS.noHover),this.nodes.root.classList.add(zs.CSS.noFocus),this.nodes.root.addEventListener("mouseleave",this.removeSpecialHoverBehavior,{once:!0})}disableSpecialHoverAndFocusBehavior(){this.removeSpecialFocusBehavior(),this.removeSpecialHoverBehavior(),this.nodes.root.removeEventListener("mouseleave",this.removeSpecialHoverBehavior)}activateOrEnableConfirmationMode(l){if(l.confirmation===void 0)try{l.onActivate(l),this.disableConfirmationMode()}catch(f){this.animateError()}else this.enableConfirmationMode(l.confirmation)}animateError(){this.nodes.icon.classList.contains(zs.CSS.wobbleAnimation)||(this.nodes.icon.classList.add(zs.CSS.wobbleAnimation),this.nodes.icon.addEventListener("animationend",this.onErrorAnimationEnd))}}const Eb=class{constructor(U,l){this.cursor=-1,this.items=[],this.items=U||[],this.focusedCssClass=l}get currentItem(){return this.cursor===-1?null:this.items[this.cursor]}setCursor(U){U<this.items.length&&U>=-1&&(this.dropCursor(),this.cursor=U,this.items[this.cursor].classList.add(this.focusedCssClass))}setItems(U){this.items=U}next(){this.cursor=this.leafNodesAndReturnIndex(Eb.directions.RIGHT)}previous(){this.cursor=this.leafNodesAndReturnIndex(Eb.directions.LEFT)}dropCursor(){this.cursor!==-1&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}leafNodesAndReturnIndex(U){if(this.items.length===0)return this.cursor;let l=this.cursor;return l===-1?l=U===Eb.directions.RIGHT?-1:0:this.items[l].classList.remove(this.focusedCssClass),U===Eb.directions.RIGHT?l=(l+1)%this.items.length:l=(this.items.length+l-1)%this.items.length,Dn.canSetCaret(this.items[l])&&Pg(()=>ti.setCursor(this.items[l]),50)(),this.items[l].classList.add(this.focusedCssClass),l}};let Ay=Eb;Ay.directions={RIGHT:"right",LEFT:"left"};class Cp{constructor(l){this.iterator=null,this.activated=!1,this.flipCallbacks=[],this.onKeyDown=f=>{if(this.isEventReadyForHandling(f))switch(Cp.usedKeys.includes(f.keyCode)&&f.preventDefault(),f.keyCode){case Ii.TAB:this.handleTabPress(f);break;case Ii.LEFT:case Ii.UP:this.flipLeft();break;case Ii.RIGHT:case Ii.DOWN:this.flipRight();break;case Ii.ENTER:this.handleEnterPress(f);break}},this.iterator=new Ay(l.items,l.focusedItemClass),this.activateCallback=l.activateCallback,this.allowedKeys=l.allowedKeys||Cp.usedKeys}get isActivated(){return this.activated}static get usedKeys(){return[Ii.TAB,Ii.LEFT,Ii.RIGHT,Ii.ENTER,Ii.UP,Ii.DOWN]}activate(l,f){this.activated=!0,l&&this.iterator.setItems(l),f!==void 0&&this.iterator.setCursor(f),document.addEventListener("keydown",this.onKeyDown,!0)}deactivate(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}focusFirst(){this.dropCursor(),this.flipRight()}flipLeft(){this.iterator.previous(),this.flipCallback()}flipRight(){this.iterator.next(),this.flipCallback()}hasFocus(){return!!this.iterator.currentItem}onFlip(l){this.flipCallbacks.push(l)}removeOnFlip(l){this.flipCallbacks=this.flipCallbacks.filter(f=>f!==l)}dropCursor(){this.iterator.dropCursor()}isEventReadyForHandling(l){return this.activated&&this.allowedKeys.includes(l.keyCode)}handleTabPress(l){switch(l.shiftKey?Ay.directions.LEFT:Ay.directions.RIGHT){case Ay.directions.RIGHT:this.flipRight();break;case Ay.directions.LEFT:this.flipLeft();break}}handleEnterPress(l){this.activated&&(this.iterator.currentItem&&(l.stopPropagation(),l.preventDefault(),this.iterator.currentItem.click()),Va(this.activateCallback)&&this.activateCallback(this.iterator.currentItem))}flipCallback(){this.iterator.currentItem&&this.iterator.currentItem.scrollIntoViewIfNeeded(),this.flipCallbacks.forEach(l=>l())}}class Tb{static get CSS(){return{wrapper:"cdx-search-field",icon:"cdx-search-field__icon",input:"cdx-search-field__input"}}constructor({items:l,onSearch:f,placeholder:I}){this.listeners=new c4,this.items=l,this.onSearch=f,this.render(I)}getElement(){return this.wrapper}focus(){this.input.focus()}clear(){this.input.value="",this.searchQuery="",this.onSearch("",this.foundItems)}destroy(){this.listeners.removeAll()}render(l){this.wrapper=Dn.make("div",Tb.CSS.wrapper);const f=Dn.make("div",Tb.CSS.icon,{innerHTML:Q9});this.input=Dn.make("input",Tb.CSS.input,{placeholder:l}),this.wrapper.appendChild(f),this.wrapper.appendChild(this.input),this.listeners.on(this.input,"input",()=>{this.searchQuery=this.input.value,this.onSearch(this.searchQuery,this.foundItems)})}get foundItems(){return this.items.filter(l=>this.checkItem(l))}checkItem(l){var f;const I=((f=l.title)==null?void 0:f.toLowerCase())||"",L=this.searchQuery.toLowerCase();return I.includes(L)}}const Ab=class{lock(){H6?this.lockHard():document.body.classList.add(Ab.CSS.scrollLocked)}unlock(){H6?this.unlockHard():document.body.classList.remove(Ab.CSS.scrollLocked)}lockHard(){this.scrollPosition=window.pageYOffset,document.documentElement.style.setProperty("--window-scroll-offset",`${this.scrollPosition}px`),document.body.classList.add(Ab.CSS.scrollLockedHard)}unlockHard(){document.body.classList.remove(Ab.CSS.scrollLockedHard),this.scrollPosition!==null&&window.scrollTo(0,this.scrollPosition),this.scrollPosition=null}};let J6=Ab;J6.CSS={scrollLocked:"ce-scroll-locked",scrollLockedHard:"ce-scroll-locked--hard"};var eS=Object.defineProperty,nS=Object.getOwnPropertyDescriptor,rS=(U,l,f,I)=>{for(var L=I>1?void 0:I?nS(l,f):l,d=U.length-1,u;d>=0;d--)(u=U[d])&&(L=(I?u(l,f,L):u(L))||L);return I&&L&&eS(l,f,L),L},Ob=(U=>(U.Close="close",U))(Ob||{});const ll=class extends ew{constructor(U){super(),this.scopeElement=document.body,this.listeners=new c4,this.scrollLocker=new J6,this.nodes={wrapper:null,popover:null,nothingFoundMessage:null,customContent:null,items:null,overlay:null},this.messages={nothingFound:"Nothing found",search:"Search"},this.onFlip=()=>{this.items.find(l=>l.isFocused).onFocus()},this.items=U.items.map(l=>new zs(l)),U.scopeElement!==void 0&&(this.scopeElement=U.scopeElement),U.messages&&(this.messages=ks(ks({},this.messages),U.messages)),U.customContentFlippableItems&&(this.customContentFlippableItems=U.customContentFlippableItems),this.make(),U.customContent&&this.addCustomContent(U.customContent),U.searchable&&this.addSearch(),this.initializeFlipper()}static get CSS(){return{popover:"ce-popover",popoverOpenTop:"ce-popover--open-top",popoverOpened:"ce-popover--opened",search:"ce-popover__search",nothingFoundMessage:"ce-popover__nothing-found-message",nothingFoundMessageDisplayed:"ce-popover__nothing-found-message--displayed",customContent:"ce-popover__custom-content",customContentHidden:"ce-popover__custom-content--hidden",items:"ce-popover__items",overlay:"ce-popover__overlay",overlayHidden:"ce-popover__overlay--hidden"}}getElement(){return this.nodes.wrapper}hasFocus(){return this.flipper.hasFocus()}show(){this.shouldOpenBottom||(this.nodes.popover.style.setProperty("--popover-height",this.height+"px"),this.nodes.popover.classList.add(ll.CSS.popoverOpenTop)),this.nodes.overlay.classList.remove(ll.CSS.overlayHidden),this.nodes.popover.classList.add(ll.CSS.popoverOpened),this.flipper.activate(this.flippableElements),this.search!==void 0&&setTimeout(()=>{this.search.focus()},100),Rg()&&this.scrollLocker.lock()}hide(){this.nodes.popover.classList.remove(ll.CSS.popoverOpened),this.nodes.popover.classList.remove(ll.CSS.popoverOpenTop),this.nodes.overlay.classList.add(ll.CSS.overlayHidden),this.flipper.deactivate(),this.items.forEach(U=>U.reset()),this.search!==void 0&&this.search.clear(),Rg()&&this.scrollLocker.unlock(),this.emit("close")}destroy(){this.flipper.deactivate(),this.listeners.removeAll(),Rg()&&this.scrollLocker.unlock()}make(){this.nodes.popover=Dn.make("div",[ll.CSS.popover]),this.nodes.nothingFoundMessage=Dn.make("div",[ll.CSS.nothingFoundMessage],{textContent:this.messages.nothingFound}),this.nodes.popover.appendChild(this.nodes.nothingFoundMessage),this.nodes.items=Dn.make("div",[ll.CSS.items]),this.items.forEach(U=>{this.nodes.items.appendChild(U.getElement())}),this.nodes.popover.appendChild(this.nodes.items),this.listeners.on(this.nodes.popover,"click",U=>{const l=this.getTargetItem(U);l!==void 0&&this.handleItemClick(l)}),this.nodes.wrapper=Dn.make("div"),this.nodes.overlay=Dn.make("div",[ll.CSS.overlay,ll.CSS.overlayHidden]),this.listeners.on(this.nodes.overlay,"click",()=>{this.hide()}),this.nodes.wrapper.appendChild(this.nodes.overlay),this.nodes.wrapper.appendChild(this.nodes.popover)}addSearch(){this.search=new Tb({items:this.items,placeholder:this.messages.search,onSearch:(l,f)=>{this.items.forEach(L=>{const d=!f.includes(L);L.toggleHidden(d)}),this.toggleNothingFoundMessage(f.length===0),this.toggleCustomContent(l!=="");const I=l===""?this.flippableElements:f.map(L=>L.getElement());this.flipper.isActivated&&(this.flipper.deactivate(),this.flipper.activate(I))}});const U=this.search.getElement();U.classList.add(ll.CSS.search),this.nodes.popover.insertBefore(U,this.nodes.popover.firstChild)}addCustomContent(U){this.nodes.customContent=U,this.nodes.customContent.classList.add(ll.CSS.customContent),this.nodes.popover.insertBefore(U,this.nodes.popover.firstChild)}getTargetItem(U){return this.items.find(l=>U.composedPath().includes(l.getElement()))}handleItemClick(U){U.isDisabled||(this.items.filter(l=>l!==U).forEach(l=>l.reset()),U.handleClick(),this.toggleItemActivenessIfNeeded(U),U.closeOnActivate&&this.hide())}initializeFlipper(){this.flipper=new Cp({items:this.flippableElements,focusedItemClass:zs.CSS.focused,allowedKeys:[Ii.TAB,Ii.UP,Ii.DOWN,Ii.ENTER]}),this.flipper.onFlip(this.onFlip)}get flippableElements(){const U=this.items.map(l=>l.getElement());return(this.customContentFlippableItems||[]).concat(U)}get height(){let U=0;if(this.nodes.popover===null)return U;const l=this.nodes.popover.cloneNode(!0);return l.style.visibility="hidden",l.style.position="absolute",l.style.top="-1000px",l.classList.add(ll.CSS.popoverOpened),document.body.appendChild(l),U=l.offsetHeight,l.remove(),U}get shouldOpenBottom(){const U=this.nodes.popover.getBoundingClientRect(),l=this.scopeElement.getBoundingClientRect(),f=this.height,I=U.top+f,L=U.top-f,d=Math.min(window.innerHeight,l.bottom);return L<l.top||I<=d}toggleNothingFoundMessage(U){this.nodes.nothingFoundMessage.classList.toggle(ll.CSS.nothingFoundMessageDisplayed,U)}toggleCustomContent(U){var l;(l=this.nodes.customContent)==null||l.classList.toggle(ll.CSS.customContentHidden,U)}toggleItemActivenessIfNeeded(U){if(U.toggle===!0&&U.toggleActive(),typeof U.toggle=="string"){const l=this.items.filter(f=>f.toggle===U.toggle);if(l.length===1){U.toggleActive();return}l.forEach(f=>{f.toggleActive(f===U)})}}};let m4=ll;rS([Ey],m4.prototype,"height",1);class iS extends go{constructor(){super(...arguments),this.opened=!1,this.selection=new ti,this.onPopoverClose=()=>{this.close()}}get events(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}get CSS(){return{settings:"ce-settings"}}get flipper(){var l;return(l=this.popover)==null?void 0:l.flipper}make(){this.nodes.wrapper=Dn.make("div",[this.CSS.settings])}destroy(){this.removeAllNodes()}open(l=this.Editor.BlockManager.currentBlock){this.opened=!0,this.selection.save(),l.selected=!0,this.Editor.BlockSelection.clearCache();const[f,I]=l.getTunes();this.eventsDispatcher.emit(this.events.opened),this.popover=new m4({searchable:!0,items:f.map(L=>this.resolveTuneAliases(L)),customContent:I,customContentFlippableItems:this.getControls(I),scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:xu.ui(md.ui.popover,"Nothing found"),search:xu.ui(md.ui.popover,"Filter")}}),this.popover.on(Ob.Close,this.onPopoverClose),this.nodes.wrapper.append(this.popover.getElement()),this.popover.show()}getElement(){return this.nodes.wrapper}close(){this.opened=!1,ti.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&(this.Editor.BlockManager.currentBlock.selected=!1),this.eventsDispatcher.emit(this.events.closed),this.popover&&(this.popover.off(Ob.Close,this.onPopoverClose),this.popover.destroy(),this.popover.getElement().remove(),this.popover=null)}getControls(l){const{StylesAPI:f}=this.Editor,I=l.querySelectorAll(`.${f.classes.settingsButton}, ${Dn.allInputsSelector}`);return Array.from(I)}resolveTuneAliases(l){const f=Y9(l,{label:"title"});return l.confirmation&&(f.confirmation=this.resolveTuneAliases(l.confirmation)),f}}class Bh extends go{constructor(){super(...arguments),this.opened=!1,this.tools=[],this.flipper=null,this.togglingCallback=null}static get CSS(){return{conversionToolbarWrapper:"ce-conversion-toolbar",conversionToolbarShowed:"ce-conversion-toolbar--showed",conversionToolbarTools:"ce-conversion-toolbar__tools",conversionToolbarLabel:"ce-conversion-toolbar__label",conversionTool:"ce-conversion-tool",conversionToolHidden:"ce-conversion-tool--hidden",conversionToolIcon:"ce-conversion-tool__icon",conversionToolFocused:"ce-conversion-tool--focused",conversionToolActive:"ce-conversion-tool--active"}}make(){this.nodes.wrapper=Dn.make("div",[Bh.CSS.conversionToolbarWrapper,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.tools=Dn.make("div",Bh.CSS.conversionToolbarTools);const l=Dn.make("div",Bh.CSS.conversionToolbarLabel,{textContent:xu.ui(md.ui.inlineToolbar.converter,"Convert to")});return this.addTools(),this.enableFlipper(),Dn.append(this.nodes.wrapper,l),Dn.append(this.nodes.wrapper,this.nodes.tools),this.nodes.wrapper}destroy(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}toggle(l){this.opened?this.close():this.open(),Va(l)&&(this.togglingCallback=l)}open(){this.filterTools(),this.opened=!0,this.nodes.wrapper.classList.add(Bh.CSS.conversionToolbarShowed),window.requestAnimationFrame(()=>{this.flipper.activate(this.tools.map(l=>l.button).filter(l=>!l.classList.contains(Bh.CSS.conversionToolHidden))),this.flipper.focusFirst(),Va(this.togglingCallback)&&this.togglingCallback(!0)})}close(){this.opened=!1,this.flipper.deactivate(),this.nodes.wrapper.classList.remove(Bh.CSS.conversionToolbarShowed),Va(this.togglingCallback)&&this.togglingCallback(!1)}hasTools(){return this.tools.length===1?this.tools[0].name!==this.config.defaultBlock:!0}replaceWithBlock(l,f){return Ei(this,null,function*(){const I=this.Editor.BlockManager.currentBlock.tool,L=(yield this.Editor.BlockManager.currentBlock.save()).data,d=this.Editor.Tools.blockTools.get(l);let u="";const s=I.conversionConfig.export;if(Va(s))u=s(L);else if(U0(s))u=L[s];else{fo("Conversion «export» property must be a string or function. String means key of saved data object to export. Function should export processed string to export.");return}const n=kp(u,d.sanitizeConfig);let m={};const g=d.conversionConfig.import;if(Va(g))m=g(n);else if(U0(g))m[g]=n;else{fo("Conversion «import» property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data.");return}f&&(m=Object.assign(m,f)),this.Editor.BlockManager.replace({tool:l,data:m}),this.Editor.BlockSelection.clearSelection(),this.close(),this.Editor.InlineToolbar.close(),Pg(()=>{this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock)},10)()})}addTools(){const l=this.Editor.Tools.blockTools;Array.from(l.entries()).forEach(([f,I])=>{const L=I.conversionConfig;!L||!L.import||I.toolbox.forEach(d=>this.addToolIfValid(f,d))})}addToolIfValid(l,f){gd(f)||!f.icon||this.addTool(l,f)}addTool(l,f){const I=Dn.make("div",[Bh.CSS.conversionTool]),L=Dn.make("div",[Bh.CSS.conversionToolIcon]);I.dataset.tool=l,L.innerHTML=f.icon,Dn.append(I,L),Dn.append(I,Dn.text(xu.t(md.toolNames,f.title||tw(l)))),Dn.append(this.nodes.tools,I),this.tools.push({name:l,button:I,toolboxItem:f}),this.listeners.on(I,"click",()=>Ei(this,null,function*(){yield this.replaceWithBlock(l,f.data)}))}filterTools(){return Ei(this,null,function*(){const{currentBlock:l}=this.Editor.BlockManager,f=yield l.getActiveToolboxEntry();function I(L,d){return L.icon===d.icon&&L.title===d.title}this.tools.forEach(L=>{let d=!1;if(f){const u=I(f,L.toolboxItem);d=L.button.dataset.tool===l.name&&u}L.button.hidden=d,L.button.classList.toggle(Bh.CSS.conversionToolHidden,d)})})}enableFlipper(){this.flipper=new Cp({focusedItemClass:Bh.CSS.conversionToolFocused})}}var y4={},oS={get exports(){return y4},set exports(U){y4=U}};/*!
 * Library for handling keyboard shortcuts
 * @copyright CodeX (https://codex.so)
 * @license MIT
 * @author CodeX (https://codex.so)
 * @version 1.2.0
 */(function(U,l){(function(f,I){U.exports=I()})(window,function(){return function(f){var I={};function L(d){if(I[d])return I[d].exports;var u=I[d]={i:d,l:!1,exports:{}};return f[d].call(u.exports,u,u.exports,L),u.l=!0,u.exports}return L.m=f,L.c=I,L.d=function(d,u,s){L.o(d,u)||Object.defineProperty(d,u,{enumerable:!0,get:s})},L.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},L.t=function(d,u){if(1&u&&(d=L(d)),8&u||4&u&&typeof d=="object"&&d&&d.__esModule)return d;var s=Object.create(null);if(L.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:d}),2&u&&typeof d!="string")for(var n in d)L.d(s,n,function(m){return d[m]}.bind(null,n));return s},L.n=function(d){var u=d&&d.__esModule?function(){return d.default}:function(){return d};return L.d(u,"a",u),u},L.o=function(d,u){return Object.prototype.hasOwnProperty.call(d,u)},L.p="",L(L.s=0)}([function(f,I,L){function d(n,m){for(var g=0;g<m.length;g++){var y=m[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(n,y.key,y)}}function u(n,m,g){return m&&d(n.prototype,m),g&&d(n,g),n}L.r(I);var s=function(){function n(m){var g=this;(function(y,k){if(!(y instanceof k))throw new TypeError("Cannot call a class as a function")})(this,n),this.commands={},this.keys={},this.name=m.name,this.parseShortcutName(m.name),this.element=m.on,this.callback=m.callback,this.executeShortcut=function(y){g.execute(y)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return u(n,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,".":190}}}]),u(n,[{key:"parseShortcutName",value:function(m){m=m.split("+");for(var g=0;g<m.length;g++){m[g]=m[g].toUpperCase();var y=!1;for(var k in n.supportedCommands)if(n.supportedCommands[k].includes(m[g])){y=this.commands[k]=!0;break}y||(this.keys[m[g]]=!0)}for(var E in n.supportedCommands)this.commands[E]||(this.commands[E]=!1)}},{key:"execute",value:function(m){var g,y={CMD:m.ctrlKey||m.metaKey,SHIFT:m.shiftKey,ALT:m.altKey},k=!0;for(g in this.commands)this.commands[g]!==y[g]&&(k=!1);var E,C=!0;for(E in this.keys)C=C&&m.keyCode===n.keyCodes[E];k&&C&&this.callback(m)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),n}();I.default=s}]).default})})(oS);const aS=Qx(y4);class sS{constructor(){this.registeredShortcuts=new Map}add(l){if(this.findShortcut(l.on,l.name))throw Error(`Shortcut ${l.name} is already registered for ${l.on}. Please remove it before add a new handler.`);const f=new aS({name:l.name,on:l.on,callback:l.handler}),I=this.registeredShortcuts.get(l.on)||[];this.registeredShortcuts.set(l.on,[...I,f])}remove(l,f){const I=this.findShortcut(l,f);if(!I)return;I.remove();const L=this.registeredShortcuts.get(l);this.registeredShortcuts.set(l,L.filter(d=>d!==I))}findShortcut(l,f){return(this.registeredShortcuts.get(l)||[]).find(({name:I})=>I===f)}}const Oy=new sS;var cS=Object.defineProperty,lS=Object.getOwnPropertyDescriptor,Q6=(U,l,f,I)=>{for(var L=I>1?void 0:I?lS(l,f):l,d=U.length-1,u;d>=0;d--)(u=U[d])&&(L=(I?u(l,f,L):u(L))||L);return I&&L&&cS(l,f,L),L},nw=(U=>(U.Opened="toolbox-opened",U.Closed="toolbox-closed",U.BlockAdded="toolbox-block-added",U))(nw||{});const t8=class extends ew{constructor({api:U,tools:l,i18nLabels:f}){super(),this.opened=!1,this.nodes={toolbox:null},this.onPopoverClose=()=>{this.opened=!1,this.emit("toolbox-closed")},this.api=U,this.tools=l,this.i18nLabels=f}get isEmpty(){return this.toolsToBeDisplayed.length===0}static get CSS(){return{toolbox:"ce-toolbox"}}make(){return this.popover=new m4({scopeElement:this.api.ui.nodes.redactor,searchable:!0,messages:{nothingFound:this.i18nLabels.nothingFound,search:this.i18nLabels.filter},items:this.toolboxItemsToBeDisplayed}),this.popover.on(Ob.Close,this.onPopoverClose),this.enableShortcuts(),this.nodes.toolbox=this.popover.getElement(),this.nodes.toolbox.classList.add(t8.CSS.toolbox),this.nodes.toolbox}hasFocus(){var U;return(U=this.popover)==null?void 0:U.hasFocus()}destroy(){var U;super.destroy(),this.nodes&&this.nodes.toolbox&&(this.nodes.toolbox.remove(),this.nodes.toolbox=null),this.removeAllShortcuts(),(U=this.popover)==null||U.off(Ob.Close,this.onPopoverClose)}toolButtonActivated(U,l){this.insertNewBlock(U,l)}open(){var U;this.isEmpty||((U=this.popover)==null||U.show(),this.opened=!0,this.emit("toolbox-opened"))}close(){var U;(U=this.popover)==null||U.hide(),this.opened=!1,this.emit("toolbox-closed")}toggle(){this.opened?this.close():this.open()}get toolsToBeDisplayed(){const U=[];return this.tools.forEach(l=>{l.toolbox&&U.push(l)}),U}get toolboxItemsToBeDisplayed(){const U=(l,f)=>({icon:l.icon,title:xu.t(md.toolNames,l.title||tw(f.name)),name:f.name,onActivate:()=>{this.toolButtonActivated(f.name,l.data)},secondaryLabel:f.shortcut?z6(f.shortcut):""});return this.toolsToBeDisplayed.reduce((l,f)=>(Array.isArray(f.toolbox)?f.toolbox.forEach(I=>{l.push(U(I,f))}):f.toolbox!==void 0&&l.push(U(f.toolbox,f)),l),[])}enableShortcuts(){this.toolsToBeDisplayed.forEach(U=>{const l=U.shortcut;l&&this.enableShortcutForTool(U.name,l)})}enableShortcutForTool(U,l){Oy.add({name:l,on:this.api.ui.nodes.redactor,handler:f=>{f.preventDefault(),this.insertNewBlock(U)}})}removeAllShortcuts(){this.toolsToBeDisplayed.forEach(U=>{const l=U.shortcut;l&&Oy.remove(this.api.ui.nodes.redactor,l)})}insertNewBlock(U,l){return Ei(this,null,function*(){const f=this.api.blocks.getCurrentBlockIndex(),I=this.api.blocks.getBlockByIndex(f);if(!I)return;const L=I.isEmpty?f:f+1;let d;if(l){const s=yield this.api.blocks.composeBlockData(U);d=Object.assign(s,l)}const u=this.api.blocks.insert(U,d,void 0,L,void 0,I.isEmpty);u.call(H0.APPEND_CALLBACK),this.api.caret.setToBlock(L),this.emit("toolbox-block-added",{block:u}),this.api.toolbar.close()})}};let v4=t8;Q6([Ey],v4.prototype,"toolsToBeDisplayed",1),Q6([Ey],v4.prototype,"toolboxItemsToBeDisplayed",1);const e8="block hovered";class uS extends go{constructor({config:l,eventsDispatcher:f}){super({config:l,eventsDispatcher:f}),this.tooltip=new g4}get CSS(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",openedToolboxHolderModifier:"codex-editor--toolbox-opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",settingsToggler:"ce-toolbar__settings-btn",settingsTogglerHidden:"ce-toolbar__settings-btn--hidden"}}get opened(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}get toolbox(){return{opened:this.toolboxInstance.opened,close:()=>{this.toolboxInstance.close()},open:()=>{this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.open()},toggle:()=>this.toolboxInstance.toggle(),hasFocus:()=>this.toolboxInstance.hasFocus()}}get blockActions(){return{hide:()=>{this.nodes.actions.classList.remove(this.CSS.actionsOpened)},show:()=>{this.nodes.actions.classList.add(this.CSS.actionsOpened)}}}get blockTunesToggler(){return{hide:()=>this.nodes.settingsToggler.classList.add(this.CSS.settingsTogglerHidden),show:()=>this.nodes.settingsToggler.classList.remove(this.CSS.settingsTogglerHidden)}}toggleReadOnly(l){l?(this.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):(this.drawUI(),this.enableModuleBindings())}moveAndOpen(l=this.Editor.BlockManager.currentBlock){if(this.toolboxInstance.opened&&this.toolboxInstance.close(),this.Editor.BlockSettings.opened&&this.Editor.BlockSettings.close(),!l)return;this.hoveredBlock=l;const f=l.holder,{isMobile:I}=this.Editor.UI,L=l.pluginsContent,d=window.getComputedStyle(L),u=parseInt(d.paddingTop,10),s=f.offsetHeight;let n;I?n=f.offsetTop+s:n=f.offsetTop+u,this.nodes.wrapper.style.top=`${Math.floor(n)}px`,this.Editor.BlockManager.blocks.length===1&&l.isEmpty?this.blockTunesToggler.hide():this.blockTunesToggler.show(),this.open()}close(){this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),this.toolboxInstance.close(),this.Editor.BlockSettings.close())}open(l=!0){Pg(()=>{this.nodes.wrapper.classList.add(this.CSS.toolbarOpened),l?this.blockActions.show():this.blockActions.hide()},50)()}make(){this.nodes.wrapper=Dn.make("div",this.CSS.toolbar),["content","actions"].forEach(f=>{this.nodes[f]=Dn.make("div",this.CSS[f])}),Dn.append(this.nodes.wrapper,this.nodes.content),Dn.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=Dn.make("div",this.CSS.plusButton,{innerHTML:J9}),Dn.append(this.nodes.actions,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",()=>{this.tooltip.hide(!0),this.plusButtonClicked()},!1);const l=Dn.make("div");l.appendChild(document.createTextNode(xu.ui(md.ui.toolbar.toolbox,"Add"))),l.appendChild(Dn.make("div",this.CSS.plusButtonShortcut,{textContent:"⇥ Tab"})),this.tooltip.onHover(this.nodes.plusButton,l,{hidingDelay:400}),this.nodes.settingsToggler=Dn.make("span",this.CSS.settingsToggler,{innerHTML:K9}),Dn.append(this.nodes.actions,this.nodes.settingsToggler),this.tooltip.onHover(this.nodes.settingsToggler,xu.ui(md.ui.blockTunes.toggler,"Click to tune"),{hidingDelay:400}),Dn.append(this.nodes.actions,this.makeToolbox()),Dn.append(this.nodes.actions,this.Editor.BlockSettings.getElement()),Dn.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}makeToolbox(){return this.toolboxInstance=new v4({api:this.Editor.API.methods,tools:this.Editor.Tools.blockTools,i18nLabels:{filter:xu.ui(md.ui.popover,"Filter"),nothingFound:xu.ui(md.ui.popover,"Nothing found")}}),this.toolboxInstance.on(nw.Opened,()=>{this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(nw.Closed,()=>{this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(nw.BlockAdded,({block:l})=>{const{BlockManager:f,Caret:I}=this.Editor,L=f.getBlockById(l.id);L.inputs.length===0&&(L===f.lastBlock?(f.insertAtEnd(),I.setToBlock(f.lastBlock)):I.setToBlock(f.nextBlock))}),this.toolboxInstance.make()}plusButtonClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.toggle()}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"mousedown",l=>{l.stopPropagation(),this.settingsTogglerClicked(),this.toolboxInstance.opened&&this.toolboxInstance.close(),this.tooltip.hide(!0)},!0),Rg()||this.eventsDispatcher.on(e8,l=>{this.Editor.BlockSettings.opened||this.toolboxInstance.opened||this.moveAndOpen(l.block)})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}settingsTogglerClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open(this.hoveredBlock)}drawUI(){this.Editor.BlockSettings.make(),this.make()}destroy(){this.removeAllNodes(),this.toolboxInstance&&this.toolboxInstance.destroy(),this.tooltip.destroy()}}var rw=(U=>(U[U.Block=0]="Block",U[U.Inline=1]="Inline",U[U.Tune=2]="Tune",U))(rw||{}),iw=(U=>(U.Shortcut="shortcut",U.Toolbox="toolbox",U.EnabledInlineTools="inlineToolbar",U.EnabledBlockTunes="tunes",U.Config="config",U))(iw||{}),n8=(U=>(U.Shortcut="shortcut",U.SanitizeConfig="sanitize",U))(n8||{}),My=(U=>(U.IsEnabledLineBreaks="enableLineBreaks",U.Toolbox="toolbox",U.ConversionConfig="conversionConfig",U.IsReadOnlySupported="isReadOnlySupported",U.PasteConfig="pasteConfig",U))(My||{}),b4=(U=>(U.IsInline="isInline",U.Title="title",U))(b4||{}),r8=(U=>(U.IsTune="isTune",U))(r8||{});class x4{constructor({name:l,constructable:f,config:I,api:L,isDefault:d,isInternal:u=!1,defaultPlaceholder:s}){this.api=L,this.name=l,this.constructable=f,this.config=I,this.isDefault=d,this.isInternal=u,this.defaultPlaceholder=s}get settings(){const l=this.config.config||{};return this.isDefault&&!("placeholder"in l)&&this.defaultPlaceholder&&(l.placeholder=this.defaultPlaceholder),l}reset(){if(Va(this.constructable.reset))return this.constructable.reset()}prepare(){if(Va(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}get shortcut(){const l=this.constructable.shortcut;return this.config.shortcut||l}get sanitizeConfig(){return this.constructable.sanitize||{}}isInline(){return this.type===1}isBlock(){return this.type===0}isTune(){return this.type===2}}class hS extends go{constructor({config:l,eventsDispatcher:f}){super({config:l,eventsDispatcher:f}),this.CSS={inlineToolbar:"ce-inline-toolbar",inlineToolbarShowed:"ce-inline-toolbar--showed",inlineToolbarLeftOriented:"ce-inline-toolbar--left-oriented",inlineToolbarRightOriented:"ce-inline-toolbar--right-oriented",inlineToolbarShortcut:"ce-inline-toolbar__shortcut",buttonsWrapper:"ce-inline-toolbar__buttons",actionsWrapper:"ce-inline-toolbar__actions",inlineToolButton:"ce-inline-tool",inputField:"cdx-input",focusedButton:"ce-inline-tool--focused",conversionToggler:"ce-inline-toolbar__dropdown",conversionTogglerArrow:"ce-inline-toolbar__dropdown-arrow",conversionTogglerHidden:"ce-inline-toolbar__dropdown--hidden",conversionTogglerContent:"ce-inline-toolbar__dropdown-content",togglerAndButtonsWrapper:"ce-inline-toolbar__toggler-and-button-wrapper"},this.opened=!1,this.toolbarVerticalMargin=Rg()?20:6,this.buttonsList=null,this.width=0,this.flipper=null,this.tooltip=new g4}toggleReadOnly(l){l?(this.destroy(),this.Editor.ConversionToolbar.destroy()):this.make()}tryToShow(l=!1,f=!0){if(!this.allowedToShow()){l&&this.close();return}this.move(),this.open(f),this.Editor.Toolbar.close()}move(){const l=ti.rect,f=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),I={x:l.x-f.left,y:l.y+l.height-f.top+this.toolbarVerticalMargin};l.width&&(I.x+=Math.floor(l.width/2));const L=I.x-this.width/2,d=I.x+this.width/2;this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarLeftOriented,L<this.Editor.UI.contentRect.left),this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarRightOriented,d>this.Editor.UI.contentRect.right),this.nodes.wrapper.style.left=Math.floor(I.x)+"px",this.nodes.wrapper.style.top=Math.floor(I.y)+"px"}close(){this.opened&&(this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.inlineToolbarShowed),Array.from(this.toolsInstances.entries()).forEach(([l,f])=>{const I=this.getToolShortcut(l);I&&Oy.remove(this.Editor.UI.nodes.redactor,I),Va(f.clear)&&f.clear()}),this.opened=!1,this.flipper.deactivate(),this.Editor.ConversionToolbar.close()))}open(l=!0){if(this.opened)return;this.addToolsFiltered(),this.nodes.wrapper.classList.add(this.CSS.inlineToolbarShowed),this.buttonsList=this.nodes.buttons.querySelectorAll(`.${this.CSS.inlineToolButton}`),this.opened=!0,l&&this.Editor.ConversionToolbar.hasTools()?this.setConversionTogglerContent():this.nodes.conversionToggler.hidden=!0;let f=Array.from(this.buttonsList);f.unshift(this.nodes.conversionToggler),f=f.filter(I=>!I.hidden),this.flipper.activate(f)}containsNode(l){return this.nodes.wrapper.contains(l)}destroy(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes(),this.tooltip.destroy()}make(){this.nodes.wrapper=Dn.make("div",[this.CSS.inlineToolbar,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.togglerAndButtonsWrapper=Dn.make("div",this.CSS.togglerAndButtonsWrapper),this.nodes.buttons=Dn.make("div",this.CSS.buttonsWrapper),this.nodes.actions=Dn.make("div",this.CSS.actionsWrapper),this.listeners.on(this.nodes.wrapper,"mousedown",l=>{l.target.closest(`.${this.CSS.actionsWrapper}`)||l.preventDefault()}),Dn.append(this.nodes.wrapper,[this.nodes.togglerAndButtonsWrapper,this.nodes.actions]),Dn.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper),this.addConversionToggler(),Dn.append(this.nodes.togglerAndButtonsWrapper,this.nodes.buttons),this.prepareConversionToolbar(),this.recalculateWidth(),this.enableFlipper()}allowedToShow(){const l=["IMG","INPUT"],f=ti.get(),I=ti.text;if(!f||!f.anchorNode||f.isCollapsed||I.length<1)return!1;const L=Dn.isElement(f.anchorNode)?f.anchorNode:f.anchorNode.parentElement;if(f&&l.includes(L.tagName)||L.closest('[contenteditable="true"]')===null)return!1;const d=this.Editor.BlockManager.getBlock(f.anchorNode);return d?d.tool.inlineTools.size!==0:!1}recalculateWidth(){this.width=this.nodes.wrapper.offsetWidth}addConversionToggler(){this.nodes.conversionToggler=Dn.make("div",this.CSS.conversionToggler),this.nodes.conversionTogglerContent=Dn.make("div",this.CSS.conversionTogglerContent);const l=Dn.make("div",this.CSS.conversionTogglerArrow,{innerHTML:Z6});this.nodes.conversionToggler.appendChild(this.nodes.conversionTogglerContent),this.nodes.conversionToggler.appendChild(l),this.nodes.togglerAndButtonsWrapper.appendChild(this.nodes.conversionToggler),this.listeners.on(this.nodes.conversionToggler,"click",()=>{this.Editor.ConversionToolbar.toggle(f=>{!f&&this.opened?this.flipper.activate():this.opened&&this.flipper.deactivate()})}),Rg()===!1&&this.tooltip.onHover(this.nodes.conversionToggler,xu.ui(md.ui.inlineToolbar.converter,"Convert to"),{placement:"top",hidingDelay:100})}setConversionTogglerContent(){return Ei(this,null,function*(){const{BlockManager:l}=this.Editor,{currentBlock:f}=l,I=f.name,L=f.tool.conversionConfig,d=L&&L.export;this.nodes.conversionToggler.hidden=!d,this.nodes.conversionToggler.classList.toggle(this.CSS.conversionTogglerHidden,!d);const u=(yield f.getActiveToolboxEntry())||{};this.nodes.conversionTogglerContent.innerHTML=u.icon||u.title||tw(I)})}prepareConversionToolbar(){const l=this.Editor.ConversionToolbar.make();Dn.append(this.nodes.wrapper,l)}addToolsFiltered(){const l=ti.get(),f=this.Editor.BlockManager.getBlock(l.anchorNode);this.nodes.buttons.innerHTML="",this.nodes.actions.innerHTML="",this.toolsInstances=new Map,Array.from(f.tool.inlineTools.values()).forEach(I=>{this.addTool(I)}),this.recalculateWidth()}addTool(l){const f=l.create(),I=f.render();if(!I){fo("Render method must return an instance of Node","warn",l.name);return}if(I.dataset.tool=l.name,this.nodes.buttons.appendChild(I),this.toolsInstances.set(l.name,f),Va(f.renderActions)){const s=f.renderActions();this.nodes.actions.appendChild(s)}this.listeners.on(I,"click",s=>{this.toolClicked(f),s.preventDefault()});const L=this.getToolShortcut(l.name);if(L)try{this.enableShortcuts(f,L)}catch(s){}const d=Dn.make("div"),u=xu.t(md.toolNames,l.title||tw(l.name));d.appendChild(Dn.text(u)),L&&d.appendChild(Dn.make("div",this.CSS.inlineToolbarShortcut,{textContent:z6(L)})),Rg()===!1&&this.tooltip.onHover(I,d,{placement:"top",hidingDelay:100}),f.checkState(ti.get())}getToolShortcut(l){const{Tools:f}=this.Editor,I=f.inlineTools.get(l),L=f.internal.inlineTools;return Array.from(L.keys()).includes(l)?this.inlineTools[l][n8.Shortcut]:I.shortcut}enableShortcuts(l,f){Oy.add({name:f,handler:I=>{const{currentBlock:L}=this.Editor.BlockManager;L&&L.tool.enabledInlineTools&&(I.preventDefault(),this.toolClicked(l))},on:this.Editor.UI.nodes.redactor})}toolClicked(l){const f=ti.range;l.surround(f),this.checkToolsState(),l.renderActions!==void 0&&this.flipper.deactivate()}checkToolsState(){this.toolsInstances.forEach(l=>{l.checkState(ti.get())})}get inlineTools(){const l={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(([f,I])=>{l[f]=I.create()}),l}enableFlipper(){this.flipper=new Cp({focusedItemClass:this.CSS.focusedButton,allowedKeys:[Ii.ENTER,Ii.TAB]})}}class dS extends go{keydown(l){switch(this.beforeKeydownProcessing(l),l.keyCode){case Ii.BACKSPACE:this.backspace(l);break;case Ii.ENTER:this.enter(l);break;case Ii.DOWN:case Ii.RIGHT:this.arrowRightAndDown(l);break;case Ii.UP:case Ii.LEFT:this.arrowLeftAndUp(l);break;case Ii.TAB:this.tabPressed(l);break}}beforeKeydownProcessing(l){this.needToolbarClosing(l)&&R6(l.keyCode)&&(this.Editor.Toolbar.close(),this.Editor.ConversionToolbar.close(),l.ctrlKey||l.metaKey||l.altKey||l.shiftKey||(this.Editor.BlockManager.clearFocused(),this.Editor.BlockSelection.clearSelection(l)))}keyup(l){l.shiftKey||this.Editor.UI.checkEmptiness()}tabPressed(l){this.Editor.BlockSelection.clearSelection(l);const{BlockManager:f,InlineToolbar:I,ConversionToolbar:L}=this.Editor,d=f.currentBlock;if(!d)return;const u=d.isEmpty,s=d.tool.isDefault&&u,n=!u&&L.opened,m=!u&&!ti.isCollapsed&&I.opened;s?this.activateToolbox():!n&&!m&&this.activateBlockSettings()}dragOver(l){const f=this.Editor.BlockManager.getBlockByChildNode(l.target);f.dropTarget=!0}dragLeave(l){const f=this.Editor.BlockManager.getBlockByChildNode(l.target);f.dropTarget=!1}handleCommandC(l){const{BlockSelection:f}=this.Editor;f.anyBlockSelected&&f.copySelectedBlocks(l)}handleCommandX(l){const{BlockSelection:f,BlockManager:I,Caret:L}=this.Editor;f.anyBlockSelected&&f.copySelectedBlocks(l).then(()=>{const d=I.removeSelectedBlocks(),u=I.insertDefaultBlockAtIndex(d,!0);L.setToBlock(u,L.positions.START),f.clearSelection(l)})}enter(l){const{BlockManager:f,UI:I}=this.Editor;if(f.currentBlock.tool.isLineBreaksEnabled||I.someToolbarOpened&&I.someFlipperButtonFocused||l.shiftKey)return;let L=this.Editor.BlockManager.currentBlock;this.Editor.Caret.isAtStart&&!this.Editor.BlockManager.currentBlock.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):this.Editor.Caret.isAtEnd?L=this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex+1):L=this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(L),this.Editor.Toolbar.moveAndOpen(L),l.preventDefault()}backspace(l){const{BlockManager:f,BlockSelection:I,Caret:L}=this.Editor,d=f.currentBlock,u=d.tool;if(d.selected||d.isEmpty&&d.currentInput===d.firstInput){l.preventDefault();const n=f.currentBlockIndex;f.previousBlock&&f.previousBlock.inputs.length===0?f.removeBlock(n-1):f.removeBlock(),L.setToBlock(f.currentBlock,n?L.positions.END:L.positions.START),this.Editor.Toolbar.close(),I.clearSelection(l);return}if(u.isLineBreaksEnabled&&!L.isAtStart)return;const s=f.currentBlockIndex===0;L.isAtStart&&ti.isCollapsed&&d.currentInput===d.firstInput&&!s&&(l.preventDefault(),this.mergeBlocks())}mergeBlocks(){const{BlockManager:l,Caret:f,Toolbar:I}=this.Editor,L=l.previousBlock,d=l.currentBlock;if(d.name!==L.name||!L.mergeable){if(L.inputs.length===0||L.isEmpty){l.removeBlock(l.currentBlockIndex-1),f.setToBlock(l.currentBlock),I.close();return}f.navigatePrevious()&&I.close();return}f.createShadow(L.pluginsContent),l.mergeBlocks(L,d).then(()=>{f.restoreCaret(L.pluginsContent),L.pluginsContent.normalize(),I.close()})}arrowRightAndDown(l){const f=Cp.usedKeys.includes(l.keyCode)&&(!l.shiftKey||l.keyCode===Ii.TAB);if(this.Editor.UI.someToolbarOpened&&f)return;this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close();const I=this.Editor.Caret.isAtEnd||this.Editor.BlockSelection.anyBlockSelected;if(l.shiftKey&&l.keyCode===Ii.DOWN&&I){this.Editor.CrossBlockSelection.toggleBlockSelectedState();return}(l.keyCode===Ii.DOWN||l.keyCode===Ii.RIGHT&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious())?l.preventDefault():Pg(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(l)}arrowLeftAndUp(l){if(this.Editor.UI.someToolbarOpened){if(Cp.usedKeys.includes(l.keyCode)&&(!l.shiftKey||l.keyCode===Ii.TAB))return;this.Editor.UI.closeAllToolbars()}this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close();const f=this.Editor.Caret.isAtStart||this.Editor.BlockSelection.anyBlockSelected;if(l.shiftKey&&l.keyCode===Ii.UP&&f){this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1);return}(l.keyCode===Ii.UP||l.keyCode===Ii.LEFT&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext())?l.preventDefault():Pg(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(l)}needToolbarClosing(l){const f=l.keyCode===Ii.ENTER&&this.Editor.Toolbar.toolbox.opened,I=l.keyCode===Ii.ENTER&&this.Editor.BlockSettings.opened,L=l.keyCode===Ii.ENTER&&this.Editor.InlineToolbar.opened,d=l.keyCode===Ii.ENTER&&this.Editor.ConversionToolbar.opened,u=l.keyCode===Ii.TAB;return!(l.shiftKey||u||f||I||L||d)}activateToolbox(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()}activateBlockSettings(){this.Editor.Toolbar.opened||(this.Editor.BlockManager.currentBlock.focused=!0,this.Editor.Toolbar.moveAndOpen()),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}}class w4{constructor(l){this.blocks=[],this.workingArea=l}get length(){return this.blocks.length}get array(){return this.blocks}get nodes(){return F6(this.workingArea.children)}static set(l,f,I){return isNaN(Number(f))?(Reflect.set(l,f,I),!0):(l.insert(+f,I),!0)}static get(l,f){return isNaN(Number(f))?Reflect.get(l,f):l.get(+f)}push(l){this.blocks.push(l),this.insertToDOM(l)}swap(l,f){const I=this.blocks[f];Dn.swap(this.blocks[l].holder,I.holder),this.blocks[f]=this.blocks[l],this.blocks[l]=I}move(l,f){const I=this.blocks.splice(f,1)[0],L=l-1,d=Math.max(0,L),u=this.blocks[d];l>0?this.insertToDOM(I,"afterend",u):this.insertToDOM(I,"beforebegin",u),this.blocks.splice(l,0,I);const s=this.composeBlockEvent("move",{fromIndex:f,toIndex:l});I.call(H0.MOVED,s)}insert(l,f,I=!1){if(!this.length){this.push(f);return}l>this.length&&(l=this.length),I&&(this.blocks[l].holder.remove(),this.blocks[l].call(H0.REMOVED));const L=I?1:0;if(this.blocks.splice(l,L,f),l>0){const d=this.blocks[l-1];this.insertToDOM(f,"afterend",d)}else{const d=this.blocks[l+1];d?this.insertToDOM(f,"beforebegin",d):this.insertToDOM(f)}}remove(l){isNaN(l)&&(l=this.length-1),this.blocks[l].holder.remove(),this.blocks[l].call(H0.REMOVED),this.blocks.splice(l,1)}removeAll(){this.workingArea.innerHTML="",this.blocks.forEach(l=>l.call(H0.REMOVED)),this.blocks.length=0}insertAfter(l,f){const I=this.blocks.indexOf(l);this.insert(I+1,f)}get(l){return this.blocks[l]}indexOf(l){return this.blocks.indexOf(l)}insertToDOM(l,f,I){f?I.holder.insertAdjacentElement(f,l.holder):this.workingArea.appendChild(l.holder),l.call(H0.RENDERED)}composeBlockEvent(l,f){return new CustomEvent(l,{detail:f})}}const i8="block-removed",o8="block-added",fS="block-moved",pS="block-changed";class gS extends go{constructor(){super(...arguments),this._currentBlockIndex=-1,this._blocks=null}get currentBlockIndex(){return this._currentBlockIndex}set currentBlockIndex(l){this._currentBlockIndex=l}get firstBlock(){return this._blocks[0]}get lastBlock(){return this._blocks[this._blocks.length-1]}get currentBlock(){return this._blocks[this.currentBlockIndex]}set currentBlock(l){this.currentBlockIndex=this.getBlockIndex(l)}get nextBlock(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}get nextContentfulBlock(){return this.blocks.slice(this.currentBlockIndex+1).find(l=>!!l.inputs.length)}get previousContentfulBlock(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find(l=>!!l.inputs.length)}get previousBlock(){return this.currentBlockIndex===0?null:this._blocks[this.currentBlockIndex-1]}get blocks(){return this._blocks.array}get isEditorEmpty(){return this.blocks.every(l=>l.isEmpty)}prepare(){const l=new w4(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(l,{set:w4.set,get:w4.get}),this.listeners.on(document,"copy",f=>this.Editor.BlockEvents.handleCommandC(f))}toggleReadOnly(l){l?this.disableModuleBindings():this.enableModuleBindings()}composeBlock({tool:l,data:f={},id:I=void 0,tunes:L={}}){const d=this.Editor.ReadOnly.isEnabled,u=this.Editor.Tools.blockTools.get(l),s=new yc({id:I,data:f,tool:u,api:this.Editor.API,readOnly:d,tunesData:L},this.eventsDispatcher);return d||this.bindBlockEvents(s),s}insert({id:l=void 0,tool:f=this.config.defaultBlock,data:I={},index:L,needToFocus:d=!0,replace:u=!1,tunes:s={}}={}){let n=L;n===void 0&&(n=this.currentBlockIndex+(u?0:1));const m=this.composeBlock({id:l,tool:f,data:I,tunes:s});return u&&this.blockDidMutated(i8,this.getBlockByIndex(n),{index:n}),this._blocks.insert(n,m,u),this.blockDidMutated(o8,m,{index:n}),d?this.currentBlockIndex=n:n<=this.currentBlockIndex&&this.currentBlockIndex++,m}replace({tool:l=this.config.defaultBlock,data:f={}}){return this.insert({tool:l,data:f,index:this.currentBlockIndex,replace:!0})}paste(l,f,I=!1){const L=this.insert({tool:l,replace:I});try{L.call(H0.ON_PASTE,f)}catch(d){fo(`${l}: onPaste callback call is failed`,"error",d)}return L}insertDefaultBlockAtIndex(l,f=!1){const I=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[l]=I,this.blockDidMutated(o8,I,{index:l}),f?this.currentBlockIndex=l:l<=this.currentBlockIndex&&this.currentBlockIndex++,I}insertAtEnd(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}mergeBlocks(l,f){return Ei(this,null,function*(){const I=this._blocks.indexOf(f);if(f.isEmpty)return;const L=yield f.data;gd(L)||(yield l.mergeWith(L)),this.removeBlock(I),this.currentBlockIndex=this._blocks.indexOf(l)})}removeBlock(l=this.currentBlockIndex){if(!this.validateIndex(l))throw new Error("Can't find a Block to remove");const f=this._blocks[l];f.destroy(),this._blocks.remove(l),this.blockDidMutated(i8,f,{index:l}),this.currentBlockIndex>=l&&this.currentBlockIndex--,this.blocks.length?l===0&&(this.currentBlockIndex=0):(this.currentBlockIndex=-1,this.insert())}removeSelectedBlocks(){let l;for(let f=this.blocks.length-1;f>=0;f--)this.blocks[f].selected&&(this.removeBlock(f),l=f);return l}removeAllBlocks(){for(let l=this.blocks.length-1;l>=0;l--)this._blocks.remove(l);this.currentBlockIndex=-1,this.insert(),this.currentBlock.firstInput.focus()}split(){const l=this.Editor.Caret.extractFragmentFromCaretPosition(),f=Dn.make("div");f.appendChild(l);const I={text:Dn.isEmpty(f)?"":f.innerHTML};return this.insert({data:I})}getBlockByIndex(l){return l===-1&&(l=this._blocks.length-1),this._blocks[l]}getBlockIndex(l){return this._blocks.indexOf(l)}getBlockById(l){return this._blocks.array.find(f=>f.id===l)}getBlock(l){Dn.isElement(l)||(l=l.parentNode);const f=this._blocks.nodes,I=l.closest(`.${yc.CSS.wrapper}`),L=f.indexOf(I);if(L>=0)return this._blocks[L]}highlightCurrentNode(){this.clearFocused(),this.currentBlock.focused=!0}clearFocused(){this.blocks.forEach(l=>{l.focused=!1})}setCurrentBlockByChildNode(l){Dn.isElement(l)||(l=l.parentNode);const f=l.closest(`.${yc.CSS.wrapper}`);if(!f)return;const I=f.closest(`.${this.Editor.UI.CSS.editorWrapper}`);if(I!=null&&I.isEqualNode(this.Editor.UI.nodes.wrapper))return this.currentBlockIndex=this._blocks.nodes.indexOf(f),this.currentBlock.updateCurrentInput(),this.currentBlock}getBlockByChildNode(l){Dn.isElement(l)||(l=l.parentNode);const f=l.closest(`.${yc.CSS.wrapper}`);return this.blocks.find(I=>I.holder===f)}swap(l,f){this._blocks.swap(l,f),this.currentBlockIndex=f}move(l,f=this.currentBlockIndex){if(isNaN(l)||isNaN(f)){fo("Warning during 'move' call: incorrect indices provided.","warn");return}if(!this.validateIndex(l)||!this.validateIndex(f)){fo("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn");return}this._blocks.move(l,f),this.currentBlockIndex=l,this.blockDidMutated(fS,this.currentBlock,{fromIndex:f,toIndex:l})}dropPointer(){this.currentBlockIndex=-1,this.clearFocused()}clear(l=!1){this._blocks.removeAll(),this.dropPointer(),l&&this.insert(),this.Editor.UI.checkEmptiness()}destroy(){return Ei(this,null,function*(){yield Promise.all(this.blocks.map(l=>l.destroy()))})}bindBlockEvents(l){const{BlockEvents:f}=this.Editor;this.readOnlyMutableListeners.on(l.holder,"keydown",I=>{f.keydown(I)}),this.readOnlyMutableListeners.on(l.holder,"keyup",I=>{f.keyup(I)}),this.readOnlyMutableListeners.on(l.holder,"dragover",I=>{f.dragOver(I)}),this.readOnlyMutableListeners.on(l.holder,"dragleave",I=>{f.dragLeave(I)}),l.on("didMutated",I=>this.blockDidMutated(pS,I,{index:this.getBlockIndex(I)}))}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}enableModuleBindings(){this.readOnlyMutableListeners.on(document,"cut",l=>this.Editor.BlockEvents.handleCommandX(l)),this.blocks.forEach(l=>{this.bindBlockEvents(l)})}validateIndex(l){return!(l<0||l>=this._blocks.length)}blockDidMutated(l,f,I){const L=new CustomEvent(l,{detail:ks({target:new Sb(f)},I)});return this.eventsDispatcher.emit(Y6,{event:L}),f}}class mS extends go{constructor(){super(...arguments),this.anyBlockSelectedCache=null,this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1}get sanitizerConfig(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}get allBlocksSelected(){const{BlockManager:l}=this.Editor;return l.blocks.every(f=>f.selected===!0)}set allBlocksSelected(l){const{BlockManager:f}=this.Editor;f.blocks.forEach(I=>{I.selected=l}),this.clearCache()}get anyBlockSelected(){const{BlockManager:l}=this.Editor;return this.anyBlockSelectedCache===null&&(this.anyBlockSelectedCache=l.blocks.some(f=>f.selected===!0)),this.anyBlockSelectedCache}get selectedBlocks(){return this.Editor.BlockManager.blocks.filter(l=>l.selected)}prepare(){this.selection=new ti,Oy.add({name:"CMD+A",handler:l=>{const{BlockManager:f,ReadOnly:I}=this.Editor;if(I.isEnabled){l.preventDefault(),this.selectAllBlocks();return}f.currentBlock&&this.handleCommandA(l)},on:this.Editor.UI.nodes.redactor})}toggleReadOnly(){ti.get().removeAllRanges(),this.allBlocksSelected=!1}unSelectBlockByIndex(l){const{BlockManager:f}=this.Editor;let I;isNaN(l)?I=f.currentBlock:I=f.getBlockByIndex(l),I.selected=!1,this.clearCache()}clearSelection(l,f=!1){const{BlockManager:I,Caret:L,RectangleSelection:d}=this.Editor;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;const u=l&&l instanceof KeyboardEvent,s=u&&R6(l.keyCode);if(this.anyBlockSelected&&u&&s&&!ti.isSelectionExists){const n=I.removeSelectedBlocks();I.insertDefaultBlockAtIndex(n,!0),L.setToBlock(I.currentBlock),Pg(()=>{const m=l.key;L.insertContentAtCaretPosition(m.length>1?"":m)},20)()}if(this.Editor.CrossBlockSelection.clear(l),!this.anyBlockSelected||d.isRectActivated()){this.Editor.RectangleSelection.clearSelection();return}f&&this.selection.restore(),this.allBlocksSelected=!1}copySelectedBlocks(l){l.preventDefault();const f=Dn.make("div");this.selectedBlocks.forEach(d=>{const u=kp(d.holder.innerHTML,this.sanitizerConfig),s=Dn.make("p");s.innerHTML=u,f.appendChild(s)});const I=Array.from(f.childNodes).map(d=>d.textContent).join(`

`),L=f.innerHTML;return l.clipboardData.setData("text/plain",I),l.clipboardData.setData("text/html",L),Promise.all(this.selectedBlocks.map(d=>d.save())).then(d=>{try{l.clipboardData.setData(this.Editor.Paste.MIME_TYPE,JSON.stringify(d))}catch(u){}})}selectBlockByIndex(l){const{BlockManager:f}=this.Editor;f.clearFocused();let I;isNaN(l)?I=f.currentBlock:I=f.getBlockByIndex(l),this.selection.save(),ti.get().removeAllRanges(),I.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}clearCache(){this.anyBlockSelectedCache=null}destroy(){Oy.remove(this.Editor.UI.nodes.redactor,"CMD+A")}handleCommandA(l){if(this.Editor.RectangleSelection.clearSelection(),Dn.isNativeInput(l.target)&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}const f=this.Editor.BlockManager.getBlock(l.target).inputs;if(f.length>1&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}if(f.length===1&&!this.needToSelectAll){this.needToSelectAll=!0;return}this.needToSelectAll?(l.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1,this.Editor.ConversionToolbar.close()):this.readyToBlockSelection&&(l.preventDefault(),this.selectBlockByIndex(),this.needToSelectAll=!0)}selectAllBlocks(){this.selection.save(),ti.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}}class ow extends go{get positions(){return{START:"start",END:"end",DEFAULT:"default"}}static get CSS(){return{shadowCaret:"cdx-shadow-caret"}}get isAtStart(){const l=ti.get(),f=Dn.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput);let I=l.focusNode;if(Dn.isNativeInput(f))return f.selectionEnd===0;if(!l.anchorNode)return!1;let L=I.textContent.search(/\S/);L===-1&&(L=0);let d=l.focusOffset;return I.nodeType!==Node.TEXT_NODE&&I.childNodes.length&&(I.childNodes[d]?(I=I.childNodes[d],d=0):(I=I.childNodes[d-1],d=I.textContent.length)),(Dn.isLineBreakTag(f)||Dn.isEmpty(f))&&this.getHigherLevelSiblings(I,"left").every(u=>{const s=Dn.isLineBreakTag(u),n=u.children.length===1&&Dn.isLineBreakTag(u.children[0]),m=s||n;return Dn.isEmpty(u)&&!m})&&d===L?!0:f===null||I===f&&d<=L}get isAtEnd(){const l=ti.get();let f=l.focusNode;const I=Dn.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput,!0);if(Dn.isNativeInput(I))return I.selectionEnd===I.value.length;if(!l.focusNode)return!1;let L=l.focusOffset;if(f.nodeType!==Node.TEXT_NODE&&f.childNodes.length&&(f.childNodes[L-1]?(f=f.childNodes[L-1],L=f.textContent.length):(f=f.childNodes[0],L=0)),Dn.isLineBreakTag(I)||Dn.isEmpty(I)){const u=this.getHigherLevelSiblings(f,"right");if(u.every((s,n)=>n===u.length-1&&Dn.isLineBreakTag(s)||Dn.isEmpty(s)&&!Dn.isLineBreakTag(s))&&L===f.textContent.length)return!0}const d=I.textContent.replace(/\s+$/,"");return f===I&&L>=d.length}setToBlock(l,f=this.positions.DEFAULT,I=0){const{BlockManager:L}=this.Editor;let d;switch(f){case this.positions.START:d=l.firstInput;break;case this.positions.END:d=l.lastInput;break;default:d=l.currentInput}if(!d)return;const u=Dn.getDeepestNode(d,f===this.positions.END),s=Dn.getContentLength(u);switch(!0){case f===this.positions.START:I=0;break;case f===this.positions.END:case I>s:I=s;break}Pg(()=>{this.set(u,I)},20)(),L.setCurrentBlockByChildNode(l.holder),L.currentBlock.currentInput=d}setToInput(l,f=this.positions.DEFAULT,I=0){const{currentBlock:L}=this.Editor.BlockManager,d=Dn.getDeepestNode(l);switch(f){case this.positions.START:this.set(d,0);break;case this.positions.END:this.set(d,Dn.getContentLength(d));break;default:I&&this.set(d,I)}L.currentInput=l}set(l,f=0){const{top:I,bottom:L}=ti.setCursor(l,f),{innerHeight:d}=window;I<0&&window.scrollBy(0,I),L>d&&window.scrollBy(0,L-d)}setToTheLastBlock(){const l=this.Editor.BlockManager.lastBlock;if(l)if(l.tool.isDefault&&l.isEmpty)this.setToBlock(l);else{const f=this.Editor.BlockManager.insertAtEnd();this.setToBlock(f)}}extractFragmentFromCaretPosition(){const l=ti.get();if(l.rangeCount){const f=l.getRangeAt(0),I=this.Editor.BlockManager.currentBlock.currentInput;if(f.deleteContents(),I)if(Dn.isNativeInput(I)){const L=I,d=document.createDocumentFragment(),u=L.value.substring(0,L.selectionStart),s=L.value.substring(L.selectionStart);return d.textContent=s,L.value=u,d}else{const L=f.cloneRange();return L.selectNodeContents(I),L.setStart(f.endContainer,f.endOffset),L.extractContents()}}}navigateNext(){const{BlockManager:l}=this.Editor,{currentBlock:f,nextContentfulBlock:I}=l,{nextInput:L}=f,d=this.isAtEnd;let u=I;if(!u&&!L){if(f.tool.isDefault||!d)return!1;u=l.insertAtEnd()}return d?(L?this.setToInput(L,this.positions.START):this.setToBlock(u,this.positions.START),!0):!1}navigatePrevious(){const{currentBlock:l,previousContentfulBlock:f}=this.Editor.BlockManager;if(!l)return!1;const{previousInput:I}=l;return!f&&!I?!1:this.isAtStart?(I?this.setToInput(I,this.positions.END):this.setToBlock(f,this.positions.END),!0):!1}createShadow(l){const f=document.createElement("span");f.classList.add(ow.CSS.shadowCaret),l.insertAdjacentElement("beforeend",f)}restoreCaret(l){const f=l.querySelector(`.${ow.CSS.shadowCaret}`);f&&(new ti().expandToTag(f),setTimeout(()=>{const I=document.createRange();I.selectNode(f),I.extractContents()},50))}insertContentAtCaretPosition(l){const f=document.createDocumentFragment(),I=document.createElement("div"),L=ti.get(),d=ti.range;I.innerHTML=l,Array.from(I.childNodes).forEach(n=>f.appendChild(n)),f.childNodes.length===0&&f.appendChild(new Text);const u=f.lastChild;d.deleteContents(),d.insertNode(f);const s=document.createRange();s.setStart(u,u.textContent.length),L.removeAllRanges(),L.addRange(s)}getHigherLevelSiblings(l,f){let I=l;const L=[];for(;I.parentNode&&I.parentNode.contentEditable!=="true";)I=I.parentNode;const d=f==="left"?"previousSibling":"nextSibling";for(;I[d];)I=I[d],L.push(I);return L}}class yS extends go{constructor(){super(...arguments),this.onMouseUp=()=>{this.listeners.off(document,"mouseover",this.onMouseOver),this.listeners.off(document,"mouseup",this.onMouseUp)},this.onMouseOver=l=>{const{BlockManager:f,BlockSelection:I}=this.Editor,L=f.getBlockByChildNode(l.relatedTarget)||this.lastSelectedBlock,d=f.getBlockByChildNode(l.target);if(!(!L||!d)&&d!==L){if(L===this.firstSelectedBlock){ti.get().removeAllRanges(),L.selected=!0,d.selected=!0,I.clearCache();return}if(d===this.firstSelectedBlock){L.selected=!1,d.selected=!1,I.clearCache();return}this.Editor.InlineToolbar.close(),this.toggleBlocksSelectedState(L,d),this.lastSelectedBlock=d}}}prepare(){return Ei(this,null,function*(){this.listeners.on(document,"mousedown",l=>{this.enableCrossBlockSelection(l)})})}watchSelection(l){if(l.button!==n9.LEFT)return;const{BlockManager:f}=this.Editor;this.firstSelectedBlock=f.getBlock(l.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp)}get isCrossBlockSelectionStarted(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock}toggleBlockSelectedState(l=!0){const{BlockManager:f,BlockSelection:I}=this.Editor;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=f.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,I.clearCache(),ti.get().removeAllRanges());const L=f.blocks.indexOf(this.lastSelectedBlock)+(l?1:-1),d=f.blocks[L];d&&(this.lastSelectedBlock.selected!==d.selected?(d.selected=!0,I.clearCache()):(this.lastSelectedBlock.selected=!1,I.clearCache()),this.lastSelectedBlock=d,this.Editor.InlineToolbar.close(),d.holder.scrollIntoView({block:"nearest"}))}clear(l){const{BlockManager:f,BlockSelection:I,Caret:L}=this.Editor,d=f.blocks.indexOf(this.firstSelectedBlock),u=f.blocks.indexOf(this.lastSelectedBlock);if(I.anyBlockSelected&&d>-1&&u>-1)if(l&&l instanceof KeyboardEvent)switch(l.keyCode){case Ii.DOWN:case Ii.RIGHT:L.setToBlock(f.blocks[Math.max(d,u)],L.positions.END);break;case Ii.UP:case Ii.LEFT:L.setToBlock(f.blocks[Math.min(d,u)],L.positions.START);break;default:L.setToBlock(f.blocks[Math.max(d,u)],L.positions.END)}else L.setToBlock(f.blocks[Math.max(d,u)],L.positions.END);this.firstSelectedBlock=this.lastSelectedBlock=null}enableCrossBlockSelection(l){const{UI:f}=this.Editor;ti.isCollapsed||this.Editor.BlockSelection.clearSelection(l),f.nodes.redactor.contains(l.target)?this.watchSelection(l):this.Editor.BlockSelection.clearSelection(l)}toggleBlocksSelectedState(l,f){const{BlockManager:I,BlockSelection:L}=this.Editor,d=I.blocks.indexOf(l),u=I.blocks.indexOf(f),s=l.selected!==f.selected;for(let n=Math.min(d,u);n<=Math.max(d,u);n++){const m=I.blocks[n];m!==this.firstSelectedBlock&&m!==(s?l:f)&&(I.blocks[n].selected=!I.blocks[n].selected,L.clearCache())}}}class vS extends go{constructor(){super(...arguments),this.isStartedAtEditor=!1}toggleReadOnly(l){l?this.disableModuleBindings():this.enableModuleBindings()}enableModuleBindings(){const{UI:l}=this.Editor;this.readOnlyMutableListeners.on(l.nodes.holder,"drop",f=>Ei(this,null,function*(){yield this.processDrop(f)}),!0),this.readOnlyMutableListeners.on(l.nodes.holder,"dragstart",()=>{this.processDragStart()}),this.readOnlyMutableListeners.on(l.nodes.holder,"dragover",f=>{this.processDragOver(f)},!0)}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}processDrop(l){return Ei(this,null,function*(){const{BlockManager:f,Caret:I,Paste:L}=this.Editor;l.preventDefault(),f.blocks.forEach(u=>{u.dropTarget=!1}),ti.isAtEditor&&!ti.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1;const d=f.setCurrentBlockByChildNode(l.target);if(d)this.Editor.Caret.setToBlock(d,I.positions.END);else{const u=f.setCurrentBlockByChildNode(f.lastBlock.holder);this.Editor.Caret.setToBlock(u,I.positions.END)}yield L.processDataTransfer(l.dataTransfer,!0)})}processDragStart(){ti.isAtEditor&&!ti.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}processDragOver(l){l.preventDefault()}}class bS extends go{constructor({config:l,eventsDispatcher:f}){super({config:l,eventsDispatcher:f}),this.disabled=!1,this.batchingTimeout=null,this.batchingOnChangeQueue=new Map,this.batchTime=400,this.mutationObserver=new MutationObserver(I=>{this.redactorChanged(I)}),this.eventsDispatcher.on(Y6,I=>{this.particularBlockChanged(I.event)}),this.eventsDispatcher.on(V6,()=>{this.disable()}),this.eventsDispatcher.on(W6,()=>{this.enable()})}enable(){this.mutationObserver.observe(this.Editor.UI.nodes.redactor,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.disabled=!1}disable(){this.mutationObserver.disconnect(),this.disabled=!0}particularBlockChanged(l){this.disabled||!Va(this.config.onChange)||(this.batchingOnChangeQueue.set(`block:${l.detail.target.id}:event:${l.type}`,l),this.batchingTimeout&&clearTimeout(this.batchingTimeout),this.batchingTimeout=setTimeout(()=>{let f;this.batchingOnChangeQueue.size===1?f=this.batchingOnChangeQueue.values().next().value:f=Array.from(this.batchingOnChangeQueue.values()),this.config.onChange&&this.config.onChange(this.Editor.API.methods,f),this.batchingOnChangeQueue.clear()},this.batchTime))}redactorChanged(l){this.eventsDispatcher.emit(l4,{mutations:l})}}const a8=class extends go{constructor(){super(...arguments),this.MIME_TYPE="application/x-editor-js",this.toolsTags={},this.tagsByTool={},this.toolsPatterns=[],this.toolsFiles={},this.exceptionList=[],this.processTool=U=>{try{const l=U.create({},{},!1);if(U.pasteConfig===!1){this.exceptionList.push(U.name);return}if(!Va(l.onPaste))return;this.getTagsConfig(U),this.getFilesConfig(U),this.getPatternsConfig(U)}catch(l){fo(`Paste handling for «${U.name}» Tool hasn't been set up because of the error`,"warn",l)}},this.handlePasteEvent=U=>Ei(this,null,function*(){const{BlockManager:l,Toolbar:f}=this.Editor;!l.currentBlock||this.isNativeBehaviour(U.target)&&!U.clipboardData.types.includes("Files")||l.currentBlock&&this.exceptionList.includes(l.currentBlock.name)||(U.preventDefault(),this.processDataTransfer(U.clipboardData),l.clearFocused(),f.close())})}prepare(){return Ei(this,null,function*(){this.processTools()})}toggleReadOnly(U){U?this.unsetCallback():this.setCallback()}processDataTransfer(U,l=!1){return Ei(this,null,function*(){const{Tools:f}=this.Editor,I=U.types;if((I.includes?I.includes("Files"):I.contains("Files"))&&!gd(this.toolsFiles)){yield this.processFiles(U.files);return}const L=U.getData(this.MIME_TYPE),d=U.getData("text/plain");let u=U.getData("text/html");if(L)try{this.insertEditorJSData(JSON.parse(L));return}catch(g){}l&&d.trim()&&u.trim()&&(u="<p>"+(u.trim()?u:d)+"</p>");const s=Object.keys(this.toolsTags).reduce((g,y)=>{var k;return g[y.toLowerCase()]=(k=this.toolsTags[y].sanitizationConfig)!=null?k:{},g},{}),n=Object.assign({},s,f.getAllInlineToolsSanitizeConfig(),{br:{}}),m=kp(u,n);!m.trim()||m.trim()===d||!Dn.isHTMLString(m)?yield this.processText(d):yield this.processText(m,!0)})}processText(U,l=!1){return Ei(this,null,function*(){const{Caret:f,BlockManager:I}=this.Editor,L=l?this.processHTML(U):this.processPlain(U);if(!L.length)return;if(L.length===1){L[0].isBlock?this.processSingleBlock(L.pop()):this.processInlinePaste(L.pop());return}const d=I.currentBlock&&I.currentBlock.tool.isDefault&&I.currentBlock.isEmpty;L.map((u,s)=>Ei(this,null,function*(){return this.insertBlock(u,s===0&&d)})),I.currentBlock&&f.setToBlock(I.currentBlock,f.positions.END)})}setCallback(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}unsetCallback(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}processTools(){const U=this.Editor.Tools.blockTools;Array.from(U.values()).forEach(this.processTool)}collectTagNames(U){return U0(U)?[U]:cl(U)?Object.keys(U):[]}getTagsConfig(U){if(U.pasteConfig===!1)return;const l=U.pasteConfig.tags||[],f=[];l.forEach(I=>{const L=this.collectTagNames(I);f.push(...L),L.forEach(d=>{if(Object.prototype.hasOwnProperty.call(this.toolsTags,d)){fo(`Paste handler for «${U.name}» Tool on «${d}» tag is skipped because it is already used by «${this.toolsTags[d].tool.name}» Tool.`,"warn");return}const u=cl(I)?I[d]:null;this.toolsTags[d.toUpperCase()]={tool:U,sanitizationConfig:u}})}),this.tagsByTool[U.name]=f.map(I=>I.toUpperCase())}getFilesConfig(U){if(U.pasteConfig===!1)return;const{files:l={}}=U.pasteConfig;let{extensions:f,mimeTypes:I}=l;!f&&!I||(f&&!Array.isArray(f)&&(fo(`«extensions» property of the onDrop config for «${U.name}» Tool should be an array`),f=[]),I&&!Array.isArray(I)&&(fo(`«mimeTypes» property of the onDrop config for «${U.name}» Tool should be an array`),I=[]),I&&(I=I.filter(L=>a9(L)?!0:(fo(`MIME type value «${L}» for the «${U.name}» Tool is not a valid MIME type`,"warn"),!1))),this.toolsFiles[U.name]={extensions:f||[],mimeTypes:I||[]})}getPatternsConfig(U){U.pasteConfig===!1||!U.pasteConfig.patterns||gd(U.pasteConfig.patterns)||Object.entries(U.pasteConfig.patterns).forEach(([l,f])=>{f instanceof RegExp||fo(`Pattern ${f} for «${U.name}» Tool is skipped because it should be a Regexp instance.`,"warn"),this.toolsPatterns.push({key:l,pattern:f,tool:U})})}isNativeBehaviour(U){return Dn.isNativeInput(U)}processFiles(U){return Ei(this,null,function*(){const{BlockManager:l}=this.Editor;let f;f=yield Promise.all(Array.from(U).map(L=>this.processFile(L))),f=f.filter(L=>!!L);const I=l.currentBlock.tool.isDefault&&l.currentBlock.isEmpty;f.forEach((L,d)=>{l.paste(L.type,L.event,d===0&&I)})})}processFile(U){return Ei(this,null,function*(){const l=o9(U),f=Object.entries(this.toolsFiles).find(([L,{mimeTypes:d,extensions:u}])=>{const[s,n]=U.type.split("/"),m=u.find(y=>y.toLowerCase()===l.toLowerCase()),g=d.find(y=>{const[k,E]=y.split("/");return k===s&&(E===n||E==="*")});return!!m||!!g});if(!f)return;const[I]=f;return{event:this.composePasteEvent("file",{file:U}),type:I}})}processHTML(U){const{Tools:l}=this.Editor,f=Dn.make("DIV");return f.innerHTML=U,this.getNodes(f).map(I=>{let L,d=l.defaultTool,u=!1;switch(I.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:L=Dn.make("div"),L.appendChild(I);break;case Node.ELEMENT_NODE:L=I,u=!0,this.toolsTags[L.tagName]&&(d=this.toolsTags[L.tagName].tool);break}const{tags:s}=d.pasteConfig||{tags:[]},n=s.reduce((y,k)=>(this.collectTagNames(k).forEach(E=>{const C=cl(k)?k[E]:null;y[E.toLowerCase()]=C||{}}),y),{}),m=Object.assign({},n,d.baseSanitizeConfig);if(L.tagName.toLowerCase()==="table"){const y=kp(L.outerHTML,m);L=Dn.make("div",void 0,{innerHTML:y}).firstChild}else L.innerHTML=kp(L.innerHTML,m);const g=this.composePasteEvent("tag",{data:L});return{content:L,isBlock:u,tool:d.name,event:g}}).filter(I=>{const L=Dn.isEmpty(I.content),d=Dn.isSingleTag(I.content);return!L||d})}processPlain(U){const{defaultBlock:l}=this.config;if(!U)return[];const f=l;return U.split(/\r?\n/).filter(I=>I.trim()).map(I=>{const L=Dn.make("div");L.textContent=I;const d=this.composePasteEvent("tag",{data:L});return{content:L,tool:f,isBlock:!1,event:d}})}processSingleBlock(U){return Ei(this,null,function*(){const{Caret:l,BlockManager:f}=this.Editor,{currentBlock:I}=f;if(!I||U.tool!==I.name||!Dn.containsOnlyInlineElements(U.content.innerHTML)){this.insertBlock(U,(I==null?void 0:I.tool.isDefault)&&I.isEmpty);return}l.insertContentAtCaretPosition(U.content.innerHTML)})}processInlinePaste(U){return Ei(this,null,function*(){const{BlockManager:l,Caret:f}=this.Editor,{content:I}=U;if(l.currentBlock&&l.currentBlock.tool.isDefault&&I.textContent.length<a8.PATTERN_PROCESSING_MAX_LENGTH){const L=yield this.processPattern(I.textContent);if(L){const d=l.currentBlock&&l.currentBlock.tool.isDefault&&l.currentBlock.isEmpty,u=l.paste(L.tool,L.event,d);f.setToBlock(u,f.positions.END);return}}if(l.currentBlock&&l.currentBlock.currentInput){const L=l.currentBlock.tool.baseSanitizeConfig;document.execCommand("insertHTML",!1,kp(I.innerHTML,L))}else this.insertBlock(U)})}processPattern(U){return Ei(this,null,function*(){const l=this.toolsPatterns.find(f=>{const I=f.pattern.exec(U);return I?U===I.shift():!1});return l?{event:this.composePasteEvent("pattern",{key:l.key,data:U}),tool:l.tool.name}:void 0})}insertBlock(U,l=!1){const{BlockManager:f,Caret:I}=this.Editor,{currentBlock:L}=f;let d;if(l&&L&&L.isEmpty){d=f.paste(U.tool,U.event,!0),I.setToBlock(d,I.positions.END);return}d=f.paste(U.tool,U.event),I.setToBlock(d,I.positions.END)}insertEditorJSData(U){const{BlockManager:l,Caret:f,Tools:I}=this.Editor;G6(U,L=>I.blockTools.get(L).sanitizeConfig).forEach(({tool:L,data:d},u)=>{let s=!1;u===0&&(s=l.currentBlock&&l.currentBlock.tool.isDefault&&l.currentBlock.isEmpty);const n=l.insert({tool:L,data:d,replace:s});f.setToBlock(n,f.positions.END)})}processElementNode(U,l,f){const I=Object.keys(this.toolsTags),L=U,{tool:d}=this.toolsTags[L.tagName]||{},u=this.tagsByTool[d==null?void 0:d.name]||[],s=I.includes(L.tagName),n=Dn.blockElements.includes(L.tagName.toLowerCase()),m=Array.from(L.children).some(({tagName:y})=>I.includes(y)&&!u.includes(y)),g=Array.from(L.children).some(({tagName:y})=>Dn.blockElements.includes(y.toLowerCase()));if(!n&&!s&&!m)return f.appendChild(L),[...l,f];if(s&&!m||n&&!g&&!m)return[...l,f,L]}getNodes(U){const l=Array.from(U.childNodes);let f;const I=(L,d)=>{if(Dn.isEmpty(d)&&!Dn.isSingleTag(d))return L;const u=L[L.length-1];let s=new DocumentFragment;switch(u&&Dn.isFragment(u)&&(s=L.pop()),d.nodeType){case Node.ELEMENT_NODE:if(f=this.processElementNode(d,L,s),f)return f;break;case Node.TEXT_NODE:return s.appendChild(d),[...L,s];default:return[...L,s]}return[...L,...Array.from(d.childNodes).reduce(I,[])]};return l.reduce(I,[])}composePasteEvent(U,l){return new CustomEvent(U,{detail:l})}};let s8=a8;s8.PATTERN_PROCESSING_MAX_LENGTH=450;class xS extends go{constructor(){super(...arguments),this.toolsDontSupportReadOnly=[],this.readOnlyEnabled=!1}get isEnabled(){return this.readOnlyEnabled}prepare(){return Ei(this,null,function*(){const{Tools:l}=this.Editor,{blockTools:f}=l,I=[];Array.from(f.entries()).forEach(([L,d])=>{d.isReadOnlySupported||I.push(L)}),this.toolsDontSupportReadOnly=I,this.config.readOnly&&I.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly)})}toggle(){return Ei(this,arguments,function*(l=!this.readOnlyEnabled){l&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError();const f=this.readOnlyEnabled;this.readOnlyEnabled=l;for(const L in this.Editor)this.Editor[L].toggleReadOnly&&this.Editor[L].toggleReadOnly(l);if(f===l)return this.readOnlyEnabled;const I=yield this.Editor.Saver.save();return yield this.Editor.BlockManager.clear(),yield this.Editor.Renderer.render(I.blocks),this.readOnlyEnabled})}throwCriticalError(){throw new q6(`To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(", ")} don't support read-only mode.`)}}class Mb extends go{constructor(){super(...arguments),this.isRectSelectionActivated=!1,this.SCROLL_SPEED=3,this.HEIGHT_OF_SCROLL_ZONE=40,this.BOTTOM_SCROLL_ZONE=1,this.TOP_SCROLL_ZONE=2,this.MAIN_MOUSE_BUTTON=0,this.mousedown=!1,this.isScrolling=!1,this.inScrollZone=null,this.startX=0,this.startY=0,this.mouseX=0,this.mouseY=0,this.stackOfSelected=[],this.listenerIds=[]}static get CSS(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}prepare(){this.enableModuleBindings()}startSelection(l,f){const I=document.elementFromPoint(l-window.pageXOffset,f-window.pageYOffset);I.closest(`.${this.Editor.Toolbar.CSS.toolbar}`)||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);const L=[`.${yc.CSS.content}`,`.${this.Editor.Toolbar.CSS.toolbar}`,`.${this.Editor.InlineToolbar.CSS.inlineToolbar}`],d=I.closest("."+this.Editor.UI.CSS.editorWrapper),u=L.some(s=>!!I.closest(s));!d||u||(this.mousedown=!0,this.startX=l,this.startY=f)}endSelection(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}isRectActivated(){return this.isRectSelectionActivated}clearSelection(){this.isRectSelectionActivated=!1}enableModuleBindings(){const{container:l}=this.genHTML();this.listeners.on(l,"mousedown",f=>{this.processMouseDown(f)},!1),this.listeners.on(document.body,"mousemove",o4(f=>{this.processMouseMove(f)},10),{passive:!0}),this.listeners.on(document.body,"mouseleave",()=>{this.processMouseLeave()}),this.listeners.on(window,"scroll",o4(f=>{this.processScroll(f)},10),{passive:!0}),this.listeners.on(document.body,"mouseup",()=>{this.processMouseUp()},!1)}processMouseDown(l){l.button===this.MAIN_MOUSE_BUTTON&&(l.target.closest(Dn.allInputsSelector)!==null||this.startSelection(l.pageX,l.pageY))}processMouseMove(l){this.changingRectangle(l),this.scrollByZones(l.clientY)}processMouseLeave(){this.clearSelection(),this.endSelection()}processScroll(l){this.changingRectangle(l)}processMouseUp(){this.clearSelection(),this.endSelection()}scrollByZones(l){if(this.inScrollZone=null,l<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-l<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),!this.inScrollZone){this.isScrolling=!1;return}this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0)}genHTML(){const{UI:l}=this.Editor,f=l.nodes.holder.querySelector("."+l.CSS.editorWrapper),I=Dn.make("div",Mb.CSS.overlay,{}),L=Dn.make("div",Mb.CSS.overlayContainer,{}),d=Dn.make("div",Mb.CSS.rect,{});return L.appendChild(d),I.appendChild(L),f.appendChild(I),this.overlayRectangle=d,{container:f,overlay:I}}scrollVertical(l){if(!(this.inScrollZone&&this.mousedown))return;const f=window.pageYOffset;window.scrollBy(0,l),this.mouseY+=window.pageYOffset-f,setTimeout(()=>{this.scrollVertical(l)},0)}changingRectangle(l){if(!this.mousedown)return;l.pageY!==void 0&&(this.mouseX=l.pageX,this.mouseY=l.pageY);const{rightPos:f,leftPos:I,index:L}=this.genInfoForMouseSelection(),d=this.startX>f&&this.mouseX>f,u=this.startX<I&&this.mouseX<I;this.rectCrossesBlocks=!(d||u),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),this.Editor.Toolbar.close(),L!==void 0&&(this.trySelectNextBlock(L),this.inverseSelection(),ti.get().removeAllRanges())}shrinkRectangleToPoint(){this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`}inverseSelection(){const l=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!l)for(const f of this.stackOfSelected)this.Editor.BlockSelection.selectBlockByIndex(f);if(!this.rectCrossesBlocks&&l)for(const f of this.stackOfSelected)this.Editor.BlockSelection.unSelectBlockByIndex(f)}updateRectangleSize(){this.mouseY>=this.startY?(this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.mouseY-window.pageYOffset}px`):(this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.top=`${this.mouseY-window.pageYOffset}px`),this.mouseX>=this.startX?(this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.mouseX-window.pageXOffset}px`):(this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.left=`${this.mouseX-window.pageXOffset}px`)}genInfoForMouseSelection(){const l=document.body.offsetWidth/2,f=this.mouseY-window.pageYOffset,I=document.elementFromPoint(l,f),L=this.Editor.BlockManager.getBlockByChildNode(I);let d;L!==void 0&&(d=this.Editor.BlockManager.blocks.findIndex(g=>g.holder===L.holder));const u=this.Editor.BlockManager.lastBlock.holder.querySelector("."+yc.CSS.content),s=Number.parseInt(window.getComputedStyle(u).width,10)/2,n=l-s,m=l+s;return{index:d,leftPos:n,rightPos:m}}addBlockInSelection(l){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(l),this.stackOfSelected.push(l)}trySelectNextBlock(l){const f=this.stackOfSelected[this.stackOfSelected.length-1]===l,I=this.stackOfSelected.length,L=1,d=-1,u=0;if(f)return;const s=this.stackOfSelected[I-1]-this.stackOfSelected[I-2]>0;let n=u;I>1&&(n=s?L:d);const m=l>this.stackOfSelected[I-1]&&n===L,g=l<this.stackOfSelected[I-1]&&n===d,y=!(m||g||n===u);if(!y&&(l>this.stackOfSelected[I-1]||this.stackOfSelected[I-1]===void 0)){let C=this.stackOfSelected[I-1]+1||l;for(C;C<=l;C++)this.addBlockInSelection(C);return}if(!y&&l<this.stackOfSelected[I-1]){for(let C=this.stackOfSelected[I-1]-1;C>=l;C--)this.addBlockInSelection(C);return}if(!y)return;let k=I-1,E;for(l>this.stackOfSelected[I-1]?E=()=>l>this.stackOfSelected[k]:E=()=>l<this.stackOfSelected[k];E();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[k]),this.stackOfSelected.pop(),k--}}class wS extends go{render(l){return Ei(this,null,function*(){const f=l.map(L=>({function:()=>this.insertBlock(L)}));this.Editor.ModificationsObserver.disable();const I=yield D6(f);return this.Editor.ModificationsObserver.enable(),this.Editor.UI.checkEmptiness(),I})}insertBlock(l){return Ei(this,null,function*(){var f;const{Tools:I,BlockManager:L}=this.Editor,{type:d,data:u,tunes:s,id:n}=l;if(I.available.has(d))try{L.insert({id:n,tool:d,data:u,tunes:s})}catch(m){throw fo(`Block «${d}» skipped because of plugins error`,"warn",{data:u,error:m}),Error(m)}else{const m={savedData:{id:n,type:d,data:u},title:d};if(I.unavailable.has(d)){const y=(f=I.unavailable.get(d).toolbox[0])==null?void 0:f.title;m.title=y||m.title}const g=L.insert({id:n,tool:I.stubTool,data:m});g.stretched=!0,fo(`Tool «${d}» is not found. Check 'tools' property at your initial Editor.js config.`,"warn")}})}}class _S extends go{save(){return Ei(this,null,function*(){const{BlockManager:l,Tools:f}=this.Editor,I=l.blocks,L=[];try{I.forEach(s=>{L.push(this.getSavedData(s))});const d=yield Promise.all(L),u=yield G6(d,s=>f.blockTools.get(s).sanitizeConfig);return this.makeOutput(u)}catch(d){pd("Saving failed due to the Error %o","error",d)}})}getSavedData(l){return Ei(this,null,function*(){const f=yield l.save(),I=f&&(yield l.validate(f.data));return dd(ks({},f),{isValid:I})})}makeOutput(l){let f=0;const I=[];return fo("[Editor.js saving]:","groupCollapsed"),l.forEach(({id:L,tool:d,data:u,tunes:s,time:n,isValid:m})=>{if(f+=n,fo(`${d.charAt(0).toUpperCase()+d.slice(1)}`,"group"),m)fo(u),fo(void 0,"groupEnd");else{fo(`Block «${d}» skipped because saved data is invalid`),fo(void 0,"groupEnd");return}if(d===this.Editor.Tools.stubTool){I.push(u);return}const g=ks({id:L,type:d,data:u},!gd(s)&&{tunes:s});I.push(g)}),fo("Total","log",f),fo(void 0,"groupEnd"),{time:+new Date,blocks:I,version:"2.27.0"}}}var _4={},kS={get exports(){return _4},set exports(U){_4=U}};(function(U,l){(function(f,I){U.exports=I()})(window,function(){return function(f){var I={};function L(d){if(I[d])return I[d].exports;var u=I[d]={i:d,l:!1,exports:{}};return f[d].call(u.exports,u,u.exports,L),u.l=!0,u.exports}return L.m=f,L.c=I,L.d=function(d,u,s){L.o(d,u)||Object.defineProperty(d,u,{enumerable:!0,get:s})},L.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},L.t=function(d,u){if(1&u&&(d=L(d)),8&u||4&u&&typeof d=="object"&&d&&d.__esModule)return d;var s=Object.create(null);if(L.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:d}),2&u&&typeof d!="string")for(var n in d)L.d(s,n,function(m){return d[m]}.bind(null,n));return s},L.n=function(d){var u=d&&d.__esModule?function(){return d.default}:function(){return d};return L.d(u,"a",u),u},L.o=function(d,u){return Object.prototype.hasOwnProperty.call(d,u)},L.p="/",L(L.s=4)}([function(f,I,L){var d=L(1),u=L(2);typeof(u=u.__esModule?u.default:u)=="string"&&(u=[[f.i,u,""]]);var s={insert:"head",singleton:!1};d(u,s),f.exports=u.locals||{}},function(f,I,L){var d,u=function(){return d===void 0&&(d=!!(window&&document&&document.all&&!window.atob)),d},s=function(){var _={};return function(M){if(_[M]===void 0){var P=document.querySelector(M);if(window.HTMLIFrameElement&&P instanceof window.HTMLIFrameElement)try{P=P.contentDocument.head}catch(R){P=null}_[M]=P}return _[M]}}(),n=[];function m(_){for(var M=-1,P=0;P<n.length;P++)if(n[P].identifier===_){M=P;break}return M}function g(_,M){for(var P={},R=[],$=0;$<_.length;$++){var F=_[$],j=M.base?F[0]+M.base:F[0],X=P[j]||0,W="".concat(j," ").concat(X);P[j]=X+1;var V=m(W),K={css:F[1],media:F[2],sourceMap:F[3]};V!==-1?(n[V].references++,n[V].updater(K)):n.push({identifier:W,updater:O(K,M),references:1}),R.push(W)}return R}function y(_){var M=document.createElement("style"),P=_.attributes||{};if(P.nonce===void 0){var R=L.nc;R&&(P.nonce=R)}if(Object.keys(P).forEach(function(F){M.setAttribute(F,P[F])}),typeof _.insert=="function")_.insert(M);else{var $=s(_.insert||"head");if(!$)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");$.appendChild(M)}return M}var k,E=(k=[],function(_,M){return k[_]=M,k.filter(Boolean).join(`
`)});function C(_,M,P,R){var $=P?"":R.media?"@media ".concat(R.media," {").concat(R.css,"}"):R.css;if(_.styleSheet)_.styleSheet.cssText=E(M,$);else{var F=document.createTextNode($),j=_.childNodes;j[M]&&_.removeChild(j[M]),j.length?_.insertBefore(F,j[M]):_.appendChild(F)}}function v(_,M,P){var R=P.css,$=P.media,F=P.sourceMap;if($?_.setAttribute("media",$):_.removeAttribute("media"),F&&btoa&&(R+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(F))))," */")),_.styleSheet)_.styleSheet.cssText=R;else{for(;_.firstChild;)_.removeChild(_.firstChild);_.appendChild(document.createTextNode(R))}}var h=null,a=0;function O(_,M){var P,R,$;if(M.singleton){var F=a++;P=h||(h=y(M)),R=C.bind(null,P,F,!1),$=C.bind(null,P,F,!0)}else P=y(M),R=v.bind(null,P,M),$=function(){(function(j){if(j.parentNode===null)return!1;j.parentNode.removeChild(j)})(P)};return R(_),function(j){if(j){if(j.css===_.css&&j.media===_.media&&j.sourceMap===_.sourceMap)return;R(_=j)}else $()}}f.exports=function(_,M){(M=M||{}).singleton||typeof M.singleton=="boolean"||(M.singleton=u());var P=g(_=_||[],M);return function(R){if(R=R||[],Object.prototype.toString.call(R)==="[object Array]"){for(var $=0;$<P.length;$++){var F=m(P[$]);n[F].references--}for(var j=g(R,M),X=0;X<P.length;X++){var W=m(P[X]);n[W].references===0&&(n[W].updater(),n.splice(W,1))}P=j}}}},function(f,I,L){(I=L(3)(!1)).push([f.i,`.ce-paragraph {
    line-height: 1.6em;
    outline: none;
}

.ce-paragraph[data-placeholder]:empty::before{
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
}

/** Show placeholder at the first paragraph if Editor is empty */
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before {
  opacity: 1;
}

.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before,
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus::before {
  opacity: 0;
}

.ce-paragraph p:first-of-type{
    margin-top: 0;
}

.ce-paragraph p:last-of-type{
    margin-bottom: 0;
}
`,""]),f.exports=I},function(f,I,L){f.exports=function(d){var u=[];return u.toString=function(){return this.map(function(s){var n=function(m,g){var y=m[1]||"",k=m[3];if(!k)return y;if(g&&typeof btoa=="function"){var E=(v=k,h=btoa(unescape(encodeURIComponent(JSON.stringify(v)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(h),"/*# ".concat(a," */")),C=k.sources.map(function(O){return"/*# sourceURL=".concat(k.sourceRoot||"").concat(O," */")});return[y].concat(C).concat([E]).join(`
`)}var v,h,a;return[y].join(`
`)}(s,d);return s[2]?"@media ".concat(s[2]," {").concat(n,"}"):n}).join("")},u.i=function(s,n,m){typeof s=="string"&&(s=[[null,s,""]]);var g={};if(m)for(var y=0;y<this.length;y++){var k=this[y][0];k!=null&&(g[k]=!0)}for(var E=0;E<s.length;E++){var C=[].concat(s[E]);m&&g[C[0]]||(n&&(C[2]?C[2]="".concat(n," and ").concat(C[2]):C[2]=n),u.push(C))}},u}},function(f,I,L){L.r(I),L.d(I,"default",function(){return s}),L(0);function d(n,m){for(var g=0;g<m.length;g++){var y=m[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(n,y.key,y)}}function u(n,m,g){return m&&d(n.prototype,m),g&&d(n,g),n}/**
 * Base Paragraph Block for the Editor.js.
 * Represents simple paragraph
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */var s=function(){function n(m){var g=m.data,y=m.config,k=m.api,E=m.readOnly;(function(C,v){if(!(C instanceof v))throw new TypeError("Cannot call a class as a function")})(this,n),this.api=k,this.readOnly=E,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=y.placeholder?y.placeholder:n.DEFAULT_PLACEHOLDER,this._data={},this._element=this.drawView(),this._preserveBlank=y.preserveBlank!==void 0&&y.preserveBlank,this.data=g}return u(n,null,[{key:"DEFAULT_PLACEHOLDER",get:function(){return""}}]),u(n,[{key:"onKeyUp",value:function(m){m.code!=="Backspace"&&m.code!=="Delete"||this._element.textContent===""&&(this._element.innerHTML="")}},{key:"drawView",value:function(){var m=document.createElement("DIV");return m.classList.add(this._CSS.wrapper,this._CSS.block),m.contentEditable=!1,m.dataset.placeholder=this.api.i18n.t(this._placeholder),this.readOnly||(m.contentEditable=!0,m.addEventListener("keyup",this.onKeyUp)),m}},{key:"render",value:function(){return this._element}},{key:"merge",value:function(m){var g={text:this.data.text+m.text};this.data=g}},{key:"validate",value:function(m){return!(m.text.trim()===""&&!this._preserveBlank)}},{key:"save",value:function(m){return{text:m.innerHTML}}},{key:"onPaste",value:function(m){var g={text:m.detail.data.innerHTML};this.data=g}},{key:"data",get:function(){var m=this._element.innerHTML;return this._data.text=m,this._data},set:function(m){this._data=m||{},this._element.innerHTML=this._data.text||""}}],[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{text:{br:!0}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["P"]}}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>',title:"Text"}}}]),n}()}]).default})})(kS);const CS=Qx(_4);class k4{constructor(){this.commandName="bold",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--bold"},this.nodes={button:void 0}}static get sanitize(){return{b:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=V9,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const l=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,l),l}get shortcut(){return"CMD+B"}}k4.isInline=!0,k4.title="Bold";class C4{constructor(){this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}static get sanitize(){return{i:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=Z9,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const l=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,l),l}get shortcut(){return"CMD+I"}}C4.isInline=!0,C4.title="Italic";class S4{constructor({api:l}){this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=l.toolbar,this.inlineToolbar=l.inlineToolbar,this.notifier=l.notifier,this.i18n=l.i18n,this.selection=new ti}static get sanitize(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=K6,this.nodes.button}renderActions(){return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",l=>{l.keyCode===this.ENTER_KEY&&this.enterPressed(l)}),this.nodes.input}surround(l){if(l){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());const f=this.selection.findParentTag("A");if(f){this.selection.expandToTag(f),this.unlink(),this.closeActions(),this.checkState(),this.toolbar.close();return}}this.toggleActions()}checkState(){const l=this.selection.findParentTag("A");if(l){this.nodes.button.innerHTML=tS,this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();const f=l.getAttribute("href");this.nodes.input.value=f!=="null"?f:"",this.selection.save()}else this.nodes.button.innerHTML=K6,this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!l}clear(){this.closeActions()}get shortcut(){return"CMD+K"}toggleActions(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}openActions(l=!1){this.nodes.input.classList.add(this.CSS.inputShowed),l&&this.nodes.input.focus(),this.inputOpened=!0}closeActions(l=!0){if(this.selection.isFakeBackgroundEnabled){const f=new ti;f.save(),this.selection.restore(),this.selection.removeFakeBackground(),f.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",l&&this.selection.clearSaved(),this.inputOpened=!1}enterPressed(l){let f=this.nodes.input.value||"";if(!f.trim()){this.selection.restore(),this.unlink(),l.preventDefault(),this.closeActions();return}if(!this.validateURL(f)){this.notifier.show({message:"Pasted link is not valid.",style:"error"}),fo("Incorrect Link pasted","warn",f);return}f=this.prepareLink(f),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(f),l.preventDefault(),l.stopPropagation(),l.stopImmediatePropagation(),this.selection.collapseToEnd(),this.inlineToolbar.close()}validateURL(l){return!/\s/.test(l)}prepareLink(l){return l=l.trim(),l=this.addProtocol(l),l}addProtocol(l){if(/^(\w+):(\/\/)?/.test(l))return l;const f=/^\/[^/\s]/.test(l),I=l.substring(0,1)==="#",L=/^\/\/[^/\s]/.test(l);return!f&&!I&&!L&&(l="http://"+l),l}insertLink(l){const f=this.selection.findParentTag("A");f&&this.selection.expandToTag(f),document.execCommand(this.commandLink,!1,l)}unlink(){document.execCommand(this.commandUnlink)}}S4.isInline=!0,S4.title="Link";class c8{constructor({data:l,api:f}){this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=f,this.title=l.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=l.savedData,this.wrapper=this.make()}render(){return this.wrapper}save(){return this.savedData}make(){const l=Dn.make("div",this.CSS.wrapper),f='<svg xmlns="http://www.w3.org/2000/svg" width="52" height="52" viewBox="0 0 52 52"><path fill="#D76B6B" fill-rule="nonzero" d="M26 52C11.64 52 0 40.36 0 26S11.64 0 26 0s26 11.64 26 26-11.64 26-26 26zm0-3.25c12.564 0 22.75-10.186 22.75-22.75S38.564 3.25 26 3.25 3.25 13.436 3.25 26 13.436 48.75 26 48.75zM15.708 33.042a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm23.834 0a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm-15.875 5.452a1.083 1.083 0 1 1-1.834-1.155c1.331-2.114 3.49-3.179 6.334-3.179 2.844 0 5.002 1.065 6.333 3.18a1.083 1.083 0 1 1-1.833 1.154c-.913-1.45-2.366-2.167-4.5-2.167s-3.587.717-4.5 2.167z"/></svg>',I=Dn.make("div",this.CSS.info),L=Dn.make("div",this.CSS.title,{textContent:this.title}),d=Dn.make("div",this.CSS.subtitle,{textContent:this.subtitle});return l.innerHTML=f,I.appendChild(L),I.appendChild(d),l.appendChild(I),l}}c8.isReadOnlySupported=!0;class SS extends x4{constructor(){super(...arguments),this.type=rw.Inline}get title(){return this.constructable[b4.Title]}create(){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings})}}class ES extends x4{constructor(){super(...arguments),this.type=rw.Tune}create(l,f){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings,block:f,data:l})}}class El extends Map{get blockTools(){const l=Array.from(this.entries()).filter(([,f])=>f.isBlock());return new El(l)}get inlineTools(){const l=Array.from(this.entries()).filter(([,f])=>f.isInline());return new El(l)}get blockTunes(){const l=Array.from(this.entries()).filter(([,f])=>f.isTune());return new El(l)}get internalTools(){const l=Array.from(this.entries()).filter(([,f])=>f.isInternal);return new El(l)}get externalTools(){const l=Array.from(this.entries()).filter(([,f])=>!f.isInternal);return new El(l)}}var TS=Object.defineProperty,AS=Object.getOwnPropertyDescriptor,l8=(U,l,f,I)=>{for(var L=I>1?void 0:I?AS(l,f):l,d=U.length-1,u;d>=0;d--)(u=U[d])&&(L=(I?u(l,f,L):u(L))||L);return I&&L&&TS(l,f,L),L};class E4 extends x4{constructor(){super(...arguments),this.type=rw.Block,this.inlineTools=new El,this.tunes=new El}create(l,f,I){return new this.constructable({data:l,block:f,readOnly:I,api:this.api.getMethodsForTool(this),config:this.settings})}get isReadOnlySupported(){return this.constructable[My.IsReadOnlySupported]===!0}get isLineBreaksEnabled(){return this.constructable[My.IsEnabledLineBreaks]}get toolbox(){const l=this.constructable[My.Toolbox],f=this.config[iw.Toolbox];if(!gd(l)&&f!==!1)return f?Array.isArray(l)?Array.isArray(f)?f.map((I,L)=>{const d=l[L];return d?ks(ks({},d),I):I}):[f]:Array.isArray(f)?f:[ks(ks({},l),f)]:Array.isArray(l)?l:[l]}get conversionConfig(){return this.constructable[My.ConversionConfig]}get enabledInlineTools(){return this.config[iw.EnabledInlineTools]||!1}get enabledBlockTunes(){return this.config[iw.EnabledBlockTunes]}get pasteConfig(){var l;return(l=this.constructable[My.PasteConfig])!=null?l:{}}get sanitizeConfig(){const l=super.sanitizeConfig,f=this.baseSanitizeConfig;if(gd(l))return f;const I={};for(const L in l)if(Object.prototype.hasOwnProperty.call(l,L)){const d=l[L];cl(d)?I[L]=Object.assign({},f,d):I[L]=d}return I}get baseSanitizeConfig(){const l={};return Array.from(this.inlineTools.values()).forEach(f=>Object.assign(l,f.sanitizeConfig)),Array.from(this.tunes.values()).forEach(f=>Object.assign(l,f.sanitizeConfig)),l}}l8([Ey],E4.prototype,"sanitizeConfig",1),l8([Ey],E4.prototype,"baseSanitizeConfig",1);class OS{constructor(l,f,I){this.api=I,this.config=l,this.editorConfig=f}get(l){const u=this.config[l],{class:f,isInternal:I=!1}=u,L=W8(u,["class","isInternal"]),d=this.getConstructor(f);return new d({name:l,constructable:f,config:L,api:this.api,isDefault:l===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:I})}getConstructor(l){switch(!0){case l[b4.IsInline]:return SS;case l[r8.IsTune]:return ES;default:return E4}}}class u8{constructor({api:l}){this.CSS={animation:"wobble"},this.api=l}render(){return{icon:Z6,title:this.api.i18n.t("Move down"),onActivate:()=>this.handleClick(),name:"move-down"}}handleClick(){const l=this.api.blocks.getCurrentBlockIndex(),f=this.api.blocks.getBlockByIndex(l+1);if(!f)throw new Error("Unable to move Block down since it is already the last");const I=f.holder,L=I.getBoundingClientRect();let d=Math.abs(window.innerHeight-I.offsetHeight);L.top<window.innerHeight&&(d=window.scrollY+I.offsetHeight),window.scrollTo(0,d),this.api.blocks.move(l+1),this.api.toolbar.toggleBlockSettings(!0)}}u8.isTune=!0;class h8{constructor({api:l}){this.api=l}render(){return{icon:G9,title:this.api.i18n.t("Delete"),name:"delete",confirmation:{title:this.api.i18n.t("Click to delete"),onActivate:()=>this.handleClick()}}}handleClick(){this.api.blocks.delete()}}h8.isTune=!0;class d8{constructor({api:l}){this.CSS={animation:"wobble"},this.api=l}render(){return{icon:W9,title:this.api.i18n.t("Move up"),onActivate:()=>this.handleClick(),name:"move-up"}}handleClick(){const l=this.api.blocks.getCurrentBlockIndex(),f=this.api.blocks.getBlockByIndex(l),I=this.api.blocks.getBlockByIndex(l-1);if(l===0||!f||!I)throw new Error("Unable to move Block up since it is already the first");const L=f.holder,d=I.holder,u=L.getBoundingClientRect(),s=d.getBoundingClientRect();let n;s.top>0?n=Math.abs(u.top)-Math.abs(s.top):n=Math.abs(u.top)+s.height,window.scrollBy(0,-1*n),this.api.blocks.move(l-1),this.api.toolbar.toggleBlockSettings(!0)}}d8.isTune=!0;var MS=Object.defineProperty,LS=Object.getOwnPropertyDescriptor,BS=(U,l,f,I)=>{for(var L=I>1?void 0:I?LS(l,f):l,d=U.length-1,u;d>=0;d--)(u=U[d])&&(L=(I?u(l,f,L):u(L))||L);return I&&L&&MS(l,f,L),L};class f8 extends go{constructor(){super(...arguments),this.stubTool="stub",this.toolsAvailable=new El,this.toolsUnavailable=new El}get available(){return this.toolsAvailable}get unavailable(){return this.toolsUnavailable}get inlineTools(){return this.available.inlineTools}get blockTools(){return this.available.blockTools}get blockTunes(){return this.available.blockTunes}get defaultTool(){return this.blockTools.get(this.config.defaultBlock)}get internal(){return this.available.internalTools}prepare(){return Ei(this,null,function*(){if(this.validateTools(),this.config.tools=a4({},this.internalTools,this.config.tools),!Object.prototype.hasOwnProperty.call(this.config,"tools")||Object.keys(this.config.tools).length===0)throw Error("Can't start without tools");const l=this.prepareConfig();this.factory=new OS(l,this.config,this.Editor.API);const f=this.getListOfPrepareFunctions(l);if(f.length===0)return Promise.resolve();yield D6(f,I=>{this.toolPrepareMethodSuccess(I)},I=>{this.toolPrepareMethodFallback(I)}),this.prepareBlockTools()})}getAllInlineToolsSanitizeConfig(){const l={};return Array.from(this.inlineTools.values()).forEach(f=>{Object.assign(l,f.sanitizeConfig)}),l}destroy(){Object.values(this.available).forEach(l=>Ei(this,null,function*(){Va(l.reset)&&(yield l.reset())}))}get internalTools(){return{bold:{class:k4,isInternal:!0},italic:{class:C4,isInternal:!0},link:{class:S4,isInternal:!0},paragraph:{class:CS,inlineToolbar:!0,isInternal:!0},stub:{class:c8,isInternal:!0},moveUp:{class:d8,isInternal:!0},delete:{class:h8,isInternal:!0},moveDown:{class:u8,isInternal:!0}}}toolPrepareMethodSuccess(l){const f=this.factory.get(l.toolName);if(f.isInline()){const I=["render","surround","checkState"].filter(L=>!f.create()[L]);if(I.length){fo(`Incorrect Inline Tool: ${f.name}. Some of required methods is not implemented %o`,"warn",I),this.toolsUnavailable.set(f.name,f);return}}this.toolsAvailable.set(f.name,f)}toolPrepareMethodFallback(l){this.toolsUnavailable.set(l.toolName,this.factory.get(l.toolName))}getListOfPrepareFunctions(l){const f=[];return Object.entries(l).forEach(([I,L])=>{f.push({function:Va(L.class.prepare)?L.class.prepare:()=>{},data:{toolName:I,config:L.config}})}),f}prepareBlockTools(){Array.from(this.blockTools.values()).forEach(l=>{this.assignInlineToolsToBlockTool(l),this.assignBlockTunesToBlockTool(l)})}assignInlineToolsToBlockTool(l){if(this.config.inlineToolbar!==!1){if(l.enabledInlineTools===!0){l.inlineTools=new El(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map(f=>[f,this.inlineTools.get(f)]):Array.from(this.inlineTools.entries()));return}Array.isArray(l.enabledInlineTools)&&(l.inlineTools=new El(l.enabledInlineTools.map(f=>[f,this.inlineTools.get(f)])))}}assignBlockTunesToBlockTool(l){if(l.enabledBlockTunes!==!1){if(Array.isArray(l.enabledBlockTunes)){const f=new El(l.enabledBlockTunes.map(I=>[I,this.blockTunes.get(I)]));l.tunes=new El([...f,...this.blockTunes.internalTools]);return}if(Array.isArray(this.config.tunes)){const f=new El(this.config.tunes.map(I=>[I,this.blockTunes.get(I)]));l.tunes=new El([...f,...this.blockTunes.internalTools]);return}l.tunes=this.blockTunes.internalTools}}validateTools(){for(const l in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,l)){if(l in this.internalTools)return;const f=this.config.tools[l];if(!Va(f)&&!Va(f.class))throw Error(`Tool «${l}» must be a constructor function or an object with function in the «class» property`)}}prepareConfig(){const l={};for(const f in this.config.tools)cl(this.config.tools[f])?l[f]=this.config.tools[f]:l[f]={class:this.config.tools[f]};return l}}BS([Ey],f8.prototype,"getAllInlineToolsSanitizeConfig",1);const jS=`:root{--selectionColor: #e1f2ff;--inlineSelectionColor: #d4ecff;--bg-light: #eff2f5;--grayText: #707684;--color-dark: #1D202B;--color-active-icon: #388AE5;--color-gray-border: rgba(201, 201, 204, .48);--content-width: 650px;--narrow-mode-right-padding: 50px;--toolbox-buttons-size: 26px;--toolbox-buttons-size--mobile: 36px;--icon-size: 20px;--icon-size--mobile: 28px;--block-padding-vertical: .4em;--color-line-gray: #EFF0F1 }.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide,.codex-editor__redactor--hidden{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff"}@media (min-width: 651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor__loader{position:relative;height:30vh}.codex-editor__loader:before{content:"";position:absolute;left:50%;top:50%;width:30px;height:30px;margin-top:-15px;margin-left:-15px;border-radius:50%;border:2px solid rgba(201,201,204,.48);border-top-color:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-animation:editor-loader-spin .8s infinite linear;animation:editor-loader-spin .8s infinite linear;will-change:transform}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0px;left:0px;right:0px;bottom:0px;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:#2eaadc33;border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}::-moz-selection{background-color:#d4ecff}::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}@-webkit-keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1 * var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-negative:0;flex-shrink:0}@media (max-width: 650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width: 650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width: 650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;margin-left:3px;cursor:pointer;user-select:none}@media (max-width: 650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width: 651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width: 650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbox .ce-popover{right:0;left:auto;left:initial}}.ce-inline-toolbar{--y-offset: 8px;position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;-webkit-transform:translateX(-50%) translateY(8px) scale(.94);transform:translate(-50%) translateY(8px) scale(.94);opacity:0;visibility:hidden;-webkit-transition:opacity .25s ease,-webkit-transform .15s ease;transition:opacity .25s ease,-webkit-transform .15s ease;transition:transform .15s ease,opacity .25s ease;transition:transform .15s ease,opacity .25s ease,-webkit-transform .15s ease;will-change:transform,opacity;top:0;left:0;z-index:3}.ce-inline-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-inline-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-inline-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:translateX(-50%);transform:translate(-50%)}.ce-inline-toolbar--left-oriented{-webkit-transform:translateX(-23px) translateY(8px) scale(.94);transform:translate(-23px) translateY(8px) scale(.94)}.ce-inline-toolbar--left-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-23px);transform:translate(-23px)}.ce-inline-toolbar--right-oriented{-webkit-transform:translateX(-100%) translateY(8px) scale(.94);transform:translate(-100%) translateY(8px) scale(.94);margin-left:23px}.ce-inline-toolbar--right-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-100%);transform:translate(-100%)}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:0 6px}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover: hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content,.ce-inline-toolbar__dropdown-arrow{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;border-radius:0;line-height:normal}.ce-inline-tool svg{width:20px;height:20px}@media (max-width: 650px){.ce-inline-tool svg{width:28px;height:28px}}@media (hover: hover){.ce-inline-tool:hover{background-color:#eff2f5}}.ce-inline-tool--active{color:#388ae5}.ce-inline-tool--focused{background:rgba(34,186,255,.08)!important}.ce-inline-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-inline-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{outline:none;border:0;border-radius:0 0 4px 4px;margin:0;font-size:13px;padding:10px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;border-top:1px solid rgba(201,201,204,.48);-webkit-appearance:none;font-family:inherit}@media (max-width: 650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-conversion-toolbar{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;opacity:0;visibility:hidden;will-change:transform,opacity;-webkit-transition:opacity .1s ease,-webkit-transform .1s ease;transition:opacity .1s ease,-webkit-transform .1s ease;transition:transform .1s ease,opacity .1s ease;transition:transform .1s ease,opacity .1s ease,-webkit-transform .1s ease;-webkit-transform:translateY(-8px);transform:translateY(-8px);left:-1px;width:150px;margin-top:5px;-webkit-box-sizing:content-box;box-sizing:content-box}.ce-conversion-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-conversion-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-conversion-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:none;transform:none}.ce-conversion-toolbar [hidden]{display:none!important}.ce-conversion-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-conversion-toolbar__label{color:#707684;font-size:11px;font-weight:500;letter-spacing:.33px;padding:10px 10px 5px;text-transform:uppercase}.ce-conversion-tool{display:-webkit-box;display:-ms-flexbox;display:flex;padding:5px 10px;font-size:14px;line-height:20px;font-weight:500;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-conversion-tool--hidden{display:none}.ce-conversion-tool--focused{background:rgba(34,186,255,.08)!important}.ce-conversion-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-conversion-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-conversion-tool:hover{background:#eff2f5}.ce-conversion-tool__icon{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px rgba(201,201,204,.48);box-shadow:0 0 0 1px #c9c9cc7a;border-radius:5px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background:#fff;-webkit-box-sizing:content-box;box-sizing:content-box;-ms-flex-negative:0;flex-shrink:0;margin-right:10px}.ce-conversion-tool__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-conversion-tool__icon{width:36px;height:36px;border-radius:8px}.ce-conversion-tool__icon svg{width:28px;height:28px}}.ce-conversion-tool--last{margin-right:0!important}.ce-conversion-tool--active{color:#388ae5!important}.ce-conversion-tool--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-settings__button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;line-height:32px}.ce-settings__button svg{width:20px;height:20px}@media (max-width: 650px){.ce-settings__button svg{width:28px;height:28px}}@media (hover: hover){.ce-settings__button:hover{background-color:#eff2f5}}.ce-settings__button--active{color:#388ae5}.ce-settings__button--focused{background:rgba(34,186,255,.08)!important}.ce-settings__button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-settings__button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-settings__button:not(:nth-child(3n+3)){margin-right:3px}.ce-settings__button:nth-child(n+4){margin-top:3px}.ce-settings__button--disabled{cursor:not-allowed!important}.ce-settings__button--disabled{opacity:.3}.ce-settings__button--selected{color:#388ae5}@media (min-width: 651px){.codex-editor--narrow .ce-settings .ce-popover{right:0;left:auto;left:initial}}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content img,.ce-block--selected .ce-block__content .ce-stub{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388AE5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388AE5,#388AE5 1px,#fff 1px,#fff 6px)}.ce-block a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@media (min-width: 651px){.codex-editor--narrow .ce-block--focused{margin-right:-50px;padding-right:50px}}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px #232c480f;border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important}.cdx-input[data-placeholder]:before{display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;min-width:26px;min-height:26px}.cdx-settings-button svg{width:20px;height:20px}@media (max-width: 650px){.cdx-settings-button svg{width:28px;height:28px}}@media (hover: hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-settings-button--focused{background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width: 650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s infinite linear;animation:cdxRotation 1.2s infinite linear}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px #121e390a;color:#707684;text-align:center;cursor:pointer}@media (hover: hover){.cdx-button:hover{background:#FBFCFE;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px #121e3914}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;padding:3.5em 0;margin:17px 0;border-radius:3px;background:#fcf7f7;color:#b46262}.ce-stub__info{margin-left:20px}.ce-stub__title{margin-bottom:3px;font-weight:600;font-size:18px;text-transform:capitalize}.ce-stub__subtitle{font-size:16px}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width: 650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0px solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0px;right:5px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.cdx-search-field{--icon-margin-right: 10px;background:rgba(232,232,235,.49);border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}.ce-popover{--border-radius: 6px;--width: 200px;--max-height: 270px;--padding: 6px;--offset-from-target: 8px;--color-border: #e8e8eb;--color-shadow: rgba(13,20,33,.13);--color-background: white;--color-text-primary: black;--color-text-secondary: #707684;--color-border-icon: rgba(201, 201, 204, .48);--color-border-icon-disabled: #EFF0F1;--color-text-icon-active: #388AE5;--color-background-icon-active: rgba(56, 138, 229, .1);--color-background-item-focus: rgba(34, 186, 255, .08);--color-shadow-item-focus: rgba(7, 161, 227, .08);--color-background-item-hover: #eff2f5;--color-background-item-confirm: #E24A4A;--color-background-item-confirm-hover: #CE4343;min-width:var(--width);width:var(--width);max-height:var(--max-height);border-radius:var(--border-radius);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0 3px 15px -3px var(--color-shadow);box-shadow:0 3px 15px -3px var(--color-shadow);position:absolute;left:0;top:calc(100% + var(--offset-from-target));background:var(--color-background);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:4;opacity:0;max-height:0;pointer-events:none;padding:0;border:none}.ce-popover--opened{opacity:1;padding:var(--padding);max-height:var(--max-height);pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease;border:1px solid var(--color-border)}@media (max-width: 650px){.ce-popover--opened{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (max-width: 650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1D202B;z-index:3;opacity:.5;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}}.ce-popover__overlay--hidden{display:none}.ce-popover--open-top{top:calc(-1 * (var(--offset-from-target) + var(--popover-height)))}@media (max-width: 650px){.ce-popover{--offset: 5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset) * 2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}.ce-popover .ce-popover__search{display:none}}.ce-popover__search,.ce-popover__custom-content:not(:empty){margin-bottom:5px}.ce-popover__nothing-found-message{color:#707684;display:none;cursor:default;padding:3px;font-size:14px;line-height:20px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ce-popover__nothing-found-message--displayed{display:block}.ce-popover__custom-content:not(:empty){padding:4px}@media (min-width: 651px){.ce-popover__custom-content:not(:empty){padding:0}}.ce-popover__custom-content--hidden{display:none}.ce-popover-item{--border-radius: 6px;--icon-size: 20px;--icon-size-mobile: 28px;border-radius:var(--border-radius);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:3px;color:var(--color-text-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@media (max-width: 650px){.ce-popover-item{padding:4px}}.ce-popover-item:not(:last-of-type){margin-bottom:1px}.ce-popover-item__icon{border-radius:5px;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px var(--color-border-icon);box-shadow:0 0 0 1px var(--color-border-icon);background:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:10px}.ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover-item__icon{width:36px;height:36px;border-radius:8px}.ce-popover-item__icon svg{width:var(--icon-size-mobile);height:var(--icon-size-mobile)}}.ce-popover-item__title{font-size:14px;line-height:20px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}@media (max-width: 650px){.ce-popover-item__title{font-size:16px}}.ce-popover-item__secondary-title{color:var(--color-text-secondary);font-size:12px;margin-left:auto;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;margin-bottom:-2px;opacity:.6}@media (max-width: 650px){.ce-popover-item__secondary-title{display:none}}.ce-popover-item--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}.ce-popover-item--active .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}.ce-popover-item--disabled{color:var(--color-text-secondary);cursor:default;pointer-events:none}.ce-popover-item--disabled .ce-popover-item__icon{-webkit-box-shadow:0 0 0 1px var(--color-border-icon-disabled);box-shadow:0 0 0 1px var(--color-border-icon-disabled)}.ce-popover-item--focused:not(.ce-popover-item--no-focus){background:var(--color-background-item-focus)!important}.ce-popover-item--focused:not(.ce-popover-item--no-focus){-webkit-box-shadow:inset 0 0 0px 1px var(--color-shadow-item-focus);box-shadow:inset 0 0 0 1px var(--color-shadow-item-focus)}.ce-popover-item--hidden{display:none}@media (hover: hover){.ce-popover-item:hover{cursor:pointer}.ce-popover-item:hover:not(.ce-popover-item--no-hover){background-color:var(--color-background-item-hover)}.ce-popover-item:hover .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}}.ce-popover-item--confirmation{background:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__icon{color:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__title{color:#fff}@media (hover: hover){.ce-popover-item--confirmation:not(.ce-popover-item--no-hover):hover{background:var(--color-background-item-confirm-hover)}}.ce-popover-item--confirmation:not(.ce-popover-item--no-focus).ce-popover-item--focused{background:var(--color-background-item-confirm-hover)!important}.ce-popover-item--confirmation .ce-popover-item__icon,.ce-popover-item--active .ce-popover-item__icon,.ce-popover-item--focused .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}
`;class IS extends go{constructor(){super(...arguments),this.isMobile=!1,this.contentRectCache=void 0,this.resizeDebouncer=s9(()=>{this.windowResize()},200)}get CSS(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorLoader:"codex-editor__loader",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}get contentRect(){if(this.contentRectCache)return this.contentRectCache;const l=this.nodes.wrapper.querySelector(`.${yc.CSS.content}`);return l?(this.contentRectCache=l.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}addLoader(){this.nodes.loader=Dn.make("div",this.CSS.editorLoader),this.nodes.wrapper.prepend(this.nodes.loader),this.nodes.redactor.classList.add(this.CSS.editorZoneHidden)}removeLoader(){this.nodes.loader.remove(),this.nodes.redactor.classList.remove(this.CSS.editorZoneHidden)}prepare(){return Ei(this,null,function*(){this.checkIsMobile(),this.make(),this.addLoader(),this.loadStyles()})}toggleReadOnly(l){l?this.disableModuleBindings():this.enableModuleBindings()}checkEmptiness(){const{BlockManager:l}=this.Editor;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,l.isEditorEmpty)}get someToolbarOpened(){const{Toolbar:l,BlockSettings:f,InlineToolbar:I,ConversionToolbar:L}=this.Editor;return f.opened||I.opened||L.opened||l.toolbox.opened}get someFlipperButtonFocused(){return this.Editor.Toolbar.toolbox.hasFocus()?!0:Object.entries(this.Editor).filter(([l,f])=>f.flipper instanceof Cp).some(([l,f])=>f.flipper.hasFocus())}destroy(){this.nodes.holder.innerHTML=""}closeAllToolbars(){const{Toolbar:l,BlockSettings:f,InlineToolbar:I,ConversionToolbar:L}=this.Editor;f.close(),I.close(),L.close(),l.toolbox.close()}checkIsMobile(){this.isMobile=window.innerWidth<U6}make(){this.nodes.holder=Dn.getHolder(this.config.holder),this.nodes.wrapper=Dn.make("div",[this.CSS.editorWrapper,...this.isRtl?[this.CSS.editorRtlFix]:[]]),this.nodes.redactor=Dn.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper)}loadStyles(){const l="editor-js-styles";if(Dn.get(l))return;const f=Dn.make("style",null,{id:l,textContent:jS.toString()});Dn.prepend(document.head,f)}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.redactor,"click",l=>{this.redactorClicked(l)},!1),this.readOnlyMutableListeners.on(this.nodes.redactor,"mousedown",l=>{this.documentTouched(l)},!0),this.readOnlyMutableListeners.on(this.nodes.redactor,"touchstart",l=>{this.documentTouched(l)},!0),this.readOnlyMutableListeners.on(document,"keydown",l=>{this.documentKeydown(l)},!0),this.readOnlyMutableListeners.on(document,"mousedown",l=>{this.documentClicked(l)},!0),this.readOnlyMutableListeners.on(document,"selectionchange",()=>{this.selectionChanged()},!0),this.readOnlyMutableListeners.on(window,"resize",()=>{this.resizeDebouncer()},{passive:!0}),this.watchBlockHoveredEvents()}watchBlockHoveredEvents(){let l;this.readOnlyMutableListeners.on(this.nodes.redactor,"mousemove",o4(f=>{const I=f.target.closest(".ce-block");this.Editor.BlockSelection.anyBlockSelected||I&&l!==I&&(l=I,this.eventsDispatcher.emit(e8,{block:this.Editor.BlockManager.getBlockByChildNode(I)}))},20),{passive:!0})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}windowResize(){this.contentRectCache=null,this.checkIsMobile()}documentKeydown(l){switch(l.keyCode){case Ii.ENTER:this.enterPressed(l);break;case Ii.BACKSPACE:this.backspacePressed(l);break;case Ii.ESC:this.escapePressed(l);break;default:this.defaultBehaviour(l);break}}defaultBehaviour(l){const{currentBlock:f}=this.Editor.BlockManager,I=l.target.closest(`.${this.CSS.editorWrapper}`),L=l.altKey||l.ctrlKey||l.metaKey||l.shiftKey;if(f!==void 0&&I===null){this.Editor.BlockEvents.keydown(l);return}I||f&&L||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close())}backspacePressed(l){const{BlockManager:f,BlockSelection:I,Caret:L}=this.Editor;if(I.anyBlockSelected&&!ti.isSelectionExists){const d=f.removeSelectedBlocks();L.setToBlock(f.insertDefaultBlockAtIndex(d,!0),L.positions.START),I.clearSelection(l),l.preventDefault(),l.stopPropagation(),l.stopImmediatePropagation()}}escapePressed(l){this.Editor.BlockSelection.clearSelection(l),this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.toolbox.close(),this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock)):this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.ConversionToolbar.opened?this.Editor.ConversionToolbar.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}enterPressed(l){const{BlockManager:f,BlockSelection:I}=this.Editor,L=f.currentBlockIndex>=0;if(I.anyBlockSelected&&!ti.isSelectionExists){I.clearSelection(l),l.preventDefault(),l.stopImmediatePropagation(),l.stopPropagation();return}if(!this.someToolbarOpened&&L&&l.target.tagName==="BODY"){const d=this.Editor.BlockManager.insert();this.Editor.Caret.setToBlock(d),this.Editor.BlockManager.highlightCurrentNode(),this.Editor.Toolbar.moveAndOpen(d)}this.Editor.BlockSelection.clearSelection(l)}documentClicked(l){if(!l.isTrusted)return;const f=l.target;this.nodes.holder.contains(f)||ti.isAtEditor||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close());const I=this.Editor.BlockSettings.nodes.wrapper.contains(f),L=this.Editor.Toolbar.nodes.settingsToggler.contains(f),d=I||L;if(this.Editor.BlockSettings.opened&&!d){this.Editor.BlockSettings.close();const u=this.Editor.BlockManager.getBlockByChildNode(f);this.Editor.Toolbar.moveAndOpen(u)}this.Editor.BlockSelection.clearSelection(l)}documentTouched(l){let f=l.target;if(f===this.nodes.redactor){const I=l instanceof MouseEvent?l.clientX:l.touches[0].clientX,L=l instanceof MouseEvent?l.clientY:l.touches[0].clientY;f=document.elementFromPoint(I,L)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(f),this.Editor.BlockManager.highlightCurrentNode()}catch(I){this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.Toolbar.moveAndOpen()}redactorClicked(l){const{BlockSelection:f}=this.Editor;if(!ti.isCollapsed)return;const I=()=>{l.stopImmediatePropagation(),l.stopPropagation()},L=l.target,d=l.metaKey||l.ctrlKey;if(Dn.isAnchor(L)&&d){I();const m=L.getAttribute("href"),g=l9(m);h9(g);return}const u=this.Editor.BlockManager.getBlockByIndex(-1),s=Dn.offset(u.holder).bottom,n=l.pageY;if(l.target instanceof Element&&l.target.isEqualNode(this.nodes.redactor)&&!f.anyBlockSelected&&s<n){I();const{BlockManager:m,Caret:g,Toolbar:y}=this.Editor;(!m.lastBlock.tool.isDefault||!m.lastBlock.isEmpty)&&m.insertAtEnd(),g.setToTheLastBlock(),y.moveAndOpen(m.lastBlock)}}selectionChanged(){const{CrossBlockSelection:l,BlockSelection:f}=this.Editor,I=ti.anchorElement;if(l.isCrossBlockSelectionStarted&&f.anyBlockSelected&&ti.get().removeAllRanges(),!I){ti.range||this.Editor.InlineToolbar.close();return}const L=I.closest(`.${yc.CSS.content}`)===null;if(L&&(this.Editor.InlineToolbar.containsNode(I)||this.Editor.InlineToolbar.close(),I.dataset.inlineToolbar!=="true"))return;this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(I);const d=L!==!0;this.Editor.InlineToolbar.tryToShow(!0,d)}}const NS={BlocksAPI:b9,CaretAPI:x9,EventsAPI:w9,I18nAPI:u4,API:_9,InlineToolbarAPI:k9,ListenersAPI:C9,NotifierAPI:A9,ReadOnlyAPI:O9,SanitizerAPI:P9,SaverAPI:R9,SelectionAPI:D9,StylesAPI:F9,ToolbarAPI:z9,TooltipAPI:$9,UiAPI:q9,BlockSettings:iS,ConversionToolbar:Bh,Toolbar:uS,InlineToolbar:hS,BlockEvents:dS,BlockManager:gS,BlockSelection:mS,Caret:ow,CrossBlockSelection:yS,DragNDrop:vS,ModificationsObserver:bS,Paste:s8,ReadOnly:xS,RectangleSelection:Mb,Renderer:wS,Saver:_S,Tools:f8,UI:IS};class PS{constructor(l){this.moduleInstances={},this.eventsDispatcher=new ew;let f,I;this.isReady=new Promise((L,d)=>{f=L,I=d}),Promise.resolve().then(()=>Ei(this,null,function*(){this.configuration=l,yield this.validate(),yield this.init(),yield this.start(),pd("I'm ready! (ﾉ◕ヮ◕)ﾉ*:･ﾟ✧","log","","color: #E24A75"),setTimeout(()=>Ei(this,null,function*(){if(yield this.render(),this.configuration.autofocus){const{BlockManager:L,Caret:d}=this.moduleInstances;d.setToBlock(L.blocks[0],d.positions.START),L.highlightCurrentNode()}this.moduleInstances.UI.removeLoader(),f()}),500)})).catch(L=>{fo(`Editor.js is not ready because of ${L}`,"error"),I(L)})}set configuration(l){var f,I;cl(l)?this.config=ks({},l):this.config={holder:l},s4(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),this.config.holder==null&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=I6.VERBOSE),r9(this.config.logLevel),s4(!!this.config.initialBlock,"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=this.config.minHeight!==void 0?this.config.minHeight:300;const L={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=this.config.hideToolbar?this.config.hideToolbar:!1,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||(()=>{}),this.config.onChange=this.config.onChange||(()=>{}),this.config.inlineToolbar=this.config.inlineToolbar!==void 0?this.config.inlineToolbar:!0,(gd(this.config.data)||!this.config.data.blocks||this.config.data.blocks.length===0)&&(this.config.data={blocks:[L]}),this.config.readOnly=this.config.readOnly||!1,(f=this.config.i18n)!=null&&f.messages&&xu.setDictionary(this.config.i18n.messages),this.config.i18n.direction=((I=this.config.i18n)==null?void 0:I.direction)||"ltr"}get configuration(){return this.config}validate(){return Ei(this,null,function*(){const{holderId:l,holder:f}=this.config;if(l&&f)throw Error("«holderId» and «holder» param can't assign at the same time.");if(U0(f)&&!Dn.get(f))throw Error(`element with ID «${f}» is missing. Pass correct holder's ID.`);if(f&&cl(f)&&!Dn.isElement(f))throw Error("«holder» value must be an Element node")})}init(){this.constructModules(),this.configureModules()}start(){return Ei(this,null,function*(){yield["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"].reduce((l,f)=>l.then(()=>Ei(this,null,function*(){try{yield this.moduleInstances[f].prepare()}catch(I){if(I instanceof q6)throw new Error(I.message);fo(`Module ${f} was skipped because of %o`,"warn",I)}})),Promise.resolve())})}render(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}constructModules(){Object.entries(NS).forEach(([l,f])=>{try{this.moduleInstances[l]=new f({config:this.configuration,eventsDispatcher:this.eventsDispatcher})}catch(I){fo("[constructModules]",`Module ${l} skipped because`,"error",I)}})}configureModules(){for(const l in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,l)&&(this.moduleInstances[l].state=this.getModulesDiff(l))}getModulesDiff(l){const f={};for(const I in this.moduleInstances)I!==l&&(f[I]=this.moduleInstances[I]);return f}}/**
 * Editor.js
 *
 * @license Apache-2.0
 * @see Editor.js <https://editorjs.io>
 * @author CodeX Team <https://codex.so>
 */class p8{static get version(){return"2.27.0"}constructor(l){let f=()=>{};cl(l)&&Va(l.onReady)&&(f=l.onReady);const I=new PS(l);this.isReady=I.isReady.then(()=>{this.exportAPI(I),f()})}exportAPI(l){const f=["configuration"],I=()=>{Object.values(l.moduleInstances).forEach(L=>{Va(L.destroy)&&L.destroy(),L.listeners.removeAll()}),l=null;for(const L in this)Object.prototype.hasOwnProperty.call(this,L)&&delete this[L];Object.setPrototypeOf(this,null)};f.forEach(L=>{this[L]=l[L]}),this.destroy=I,Object.setPrototypeOf(this,l.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach(([L,d])=>{Object.entries(d).forEach(([u,s])=>{this[s]=l.moduleInstances.API.methods[L][u]})})}}const QT="";var g8={exports:{}};(function(U,l){(function(f,I){U.exports=I()})(window,function(){return function(f){var I={};function L(d){if(I[d])return I[d].exports;var u=I[d]={i:d,l:!1,exports:{}};return f[d].call(u.exports,u,u.exports,L),u.l=!0,u.exports}return L.m=f,L.c=I,L.d=function(d,u,s){L.o(d,u)||Object.defineProperty(d,u,{enumerable:!0,get:s})},L.r=function(d){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},L.t=function(d,u){if(1&u&&(d=L(d)),8&u||4&u&&typeof d=="object"&&d&&d.__esModule)return d;var s=Object.create(null);if(L.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:d}),2&u&&typeof d!="string")for(var n in d)L.d(s,n,function(m){return d[m]}.bind(null,n));return s},L.n=function(d){var u=d&&d.__esModule?function(){return d.default}:function(){return d};return L.d(u,"a",u),u},L.o=function(d,u){return Object.prototype.hasOwnProperty.call(d,u)},L.p="/",L(L.s=6)}([function(f,I,L){var d=L(1);typeof d=="string"&&(d=[[f.i,d,""]]);var u={hmr:!0,transform:void 0,insertInto:void 0};L(3)(d,u),d.locals&&(f.exports=d.locals)},function(f,I,L){(f.exports=L(2)(!1)).push([f.i,`.cdx-checklist {
    gap: 6px;
    display: flex;
    flex-direction: column;
}

    .cdx-checklist__item {
        display: flex;
        box-sizing: content-box;
        align-items: flex-start;
    }

    .cdx-checklist__item-text {
            outline: none;
            flex-grow: 1;
            line-height: 1.57em;
        }

    .cdx-checklist__item-checkbox {
            width: 22px;
            height: 22px;
            display: flex;
            align-items: center;
            margin-right: 8px;
            margin-top: calc(1.57em/2 - 22px/2);
            cursor: pointer;
        }

    .cdx-checklist__item-checkbox svg {
                opacity: 0;
                height: 20px;
                width: 20px;
                position: absolute;
                left: -1px;
                top: -1px;
                max-height: 20px;
            }

    @media (hover: hover) {
                        .cdx-checklist__item-checkbox:not(.cdx-checklist__item-checkbox--no-hover):hover .cdx-checklist__item-checkbox-check svg {
                            opacity: 1;
                        }
            }

    .cdx-checklist__item-checkbox-check {
                cursor: pointer;
                display: inline-block;
                flex-shrink: 0;
                position: relative;
                width: 20px;
                height: 20px;
                box-sizing: border-box;
                margin-left: 0;
                border-radius: 5px;
                border: 1px solid #C9C9C9;
                background: #fff;
            }

    .cdx-checklist__item-checkbox-check::before {
                    content: '';
                    position: absolute;
                    top: 0;
                    right: 0;
                    bottom: 0;
                    left: 0;
                    border-radius: 100%;
                    background-color: #369FFF;
                    visibility: hidden;
                    pointer-events: none;
                    transform: scale(1);
                    transition: transform 400ms ease-out, opacity 400ms;
                }

    @media (hover: hover) {
                        .cdx-checklist__item--checked .cdx-checklist__item-checkbox:not(.cdx-checklist__item--checked .cdx-checklist__item-checkbox--no-hover):hover .cdx-checklist__item-checkbox-check {
                            background: #0059AB;
                            border-color: #0059AB;
                        }
                }

    .cdx-checklist__item--checked .cdx-checklist__item-checkbox-check {
                    background: #369FFF;
                    border-color: #369FFF;
                }

    .cdx-checklist__item--checked .cdx-checklist__item-checkbox-check svg {
                        opacity: 1;
                    }

    .cdx-checklist__item--checked .cdx-checklist__item-checkbox-check svg path {
                            stroke: #fff;
                        }

    .cdx-checklist__item--checked .cdx-checklist__item-checkbox-check::before {
                        opacity: 0;
                        visibility: visible;
                        transform: scale(2.5);
                    }
`,""])},function(f,I){f.exports=function(L){var d=[];return d.toString=function(){return this.map(function(u){var s=function(n,m){var g=n[1]||"",y=n[3];if(!y)return g;if(m&&typeof btoa=="function"){var k=(C=y,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(C))))+" */"),E=y.sources.map(function(v){return"/*# sourceURL="+y.sourceRoot+v+" */"});return[g].concat(E).concat([k]).join(`
`)}var C;return[g].join(`
`)}(u,L);return u[2]?"@media "+u[2]+"{"+s+"}":s}).join("")},d.i=function(u,s){typeof u=="string"&&(u=[[null,u,""]]);for(var n={},m=0;m<this.length;m++){var g=this[m][0];typeof g=="number"&&(n[g]=!0)}for(m=0;m<u.length;m++){var y=u[m];typeof y[0]=="number"&&n[y[0]]||(s&&!y[2]?y[2]=s:s&&(y[2]="("+y[2]+") and ("+s+")"),d.push(y))}},d}},function(f,I,L){var d,u,s={},n=(d=function(){return window&&document&&document.all&&!window.atob},function(){return u===void 0&&(u=d.apply(this,arguments)),u}),m=function(W){return document.querySelector(W)},g=function(W){var V={};return function(K){if(typeof K=="function")return K();if(V[K]===void 0){var st=m.call(this,K);if(window.HTMLIFrameElement&&st instanceof window.HTMLIFrameElement)try{st=st.contentDocument.head}catch(it){st=null}V[K]=st}return V[K]}}(),y=null,k=0,E=[],C=L(4);function v(W,V){for(var K=0;K<W.length;K++){var st=W[K],it=s[st.id];if(it){it.refs++;for(var pt=0;pt<it.parts.length;pt++)it.parts[pt](st.parts[pt]);for(;pt<st.parts.length;pt++)it.parts.push(P(st.parts[pt],V))}else{var ct=[];for(pt=0;pt<st.parts.length;pt++)ct.push(P(st.parts[pt],V));s[st.id]={id:st.id,refs:1,parts:ct}}}}function h(W,V){for(var K=[],st={},it=0;it<W.length;it++){var pt=W[it],ct=V.base?pt[0]+V.base:pt[0],lt={css:pt[1],media:pt[2],sourceMap:pt[3]};st[ct]?st[ct].parts.push(lt):K.push(st[ct]={id:ct,parts:[lt]})}return K}function a(W,V){var K=g(W.insertInto);if(!K)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var st=E[E.length-1];if(W.insertAt==="top")st?st.nextSibling?K.insertBefore(V,st.nextSibling):K.appendChild(V):K.insertBefore(V,K.firstChild),E.push(V);else if(W.insertAt==="bottom")K.appendChild(V);else{if(typeof W.insertAt!="object"||!W.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var it=g(W.insertInto+" "+W.insertAt.before);K.insertBefore(V,it)}}function O(W){if(W.parentNode===null)return!1;W.parentNode.removeChild(W);var V=E.indexOf(W);V>=0&&E.splice(V,1)}function _(W){var V=document.createElement("style");return W.attrs.type===void 0&&(W.attrs.type="text/css"),M(V,W.attrs),a(W,V),V}function M(W,V){Object.keys(V).forEach(function(K){W.setAttribute(K,V[K])})}function P(W,V){var K,st,it,pt;if(V.transform&&W.css){if(!(pt=V.transform(W.css)))return function(){};W.css=pt}if(V.singleton){var ct=k++;K=y||(y=_(V)),st=F.bind(null,K,ct,!1),it=F.bind(null,K,ct,!0)}else W.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(K=function(lt){var J=document.createElement("link");return lt.attrs.type===void 0&&(lt.attrs.type="text/css"),lt.attrs.rel="stylesheet",M(J,lt.attrs),a(lt,J),J}(V),st=X.bind(null,K,V),it=function(){O(K),K.href&&URL.revokeObjectURL(K.href)}):(K=_(V),st=j.bind(null,K),it=function(){O(K)});return st(W),function(lt){if(lt){if(lt.css===W.css&&lt.media===W.media&&lt.sourceMap===W.sourceMap)return;st(W=lt)}else it()}}f.exports=function(W,V){if(typeof DEBUG!="undefined"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(V=V||{}).attrs=typeof V.attrs=="object"?V.attrs:{},V.singleton||typeof V.singleton=="boolean"||(V.singleton=n()),V.insertInto||(V.insertInto="head"),V.insertAt||(V.insertAt="bottom");var K=h(W,V);return v(K,V),function(st){for(var it=[],pt=0;pt<K.length;pt++){var ct=K[pt];(lt=s[ct.id]).refs--,it.push(lt)}for(st&&v(h(st,V),V),pt=0;pt<it.length;pt++){var lt;if((lt=it[pt]).refs===0){for(var J=0;J<lt.parts.length;J++)lt.parts[J]();delete s[lt.id]}}}};var R,$=(R=[],function(W,V){return R[W]=V,R.filter(Boolean).join(`
`)});function F(W,V,K,st){var it=K?"":st.css;if(W.styleSheet)W.styleSheet.cssText=$(V,it);else{var pt=document.createTextNode(it),ct=W.childNodes;ct[V]&&W.removeChild(ct[V]),ct.length?W.insertBefore(pt,ct[V]):W.appendChild(pt)}}function j(W,V){var K=V.css,st=V.media;if(st&&W.setAttribute("media",st),W.styleSheet)W.styleSheet.cssText=K;else{for(;W.firstChild;)W.removeChild(W.firstChild);W.appendChild(document.createTextNode(K))}}function X(W,V,K){var st=K.css,it=K.sourceMap,pt=V.convertToAbsoluteUrls===void 0&&it;(V.convertToAbsoluteUrls||pt)&&(st=C(st)),it&&(st+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(it))))+" */");var ct=new Blob([st],{type:"text/css"}),lt=W.href;W.href=URL.createObjectURL(ct),lt&&URL.revokeObjectURL(lt)}},function(f,I){f.exports=function(L){var d=typeof window!="undefined"&&window.location;if(!d)throw new Error("fixUrls requires window.location");if(!L||typeof L!="string")return L;var u=d.protocol+"//"+d.host,s=u+d.pathname.replace(/\/[^\/]*$/,"/");return L.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(n,m){var g,y=m.trim().replace(/^"(.*)"$/,function(k,E){return E}).replace(/^'(.*)'$/,function(k,E){return E});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(y)?n:(g=y.indexOf("//")===0?y:y.indexOf("/")===0?u+y:s+y.replace(/^\.\//,""),"url("+JSON.stringify(g)+")")})}},function(f,I,L){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(d){var u=this;if(!document.documentElement.contains(u))return null;do{if(u.matches(d))return u;u=u.parentElement||u.parentNode}while(u!==null&&u.nodeType===1);return null})},function(f,I,L){L.r(I),L.d(I,"default",function(){return C}),L(0);const d='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 12L10.4884 15.8372C10.5677 15.9245 10.705 15.9245 10.7844 15.8372L17 9"/></svg>';function u(v){return function(h){if(Array.isArray(h))return s(h)}(v)||function(h){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(h))return Array.from(h)}(v)||function(h,a){if(h){if(typeof h=="string")return s(h,a);var O=Object.prototype.toString.call(h).slice(8,-1);if(O==="Object"&&h.constructor&&(O=h.constructor.name),O==="Map"||O==="Set")return Array.from(h);if(O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O))return s(h,a)}}(v)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function s(v,h){(h==null||h>v.length)&&(h=v.length);for(var a=0,O=new Array(h);a<h;a++)O[a]=v[a];return O}function n(){var v=document.activeElement,h=window.getSelection().getRangeAt(0),a=h.cloneRange();return a.selectNodeContents(v),a.setStart(h.endContainer,h.endOffset),a.extractContents()}function m(v){var h,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},_=document.createElement(v);Array.isArray(a)?(h=_.classList).add.apply(h,u(a)):a&&_.classList.add(a);for(var M in O)_[M]=O[M];return _}function g(v){return v.innerHTML.replace("<br>"," ").trim()}function y(v){var h=arguments.length>1&&arguments[1]!==void 0&&arguments[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,O=document.createRange(),_=window.getSelection();O.selectNodeContents(v),a!==void 0&&(O.setStart(v,a),O.setEnd(v,a)),O.collapse(h),_.removeAllRanges(),_.addRange(O)}L(5);function k(v,h){for(var a=0;a<h.length;a++){var O=h[a];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(v,O.key,O)}}function E(v,h,a){return h&&k(v.prototype,h),a&&k(v,a),v}var C=function(){function v(h){var a=h.data,O=(h.config,h.api),_=h.readOnly;(function(M,P){if(!(M instanceof P))throw new TypeError("Cannot call a class as a function")})(this,v),this._elements={wrapper:null,items:[]},this.readOnly=_,this.api=O,this.data=a||{}}return E(v,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"enableLineBreaks",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.2 12L11.0586 13.8586C11.1367 13.9367 11.2633 13.9367 11.3414 13.8586L14.7 10.5"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',title:"Checklist"}}},{key:"conversionConfig",get:function(){return{export:function(h){return h.items.map(function(a){return a.text}).join(". ")},import:function(h){return{items:[{text:h,checked:!1}]}}}}}]),E(v,[{key:"render",value:function(){var h=this;return this._elements.wrapper=m("div",[this.CSS.baseBlock,this.CSS.wrapper]),this.data.items||(this.data.items=[{text:"",checked:!1}]),this.data.items.forEach(function(a){var O=h.createChecklistItem(a);h._elements.wrapper.appendChild(O)}),this.readOnly||(this._elements.wrapper.addEventListener("keydown",function(a){switch(a.keyCode){case 13:h.enterPressed(a);break;case 8:h.backspace(a)}},!1),this._elements.wrapper.addEventListener("click",function(a){h.toggleCheckbox(a)})),this._elements.wrapper}},{key:"save",value:function(){var h=this,a=this.items.map(function(O){return{text:g(h.getItemInput(O)),checked:O.classList.contains(h.CSS.itemChecked)}});return{items:a=a.filter(function(O){return O.text.trim().length!==0})}}},{key:"validate",value:function(h){return!!h.items.length}},{key:"toggleCheckbox",value:function(h){var a=this,O=h.target.closest(".".concat(this.CSS.item)),_=O.querySelector(".".concat(this.CSS.checkboxContainer));_.contains(h.target)&&(O.classList.toggle(this.CSS.itemChecked),_.classList.add(this.CSS.noHover),_.addEventListener("mouseleave",function(){return a.removeSpecialHoverBehavior(_)},{once:!0}))}},{key:"createChecklistItem",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=m("div",this.CSS.item),O=m("span",this.CSS.checkbox),_=m("div",this.CSS.checkboxContainer),M=m("div",this.CSS.textField,{innerHTML:h.text?h.text:"",contentEditable:!this.readOnly});return h.checked&&a.classList.add(this.CSS.itemChecked),O.innerHTML=d,_.appendChild(O),a.appendChild(_),a.appendChild(M),a}},{key:"enterPressed",value:function(h){h.preventDefault();var a=this.items,O=document.activeElement.closest(".".concat(this.CSS.item));if(a.indexOf(O)===a.length-1&&g(this.getItemInput(O)).length===0){var _=this.api.blocks.getCurrentBlockIndex();return O.remove(),this.api.blocks.insert(),void this.api.caret.setToBlock(_+1)}var M,P,R=n(),$=(M=R,(P=document.createElement("div")).appendChild(M),P.innerHTML),F=this.createChecklistItem({text:$,checked:!1});this._elements.wrapper.insertBefore(F,O.nextSibling),y(this.getItemInput(F),!0)}},{key:"backspace",value:function(h){var a=h.target.closest(".".concat(this.CSS.item)),O=this.items.indexOf(a),_=this.items[O-1];if(_&&window.getSelection().focusOffset===0){h.preventDefault();var M=n(),P=this.getItemInput(_),R=P.childNodes.length;P.appendChild(M),y(P,void 0,R),a.remove()}}},{key:"removeSpecialHoverBehavior",value:function(h){h.classList.remove(this.CSS.noHover)}},{key:"getItemInput",value:function(h){return h.querySelector(".".concat(this.CSS.textField))}},{key:"CSS",get:function(){return{baseBlock:this.api.styles.block,wrapper:"cdx-checklist",item:"cdx-checklist__item",itemChecked:"cdx-checklist__item--checked",noHover:"cdx-checklist__item-checkbox--no-hover",checkbox:"cdx-checklist__item-checkbox-check",textField:"cdx-checklist__item-text",checkboxContainer:"cdx-checklist__item-checkbox"}}},{key:"items",get:function(){return Array.from(this._elements.wrapper.querySelectorAll(".".concat(this.CSS.item)))}}]),v}()}]).default})})(g8);var RS=g8.exports;const DS=mc(RS);var m8={exports:{}};(function(U,l){(function(f,I){U.exports=I()})(window,function(){return function(f){var I={};function L(d){if(I[d])return I[d].exports;var u=I[d]={i:d,l:!1,exports:{}};return f[d].call(u.exports,u,u.exports,L),u.l=!0,u.exports}return L.m=f,L.c=I,L.d=function(d,u,s){L.o(d,u)||Object.defineProperty(d,u,{enumerable:!0,get:s})},L.r=function(d){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},L.t=function(d,u){if(1&u&&(d=L(d)),8&u||4&u&&typeof d=="object"&&d&&d.__esModule)return d;var s=Object.create(null);if(L.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:d}),2&u&&typeof d!="string")for(var n in d)L.d(s,n,function(m){return d[m]}.bind(null,n));return s},L.n=function(d){var u=d&&d.__esModule?function(){return d.default}:function(){return d};return L.d(u,"a",u),u},L.o=function(d,u){return Object.prototype.hasOwnProperty.call(d,u)},L.p="/",L(L.s=5)}([function(f,I,L){var d=L(1);typeof d=="string"&&(d=[[f.i,d,""]]);var u={hmr:!0,transform:void 0,insertInto:void 0};L(3)(d,u),d.locals&&(f.exports=d.locals)},function(f,I,L){(f.exports=L(2)(!1)).push([f.i,`/**
 * Plugin styles
 */
.ce-header {
  padding: 0.6em 0 3px;
  margin: 0;
  line-height: 1.25em;
  outline: none;
}

.ce-header p,
.ce-header div{
  padding: 0 !important;
  margin: 0 !important;
}

/**
 * Styles for Plugin icon in Toolbar
 */
.ce-header__icon {}

.ce-header[contentEditable=true][data-placeholder]::before{
  position: absolute;
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  display: none;
  cursor: text;
}

.ce-header[contentEditable=true][data-placeholder]:empty::before {
  display: block;
}

.ce-header[contentEditable=true][data-placeholder]:empty:focus::before {
  display: none;
}
`,""])},function(f,I){f.exports=function(L){var d=[];return d.toString=function(){return this.map(function(u){var s=function(n,m){var g=n[1]||"",y=n[3];if(!y)return g;if(m&&typeof btoa=="function"){var k=(C=y,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(C))))+" */"),E=y.sources.map(function(v){return"/*# sourceURL="+y.sourceRoot+v+" */"});return[g].concat(E).concat([k]).join(`
`)}var C;return[g].join(`
`)}(u,L);return u[2]?"@media "+u[2]+"{"+s+"}":s}).join("")},d.i=function(u,s){typeof u=="string"&&(u=[[null,u,""]]);for(var n={},m=0;m<this.length;m++){var g=this[m][0];typeof g=="number"&&(n[g]=!0)}for(m=0;m<u.length;m++){var y=u[m];typeof y[0]=="number"&&n[y[0]]||(s&&!y[2]?y[2]=s:s&&(y[2]="("+y[2]+") and ("+s+")"),d.push(y))}},d}},function(f,I,L){var d,u,s={},n=(d=function(){return window&&document&&document.all&&!window.atob},function(){return u===void 0&&(u=d.apply(this,arguments)),u}),m=function(W){return document.querySelector(W)},g=function(W){var V={};return function(K){if(typeof K=="function")return K();if(V[K]===void 0){var st=m.call(this,K);if(window.HTMLIFrameElement&&st instanceof window.HTMLIFrameElement)try{st=st.contentDocument.head}catch(it){st=null}V[K]=st}return V[K]}}(),y=null,k=0,E=[],C=L(4);function v(W,V){for(var K=0;K<W.length;K++){var st=W[K],it=s[st.id];if(it){it.refs++;for(var pt=0;pt<it.parts.length;pt++)it.parts[pt](st.parts[pt]);for(;pt<st.parts.length;pt++)it.parts.push(P(st.parts[pt],V))}else{var ct=[];for(pt=0;pt<st.parts.length;pt++)ct.push(P(st.parts[pt],V));s[st.id]={id:st.id,refs:1,parts:ct}}}}function h(W,V){for(var K=[],st={},it=0;it<W.length;it++){var pt=W[it],ct=V.base?pt[0]+V.base:pt[0],lt={css:pt[1],media:pt[2],sourceMap:pt[3]};st[ct]?st[ct].parts.push(lt):K.push(st[ct]={id:ct,parts:[lt]})}return K}function a(W,V){var K=g(W.insertInto);if(!K)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var st=E[E.length-1];if(W.insertAt==="top")st?st.nextSibling?K.insertBefore(V,st.nextSibling):K.appendChild(V):K.insertBefore(V,K.firstChild),E.push(V);else if(W.insertAt==="bottom")K.appendChild(V);else{if(typeof W.insertAt!="object"||!W.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var it=g(W.insertInto+" "+W.insertAt.before);K.insertBefore(V,it)}}function O(W){if(W.parentNode===null)return!1;W.parentNode.removeChild(W);var V=E.indexOf(W);V>=0&&E.splice(V,1)}function _(W){var V=document.createElement("style");return W.attrs.type===void 0&&(W.attrs.type="text/css"),M(V,W.attrs),a(W,V),V}function M(W,V){Object.keys(V).forEach(function(K){W.setAttribute(K,V[K])})}function P(W,V){var K,st,it,pt;if(V.transform&&W.css){if(!(pt=V.transform(W.css)))return function(){};W.css=pt}if(V.singleton){var ct=k++;K=y||(y=_(V)),st=F.bind(null,K,ct,!1),it=F.bind(null,K,ct,!0)}else W.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(K=function(lt){var J=document.createElement("link");return lt.attrs.type===void 0&&(lt.attrs.type="text/css"),lt.attrs.rel="stylesheet",M(J,lt.attrs),a(lt,J),J}(V),st=X.bind(null,K,V),it=function(){O(K),K.href&&URL.revokeObjectURL(K.href)}):(K=_(V),st=j.bind(null,K),it=function(){O(K)});return st(W),function(lt){if(lt){if(lt.css===W.css&&lt.media===W.media&&lt.sourceMap===W.sourceMap)return;st(W=lt)}else it()}}f.exports=function(W,V){if(typeof DEBUG!="undefined"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(V=V||{}).attrs=typeof V.attrs=="object"?V.attrs:{},V.singleton||typeof V.singleton=="boolean"||(V.singleton=n()),V.insertInto||(V.insertInto="head"),V.insertAt||(V.insertAt="bottom");var K=h(W,V);return v(K,V),function(st){for(var it=[],pt=0;pt<K.length;pt++){var ct=K[pt];(lt=s[ct.id]).refs--,it.push(lt)}for(st&&v(h(st,V),V),pt=0;pt<it.length;pt++){var lt;if((lt=it[pt]).refs===0){for(var J=0;J<lt.parts.length;J++)lt.parts[J]();delete s[lt.id]}}}};var R,$=(R=[],function(W,V){return R[W]=V,R.filter(Boolean).join(`
`)});function F(W,V,K,st){var it=K?"":st.css;if(W.styleSheet)W.styleSheet.cssText=$(V,it);else{var pt=document.createTextNode(it),ct=W.childNodes;ct[V]&&W.removeChild(ct[V]),ct.length?W.insertBefore(pt,ct[V]):W.appendChild(pt)}}function j(W,V){var K=V.css,st=V.media;if(st&&W.setAttribute("media",st),W.styleSheet)W.styleSheet.cssText=K;else{for(;W.firstChild;)W.removeChild(W.firstChild);W.appendChild(document.createTextNode(K))}}function X(W,V,K){var st=K.css,it=K.sourceMap,pt=V.convertToAbsoluteUrls===void 0&&it;(V.convertToAbsoluteUrls||pt)&&(st=C(st)),it&&(st+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(it))))+" */");var ct=new Blob([st],{type:"text/css"}),lt=W.href;W.href=URL.createObjectURL(ct),lt&&URL.revokeObjectURL(lt)}},function(f,I){f.exports=function(L){var d=typeof window!="undefined"&&window.location;if(!d)throw new Error("fixUrls requires window.location");if(!L||typeof L!="string")return L;var u=d.protocol+"//"+d.host,s=u+d.pathname.replace(/\/[^\/]*$/,"/");return L.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(n,m){var g,y=m.trim().replace(/^"(.*)"$/,function(k,E){return E}).replace(/^'(.*)'$/,function(k,E){return E});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(y)?n:(g=y.indexOf("//")===0?y:y.indexOf("/")===0?u+y:s+y.replace(/^\.\//,""),"url("+JSON.stringify(g)+")")})}},function(f,I,L){L.r(I),L.d(I,"default",function(){return s}),L(0);function d(n){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(n)}function u(n,m){for(var g=0;g<m.length;g++){var y=m[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(n,y.key,y)}}/**
 * Header block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license MIT
 * @version 2.0.0
 */var s=function(){function n(k){var E=k.data,C=k.config,v=k.api,h=k.readOnly;(function(a,O){if(!(a instanceof O))throw new TypeError("Cannot call a class as a function")})(this,n),this.api=v,this.readOnly=h,this._CSS={block:this.api.styles.block,wrapper:"ce-header"},this._settings=C,this._data=this.normalizeData(E),this._element=this.getTag()}var m,g,y;return m=n,y=[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{level:!1,text:{}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["H1","H2","H3","H4","H5","H6"]}}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 7L9 12M9 17V12M9 12L15 12M15 7V12M15 17L15 12"/></svg>',title:"Heading"}}}],(g=[{key:"normalizeData",value:function(k){var E={};return d(k)!=="object"&&(k={}),E.text=k.text||"",E.level=parseInt(k.level)||this.defaultLevel.number,E}},{key:"render",value:function(){return this._element}},{key:"renderSettings",value:function(){var k=this;return this.levels.map(function(E){return{icon:E.svg,label:k.api.i18n.t("Heading ".concat(E.number)),onActivate:function(){return k.setLevel(E.number)},closeOnActivate:!0,isActive:k.currentLevel.number===E.number}})}},{key:"setLevel",value:function(k){this.data={level:k,text:this.data.text}}},{key:"merge",value:function(k){var E={text:this.data.text+k.text,level:this.data.level};this.data=E}},{key:"validate",value:function(k){return k.text.trim()!==""}},{key:"save",value:function(k){return{text:k.innerHTML,level:this.currentLevel.number}}},{key:"getTag",value:function(){var k=document.createElement(this.currentLevel.tag);return k.innerHTML=this._data.text||"",k.classList.add(this._CSS.wrapper),k.contentEditable=this.readOnly?"false":"true",k.dataset.placeholder=this.api.i18n.t(this._settings.placeholder||""),k}},{key:"onPaste",value:function(k){var E=k.detail.data,C=this.defaultLevel.number;switch(E.tagName){case"H1":C=1;break;case"H2":C=2;break;case"H3":C=3;break;case"H4":C=4;break;case"H5":C=5;break;case"H6":C=6}this._settings.levels&&(C=this._settings.levels.reduce(function(v,h){return Math.abs(h-C)<Math.abs(v-C)?h:v})),this.data={level:C,text:E.innerHTML}}},{key:"data",get:function(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data},set:function(k){if(this._data=this.normalizeData(k),k.level!==void 0&&this._element.parentNode){var E=this.getTag();E.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(E,this._element),this._element=E}k.text!==void 0&&(this._element.innerHTML=this._data.text||"")}},{key:"currentLevel",get:function(){var k=this,E=this.levels.find(function(C){return C.number===k._data.level});return E||(E=this.defaultLevel),E}},{key:"defaultLevel",get:function(){var k=this;if(this._settings.defaultLevel){var E=this.levels.find(function(C){return C.number===k._settings.defaultLevel});if(E)return E;console.warn("(ง'̀-'́)ง Heading Tool: the default level specified was not found in available levels")}return this.levels[1]}},{key:"levels",get:function(){var k=this,E=[{number:1,tag:"H1",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5"/></svg>'},{number:2,tag:"H2",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17"/></svg>'},{number:3,tag:"H3",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3"/></svg>'},{number:4,tag:"H4",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.8489 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6"/></svg>'},{number:5,tag:"H5",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8"/></svg>'},{number:6,tag:"H6",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z"/></svg>'}];return this._settings.levels?E.filter(function(C){return k._settings.levels.includes(C.number)}):E}}])&&u(m.prototype,g),y&&u(m,y),n}()}]).default})})(m8);var FS=m8.exports;const zS=mc(FS);var y8={exports:{}};(function(U,l){(function(f,I){U.exports=I()})(window,function(){return function(f){var I={};function L(d){if(I[d])return I[d].exports;var u=I[d]={i:d,l:!1,exports:{}};return f[d].call(u.exports,u,u.exports,L),u.l=!0,u.exports}return L.m=f,L.c=I,L.d=function(d,u,s){L.o(d,u)||Object.defineProperty(d,u,{enumerable:!0,get:s})},L.r=function(d){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},L.t=function(d,u){if(1&u&&(d=L(d)),8&u||4&u&&typeof d=="object"&&d&&d.__esModule)return d;var s=Object.create(null);if(L.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:d}),2&u&&typeof d!="string")for(var n in d)L.d(s,n,function(m){return d[m]}.bind(null,n));return s},L.n=function(d){var u=d&&d.__esModule?function(){return d.default}:function(){return d};return L.d(u,"a",u),u},L.o=function(d,u){return Object.prototype.hasOwnProperty.call(d,u)},L.p="/",L(L.s=5)}([function(f,I,L){var d=L(1);typeof d=="string"&&(d=[[f.i,d,""]]);var u={hmr:!0,transform:void 0,insertInto:void 0};L(3)(d,u),d.locals&&(f.exports=d.locals)},function(f,I,L){(f.exports=L(2)(!1)).push([f.i,`.cdx-quote-icon svg {
  transform: rotate(180deg);
}

.cdx-quote {
  margin: 0;
}

.cdx-quote__text {
  min-height: 158px;
  margin-bottom: 10px;
}

.cdx-quote__caption {}

.cdx-quote [contentEditable=true][data-placeholder]::before{
  position: absolute;
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
}

.cdx-quote [contentEditable=true][data-placeholder]:empty::before {
  opacity: 1;
}

.cdx-quote [contentEditable=true][data-placeholder]:empty:focus::before {
  opacity: 0;
}


.cdx-quote-settings {
  display: flex;
}

.cdx-quote-settings .cdx-settings-button {
  width: 50%;
}
`,""])},function(f,I){f.exports=function(L){var d=[];return d.toString=function(){return this.map(function(u){var s=function(n,m){var g=n[1]||"",y=n[3];if(!y)return g;if(m&&typeof btoa=="function"){var k=(C=y,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(C))))+" */"),E=y.sources.map(function(v){return"/*# sourceURL="+y.sourceRoot+v+" */"});return[g].concat(E).concat([k]).join(`
`)}var C;return[g].join(`
`)}(u,L);return u[2]?"@media "+u[2]+"{"+s+"}":s}).join("")},d.i=function(u,s){typeof u=="string"&&(u=[[null,u,""]]);for(var n={},m=0;m<this.length;m++){var g=this[m][0];typeof g=="number"&&(n[g]=!0)}for(m=0;m<u.length;m++){var y=u[m];typeof y[0]=="number"&&n[y[0]]||(s&&!y[2]?y[2]=s:s&&(y[2]="("+y[2]+") and ("+s+")"),d.push(y))}},d}},function(f,I,L){var d,u,s={},n=(d=function(){return window&&document&&document.all&&!window.atob},function(){return u===void 0&&(u=d.apply(this,arguments)),u}),m=function(F){var j={};return function(X){if(typeof X=="function")return X();if(j[X]===void 0){var W=function(V){return document.querySelector(V)}.call(this,X);if(window.HTMLIFrameElement&&W instanceof window.HTMLIFrameElement)try{W=W.contentDocument.head}catch(V){W=null}j[X]=W}return j[X]}}(),g=null,y=0,k=[],E=L(4);function C(F,j){for(var X=0;X<F.length;X++){var W=F[X],V=s[W.id];if(V){V.refs++;for(var K=0;K<V.parts.length;K++)V.parts[K](W.parts[K]);for(;K<W.parts.length;K++)V.parts.push(M(W.parts[K],j))}else{var st=[];for(K=0;K<W.parts.length;K++)st.push(M(W.parts[K],j));s[W.id]={id:W.id,refs:1,parts:st}}}}function v(F,j){for(var X=[],W={},V=0;V<F.length;V++){var K=F[V],st=j.base?K[0]+j.base:K[0],it={css:K[1],media:K[2],sourceMap:K[3]};W[st]?W[st].parts.push(it):X.push(W[st]={id:st,parts:[it]})}return X}function h(F,j){var X=m(F.insertInto);if(!X)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var W=k[k.length-1];if(F.insertAt==="top")W?W.nextSibling?X.insertBefore(j,W.nextSibling):X.appendChild(j):X.insertBefore(j,X.firstChild),k.push(j);else if(F.insertAt==="bottom")X.appendChild(j);else{if(typeof F.insertAt!="object"||!F.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var V=m(F.insertInto+" "+F.insertAt.before);X.insertBefore(j,V)}}function a(F){if(F.parentNode===null)return!1;F.parentNode.removeChild(F);var j=k.indexOf(F);j>=0&&k.splice(j,1)}function O(F){var j=document.createElement("style");return F.attrs.type===void 0&&(F.attrs.type="text/css"),_(j,F.attrs),h(F,j),j}function _(F,j){Object.keys(j).forEach(function(X){F.setAttribute(X,j[X])})}function M(F,j){var X,W,V,K;if(j.transform&&F.css){if(!(K=j.transform(F.css)))return function(){};F.css=K}if(j.singleton){var st=y++;X=g||(g=O(j)),W=$.bind(null,X,st,!1),V=$.bind(null,X,st,!0)}else F.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(X=function(it){var pt=document.createElement("link");return it.attrs.type===void 0&&(it.attrs.type="text/css"),it.attrs.rel="stylesheet",_(pt,it.attrs),h(it,pt),pt}(j),W=function(it,pt,ct){var lt=ct.css,J=ct.sourceMap,Bt=pt.convertToAbsoluteUrls===void 0&&J;(pt.convertToAbsoluteUrls||Bt)&&(lt=E(lt)),J&&(lt+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(J))))+" */");var Tt=new Blob([lt],{type:"text/css"}),Ct=it.href;it.href=URL.createObjectURL(Tt),Ct&&URL.revokeObjectURL(Ct)}.bind(null,X,j),V=function(){a(X),X.href&&URL.revokeObjectURL(X.href)}):(X=O(j),W=function(it,pt){var ct=pt.css,lt=pt.media;if(lt&&it.setAttribute("media",lt),it.styleSheet)it.styleSheet.cssText=ct;else{for(;it.firstChild;)it.removeChild(it.firstChild);it.appendChild(document.createTextNode(ct))}}.bind(null,X),V=function(){a(X)});return W(F),function(it){if(it){if(it.css===F.css&&it.media===F.media&&it.sourceMap===F.sourceMap)return;W(F=it)}else V()}}f.exports=function(F,j){if(typeof DEBUG!="undefined"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(j=j||{}).attrs=typeof j.attrs=="object"?j.attrs:{},j.singleton||typeof j.singleton=="boolean"||(j.singleton=n()),j.insertInto||(j.insertInto="head"),j.insertAt||(j.insertAt="bottom");var X=v(F,j);return C(X,j),function(W){for(var V=[],K=0;K<X.length;K++){var st=X[K];(it=s[st.id]).refs--,V.push(it)}for(W&&C(v(W,j),j),K=0;K<V.length;K++){var it;if((it=V[K]).refs===0){for(var pt=0;pt<it.parts.length;pt++)it.parts[pt]();delete s[it.id]}}}};var P,R=(P=[],function(F,j){return P[F]=j,P.filter(Boolean).join(`
`)});function $(F,j,X,W){var V=X?"":W.css;if(F.styleSheet)F.styleSheet.cssText=R(j,V);else{var K=document.createTextNode(V),st=F.childNodes;st[j]&&F.removeChild(st[j]),st.length?F.insertBefore(K,st[j]):F.appendChild(K)}}},function(f,I){f.exports=function(L){var d=typeof window!="undefined"&&window.location;if(!d)throw new Error("fixUrls requires window.location");if(!L||typeof L!="string")return L;var u=d.protocol+"//"+d.host,s=u+d.pathname.replace(/\/[^\/]*$/,"/");return L.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(n,m){var g,y=m.trim().replace(/^"(.*)"$/,function(k,E){return E}).replace(/^'(.*)'$/,function(k,E){return E});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(y)?n:(g=y.indexOf("//")===0?y:y.indexOf("/")===0?u+y:s+y.replace(/^\.\//,""),"url("+JSON.stringify(g)+")")})}},function(f,I,L){L.r(I),L(0);function d(m){return function(g){if(Array.isArray(g)){for(var y=0,k=new Array(g.length);y<g.length;y++)k[y]=g[y];return k}}(m)||function(g){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]")return Array.from(g)}(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(m,g){for(var y=0;y<g.length;y++){var k=g[y];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(m,k.key,k)}}function s(m,g,y){return g&&u(m.prototype,g),y&&u(m,y),m}L.d(I,"default",function(){return n});var n=function(){function m(g){var y=g.data,k=g.config,E=g.api,C=g.readOnly;(function(a,O){if(!(a instanceof O))throw new TypeError("Cannot call a class as a function")})(this,m);var v=m.ALIGNMENTS,h=m.DEFAULT_ALIGNMENT;this.api=E,this.readOnly=C,this.quotePlaceholder=k.quotePlaceholder||m.DEFAULT_QUOTE_PLACEHOLDER,this.captionPlaceholder=k.captionPlaceholder||m.DEFAULT_CAPTION_PLACEHOLDER,this.data={text:y.text||"",caption:y.caption||"",alignment:Object.values(v).includes(y.alignment)&&y.alignment||k.defaultAlignment||h}}return s(m,[{key:"CSS",get:function(){return{baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption"}}},{key:"settings",get:function(){return[{name:"left",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 7L5 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 17H5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13 12L5 12"/></svg>'},{name:"center",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 7L6 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 17H6"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 12L8 12"/></svg>'}]}}],[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 10.8182L9 10.8182C8.80222 10.8182 8.60888 10.7649 8.44443 10.665C8.27998 10.5651 8.15181 10.4231 8.07612 10.257C8.00043 10.0909 7.98063 9.90808 8.01922 9.73174C8.0578 9.55539 8.15304 9.39341 8.29289 9.26627C8.43275 9.13913 8.61093 9.05255 8.80491 9.01747C8.99889 8.98239 9.19996 9.00039 9.38268 9.0692C9.56541 9.13801 9.72159 9.25453 9.83147 9.40403C9.94135 9.55353 10 9.72929 10 9.90909L10 12.1818C10 12.664 9.78929 13.1265 9.41421 13.4675C9.03914 13.8084 8.53043 14 8 14"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 10.8182L15 10.8182C14.8022 10.8182 14.6089 10.7649 14.4444 10.665C14.28 10.5651 14.1518 10.4231 14.0761 10.257C14.0004 10.0909 13.9806 9.90808 14.0192 9.73174C14.0578 9.55539 14.153 9.39341 14.2929 9.26627C14.4327 9.13913 14.6109 9.05255 14.8049 9.01747C14.9989 8.98239 15.2 9.00039 15.3827 9.0692C15.5654 9.13801 15.7216 9.25453 15.8315 9.40403C15.9414 9.55353 16 9.72929 16 9.90909L16 12.1818C16 12.664 15.7893 13.1265 15.4142 13.4675C15.0391 13.8084 14.5304 14 14 14"/></svg>',title:"Quote"}}},{key:"contentless",get:function(){return!0}},{key:"enableLineBreaks",get:function(){return!0}},{key:"DEFAULT_QUOTE_PLACEHOLDER",get:function(){return"Enter a quote"}},{key:"DEFAULT_CAPTION_PLACEHOLDER",get:function(){return"Enter a caption"}},{key:"ALIGNMENTS",get:function(){return{left:"left",center:"center"}}},{key:"DEFAULT_ALIGNMENT",get:function(){return m.ALIGNMENTS.left}},{key:"conversionConfig",get:function(){return{import:"text",export:function(g){return g.caption?"".concat(g.text," — ").concat(g.caption):g.text}}}}]),s(m,[{key:"render",value:function(){var g=this._make("blockquote",[this.CSS.baseClass,this.CSS.wrapper]),y=this._make("div",[this.CSS.input,this.CSS.text],{contentEditable:!this.readOnly,innerHTML:this.data.text}),k=this._make("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly,innerHTML:this.data.caption});return y.dataset.placeholder=this.quotePlaceholder,k.dataset.placeholder=this.captionPlaceholder,g.appendChild(y),g.appendChild(k),g}},{key:"save",value:function(g){var y=g.querySelector(".".concat(this.CSS.text)),k=g.querySelector(".".concat(this.CSS.caption));return Object.assign(this.data,{text:y.innerHTML,caption:k.innerHTML})}},{key:"renderSettings",value:function(){var g=this;return this.settings.map(function(y){return{icon:y.icon,label:g.api.i18n.t("Align ".concat((k=y.name,k[0].toUpperCase()+k.substr(1)))),onActivate:function(){return g._toggleTune(y.name)},isActive:g.data.alignment===y.name,closeOnActivate:!0};var k})}},{key:"_toggleTune",value:function(g){this.data.alignment=g}},{key:"_make",value:function(g){var y,k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},C=document.createElement(g);Array.isArray(k)?(y=C.classList).add.apply(y,d(k)):k&&C.classList.add(k);for(var v in E)C[v]=E[v];return C}}],[{key:"sanitize",get:function(){return{text:{br:!0},caption:{br:!0},alignment:{}}}}]),m}()}]).default})})(y8);var US=y8.exports;const HS=mc(US);var v8={exports:{}};(function(U,l){(function(f,I){U.exports=I()})(window,function(){return function(f){var I={};function L(d){if(I[d])return I[d].exports;var u=I[d]={i:d,l:!1,exports:{}};return f[d].call(u.exports,u,u.exports,L),u.l=!0,u.exports}return L.m=f,L.c=I,L.d=function(d,u,s){L.o(d,u)||Object.defineProperty(d,u,{enumerable:!0,get:s})},L.r=function(d){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},L.t=function(d,u){if(1&u&&(d=L(d)),8&u||4&u&&typeof d=="object"&&d&&d.__esModule)return d;var s=Object.create(null);if(L.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:d}),2&u&&typeof d!="string")for(var n in d)L.d(s,n,function(m){return d[m]}.bind(null,n));return s},L.n=function(d){var u=d&&d.__esModule?function(){return d.default}:function(){return d};return L.d(u,"a",u),u},L.o=function(d,u){return Object.prototype.hasOwnProperty.call(d,u)},L.p="/",L(L.s=4)}([function(f,I,L){var d=L(1),u=L(2);typeof(u=u.__esModule?u.default:u)=="string"&&(u=[[f.i,u,""]]);var s={insert:"head",singleton:!1};d(u,s),f.exports=u.locals||{}},function(f,I,L){var d,u=function(){return d===void 0&&(d=!!(window&&document&&document.all&&!window.atob)),d},s=function(){var _={};return function(M){if(_[M]===void 0){var P=document.querySelector(M);if(window.HTMLIFrameElement&&P instanceof window.HTMLIFrameElement)try{P=P.contentDocument.head}catch(R){P=null}_[M]=P}return _[M]}}(),n=[];function m(_){for(var M=-1,P=0;P<n.length;P++)if(n[P].identifier===_){M=P;break}return M}function g(_,M){for(var P={},R=[],$=0;$<_.length;$++){var F=_[$],j=M.base?F[0]+M.base:F[0],X=P[j]||0,W="".concat(j," ").concat(X);P[j]=X+1;var V=m(W),K={css:F[1],media:F[2],sourceMap:F[3]};V!==-1?(n[V].references++,n[V].updater(K)):n.push({identifier:W,updater:O(K,M),references:1}),R.push(W)}return R}function y(_){var M=document.createElement("style"),P=_.attributes||{};if(P.nonce===void 0){var R=L.nc;R&&(P.nonce=R)}if(Object.keys(P).forEach(function(F){M.setAttribute(F,P[F])}),typeof _.insert=="function")_.insert(M);else{var $=s(_.insert||"head");if(!$)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");$.appendChild(M)}return M}var k,E=(k=[],function(_,M){return k[_]=M,k.filter(Boolean).join(`
`)});function C(_,M,P,R){var $=P?"":R.media?"@media ".concat(R.media," {").concat(R.css,"}"):R.css;if(_.styleSheet)_.styleSheet.cssText=E(M,$);else{var F=document.createTextNode($),j=_.childNodes;j[M]&&_.removeChild(j[M]),j.length?_.insertBefore(F,j[M]):_.appendChild(F)}}function v(_,M,P){var R=P.css,$=P.media,F=P.sourceMap;if($?_.setAttribute("media",$):_.removeAttribute("media"),F&&btoa&&(R+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(F))))," */")),_.styleSheet)_.styleSheet.cssText=R;else{for(;_.firstChild;)_.removeChild(_.firstChild);_.appendChild(document.createTextNode(R))}}var h=null,a=0;function O(_,M){var P,R,$;if(M.singleton){var F=a++;P=h||(h=y(M)),R=C.bind(null,P,F,!1),$=C.bind(null,P,F,!0)}else P=y(M),R=v.bind(null,P,M),$=function(){(function(j){if(j.parentNode===null)return!1;j.parentNode.removeChild(j)})(P)};return R(_),function(j){if(j){if(j.css===_.css&&j.media===_.media&&j.sourceMap===_.sourceMap)return;R(_=j)}else $()}}f.exports=function(_,M){(M=M||{}).singleton||typeof M.singleton=="boolean"||(M.singleton=u());var P=g(_=_||[],M);return function(R){if(R=R||[],Object.prototype.toString.call(R)==="[object Array]"){for(var $=0;$<P.length;$++){var F=m(P[$]);n[F].references--}for(var j=g(R,M),X=0;X<P.length;X++){var W=m(P[X]);n[W].references===0&&(n[W].updater(),n.splice(W,1))}P=j}}}},function(f,I,L){(I=L(3)(!1)).push([f.i,`.cdx-list {
    margin: 0;
    padding-left: 40px;
    outline: none;
}

    .cdx-list__item {
        padding: 5.5px 0 5.5px 3px;
        line-height: 1.6em;
    }

    .cdx-list--unordered {
        list-style: disc;
    }

    .cdx-list--ordered {
        list-style: decimal;
    }

    .cdx-list-settings {
        display: flex;
    }

    .cdx-list-settings .cdx-settings-button {
            width: 50%;
        }
`,""]),f.exports=I},function(f,I,L){f.exports=function(d){var u=[];return u.toString=function(){return this.map(function(s){var n=function(m,g){var y=m[1]||"",k=m[3];if(!k)return y;if(g&&typeof btoa=="function"){var E=(v=k,h=btoa(unescape(encodeURIComponent(JSON.stringify(v)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(h),"/*# ".concat(a," */")),C=k.sources.map(function(O){return"/*# sourceURL=".concat(k.sourceRoot||"").concat(O," */")});return[y].concat(C).concat([E]).join(`
`)}var v,h,a;return[y].join(`
`)}(s,d);return s[2]?"@media ".concat(s[2]," {").concat(n,"}"):n}).join("")},u.i=function(s,n,m){typeof s=="string"&&(s=[[null,s,""]]);var g={};if(m)for(var y=0;y<this.length;y++){var k=this[y][0];k!=null&&(g[k]=!0)}for(var E=0;E<s.length;E++){var C=[].concat(s[E]);m&&g[C[0]]||(n&&(C[2]?C[2]="".concat(n," and ").concat(C[2]):C[2]=n),u.push(C))}},u}},function(f,I,L){L.r(I),L.d(I,"default",function(){return E}),L(0);const d='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>';function u(C){return function(v){if(Array.isArray(v))return s(v)}(C)||function(v){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(v))return Array.from(v)}(C)||function(v,h){if(v){if(typeof v=="string")return s(v,h);var a=Object.prototype.toString.call(v).slice(8,-1);if(a==="Object"&&v.constructor&&(a=v.constructor.name),a==="Map"||a==="Set")return Array.from(v);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return s(v,h)}}(C)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function s(C,v){(v==null||v>C.length)&&(v=C.length);for(var h=0,a=new Array(v);h<v;h++)a[h]=C[h];return a}function n(C,v){var h=Object.keys(C);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(C);v&&(a=a.filter(function(O){return Object.getOwnPropertyDescriptor(C,O).enumerable})),h.push.apply(h,a)}return h}function m(C){for(var v=1;v<arguments.length;v++){var h=arguments[v]!=null?arguments[v]:{};v%2?n(Object(h),!0).forEach(function(a){g(C,a,h[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(h)):n(Object(h)).forEach(function(a){Object.defineProperty(C,a,Object.getOwnPropertyDescriptor(h,a))})}return C}function g(C,v,h){return v in C?Object.defineProperty(C,v,{value:h,enumerable:!0,configurable:!0,writable:!0}):C[v]=h,C}function y(C,v){for(var h=0;h<v.length;h++){var a=v[h];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(C,a.key,a)}}function k(C,v,h){return v&&y(C.prototype,v),h&&y(C,h),C}var E=function(){function C(v){var h=v.data,a=v.config,O=v.api,_=v.readOnly;(function(M,P){if(!(M instanceof P))throw new TypeError("Cannot call a class as a function")})(this,C),this._elements={wrapper:null},this.api=O,this.readOnly=_,this.settings=[{name:"unordered",label:this.api.i18n.t("Unordered"),icon:d,default:a.defaultStyle==="unordered"||!1},{name:"ordered",label:this.api.i18n.t("Ordered"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>',default:a.defaultStyle==="ordered"||!0}],this._data={style:this.settings.find(function(M){return M.default===!0}).name,items:[]},this.data=h}return k(C,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"enableLineBreaks",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:d,title:"List"}}}]),k(C,[{key:"render",value:function(){var v=this;return this._elements.wrapper=this.makeMainTag(this._data.style),this._data.items.length?this._data.items.forEach(function(h){v._elements.wrapper.appendChild(v._make("li",v.CSS.item,{innerHTML:h}))}):this._elements.wrapper.appendChild(this._make("li",this.CSS.item)),this.readOnly||this._elements.wrapper.addEventListener("keydown",function(h){switch(h.keyCode){case 13:v.getOutofList(h);break;case 8:v.backspace(h)}},!1),this._elements.wrapper}},{key:"save",value:function(){return this.data}},{key:"renderSettings",value:function(){var v=this;return this.settings.map(function(h){return m(m({},h),{},{isActive:v._data.style===h.name,closeOnActivate:!0,onActivate:function(){return v.toggleTune(h.name)}})})}},{key:"onPaste",value:function(v){var h=v.detail.data;this.data=this.pasteHandler(h)}},{key:"makeMainTag",value:function(v){var h=v==="ordered"?this.CSS.wrapperOrdered:this.CSS.wrapperUnordered,a=v==="ordered"?"ol":"ul";return this._make(a,[this.CSS.baseBlock,this.CSS.wrapper,h],{contentEditable:!this.readOnly})}},{key:"toggleTune",value:function(v){for(var h=this.makeMainTag(v);this._elements.wrapper.hasChildNodes();)h.appendChild(this._elements.wrapper.firstChild);this._elements.wrapper.replaceWith(h),this._elements.wrapper=h,this._data.style=v}},{key:"_make",value:function(v){var h,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},_=document.createElement(v);Array.isArray(a)?(h=_.classList).add.apply(h,u(a)):a&&_.classList.add(a);for(var M in O)_[M]=O[M];return _}},{key:"getOutofList",value:function(v){var h=this._elements.wrapper.querySelectorAll("."+this.CSS.item);if(!(h.length<2)){var a=h[h.length-1],O=this.currentItem;O!==a||a.textContent.trim().length||(O.parentElement.removeChild(O),this.api.blocks.insert(),this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex()),v.preventDefault(),v.stopPropagation())}}},{key:"backspace",value:function(v){var h=this._elements.wrapper.querySelectorAll("."+this.CSS.item),a=h[0];a&&h.length<2&&!a.innerHTML.replace("<br>"," ").trim()&&v.preventDefault()}},{key:"selectItem",value:function(v){v.preventDefault();var h=window.getSelection(),a=h.anchorNode.parentNode.closest("."+this.CSS.item),O=new Range;O.selectNodeContents(a),h.removeAllRanges(),h.addRange(O)}},{key:"pasteHandler",value:function(v){var h,a=v.tagName;switch(a){case"OL":h="ordered";break;case"UL":case"LI":h="unordered"}var O={style:h,items:[]};if(a==="LI")O.items=[v.innerHTML];else{var _=Array.from(v.querySelectorAll("LI"));O.items=_.map(function(M){return M.innerHTML}).filter(function(M){return!!M.trim()})}return O}},{key:"CSS",get:function(){return{baseBlock:this.api.styles.block,wrapper:"cdx-list",wrapperOrdered:"cdx-list--ordered",wrapperUnordered:"cdx-list--unordered",item:"cdx-list__item"}}},{key:"data",set:function(v){v||(v={}),this._data.style=v.style||this.settings.find(function(a){return a.default===!0}).name,this._data.items=v.items||[];var h=this._elements.wrapper;h&&h.parentNode.replaceChild(this.render(),h)},get:function(){this._data.items=[];for(var v=this._elements.wrapper.querySelectorAll(".".concat(this.CSS.item)),h=0;h<v.length;h++)v[h].innerHTML.replace("<br>"," ").trim()&&this._data.items.push(v[h].innerHTML);return this._data}},{key:"currentItem",get:function(){var v=window.getSelection().anchorNode;return v.nodeType!==Node.ELEMENT_NODE&&(v=v.parentNode),v.closest(".".concat(this.CSS.item))}}],[{key:"conversionConfig",get:function(){return{export:function(v){return v.items.join(". ")},import:function(v){return{items:[v],style:"unordered"}}}}},{key:"sanitize",get:function(){return{style:{},items:{br:!0}}}},{key:"pasteConfig",get:function(){return{tags:["OL","UL","LI"]}}}]),C}()}]).default})})(v8);var $S=v8.exports;const qS=mc($S);var b8={exports:{}};(function(U,l){(function(f,I){U.exports=I()})(window,function(){return function(f){var I={};function L(d){if(I[d])return I[d].exports;var u=I[d]={i:d,l:!1,exports:{}};return f[d].call(u.exports,u,u.exports,L),u.l=!0,u.exports}return L.m=f,L.c=I,L.d=function(d,u,s){L.o(d,u)||Object.defineProperty(d,u,{enumerable:!0,get:s})},L.r=function(d){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},L.t=function(d,u){if(1&u&&(d=L(d)),8&u||4&u&&typeof d=="object"&&d&&d.__esModule)return d;var s=Object.create(null);if(L.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:d}),2&u&&typeof d!="string")for(var n in d)L.d(s,n,function(m){return d[m]}.bind(null,n));return s},L.n=function(d){var u=d&&d.__esModule?function(){return d.default}:function(){return d};return L.d(u,"a",u),u},L.o=function(d,u){return Object.prototype.hasOwnProperty.call(d,u)},L.p="/",L(L.s=5)}([function(f,I,L){var d=L(1);typeof d=="string"&&(d=[[f.i,d,""]]);var u={hmr:!0,transform:void 0,insertInto:void 0};L(3)(d,u),d.locals&&(f.exports=d.locals)},function(f,I,L){(f.exports=L(2)(!1)).push([f.i,`.cdx-simple-image {}

.cdx-simple-image .cdx-loader {
  min-height: 200px;
}

.cdx-simple-image .cdx-input {
  margin-top: 10px;
}

.cdx-simple-image img {
  max-width: 100%;
  vertical-align: bottom;
}

.cdx-simple-image__caption[contentEditable=true][data-placeholder]:empty::before {
  position: absolute;
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
 }

.cdx-simple-image__caption[contentEditable=true][data-placeholder]:empty::before {
  opacity: 1;
}

.cdx-simple-image__caption[contentEditable=true][data-placeholder]:empty:focus::before {
  opacity: 0;
}


.cdx-simple-image__picture--with-background {
  background: #eff2f5;
  padding: 10px;
}

.cdx-simple-image__picture--with-background img {
  display: block;
  max-width: 60%;
  margin: 0 auto;
}

.cdx-simple-image__picture--with-border {
  border: 1px solid #e8e8eb;
  padding: 1px;
}

.cdx-simple-image__picture--stretched img {
  max-width: none;
  width: 100%;
}
`,""])},function(f,I){f.exports=function(L){var d=[];return d.toString=function(){return this.map(function(u){var s=function(n,m){var g=n[1]||"",y=n[3];if(!y)return g;if(m&&typeof btoa=="function"){var k=(C=y,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(C))))+" */"),E=y.sources.map(function(v){return"/*# sourceURL="+y.sourceRoot+v+" */"});return[g].concat(E).concat([k]).join(`
`)}var C;return[g].join(`
`)}(u,L);return u[2]?"@media "+u[2]+"{"+s+"}":s}).join("")},d.i=function(u,s){typeof u=="string"&&(u=[[null,u,""]]);for(var n={},m=0;m<this.length;m++){var g=this[m][0];typeof g=="number"&&(n[g]=!0)}for(m=0;m<u.length;m++){var y=u[m];typeof y[0]=="number"&&n[y[0]]||(s&&!y[2]?y[2]=s:s&&(y[2]="("+y[2]+") and ("+s+")"),d.push(y))}},d}},function(f,I,L){var d,u,s={},n=(d=function(){return window&&document&&document.all&&!window.atob},function(){return u===void 0&&(u=d.apply(this,arguments)),u}),m=function(F){var j={};return function(X){if(typeof X=="function")return X();if(j[X]===void 0){var W=function(V){return document.querySelector(V)}.call(this,X);if(window.HTMLIFrameElement&&W instanceof window.HTMLIFrameElement)try{W=W.contentDocument.head}catch(V){W=null}j[X]=W}return j[X]}}(),g=null,y=0,k=[],E=L(4);function C(F,j){for(var X=0;X<F.length;X++){var W=F[X],V=s[W.id];if(V){V.refs++;for(var K=0;K<V.parts.length;K++)V.parts[K](W.parts[K]);for(;K<W.parts.length;K++)V.parts.push(M(W.parts[K],j))}else{var st=[];for(K=0;K<W.parts.length;K++)st.push(M(W.parts[K],j));s[W.id]={id:W.id,refs:1,parts:st}}}}function v(F,j){for(var X=[],W={},V=0;V<F.length;V++){var K=F[V],st=j.base?K[0]+j.base:K[0],it={css:K[1],media:K[2],sourceMap:K[3]};W[st]?W[st].parts.push(it):X.push(W[st]={id:st,parts:[it]})}return X}function h(F,j){var X=m(F.insertInto);if(!X)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var W=k[k.length-1];if(F.insertAt==="top")W?W.nextSibling?X.insertBefore(j,W.nextSibling):X.appendChild(j):X.insertBefore(j,X.firstChild),k.push(j);else if(F.insertAt==="bottom")X.appendChild(j);else{if(typeof F.insertAt!="object"||!F.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var V=m(F.insertInto+" "+F.insertAt.before);X.insertBefore(j,V)}}function a(F){if(F.parentNode===null)return!1;F.parentNode.removeChild(F);var j=k.indexOf(F);j>=0&&k.splice(j,1)}function O(F){var j=document.createElement("style");return F.attrs.type===void 0&&(F.attrs.type="text/css"),_(j,F.attrs),h(F,j),j}function _(F,j){Object.keys(j).forEach(function(X){F.setAttribute(X,j[X])})}function M(F,j){var X,W,V,K;if(j.transform&&F.css){if(!(K=j.transform(F.css)))return function(){};F.css=K}if(j.singleton){var st=y++;X=g||(g=O(j)),W=$.bind(null,X,st,!1),V=$.bind(null,X,st,!0)}else F.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(X=function(it){var pt=document.createElement("link");return it.attrs.type===void 0&&(it.attrs.type="text/css"),it.attrs.rel="stylesheet",_(pt,it.attrs),h(it,pt),pt}(j),W=function(it,pt,ct){var lt=ct.css,J=ct.sourceMap,Bt=pt.convertToAbsoluteUrls===void 0&&J;(pt.convertToAbsoluteUrls||Bt)&&(lt=E(lt)),J&&(lt+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(J))))+" */");var Tt=new Blob([lt],{type:"text/css"}),Ct=it.href;it.href=URL.createObjectURL(Tt),Ct&&URL.revokeObjectURL(Ct)}.bind(null,X,j),V=function(){a(X),X.href&&URL.revokeObjectURL(X.href)}):(X=O(j),W=function(it,pt){var ct=pt.css,lt=pt.media;if(lt&&it.setAttribute("media",lt),it.styleSheet)it.styleSheet.cssText=ct;else{for(;it.firstChild;)it.removeChild(it.firstChild);it.appendChild(document.createTextNode(ct))}}.bind(null,X),V=function(){a(X)});return W(F),function(it){if(it){if(it.css===F.css&&it.media===F.media&&it.sourceMap===F.sourceMap)return;W(F=it)}else V()}}f.exports=function(F,j){if(typeof DEBUG!="undefined"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(j=j||{}).attrs=typeof j.attrs=="object"?j.attrs:{},j.singleton||typeof j.singleton=="boolean"||(j.singleton=n()),j.insertInto||(j.insertInto="head"),j.insertAt||(j.insertAt="bottom");var X=v(F,j);return C(X,j),function(W){for(var V=[],K=0;K<X.length;K++){var st=X[K];(it=s[st.id]).refs--,V.push(it)}for(W&&C(v(W,j),j),K=0;K<V.length;K++){var it;if((it=V[K]).refs===0){for(var pt=0;pt<it.parts.length;pt++)it.parts[pt]();delete s[it.id]}}}};var P,R=(P=[],function(F,j){return P[F]=j,P.filter(Boolean).join(`
`)});function $(F,j,X,W){var V=X?"":W.css;if(F.styleSheet)F.styleSheet.cssText=R(j,V);else{var K=document.createTextNode(V),st=F.childNodes;st[j]&&F.removeChild(st[j]),st.length?F.insertBefore(K,st[j]):F.appendChild(K)}}},function(f,I){f.exports=function(L){var d=typeof window!="undefined"&&window.location;if(!d)throw new Error("fixUrls requires window.location");if(!L||typeof L!="string")return L;var u=d.protocol+"//"+d.host,s=u+d.pathname.replace(/\/[^\/]*$/,"/");return L.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(n,m){var g,y=m.trim().replace(/^"(.*)"$/,function(k,E){return E}).replace(/^'(.*)'$/,function(k,E){return E});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(y)?n:(g=y.indexOf("//")===0?y:y.indexOf("/")===0?u+y:s+y.replace(/^\.\//,""),"url("+JSON.stringify(g)+")")})}},function(f,I,L){L.r(I),L(0);const d='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.5 17.5L17.5 6.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 10.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.9919 19H11.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13L13 5"/></svg>',u='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 9.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 5H14.5096"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.625 5H15C17.2091 5 19 6.79086 19 9V9.375"/><path stroke="currentColor" stroke-width="2" d="M9.375 5L9 5C6.79086 5 5 6.79086 5 9V9.375"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 5H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 9.5H5.00957"/><path stroke="currentColor" stroke-width="2" d="M9.375 19H9C6.79086 19 5 17.2091 5 15V14.625"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 19H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 14.55H5.00957"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/></svg>',s='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>';function n(k){return function(E){if(Array.isArray(E)){for(var C=0,v=new Array(E.length);C<E.length;C++)v[C]=E[C];return v}}(k)||function(E){if(Symbol.iterator in Object(E)||Object.prototype.toString.call(E)==="[object Arguments]")return Array.from(E)}(k)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function m(k,E,C){return E in k?Object.defineProperty(k,E,{value:C,enumerable:!0,configurable:!0,writable:!0}):k[E]=C,k}function g(k,E){for(var C=0;C<E.length;C++){var v=E[C];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(k,v.key,v)}}L.d(I,"default",function(){return y});var y=function(){function k(h){var a=h.data,O=(h.config,h.api),_=h.readOnly;(function(M,P){if(!(M instanceof P))throw new TypeError("Cannot call a class as a function")})(this,k),this.api=O,this.readOnly=_,this.blockIndex=this.api.blocks.getCurrentBlockIndex()+1,this.CSS={baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,wrapper:"cdx-simple-image",imageHolder:"cdx-simple-image__picture",caption:"cdx-simple-image__caption"},this.nodes={wrapper:null,imageHolder:null,image:null,caption:null},this.data={url:a.url||"",caption:a.caption||"",withBorder:a.withBorder!==void 0&&a.withBorder,withBackground:a.withBackground!==void 0&&a.withBackground,stretched:a.stretched!==void 0&&a.stretched},this.tunes=[{name:"withBorder",label:"Add Border",icon:u},{name:"stretched",label:"Stretch Image",icon:s},{name:"withBackground",label:"Add Background",icon:d}]}var E,C,v;return E=k,v=[{key:"sanitize",get:function(){return{url:{},withBorder:{},withBackground:{},stretched:{},caption:{br:!0}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png|webp)$/i},tags:[{img:{src:!0}}],files:{mimeTypes:["image/*"]}}}}],(C=[{key:"render",value:function(){var h=this,a=this._make("div",[this.CSS.baseClass,this.CSS.wrapper]),O=this._make("div",this.CSS.loading),_=this._make("div",this.CSS.imageHolder),M=this._make("img"),P=this._make("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly,innerHTML:this.data.caption||""});return P.dataset.placeholder="Enter a caption",a.appendChild(O),this.data.url&&(M.src=this.data.url),M.onload=function(){a.classList.remove(h.CSS.loading),_.appendChild(M),a.appendChild(_),a.appendChild(P),O.remove(),h._acceptTuneView()},M.onerror=function(R){console.log("Failed to load an image",R)},this.nodes.imageHolder=_,this.nodes.wrapper=a,this.nodes.image=M,this.nodes.caption=P,a}},{key:"save",value:function(h){var a=h.querySelector("img"),O=h.querySelector("."+this.CSS.input);return a?Object.assign(this.data,{url:a.src,caption:O.innerHTML}):this.data}},{key:"onDropHandler",value:function(h){var a=new FileReader;return a.readAsDataURL(h),new Promise(function(O){a.onload=function(_){O({url:_.target.result,caption:h.name})}})}},{key:"onPaste",value:function(h){var a=this;switch(h.type){case"tag":var O=h.detail.data;this.data={url:O.src};break;case"pattern":var _=h.detail.data;this.data={url:_};break;case"file":var M=h.detail.file;this.onDropHandler(M).then(function(P){a.data=P})}}},{key:"renderSettings",value:function(){var h=this;return this.tunes.map(function(a){return function(O){for(var _=1;_<arguments.length;_++){var M=arguments[_]!=null?arguments[_]:{},P=Object.keys(M);typeof Object.getOwnPropertySymbols=="function"&&(P=P.concat(Object.getOwnPropertySymbols(M).filter(function(R){return Object.getOwnPropertyDescriptor(M,R).enumerable}))),P.forEach(function(R){m(O,R,M[R])})}return O}({},a,{label:h.api.i18n.t(a.label),toggle:!0,onActivate:function(){return h._toggleTune(a.name)},isActive:!!h.data[a.name]})})}},{key:"_make",value:function(h){var a,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},M=document.createElement(h);Array.isArray(O)?(a=M.classList).add.apply(a,n(O)):O&&M.classList.add(O);for(var P in _)M[P]=_[P];return M}},{key:"_toggleTune",value:function(h){this.data[h]=!this.data[h],this._acceptTuneView()}},{key:"_acceptTuneView",value:function(){var h=this;this.tunes.forEach(function(a){h.nodes.imageHolder.classList.toggle(h.CSS.imageHolder+"--"+a.name.replace(/([A-Z])/g,function(O){return"-".concat(O[0].toLowerCase())}),!!h.data[a.name]),a.name==="stretched"&&h.api.blocks.stretchBlock(h.blockIndex,!!h.data.stretched)})}},{key:"data",get:function(){return this._data},set:function(h){this._data=Object.assign({},this.data,h),this.nodes.image&&(this.nodes.image.src=this.data.url),this.nodes.caption&&(this.nodes.caption.innerHTML=this.data.caption)}}])&&g(E.prototype,C),v&&g(E,v),k}()}]).default})})(b8);var YS=b8.exports;const VS=mc(YS);var x8={exports:{}};(function(U,l){(function(f,I){U.exports=I()})(window,function(){return function(f){var I={};function L(d){if(I[d])return I[d].exports;var u=I[d]={i:d,l:!1,exports:{}};return f[d].call(u.exports,u,u.exports,L),u.l=!0,u.exports}return L.m=f,L.c=I,L.d=function(d,u,s){L.o(d,u)||Object.defineProperty(d,u,{enumerable:!0,get:s})},L.r=function(d){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},L.t=function(d,u){if(1&u&&(d=L(d)),8&u||4&u&&typeof d=="object"&&d&&d.__esModule)return d;var s=Object.create(null);if(L.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:d}),2&u&&typeof d!="string")for(var n in d)L.d(s,n,function(m){return d[m]}.bind(null,n));return s},L.n=function(d){var u=d&&d.__esModule?function(){return d.default}:function(){return d};return L.d(u,"a",u),u},L.o=function(d,u){return Object.prototype.hasOwnProperty.call(d,u)},L.p="/",L(L.s=14)}([function(f,I,L){var d=L(5),u=L(6),s=L(7),n=L(9);f.exports=function(m,g){return d(m)||u(m,g)||s(m,g)||n()}},function(f,I){function L(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?f.exports=L=function(u){return typeof u}:f.exports=L=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},L(d)}f.exports=L},function(f,I){f.exports=function(L,d){if(!(L instanceof d))throw new TypeError("Cannot call a class as a function")}},function(f,I){function L(d,u){for(var s=0;s<u.length;s++){var n=u[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(d,n.key,n)}}f.exports=function(d,u,s){return u&&L(d.prototype,u),s&&L(d,s),d}},function(f,I){function L(d,u,s){var n,m,g,y,k;function E(){var v=Date.now()-y;v<u&&v>=0?n=setTimeout(E,u-v):(n=null,s||(k=d.apply(g,m),g=m=null))}u==null&&(u=100);var C=function(){g=this,m=arguments,y=Date.now();var v=s&&!n;return n||(n=setTimeout(E,u)),v&&(k=d.apply(g,m),g=m=null),k};return C.clear=function(){n&&(clearTimeout(n),n=null)},C.flush=function(){n&&(k=d.apply(g,m),g=m=null,clearTimeout(n),n=null)},C}L.debounce=L,f.exports=L},function(f,I){f.exports=function(L){if(Array.isArray(L))return L}},function(f,I){f.exports=function(L,d){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(L)){var u=[],s=!0,n=!1,m=void 0;try{for(var g,y=L[Symbol.iterator]();!(s=(g=y.next()).done)&&(u.push(g.value),!d||u.length!==d);s=!0);}catch(k){n=!0,m=k}finally{try{s||y.return==null||y.return()}finally{if(n)throw m}}return u}}},function(f,I,L){var d=L(8);f.exports=function(u,s){if(u){if(typeof u=="string")return d(u,s);var n=Object.prototype.toString.call(u).slice(8,-1);return n==="Object"&&u.constructor&&(n=u.constructor.name),n==="Map"||n==="Set"?Array.from(n):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(u,s):void 0}}},function(f,I){f.exports=function(L,d){(d==null||d>L.length)&&(d=L.length);for(var u=0,s=new Array(d);u<d;u++)s[u]=L[u];return s}},function(f,I){f.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(f,I,L){var d=L(11),u=L(12);typeof(u=u.__esModule?u.default:u)=="string"&&(u=[[f.i,u,""]]);var s={insert:"head",singleton:!1};d(u,s),f.exports=u.locals||{}},function(f,I,L){var d,u=function(){return d===void 0&&(d=!!(window&&document&&document.all&&!window.atob)),d},s=function(){var _={};return function(M){if(_[M]===void 0){var P=document.querySelector(M);if(window.HTMLIFrameElement&&P instanceof window.HTMLIFrameElement)try{P=P.contentDocument.head}catch(R){P=null}_[M]=P}return _[M]}}(),n=[];function m(_){for(var M=-1,P=0;P<n.length;P++)if(n[P].identifier===_){M=P;break}return M}function g(_,M){for(var P={},R=[],$=0;$<_.length;$++){var F=_[$],j=M.base?F[0]+M.base:F[0],X=P[j]||0,W="".concat(j," ").concat(X);P[j]=X+1;var V=m(W),K={css:F[1],media:F[2],sourceMap:F[3]};V!==-1?(n[V].references++,n[V].updater(K)):n.push({identifier:W,updater:O(K,M),references:1}),R.push(W)}return R}function y(_){var M=document.createElement("style"),P=_.attributes||{};if(P.nonce===void 0){var R=L.nc;R&&(P.nonce=R)}if(Object.keys(P).forEach(function(F){M.setAttribute(F,P[F])}),typeof _.insert=="function")_.insert(M);else{var $=s(_.insert||"head");if(!$)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");$.appendChild(M)}return M}var k,E=(k=[],function(_,M){return k[_]=M,k.filter(Boolean).join(`
`)});function C(_,M,P,R){var $=P?"":R.media?"@media ".concat(R.media," {").concat(R.css,"}"):R.css;if(_.styleSheet)_.styleSheet.cssText=E(M,$);else{var F=document.createTextNode($),j=_.childNodes;j[M]&&_.removeChild(j[M]),j.length?_.insertBefore(F,j[M]):_.appendChild(F)}}function v(_,M,P){var R=P.css,$=P.media,F=P.sourceMap;if($?_.setAttribute("media",$):_.removeAttribute("media"),F&&btoa&&(R+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(F))))," */")),_.styleSheet)_.styleSheet.cssText=R;else{for(;_.firstChild;)_.removeChild(_.firstChild);_.appendChild(document.createTextNode(R))}}var h=null,a=0;function O(_,M){var P,R,$;if(M.singleton){var F=a++;P=h||(h=y(M)),R=C.bind(null,P,F,!1),$=C.bind(null,P,F,!0)}else P=y(M),R=v.bind(null,P,M),$=function(){(function(j){if(j.parentNode===null)return!1;j.parentNode.removeChild(j)})(P)};return R(_),function(j){if(j){if(j.css===_.css&&j.media===_.media&&j.sourceMap===_.sourceMap)return;R(_=j)}else $()}}f.exports=function(_,M){(M=M||{}).singleton||typeof M.singleton=="boolean"||(M.singleton=u());var P=g(_=_||[],M);return function(R){if(R=R||[],Object.prototype.toString.call(R)==="[object Array]"){for(var $=0;$<P.length;$++){var F=m(P[$]);n[F].references--}for(var j=g(R,M),X=0;X<P.length;X++){var W=m(P[X]);n[W].references===0&&(n[W].updater(),n.splice(W,1))}P=j}}}},function(f,I,L){(I=L(13)(!1)).push([f.i,`.embed-tool--loading .embed-tool__caption {
      display: none;
    }

    .embed-tool--loading .embed-tool__preloader {
      display: block;
    }

    .embed-tool--loading .embed-tool__content {
      display: none;
    }
  .embed-tool__preloader {
    display: none;
    position: relative;
    height: 200px;
    box-sizing: border-box;
    border-radius: 5px;
    border: 1px solid #e6e9eb;
  }
  .embed-tool__preloader::before {
      content: '';
      position: absolute;
      z-index: 3;
      left: 50%;
      top: 50%;
      width: 30px;
      height: 30px;
      margin-top: -25px;
      margin-left: -15px;
      border-radius: 50%;
      border: 2px solid #cdd1e0;
      border-top-color: #388ae5;
      box-sizing: border-box;
      animation: embed-preloader-spin 2s infinite linear;
    }
  .embed-tool__url {
    position: absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    max-width: 250px;
    color: #7b7e89;
    font-size: 11px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  .embed-tool__content {
    width: 100%;
  }
  .embed-tool__caption {
    margin-top: 7px;
  }
  .embed-tool__caption[contentEditable=true][data-placeholder]::before{
      position: absolute;
      content: attr(data-placeholder);
      color: #707684;
      font-weight: normal;
      opacity: 0;
    }
  .embed-tool__caption[contentEditable=true][data-placeholder]:empty::before {
         opacity: 1;
      }
  .embed-tool__caption[contentEditable=true][data-placeholder]:empty:focus::before {
        opacity: 0;
      }

@keyframes embed-preloader-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
`,""]),f.exports=I},function(f,I,L){f.exports=function(d){var u=[];return u.toString=function(){return this.map(function(s){var n=function(m,g){var y=m[1]||"",k=m[3];if(!k)return y;if(g&&typeof btoa=="function"){var E=(v=k,h=btoa(unescape(encodeURIComponent(JSON.stringify(v)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(h),"/*# ".concat(a," */")),C=k.sources.map(function(O){return"/*# sourceURL=".concat(k.sourceRoot||"").concat(O," */")});return[y].concat(C).concat([E]).join(`
`)}var v,h,a;return[y].join(`
`)}(s,d);return s[2]?"@media ".concat(s[2]," {").concat(n,"}"):n}).join("")},u.i=function(s,n,m){typeof s=="string"&&(s=[[null,s,""]]);var g={};if(m)for(var y=0;y<this.length;y++){var k=this[y][0];k!=null&&(g[k]=!0)}for(var E=0;E<s.length;E++){var C=[].concat(s[E]);m&&g[C[0]]||(n&&(C[2]?C[2]="".concat(n," and ").concat(C[2]):C[2]=n),u.push(C))}},u}},function(f,I,L){L.r(I),L.d(I,"default",function(){return v});var d=L(1),u=L.n(d),s=L(0),n=L.n(s),m=L(2),g=L.n(m),y=L(3),k=L.n(y),E={vimeo:{regex:/(?:http[s]?:\/\/)?(?:www.)?(?:player.)?vimeo\.co(?:.+\/([^\/]\d+)(?:#t=[\d]+)?s?$)/,embedUrl:"https://player.vimeo.com/video/<%= remote_id %>?title=0&byline=0",html:'<iframe style="width:100%;" height="320" frameborder="0"></iframe>',height:320,width:580},youtube:{regex:/(?:https?:\/\/)?(?:www\.)?(?:(?:youtu\.be\/)|(?:youtube\.com)\/(?:v\/|u\/\w\/|embed\/|watch))(?:(?:\?v=)?([^#&?=]*))?((?:[?&]\w*=\w*)*)/,embedUrl:"https://www.youtube.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580,id:function(h){var a=n()(h,2),O=a[0],_=a[1];if(!_&&O)return O;var M={start:"start",end:"end",t:"start",time_continue:"start",list:"list"};return _=_.slice(1).split("&").map(function(P){var R=P.split("="),$=n()(R,2),F=$[0],j=$[1];return O||F!=="v"?M[F]?j==="LL"||j.startsWith("RDMM")||j.startsWith("FL")?null:"".concat(M[F],"=").concat(j):null:(O=j,null)}).filter(function(P){return!!P}),O+"?"+_.join("&")}},coub:{regex:/https?:\/\/coub\.com\/view\/([^\/\?\&]+)/,embedUrl:"https://coub.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},vine:{regex:/https?:\/\/vine\.co\/v\/([^\/\?\&]+)/,embedUrl:"https://vine.co/v/<%= remote_id %>/embed/simple/",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},imgur:{regex:/https?:\/\/(?:i\.)?imgur\.com.*\/([a-zA-Z0-9]+)(?:\.gifv)?/,embedUrl:"http://imgur.com/<%= remote_id %>/embed",html:'<iframe allowfullscreen="true" scrolling="no" id="imgur-embed-iframe-pub-<%= remote_id %>" class="imgur-embed-iframe-pub" style="height: 500px; width: 100%; border: 1px solid #000"></iframe>',height:500,width:540},gfycat:{regex:/https?:\/\/gfycat\.com(?:\/detail)?\/([a-zA-Z]+)/,embedUrl:"https://gfycat.com/ifr/<%= remote_id %>",html:`<iframe frameborder='0' scrolling='no' style="width:100%;" height='436' allowfullscreen ></iframe>`,height:436,width:580},"twitch-channel":{regex:/https?:\/\/www\.twitch\.tv\/([^\/\?\&]*)\/?$/,embedUrl:"https://player.twitch.tv/?channel=<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"twitch-video":{regex:/https?:\/\/www\.twitch\.tv\/(?:[^\/\?\&]*\/v|videos)\/([0-9]*)/,embedUrl:"https://player.twitch.tv/?video=v<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"yandex-music-album":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/?$/,embedUrl:"https://music.yandex.ru/iframe/#album/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" style="width:100%;" height="400"></iframe>',height:400,width:540},"yandex-music-track":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/track\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#track/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:100px;" style="width:100%;" height="100"></iframe>',height:100,width:540,id:function(h){return h.join("/")}},"yandex-music-playlist":{regex:/https?:\/\/music\.yandex\.ru\/users\/([^\/\?\&]*)\/playlists\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#playlist/<%= remote_id %>/show/cover/description/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" width="540" height="400"></iframe>',height:400,width:540,id:function(h){return h.join("/")}},codepen:{regex:/https?:\/\/codepen\.io\/([^\/\?\&]*)\/pen\/([^\/\?\&]*)/,embedUrl:"https://codepen.io/<%= remote_id %>?height=300&theme-id=0&default-tab=css,result&embed-version=2",html:"<iframe height='300' scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'></iframe>",height:300,width:600,id:function(h){return h.join("/embed/")}},instagram:{regex:/https?:\/\/www\.instagram\.com\/p\/([^\/\?\&]+)\/?.*/,embedUrl:"https://www.instagram.com/p/<%= remote_id %>/embed",html:'<iframe width="400" height="505" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:505,width:400},twitter:{regex:/^https?:\/\/twitter\.com\/(?:#!\/)?(\w+)\/status(?:es)?\/(\d+?.*)?$/,embedUrl:"https://twitframe.com/show?url=https://twitter.com/<%= remote_id %>",html:'<iframe width="600" height="600" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600,id:function(h){return h.join("/status/")}},pinterest:{regex:/https?:\/\/([^\/\?\&]*).pinterest.com\/pin\/([^\/\?\&]*)\/?$/,embedUrl:"https://assets.pinterest.com/ext/embed.html?id=<%= remote_id %>",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 400px; max-height: 1000px;'></iframe>",id:function(h){return h[1]}},facebook:{regex:/https?:\/\/www.facebook.com\/([^\/\?\&]*)\/(.*)/,embedUrl:"https://www.facebook.com/plugins/post.php?href=https://www.facebook.com/<%= remote_id %>&width=500",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 500px; max-height: 1000px;'></iframe>",id:function(h){return h.join("/")}},aparat:{regex:/(?:http[s]?:\/\/)?(?:www.)?aparat\.com\/v\/([^\/\?\&]+)\/?/,embedUrl:"https://www.aparat.com/video/video/embed/videohash/<%= remote_id %>/vt/frame",html:'<iframe width="600" height="300" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600},miro:{regex:/https:\/\/miro.com\/\S+(\S{12})\/(\S+)?/,embedUrl:"https://miro.com/app/live-embed/<%= remote_id %>",html:'<iframe width="700" height="500" style="margin: 0 auto;" allowFullScreen frameBorder="0" scrolling="no"></iframe>'}},C=(L(10),L(4)),v=function(){function h(a){var O=a.data,_=a.api,M=a.readOnly;g()(this,h),this.api=_,this._data={},this.element=null,this.readOnly=M,this.data=O}return k()(h,[{key:"render",value:function(){var a=this;if(!this.data.service){var O=document.createElement("div");return this.element=O,O}var _=h.services[this.data.service].html,M=document.createElement("div"),P=document.createElement("div"),R=document.createElement("template"),$=this.createPreloader();M.classList.add(this.CSS.baseClass,this.CSS.container,this.CSS.containerLoading),P.classList.add(this.CSS.input,this.CSS.caption),M.appendChild($),P.contentEditable=!this.readOnly,P.dataset.placeholder=this.api.i18n.t("Enter a caption"),P.innerHTML=this.data.caption||"",R.innerHTML=_,R.content.firstChild.setAttribute("src",this.data.embed),R.content.firstChild.classList.add(this.CSS.content);var F=this.embedIsReady(M);return M.appendChild(R.content.firstChild),M.appendChild(P),F.then(function(){M.classList.remove(a.CSS.containerLoading)}),this.element=M,M}},{key:"createPreloader",value:function(){var a=document.createElement("preloader"),O=document.createElement("div");return O.textContent=this.data.source,a.classList.add(this.CSS.preloader),O.classList.add(this.CSS.url),a.appendChild(O),a}},{key:"save",value:function(){return this.data}},{key:"onPaste",value:function(a){var O=a.detail,_=O.key,M=O.data,P=h.services[_],R=P.regex,$=P.embedUrl,F=P.width,j=P.height,X=P.id,W=X===void 0?function(st){return st.shift()}:X,V=R.exec(M).slice(1),K=$.replace(/<%= remote_id %>/g,W(V));this.data={service:_,source:M,embed:K,width:F,height:j}}},{key:"embedIsReady",value:function(a){var O=null;return new Promise(function(_,M){(O=new MutationObserver(Object(C.debounce)(_,450))).observe(a,{childList:!0,subtree:!0})}).then(function(){O.disconnect()})}},{key:"data",set:function(a){if(!(a instanceof Object))throw Error("Embed Tool data should be object");var O=a.service,_=a.source,M=a.embed,P=a.width,R=a.height,$=a.caption,F=$===void 0?"":$;this._data={service:O||this.data.service,source:_||this.data.source,embed:M||this.data.embed,width:P||this.data.width,height:R||this.data.height,caption:F||this.data.caption||""};var j=this.element;j&&j.parentNode.replaceChild(this.render(),j)},get:function(){if(this.element){var a=this.element.querySelector(".".concat(this.api.styles.input));this._data.caption=a?a.innerHTML:""}return this._data}},{key:"CSS",get:function(){return{baseClass:this.api.styles.block,input:this.api.styles.input,container:"embed-tool",containerLoading:"embed-tool--loading",preloader:"embed-tool__preloader",caption:"embed-tool__caption",url:"embed-tool__url",content:"embed-tool__content"}}}],[{key:"prepare",value:function(a){var O=a.config,_=(O===void 0?{}:O).services,M=_===void 0?{}:_,P=Object.entries(E),R=Object.entries(M).filter(function(F){var j=n()(F,2),X=(j[0],j[1]);return typeof X=="boolean"&&X===!0}).map(function(F){return n()(F,1)[0]}),$=Object.entries(M).filter(function(F){var j=n()(F,2),X=(j[0],j[1]);return u()(X)==="object"}).filter(function(F){var j=n()(F,2),X=(j[0],j[1]);return h.checkServiceConfig(X)}).map(function(F){var j=n()(F,2),X=j[0],W=j[1];return[X,{regex:W.regex,embedUrl:W.embedUrl,html:W.html,height:W.height,width:W.width,id:W.id}]});R.length&&(P=P.filter(function(F){var j=n()(F,1)[0];return R.includes(j)})),P=P.concat($),h.services=P.reduce(function(F,j){var X=n()(j,2),W=X[0],V=X[1];return W in F?(F[W]=Object.assign({},F[W],V),F):(F[W]=V,F)},{}),h.patterns=P.reduce(function(F,j){var X=n()(j,2),W=X[0],V=X[1];return F[W]=V.regex,F},{})}},{key:"checkServiceConfig",value:function(a){var O=a.regex,_=a.embedUrl,M=a.html,P=a.height,R=a.width,$=a.id,F=O&&O instanceof RegExp&&_&&typeof _=="string"&&M&&typeof M=="string";return F=(F=(F=F&&($===void 0||$ instanceof Function))&&(P===void 0||Number.isFinite(P)))&&(R===void 0||Number.isFinite(R))}},{key:"pasteConfig",get:function(){return{patterns:h.patterns}}},{key:"isReadOnlySupported",get:function(){return!0}}]),h}()}]).default})})(x8);var WS=x8.exports;const GS=mc(WS);var w8={exports:{}};(function(U,l){(function(f,I){U.exports=I()})(self,function(){return(()=>{var f={669:(u,s,n)=>{u.exports=n(609)},448:(u,s,n)=>{var m=n(867),g=n(26),y=n(372),k=n(327),E=n(97),C=n(109),v=n(985),h=n(61),a=n(655),O=n(263);u.exports=function(_){return new Promise(function(M,P){var R,$=_.data,F=_.headers,j=_.responseType;function X(){_.cancelToken&&_.cancelToken.unsubscribe(R),_.signal&&_.signal.removeEventListener("abort",R)}m.isFormData($)&&delete F["Content-Type"];var W=new XMLHttpRequest;if(_.auth){var V=_.auth.username||"",K=_.auth.password?unescape(encodeURIComponent(_.auth.password)):"";F.Authorization="Basic "+btoa(V+":"+K)}var st=E(_.baseURL,_.url);function it(){if(W){var ct="getAllResponseHeaders"in W?C(W.getAllResponseHeaders()):null,lt={data:j&&j!=="text"&&j!=="json"?W.response:W.responseText,status:W.status,statusText:W.statusText,headers:ct,config:_,request:W};g(function(J){M(J),X()},function(J){P(J),X()},lt),W=null}}if(W.open(_.method.toUpperCase(),k(st,_.params,_.paramsSerializer),!0),W.timeout=_.timeout,"onloadend"in W?W.onloadend=it:W.onreadystatechange=function(){W&&W.readyState===4&&(W.status!==0||W.responseURL&&W.responseURL.indexOf("file:")===0)&&setTimeout(it)},W.onabort=function(){W&&(P(h("Request aborted",_,"ECONNABORTED",W)),W=null)},W.onerror=function(){P(h("Network Error",_,null,W)),W=null},W.ontimeout=function(){var ct=_.timeout?"timeout of "+_.timeout+"ms exceeded":"timeout exceeded",lt=_.transitional||a.transitional;_.timeoutErrorMessage&&(ct=_.timeoutErrorMessage),P(h(ct,_,lt.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",W)),W=null},m.isStandardBrowserEnv()){var pt=(_.withCredentials||v(st))&&_.xsrfCookieName?y.read(_.xsrfCookieName):void 0;pt&&(F[_.xsrfHeaderName]=pt)}"setRequestHeader"in W&&m.forEach(F,function(ct,lt){$===void 0&&lt.toLowerCase()==="content-type"?delete F[lt]:W.setRequestHeader(lt,ct)}),m.isUndefined(_.withCredentials)||(W.withCredentials=!!_.withCredentials),j&&j!=="json"&&(W.responseType=_.responseType),typeof _.onDownloadProgress=="function"&&W.addEventListener("progress",_.onDownloadProgress),typeof _.onUploadProgress=="function"&&W.upload&&W.upload.addEventListener("progress",_.onUploadProgress),(_.cancelToken||_.signal)&&(R=function(ct){W&&(P(!ct||ct&&ct.type?new O("canceled"):ct),W.abort(),W=null)},_.cancelToken&&_.cancelToken.subscribe(R),_.signal&&(_.signal.aborted?R():_.signal.addEventListener("abort",R))),$||($=null),W.send($)})}},609:(u,s,n)=>{var m=n(867),g=n(849),y=n(321),k=n(185),E=function C(v){var h=new y(v),a=g(y.prototype.request,h);return m.extend(a,y.prototype,h),m.extend(a,h),a.create=function(O){return C(k(v,O))},a}(n(655));E.Axios=y,E.Cancel=n(263),E.CancelToken=n(972),E.isCancel=n(502),E.VERSION=n(288).version,E.all=function(C){return Promise.all(C)},E.spread=n(713),E.isAxiosError=n(268),u.exports=E,u.exports.default=E},263:u=>{function s(n){this.message=n}s.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},s.prototype.__CANCEL__=!0,u.exports=s},972:(u,s,n)=>{var m=n(263);function g(y){if(typeof y!="function")throw new TypeError("executor must be a function.");var k;this.promise=new Promise(function(C){k=C});var E=this;this.promise.then(function(C){if(E._listeners){var v,h=E._listeners.length;for(v=0;v<h;v++)E._listeners[v](C);E._listeners=null}}),this.promise.then=function(C){var v,h=new Promise(function(a){E.subscribe(a),v=a}).then(C);return h.cancel=function(){E.unsubscribe(v)},h},y(function(C){E.reason||(E.reason=new m(C),k(E.reason))})}g.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},g.prototype.subscribe=function(y){this.reason?y(this.reason):this._listeners?this._listeners.push(y):this._listeners=[y]},g.prototype.unsubscribe=function(y){if(this._listeners){var k=this._listeners.indexOf(y);k!==-1&&this._listeners.splice(k,1)}},g.source=function(){var y;return{token:new g(function(k){y=k}),cancel:y}},u.exports=g},502:u=>{u.exports=function(s){return!(!s||!s.__CANCEL__)}},321:(u,s,n)=>{var m=n(867),g=n(327),y=n(782),k=n(572),E=n(185),C=n(875),v=C.validators;function h(a){this.defaults=a,this.interceptors={request:new y,response:new y}}h.prototype.request=function(a,O){typeof a=="string"?(O=O||{}).url=a:O=a||{},(O=E(this.defaults,O)).method?O.method=O.method.toLowerCase():this.defaults.method?O.method=this.defaults.method.toLowerCase():O.method="get";var _=O.transitional;_!==void 0&&C.assertOptions(_,{silentJSONParsing:v.transitional(v.boolean),forcedJSONParsing:v.transitional(v.boolean),clarifyTimeoutError:v.transitional(v.boolean)},!1);var M=[],P=!0;this.interceptors.request.forEach(function(V){typeof V.runWhen=="function"&&V.runWhen(O)===!1||(P=P&&V.synchronous,M.unshift(V.fulfilled,V.rejected))});var R,$=[];if(this.interceptors.response.forEach(function(V){$.push(V.fulfilled,V.rejected)}),!P){var F=[k,void 0];for(Array.prototype.unshift.apply(F,M),F=F.concat($),R=Promise.resolve(O);F.length;)R=R.then(F.shift(),F.shift());return R}for(var j=O;M.length;){var X=M.shift(),W=M.shift();try{j=X(j)}catch(V){W(V);break}}try{R=k(j)}catch(V){return Promise.reject(V)}for(;$.length;)R=R.then($.shift(),$.shift());return R},h.prototype.getUri=function(a){return a=E(this.defaults,a),g(a.url,a.params,a.paramsSerializer).replace(/^\?/,"")},m.forEach(["delete","get","head","options"],function(a){h.prototype[a]=function(O,_){return this.request(E(_||{},{method:a,url:O,data:(_||{}).data}))}}),m.forEach(["post","put","patch"],function(a){h.prototype[a]=function(O,_,M){return this.request(E(M||{},{method:a,url:O,data:_}))}}),u.exports=h},782:(u,s,n)=>{var m=n(867);function g(){this.handlers=[]}g.prototype.use=function(y,k,E){return this.handlers.push({fulfilled:y,rejected:k,synchronous:!!E&&E.synchronous,runWhen:E?E.runWhen:null}),this.handlers.length-1},g.prototype.eject=function(y){this.handlers[y]&&(this.handlers[y]=null)},g.prototype.forEach=function(y){m.forEach(this.handlers,function(k){k!==null&&y(k)})},u.exports=g},97:(u,s,n)=>{var m=n(793),g=n(303);u.exports=function(y,k){return y&&!m(k)?g(y,k):k}},61:(u,s,n)=>{var m=n(481);u.exports=function(g,y,k,E,C){var v=new Error(g);return m(v,y,k,E,C)}},572:(u,s,n)=>{var m=n(867),g=n(527),y=n(502),k=n(655),E=n(263);function C(v){if(v.cancelToken&&v.cancelToken.throwIfRequested(),v.signal&&v.signal.aborted)throw new E("canceled")}u.exports=function(v){return C(v),v.headers=v.headers||{},v.data=g.call(v,v.data,v.headers,v.transformRequest),v.headers=m.merge(v.headers.common||{},v.headers[v.method]||{},v.headers),m.forEach(["delete","get","head","post","put","patch","common"],function(h){delete v.headers[h]}),(v.adapter||k.adapter)(v).then(function(h){return C(v),h.data=g.call(v,h.data,h.headers,v.transformResponse),h},function(h){return y(h)||(C(v),h&&h.response&&(h.response.data=g.call(v,h.response.data,h.response.headers,v.transformResponse))),Promise.reject(h)})}},481:u=>{u.exports=function(s,n,m,g,y){return s.config=n,m&&(s.code=m),s.request=g,s.response=y,s.isAxiosError=!0,s.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},s}},185:(u,s,n)=>{var m=n(867);u.exports=function(g,y){y=y||{};var k={};function E(_,M){return m.isPlainObject(_)&&m.isPlainObject(M)?m.merge(_,M):m.isPlainObject(M)?m.merge({},M):m.isArray(M)?M.slice():M}function C(_){return m.isUndefined(y[_])?m.isUndefined(g[_])?void 0:E(void 0,g[_]):E(g[_],y[_])}function v(_){if(!m.isUndefined(y[_]))return E(void 0,y[_])}function h(_){return m.isUndefined(y[_])?m.isUndefined(g[_])?void 0:E(void 0,g[_]):E(void 0,y[_])}function a(_){return _ in y?E(g[_],y[_]):_ in g?E(void 0,g[_]):void 0}var O={url:v,method:v,data:v,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:a};return m.forEach(Object.keys(g).concat(Object.keys(y)),function(_){var M=O[_]||C,P=M(_);m.isUndefined(P)&&M!==a||(k[_]=P)}),k}},26:(u,s,n)=>{var m=n(61);u.exports=function(g,y,k){var E=k.config.validateStatus;k.status&&E&&!E(k.status)?y(m("Request failed with status code "+k.status,k.config,null,k.request,k)):g(k)}},527:(u,s,n)=>{var m=n(867),g=n(655);u.exports=function(y,k,E){var C=this||g;return m.forEach(E,function(v){y=v.call(C,y,k)}),y}},655:(u,s,n)=>{var m=n(867),g=n(16),y=n(481),k={"Content-Type":"application/x-www-form-urlencoded"};function E(h,a){!m.isUndefined(h)&&m.isUndefined(h["Content-Type"])&&(h["Content-Type"]=a)}var C,v={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:((typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(C=n(448)),C),transformRequest:[function(h,a){return g(a,"Accept"),g(a,"Content-Type"),m.isFormData(h)||m.isArrayBuffer(h)||m.isBuffer(h)||m.isStream(h)||m.isFile(h)||m.isBlob(h)?h:m.isArrayBufferView(h)?h.buffer:m.isURLSearchParams(h)?(E(a,"application/x-www-form-urlencoded;charset=utf-8"),h.toString()):m.isObject(h)||a&&a["Content-Type"]==="application/json"?(E(a,"application/json"),function(O,_,M){if(m.isString(O))try{return(0,JSON.parse)(O),m.trim(O)}catch(P){if(P.name!=="SyntaxError")throw P}return(0,JSON.stringify)(O)}(h)):h}],transformResponse:[function(h){var a=this.transitional||v.transitional,O=a&&a.silentJSONParsing,_=a&&a.forcedJSONParsing,M=!O&&this.responseType==="json";if(M||_&&m.isString(h)&&h.length)try{return JSON.parse(h)}catch(P){if(M)throw P.name==="SyntaxError"?y(P,this,"E_JSON_PARSE"):P}return h}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(h){return h>=200&&h<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};m.forEach(["delete","get","head"],function(h){v.headers[h]={}}),m.forEach(["post","put","patch"],function(h){v.headers[h]=m.merge(k)}),u.exports=v},288:u=>{u.exports={version:"0.26.0"}},849:u=>{u.exports=function(s,n){return function(){for(var m=new Array(arguments.length),g=0;g<m.length;g++)m[g]=arguments[g];return s.apply(n,m)}}},327:(u,s,n)=>{var m=n(867);function g(y){return encodeURIComponent(y).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}u.exports=function(y,k,E){if(!k)return y;var C;if(E)C=E(k);else if(m.isURLSearchParams(k))C=k.toString();else{var v=[];m.forEach(k,function(a,O){a!=null&&(m.isArray(a)?O+="[]":a=[a],m.forEach(a,function(_){m.isDate(_)?_=_.toISOString():m.isObject(_)&&(_=JSON.stringify(_)),v.push(g(O)+"="+g(_))}))}),C=v.join("&")}if(C){var h=y.indexOf("#");h!==-1&&(y=y.slice(0,h)),y+=(y.indexOf("?")===-1?"?":"&")+C}return y}},303:u=>{u.exports=function(s,n){return n?s.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):s}},372:(u,s,n)=>{var m=n(867);u.exports=m.isStandardBrowserEnv()?{write:function(g,y,k,E,C,v){var h=[];h.push(g+"="+encodeURIComponent(y)),m.isNumber(k)&&h.push("expires="+new Date(k).toGMTString()),m.isString(E)&&h.push("path="+E),m.isString(C)&&h.push("domain="+C),v===!0&&h.push("secure"),document.cookie=h.join("; ")},read:function(g){var y=document.cookie.match(new RegExp("(^|;\\s*)("+g+")=([^;]*)"));return y?decodeURIComponent(y[3]):null},remove:function(g){this.write(g,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},793:u=>{u.exports=function(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}},268:(u,s,n)=>{var m=n(867);u.exports=function(g){return m.isObject(g)&&g.isAxiosError===!0}},985:(u,s,n)=>{var m=n(867);u.exports=m.isStandardBrowserEnv()?function(){var g,y=/(msie|trident)/i.test(navigator.userAgent),k=document.createElement("a");function E(C){var v=C;return y&&(k.setAttribute("href",v),v=k.href),k.setAttribute("href",v),{href:k.href,protocol:k.protocol?k.protocol.replace(/:$/,""):"",host:k.host,search:k.search?k.search.replace(/^\?/,""):"",hash:k.hash?k.hash.replace(/^#/,""):"",hostname:k.hostname,port:k.port,pathname:k.pathname.charAt(0)==="/"?k.pathname:"/"+k.pathname}}return g=E(window.location.href),function(C){var v=m.isString(C)?E(C):C;return v.protocol===g.protocol&&v.host===g.host}}():function(){return!0}},16:(u,s,n)=>{var m=n(867);u.exports=function(g,y){m.forEach(g,function(k,E){E!==y&&E.toUpperCase()===y.toUpperCase()&&(g[y]=k,delete g[E])})}},109:(u,s,n)=>{var m=n(867),g=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];u.exports=function(y){var k,E,C,v={};return y&&m.forEach(y.split(`
`),function(h){if(C=h.indexOf(":"),k=m.trim(h.substr(0,C)).toLowerCase(),E=m.trim(h.substr(C+1)),k){if(v[k]&&g.indexOf(k)>=0)return;v[k]=k==="set-cookie"?(v[k]?v[k]:[]).concat([E]):v[k]?v[k]+", "+E:E}}),v}},713:u=>{u.exports=function(s){return function(n){return s.apply(null,n)}}},875:(u,s,n)=>{var m=n(288).version,g={};["object","boolean","number","function","string","symbol"].forEach(function(k,E){g[k]=function(C){return typeof C===k||"a"+(E<1?"n ":" ")+k}});var y={};g.transitional=function(k,E,C){function v(h,a){return"[Axios v"+m+"] Transitional option '"+h+"'"+a+(C?". "+C:"")}return function(h,a,O){if(k===!1)throw new Error(v(a," has been removed"+(E?" in "+E:"")));return E&&!y[a]&&(y[a]=!0,console.warn(v(a," has been deprecated since v"+E+" and will be removed in the near future"))),!k||k(h,a,O)}},u.exports={assertOptions:function(k,E,C){if(typeof k!="object")throw new TypeError("options must be an object");for(var v=Object.keys(k),h=v.length;h-- >0;){var a=v[h],O=E[a];if(O){var _=k[a],M=_===void 0||O(_,a,k);if(M!==!0)throw new TypeError("option "+a+" must be "+M)}else if(C!==!0)throw Error("Unknown option "+a)}},validators:g}},867:(u,s,n)=>{var m=n(849),g=Object.prototype.toString;function y(O){return Array.isArray(O)}function k(O){return O===void 0}function E(O){return g.call(O)==="[object ArrayBuffer]"}function C(O){return O!==null&&typeof O=="object"}function v(O){if(g.call(O)!=="[object Object]")return!1;var _=Object.getPrototypeOf(O);return _===null||_===Object.prototype}function h(O){return g.call(O)==="[object Function]"}function a(O,_){if(O!=null)if(typeof O!="object"&&(O=[O]),y(O))for(var M=0,P=O.length;M<P;M++)_.call(null,O[M],M,O);else for(var R in O)Object.prototype.hasOwnProperty.call(O,R)&&_.call(null,O[R],R,O)}u.exports={isArray:y,isArrayBuffer:E,isBuffer:function(O){return O!==null&&!k(O)&&O.constructor!==null&&!k(O.constructor)&&typeof O.constructor.isBuffer=="function"&&O.constructor.isBuffer(O)},isFormData:function(O){return g.call(O)==="[object FormData]"},isArrayBufferView:function(O){return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ArrayBuffer.isView(O):O&&O.buffer&&E(O.buffer)},isString:function(O){return typeof O=="string"},isNumber:function(O){return typeof O=="number"},isObject:C,isPlainObject:v,isUndefined:k,isDate:function(O){return g.call(O)==="[object Date]"},isFile:function(O){return g.call(O)==="[object File]"},isBlob:function(O){return g.call(O)==="[object Blob]"},isFunction:h,isStream:function(O){return C(O)&&h(O.pipe)},isURLSearchParams:function(O){return g.call(O)==="[object URLSearchParams]"},isStandardBrowserEnv:function(){return(typeof navigator=="undefined"||navigator.product!=="ReactNative"&&navigator.product!=="NativeScript"&&navigator.product!=="NS")&&typeof window!="undefined"&&typeof document!="undefined"},forEach:a,merge:function O(){var _={};function M($,F){v(_[F])&&v($)?_[F]=O(_[F],$):v($)?_[F]=O({},$):y($)?_[F]=$.slice():_[F]=$}for(var P=0,R=arguments.length;P<R;P++)a(arguments[P],M);return _},extend:function(O,_,M){return a(_,function(P,R){O[R]=M&&typeof P=="function"?m(P,M):P}),O},trim:function(O){return O.trim?O.trim():O.replace(/^\s+|\s+$/g,"")},stripBOM:function(O){return O.charCodeAt(0)===65279&&(O=O.slice(1)),O}}},424:(u,s,n)=>{n.d(s,{Z:()=>E});var m=n(81),g=n.n(m),y=n(645),k=n.n(y)()(g());k.push([u.id,`.cdx-loader {
  border: none;
  margin: auto;
}

.inline-image .cdx-loader {
  min-height: 200px;
}

.inline-image .cdx-input {
  margin-top: 10px;
}

.inline-image img {
  max-width: 100%;
  vertical-align: bottom;
}

.inline-image__caption[contentEditable=true][data-placeholder]:empty::before {
  position: absolute;
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
 }

.inline-image__caption[contentEditable=true][data-placeholder]:empty::before {
  opacity: 1;
}

.inline-image__caption[contentEditable=true][data-placeholder]:empty:focus::before {
  opacity: 0;
}

.inline-image__picture--withBackground {
  background: #eff2f5;
  padding: 10px;
  text-align: center;
}

.inline-image__picture--withBackground img {
  max-width: 60%;
  margin: 0 auto;
}


.inline-image__picture--withBorder {
  border: 1px solid #e8e8eb;
  padding: 1px;
}

.inline-image__picture--stretched img {
  max-width: none;
  width: 100%;
}

.inline-image__tab-wrapper {
  display: flex;
  margin-bottom: 5px;
  border-bottom-style: solid;
  border-bottom-width: 1px;
  border-bottom-color: lightgray;
}

.inline-image__tab {
  padding: 5px;
  cursor: pointer;
}

.inline-image__tab:hover {
  background: #eff2f5;
}

.inline-image__tab.active {
  border-width: 0 0 3px 0;
  border-style: solid;
  border-color: #388ae5;
}

.inline-image__embed-button {
  width: 50%;
  background-color: #388ae5;
  color: white;
  text-align: center;
  margin: auto;
  cursor: pointer;
}

.inline-image__embed-button:hover {
  opacity: 0.9;
}

.inline-image__control-panel {
  padding: 10px;
  border-radius: 4px;
  box-shadow: rgba(15, 15, 15, 0.05) 0px 0px 0px 1px,
    rgba(15, 15, 15, 0.1) 0px 3px 6px,
    rgba(15, 15, 15, 0.2) 0px 9px 24px;
}

.inline-image__image-gallery {
  max-height: 400px;
  display: flex;
  flex-wrap: wrap;
  align-content: flex-start;
  background: white;
  margin: 5px;
}

.inline-image__img-wrapper {
    width: 25%;
}

.inline-image__thumb {
  display: block;
  object-fit: cover;
  border-radius: 10px;
  width: 90%;
  height: 105px;
  padding: 5px;
  object-position: center 0%;
  cursor: pointer;
}

.inline-image__image-credits {
  font-size: 12px;
  text-align: center;
  margin-bottom: 5px;
  color: gray;
}

.inline-image__image-credits a {
  color: gray;
}

.inline-image__search {
  margin: 10px;
  width: 96%;
}

.inline-image__no-results{
  width: 100%;
  text-align: center;
  margin: 20px;
}

.panel-hidden {
  display: none;
}

.panel-scroll {
  overflow-y: scroll;
}

.modal {
  z-index: 1;
  position: fixed;
  display: none;
  inset: 0;
  justify-content: center;
  align-items: center;
  overflow: hidden;
  background-color: rgba(0,0,0,0.8);
}

.modal-content {
  position: relative;
  margin: 0;
}

.modal-img {
  object-fit: cover;
  max-width:100%;
  max-height:100%;
}

.close {
  color: #aaaaaa;
  font-size: 28px;
  font-weight: bold;
  position: absolute;
  right: 10px;
}

.close:hover,
.close:focus {
  color: #000;
  text-decoration: none;
  cursor: pointer;
}
`,""]);const E=k},645:u=>{u.exports=function(s){var n=[];return n.toString=function(){return this.map(function(m){var g="",y=m[5]!==void 0;return m[4]&&(g+="@supports (".concat(m[4],") {")),m[2]&&(g+="@media ".concat(m[2]," {")),y&&(g+="@layer".concat(m[5].length>0?" ".concat(m[5]):""," {")),g+=s(m),y&&(g+="}"),m[2]&&(g+="}"),m[4]&&(g+="}"),g}).join("")},n.i=function(m,g,y,k,E){typeof m=="string"&&(m=[[null,m,void 0]]);var C={};if(y)for(var v=0;v<this.length;v++){var h=this[v][0];h!=null&&(C[h]=!0)}for(var a=0;a<m.length;a++){var O=[].concat(m[a]);y&&C[O[0]]||(E!==void 0&&(O[5]===void 0||(O[1]="@layer".concat(O[5].length>0?" ".concat(O[5]):""," {").concat(O[1],"}")),O[5]=E),g&&(O[2]&&(O[1]="@media ".concat(O[2]," {").concat(O[1],"}")),O[2]=g),k&&(O[4]?(O[1]="@supports (".concat(O[4],") {").concat(O[1],"}"),O[4]=k):O[4]="".concat(k)),n.push(O))}},n}},81:u=>{u.exports=function(s){return s[1]}},459:(u,s)=>{function n(g){return function(y,k,E,C){var v=E/C,h=y/k,a=y,O=k;return(g?v>h:v<h)?O=a/v:a=O*v,{width:a,height:O,x:(y-a)/2,y:(k-O)/2}}}var m=n(!0);s.XS=m},379:u=>{var s=[];function n(y){for(var k=-1,E=0;E<s.length;E++)if(s[E].identifier===y){k=E;break}return k}function m(y,k){for(var E={},C=[],v=0;v<y.length;v++){var h=y[v],a=k.base?h[0]+k.base:h[0],O=E[a]||0,_="".concat(a," ").concat(O);E[a]=O+1;var M=n(_),P={css:h[1],media:h[2],sourceMap:h[3],supports:h[4],layer:h[5]};if(M!==-1)s[M].references++,s[M].updater(P);else{var R=g(P,k);k.byIndex=v,s.splice(v,0,{identifier:_,updater:R,references:1})}C.push(_)}return C}function g(y,k){var E=k.domAPI(k);return E.update(y),function(C){if(C){if(C.css===y.css&&C.media===y.media&&C.sourceMap===y.sourceMap&&C.supports===y.supports&&C.layer===y.layer)return;E.update(y=C)}else E.remove()}}u.exports=function(y,k){var E=m(y=y||[],k=k||{});return function(C){C=C||[];for(var v=0;v<E.length;v++){var h=n(E[v]);s[h].references--}for(var a=m(C,k),O=0;O<E.length;O++){var _=n(E[O]);s[_].references===0&&(s[_].updater(),s.splice(_,1))}E=a}}},569:u=>{var s={};u.exports=function(n,m){var g=function(y){if(s[y]===void 0){var k=document.querySelector(y);if(window.HTMLIFrameElement&&k instanceof window.HTMLIFrameElement)try{k=k.contentDocument.head}catch(E){k=null}s[y]=k}return s[y]}(n);if(!g)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");g.appendChild(m)}},216:u=>{u.exports=function(s){var n=document.createElement("style");return s.setAttributes(n,s.attributes),s.insert(n,s.options),n}},565:(u,s,n)=>{u.exports=function(m){var g=n.nc;g&&m.setAttribute("nonce",g)}},795:u=>{u.exports=function(s){var n=s.insertStyleElement(s);return{update:function(m){(function(g,y,k){var E="";k.supports&&(E+="@supports (".concat(k.supports,") {")),k.media&&(E+="@media ".concat(k.media," {"));var C=k.layer!==void 0;C&&(E+="@layer".concat(k.layer.length>0?" ".concat(k.layer):""," {")),E+=k.css,C&&(E+="}"),k.media&&(E+="}"),k.supports&&(E+="}");var v=k.sourceMap;v&&typeof btoa!="undefined"&&(E+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(v))))," */")),y.styleTagTransform(E,g,y.options)})(n,s,m)},remove:function(){(function(m){if(m.parentNode===null)return!1;m.parentNode.removeChild(m)})(n)}}}},589:u=>{u.exports=function(s,n){if(n.styleSheet)n.styleSheet.cssText=s;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(s))}}},330:u=>{u.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.043 8.265l3.183-3.183h-2.924L4.75 10.636v2.923l4.15-4.15v2.351l-2.158 2.159H8.9v2.137H4.7c-1.215 0-2.2-.936-2.2-2.09v-8.93c0-1.154.985-2.09 2.2-2.09h10.663l.033-.033.034.034c1.178.04 2.12.96 2.12 2.089v3.23H15.3V5.359l-2.906 2.906h-2.35zM7.951 5.082H4.75v3.201l3.201-3.2zm5.099 7.078v3.04h4.15v-3.04h-4.15zm-1.1-2.137h6.35c.635 0 1.15.489 1.15 1.092v5.13c0 .603-.515 1.092-1.15 1.092h-6.35c-.635 0-1.15-.489-1.15-1.092v-5.13c0-.603.515-1.092 1.15-1.092z"></path></svg>'},98:u=>{u.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.8 10.592v2.043h2.35v2.138H15.8v2.232h-2.25v-2.232h-2.4v-2.138h2.4v-2.28h2.25v.237h1.15-1.15zM1.9 8.455v-3.42c0-1.154.985-2.09 2.2-2.09h4.2v2.137H4.15v3.373H1.9zm0 2.137h2.25v3.325H8.3v2.138H4.1c-1.215 0-2.2-.936-2.2-2.09v-3.373zm15.05-2.137H14.7V5.082h-4.15V2.945h4.2c1.215 0 2.2.936 2.2 2.09v3.42z"></path></svg>'},586:u=>{u.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 24" width="20" height="20"><path d="M19,2H5A3,3,0,0,0,2,5V19a3,3,0,0,0,3,3H19a2.81,2.81,0,0,0,.49-.05l.3-.07.07,0h0l.05,0,.37-.14.13-.07c.1-.06.21-.11.31-.18a3.79,3.79,0,0,0,.38-.32l.07-.09a2.69,2.69,0,0,0,.27-.32l.09-.13a2.31,2.31,0,0,0,.18-.35,1,1,0,0,0,.07-.15c.05-.12.08-.25.12-.38l0-.15A2.6,2.6,0,0,0,22,19V5A3,3,0,0,0,19,2ZM5,20a1,1,0,0,1-1-1V14.69l3.29-3.3h0a1,1,0,0,1,1.42,0L17.31,20Zm15-1a1,1,0,0,1-.07.36,1,1,0,0,1-.08.14.94.94,0,0,1-.09.12l-5.35-5.35.88-.88a1,1,0,0,1,1.42,0h0L20,16.69Zm0-5.14L18.12,12a3.08,3.08,0,0,0-4.24,0l-.88.88L10.12,10a3.08,3.08,0,0,0-4.24,0L4,11.86V5A1,1,0,0,1,5,4H19a1,1,0,0,1,1,1ZM13.5,6A1.5,1.5,0,1,0,15,7.5,1.5,1.5,0,0,0,13.5,6Z"></path></svg>'}},I={};function L(u){var s=I[u];if(s!==void 0)return s.exports;var n=I[u]={id:u,exports:{}};return f[u](n,n.exports,L),n.exports}L.n=u=>{var s=u&&u.__esModule?()=>u.default:()=>u;return L.d(s,{a:s}),s},L.d=(u,s)=>{for(var n in s)L.o(s,n)&&!L.o(u,n)&&Object.defineProperty(u,n,{enumerable:!0,get:s[n]})},L.o=(u,s)=>Object.prototype.hasOwnProperty.call(u,s);var d={};return(()=>{L.d(d,{default:()=>re});var u=L(379),s=L.n(u),n=L(795),m=L.n(n),g=L(569),y=L.n(g),k=L(565),E=L.n(k),C=L(216),v=L.n(C),h=L(589),a=L.n(h),O=L(424),_={};function M(_t){return function(ut){if(Array.isArray(ut))return P(ut)}(_t)||function(ut){if(typeof Symbol!="undefined"&&ut[Symbol.iterator]!=null||ut["@@iterator"]!=null)return Array.from(ut)}(_t)||function(ut,Mt){if(ut){if(typeof ut=="string")return P(ut,Mt);var qt=Object.prototype.toString.call(ut).slice(8,-1);return qt==="Object"&&ut.constructor&&(qt=ut.constructor.name),qt==="Map"||qt==="Set"?Array.from(ut):qt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(qt)?P(ut,Mt):void 0}}(_t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function P(_t,ut){(ut==null||ut>_t.length)&&(ut=_t.length);for(var Mt=0,qt=new Array(ut);Mt<ut;Mt++)qt[Mt]=_t[Mt];return qt}_.styleTagTransform=a(),_.setAttributes=E(),_.insert=y().bind(null,"head"),_.domAPI=m(),_.insertStyleElement=v(),s()(O.Z,_),O.Z&&O.Z.locals&&O.Z.locals;var R=function(_t){var ut,Mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,qt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Nt=document.createElement(_t);return Array.isArray(Mt)?(ut=Nt.classList).add.apply(ut,M(Mt)):Mt&&Nt.classList.add(Mt),Object.keys(qt).forEach(function(Vt){Nt[Vt]=qt[Vt]}),Nt},$=function(_t){var ut=_t.appName,Mt=_t.author,qt=_t.profileLink,Nt=R("div","inline-image__image-credits"),Vt=R("div",null,{innerHTML:"by ",style:"display: inline;"}),Ut=R("a","",{href:"".concat(qt,"?utm_source=").concat(ut,"&utm_medium=referral"),innerHTML:Mt,target:"_blank"}),Wt=R("div",null,{innerHTML:" on ",style:"display: inline;"}),Ft=R("a","",{href:"https://unsplash.com/?utm_source=".concat(ut,"&utm_medium=referral"),innerHTML:"Unsplash",target:"_blank"});return Nt.appendChild(Vt),Nt.appendChild(Ut),Nt.appendChild(Wt),Nt.appendChild(Ft),Nt};function F(_t,ut){for(var Mt=0;Mt<ut.length;Mt++){var qt=ut[Mt];qt.enumerable=qt.enumerable||!1,qt.configurable=!0,"value"in qt&&(qt.writable=!0),Object.defineProperty(_t,qt.key,qt)}}var j=function(){function _t(qt){var Nt=qt.cssClasses,Vt=qt.settings,Ut=qt.onTuneToggled;(function(Wt,Ft){if(!(Wt instanceof Ft))throw new TypeError("Cannot call a class as a function")})(this,_t),this.cssClasses=Nt,this.onTuneToggled=Ut,this.settings=Vt,this.buttons=[]}var ut,Mt;return ut=_t,(Mt=[{key:"render",value:function(qt){var Nt=this,Vt=R("div");return this.buttons=[],this.settings.forEach(function(Ut){var Wt=R("div",null,{innerHTML:Ut.icon,onclick:function(){return Nt.tuneClicked(Ut.name)}});Wt.classList.add(Nt.cssClasses.settingsButton),Wt.dataset.tune=Ut.name,Wt.classList.toggle(Nt.cssClasses.settingsButtonActive,qt[Ut.name]),Nt.buttons.push(Wt),Vt.appendChild(Wt)}),Vt}},{key:"tuneClicked",value:function(qt){var Nt=this.buttons.find(function(Vt){return Vt.dataset.tune===qt});Nt.classList.toggle(this.cssClasses.settingsButtonActive,!Nt.classList.contains(this.cssClasses.settingsButtonActive)),this.onTuneToggled(qt)}}])&&F(ut.prototype,Mt),Object.defineProperty(ut,"prototype",{writable:!1}),_t}(),X=L(669),W=L.n(X);function V(_t,ut){for(var Mt=0;Mt<ut.length;Mt++){var qt=ut[Mt];qt.enumerable=qt.enumerable||!1,qt.configurable=!0,"value"in qt&&(qt.writable=!0),Object.defineProperty(_t,qt.key,qt)}}var K=function(){function _t(qt){(function(Nt,Vt){if(!(Nt instanceof Vt))throw new TypeError("Cannot call a class as a function")})(this,_t),this.apiUrl=qt&&qt.apiUrl?qt.apiUrl:"https://api.unsplash.com",this.clientId=qt&&qt.clientId?qt.clientId:"",this.perPage=qt&&qt.maxResults?qt.maxResults:30}var ut,Mt;return ut=_t,(Mt=[{key:"searchImages",value:function(qt,Nt){var Vt=this;W().get("".concat(this.apiUrl,"/search/photos"),{params:{client_id:this.clientId,query:qt,per_page:this.perPage}}).then(function(Ut){return Nt(Vt.parseResponse(Ut.data))}).catch(function(){return Nt([])})}},{key:"parseResponse",value:function(qt){var Nt=this;return qt.results.map(function(Vt){return Nt.buildImageObject(Vt)})}},{key:"buildImageObject",value:function(qt){return{url:qt.urls.full,thumb:qt.urls.thumb,downloadLocation:qt.links.download_location,author:qt.user.name,profileLink:qt.user.links.html}}},{key:"downloadImage",value:function(qt){W().get(qt,{params:{client_id:this.clientId}}).catch(function(Nt){return console.log(Nt)})}}])&&V(ut.prototype,Mt),Object.defineProperty(ut,"prototype",{writable:!1}),_t}();function st(_t,ut){var Mt=Object.keys(_t);if(Object.getOwnPropertySymbols){var qt=Object.getOwnPropertySymbols(_t);ut&&(qt=qt.filter(function(Nt){return Object.getOwnPropertyDescriptor(_t,Nt).enumerable})),Mt.push.apply(Mt,qt)}return Mt}function it(_t){for(var ut=1;ut<arguments.length;ut++){var Mt=arguments[ut]!=null?arguments[ut]:{};ut%2?st(Object(Mt),!0).forEach(function(qt){pt(_t,qt,Mt[qt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_t,Object.getOwnPropertyDescriptors(Mt)):st(Object(Mt)).forEach(function(qt){Object.defineProperty(_t,qt,Object.getOwnPropertyDescriptor(Mt,qt))})}return _t}function pt(_t,ut,Mt){return ut in _t?Object.defineProperty(_t,ut,{value:Mt,enumerable:!0,configurable:!0,writable:!0}):_t[ut]=Mt,_t}function ct(_t,ut){for(var Mt=0;Mt<ut.length;Mt++){var qt=ut[Mt];qt.enumerable=qt.enumerable||!1,qt.configurable=!0,"value"in qt&&(qt.writable=!0),Object.defineProperty(_t,qt.key,qt)}}var lt=function(){function _t(qt){var Nt=qt.api,Vt=qt.config,Ut=qt.cssClasses,Wt=qt.onSelectImage,Ft=qt.readOnly;(function(jt,ee){if(!(jt instanceof ee))throw new TypeError("Cannot call a class as a function")})(this,_t),this.api=Nt,this.config=Vt,this.readOnly=Ft,this.cssClasses=it(it({},Ut),{},{controlPanel:"inline-image__control-panel",tabWrapper:"inline-image__tab-wrapper",tab:"inline-image__tab",embedButton:"inline-image__embed-button",search:"inline-image__search",imageGallery:"inline-image__image-gallery",noResults:"inline-image__no-results",imgWrapper:"inline-image__img-wrapper",thumb:"inline-image__thumb",active:"active",hidden:"panel-hidden",scroll:"panel-scroll"}),this.onSelectImage=Wt,this.nodes={loader:null,embedUrlTab:null,unsplashTab:null,embedUrlPanel:null,unsplashPanel:null,imageGallery:null,searchInput:null},this.unsplashClient=new K(this.config.unsplash),this.searchTimeout=null,this.showEmbedTab=!this.config.embed||this.config.embed.display}var ut,Mt;return ut=_t,(Mt=[{key:"render",value:function(){var qt=this,Nt=R("div",this.cssClasses.controlPanel),Vt=R("div",this.cssClasses.tabWrapper),Ut=R("div",[this.cssClasses.tab,this.cssClasses.active],{innerHTML:"Embed URL",onclick:function(){return qt.showEmbedUrlPanel()}}),Wt=R("div",[this.cssClasses.tab,this.showEmbedTab?null:this.cssClasses.active],{innerHTML:"Unsplash",onclick:function(){return qt.showUnsplashPanel()}}),Ft=this.renderEmbedUrlPanel(),jt=this.renderUnsplashPanel();return this.showEmbedTab&&Vt.appendChild(Ut),Vt.appendChild(Wt),Nt.appendChild(Vt),this.showEmbedTab&&Nt.appendChild(Ft),Nt.appendChild(jt),this.nodes.embedUrlPanel=this.showEmbedTab?Ft:null,this.nodes.unsplashPanel=jt,this.nodes.embedUrlTab=this.showEmbedTab?Ut:null,this.nodes.unsplashTab=Wt,Nt}},{key:"showEmbedUrlPanel",value:function(){this.nodes.embedUrlTab.classList.add(this.cssClasses.active),this.nodes.unsplashTab.classList.remove(this.cssClasses.active),this.nodes.embedUrlPanel.classList.remove(this.cssClasses.hidden),this.nodes.unsplashPanel.classList.add(this.cssClasses.hidden)}},{key:"showUnsplashPanel",value:function(){this.nodes.unsplashTab.classList.add(this.cssClasses.active),this.nodes.embedUrlTab.classList.remove(this.cssClasses.active),this.nodes.unsplashPanel.classList.remove(this.cssClasses.hidden),this.nodes.embedUrlPanel.classList.add(this.cssClasses.hidden)}},{key:"renderEmbedUrlPanel",value:function(){var qt=this,Nt=R("div"),Vt=R("div",[this.cssClasses.input,this.cssClasses.caption],{id:"image-url",contentEditable:!this.readOnly}),Ut=R("div",[this.cssClasses.embedButton,this.cssClasses.input],{id:"embed-button",innerHTML:"Embed Image",onclick:function(){return qt.embedButtonClicked(Vt.innerHTML)}});return Vt.dataset.placeholder="Enter image url...",Nt.appendChild(Vt),Nt.appendChild(Ut),Nt}},{key:"embedButtonClicked",value:function(qt){/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/g.test(qt)?this.onSelectImage({url:qt}):this.api.notifier.show({message:"Please enter a valid url.",style:"error"})}},{key:"renderUnsplashPanel",value:function(){var qt=this,Nt=R("div",this.showEmbedTab?this.cssClasses.hidden:null),Vt=R("div",this.cssClasses.imageGallery),Ut=R("div",[this.cssClasses.input,this.cssClasses.caption,this.cssClasses.search],{id:"unsplash-search",contentEditable:!this.readOnly,oninput:function(){return qt.searchInputHandler()}});return Ut.dataset.placeholder="Search for an image...",Nt.appendChild(Ut),Nt.appendChild(Vt),this.nodes.searchInput=Ut,this.nodes.imageGallery=Vt,Nt}},{key:"searchInputHandler",value:function(){this.showLoader(),this.performSearch()}},{key:"showLoader",value:function(){this.nodes.imageGallery.innerHTML="",this.nodes.loader=R("div",this.cssClasses.loading),this.nodes.imageGallery.appendChild(this.nodes.loader)}},{key:"performSearch",value:function(){var qt=this;clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){var Nt=qt.nodes.searchInput.innerHTML;qt.unsplashClient.searchImages(Nt,function(Vt){return qt.appendImagesToGallery(Vt)})},1e3)}},{key:"appendImagesToGallery",value:function(qt){var Nt=this;if(this.nodes.imageGallery.innerHTML="",qt&&qt.length)this.nodes.unsplashPanel.classList.add(this.cssClasses.scroll),qt.forEach(function(Ut){Nt.createThumbImage(Ut)});else{var Vt=R("div",this.cssClasses.noResults,{innerHTML:"No images found"});this.nodes.imageGallery.appendChild(Vt),this.nodes.unsplashPanel.classList.remove(this.cssClasses.scroll)}}},{key:"createThumbImage",value:function(qt){var Nt=this,Vt=R("div",this.cssClasses.imgWrapper),Ut=R("img",this.cssClasses.thumb,{src:qt.thumb,onclick:function(){return Nt.downloadUnsplashImage(qt)}}),Wt=this.config.unsplash.appName,Ft=$(it(it({},qt),{},{appName:Wt}));Vt.appendChild(Ut),Vt.appendChild(Ft),this.nodes.imageGallery.append(Vt)}},{key:"downloadUnsplashImage",value:function(qt){var Nt=qt.url,Vt=qt.author,Ut=qt.profileLink,Wt=qt.downloadLocation;this.onSelectImage({url:Nt,unsplash:{author:Vt,profileLink:Ut}}),this.unsplashClient.downloadImage(Wt)}}])&&ct(ut.prototype,Mt),Object.defineProperty(ut,"prototype",{writable:!1}),_t}(),J=L(330),Bt=L.n(J),Tt=L(98),Ct=L.n(Tt),St=L(586),at=L.n(St),yt=L(459);function kt(_t,ut){for(var Mt=0;Mt<ut.length;Mt++){var qt=ut[Mt];qt.enumerable=qt.enumerable||!1,qt.configurable=!0,"value"in qt&&(qt.writable=!0),Object.defineProperty(_t,qt.key,qt)}}var xt=function(){function _t(){(function(qt,Nt){if(!(qt instanceof Nt))throw new TypeError("Cannot call a class as a function")})(this,_t),this.modalHolder=document.getElementById("inline-image__modal"),this.modalHolder||(this.createModal(),this.closeOutside())}var ut,Mt;return ut=_t,(Mt=[{key:"createModal",value:function(){var qt=this,Nt=R("div","modal",{id:"inline-image__modal"}),Vt=R("div","modal-content",{id:"inline-image__modal-content"}),Ut=R("span","close",{id:"inline-image__modal-close",innerHTML:"&times;",onclick:function(){qt.close()}}),Wt=R("img","modal-img",{id:"inline-image__modal-img",alt:"image"});Nt.appendChild(Vt),Vt.appendChild(Ut),Vt.appendChild(Wt),document.body.appendChild(Nt)}},{key:"open",value:function(qt){this.setImage(qt),document.getElementById("inline-image__modal").style.display="flex"}},{key:"setImage",value:function(qt){var Nt=document.getElementById("inline-image__modal-img");Nt.src=qt;var Vt=document.getElementById("inline-image__modal-content"),Ut=screen.width-200,Wt=screen.height-200,Ft=(0,yt.XS)(Ut,Wt,Nt.width,Nt.height),jt=Ft.width,ee=Ft.height;Vt.style.maxHeight="".concat(ee,"px"),Vt.style.maxWidth="".concat(jt,"px")}},{key:"close",value:function(){document.getElementById("inline-image__modal").style.display="none"}},{key:"closeOutside",value:function(){var qt=this;document.addEventListener("click",function(Nt){Nt.target.id==="inline-image__modal"&&qt.close()})}}])&&kt(ut.prototype,Mt),Object.defineProperty(ut,"prototype",{writable:!1}),_t}();function Pt(_t,ut){var Mt=Object.keys(_t);if(Object.getOwnPropertySymbols){var qt=Object.getOwnPropertySymbols(_t);ut&&(qt=qt.filter(function(Nt){return Object.getOwnPropertyDescriptor(_t,Nt).enumerable})),Mt.push.apply(Mt,qt)}return Mt}function mt(_t){for(var ut=1;ut<arguments.length;ut++){var Mt=arguments[ut]!=null?arguments[ut]:{};ut%2?Pt(Object(Mt),!0).forEach(function(qt){Yt(_t,qt,Mt[qt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_t,Object.getOwnPropertyDescriptors(Mt)):Pt(Object(Mt)).forEach(function(qt){Object.defineProperty(_t,qt,Object.getOwnPropertyDescriptor(Mt,qt))})}return _t}function Yt(_t,ut,Mt){return ut in _t?Object.defineProperty(_t,ut,{value:Mt,enumerable:!0,configurable:!0,writable:!0}):_t[ut]=Mt,_t}function ne(_t,ut){for(var Mt=0;Mt<ut.length;Mt++){var qt=ut[Mt];qt.enumerable=qt.enumerable||!1,qt.configurable=!0,"value"in qt&&(qt.writable=!0),Object.defineProperty(_t,qt.key,qt)}}var Qt=function(){function _t(qt){var Nt=this,Vt=qt.api,Ut=qt.config,Wt=qt.readOnly,Ft=qt.onAddImageData,jt=qt.onTuneToggled;(function(ee,Lt){if(!(ee instanceof Lt))throw new TypeError("Cannot call a class as a function")})(this,_t),this.api=Vt,this.config=Ut,this.readOnly=Wt,this.onAddImageData=Ft,this.onTuneToggled=jt,this.CSS={baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,wrapper:"inline-image",imageHolder:"inline-image__picture",caption:"inline-image__caption"},this.settings=[{name:"withBorder",icon:Ct()},{name:"stretched",icon:at()},{name:"withBackground",icon:Bt()}],this.controlPanel=new lt({api:Vt,config:Ut,readOnly:Wt,cssClasses:this.CSS,onSelectImage:function(ee){return Nt.selectImage(ee)}}),this.tunes=new j({cssClasses:{settingsButton:this.api.styles.settingsButton,settingsButtonActive:this.api.styles.settingsButtonActive},settings:this.settings,onTuneToggled:jt}),this.nodes={wrapper:null,loader:null,imageHolder:null,image:null,caption:null,credits:null},this.modal=new xt}var ut,Mt;return ut=_t,(Mt=[{key:"render",value:function(qt){var Nt=this,Vt=R("div",[this.CSS.baseClass,this.CSS.wrapper]),Ut=R("div",this.CSS.loading),Wt=R("img","",{onload:function(){return Nt.onImageLoad()},onerror:function(){return Nt.onImageLoadError()}}),Ft=R("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly,innerHTML:qt.caption||""});if(this.nodes.imageHolder=R("div",this.CSS.imageHolder),Ft.dataset.placeholder="Enter a caption",qt.url)Vt.appendChild(Ut),Wt.src=qt.url,this.buildImageCredits(qt);else{var jt=this.controlPanel.render();this.nodes.controlPanelWrapper=jt,Vt.appendChild(jt)}return this.nodes.wrapper=Vt,this.nodes.loader=Ut,this.nodes.image=Wt,this.nodes.caption=Ft,this.applySettings(qt),this.setEvents(),Vt}},{key:"buildImageCredits",value:function(qt){var Nt=qt.unsplash;if(Nt&&Nt.author&&Nt.profileLink){var Vt=this.config.unsplash.appName,Ut=$(mt(mt({},Nt),{},{appName:Vt}));this.nodes.imageHolder.appendChild(Ut),this.nodes.credits=Ut}}},{key:"onImageLoad",value:function(){this.nodes.imageHolder.prepend(this.nodes.image),this.nodes.wrapper.appendChild(this.nodes.imageHolder),this.nodes.wrapper.appendChild(this.nodes.caption),this.nodes.loader.remove()}},{key:"onImageLoadError",value:function(){this.removeCurrentBlock(),this.api.notifier.show({message:"Can not load the image, try again!",style:"error"})}},{key:"removeCurrentBlock",value:function(){var qt=this;Promise.resolve().then(function(){var Nt=qt.api.blocks.getCurrentBlockIndex();qt.api.blocks.delete(Nt)}).catch(function(Nt){console.error(Nt)})}},{key:"renderSettings",value:function(qt){return this.tunes.render(qt)}},{key:"showLoader",value:function(){this.nodes.controlPanelWrapper.remove(),this.nodes.wrapper.appendChild(this.nodes.loader)}},{key:"selectImage",value:function(qt){this.onAddImageData(qt),this.showLoader(),this.buildImageCredits(qt)}},{key:"applyTune",value:function(qt,Nt){var Vt=this;this.nodes.imageHolder.classList.toggle("".concat(this.CSS.imageHolder,"--").concat(qt),Nt),qt==="stretched"&&Promise.resolve().then(function(){var Ut=Vt.api.blocks.getCurrentBlockIndex();Vt.api.blocks.stretchBlock(Ut,Nt)}).catch(function(Ut){console.error(Ut)})}},{key:"applySettings",value:function(qt){var Nt=this;this.settings.forEach(function(Vt){Nt.applyTune(Vt.name,qt[Vt.name])})}},{key:"setEvents",value:function(){var qt=this;this.nodes.image.addEventListener("click",function(){qt.modal.open(qt.nodes.image.src)})}}])&&ne(ut.prototype,Mt),Object.defineProperty(ut,"prototype",{writable:!1}),_t}();function Kt(_t,ut){var Mt=Object.keys(_t);if(Object.getOwnPropertySymbols){var qt=Object.getOwnPropertySymbols(_t);ut&&(qt=qt.filter(function(Nt){return Object.getOwnPropertyDescriptor(_t,Nt).enumerable})),Mt.push.apply(Mt,qt)}return Mt}function Xt(_t){for(var ut=1;ut<arguments.length;ut++){var Mt=arguments[ut]!=null?arguments[ut]:{};ut%2?Kt(Object(Mt),!0).forEach(function(qt){se(_t,qt,Mt[qt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_t,Object.getOwnPropertyDescriptors(Mt)):Kt(Object(Mt)).forEach(function(qt){Object.defineProperty(_t,qt,Object.getOwnPropertyDescriptor(Mt,qt))})}return _t}function se(_t,ut,Mt){return ut in _t?Object.defineProperty(_t,ut,{value:Mt,enumerable:!0,configurable:!0,writable:!0}):_t[ut]=Mt,_t}function ue(_t,ut){for(var Mt=0;Mt<ut.length;Mt++){var qt=ut[Mt];qt.enumerable=qt.enumerable||!1,qt.configurable=!0,"value"in qt&&(qt.writable=!0),Object.defineProperty(_t,qt.key,qt)}}var re=function(){function _t(Nt){var Vt=this,Ut=Nt.data,Wt=Nt.api,Ft=Nt.config,jt=Nt.readOnly;(function(ee,Lt){if(!(ee instanceof Lt))throw new TypeError("Cannot call a class as a function")})(this,_t),this.api=Wt,this.readOnly=jt,this.ui=new Qt({data:Ut,api:Wt,config:Ft,readOnly:jt,onAddImageData:function(ee){return Vt.addImageData(ee)},onTuneToggled:function(ee){return Vt.tuneToggled(ee)}}),this.data={url:Ut.url||"",caption:Ut.caption||"",withBorder:Ut.withBorder!==void 0&&Ut.withBorder,withBackground:Ut.withBackground!==void 0&&Ut.withBackground,stretched:Ut.stretched!==void 0&&Ut.stretched,unsplash:Ut.unsplash}}var ut,Mt,qt;return ut=_t,qt=[{key:"toolbox",get:function(){return{title:"InlineImage",icon:at()}}},{key:"sanitize",get:function(){return{url:{},withBorder:{},withBackground:{},stretched:{},caption:{br:!0}}}},{key:"pasteConfig",get:function(){return{patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png)$/i},tags:["img"],files:{mimeTypes:["image/*"]}}}},{key:"isReadOnlySupported",get:function(){return!0}}],(Mt=[{key:"render",value:function(){return this.ui.render(this.data)}},{key:"save",value:function(){var Nt=this.ui.nodes.caption;return this.data.caption=Nt.innerHTML,this.data}},{key:"validate",value:function(Nt){return!!Nt.url.trim()}},{key:"onDropHandler",value:function(Nt){var Vt=new FileReader;return Vt.readAsDataURL(Nt),new Promise(function(Ut){Vt.onload=function(Wt){Ut({url:Wt.target.result,caption:Nt.name})}})}},{key:"onPaste",value:function(Nt){var Vt=this;switch(this.ui.showLoader(),Nt.type){case"tag":this.data={url:Nt.detail.data.src};break;case"pattern":this.data={url:Nt.detail.data};break;case"file":this.onDropHandler(Nt.detail.file).then(function(Ut){Vt.data=Ut})}}},{key:"addImageData",value:function(Nt){this.data=Nt}},{key:"data",get:function(){return this._data},set:function(Nt){this._data=Xt(Xt({},this.data),Nt),this.ui.nodes.image&&(this.ui.nodes.image.src=this.data.url),this.ui.nodes.caption&&(this.ui.nodes.caption.innerHTML=this.data.caption)}},{key:"renderSettings",value:function(){return this.ui.renderSettings(this.data)}},{key:"tuneToggled",value:function(Nt){var Vt=!this.data[Nt];this.data=se({},Nt,Vt),this.ui.applyTune(Nt,Vt)}}])&&ue(ut.prototype,Mt),qt&&ue(ut,qt),Object.defineProperty(ut,"prototype",{writable:!1}),_t}()})(),d.default})()})})(w8);var XS=w8.exports;const ZS=mc(XS);var _8={exports:{}};(function(U,l){(function(f,I){U.exports=I()})(self,function(){return(()=>{var f={384:(u,s,n)=>{n.d(s,{Z:()=>y});var m=n(645),g=n.n(m)()(function(k){return k[1]});g.push([u.id,`.cdx-nested-list {
  margin: 0;
  padding: 0;
  outline: none;
  counter-reset: item;
  list-style: none;
}

  .cdx-nested-list__item {
    line-height: 1.6em;
    display: flex;
    margin: 2px 0;
  }

  .cdx-nested-list__item [contenteditable]{
      outline: none;
    }

  .cdx-nested-list__item-body {
      flex-grow: 2;
    }

  .cdx-nested-list__item-content,
    .cdx-nested-list__item-children {
      flex-basis: 100%;
    }

  .cdx-nested-list__item-content {
      word-break: break-word;
      white-space: pre-wrap;
    }

  .cdx-nested-list__item-children {}

  .cdx-nested-list__item::before {
      counter-increment: item;
      margin-right: 5px;
      white-space: nowrap;
    }

  .cdx-nested-list--ordered > .cdx-nested-list__item::before {
    content: counters(item, ".") ". ";
  }

  .cdx-nested-list--unordered > .cdx-nested-list__item::before {
    content: "•";
  }

  .cdx-nested-list__settings {
    display: flex;
  }

  .cdx-nested-list__settings .cdx-settings-button {
      width: 50%;
    }
`,""]);const y=g},645:u=>{u.exports=function(s){var n=[];return n.toString=function(){return this.map(function(m){var g=s(m);return m[2]?"@media ".concat(m[2]," {").concat(g,"}"):g}).join("")},n.i=function(m,g,y){typeof m=="string"&&(m=[[null,m,""]]);var k={};if(y)for(var E=0;E<this.length;E++){var C=this[E][0];C!=null&&(k[C]=!0)}for(var v=0;v<m.length;v++){var h=[].concat(m[v]);y&&k[h[0]]||(g&&(h[2]?h[2]="".concat(g," and ").concat(h[2]):h[2]=g),n.push(h))}},n}},379:(u,s,n)=>{var m,g=function(){var R={};return function($){if(R[$]===void 0){var F=document.querySelector($);if(window.HTMLIFrameElement&&F instanceof window.HTMLIFrameElement)try{F=F.contentDocument.head}catch(j){F=null}R[$]=F}return R[$]}}(),y=[];function k(R){for(var $=-1,F=0;F<y.length;F++)if(y[F].identifier===R){$=F;break}return $}function E(R,$){for(var F={},j=[],X=0;X<R.length;X++){var W=R[X],V=$.base?W[0]+$.base:W[0],K=F[V]||0,st="".concat(V," ").concat(K);F[V]=K+1;var it=k(st),pt={css:W[1],media:W[2],sourceMap:W[3]};it!==-1?(y[it].references++,y[it].updater(pt)):y.push({identifier:st,updater:P(pt,$),references:1}),j.push(st)}return j}function C(R){var $=document.createElement("style"),F=R.attributes||{};if(F.nonce===void 0){var j=n.nc;j&&(F.nonce=j)}if(Object.keys(F).forEach(function(W){$.setAttribute(W,F[W])}),typeof R.insert=="function")R.insert($);else{var X=g(R.insert||"head");if(!X)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");X.appendChild($)}return $}var v,h=(v=[],function(R,$){return v[R]=$,v.filter(Boolean).join(`
`)});function a(R,$,F,j){var X=F?"":j.media?"@media ".concat(j.media," {").concat(j.css,"}"):j.css;if(R.styleSheet)R.styleSheet.cssText=h($,X);else{var W=document.createTextNode(X),V=R.childNodes;V[$]&&R.removeChild(V[$]),V.length?R.insertBefore(W,V[$]):R.appendChild(W)}}function O(R,$,F){var j=F.css,X=F.media,W=F.sourceMap;if(X?R.setAttribute("media",X):R.removeAttribute("media"),W&&typeof btoa!="undefined"&&(j+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(W))))," */")),R.styleSheet)R.styleSheet.cssText=j;else{for(;R.firstChild;)R.removeChild(R.firstChild);R.appendChild(document.createTextNode(j))}}var _=null,M=0;function P(R,$){var F,j,X;if($.singleton){var W=M++;F=_||(_=C($)),j=a.bind(null,F,W,!1),X=a.bind(null,F,W,!0)}else F=C($),j=O.bind(null,F,$),X=function(){(function(V){if(V.parentNode===null)return!1;V.parentNode.removeChild(V)})(F)};return j(R),function(V){if(V){if(V.css===R.css&&V.media===R.media&&V.sourceMap===R.sourceMap)return;j(R=V)}else X()}}u.exports=function(R,$){($=$||{}).singleton||typeof $.singleton=="boolean"||($.singleton=(m===void 0&&(m=!!(window&&document&&document.all&&!window.atob)),m));var F=E(R=R||[],$);return function(j){if(j=j||[],Object.prototype.toString.call(j)==="[object Array]"){for(var X=0;X<F.length;X++){var W=k(F[X]);y[W].references--}for(var V=E(j,$),K=0;K<F.length;K++){var st=k(F[K]);y[st].references===0&&(y[st].updater(),y.splice(st,1))}F=V}}}}},I={};function L(u){var s=I[u];if(s!==void 0)return s.exports;var n=I[u]={id:u,exports:{}};return f[u](n,n.exports,L),n.exports}L.n=u=>{var s=u&&u.__esModule?()=>u.default:()=>u;return L.d(s,{a:s}),s},L.d=(u,s)=>{for(var n in s)L.o(s,n)&&!L.o(u,n)&&Object.defineProperty(u,n,{enumerable:!0,get:s[n]})},L.o=(u,s)=>Object.prototype.hasOwnProperty.call(u,s);var d={};return(()=>{function u(v,h=null,a={}){const O=document.createElement(v);Array.isArray(h)?O.classList.add(...h):h&&O.classList.add(h);for(const _ in a)O[_]=a[_];return O}function s(v){const h=u("div");return h.appendChild(v),h.innerHTML}function n(v){let h;return v.nodeType!==Node.ELEMENT_NODE?h=v.textContent:(h=v.innerHTML,h=h.replaceAll("<br>","")),h.trim().length===0}L.d(d,{default:()=>C});class m{constructor(){this.savedFakeCaret=void 0}save(){const h=m.range,a=u("span");a.hidden=!0,h.insertNode(a),this.savedFakeCaret=a}restore(){if(!this.savedFakeCaret)return;const h=window.getSelection(),a=new Range;a.setStartAfter(this.savedFakeCaret),a.setEndAfter(this.savedFakeCaret),h.removeAllRanges(),h.addRange(a),setTimeout(()=>{this.savedFakeCaret.remove()},150)}static get range(){const h=window.getSelection();return h&&h.rangeCount?h.getRangeAt(0):null}static extractFragmentFromCaretPositionTillTheEnd(){const h=window.getSelection();if(!h.rangeCount)return;const a=h.getRangeAt(0);let O=a.startContainer;O.nodeType!==Node.ELEMENT_NODE&&(O=O.parentNode);const _=O.closest("[contenteditable]");a.deleteContents();const M=a.cloneRange();return M.selectNodeContents(_),M.setStart(a.endContainer,a.endOffset),M.extractContents()}static focus(h,a=!0){const O=document.createRange(),_=window.getSelection();O.selectNodeContents(h),O.collapse(a),_.removeAllRanges(),_.addRange(O)}static isAtStart(){const h=window.getSelection();if(h.focusOffset>0)return!1;const a=h.focusNode;return m.getHigherLevelSiblings(a,"left").every(O=>n(O))}static getHigherLevelSiblings(h,a="left"){let O=h;const _=[];for(;O.parentNode&&O.parentNode.contentEditable!=="true";)O=O.parentNode;const M=a==="left"?"previousSibling":"nextSibling";for(;O[M];)O=O[M],_.push(O);return _}}const g='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>';var y=L(379),k=L.n(y),E=L(384);k()(E.Z,{insert:"head",singleton:!1}),E.Z.locals;class C{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return{icon:g,title:"List"}}constructor({data:h,config:a,api:O,readOnly:_}){this.nodes={wrapper:null},this.api=O,this.readOnly=_,this.config=a,this.defaultListStyle=this.config.defaultStyle==="ordered"?"ordered":"unordered";const M={style:this.defaultListStyle,items:[]};this.data=h&&Object.keys(h).length?h:M,this.caret=new m}render(){return this.nodes.wrapper=this.makeListWrapper(this.data.style,[this.CSS.baseBlock]),this.data.items.length?this.appendItems(this.data.items,this.nodes.wrapper):this.appendItems([{content:"",items:[]}],this.nodes.wrapper),this.readOnly||this.nodes.wrapper.addEventListener("keydown",h=>{switch(h.key){case"Enter":this.enterPressed(h);break;case"Backspace":this.backspace(h);break;case"Tab":h.shiftKey?this.shiftTab(h):this.addTab(h)}},!1),this.nodes.wrapper}renderSettings(){return[{name:"unordered",label:this.api.i18n.t("Unordered"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>'},{name:"ordered",label:this.api.i18n.t("Ordered"),icon:g}].map(h=>({name:h.name,icon:h.icon,label:h.label,isActive:this.data.style===h.name,closeOnActivate:!0,onActivate:()=>{this.listStyle=h.name}}))}static get pasteConfig(){return{tags:["OL","UL","LI"]}}onPaste(h){const a=h.detail.data;this.data=this.pasteHandler(a);const O=this.nodes.wrapper;O&&O.parentNode.replaceChild(this.render(),O)}pasteHandler(h){const{tagName:a}=h;let O,_;switch(a){case"OL":O="ordered",_="ol";break;case"UL":case"LI":O="unordered",_="ul"}const M={style:O,items:[]},P=R=>Array.from(R.querySelectorAll(":scope > li")).map($=>{var X;const F=$.querySelector(`:scope > ${_}`),j=F?P(F):[];return{content:((X=$==null?void 0:$.firstChild)==null?void 0:X.textContent)||"",items:j}});return M.items=P(h),M}appendItems(h,a){h.forEach(O=>{const _=this.createItem(O.content,O.items);a.appendChild(_)})}createItem(h,a=[]){const O=u("li",this.CSS.item),_=u("div",this.CSS.itemBody),M=u("div",this.CSS.itemContent,{innerHTML:h,contentEditable:!this.readOnly});return _.appendChild(M),O.appendChild(_),a&&a.length>0&&this.addChildrenList(O,a),O}save(){const h=a=>Array.from(a.querySelectorAll(`:scope > .${this.CSS.item}`)).map(O=>{const _=O.querySelector(`.${this.CSS.itemChildren}`);return{content:this.getItemContent(O),items:_?h(_):[]}});return{style:this.data.style,items:h(this.nodes.wrapper)}}addChildrenList(h,a){const O=h.querySelector(`.${this.CSS.itemBody}`),_=this.makeListWrapper(void 0,[this.CSS.itemChildren]);this.appendItems(a,_),O.appendChild(_)}makeListWrapper(h=this.listStyle,a=[]){const O=h==="ordered"?"ol":"ul",_=h==="ordered"?this.CSS.wrapperOrdered:this.CSS.wrapperUnordered;return a.push(_),u(O,[this.CSS.wrapper,...a])}get CSS(){return{baseBlock:this.api.styles.block,wrapper:"cdx-nested-list",wrapperOrdered:"cdx-nested-list--ordered",wrapperUnordered:"cdx-nested-list--unordered",item:"cdx-nested-list__item",itemBody:"cdx-nested-list__item-body",itemContent:"cdx-nested-list__item-content",itemChildren:"cdx-nested-list__item-children",settingsWrapper:"cdx-nested-list__settings",settingsButton:this.api.styles.settingsButton,settingsButtonActive:this.api.styles.settingsButtonActive}}get listStyle(){return this.data.style||this.defaultListStyle}set listStyle(h){const a=Array.from(this.nodes.wrapper.querySelectorAll(`.${this.CSS.wrapper}`));a.push(this.nodes.wrapper),a.forEach(O=>{O.classList.toggle(this.CSS.wrapperUnordered,h==="unordered"),O.classList.toggle(this.CSS.wrapperOrdered,h==="ordered")}),this.data.style=h}get currentItem(){let h=window.getSelection().anchorNode;return h.nodeType!==Node.ELEMENT_NODE&&(h=h.parentNode),h.closest(`.${this.CSS.item}`)}enterPressed(h){const a=this.currentItem;h.stopPropagation(),h.preventDefault();const O=this.getItemContent(a).trim().length===0,_=a.parentNode===this.nodes.wrapper,M=a.nextElementSibling===null;if(_&&M&&O)return void this.getOutOfList();if(M&&O)return void this.unshiftItem();const P=s(m.extractFragmentFromCaretPositionTillTheEnd()),R=a.querySelector(`.${this.CSS.itemChildren}`),$=this.createItem(P,void 0);R&&Array.from(R.querySelectorAll(`.${this.CSS.item}`)).length>0?R.prepend($):a.after($),this.focusItem($)}unshiftItem(){const h=this.currentItem,a=h.parentNode.closest(`.${this.CSS.item}`);if(!a)return;this.caret.save(),a.after(h),this.caret.restore();const O=a.querySelector(`.${this.CSS.itemChildren}`);O.children.length===0&&O.remove()}getItemContent(h){const a=h.querySelector(`.${this.CSS.itemContent}`);return n(a)?"":a.innerHTML}focusItem(h,a=!0){const O=h.querySelector(`.${this.CSS.itemContent}`);m.focus(O,a)}getOutOfList(){this.currentItem.remove(),this.api.blocks.insert(),this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex())}backspace(h){if(!m.isAtStart())return;h.preventDefault();const a=this.currentItem,O=a.previousSibling,_=a.parentNode.closest(`.${this.CSS.item}`);if(!O&&!_)return;let M;if(h.stopPropagation(),O){const F=O.querySelectorAll(`.${this.CSS.item}`);M=Array.from(F).pop()||O}else M=_;const P=s(m.extractFragmentFromCaretPositionTillTheEnd()),R=M.querySelector(`.${this.CSS.itemContent}`);m.focus(R,!1),this.caret.save(),R.insertAdjacentHTML("beforeend",P);let $=a.querySelectorAll(`.${this.CSS.itemChildren} > .${this.CSS.item}`);$=Array.from($),$=$.filter(F=>F.parentNode.closest(`.${this.CSS.item}`)===a),$.reverse().forEach(F=>{O?M.after(F):a.after(F)}),a.remove(),this.caret.restore()}addTab(h){h.stopPropagation(),h.preventDefault();const a=this.currentItem,O=a.previousSibling;if(!O)return;const _=O.querySelector(`.${this.CSS.itemChildren}`);if(this.caret.save(),_)_.appendChild(a);else{const M=this.makeListWrapper(void 0,[this.CSS.itemChildren]),P=O.querySelector(`.${this.CSS.itemBody}`);M.appendChild(a),P.appendChild(M)}this.caret.restore()}shiftTab(h){h.stopPropagation(),h.preventDefault(),this.unshiftItem()}static joinRecursive(h){return h.items.map(a=>`${a.content} ${C.joinRecursive(a)}`).join("")}static get conversionConfig(){return{export:h=>C.joinRecursive(h),import:h=>({items:[{content:h,items:[]}],style:"unordered"})}}}})(),d.default})()})})(_8);var KS=_8.exports;const JS=mc(KS);var k8={exports:{}};(function(U,l){(function(f,I){U.exports=I()})(self,()=>(()=>{var f={571:function(u,s){var n,m;n=function(g){var y=function(){function E(C,v){for(var h=0;h<v.length;h++){var a=v[h];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(C,a.key,a)}}return function(C,v,h){return v&&E(C.prototype,v),h&&E(C,h),C}}(),k=function(){function E(C){(function(v,h){if(!(v instanceof h))throw new TypeError("Cannot call a class as a function")})(this,E),this.target=C,this.isContentEditable=C&&C.contentEditable}return y(E,[{key:"getPos",value:function(){if(document.activeElement!==this.target)return-1;if(this.isContentEditable){this.target.focus();var C=document.getSelection().getRangeAt(0),v=C.cloneRange();return v.selectNodeContents(this.target),v.setEnd(C.endContainer,C.endOffset),v.toString().length}return this.target.selectionStart}},{key:"setPos",value:function(C){if(this.isContentEditable){if(C>=0){var v=window.getSelection(),h=this.createRange(this.target,{count:C});h&&(h.collapse(!1),v.removeAllRanges(),v.addRange(h))}}else this.target.setSelectionRange(C,C)}},{key:"createRange",value:function(C,v,h){if(h||((h=document.createRange()).selectNode(C),h.setStart(C,0)),v.count===0)h.setEnd(C,v.count);else if(C&&v.count>0)if(C.nodeType===Node.TEXT_NODE)C.textContent.length<v.count?v.count-=C.textContent.length:(h.setEnd(C,v.count),v.count=0);else for(var a=0;a<C.childNodes.length&&(h=this.createRange(C.childNodes[a],v,h),v.count!==0);a++);return h}}]),E}();g.exports=k},(m=n.apply(s,[u]))===void 0||(u.exports=m)},334:(u,s,n)=>{u.exports=n(571)}},I={};function L(u){var s=I[u];if(s!==void 0)return s.exports;var n=I[u]={exports:{}};return f[u].call(n.exports,n,n.exports,L),n.exports}L.n=u=>{var s=u&&u.__esModule?()=>u.default:()=>u;return L.d(s,{a:s}),s},L.d=(u,s)=>{for(var n in s)L.o(s,n)&&!L.o(u,n)&&Object.defineProperty(u,n,{enumerable:!0,get:s[n]})},L.o=(u,s)=>Object.prototype.hasOwnProperty.call(u,s);var d={};return(()=>{L.d(d,{default:()=>C});var u=L(334),s=L.n(u);function n(v,h){for(var a=0;a<h.length;a++){var O=h[a];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(v,O.key,O)}}var m=function(){function v(O,_,M){(function(P,R){if(!(P instanceof R))throw new TypeError("Cannot call a class as a function")})(this,v),this.holder=_,this.observer=null,this.debounceTimer=M,this.mutationDebouncer=this.debounce(function(){O()},this.debounceTimer)}var h,a;return h=v,a=[{key:"setMutationObserver",value:function(){var O=this,_=this.holder.querySelector(".codex-editor__redactor");this.observer=new MutationObserver(function(M){O.mutationHandler(M)}),this.observer.observe(_,{childList:!0,attributes:!0,subtree:!0,characterData:!0,characterDataOldValue:!0})}},{key:"mutationHandler",value:function(O){var _=this,M=!1;O.forEach(function(P){switch(P.type){case"childList":P.target===_.holder?_.onDestroy():M=!0;break;case"characterData":M=!0;break;case"attributes":P.target.classList.contains("ce-block")||P.target.classList.contains("tc-toolbox")||(M=!0)}}),M&&this.mutationDebouncer()}},{key:"debounce",value:function(O,_){var M,P=this;return function(){for(var R=arguments.length,$=new Array(R),F=0;F<R;F++)$[F]=arguments[F];var j=P;clearTimeout(M),M=setTimeout(function(){return O.apply(j,$)},_)}}},{key:"onDestroy",value:function(){var O=new CustomEvent("destroy");document.dispatchEvent(O),this.observer.disconnect()}}],a&&n(h.prototype,a),Object.defineProperty(h,"prototype",{writable:!1}),v}();function g(v,h){var a=Object.keys(v);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(v);h&&(O=O.filter(function(_){return Object.getOwnPropertyDescriptor(v,_).enumerable})),a.push.apply(a,O)}return a}function y(v){for(var h=1;h<arguments.length;h++){var a=arguments[h]!=null?arguments[h]:{};h%2?g(Object(a),!0).forEach(function(O){k(v,O,a[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach(function(O){Object.defineProperty(v,O,Object.getOwnPropertyDescriptor(a,O))})}return v}function k(v,h,a){return h in v?Object.defineProperty(v,h,{value:a,enumerable:!0,configurable:!0,writable:!0}):v[h]=a,v}function E(v,h){for(var a=0;a<h.length;a++){var O=h[a];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(v,O.key,O)}}var C=function(){function v(_){var M=this,P=_.editor,R=_.config,$=R===void 0?{}:R,F=_.onUpdate,j=_.maxLength;(function(St,at){if(!(St instanceof at))throw new TypeError("Cannot call a class as a function")})(this,v);var X={maxLength:30,onUpdate:function(){},config:{debounceTimer:200,shortcuts:{undo:["CMD+Z"],redo:["CMD+Y","CMD+SHIFT+Z"]}}},W=P.blocks,V=P.caret,K=P.configuration,st=K.holder,it=X.config.shortcuts,pt=$.shortcuts,ct=y(y({},it),pt),lt=Array.isArray(ct.undo)?ct.undo:[ct.undo],J=Array.isArray(ct.redo)?ct.redo:[ct.redo],Bt=X.config.debounceTimer,Tt=$.debounceTimer,Ct=Tt===void 0?Bt:Tt;this.holder=typeof st=="string"?document.getElementById(st):st,this.editor=P,this.blocks=W,this.caret=V,this.shouldSaveHistory=!0,this.readOnly=K.readOnly,this.maxLength=j||X.maxLength,this.onUpdate=F||X.onUpdate,this.config={debounceTimer:Ct,shortcuts:{undo:lt,redo:J}},new m(function(){return M.registerChange()},this.holder,this.config.debounceTimer).setMutationObserver(),this.setEventListeners(),this.initialItem=null,this.clear()}var h,a,O;return h=v,O=[{key:"isReadOnlySupported",get:function(){return!0}}],(a=[{key:"truncate",value:function(_,M){for(;_.length>M;)_.shift()}},{key:"initialize",value:function(_){var M="blocks"in _?_.blocks:_,P={index:M.length-1,state:M};this.stack[0]=P,this.initialItem=P}},{key:"clear",value:function(){this.stack=this.initialItem?[this.initialItem]:[{index:0,state:[{type:"paragraph",data:{text:""}}]}],this.position=0,this.onUpdate()}},{key:"setReadOnly",value:function(){var _=this.holder.querySelector(".ce-toolbox");this.readOnly=!_}},{key:"registerChange",value:function(){var _=this;this.setReadOnly(),this.readOnly||(this.editor&&this.editor.save&&this.shouldSaveHistory&&this.editor.save().then(function(M){_.editorDidUpdate(M.blocks)&&_.save(M.blocks)}),this.shouldSaveHistory=!0)}},{key:"editorDidUpdate",value:function(_){var M=this.stack[this.position].state;return!!_.length&&(_.length!==M.length||JSON.stringify(M)!==JSON.stringify(_))}},{key:"save",value:function(_){this.position>=this.maxLength&&this.truncate(this.stack,this.maxLength),this.position=Math.min(this.position,this.stack.length-1),this.stack=this.stack.slice(0,this.position+1);var M=this.blocks.getCurrentBlockIndex(),P=this.blocks.getBlocksCount(),R=M;_[M]||(R-=P-_.length);var $=!_[R]||_[R].type!=="paragraph"&&_[R].type!=="header"?null:this.getCaretIndex(M);this.stack.push({index:R,state:_,caretIndex:$}),this.position+=1,this.onUpdate()}},{key:"getCaretIndex",value:function(_){var M=this.holder.getElementsByClassName("ce-block__content");return new(s())(M[_].firstChild).getPos()}},{key:"insertDeletedBlock",value:function(_,M,P){for(var R=0;R<_.length;R+=1)if(!M[R]||_[R].id!==M[R].id){this.blocks.insert(_[R].type,_[R].data,{},R,!0),this.caret.setToBlock(P,"end");break}}},{key:"blockWasDropped",value:function(_,M){return _.length===M.length&&_.some(function(P,R){return P.id!==M[R].id})}},{key:"blockWasSkipped",value:function(_,M,P,R){return _<M&&P.length!==R.length}},{key:"contentChangedInNoFocusBlock",value:function(_,M){return _!==M}},{key:"blockWasDeleted",value:function(_,M){return _.length>M.length}},{key:"undo",value:function(){var _=this;if(this.canUndo()&&this.position>=0){this.position-=1,this.shouldSaveHistory=!1;var M=this.stack[this.position].index,P=this.stack[this.position],R=P.state,$=P.caretIndex,F=this.stack[this.position],j=F.index,X=F.state;this.onUpdate();var W=this.blocks.getBlocksCount();if(R[M]||(M-=1,this.stack[this.position].index=M),this.blockWasDeleted(R,X))this.insertDeletedBlock(R,X,M);else if(this.blockWasSkipped(M,j,R,X))this.blocks.delete(),this.caret.setToBlock(M,"end");else if(W>R.length)this.blocks.render({blocks:R}).then(function(){_.editor.blocks.insert("paragraph",{text:""}),_.caret.setToLastBlock("end")});else if(this.blockWasDropped(R,X))this.blocks.render({blocks:R}).then(function(){return _.caret.setToBlock(M,"end")});else if(this.contentChangedInNoFocusBlock(M,j)){var V=this.blocks.getBlockByIndex(j).id;this.blocks.update(V,R[j].data),this.setCaretIndex(M,$)}var K=this.blocks.getBlockByIndex(M);K&&(this.blocks.update(K.id,R[M].data),this.setCaretIndex(M,$))}}},{key:"setCaretIndex",value:function(_,M){if(M&&M!==-1){var P=this.holder.getElementsByClassName("ce-block__content");new(s())(P[_].firstChild).setPos(M)}else this.caret.setToBlock(_,"end")}},{key:"insertBlock",value:function(_,M){this.blocks.insert(_[M].type,_[M].data,{},M,!0)}},{key:"insertSkippedBlocks",value:function(_,M){for(var P=_;P<M.length;P+=1)this.insertBlock(M,P)}},{key:"redo",value:function(){var _=this;if(this.canRedo()){this.position+=1,this.shouldSaveHistory=!1;var M=this.stack[this.position],P=M.index,R=M.state,$=M.caretIndex,F=this.stack[this.position-1],j=F.index,X=F.state;this.blockWasDeleted(X,R)?(this.blocks.delete(),this.caret.setToBlock(P,"end")):this.blockWasSkipped(j,P,R,X)?(this.insertSkippedBlocks(X.length,R),this.caret.setToBlock(P,"end")):this.blockWasDropped(R,X)&&this.position!==1&&this.blocks.render({blocks:R}).then(function(){return _.caret.setToBlock(P,"end")}),this.onUpdate();var W=this.blocks.getBlockByIndex(P);W&&(this.blocks.update(W.id,R[P].data),this.setCaretIndex(P,$))}}},{key:"canUndo",value:function(){return!this.readOnly&&this.position>0}},{key:"canRedo",value:function(){return!this.readOnly&&this.position<this.count()}},{key:"count",value:function(){return this.stack.length-1}},{key:"parseKeys",value:function(_){var M={CMD:/(Mac)/i.test(navigator.platform)?"metaKey":"ctrlKey",ALT:"altKey",SHIFT:"shiftKey"},P=_.slice(0,-1).map(function($){return M[$]}),R=P.includes("shiftKey")&&_.length===2?_[_.length-1].toUpperCase():_[_.length-1].toLowerCase();return P.push(R),P}},{key:"setEventListeners",value:function(){var _=this,M=this.holder,P=this.config.shortcuts,R=P.undo,$=P.redo,F=R.map(function(ct){return ct.replace(/ /g,"").split("+")}),j=$.map(function(ct){return ct.replace(/ /g,"").split("+")}),X=F.map(function(ct){return _.parseKeys(ct)}),W=j.map(function(ct){return _.parseKeys(ct)}),V=function(ct){return ct.replace("Key","").toLowerCase()},K=function(ct,lt){return lt.reduce(function(J,Bt){return J||function(Tt,Ct){return Ct.length===3&&Tt[Ct[0]]&&Tt[Ct[1]]&&(Tt.key===Ct[2]||V(Tt.code)===Ct[2])}(ct,Bt)},!1)},st=function(ct,lt,J){return!(!function(Bt,Tt){return Tt.reduce(function(Ct,St){return Ct||function(at,yt){return yt.length===2&&at[yt[0]]&&(at.key===yt[1]||V(at.code)===yt[1])}(Bt,St)},!1)}(ct,lt)||K(ct,J))||!!K(ct,lt)},it=function(ct){st(ct,X,W)&&(ct.preventDefault(),_.undo())},pt=function(ct){st(ct,W,X)&&(ct.preventDefault(),_.redo())};M.addEventListener("keydown",it),M.addEventListener("keydown",pt),M.addEventListener("destroy",function(){M.removeEventListener("keydown",it),M.removeEventListener("keydown",pt)})}}])&&E(h.prototype,a),O&&E(h,O),Object.defineProperty(h,"prototype",{writable:!1}),v}()})(),d.default})())})(k8);var QS=k8.exports;const tE=mc(QS);var C8={exports:{}};(function(U,l){(function(f,I){U.exports=I()})(window,function(){return function(f){var I={};function L(d){if(I[d])return I[d].exports;var u=I[d]={i:d,l:!1,exports:{}};return f[d].call(u.exports,u,u.exports,L),u.l=!0,u.exports}return L.m=f,L.c=I,L.d=function(d,u,s){L.o(d,u)||Object.defineProperty(d,u,{enumerable:!0,get:s})},L.r=function(d){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},L.t=function(d,u){if(1&u&&(d=L(d)),8&u||4&u&&typeof d=="object"&&d&&d.__esModule)return d;var s=Object.create(null);if(L.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:d}),2&u&&typeof d!="string")for(var n in d)L.d(s,n,function(m){return d[m]}.bind(null,n));return s},L.n=function(d){var u=d&&d.__esModule?function(){return d.default}:function(){return d};return L.d(u,"a",u),u},L.o=function(d,u){return Object.prototype.hasOwnProperty.call(d,u)},L.p="/",L(L.s=6)}([function(f,I){f.exports='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18"><rect width="18" height="18" fill="#F4F5F7" rx="2"></rect><circle cx="11.5" cy="6.5" r="1.5"></circle><circle cx="11.5" cy="11.5" r="1.5"></circle><circle cx="6.5" cy="6.5" r="1.5"></circle><circle cx="6.5" cy="11.5" r="1.5"></circle></svg>'},function(f,I,L){var d=L(2);typeof d=="string"&&(d=[[f.i,d,""]]);var u={hmr:!0,transform:void 0,insertInto:void 0};L(4)(d,u),d.locals&&(f.exports=d.locals)},function(f,I,L){(f.exports=L(3)(!1)).push([f.i,'.tc-wrap{--color-background:#f9f9fb;--color-text-secondary:#7b7e89;--color-border:#e8e8eb;--cell-size:34px;--toolbox-icon-size:18px;--toolbox-padding:6px;--toolbox-aiming-field-size:calc(var(--toolbox-icon-size) + var(--toolbox-padding)*2);border-left:0;position:relative;height:100%;width:100%;margin-top:var(--toolbox-icon-size);box-sizing:border-box;display:grid;grid-template-columns:calc(100% - var(--cell-size)) var(--cell-size);}.tc-wrap--readonly{grid-template-columns:100% var(--cell-size)}.tc-wrap svg{vertical-align:top}@media print{.tc-wrap{border-left-color:var(--color-border);border-left-style:solid;border-left-width:1px;grid-template-columns:100% var(--cell-size)}}@media print{.tc-wrap .tc-row:after{display:none}}.tc-table{position:relative;width:100%;height:100%;display:grid;font-size:14px;border-top:1px solid var(--color-border);line-height:1.4;}.tc-table:after{width:calc(var(--cell-size));height:100%;left:calc(var(--cell-size)*-1);top:0}.tc-table:after,.tc-table:before{position:absolute;content:""}.tc-table:before{width:100%;height:var(--toolbox-aiming-field-size);top:calc(var(--toolbox-aiming-field-size)*-1);left:0}.tc-table--heading .tc-row:first-child{font-weight:600;border-bottom:2px solid var(--color-border);}.tc-table--heading .tc-row:first-child [contenteditable]:empty:before{content:attr(heading);color:var(--color-text-secondary)}.tc-table--heading .tc-row:first-child:after{bottom:-2px;border-bottom:2px solid var(--color-border)}.tc-add-column,.tc-add-row{display:flex;color:var(--color-text-secondary)}@media print{.tc-add{display:none}}.tc-add-column{padding:4px 0;justify-content:center;border-top:1px solid var(--color-border);}@media print{.tc-add-column{display:none}}.tc-add-row{height:var(--cell-size);align-items:center;padding-left:4px;position:relative;}.tc-add-row:before{content:"";position:absolute;right:calc(var(--cell-size)*-1);width:var(--cell-size);height:100%}@media print{.tc-add-row{display:none}}.tc-add-column,.tc-add-row{transition:0s;cursor:pointer;will-change:background-color;}.tc-add-column:hover,.tc-add-row:hover{transition:background-color .1s ease;background-color:var(--color-background)}.tc-add-row{margin-top:1px;}.tc-add-row:hover:before{transition:.1s;background-color:var(--color-background)}.tc-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(10px,1fr));position:relative;border-bottom:1px solid var(--color-border);}.tc-row:after{content:"";pointer-events:none;position:absolute;width:var(--cell-size);height:100%;bottom:-1px;right:calc(var(--cell-size)*-1);border-bottom:1px solid var(--color-border)}.tc-row--selected{background:var(--color-background)}.tc-row--selected:after{background:var(--color-background)}.tc-cell{border-right:1px solid var(--color-border);padding:6px 12px;overflow:hidden;outline:none;line-break:normal;}.tc-cell--selected{background:var(--color-background)}.tc-wrap--readonly .tc-row:after{display:none}.tc-toolbox{--toolbox-padding:6px;--popover-margin:30px;--toggler-click-zone-size:30px;--toggler-dots-color:#7b7e89;--toggler-dots-color-hovered:#1d202b;position:absolute;cursor:pointer;z-index:1;opacity:0;transition:opacity .1s;will-change:left,opacity;}.tc-toolbox--column{top:calc(var(--toggler-click-zone-size)*-1);transform:translateX(calc(var(--toggler-click-zone-size)*-1/2));will-change:left,opacity}.tc-toolbox--row{left:calc(var(--popover-margin)*-1);transform:translateY(calc(var(--toggler-click-zone-size)*-1/2));margin-top:-1px;will-change:top,opacity}.tc-toolbox--showed{opacity:1}.tc-toolbox .tc-popover{position:absolute;top:0;left:var(--popover-margin)}.tc-toolbox__toggler{display:flex;align-items:center;justify-content:center;width:var(--toggler-click-zone-size);height:var(--toggler-click-zone-size);color:var(--toggler-dots-color);opacity:0;transition:opacity .15s ease;will-change:opacity;}.tc-toolbox__toggler:hover{color:var(--toggler-dots-color-hovered)}.tc-toolbox__toggler svg{fill:currentColor}.tc-wrap:hover .tc-toolbox__toggler{opacity:1}.tc-settings .cdx-settings-button{width:50%;margin:0}.tc-popover{--color-border:#eaeaea;--color-background:#fff;--color-background-hover:rgba(232,232,235,0.49);--color-background-confirm:#e24a4a;--color-background-confirm-hover:#d54040;--color-text-confirm:#fff;background:var(--color-background);border:1px solid var(--color-border);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:6px;padding:6px;display:none;will-change:opacity,transform;}.tc-popover--opened{display:block;animation:menuShowing .1s cubic-bezier(.215,.61,.355,1) forwards}.tc-popover__item{display:flex;align-items:center;padding:2px 14px 2px 2px;border-radius:5px;cursor:pointer;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;user-select:none;}.tc-popover__item:hover{background:var(--color-background-hover)}.tc-popover__item:not(:last-of-type){margin-bottom:2px}.tc-popover__item-icon{display:inline-flex;width:26px;height:26px;align-items:center;justify-content:center;background:var(--color-background);border-radius:5px;border:1px solid var(--color-border);margin-right:8px}.tc-popover__item-label{line-height:22px;font-size:14px;font-weight:500}.tc-popover__item--confirm{background:var(--color-background-confirm);color:var(--color-text-confirm);}.tc-popover__item--confirm:hover{background-color:var(--color-background-confirm-hover)}.tc-popover__item--confirm .tc-popover__item-icon{background:var(--color-background-confirm);border-color:rgba(0,0,0,.1);}.tc-popover__item--confirm .tc-popover__item-icon svg{transition:transform .2s ease-in;transform:rotate(90deg) scale(1.2)}.tc-popover__item--hidden{display:none}@keyframes menuShowing{0%{opacity:0;transform:translateY(-8px) scale(.9)}70%{opacity:1;transform:translateY(2px)}to{transform:translateY(0)}}',""])},function(f,I){f.exports=function(L){var d=[];return d.toString=function(){return this.map(function(u){var s=function(n,m){var g=n[1]||"",y=n[3];if(!y)return g;if(m&&typeof btoa=="function"){var k=(C=y,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(C))))+" */"),E=y.sources.map(function(v){return"/*# sourceURL="+y.sourceRoot+v+" */"});return[g].concat(E).concat([k]).join(`
`)}var C;return[g].join(`
`)}(u,L);return u[2]?"@media "+u[2]+"{"+s+"}":s}).join("")},d.i=function(u,s){typeof u=="string"&&(u=[[null,u,""]]);for(var n={},m=0;m<this.length;m++){var g=this[m][0];typeof g=="number"&&(n[g]=!0)}for(m=0;m<u.length;m++){var y=u[m];typeof y[0]=="number"&&n[y[0]]||(s&&!y[2]?y[2]=s:s&&(y[2]="("+y[2]+") and ("+s+")"),d.push(y))}},d}},function(f,I,L){var d,u,s={},n=(d=function(){return window&&document&&document.all&&!window.atob},function(){return u===void 0&&(u=d.apply(this,arguments)),u}),m=function(W,V){return V?V.querySelector(W):document.querySelector(W)},g=function(W){var V={};return function(K,st){if(typeof K=="function")return K();if(V[K]===void 0){var it=m.call(this,K,st);if(window.HTMLIFrameElement&&it instanceof window.HTMLIFrameElement)try{it=it.contentDocument.head}catch(pt){it=null}V[K]=it}return V[K]}}(),y=null,k=0,E=[],C=L(5);function v(W,V){for(var K=0;K<W.length;K++){var st=W[K],it=s[st.id];if(it){it.refs++;for(var pt=0;pt<it.parts.length;pt++)it.parts[pt](st.parts[pt]);for(;pt<st.parts.length;pt++)it.parts.push(P(st.parts[pt],V))}else{var ct=[];for(pt=0;pt<st.parts.length;pt++)ct.push(P(st.parts[pt],V));s[st.id]={id:st.id,refs:1,parts:ct}}}}function h(W,V){for(var K=[],st={},it=0;it<W.length;it++){var pt=W[it],ct=V.base?pt[0]+V.base:pt[0],lt={css:pt[1],media:pt[2],sourceMap:pt[3]};st[ct]?st[ct].parts.push(lt):K.push(st[ct]={id:ct,parts:[lt]})}return K}function a(W,V){var K=g(W.insertInto);if(!K)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var st=E[E.length-1];if(W.insertAt==="top")st?st.nextSibling?K.insertBefore(V,st.nextSibling):K.appendChild(V):K.insertBefore(V,K.firstChild),E.push(V);else if(W.insertAt==="bottom")K.appendChild(V);else{if(typeof W.insertAt!="object"||!W.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var it=g(W.insertAt.before,K);K.insertBefore(V,it)}}function O(W){if(W.parentNode===null)return!1;W.parentNode.removeChild(W);var V=E.indexOf(W);V>=0&&E.splice(V,1)}function _(W){var V=document.createElement("style");if(W.attrs.type===void 0&&(W.attrs.type="text/css"),W.attrs.nonce===void 0){var K=function(){return L.nc}();K&&(W.attrs.nonce=K)}return M(V,W.attrs),a(W,V),V}function M(W,V){Object.keys(V).forEach(function(K){W.setAttribute(K,V[K])})}function P(W,V){var K,st,it,pt;if(V.transform&&W.css){if(!(pt=typeof V.transform=="function"?V.transform(W.css):V.transform.default(W.css)))return function(){};W.css=pt}if(V.singleton){var ct=k++;K=y||(y=_(V)),st=F.bind(null,K,ct,!1),it=F.bind(null,K,ct,!0)}else W.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(K=function(lt){var J=document.createElement("link");return lt.attrs.type===void 0&&(lt.attrs.type="text/css"),lt.attrs.rel="stylesheet",M(J,lt.attrs),a(lt,J),J}(V),st=X.bind(null,K,V),it=function(){O(K),K.href&&URL.revokeObjectURL(K.href)}):(K=_(V),st=j.bind(null,K),it=function(){O(K)});return st(W),function(lt){if(lt){if(lt.css===W.css&&lt.media===W.media&&lt.sourceMap===W.sourceMap)return;st(W=lt)}else it()}}f.exports=function(W,V){if(typeof DEBUG!="undefined"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(V=V||{}).attrs=typeof V.attrs=="object"?V.attrs:{},V.singleton||typeof V.singleton=="boolean"||(V.singleton=n()),V.insertInto||(V.insertInto="head"),V.insertAt||(V.insertAt="bottom");var K=h(W,V);return v(K,V),function(st){for(var it=[],pt=0;pt<K.length;pt++){var ct=K[pt];(lt=s[ct.id]).refs--,it.push(lt)}for(st&&v(h(st,V),V),pt=0;pt<it.length;pt++){var lt;if((lt=it[pt]).refs===0){for(var J=0;J<lt.parts.length;J++)lt.parts[J]();delete s[lt.id]}}}};var R,$=(R=[],function(W,V){return R[W]=V,R.filter(Boolean).join(`
`)});function F(W,V,K,st){var it=K?"":st.css;if(W.styleSheet)W.styleSheet.cssText=$(V,it);else{var pt=document.createTextNode(it),ct=W.childNodes;ct[V]&&W.removeChild(ct[V]),ct.length?W.insertBefore(pt,ct[V]):W.appendChild(pt)}}function j(W,V){var K=V.css,st=V.media;if(st&&W.setAttribute("media",st),W.styleSheet)W.styleSheet.cssText=K;else{for(;W.firstChild;)W.removeChild(W.firstChild);W.appendChild(document.createTextNode(K))}}function X(W,V,K){var st=K.css,it=K.sourceMap,pt=V.convertToAbsoluteUrls===void 0&&it;(V.convertToAbsoluteUrls||pt)&&(st=C(st)),it&&(st+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(it))))+" */");var ct=new Blob([st],{type:"text/css"}),lt=W.href;W.href=URL.createObjectURL(ct),lt&&URL.revokeObjectURL(lt)}},function(f,I){f.exports=function(L){var d=typeof window!="undefined"&&window.location;if(!d)throw new Error("fixUrls requires window.location");if(!L||typeof L!="string")return L;var u=d.protocol+"//"+d.host,s=u+d.pathname.replace(/\/[^\/]*$/,"/");return L.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(n,m){var g,y=m.trim().replace(/^"(.*)"$/,function(k,E){return E}).replace(/^'(.*)'$/,function(k,E){return E});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(y)?n:(g=y.indexOf("//")===0?y:y.indexOf("/")===0?u+y:s+y.replace(/^\.\//,""),"url("+JSON.stringify(g)+")")})}},function(f,I,L){function d(W,V,K={}){const st=document.createElement(W);Array.isArray(V)?st.classList.add(...V):V&&st.classList.add(V);for(const it in K)Object.prototype.hasOwnProperty.call(K,it)&&(st[it]=K[it]);return st}function u(W){const V=W.getBoundingClientRect();return{y1:Math.floor(V.top+window.pageYOffset),x1:Math.floor(V.left+window.pageXOffset),x2:Math.floor(V.right+window.pageXOffset),y2:Math.floor(V.bottom+window.pageYOffset)}}function s(W,V){const K=u(W),st=u(V);return{fromTopBorder:st.y1-K.y1,fromLeftBorder:st.x1-K.x1,fromRightBorder:K.x2-st.x2,fromBottomBorder:K.y2-st.y2}}function n(W,V){return V.parentNode.insertBefore(W,V)}function m(W,V=!0){const K=document.createRange(),st=window.getSelection();K.selectNodeContents(W),K.collapse(V),st.removeAllRanges(),st.addRange(K)}L.r(I);class g{constructor({items:V}){this.items=V,this.wrapper=void 0,this.itemEls=[]}static get CSS(){return{popover:"tc-popover",popoverOpened:"tc-popover--opened",item:"tc-popover__item",itemHidden:"tc-popover__item--hidden",itemConfirmState:"tc-popover__item--confirm",itemIcon:"tc-popover__item-icon",itemLabel:"tc-popover__item-label"}}render(){return this.wrapper=d("div",g.CSS.popover),this.items.forEach((V,K)=>{const st=d("div",g.CSS.item),it=d("div",g.CSS.itemIcon,{innerHTML:V.icon}),pt=d("div",g.CSS.itemLabel,{textContent:V.label});st.dataset.index=K,st.appendChild(it),st.appendChild(pt),this.wrapper.appendChild(st),this.itemEls.push(st)}),this.wrapper.addEventListener("click",V=>{this.popoverClicked(V)}),this.wrapper}popoverClicked(V){const K=V.target.closest("."+g.CSS.item);if(!K)return;const st=K.dataset.index,it=this.items[st];!it.confirmationRequired||this.hasConfirmationState(K)?it.onClick():this.setConfirmationState(K)}setConfirmationState(V){V.classList.add(g.CSS.itemConfirmState)}clearConfirmationState(V){V.classList.remove(g.CSS.itemConfirmState)}hasConfirmationState(V){return V.classList.contains(g.CSS.itemConfirmState)}get opened(){return this.wrapper.classList.contains(g.CSS.popoverOpened)}open(){this.items.forEach((V,K)=>{typeof V.hideIf=="function"&&this.itemEls[K].classList.toggle(g.CSS.itemHidden,V.hideIf())}),this.wrapper.classList.add(g.CSS.popoverOpened)}close(){this.wrapper.classList.remove(g.CSS.popoverOpened),this.itemEls.forEach(V=>{this.clearConfirmationState(V)})}}var y=L(0),k=L.n(y);class E{constructor({api:V,items:K,onOpen:st,onClose:it,cssModifier:pt=""}){this.api=V,this.items=K,this.onOpen=st,this.onClose=it,this.cssModifier=pt,this.popover=null,this.wrapper=this.createToolbox()}static get CSS(){return{toolbox:"tc-toolbox",toolboxShowed:"tc-toolbox--showed",toggler:"tc-toolbox__toggler"}}get element(){return this.wrapper}createToolbox(){const V=d("div",[E.CSS.toolbox,this.cssModifier?`${E.CSS.toolbox}--${this.cssModifier}`:""]),K=this.createPopover(),st=this.createToggler();return V.appendChild(st),V.appendChild(K),V}createToggler(){const V=d("div",E.CSS.toggler,{innerHTML:k.a});return V.addEventListener("click",()=>{this.togglerClicked()}),V}createPopover(){return this.popover=new g({items:this.items}),this.popover.render()}togglerClicked(){this.popover.opened?(this.popover.close(),this.onClose()):(this.popover.open(),this.onOpen())}show(V){const K=V();Object.entries(K).forEach(([st,it])=>{this.wrapper.style[st]=it}),this.wrapper.classList.add(E.CSS.toolboxShowed)}hide(){this.popover.close(),this.wrapper.classList.remove(E.CSS.toolboxShowed)}}const C='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',v='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',h="tc-wrap",a="tc-wrap--readonly",O="tc-table",_="tc-row",M="tc-table--heading",P="tc-row--selected",R="tc-cell",$="tc-cell--selected",F="tc-add-row",j="tc-add-column";class X{constructor(V,K,st,it){this.readOnly=V,this.api=K,this.data=st,this.config=it,this.wrapper=null,this.table=null,this.toolboxColumn=this.createColumnToolbox(),this.toolboxRow=this.createRowToolbox(),this.createTableWrapper(),this.hoveredRow=0,this.hoveredColumn=0,this.selectedRow=0,this.selectedColumn=0,this.tunes={withHeadings:!1},this.resize(),this.fill(),this.focusedCell={row:0,column:0},this.documentClicked=pt=>{const ct=pt.target.closest("."+O)!==null,lt=pt.target.closest("."+h)===null;(ct||lt)&&this.hideToolboxes();const J=pt.target.closest("."+F),Bt=pt.target.closest("."+j);J&&J.parentNode===this.wrapper?(this.addRow(void 0,!0),this.hideToolboxes()):Bt&&Bt.parentNode===this.wrapper&&(this.addColumn(void 0,!0),this.hideToolboxes())},this.readOnly||this.bindEvents()}getWrapper(){return this.wrapper}bindEvents(){document.addEventListener("click",this.documentClicked),this.table.addEventListener("mousemove",function(V,K){let st=0;return function(...it){const pt=new Date().getTime();if(!(pt-st<V))return st=pt,K(...it)}}(150,V=>this.onMouseMoveInTable(V)),{passive:!0}),this.table.onkeypress=V=>this.onKeyPressListener(V),this.table.addEventListener("keydown",V=>this.onKeyDownListener(V)),this.table.addEventListener("focusin",V=>this.focusInTableListener(V))}createColumnToolbox(){return new E({api:this.api,cssModifier:"column",items:[{label:this.api.i18n.t("Add column to left"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.9167 14.9167L11.5833 18.25M11.5833 18.25L8.25 14.9167M11.5833 18.25L11.5833 10.0833C11.5833 9.19928 11.9345 8.35143 12.5596 7.72631C13.1848 7.10119 14.0326 6.75 14.9167 6.75"/></svg>',onClick:()=>{this.addColumn(this.selectedColumn,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Add column to right"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.13333 14.9167L12.4667 18.25M12.4667 18.25L15.8 14.9167M12.4667 18.25L12.4667 10.0833C12.4667 9.19928 12.1155 8.35143 11.4904 7.72631C10.8652 7.10119 10.0174 6.75 9.13333 6.75"/></svg>',onClick:()=>{this.addColumn(this.selectedColumn+1,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Delete column"),icon:C,hideIf:()=>this.numberOfColumns===1,confirmationRequired:!0,onClick:()=>{this.deleteColumn(this.selectedColumn),this.hideToolboxes()}}],onOpen:()=>{this.selectColumn(this.hoveredColumn),this.hideRowToolbox()},onClose:()=>{this.unselectColumn()}})}createRowToolbox(){return new E({api:this.api,cssModifier:"row",items:[{label:this.api.i18n.t("Add row above"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.8833 15.8333L18.2167 12.5M18.2167 12.5L14.8833 9.16667M18.2167 12.5L10.05 12.5C9.16595 12.5 8.31811 12.8512 7.69299 13.4763C7.06787 14.1014 6.71667 14.9493 6.71667 15.8333"/></svg>',onClick:()=>{this.addRow(this.selectedRow,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Add row below"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.8833 9.16666L18.2167 12.5M18.2167 12.5L14.8833 15.8333M18.2167 12.5H10.05C9.16594 12.5 8.31809 12.1488 7.69297 11.5237C7.06785 10.8986 6.71666 10.0507 6.71666 9.16666"/></svg>',onClick:()=>{this.addRow(this.selectedRow+1,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Delete row"),icon:C,hideIf:()=>this.numberOfRows===1,confirmationRequired:!0,onClick:()=>{this.deleteRow(this.selectedRow),this.hideToolboxes()}}],onOpen:()=>{this.selectRow(this.hoveredRow),this.hideColumnToolbox()},onClose:()=>{this.unselectRow()}})}moveCursorToNextRow(){this.focusedCell.row!==this.numberOfRows?(this.focusedCell.row+=1,this.focusCell(this.focusedCell)):(this.addRow(),this.focusedCell.row+=1,this.focusCell(this.focusedCell),this.updateToolboxesPosition(0,0))}getCell(V,K){return this.table.querySelectorAll(`.${_}:nth-child(${V}) .${R}`)[K-1]}getRow(V){return this.table.querySelector(`.${_}:nth-child(${V})`)}getRowByCell(V){return V.parentElement}getRowFirstCell(V){return V.querySelector(`.${R}:first-child`)}setCellContent(V,K,st){this.getCell(V,K).innerHTML=st}addColumn(V=-1,K=!1){let st=this.numberOfColumns;for(let it=1;it<=this.numberOfRows;it++){let pt;const ct=this.createCell();if(V>0&&V<=st?(pt=this.getCell(it,V),n(ct,pt)):pt=this.getRow(it).appendChild(ct),it===1){const lt=this.getCell(it,V>0?V:st+1);lt&&K&&m(lt)}}this.addHeadingAttrToFirstRow()}addRow(V=-1,K=!1){let st,it=d("div",_);this.tunes.withHeadings&&this.removeHeadingAttrFromFirstRow();let pt=this.numberOfColumns;V>0&&V<=this.numberOfRows?st=n(it,this.getRow(V)):st=this.table.appendChild(it),this.fillRow(st,pt),this.tunes.withHeadings&&this.addHeadingAttrToFirstRow();const ct=this.getRowFirstCell(st);return ct&&K&&m(ct),st}deleteColumn(V){for(let K=1;K<=this.numberOfRows;K++){const st=this.getCell(K,V);if(!st)return;st.remove()}}deleteRow(V){this.getRow(V).remove(),this.addHeadingAttrToFirstRow()}createTableWrapper(){if(this.wrapper=d("div",h),this.table=d("div",O),this.readOnly&&this.wrapper.classList.add(a),this.wrapper.appendChild(this.toolboxRow.element),this.wrapper.appendChild(this.toolboxColumn.element),this.wrapper.appendChild(this.table),!this.readOnly){const V=d("div",j,{innerHTML:v}),K=d("div",F,{innerHTML:v});this.wrapper.appendChild(V),this.wrapper.appendChild(K)}}computeInitialSize(){const V=this.data&&this.data.content,K=Array.isArray(V),st=!!K&&V.length,it=K?V.length:void 0,pt=st?V[0].length:void 0,ct=Number.parseInt(this.config&&this.config.rows),lt=Number.parseInt(this.config&&this.config.cols),J=!isNaN(ct)&&ct>0?ct:void 0,Bt=!isNaN(lt)&&lt>0?lt:void 0;return{rows:it||J||2,cols:pt||Bt||2}}resize(){const{rows:V,cols:K}=this.computeInitialSize();for(let st=0;st<V;st++)this.addRow();for(let st=0;st<K;st++)this.addColumn()}fill(){const V=this.data;if(V&&V.content)for(let K=0;K<V.content.length;K++)for(let st=0;st<V.content[K].length;st++)this.setCellContent(K+1,st+1,V.content[K][st])}fillRow(V,K){for(let st=1;st<=K;st++){const it=this.createCell();V.appendChild(it)}}createCell(){return d("div",R,{contentEditable:!this.readOnly})}get numberOfRows(){return this.table.childElementCount}get numberOfColumns(){return this.numberOfRows?this.table.querySelectorAll(`.${_}:first-child .${R}`).length:0}get isColumnMenuShowing(){return this.selectedColumn!==0}get isRowMenuShowing(){return this.selectedRow!==0}onMouseMoveInTable(V){const{row:K,column:st}=this.getHoveredCell(V);this.hoveredColumn=st,this.hoveredRow=K,this.updateToolboxesPosition()}onKeyPressListener(V){if(V.key==="Enter"){if(V.shiftKey)return!0;this.moveCursorToNextRow()}return V.key!=="Enter"}onKeyDownListener(V){V.key==="Tab"&&V.stopPropagation()}focusInTableListener(V){const K=V.target,st=this.getRowByCell(K);this.focusedCell={row:Array.from(this.table.querySelectorAll("."+_)).indexOf(st)+1,column:Array.from(st.querySelectorAll("."+R)).indexOf(K)+1}}hideToolboxes(){this.hideRowToolbox(),this.hideColumnToolbox(),this.updateToolboxesPosition()}hideRowToolbox(){this.unselectRow(),this.toolboxRow.hide()}hideColumnToolbox(){this.unselectColumn(),this.toolboxColumn.hide()}focusCell(){this.focusedCellElem.focus()}get focusedCellElem(){const{row:V,column:K}=this.focusedCell;return this.getCell(V,K)}updateToolboxesPosition(V=this.hoveredRow,K=this.hoveredColumn){this.isColumnMenuShowing||K>0&&K<=this.numberOfColumns&&this.toolboxColumn.show(()=>({left:`calc((100% - var(--cell-size)) / (${this.numberOfColumns} * 2) * (1 + (${K} - 1) * 2))`})),this.isRowMenuShowing||V>0&&V<=this.numberOfRows&&this.toolboxRow.show(()=>{const st=this.getRow(V),{fromTopBorder:it}=s(this.table,st),{height:pt}=st.getBoundingClientRect();return{top:Math.ceil(it+pt/2)+"px"}})}setHeadingsSetting(V){this.tunes.withHeadings=V,V?(this.table.classList.add(M),this.addHeadingAttrToFirstRow()):(this.table.classList.remove(M),this.removeHeadingAttrFromFirstRow())}addHeadingAttrToFirstRow(){for(let V=1;V<=this.numberOfColumns;V++){let K=this.getCell(1,V);K&&K.setAttribute("heading",this.api.i18n.t("Heading"))}}removeHeadingAttrFromFirstRow(){for(let V=1;V<=this.numberOfColumns;V++){let K=this.getCell(1,V);K&&K.removeAttribute("heading")}}selectRow(V){const K=this.getRow(V);K&&(this.selectedRow=V,K.classList.add(P))}unselectRow(){if(this.selectedRow<=0)return;const V=this.table.querySelector("."+P);V&&V.classList.remove(P),this.selectedRow=0}selectColumn(V){for(let K=1;K<=this.numberOfRows;K++){const st=this.getCell(K,V);st&&st.classList.add($)}this.selectedColumn=V}unselectColumn(){if(this.selectedColumn<=0)return;let V=this.table.querySelectorAll("."+$);Array.from(V).forEach(K=>{K.classList.remove($)}),this.selectedColumn=0}getHoveredCell(V){let K=this.hoveredRow,st=this.hoveredColumn;const{width:it,height:pt,x:ct,y:lt}=function(J,Bt){const Tt=J.getBoundingClientRect(),{width:Ct,height:St,x:at,y:yt}=Tt,{clientX:kt,clientY:xt}=Bt;return{width:Ct,height:St,x:kt-at,y:xt-yt}}(this.table,V);return ct>=0&&(st=this.binSearch(this.numberOfColumns,J=>this.getCell(1,J),({fromLeftBorder:J})=>ct<J,({fromRightBorder:J})=>ct>it-J)),lt>=0&&(K=this.binSearch(this.numberOfRows,J=>this.getCell(J,1),({fromTopBorder:J})=>lt<J,({fromBottomBorder:J})=>lt>pt-J)),{row:K||this.hoveredRow,column:st||this.hoveredColumn}}binSearch(V,K,st,it){let pt,ct=0,lt=V+1,J=0;for(;ct<lt-1&&J<10;){pt=Math.ceil((ct+lt)/2);const Bt=K(pt),Tt=s(this.table,Bt);if(st(Tt))lt=pt;else{if(!it(Tt))break;ct=pt}J++}return pt}getData(){const V=[];for(let K=1;K<=this.numberOfRows;K++){const st=this.table.querySelector(`.${_}:nth-child(${K})`),it=Array.from(st.querySelectorAll("."+R));it.every(pt=>!pt.textContent.trim())||V.push(it.map(pt=>pt.innerHTML))}return V}destroy(){document.removeEventListener("click",this.documentClicked)}}L(1),I.default=class{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}constructor({data:W,config:V,api:K,readOnly:st}){this.api=K,this.readOnly=st,this.config=V,this.data={withHeadings:this.getConfig("withHeadings",!1,W),content:W&&W.content?W.content:[]},this.table=null}static get toolbox(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M10 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',title:"Table"}}render(){return this.table=new X(this.readOnly,this.api,this.data,this.config),this.container=d("div",this.api.styles.block),this.container.appendChild(this.table.getWrapper()),this.table.setHeadingsSetting(this.data.withHeadings),this.container}renderSettings(){return[{label:this.api.i18n.t("With headings"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',isActive:this.data.withHeadings,closeOnActivate:!0,toggle:!0,onActivate:()=>{this.data.withHeadings=!0,this.table.setHeadingsSetting(this.data.withHeadings)}},{label:this.api.i18n.t("Without headings"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M10 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M14 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><path stroke="currentColor" stroke-width="2" d="M5 14H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',isActive:!this.data.withHeadings,closeOnActivate:!0,toggle:!0,onActivate:()=>{this.data.withHeadings=!1,this.table.setHeadingsSetting(this.data.withHeadings)}}]}save(){const W=this.table.getData();return{withHeadings:this.data.withHeadings,content:W}}destroy(){this.table.destroy()}getConfig(W,V,K){const st=this.data||K;return st?st[W]?st[W]:V:this.config&&this.config[W]?this.config[W]:V}static get pasteConfig(){return{tags:["TABLE","TR","TH","TD"]}}onPaste(W){const V=W.detail.data,K=V.querySelector(":scope > thead, tr:first-of-type th"),st=Array.from(V.querySelectorAll("tr")).map(it=>Array.from(it.querySelectorAll("th, td")).map(pt=>pt.innerHTML));this.data={withHeadings:K!==null,content:st},this.table.wrapper&&this.table.wrapper.replaceWith(this.render())}}}]).default})})(C8);var eE=C8.exports;const nE=mc(eE);var S8={exports:{}};(function(U,l){(function(f,I){U.exports=I()})(window,function(){return function(f){var I={};function L(d){if(I[d])return I[d].exports;var u=I[d]={i:d,l:!1,exports:{}};return f[d].call(u.exports,u,u.exports,L),u.l=!0,u.exports}return L.m=f,L.c=I,L.d=function(d,u,s){L.o(d,u)||Object.defineProperty(d,u,{enumerable:!0,get:s})},L.r=function(d){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},L.t=function(d,u){if(1&u&&(d=L(d)),8&u||4&u&&typeof d=="object"&&d&&d.__esModule)return d;var s=Object.create(null);if(L.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:d}),2&u&&typeof d!="string")for(var n in d)L.d(s,n,function(m){return d[m]}.bind(null,n));return s},L.n=function(d){var u=d&&d.__esModule?function(){return d.default}:function(){return d};return L.d(u,"a",u),u},L.o=function(d,u){return Object.prototype.hasOwnProperty.call(d,u)},L.p="/",L(L.s=4)}([function(f,I,L){var d=L(1),u=L(2);typeof(u=u.__esModule?u.default:u)=="string"&&(u=[[f.i,u,""]]);var s={insert:"head",singleton:!1};d(u,s),f.exports=u.locals||{}},function(f,I,L){var d,u=function(){return d===void 0&&(d=!!(window&&document&&document.all&&!window.atob)),d},s=function(){var _={};return function(M){if(_[M]===void 0){var P=document.querySelector(M);if(window.HTMLIFrameElement&&P instanceof window.HTMLIFrameElement)try{P=P.contentDocument.head}catch(R){P=null}_[M]=P}return _[M]}}(),n=[];function m(_){for(var M=-1,P=0;P<n.length;P++)if(n[P].identifier===_){M=P;break}return M}function g(_,M){for(var P={},R=[],$=0;$<_.length;$++){var F=_[$],j=M.base?F[0]+M.base:F[0],X=P[j]||0,W="".concat(j," ").concat(X);P[j]=X+1;var V=m(W),K={css:F[1],media:F[2],sourceMap:F[3]};V!==-1?(n[V].references++,n[V].updater(K)):n.push({identifier:W,updater:O(K,M),references:1}),R.push(W)}return R}function y(_){var M=document.createElement("style"),P=_.attributes||{};if(P.nonce===void 0){var R=L.nc;R&&(P.nonce=R)}if(Object.keys(P).forEach(function(F){M.setAttribute(F,P[F])}),typeof _.insert=="function")_.insert(M);else{var $=s(_.insert||"head");if(!$)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");$.appendChild(M)}return M}var k,E=(k=[],function(_,M){return k[_]=M,k.filter(Boolean).join(`
`)});function C(_,M,P,R){var $=P?"":R.media?"@media ".concat(R.media," {").concat(R.css,"}"):R.css;if(_.styleSheet)_.styleSheet.cssText=E(M,$);else{var F=document.createTextNode($),j=_.childNodes;j[M]&&_.removeChild(j[M]),j.length?_.insertBefore(F,j[M]):_.appendChild(F)}}function v(_,M,P){var R=P.css,$=P.media,F=P.sourceMap;if($?_.setAttribute("media",$):_.removeAttribute("media"),F&&btoa&&(R+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(F))))," */")),_.styleSheet)_.styleSheet.cssText=R;else{for(;_.firstChild;)_.removeChild(_.firstChild);_.appendChild(document.createTextNode(R))}}var h=null,a=0;function O(_,M){var P,R,$;if(M.singleton){var F=a++;P=h||(h=y(M)),R=C.bind(null,P,F,!1),$=C.bind(null,P,F,!0)}else P=y(M),R=v.bind(null,P,M),$=function(){(function(j){if(j.parentNode===null)return!1;j.parentNode.removeChild(j)})(P)};return R(_),function(j){if(j){if(j.css===_.css&&j.media===_.media&&j.sourceMap===_.sourceMap)return;R(_=j)}else $()}}f.exports=function(_,M){(M=M||{}).singleton||typeof M.singleton=="boolean"||(M.singleton=u());var P=g(_=_||[],M);return function(R){if(R=R||[],Object.prototype.toString.call(R)==="[object Array]"){for(var $=0;$<P.length;$++){var F=m(P[$]);n[F].references--}for(var j=g(R,M),X=0;X<P.length;X++){var W=m(P[X]);n[W].references===0&&(n[W].updater(),n.splice(W,1))}P=j}}}},function(f,I,L){(I=L(3)(!1)).push([f.i,`.cdx-strikethrough {
    text-decoration: line-through;
}
`,""]),f.exports=I},function(f,I,L){f.exports=function(d){var u=[];return u.toString=function(){return this.map(function(s){var n=function(m,g){var y=m[1]||"",k=m[3];if(!k)return y;if(g&&typeof btoa=="function"){var E=(v=k,h=btoa(unescape(encodeURIComponent(JSON.stringify(v)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(h),"/*# ".concat(a," */")),C=k.sources.map(function(O){return"/*# sourceURL=".concat(k.sourceRoot||"").concat(O," */")});return[y].concat(C).concat([E]).join(`
`)}var v,h,a;return[y].join(`
`)}(s,d);return s[2]?"@media ".concat(s[2]," {").concat(n,"}"):n}).join("")},u.i=function(s,n,m){typeof s=="string"&&(s=[[null,s,""]]);var g={};if(m)for(var y=0;y<this.length;y++){var k=this[y][0];k!=null&&(g[k]=!0)}for(var E=0;E<s.length;E++){var C=[].concat(s[E]);m&&g[C[0]]||(n&&(C[2]?C[2]="".concat(n," and ").concat(C[2]):C[2]=n),u.push(C))}},u}},function(f,I,L){L.r(I),L.d(I,"default",function(){return s}),L(0);function d(n,m){for(var g=0;g<m.length;g++){var y=m[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(n,y.key,y)}}function u(n,m,g){return m&&d(n.prototype,m),g&&d(n,g),n}var s=function(){function n(m){var g=m.api;(function(y,k){if(!(y instanceof k))throw new TypeError("Cannot call a class as a function")})(this,n),this.api=g,this.button=null,this.tag="S",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}return u(n,null,[{key:"CSS",get:function(){return"cdx-strikethrough"}}]),u(n,[{key:"render",value:function(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}},{key:"surround",value:function(m){if(m){var g=this.api.selection.findParentTag(this.tag,n.CSS);g?this.unwrap(g):this.wrap(m)}}},{key:"wrap",value:function(m){var g=document.createElement(this.tag);g.classList.add(n.CSS),g.appendChild(m.extractContents()),m.insertNode(g),this.api.selection.expandToTag(g)}},{key:"unwrap",value:function(m){this.api.selection.expandToTag(m);var g=window.getSelection(),y=g.getRangeAt(0),k=y.extractContents();m.parentNode.removeChild(m),y.insertNode(k),g.removeAllRanges(),g.addRange(y)}},{key:"checkState",value:function(){var m=this.api.selection.findParentTag(this.tag,n.CSS);this.button.classList.toggle(this.iconClasses.active,!!m)}},{key:"toolboxIcon",get:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 8.50001C13.5 7 10.935 6.66476 9.75315 7.79706C9.27092 8.25909 9 8.88574 9 9.53915C9 10.1926 9.27092 10.8192 9.75315 11.2812C10.9835 12.46 13.0165 11.5457 14.2468 12.7244C14.7291 13.1865 15 13.8131 15 14.4665C15 15.1199 14.7291 15.7466 14.2468 16.2086C12.8659 17.5317 10 17.5 9 16"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 12H18"/></svg>'}}],[{key:"isInline",get:function(){return!0}},{key:"sanitize",get:function(){return{s:{class:n.CSS}}}}]),n}()}]).default})})(S8);var rE=S8.exports;const iE=mc(rE);var E8={exports:{}};(function(U,l){(function(f,I){U.exports=I()})(window,function(){return function(f){var I={};function L(d){if(I[d])return I[d].exports;var u=I[d]={i:d,l:!1,exports:{}};return f[d].call(u.exports,u,u.exports,L),u.l=!0,u.exports}return L.m=f,L.c=I,L.d=function(d,u,s){L.o(d,u)||Object.defineProperty(d,u,{enumerable:!0,get:s})},L.r=function(d){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},L.t=function(d,u){if(1&u&&(d=L(d)),8&u||4&u&&typeof d=="object"&&d&&d.__esModule)return d;var s=Object.create(null);if(L.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:d}),2&u&&typeof d!="string")for(var n in d)L.d(s,n,function(m){return d[m]}.bind(null,n));return s},L.n=function(d){var u=d&&d.__esModule?function(){return d.default}:function(){return d};return L.d(u,"a",u),u},L.o=function(d,u){return Object.prototype.hasOwnProperty.call(d,u)},L.p="/",L(L.s=4)}([function(f,I,L){var d=L(1),u=L(2);typeof(u=u.__esModule?u.default:u)=="string"&&(u=[[f.i,u,""]]);var s={insert:"head",singleton:!1};d(u,s),f.exports=u.locals||{}},function(f,I,L){var d,u=function(){return d===void 0&&(d=!!(window&&document&&document.all&&!window.atob)),d},s=function(){var _={};return function(M){if(_[M]===void 0){var P=document.querySelector(M);if(window.HTMLIFrameElement&&P instanceof window.HTMLIFrameElement)try{P=P.contentDocument.head}catch(R){P=null}_[M]=P}return _[M]}}(),n=[];function m(_){for(var M=-1,P=0;P<n.length;P++)if(n[P].identifier===_){M=P;break}return M}function g(_,M){for(var P={},R=[],$=0;$<_.length;$++){var F=_[$],j=M.base?F[0]+M.base:F[0],X=P[j]||0,W="".concat(j," ").concat(X);P[j]=X+1;var V=m(W),K={css:F[1],media:F[2],sourceMap:F[3]};V!==-1?(n[V].references++,n[V].updater(K)):n.push({identifier:W,updater:O(K,M),references:1}),R.push(W)}return R}function y(_){var M=document.createElement("style"),P=_.attributes||{};if(P.nonce===void 0){var R=L.nc;R&&(P.nonce=R)}if(Object.keys(P).forEach(function(F){M.setAttribute(F,P[F])}),typeof _.insert=="function")_.insert(M);else{var $=s(_.insert||"head");if(!$)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");$.appendChild(M)}return M}var k,E=(k=[],function(_,M){return k[_]=M,k.filter(Boolean).join(`
`)});function C(_,M,P,R){var $=P?"":R.media?"@media ".concat(R.media," {").concat(R.css,"}"):R.css;if(_.styleSheet)_.styleSheet.cssText=E(M,$);else{var F=document.createTextNode($),j=_.childNodes;j[M]&&_.removeChild(j[M]),j.length?_.insertBefore(F,j[M]):_.appendChild(F)}}function v(_,M,P){var R=P.css,$=P.media,F=P.sourceMap;if($?_.setAttribute("media",$):_.removeAttribute("media"),F&&btoa&&(R+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(F))))," */")),_.styleSheet)_.styleSheet.cssText=R;else{for(;_.firstChild;)_.removeChild(_.firstChild);_.appendChild(document.createTextNode(R))}}var h=null,a=0;function O(_,M){var P,R,$;if(M.singleton){var F=a++;P=h||(h=y(M)),R=C.bind(null,P,F,!1),$=C.bind(null,P,F,!0)}else P=y(M),R=v.bind(null,P,M),$=function(){(function(j){if(j.parentNode===null)return!1;j.parentNode.removeChild(j)})(P)};return R(_),function(j){if(j){if(j.css===_.css&&j.media===_.media&&j.sourceMap===_.sourceMap)return;R(_=j)}else $()}}f.exports=function(_,M){(M=M||{}).singleton||typeof M.singleton=="boolean"||(M.singleton=u());var P=g(_=_||[],M);return function(R){if(R=R||[],Object.prototype.toString.call(R)==="[object Array]"){for(var $=0;$<P.length;$++){var F=m(P[$]);n[F].references--}for(var j=g(R,M),X=0;X<P.length;X++){var W=m(P[X]);n[W].references===0&&(n[W].updater(),n.splice(W,1))}P=j}}}},function(f,I,L){(I=L(3)(!1)).push([f.i,`.ce-code__textarea {
    min-height: 200px;
    font-family: Menlo, Monaco, Consolas, Courier New, monospace;
    color: #41314e;
    line-height: 1.6em;
    font-size: 12px;
    background: #f8f7fa;
    border: 1px solid #f1f1f4;
    box-shadow: none;
    white-space: pre;
    word-wrap: normal;
    overflow-x: auto;
    resize: vertical;
}
`,""]),f.exports=I},function(f,I,L){f.exports=function(d){var u=[];return u.toString=function(){return this.map(function(s){var n=function(m,g){var y=m[1]||"",k=m[3];if(!k)return y;if(g&&typeof btoa=="function"){var E=(v=k,h=btoa(unescape(encodeURIComponent(JSON.stringify(v)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(h),"/*# ".concat(a," */")),C=k.sources.map(function(O){return"/*# sourceURL=".concat(k.sourceRoot||"").concat(O," */")});return[y].concat(C).concat([E]).join(`
`)}var v,h,a;return[y].join(`
`)}(s,d);return s[2]?"@media ".concat(s[2]," {").concat(n,"}"):n}).join("")},u.i=function(s,n,m){typeof s=="string"&&(s=[[null,s,""]]);var g={};if(m)for(var y=0;y<this.length;y++){var k=this[y][0];k!=null&&(g[k]=!0)}for(var E=0;E<s.length;E++){var C=[].concat(s[E]);m&&g[C[0]]||(n&&(C[2]?C[2]="".concat(n," and ").concat(C[2]):C[2]=n),u.push(C))}},u}},function(f,I,L){L.r(I),L.d(I,"default",function(){return s}),L(0);function d(n,m){for(var g=0;g<m.length;g++){var y=m[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(n,y.key,y)}}function u(n,m,g){return m&&d(n.prototype,m),g&&d(n,g),n}/**
 * CodeTool for Editor.js
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license MIT
 * @version 2.0.0
 */var s=function(){function n(m){var g=m.data,y=m.config,k=m.api,E=m.readOnly;(function(C,v){if(!(C instanceof v))throw new TypeError("Cannot call a class as a function")})(this,n),this.api=k,this.readOnly=E,this.placeholder=this.api.i18n.t(y.placeholder||n.DEFAULT_PLACEHOLDER),this.CSS={baseClass:this.api.styles.block,input:this.api.styles.input,wrapper:"ce-code",textarea:"ce-code__textarea"},this.nodes={holder:null,textarea:null},this.data={code:g.code||""},this.nodes.holder=this.drawView()}return u(n,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"enableLineBreaks",get:function(){return!0}}]),u(n,[{key:"drawView",value:function(){var m=this,g=document.createElement("div"),y=document.createElement("textarea");return g.classList.add(this.CSS.baseClass,this.CSS.wrapper),y.classList.add(this.CSS.textarea,this.CSS.input),y.textContent=this.data.code,y.placeholder=this.placeholder,this.readOnly&&(y.disabled=!0),g.appendChild(y),y.addEventListener("keydown",function(k){switch(k.code){case"Tab":m.tabHandler(k)}}),this.nodes.textarea=y,g}},{key:"render",value:function(){return this.nodes.holder}},{key:"save",value:function(m){return{code:m.querySelector("textarea").value}}},{key:"onPaste",value:function(m){var g=m.detail.data;this.data={code:g.textContent}}},{key:"tabHandler",value:function(m){m.stopPropagation(),m.preventDefault();var g,y=m.target,k=m.shiftKey,E=y.selectionStart,C=y.value;if(k){var v=function(h,a){for(var O="";O!==`
`&&a>0;)a-=1,O=h.substr(a,1);return O===`
`&&(a+=1),a}(C,E);if(C.substr(v,2)!=="  ")return;y.value=C.substring(0,v)+C.substring(v+2),g=E-2}else g=E+2,y.value=C.substring(0,E)+"  "+C.substring(E);y.setSelectionRange(g,g)}},{key:"data",get:function(){return this._data},set:function(m){this._data=m,this.nodes.textarea&&(this.nodes.textarea.textContent=m.code)}}],[{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 8L5 12L9 16"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 8L19 12L15 16"/></svg>',title:"Code"}}},{key:"DEFAULT_PLACEHOLDER",get:function(){return"Enter a code"}},{key:"pasteConfig",get:function(){return{tags:["pre"]}}},{key:"sanitize",get:function(){return{code:!0}}}]),n}()}]).default})})(E8);var oE=E8.exports;const aE=mc(oE);var T8={exports:{}};/*! For license information please see bundle.js.LICENSE.txt */(function(U,l){(function(f,I){U.exports=I()})(self,()=>(()=>{var f={7967:(d,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.sanitizeUrl=void 0;var s=/^([^\w]*)(javascript|data|vbscript)/im,n=/&#(\w+)(^\w|;)?/g,m=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,g=/^([^:]+):/gm,y=[".","/"];u.sanitizeUrl=function(k){var E,C=(E=k||"",E.replace(n,function(a,O){return String.fromCharCode(O)})).replace(m,"").trim();if(!C)return"about:blank";if(function(a){return y.indexOf(a[0])>-1}(C))return C;var v=C.match(g);if(!v)return C;var h=v[0];return s.test(h)?"about:blank":C}},2352:(d,u,s)=>{const n=s(1140),{nanoid:m}=s(4296);s(8548).toString();const g=y=>"".concat(y).concat(m(10));d.exports=class{static config(y){n.initialize(y)}static get toolbox(){return{title:"mermaid",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8 8"><path fill="#000" d="M.16.63h2.12l1.603 4.713h.02L5.42.63h2.12v6.852H6.13V2.626h-.02L4.43 7.482H3.27L1.59 2.674h-.02v4.808H.16V.63z"/></svg>'}}static get isReadOnlySupported(){return!0}constructor(y){let{data:k,readOnly:E}=y;this.code=k.code,this.caption=k.caption,this.readOnly=E}parse(y,k,E){k.classList.remove("mermaid-preview-error");try{const C=n.render(g("svg-"),y,void 0,E);k.innerHTML="",k.insertAdjacentHTML("afterbegin",C)}catch(C){k.classList.add("mermaid-preview-error"),console.log(C)}}render(){const y=document.createElement("div");y.classList.add("mermaid-container");const k=document.createElement("div");let E=["cdx-block","mermaid-preview"];this.readOnly||E.push("mermaid-preview-border"),k.classList.add(...E),k.setAttribute("id",g("preview-"));const C=document.createElement("textarea");C.classList.add("cdx-input","mermaid-input"),C.setAttribute("spellcheck","false"),C.setAttribute("placeholder","Mermaid code"),C.value=this.code?this.code:"",C.value&&setTimeout(()=>{this.parse(C.value,k,y)},0),C.addEventListener("keyup",a=>{a.preventDefault(),this.parse(C.value,k,y)}),C.addEventListener("keydown",function(a){a.key==="Enter"&&a.stopPropagation()});const v=document.createElement("div");this.readOnly||v.classList.add("cdx-input","mermaid-caption"),v.setAttribute("contenteditable",!this.readOnly),v.dataset.placeholder="Caption",v.innerText=this.caption?this.caption:"";const h=document.createElement("div");return h.classList.add("mermaid-wrapper"),h.appendChild(y),h.appendChild(k),this.readOnly||h.appendChild(C),this.readOnly&&!this.caption||h.appendChild(v),h}validate(y){return y.code.trim()!==""}save(y){return{code:y.querySelector("textarea").value,caption:y.querySelector(".mermaid-caption").innerText}}}},1424:(d,u,s)=>{s.d(u,{Z:()=>k});var n=s(8081),m=s.n(n),g=s(3645),y=s.n(g)()(m());y.push([d.id,`.mermaid-wrapper {
    padding: .4rem 0;
}

.mermaid-container {
    width: 100%;
    position: absolute;
    top: 0;
    left: 0;
    visibility: hidden;
    z-index: -1;
}

.mermaid-preview {
    padding: .6rem;
    min-height: 3rem;
    text-align: center;
}

.mermaid-preview-border {
	border: 1px solid rgba(201, 201, 204, .48);
}    

.mermaid-preview-error {
    opacity: .4;
}

.mermaid-input {
    margin-top: .4rem;
    min-height: 6.25rem;
    line-height: 1.6em;
    font-size: 1rem;
    box-shadow: none;
    white-space: pre;
    word-wrap: normal;
    overflow-x: auto;
    resize: vertical;
}

.mermaid-caption[contenteditable=true]:empty:before{
    content: attr(data-placeholder);
    pointer-events: none;
    color: gray;
}
`,""]);const k=y},3645:d=>{d.exports=function(u){var s=[];return s.toString=function(){return this.map(function(n){var m="",g=n[5]!==void 0;return n[4]&&(m+="@supports (".concat(n[4],") {")),n[2]&&(m+="@media ".concat(n[2]," {")),g&&(m+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),m+=u(n),g&&(m+="}"),n[2]&&(m+="}"),n[4]&&(m+="}"),m}).join("")},s.i=function(n,m,g,y,k){typeof n=="string"&&(n=[[null,n,void 0]]);var E={};if(g)for(var C=0;C<this.length;C++){var v=this[C][0];v!=null&&(E[v]=!0)}for(var h=0;h<n.length;h++){var a=[].concat(n[h]);g&&E[a[0]]||(k!==void 0&&(a[5]===void 0||(a[1]="@layer".concat(a[5].length>0?" ".concat(a[5]):""," {").concat(a[1],"}")),a[5]=k),m&&(a[2]&&(a[1]="@media ".concat(a[2]," {").concat(a[1],"}")),a[2]=m),y&&(a[4]?(a[1]="@supports (".concat(a[4],") {").concat(a[1],"}"),a[4]=y):a[4]="".concat(y)),s.push(a))}},s}},8081:d=>{d.exports=function(u){return u[1]}},4949:(d,u,s)=>{d.exports={graphlib:s(6614),dagre:s(6478),intersect:s(8114),render:s(5787),util:s(8355),version:s(5689)}},9144:(d,u,s)=>{var n=s(8355);function m(g,y,k,E){var C=g.append("marker").attr("id",y).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").style("stroke-width",1).style("stroke-dasharray","1,0");n.applyStyle(C,k[E+"Style"]),k[E+"Class"]&&C.attr("class",k[E+"Class"])}d.exports={default:m,normal:m,vee:function(g,y,k,E){var C=g.append("marker").attr("id",y).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 L 4 5 z").style("stroke-width",1).style("stroke-dasharray","1,0");n.applyStyle(C,k[E+"Style"]),k[E+"Class"]&&C.attr("class",k[E+"Class"])},undirected:function(g,y,k,E){var C=g.append("marker").attr("id",y).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 5 L 10 5").style("stroke-width",1).style("stroke-dasharray","1,0");n.applyStyle(C,k[E+"Style"]),k[E+"Class"]&&C.attr("class",k[E+"Class"])}}},5632:(d,u,s)=>{var n=s(8355),m=s(4322),g=s(1322);d.exports=function(y,k){var E,C=k.nodes().filter(function(h){return n.isSubgraph(k,h)}),v=y.selectAll("g.cluster").data(C,function(h){return h});return v.selectAll("*").remove(),v.enter().append("g").attr("class","cluster").attr("id",function(h){return k.node(h).id}).style("opacity",0),v=y.selectAll("g.cluster"),n.applyTransition(v,k).style("opacity",1),v.each(function(h){var a=k.node(h),O=m.select(this);m.select(this).append("rect");var _=O.append("g").attr("class","label");g(_,a,a.clusterLabelPos)}),v.selectAll("rect").each(function(h){var a=k.node(h),O=m.select(this);n.applyStyle(O,a.style)}),E=v.exit?v.exit():v.selectAll(null),n.applyTransition(E,k).style("opacity",0).remove(),v}},6315:(d,u,s)=>{var n=s(1034),m=s(1322),g=s(8355),y=s(4322);d.exports=function(k,E){var C,v=k.selectAll("g.edgeLabel").data(E.edges(),function(h){return g.edgeToId(h)}).classed("update",!0);return v.exit().remove(),v.enter().append("g").classed("edgeLabel",!0).style("opacity",0),(v=k.selectAll("g.edgeLabel")).each(function(h){var a=y.select(this);a.select(".label").remove();var O=E.edge(h),_=m(a,E.edge(h),0,0).classed("label",!0),M=_.node().getBBox();O.labelId&&_.attr("id",O.labelId),n.has(O,"width")||(O.width=M.width),n.has(O,"height")||(O.height=M.height)}),C=v.exit?v.exit():v.selectAll(null),g.applyTransition(C,E).style("opacity",0).remove(),v}},940:(d,u,s)=>{var n=s(1034),m=s(3042),g=s(8355),y=s(4322);function k(E,C){var v=(y.line||y.svg.line)().x(function(h){return h.x}).y(function(h){return h.y});return(v.curve||v.interpolate)(E.curve),v(C)}d.exports=function(E,C,v){var h=E.selectAll("g.edgePath").data(C.edges(),function(_){return g.edgeToId(_)}).classed("update",!0),a=function(_,M){var P=_.enter().append("g").attr("class","edgePath").style("opacity",0);return P.append("path").attr("class","path").attr("d",function(R){var $=M.edge(R),F=M.node(R.v).elem;return k($,n.range($.points.length).map(function(){return X=(j=F).getBBox(),{x:(W=j.ownerSVGElement.getScreenCTM().inverse().multiply(j.getScreenCTM()).translate(X.width/2,X.height/2)).e,y:W.f};var j,X,W}))}),P.append("defs"),P}(h,C);(function(_,M){var P=_.exit();g.applyTransition(P,M).style("opacity",0).remove()})(h,C);var O=h.merge!==void 0?h.merge(a):h;return g.applyTransition(O,C).style("opacity",1),O.each(function(_){var M=y.select(this),P=C.edge(_);P.elem=this,P.id&&M.attr("id",P.id),g.applyClass(M,P.class,(M.classed("update")?"update ":"")+"edgePath")}),O.selectAll("path.path").each(function(_){var M=C.edge(_);M.arrowheadId=n.uniqueId("arrowhead");var P=y.select(this).attr("marker-end",function(){return"url("+(R=location.href,$=M.arrowheadId,R.split("#")[0]+"#"+$+")");var R,$}).style("fill","none");g.applyTransition(P,C).attr("d",function(R){return function($,F){var j=$.edge(F),X=$.node(F.v),W=$.node(F.w),V=j.points.slice(1,j.points.length-1);return V.unshift(m(X,V[0])),V.push(m(W,V[V.length-1])),k(j,V)}(C,R)}),g.applyStyle(P,M.style)}),O.selectAll("defs *").remove(),O.selectAll("defs").each(function(_){var M=C.edge(_);(0,v[M.arrowhead])(y.select(this),M.arrowheadId,M,"arrowhead")}),O}},607:(d,u,s)=>{var n=s(1034),m=s(1322),g=s(8355),y=s(4322);d.exports=function(k,E,C){var v,h=E.nodes().filter(function(O){return!g.isSubgraph(E,O)}),a=k.selectAll("g.node").data(h,function(O){return O}).classed("update",!0);return a.exit().remove(),a.enter().append("g").attr("class","node").style("opacity",0),(a=k.selectAll("g.node")).each(function(O){var _=E.node(O),M=y.select(this);g.applyClass(M,_.class,(M.classed("update")?"update ":"")+"node"),M.select("g.label").remove();var P=M.append("g").attr("class","label"),R=m(P,_),$=C[_.shape],F=n.pick(R.node().getBBox(),"width","height");_.elem=this,_.id&&M.attr("id",_.id),_.labelId&&P.attr("id",_.labelId),n.has(_,"width")&&(F.width=_.width),n.has(_,"height")&&(F.height=_.height),F.width+=_.paddingLeft+_.paddingRight,F.height+=_.paddingTop+_.paddingBottom,P.attr("transform","translate("+(_.paddingLeft-_.paddingRight)/2+","+(_.paddingTop-_.paddingBottom)/2+")");var j=y.select(this);j.select(".label-container").remove();var X=$(j,F,_).classed("label-container",!0);g.applyStyle(X,_.style);var W=X.node().getBBox();_.width=W.width,_.height=W.height}),v=a.exit?a.exit():a.selectAll(null),g.applyTransition(v,E).style("opacity",0).remove(),a}},4322:(d,u,s)=>{var n;if(!n)try{n=s(8811)}catch(m){}n||(n=window.d3),d.exports=n},6478:(d,u,s)=>{var n;try{n=s(681)}catch(m){}n||(n=window.dagre),d.exports=n},6614:(d,u,s)=>{var n;try{n=s(8282)}catch(m){}n||(n=window.graphlib),d.exports=n},8114:(d,u,s)=>{d.exports={node:s(3042),circle:s(6587),ellipse:s(3260),polygon:s(5337),rect:s(8049)}},6587:(d,u,s)=>{var n=s(3260);d.exports=function(m,g,y){return n(m,g,g,y)}},3260:d=>{d.exports=function(u,s,n,m){var g=u.x,y=u.y,k=g-m.x,E=y-m.y,C=Math.sqrt(s*s*E*E+n*n*k*k),v=Math.abs(s*n*k/C);m.x<g&&(v=-v);var h=Math.abs(s*n*E/C);return m.y<y&&(h=-h),{x:g+v,y:y+h}}},6808:d=>{function u(s,n){return s*n>0}d.exports=function(s,n,m,g){var y,k,E,C,v,h,a,O,_,M,P,R,$;if(y=n.y-s.y,E=s.x-n.x,v=n.x*s.y-s.x*n.y,_=y*m.x+E*m.y+v,M=y*g.x+E*g.y+v,!(_!==0&&M!==0&&u(_,M)||(k=g.y-m.y,C=m.x-g.x,h=g.x*m.y-m.x*g.y,a=k*s.x+C*s.y+h,O=k*n.x+C*n.y+h,a!==0&&O!==0&&u(a,O)||(P=y*C-k*E)==0)))return R=Math.abs(P/2),{x:($=E*h-C*v)<0?($-R)/P:($+R)/P,y:($=k*v-y*h)<0?($-R)/P:($+R)/P}}},3042:d=>{d.exports=function(u,s){return u.intersect(s)}},5337:(d,u,s)=>{var n=s(6808);d.exports=function(m,g,y){var k=m.x,E=m.y,C=[],v=Number.POSITIVE_INFINITY,h=Number.POSITIVE_INFINITY;g.forEach(function($){v=Math.min(v,$.x),h=Math.min(h,$.y)});for(var a=k-m.width/2-v,O=E-m.height/2-h,_=0;_<g.length;_++){var M=g[_],P=g[_<g.length-1?_+1:0],R=n(m,y,{x:a+M.x,y:O+M.y},{x:a+P.x,y:O+P.y});R&&C.push(R)}return C.length?(C.length>1&&C.sort(function($,F){var j=$.x-y.x,X=$.y-y.y,W=Math.sqrt(j*j+X*X),V=F.x-y.x,K=F.y-y.y,st=Math.sqrt(V*V+K*K);return W<st?-1:W===st?0:1}),C[0]):(console.log("NO INTERSECTION FOUND, RETURN NODE CENTER",m),m)}},8049:d=>{d.exports=function(u,s){var n,m,g=u.x,y=u.y,k=s.x-g,E=s.y-y,C=u.width/2,v=u.height/2;return Math.abs(E)*C>Math.abs(k)*v?(E<0&&(v=-v),n=E===0?0:v*k/E,m=v):(k<0&&(C=-C),n=C,m=k===0?0:C*E/k),{x:g+n,y:y+m}}},8284:(d,u,s)=>{var n=s(8355);d.exports=function(m,g){var y=m.append("foreignObject").attr("width","100000"),k=y.append("xhtml:div");k.attr("xmlns","http://www.w3.org/1999/xhtml");var E=g.label;switch(typeof E){case"function":k.insert(E);break;case"object":k.insert(function(){return E});break;default:k.html(E)}n.applyStyle(k,g.labelStyle),k.style("display","inline-block"),k.style("white-space","nowrap");var C=k.node().getBoundingClientRect();return y.attr("width",C.width).attr("height",C.height),y}},1322:(d,u,s)=>{var n=s(7318),m=s(8284),g=s(8287);d.exports=function(y,k,E){var C=k.label,v=y.append("g");k.labelType==="svg"?g(v,k):typeof C!="string"||k.labelType==="html"?m(v,k):n(v,k);var h,a=v.node().getBBox();switch(E){case"top":h=-k.height/2;break;case"bottom":h=k.height/2-a.height;break;default:h=-a.height/2}return v.attr("transform","translate("+-a.width/2+","+h+")"),v}},8287:(d,u,s)=>{var n=s(8355);d.exports=function(m,g){var y=m;return y.node().appendChild(g.label),n.applyStyle(y,g.labelStyle),y}},7318:(d,u,s)=>{var n=s(8355);d.exports=function(m,g){for(var y=m.append("text"),k=function(C){for(var v,h="",a=!1,O=0;O<C.length;++O)v=C[O],a?(h+=v==="n"?`
`:v,a=!1):v==="\\"?a=!0:h+=v;return h}(g.label).split(`
`),E=0;E<k.length;E++)y.append("tspan").attr("xml:space","preserve").attr("dy","1em").attr("x","1").text(k[E]);return n.applyStyle(y,g.labelStyle),y}},1034:(d,u,s)=>{var n;try{n={defaults:s(1747),each:s(6073),isFunction:s(3560),isPlainObject:s(8630),pick:s(9722),has:s(8721),range:s(6026),uniqueId:s(3955)}}catch(m){}n||(n=window._),d.exports=n},6381:(d,u,s)=>{var n=s(8355),m=s(4322);d.exports=function(g,y){var k=g.filter(function(){return!m.select(this).classed("update")});function E(C){var v=y.node(C);return"translate("+v.x+","+v.y+")"}k.attr("transform",E),n.applyTransition(g,y).style("opacity",1).attr("transform",E),n.applyTransition(k.selectAll("rect"),y).attr("width",function(C){return y.node(C).width}).attr("height",function(C){return y.node(C).height}).attr("x",function(C){return-y.node(C).width/2}).attr("y",function(C){return-y.node(C).height/2})}},4577:(d,u,s)=>{var n=s(8355),m=s(4322),g=s(1034);d.exports=function(y,k){function E(C){var v=k.edge(C);return g.has(v,"x")?"translate("+v.x+","+v.y+")":""}y.filter(function(){return!m.select(this).classed("update")}).attr("transform",E),n.applyTransition(y,k).style("opacity",1).attr("transform",E)}},4849:(d,u,s)=>{var n=s(8355),m=s(4322);d.exports=function(g,y){function k(E){var C=y.node(E);return"translate("+C.x+","+C.y+")"}g.filter(function(){return!m.select(this).classed("update")}).attr("transform",k),n.applyTransition(g,y).style("opacity",1).attr("transform",k)}},5787:(d,u,s)=>{var n=s(1034),m=s(4322),g=s(6478).layout;d.exports=function(){var C=s(607),v=s(5632),h=s(6315),a=s(940),O=s(4849),_=s(4577),M=s(6381),P=s(4418),R=s(9144),$=function(F,j){(function(pt){pt.nodes().forEach(function(ct){var lt=pt.node(ct);n.has(lt,"label")||pt.children(ct).length||(lt.label=ct),n.has(lt,"paddingX")&&n.defaults(lt,{paddingLeft:lt.paddingX,paddingRight:lt.paddingX}),n.has(lt,"paddingY")&&n.defaults(lt,{paddingTop:lt.paddingY,paddingBottom:lt.paddingY}),n.has(lt,"padding")&&n.defaults(lt,{paddingLeft:lt.padding,paddingRight:lt.padding,paddingTop:lt.padding,paddingBottom:lt.padding}),n.defaults(lt,y),n.each(["paddingLeft","paddingRight","paddingTop","paddingBottom"],function(J){lt[J]=Number(lt[J])}),n.has(lt,"width")&&(lt._prevWidth=lt.width),n.has(lt,"height")&&(lt._prevHeight=lt.height)}),pt.edges().forEach(function(ct){var lt=pt.edge(ct);n.has(lt,"label")||(lt.label=""),n.defaults(lt,k)})})(j);var X=E(F,"output"),W=E(X,"clusters"),V=E(X,"edgePaths"),K=h(E(X,"edgeLabels"),j),st=C(E(X,"nodes"),j,P);g(j),O(st,j),_(K,j),a(V,j,R);var it=v(W,j);M(it,j),function(pt){n.each(pt.nodes(),function(ct){var lt=pt.node(ct);n.has(lt,"_prevWidth")?lt.width=lt._prevWidth:delete lt.width,n.has(lt,"_prevHeight")?lt.height=lt._prevHeight:delete lt.height,delete lt._prevWidth,delete lt._prevHeight})}(j)};return $.createNodes=function(F){return arguments.length?(C=F,$):C},$.createClusters=function(F){return arguments.length?(v=F,$):v},$.createEdgeLabels=function(F){return arguments.length?(h=F,$):h},$.createEdgePaths=function(F){return arguments.length?(a=F,$):a},$.shapes=function(F){return arguments.length?(P=F,$):P},$.arrows=function(F){return arguments.length?(R=F,$):R},$};var y={paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect"},k={arrowhead:"normal",curve:m.curveLinear};function E(C,v){var h=C.select("g."+v);return h.empty()&&(h=C.append("g").attr("class",v)),h}},4418:(d,u,s)=>{var n=s(8049),m=s(3260),g=s(6587),y=s(5337);d.exports={rect:function(k,E,C){var v=k.insert("rect",":first-child").attr("rx",C.rx).attr("ry",C.ry).attr("x",-E.width/2).attr("y",-E.height/2).attr("width",E.width).attr("height",E.height);return C.intersect=function(h){return n(C,h)},v},ellipse:function(k,E,C){var v=E.width/2,h=E.height/2,a=k.insert("ellipse",":first-child").attr("x",-E.width/2).attr("y",-E.height/2).attr("rx",v).attr("ry",h);return C.intersect=function(O){return m(C,v,h,O)},a},circle:function(k,E,C){var v=Math.max(E.width,E.height)/2,h=k.insert("circle",":first-child").attr("x",-E.width/2).attr("y",-E.height/2).attr("r",v);return C.intersect=function(a){return g(C,v,a)},h},diamond:function(k,E,C){var v=E.width*Math.SQRT2/2,h=E.height*Math.SQRT2/2,a=[{x:0,y:-h},{x:-v,y:0},{x:0,y:h},{x:v,y:0}],O=k.insert("polygon",":first-child").attr("points",a.map(function(_){return _.x+","+_.y}).join(" "));return C.intersect=function(_){return y(C,a,_)},O}}},8355:(d,u,s)=>{var n=s(1034);d.exports={isSubgraph:function(y,k){return!!y.children(k).length},edgeToId:function(y){return g(y.v)+":"+g(y.w)+":"+g(y.name)},applyStyle:function(y,k){k&&y.attr("style",k)},applyClass:function(y,k,E){k&&y.attr("class",k).attr("class",E+" "+y.attr("class"))},applyTransition:function(y,k){var E=k.graph();if(n.isPlainObject(E)){var C=E.transition;if(n.isFunction(C))return C(y)}return y}};var m=/:/g;function g(y){return y?String(y).replace(m,"\\:"):""}},5689:d=>{d.exports="0.6.4"},8811:(d,u,s)=>{s.r(u),s.d(u,{FormatSpecifier:()=>Rp,active:()=>Su,arc:()=>Z2,area:()=>Y_,areaRadial:()=>G_,ascending:()=>m,autoType:()=>Ta,axisBottom:()=>jt,axisLeft:()=>ee,axisRight:()=>Ft,axisTop:()=>Wt,bisect:()=>C,bisectLeft:()=>E,bisectRight:()=>k,bisector:()=>g,blob:()=>Py,brush:()=>Rh,brushSelection:()=>Nh,brushX:()=>Cd,brushY:()=>Ph,buffer:()=>Vg,chord:()=>Fg,clientPoint:()=>jh,cluster:()=>Am,color:()=>Xr,contourDensity:()=>Z,contours:()=>q,create:()=>V5,creator:()=>ci,cross:()=>a,csv:()=>Wg,csvFormat:()=>mi,csvFormatBody:()=>qo,csvFormatRow:()=>gn,csvFormatRows:()=>vn,csvFormatValue:()=>Xe,csvParse:()=>gi,csvParseRows:()=>Br,cubehelix:()=>Tc,curveBasis:()=>sk,curveBasisClosed:()=>ck,curveBasisOpen:()=>lk,curveBundle:()=>uk,curveCardinal:()=>s3,curveCardinalClosed:()=>c3,curveCardinalOpen:()=>l3,curveCatmullRom:()=>hk,curveCatmullRomClosed:()=>dk,curveCatmullRomOpen:()=>fk,curveLinear:()=>ji,curveLinearClosed:()=>pk,curveMonotoneX:()=>rb,curveMonotoneY:()=>gk,curveNatural:()=>mk,curveStep:()=>yk,curveStepAfter:()=>xx,curveStepBefore:()=>y3,customEvent:()=>Cr,descending:()=>O,deviation:()=>P,dispatch:()=>Ue,drag:()=>Qn,dragDisable:()=>ds,dragEnable:()=>ra,dsv:()=>Ry,dsvFormat:()=>Si,easeBack:()=>Oc,easeBackIn:()=>jy,easeBackInOut:()=>Oc,easeBackOut:()=>Iy,easeBounce:()=>Cf,easeBounceIn:()=>By,easeBounceInOut:()=>mh,easeBounceOut:()=>Cf,easeCircle:()=>Fl,easeCircleIn:()=>Hg,easeCircleInOut:()=>Fl,easeCircleOut:()=>$g,easeCubic:()=>$o,easeCubicIn:()=>Gc,easeCubicInOut:()=>$o,easeCubicOut:()=>wd,easeElastic:()=>Ny,easeElasticIn:()=>Yg,easeElasticInOut:()=>t1,easeElasticOut:()=>Ny,easeExp:()=>Q0,easeExpIn:()=>Ip,easeExpInOut:()=>Q0,easeExpOut:()=>gh,easeLinear:()=>Z0,easePoly:()=>qh,easePolyIn:()=>J0,easePolyInOut:()=>qh,easePolyOut:()=>Ly,easeQuad:()=>uu,easeQuadIn:()=>K0,easeQuadInOut:()=>uu,easeQuadOut:()=>Ac,easeSin:()=>kf,easeSinIn:()=>Ug,easeSinInOut:()=>kf,easeSinOut:()=>jp,entries:()=>Lp,event:()=>sr,extent:()=>R,forceCenter:()=>yh,forceCollide:()=>Np,forceLink:()=>n1,forceManyBody:()=>Wh,forceRadial:()=>Kg,forceSimulation:()=>Zg,forceX:()=>i1,forceY:()=>Jg,format:()=>ga,formatDefaultLocale:()=>Yy,formatLocale:()=>qy,formatPrefix:()=>Bf,formatSpecifier:()=>Pp,geoAlbers:()=>u0,geoAlbersUsa:()=>wm,geoArea:()=>Nb,geoAzimuthalEqualArea:()=>dv,geoAzimuthalEqualAreaRaw:()=>G1,geoAzimuthalEquidistant:()=>np,geoAzimuthalEquidistantRaw:()=>X1,geoBounds:()=>nv,geoCentroid:()=>Ic,geoCircle:()=>rv,geoClipAntimeridian:()=>Hf,geoClipCircle:()=>Gp,geoClipExtent:()=>ua,geoClipRectangle:()=>Ks,geoConicConformal:()=>fv,geoConicConformalRaw:()=>km,geoConicEqualArea:()=>V1,geoConicEqualAreaRaw:()=>Y1,geoConicEquidistant:()=>pv,geoConicEquidistantRaw:()=>Cm,geoContains:()=>Ch,geoDistance:()=>N1,geoEqualEarth:()=>Fb,geoEqualEarthRaw:()=>Sm,geoEquirectangular:()=>d0,geoEquirectangularRaw:()=>ip,geoGnomonic:()=>zb,geoGnomonicRaw:()=>Z1,geoGraticule:()=>vs,geoGraticule10:()=>va,geoIdentity:()=>gv,geoInterpolate:()=>R1,geoLength:()=>Kp,geoMercator:()=>Db,geoMercatorRaw:()=>rp,geoNaturalEarth1:()=>K1,geoNaturalEarth1Raw:()=>od,geoOrthographic:()=>J1,geoOrthographicRaw:()=>Wd,geoPath:()=>Pb,geoProjection:()=>$u,geoProjectionMutator:()=>xm,geoRotation:()=>_l,geoStereographic:()=>Q1,geoStereographicRaw:()=>Em,geoStream:()=>du,geoTransform:()=>bm,geoTransverseMercator:()=>mv,geoTransverseMercatorRaw:()=>tg,gray:()=>Ec,hcl:()=>ms,hierarchy:()=>Xd,histogram:()=>Bt,hsl:()=>Oo,html:()=>Lb,image:()=>Ld,interpolate:()=>Ol,interpolateArray:()=>Yc,interpolateBasis:()=>so,interpolateBasisClosed:()=>$c,interpolateBlues:()=>M5,interpolateBrBG:()=>ny,interpolateBuGn:()=>b5,interpolateBuPu:()=>C_,interpolateCividis:()=>N5,interpolateCool:()=>R5,interpolateCubehelix:()=>Ri,interpolateCubehelixDefault:()=>P5,interpolateCubehelixLong:()=>Bi,interpolateDate:()=>yd,interpolateDiscrete:()=>Jt,interpolateGnBu:()=>x5,interpolateGreens:()=>L5,interpolateGreys:()=>j_,interpolateHcl:()=>li,interpolateHclLong:()=>Pi,interpolateHsl:()=>Zn,interpolateHslLong:()=>rr,interpolateHue:()=>ge,interpolateInferno:()=>q5,interpolateLab:()=>Or,interpolateMagma:()=>D_,interpolateNumber:()=>ka,interpolateNumberArray:()=>ku,interpolateObject:()=>oh,interpolateOrRd:()=>w5,interpolateOranges:()=>I5,interpolatePRGn:()=>vg,interpolatePiYG:()=>b_,interpolatePlasma:()=>Y5,interpolatePuBu:()=>k5,interpolatePuBuGn:()=>_5,interpolatePuOr:()=>D2,interpolatePuRd:()=>C5,interpolatePurples:()=>B5,interpolateRainbow:()=>D5,interpolateRdBu:()=>fc,interpolateRdGy:()=>m5,interpolateRdPu:()=>S5,interpolateRdYlBu:()=>y5,interpolateRdYlGn:()=>iy,interpolateReds:()=>j5,interpolateRgb:()=>qc,interpolateRgbBasis:()=>Ra,interpolateRgbBasisClosed:()=>tc,interpolateRound:()=>je,interpolateSinebow:()=>U5,interpolateSpectral:()=>v5,interpolateString:()=>Da,interpolateTransformCss:()=>Ih,interpolateTransformSvg:()=>ec,interpolateTurbo:()=>H5,interpolateViridis:()=>$5,interpolateWarm:()=>R_,interpolateYlGn:()=>T5,interpolateYlGnBu:()=>E5,interpolateYlOrBr:()=>A5,interpolateYlOrRd:()=>O5,interpolateZoom:()=>Cn,interrupt:()=>Za,interval:()=>Ck,isoFormat:()=>wk,isoParse:()=>kk,json:()=>Bd,keys:()=>X0,lab:()=>Sa,lch:()=>Ls,line:()=>Q2,lineRadial:()=>ex,linkHorizontal:()=>K_,linkRadial:()=>J_,linkVertical:()=>ik,local:()=>F_,map:()=>fa,matcher:()=>Pe,max:()=>at,mean:()=>yt,median:()=>kt,merge:()=>xt,min:()=>Pt,mouse:()=>wc,namespace:()=>Bn,namespaces:()=>mn,nest:()=>G0,now:()=>ce,pack:()=>Ub,packEnclose:()=>Vl,packSiblings:()=>xv,pairs:()=>v,partition:()=>Hb,path:()=>Cc,permute:()=>mt,pie:()=>tk,piecewise:()=>Js,pointRadial:()=>wg,polygonArea:()=>dc,polygonCentroid:()=>La,polygonContains:()=>qb,polygonHull:()=>M4,polygonLength:()=>L4,precisionFixed:()=>jf,precisionPrefix:()=>tm,precisionRound:()=>em,quadtree:()=>Af,quantile:()=>Tt,quantize:()=>xs,radialArea:()=>G_,radialLine:()=>ex,randomBates:()=>I4,randomExponential:()=>N4,randomIrwinHall:()=>Sv,randomLogNormal:()=>j4,randomNormal:()=>Cv,randomUniform:()=>B4,range:()=>V,rgb:()=>ha,ribbon:()=>Dh,scaleBand:()=>Wb,scaleDiverging:()=>h_,scaleDivergingLog:()=>d_,scaleDivergingPow:()=>I2,scaleDivergingSqrt:()=>f5,scaleDivergingSymlog:()=>f_,scaleIdentity:()=>lg,scaleImplicit:()=>Yb,scaleLinear:()=>lw,scaleLog:()=>fw,scaleOrdinal:()=>Vb,scalePoint:()=>C0,scalePow:()=>Fm,scaleQuantile:()=>pw,scaleQuantize:()=>gw,scaleSequential:()=>L2,scaleSequentialLog:()=>B2,scaleSequentialPow:()=>Wv,scaleSequentialQuantile:()=>j2,scaleSequentialSqrt:()=>u_,scaleSequentialSymlog:()=>pp,scaleSqrt:()=>F4,scaleSymlog:()=>i2,scaleThreshold:()=>o2,scaleTime:()=>l5,scaleUtc:()=>B0,scan:()=>Yt,schemeAccent:()=>p5,schemeBlues:()=>M_,schemeBrBG:()=>Xv,schemeBuGn:()=>__,schemeBuPu:()=>k_,schemeCategory10:()=>N2,schemeDark2:()=>P2,schemeGnBu:()=>z2,schemeGreens:()=>L_,schemeGreys:()=>B_,schemeOrRd:()=>S_,schemeOranges:()=>P_,schemePRGn:()=>R2,schemePaired:()=>gp,schemePastel1:()=>g5,schemePastel2:()=>p_,schemePiYG:()=>Zv,schemePuBu:()=>H2,schemePuBuGn:()=>U2,schemePuOr:()=>ry,schemePuRd:()=>E_,schemePurples:()=>I_,schemeRdBu:()=>F2,schemeRdGy:()=>x_,schemeRdPu:()=>T_,schemeRdYlBu:()=>ko,schemeRdYlGn:()=>bg,schemeReds:()=>N_,schemeSet1:()=>g_,schemeSet2:()=>m_,schemeSet3:()=>y_,schemeSpectral:()=>w_,schemeTableau10:()=>v_,schemeYlGn:()=>$2,schemeYlGnBu:()=>A_,schemeYlOrBr:()=>O_,schemeYlOrRd:()=>q2,select:()=>ao,selectAll:()=>G5,selection:()=>fn,selector:()=>De,selectorAll:()=>Oe,set:()=>su,shuffle:()=>ne,stack:()=>v3,stackOffsetDiverging:()=>cf,stackOffsetExpand:()=>il,stackOffsetNone:()=>_g,stackOffsetSilhouette:()=>vk,stackOffsetWiggle:()=>Cg,stackOrderAppearance:()=>Cl,stackOrderAscending:()=>zc,stackOrderDescending:()=>ob,stackOrderInsideOut:()=>yp,stackOrderNone:()=>kg,stackOrderReverse:()=>bk,stratify:()=>jm,style:()=>Ye,sum:()=>Qt,svg:()=>Dy,symbol:()=>ak,symbolCircle:()=>rx,symbolCross:()=>ix,symbolDiamond:()=>e3,symbolSquare:()=>ax,symbolStar:()=>r3,symbolTriangle:()=>cx,symbolWye:()=>o3,symbols:()=>a3,text:()=>tl,thresholdFreedmanDiaconis:()=>Ct,thresholdScott:()=>St,thresholdSturges:()=>J,tickFormat:()=>Jb,tickIncrement:()=>ct,tickStep:()=>lt,ticks:()=>pt,timeDay:()=>T0,timeDays:()=>Cw,timeFormat:()=>Dc,timeFormatDefaultLocale:()=>E2,timeFormatLocale:()=>Km,timeFriday:()=>s2,timeFridays:()=>q4,timeHour:()=>Ew,timeHours:()=>Y4,timeInterval:()=>ws,timeMillisecond:()=>Iv,timeMilliseconds:()=>Bw,timeMinute:()=>Aw,timeMinutes:()=>Ow,timeMonday:()=>Vm,timeMondays:()=>U4,timeMonth:()=>mw,timeMonths:()=>Bv,timeParse:()=>Dv,timeSaturday:()=>c2,timeSaturdays:()=>_w,timeSecond:()=>jv,timeSeconds:()=>Lw,timeSunday:()=>Ym,timeSundays:()=>xw,timeThursday:()=>hp,timeThursdays:()=>$4,timeTuesday:()=>bw,timeTuesdays:()=>H4,timeWednesday:()=>Wm,timeWednesdays:()=>ww,timeWeek:()=>Ym,timeWeeks:()=>xw,timeYear:()=>S0,timeYears:()=>z4,timeout:()=>dr,timer:()=>Nn,timerFlush:()=>zn,touch:()=>$s,touches:()=>X5,transition:()=>Wc,transpose:()=>Kt,tree:()=>Vu,treemap:()=>kv,treemapBinary:()=>S,treemapDice:()=>b0,treemapResquarify:()=>vt,treemapSlice:()=>sp,treemapSliceDice:()=>D,treemapSquarify:()=>k0,tsv:()=>oc,tsvFormat:()=>Ai,tsvFormatBody:()=>_o,tsvFormatRow:()=>Yo,tsvFormatRows:()=>So,tsvFormatValue:()=>xl,tsvParse:()=>Gn,tsvParseRows:()=>$r,utcDay:()=>Pv,utcDays:()=>Wu,utcFormat:()=>Fv,utcFriday:()=>Nw,utcFridays:()=>G4,utcHour:()=>Vv,utcHours:()=>h5,utcMillisecond:()=>Iv,utcMilliseconds:()=>Bw,utcMinute:()=>yg,utcMinutes:()=>d5,utcMonday:()=>hg,utcMondays:()=>Pw,utcMonth:()=>Yv,utcMonths:()=>u5,utcParse:()=>d2,utcSaturday:()=>l2,utcSaturdays:()=>X4,utcSecond:()=>jv,utcSeconds:()=>Lw,utcSunday:()=>Gm,utcSundays:()=>Nv,utcThursday:()=>A0,utcThursdays:()=>W4,utcTuesday:()=>jw,utcTuesdays:()=>Rw,utcWednesday:()=>Iw,utcWednesdays:()=>V4,utcWeek:()=>Gm,utcWeeks:()=>Nv,utcYear:()=>rf,utcYears:()=>h2,values:()=>zh,variance:()=>M,version:()=>n,voronoi:()=>E3,window:()=>Ge,xml:()=>Tf,zip:()=>se,zoom:()=>Mx,zoomIdentity:()=>py,zoomTransform:()=>A3});var n="5.16.0";function m(e,o){return e<o?-1:e>o?1:e>=o?0:NaN}function g(e){var o;return e.length===1&&(o=e,e=function(x,T){return m(o(x),T)}),{left:function(x,T,N,z){for(N==null&&(N=0),z==null&&(z=x.length);N<z;){var nt=N+z>>>1;e(x[nt],T)<0?N=nt+1:z=nt}return N},right:function(x,T,N,z){for(N==null&&(N=0),z==null&&(z=x.length);N<z;){var nt=N+z>>>1;e(x[nt],T)>0?z=nt:N=nt+1}return N}}}var y=g(m),k=y.right,E=y.left;const C=k;function v(e,o){o==null&&(o=h);for(var x=0,T=e.length-1,N=e[0],z=new Array(T<0?0:T);x<T;)z[x]=o(N,N=e[++x]);return z}function h(e,o){return[e,o]}function a(e,o,x){var T,N,z,nt,tt=e.length,ft=o.length,Et=new Array(tt*ft);for(x==null&&(x=h),T=z=0;T<tt;++T)for(nt=e[T],N=0;N<ft;++N,++z)Et[z]=x(nt,o[N]);return Et}function O(e,o){return o<e?-1:o>e?1:o>=e?0:NaN}function _(e){return e===null?NaN:+e}function M(e,o){var x,T,N=e.length,z=0,nt=-1,tt=0,ft=0;if(o==null)for(;++nt<N;)isNaN(x=_(e[nt]))||(ft+=(T=x-tt)*(x-(tt+=T/++z)));else for(;++nt<N;)isNaN(x=_(o(e[nt],nt,e)))||(ft+=(T=x-tt)*(x-(tt+=T/++z)));if(z>1)return ft/(z-1)}function P(e,o){var x=M(e,o);return x&&Math.sqrt(x)}function R(e,o){var x,T,N,z=e.length,nt=-1;if(o==null){for(;++nt<z;)if((x=e[nt])!=null&&x>=x)for(T=N=x;++nt<z;)(x=e[nt])!=null&&(T>x&&(T=x),N<x&&(N=x))}else for(;++nt<z;)if((x=o(e[nt],nt,e))!=null&&x>=x)for(T=N=x;++nt<z;)(x=o(e[nt],nt,e))!=null&&(T>x&&(T=x),N<x&&(N=x));return[T,N]}var $=Array.prototype,F=$.slice,j=$.map;function X(e){return function(){return e}}function W(e){return e}function V(e,o,x){e=+e,o=+o,x=(N=arguments.length)<2?(o=e,e=0,1):N<3?1:+x;for(var T=-1,N=0|Math.max(0,Math.ceil((o-e)/x)),z=new Array(N);++T<N;)z[T]=e+T*x;return z}var K=Math.sqrt(50),st=Math.sqrt(10),it=Math.sqrt(2);function pt(e,o,x){var T,N,z,nt,tt=-1;if(x=+x,(e=+e)==(o=+o)&&x>0)return[e];if((T=o<e)&&(N=e,e=o,o=N),(nt=ct(e,o,x))===0||!isFinite(nt))return[];if(nt>0)for(e=Math.ceil(e/nt),o=Math.floor(o/nt),z=new Array(N=Math.ceil(o-e+1));++tt<N;)z[tt]=(e+tt)*nt;else for(e=Math.floor(e*nt),o=Math.ceil(o*nt),z=new Array(N=Math.ceil(e-o+1));++tt<N;)z[tt]=(e-tt)/nt;return T&&z.reverse(),z}function ct(e,o,x){var T=(o-e)/Math.max(0,x),N=Math.floor(Math.log(T)/Math.LN10),z=T/Math.pow(10,N);return N>=0?(z>=K?10:z>=st?5:z>=it?2:1)*Math.pow(10,N):-Math.pow(10,-N)/(z>=K?10:z>=st?5:z>=it?2:1)}function lt(e,o,x){var T=Math.abs(o-e)/Math.max(0,x),N=Math.pow(10,Math.floor(Math.log(T)/Math.LN10)),z=T/N;return z>=K?N*=10:z>=st?N*=5:z>=it&&(N*=2),o<e?-N:N}function J(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1}function Bt(){var e=W,o=R,x=J;function T(N){var z,nt,tt=N.length,ft=new Array(tt);for(z=0;z<tt;++z)ft[z]=e(N[z],z,N);var Et=o(ft),Dt=Et[0],Zt=Et[1],Rt=x(ft,Dt,Zt);Array.isArray(Rt)||(Rt=lt(Dt,Zt,Rt),Rt=V(Math.ceil(Dt/Rt)*Rt,Zt,Rt));for(var ie=Rt.length;Rt[0]<=Dt;)Rt.shift(),--ie;for(;Rt[ie-1]>Zt;)Rt.pop(),--ie;var le,_e=new Array(ie+1);for(z=0;z<=ie;++z)(le=_e[z]=[]).x0=z>0?Rt[z-1]:Dt,le.x1=z<ie?Rt[z]:Zt;for(z=0;z<tt;++z)Dt<=(nt=ft[z])&&nt<=Zt&&_e[C(Rt,nt,0,ie)].push(N[z]);return _e}return T.value=function(N){return arguments.length?(e=typeof N=="function"?N:X(N),T):e},T.domain=function(N){return arguments.length?(o=typeof N=="function"?N:X([N[0],N[1]]),T):o},T.thresholds=function(N){return arguments.length?(x=typeof N=="function"?N:Array.isArray(N)?X(F.call(N)):X(N),T):x},T}function Tt(e,o,x){if(x==null&&(x=_),T=e.length){if((o=+o)<=0||T<2)return+x(e[0],0,e);if(o>=1)return+x(e[T-1],T-1,e);var T,N=(T-1)*o,z=Math.floor(N),nt=+x(e[z],z,e);return nt+(+x(e[z+1],z+1,e)-nt)*(N-z)}}function Ct(e,o,x){return e=j.call(e,_).sort(m),Math.ceil((x-o)/(2*(Tt(e,.75)-Tt(e,.25))*Math.pow(e.length,-.3333333333333333)))}function St(e,o,x){return Math.ceil((x-o)/(3.5*P(e)*Math.pow(e.length,-.3333333333333333)))}function at(e,o){var x,T,N=e.length,z=-1;if(o==null){for(;++z<N;)if((x=e[z])!=null&&x>=x)for(T=x;++z<N;)(x=e[z])!=null&&x>T&&(T=x)}else for(;++z<N;)if((x=o(e[z],z,e))!=null&&x>=x)for(T=x;++z<N;)(x=o(e[z],z,e))!=null&&x>T&&(T=x);return T}function yt(e,o){var x,T=e.length,N=T,z=-1,nt=0;if(o==null)for(;++z<T;)isNaN(x=_(e[z]))?--N:nt+=x;else for(;++z<T;)isNaN(x=_(o(e[z],z,e)))?--N:nt+=x;if(N)return nt/N}function kt(e,o){var x,T=e.length,N=-1,z=[];if(o==null)for(;++N<T;)isNaN(x=_(e[N]))||z.push(x);else for(;++N<T;)isNaN(x=_(o(e[N],N,e)))||z.push(x);return Tt(z.sort(m),.5)}function xt(e){for(var o,x,T,N=e.length,z=-1,nt=0;++z<N;)nt+=e[z].length;for(x=new Array(nt);--N>=0;)for(o=(T=e[N]).length;--o>=0;)x[--nt]=T[o];return x}function Pt(e,o){var x,T,N=e.length,z=-1;if(o==null){for(;++z<N;)if((x=e[z])!=null&&x>=x)for(T=x;++z<N;)(x=e[z])!=null&&T>x&&(T=x)}else for(;++z<N;)if((x=o(e[z],z,e))!=null&&x>=x)for(T=x;++z<N;)(x=o(e[z],z,e))!=null&&T>x&&(T=x);return T}function mt(e,o){for(var x=o.length,T=new Array(x);x--;)T[x]=e[o[x]];return T}function Yt(e,o){if(x=e.length){var x,T,N=0,z=0,nt=e[z];for(o==null&&(o=m);++N<x;)(o(T=e[N],nt)<0||o(nt,nt)!==0)&&(nt=T,z=N);return o(nt,nt)===0?z:void 0}}function ne(e,o,x){for(var T,N,z=(x==null?e.length:x)-(o=o==null?0:+o);z;)N=Math.random()*z--|0,T=e[z+o],e[z+o]=e[N+o],e[N+o]=T;return e}function Qt(e,o){var x,T=e.length,N=-1,z=0;if(o==null)for(;++N<T;)(x=+e[N])&&(z+=x);else for(;++N<T;)(x=+o(e[N],N,e))&&(z+=x);return z}function Kt(e){if(!(N=e.length))return[];for(var o=-1,x=Pt(e,Xt),T=new Array(x);++o<x;)for(var N,z=-1,nt=T[o]=new Array(N);++z<N;)nt[z]=e[z][o];return T}function Xt(e){return e.length}function se(){return Kt(arguments)}var ue=Array.prototype.slice;function re(e){return e}var _t=1e-6;function ut(e){return"translate("+(e+.5)+",0)"}function Mt(e){return"translate(0,"+(e+.5)+")"}function qt(e){return function(o){return+e(o)}}function Nt(e){var o=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(o=Math.round(o)),function(x){return+e(x)+o}}function Vt(){return!this.__axis}function Ut(e,o){var x=[],T=null,N=null,z=6,nt=6,tt=3,ft=e===1||e===4?-1:1,Et=e===4||e===2?"x":"y",Dt=e===1||e===3?ut:Mt;function Zt(Rt){var ie=T==null?o.ticks?o.ticks.apply(o,x):o.domain():T,le=N==null?o.tickFormat?o.tickFormat.apply(o,x):re:N,_e=Math.max(z,0)+tt,xe=o.range(),pe=+xe[0]+.5,Le=+xe[xe.length-1]+.5,Ae=(o.bandwidth?Nt:qt)(o.copy()),Re=Rt.selection?Rt.selection():Rt,en=Re.selectAll(".domain").data([null]),bn=Re.selectAll(".tick").data(ie,o).order(),kn=bn.exit(),Wn=bn.enter().append("g").attr("class","tick"),un=bn.select("line"),jn=bn.select("text");en=en.merge(en.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),bn=bn.merge(Wn),un=un.merge(Wn.append("line").attr("stroke","currentColor").attr(Et+"2",ft*z)),jn=jn.merge(Wn.append("text").attr("fill","currentColor").attr(Et,ft*_e).attr("dy",e===1?"0em":e===3?"0.71em":"0.32em")),Rt!==Re&&(en=en.transition(Rt),bn=bn.transition(Rt),un=un.transition(Rt),jn=jn.transition(Rt),kn=kn.transition(Rt).attr("opacity",_t).attr("transform",function(Ie){return isFinite(Ie=Ae(Ie))?Dt(Ie):this.getAttribute("transform")}),Wn.attr("opacity",_t).attr("transform",function(Ie){var qe=this.parentNode.__axis;return Dt(qe&&isFinite(qe=qe(Ie))?qe:Ae(Ie))})),kn.remove(),en.attr("d",e===4||e==2?nt?"M"+ft*nt+","+pe+"H0.5V"+Le+"H"+ft*nt:"M0.5,"+pe+"V"+Le:nt?"M"+pe+","+ft*nt+"V0.5H"+Le+"V"+ft*nt:"M"+pe+",0.5H"+Le),bn.attr("opacity",1).attr("transform",function(Ie){return Dt(Ae(Ie))}),un.attr(Et+"2",ft*z),jn.attr(Et,ft*_e).text(le),Re.filter(Vt).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===2?"start":e===4?"end":"middle"),Re.each(function(){this.__axis=Ae})}return Zt.scale=function(Rt){return arguments.length?(o=Rt,Zt):o},Zt.ticks=function(){return x=ue.call(arguments),Zt},Zt.tickArguments=function(Rt){return arguments.length?(x=Rt==null?[]:ue.call(Rt),Zt):x.slice()},Zt.tickValues=function(Rt){return arguments.length?(T=Rt==null?null:ue.call(Rt),Zt):T&&T.slice()},Zt.tickFormat=function(Rt){return arguments.length?(N=Rt,Zt):N},Zt.tickSize=function(Rt){return arguments.length?(z=nt=+Rt,Zt):z},Zt.tickSizeInner=function(Rt){return arguments.length?(z=+Rt,Zt):z},Zt.tickSizeOuter=function(Rt){return arguments.length?(nt=+Rt,Zt):nt},Zt.tickPadding=function(Rt){return arguments.length?(tt=+Rt,Zt):tt},Zt}function Wt(e){return Ut(1,e)}function Ft(e){return Ut(2,e)}function jt(e){return Ut(3,e)}function ee(e){return Ut(4,e)}var Lt={value:function(){}};function he(){for(var e,o=0,x=arguments.length,T={};o<x;++o){if(!(e=arguments[o]+"")||e in T||/[\s.]/.test(e))throw new Error("illegal type: "+e);T[e]=[]}return new Ht(T)}function Ht(e){this._=e}function Se(e,o){return e.trim().split(/^|\s+/).map(function(x){var T="",N=x.indexOf(".");if(N>=0&&(T=x.slice(N+1),x=x.slice(0,N)),x&&!o.hasOwnProperty(x))throw new Error("unknown type: "+x);return{type:x,name:T}})}function Te(e,o){for(var x,T=0,N=e.length;T<N;++T)if((x=e[T]).name===o)return x.value}function we(e,o,x){for(var T=0,N=e.length;T<N;++T)if(e[T].name===o){e[T]=Lt,e=e.slice(0,T).concat(e.slice(T+1));break}return x!=null&&e.push({name:o,value:x}),e}Ht.prototype=he.prototype={constructor:Ht,on:function(e,o){var x,T=this._,N=Se(e+"",T),z=-1,nt=N.length;if(!(arguments.length<2)){if(o!=null&&typeof o!="function")throw new Error("invalid callback: "+o);for(;++z<nt;)if(x=(e=N[z]).type)T[x]=we(T[x],e.name,o);else if(o==null)for(x in T)T[x]=we(T[x],e.name,null);return this}for(;++z<nt;)if((x=(e=N[z]).type)&&(x=Te(T[x],e.name)))return x},copy:function(){var e={},o=this._;for(var x in o)e[x]=o[x].slice();return new Ht(e)},call:function(e,o){if((x=arguments.length-2)>0)for(var x,T,N=new Array(x),z=0;z<x;++z)N[z]=arguments[z+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(z=0,x=(T=this._[e]).length;z<x;++z)T[z].value.apply(o,N)},apply:function(e,o,x){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var T=this._[e],N=0,z=T.length;N<z;++N)T[N].value.apply(o,x)}};const Ue=he;function We(){}function De(e){return e==null?We:function(){return this.querySelector(e)}}function me(){return[]}function Oe(e){return e==null?me:function(){return this.querySelectorAll(e)}}function Pe(e){return function(){return this.matches(e)}}function ze(e){return new Array(e.length)}function He(e,o){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=o}function dn(e,o,x,T,N,z){for(var nt,tt=0,ft=o.length,Et=z.length;tt<Et;++tt)(nt=o[tt])?(nt.__data__=z[tt],T[tt]=nt):x[tt]=new He(e,z[tt]);for(;tt<ft;++tt)(nt=o[tt])&&(N[tt]=nt)}function Mn(e,o,x,T,N,z,nt){var tt,ft,Et,Dt={},Zt=o.length,Rt=z.length,ie=new Array(Zt);for(tt=0;tt<Zt;++tt)(ft=o[tt])&&(ie[tt]=Et="$"+nt.call(ft,ft.__data__,tt,o),Et in Dt?N[tt]=ft:Dt[Et]=ft);for(tt=0;tt<Rt;++tt)(ft=Dt[Et="$"+nt.call(e,z[tt],tt,z)])?(T[tt]=ft,ft.__data__=z[tt],Dt[Et]=null):x[tt]=new He(e,z[tt]);for(tt=0;tt<Zt;++tt)(ft=o[tt])&&Dt[ie[tt]]===ft&&(N[tt]=ft)}function Kn(e,o){return e<o?-1:e>o?1:e>=o?0:NaN}He.prototype={constructor:He,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,o){return this._parent.insertBefore(e,o)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var an="http://www.w3.org/1999/xhtml";const mn={svg:"http://www.w3.org/2000/svg",xhtml:an,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Bn(e){var o=e+="",x=o.indexOf(":");return x>=0&&(o=e.slice(0,x))!=="xmlns"&&(e=e.slice(x+1)),mn.hasOwnProperty(o)?{space:mn[o],local:e}:e}function Rn(e){return function(){this.removeAttribute(e)}}function $n(e){return function(){this.removeAttributeNS(e.space,e.local)}}function sn(e,o){return function(){this.setAttribute(e,o)}}function on(e,o){return function(){this.setAttributeNS(e.space,e.local,o)}}function yn(e,o){return function(){var x=o.apply(this,arguments);x==null?this.removeAttribute(e):this.setAttribute(e,x)}}function Sn(e,o){return function(){var x=o.apply(this,arguments);x==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,x)}}function Ge(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Fn(e){return function(){this.style.removeProperty(e)}}function ke(e,o,x){return function(){this.style.setProperty(e,o,x)}}function Fr(e,o,x){return function(){var T=o.apply(this,arguments);T==null?this.style.removeProperty(e):this.style.setProperty(e,T,x)}}function Ye(e,o){return e.style.getPropertyValue(o)||Ge(e).getComputedStyle(e,null).getPropertyValue(o)}function vr(e){return function(){delete this[e]}}function Zr(e,o){return function(){this[e]=o}}function jr(e,o){return function(){var x=o.apply(this,arguments);x==null?delete this[e]:this[e]=x}}function _r(e){return e.trim().split(/^|\s+/)}function Hr(e){return e.classList||new Tr(e)}function Tr(e){this._node=e,this._names=_r(e.getAttribute("class")||"")}function br(e,o){for(var x=Hr(e),T=-1,N=o.length;++T<N;)x.add(o[T])}function mr(e,o){for(var x=Hr(e),T=-1,N=o.length;++T<N;)x.remove(o[T])}function xr(e){return function(){br(this,e)}}function kr(e){return function(){mr(this,e)}}function En(e,o){return function(){(o.apply(this,arguments)?br:mr)(this,e)}}function Yn(){this.textContent=""}function Un(e){return function(){this.textContent=e}}function qn(e){return function(){var o=e.apply(this,arguments);this.textContent=o==null?"":o}}function Lr(){this.innerHTML=""}function Ar(e){return function(){this.innerHTML=e}}function wr(e){return function(){var o=e.apply(this,arguments);this.innerHTML=o==null?"":o}}function ei(){this.nextSibling&&this.parentNode.appendChild(this)}function vi(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function bi(e){return function(){var o=this.ownerDocument,x=this.namespaceURI;return x===an&&o.documentElement.namespaceURI===an?o.createElement(e):o.createElementNS(x,e)}}function oo(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ci(e){var o=Bn(e);return(o.local?oo:bi)(o)}function Eo(){return null}function xi(){var e=this.parentNode;e&&e.removeChild(this)}function Ro(){var e=this.cloneNode(!1),o=this.parentNode;return o?o.insertBefore(e,this.nextSibling):e}function To(){var e=this.cloneNode(!0),o=this.parentNode;return o?o.insertBefore(e,this.nextSibling):e}Tr.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var o=this._names.indexOf(e);o>=0&&(this._names.splice(o,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var wa={},sr=null;function Ss(e,o,x){return e=lo(e,o,x),function(T){var N=T.relatedTarget;N&&(N===this||8&N.compareDocumentPosition(this))||e.call(this,T)}}function lo(e,o,x){return function(T){var N=sr;sr=T;try{e.call(this,this.__data__,o,x)}finally{sr=N}}}function ul(e){return e.trim().split(/^|\s+/).map(function(o){var x="",T=o.indexOf(".");return T>=0&&(x=o.slice(T+1),o=o.slice(0,T)),{type:o,name:x}})}function vc(e){return function(){var o=this.__on;if(o){for(var x,T=0,N=-1,z=o.length;T<z;++T)x=o[T],e.type&&x.type!==e.type||x.name!==e.name?o[++N]=x:this.removeEventListener(x.type,x.listener,x.capture);++N?o.length=N:delete this.__on}}}function Ia(e,o,x){var T=wa.hasOwnProperty(e.type)?Ss:lo;return function(N,z,nt){var tt,ft=this.__on,Et=T(o,z,nt);if(ft){for(var Dt=0,Zt=ft.length;Dt<Zt;++Dt)if((tt=ft[Dt]).type===e.type&&tt.name===e.name)return this.removeEventListener(tt.type,tt.listener,tt.capture),this.addEventListener(tt.type,tt.listener=Et,tt.capture=x),void(tt.value=o)}this.addEventListener(e.type,Et,x),tt={type:e.type,name:e.name,value:o,listener:Et,capture:x},ft?ft.push(tt):this.__on=[tt]}}function Cr(e,o,x,T){var N=sr;e.sourceEvent=sr,sr=e;try{return o.apply(x,T)}finally{sr=N}}function ki(e,o,x){var T=Ge(e),N=T.CustomEvent;typeof N=="function"?N=new N(o,x):(N=T.document.createEvent("Event"),x?(N.initEvent(o,x.bubbles,x.cancelable),N.detail=x.detail):N.initEvent(o,!1,!1)),e.dispatchEvent(N)}function ii(e,o){return function(){return ki(this,e,o)}}function cr(e,o){return function(){return ki(this,e,o.apply(this,arguments))}}typeof document!="undefined"&&("onmouseenter"in document.documentElement||(wa={mouseenter:"mouseover",mouseleave:"mouseout"}));var Oi=[null];function $e(e,o){this._groups=e,this._parents=o}function Es(){return new $e([[document.documentElement]],Oi)}$e.prototype=Es.prototype={constructor:$e,select:function(e){typeof e!="function"&&(e=De(e));for(var o=this._groups,x=o.length,T=new Array(x),N=0;N<x;++N)for(var z,nt,tt=o[N],ft=tt.length,Et=T[N]=new Array(ft),Dt=0;Dt<ft;++Dt)(z=tt[Dt])&&(nt=e.call(z,z.__data__,Dt,tt))&&("__data__"in z&&(nt.__data__=z.__data__),Et[Dt]=nt);return new $e(T,this._parents)},selectAll:function(e){typeof e!="function"&&(e=Oe(e));for(var o=this._groups,x=o.length,T=[],N=[],z=0;z<x;++z)for(var nt,tt=o[z],ft=tt.length,Et=0;Et<ft;++Et)(nt=tt[Et])&&(T.push(e.call(nt,nt.__data__,Et,tt)),N.push(nt));return new $e(T,N)},filter:function(e){typeof e!="function"&&(e=Pe(e));for(var o=this._groups,x=o.length,T=new Array(x),N=0;N<x;++N)for(var z,nt=o[N],tt=nt.length,ft=T[N]=[],Et=0;Et<tt;++Et)(z=nt[Et])&&e.call(z,z.__data__,Et,nt)&&ft.push(z);return new $e(T,this._parents)},data:function(e,o){if(!e)return le=new Array(this.size()),Dt=-1,this.each(function(bn){le[++Dt]=bn}),le;var x,T=o?Mn:dn,N=this._parents,z=this._groups;typeof e!="function"&&(x=e,e=function(){return x});for(var nt=z.length,tt=new Array(nt),ft=new Array(nt),Et=new Array(nt),Dt=0;Dt<nt;++Dt){var Zt=N[Dt],Rt=z[Dt],ie=Rt.length,le=e.call(Zt,Zt&&Zt.__data__,Dt,N),_e=le.length,xe=ft[Dt]=new Array(_e),pe=tt[Dt]=new Array(_e);T(Zt,Rt,xe,pe,Et[Dt]=new Array(ie),le,o);for(var Le,Ae,Re=0,en=0;Re<_e;++Re)if(Le=xe[Re]){for(Re>=en&&(en=Re+1);!(Ae=pe[en])&&++en<_e;);Le._next=Ae||null}}return(tt=new $e(tt,N))._enter=ft,tt._exit=Et,tt},enter:function(){return new $e(this._enter||this._groups.map(ze),this._parents)},exit:function(){return new $e(this._exit||this._groups.map(ze),this._parents)},join:function(e,o,x){var T=this.enter(),N=this,z=this.exit();return T=typeof e=="function"?e(T):T.append(e+""),o!=null&&(N=o(N)),x==null?z.remove():x(z),T&&N?T.merge(N).order():N},merge:function(e){for(var o=this._groups,x=e._groups,T=o.length,N=x.length,z=Math.min(T,N),nt=new Array(T),tt=0;tt<z;++tt)for(var ft,Et=o[tt],Dt=x[tt],Zt=Et.length,Rt=nt[tt]=new Array(Zt),ie=0;ie<Zt;++ie)(ft=Et[ie]||Dt[ie])&&(Rt[ie]=ft);for(;tt<T;++tt)nt[tt]=o[tt];return new $e(nt,this._parents)},order:function(){for(var e=this._groups,o=-1,x=e.length;++o<x;)for(var T,N=e[o],z=N.length-1,nt=N[z];--z>=0;)(T=N[z])&&(nt&&4^T.compareDocumentPosition(nt)&&nt.parentNode.insertBefore(T,nt),nt=T);return this},sort:function(e){function o(Zt,Rt){return Zt&&Rt?e(Zt.__data__,Rt.__data__):!Zt-!Rt}e||(e=Kn);for(var x=this._groups,T=x.length,N=new Array(T),z=0;z<T;++z){for(var nt,tt=x[z],ft=tt.length,Et=N[z]=new Array(ft),Dt=0;Dt<ft;++Dt)(nt=tt[Dt])&&(Et[Dt]=nt);Et.sort(o)}return new $e(N,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),o=-1;return this.each(function(){e[++o]=this}),e},node:function(){for(var e=this._groups,o=0,x=e.length;o<x;++o)for(var T=e[o],N=0,z=T.length;N<z;++N){var nt=T[N];if(nt)return nt}return null},size:function(){var e=0;return this.each(function(){++e}),e},empty:function(){return!this.node()},each:function(e){for(var o=this._groups,x=0,T=o.length;x<T;++x)for(var N,z=o[x],nt=0,tt=z.length;nt<tt;++nt)(N=z[nt])&&e.call(N,N.__data__,nt,z);return this},attr:function(e,o){var x=Bn(e);if(arguments.length<2){var T=this.node();return x.local?T.getAttributeNS(x.space,x.local):T.getAttribute(x)}return this.each((o==null?x.local?$n:Rn:typeof o=="function"?x.local?Sn:yn:x.local?on:sn)(x,o))},style:function(e,o,x){return arguments.length>1?this.each((o==null?Fn:typeof o=="function"?Fr:ke)(e,o,x==null?"":x)):Ye(this.node(),e)},property:function(e,o){return arguments.length>1?this.each((o==null?vr:typeof o=="function"?jr:Zr)(e,o)):this.node()[e]},classed:function(e,o){var x=_r(e+"");if(arguments.length<2){for(var T=Hr(this.node()),N=-1,z=x.length;++N<z;)if(!T.contains(x[N]))return!1;return!0}return this.each((typeof o=="function"?En:o?xr:kr)(x,o))},text:function(e){return arguments.length?this.each(e==null?Yn:(typeof e=="function"?qn:Un)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(e==null?Lr:(typeof e=="function"?wr:Ar)(e)):this.node().innerHTML},raise:function(){return this.each(ei)},lower:function(){return this.each(vi)},append:function(e){var o=typeof e=="function"?e:ci(e);return this.select(function(){return this.appendChild(o.apply(this,arguments))})},insert:function(e,o){var x=typeof e=="function"?e:ci(e),T=o==null?Eo:typeof o=="function"?o:De(o);return this.select(function(){return this.insertBefore(x.apply(this,arguments),T.apply(this,arguments)||null)})},remove:function(){return this.each(xi)},clone:function(e){return this.select(e?To:Ro)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,o,x){var T,N,z=ul(e+""),nt=z.length;if(!(arguments.length<2)){for(tt=o?Ia:vc,x==null&&(x=!1),T=0;T<nt;++T)this.each(tt(z[T],o,x));return this}var tt=this.node().__on;if(tt){for(var ft,Et=0,Dt=tt.length;Et<Dt;++Et)for(T=0,ft=tt[Et];T<nt;++T)if((N=z[T]).type===ft.type&&N.name===ft.name)return ft.value}},dispatch:function(e,o){return this.each((typeof o=="function"?cr:ii)(e,o))}};const fn=Es;function ao(e){return typeof e=="string"?new $e([[document.querySelector(e)]],[document.documentElement]):new $e([[e]],Oi)}function _a(){sr.stopImmediatePropagation()}function Na(){sr.preventDefault(),sr.stopImmediatePropagation()}function ds(e){var o=e.document.documentElement,x=ao(e).on("dragstart.drag",Na,!0);"onselectstart"in o?x.on("selectstart.drag",Na,!0):(o.__noselect=o.style.MozUserSelect,o.style.MozUserSelect="none")}function ra(e,o){var x=e.document.documentElement,T=ao(e).on("dragstart.drag",null);o&&(T.on("click.drag",Na,!0),setTimeout(function(){T.on("click.drag",null)},0)),"onselectstart"in x?T.on("selectstart.drag",null):(x.style.MozUserSelect=x.__noselect,delete x.__noselect)}function Us(e,o,x){e.prototype=o.prototype=x,x.constructor=e}function Ni(e,o){var x=Object.create(e.prototype);for(var T in o)x[T]=o[T];return x}function Do(){}var Zo=.7,fs=1/Zo,es="\\s*([+-]?\\d+)\\s*",Ts="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ui="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ko=/^#([0-9a-f]{3,8})$/,mo=new RegExp("^rgb\\("+[es,es,es]+"\\)$"),Pa=new RegExp("^rgb\\("+[ui,ui,ui]+"\\)$"),Tl=new RegExp("^rgba\\("+[es,es,es,Ts]+"\\)$"),hl=new RegExp("^rgba\\("+[ui,ui,ui,Ts]+"\\)$"),rn=new RegExp("^hsl\\("+[Ts,ui,ui]+"\\)$"),er=new RegExp("^hsla\\("+[Ts,ui,ui,Ts]+"\\)$"),Vn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function wi(){return this.rgb().formatHex()}function no(){return this.rgb().formatRgb()}function Xr(e){var o,x;return e=(e+"").trim().toLowerCase(),(o=Ko.exec(e))?(x=o[1].length,o=parseInt(o[1],16),x===6?Fo(o):x===3?new Ao(o>>8&15|o>>4&240,o>>4&15|240&o,(15&o)<<4|15&o,1):x===8?Wa(o>>24&255,o>>16&255,o>>8&255,(255&o)/255):x===4?Wa(o>>12&15|o>>8&240,o>>8&15|o>>4&240,o>>4&15|240&o,((15&o)<<4|15&o)/255):null):(o=mo.exec(e))?new Ao(o[1],o[2],o[3],1):(o=Pa.exec(e))?new Ao(255*o[1]/100,255*o[2]/100,255*o[3]/100,1):(o=Tl.exec(e))?Wa(o[1],o[2],o[3],o[4]):(o=hl.exec(e))?Wa(255*o[1]/100,255*o[2]/100,255*o[3]/100,o[4]):(o=rn.exec(e))?zo(o[1],o[2]/100,o[3]/100,1):(o=er.exec(e))?zo(o[1],o[2]/100,o[3]/100,o[4]):Vn.hasOwnProperty(e)?Fo(Vn[e]):e==="transparent"?new Ao(NaN,NaN,NaN,0):null}function Fo(e){return new Ao(e>>16&255,e>>8&255,255&e,1)}function Wa(e,o,x,T){return T<=0&&(e=o=x=NaN),new Ao(e,o,x,T)}function Io(e){return e instanceof Do||(e=Xr(e)),e?new Ao((e=e.rgb()).r,e.g,e.b,e.opacity):new Ao}function ha(e,o,x,T){return arguments.length===1?Io(e):new Ao(e,o,x,T==null?1:T)}function Ao(e,o,x,T){this.r=+e,this.g=+o,this.b=+x,this.opacity=+T}function ia(){return"#"+dl(this.r)+dl(this.g)+dl(this.b)}function bc(){var e=this.opacity;return((e=isNaN(e)?1:Math.max(0,Math.min(1,e)))===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function dl(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function zo(e,o,x,T){return T<=0?e=o=x=NaN:x<=0||x>=1?e=o=NaN:o<=0&&(e=NaN),new xc(e,o,x,T)}function wu(e){if(e instanceof xc)return new xc(e.h,e.s,e.l,e.opacity);if(e instanceof Do||(e=Xr(e)),!e)return new xc;if(e instanceof xc)return e;var o=(e=e.rgb()).r/255,x=e.g/255,T=e.b/255,N=Math.min(o,x,T),z=Math.max(o,x,T),nt=NaN,tt=z-N,ft=(z+N)/2;return tt?(nt=o===z?(x-T)/tt+6*(x<T):x===z?(T-o)/tt+2:(o-x)/tt+4,tt/=ft<.5?z+N:2-z-N,nt*=60):tt=ft>0&&ft<1?0:nt,new xc(nt,tt,ft,e.opacity)}function Oo(e,o,x,T){return arguments.length===1?wu(e):new xc(e,o,x,T==null?1:T)}function xc(e,o,x,T){this.h=+e,this.s=+o,this.l=+x,this.opacity=+T}function ir(e,o,x){return 255*(e<60?o+(x-o)*e/60:e<180?x:e<240?o+(x-o)*(240-e)/60:o)}function _u(e,o,x,T,N){var z=e*e,nt=z*e;return((1-3*e+3*z-nt)*o+(4-6*z+3*nt)*x+(1+3*e+3*z-3*nt)*T+nt*N)/6}function so(e){var o=e.length-1;return function(x){var T=x<=0?x=0:x>=1?(x=1,o-1):Math.floor(x*o),N=e[T],z=e[T+1],nt=T>0?e[T-1]:2*N-z,tt=T<o-1?e[T+2]:2*z-N;return _u((x-T/o)*o,nt,N,z,tt)}}function $c(e){var o=e.length;return function(x){var T=Math.floor(((x%=1)<0?++x:x)*o),N=e[(T+o-1)%o],z=e[T%o],nt=e[(T+1)%o],tt=e[(T+2)%o];return _u((x-T/o)*o,N,z,nt,tt)}}function Gl(e){return function(){return e}}function Ga(e,o){return function(x){return e+x*o}}function Xa(e,o){var x=o-e;return x?Ga(e,x>180||x<-180?x-360*Math.round(x/360):x):Gl(isNaN(e)?o:e)}function Gi(e,o){var x=o-e;return x?Ga(e,x):Gl(isNaN(e)?o:e)}Us(Do,Xr,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:wi,formatHex:wi,formatHsl:function(){return wu(this).formatHsl()},formatRgb:no,toString:no}),Us(Ao,ha,Ni(Do,{brighter:function(e){return e=e==null?fs:Math.pow(fs,e),new Ao(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?Zo:Math.pow(Zo,e),new Ao(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ia,formatHex:ia,formatRgb:bc,toString:bc})),Us(xc,Oo,Ni(Do,{brighter:function(e){return e=e==null?fs:Math.pow(fs,e),new xc(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?Zo:Math.pow(Zo,e),new xc(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),o=isNaN(e)||isNaN(this.s)?0:this.s,x=this.l,T=x+(x<.5?x:1-x)*o,N=2*x-T;return new Ao(ir(e>=240?e-240:e+120,N,T),ir(e,N,T),ir(e<120?e+240:e-120,N,T),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return((e=isNaN(e)?1:Math.max(0,Math.min(1,e)))===1?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(e===1?")":", "+e+")")}}));const qc=function e(o){var x=function(N){return(N=+N)==1?Gi:function(z,nt){return nt-z?function(tt,ft,Et){return tt=Math.pow(tt,Et),ft=Math.pow(ft,Et)-tt,Et=1/Et,function(Dt){return Math.pow(tt+Dt*ft,Et)}}(z,nt,N):Gl(isNaN(z)?nt:z)}}(o);function T(N,z){var nt=x((N=ha(N)).r,(z=ha(z)).r),tt=x(N.g,z.g),ft=x(N.b,z.b),Et=Gi(N.opacity,z.opacity);return function(Dt){return N.r=nt(Dt),N.g=tt(Dt),N.b=ft(Dt),N.opacity=Et(Dt),N+""}}return T.gamma=e,T}(1);function ih(e){return function(o){var x,T,N=o.length,z=new Array(N),nt=new Array(N),tt=new Array(N);for(x=0;x<N;++x)T=ha(o[x]),z[x]=T.r||0,nt[x]=T.g||0,tt[x]=T.b||0;return z=e(z),nt=e(nt),tt=e(tt),T.opacity=1,function(ft){return T.r=z(ft),T.g=nt(ft),T.b=tt(ft),T+""}}}var Ra=ih(so),tc=ih($c);function ku(e,o){o||(o=[]);var x,T=e?Math.min(o.length,e.length):0,N=o.slice();return function(z){for(x=0;x<T;++x)N[x]=e[x]*(1-z)+o[x]*z;return N}}function Vi(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Yc(e,o){return(Vi(o)?ku:ns)(e,o)}function ns(e,o){var x,T=o?o.length:0,N=e?Math.min(T,e.length):0,z=new Array(N),nt=new Array(T);for(x=0;x<N;++x)z[x]=Ol(e[x],o[x]);for(;x<T;++x)nt[x]=o[x];return function(tt){for(x=0;x<N;++x)nt[x]=z[x](tt);return nt}}function yd(e,o){var x=new Date;return e=+e,o=+o,function(T){return x.setTime(e*(1-T)+o*T),x}}function ka(e,o){return e=+e,o=+o,function(x){return e*(1-x)+o*x}}function oh(e,o){var x,T={},N={};for(x in e!==null&&typeof e=="object"||(e={}),o!==null&&typeof o=="object"||(o={}),o)x in e?T[x]=Ol(e[x],o[x]):N[x]=o[x];return function(z){for(x in T)N[x]=T[x](z);return N}}var Al=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ah=new RegExp(Al.source,"g");function Da(e,o){var x,T,N,z=Al.lastIndex=ah.lastIndex=0,nt=-1,tt=[],ft=[];for(e+="",o+="";(x=Al.exec(e))&&(T=ah.exec(o));)(N=T.index)>z&&(N=o.slice(z,N),tt[nt]?tt[nt]+=N:tt[++nt]=N),(x=x[0])===(T=T[0])?tt[nt]?tt[nt]+=T:tt[++nt]=T:(tt[++nt]=null,ft.push({i:nt,x:ka(x,T)})),z=ah.lastIndex;return z<o.length&&(N=o.slice(z),tt[nt]?tt[nt]+=N:tt[++nt]=N),tt.length<2?ft[0]?function(Et){return function(Dt){return Et(Dt)+""}}(ft[0].x):function(Et){return function(){return Et}}(o):(o=ft.length,function(Et){for(var Dt,Zt=0;Zt<o;++Zt)tt[(Dt=ft[Zt]).i]=Dt.x(Et);return tt.join("")})}function Ol(e,o){var x,T=typeof o;return o==null||T==="boolean"?Gl(o):(T==="number"?ka:T==="string"?(x=Xr(o))?(o=x,qc):Da:o instanceof Xr?qc:o instanceof Date?yd:Vi(o)?ku:Array.isArray(o)?ns:typeof o.valueOf!="function"&&typeof o.toString!="function"||isNaN(o)?oh:ka)(e,o)}function Hs(){for(var e,o=sr;e=o.sourceEvent;)o=e;return o}function jh(e,o){var x=e.ownerSVGElement||e;if(x.createSVGPoint){var T=x.createSVGPoint();return T.x=o.clientX,T.y=o.clientY,[(T=T.matrixTransform(e.getScreenCTM().inverse())).x,T.y]}var N=e.getBoundingClientRect();return[o.clientX-N.left-e.clientLeft,o.clientY-N.top-e.clientTop]}function $s(e,o,x){arguments.length<3&&(x=o,o=Hs().changedTouches);for(var T,N=0,z=o?o.length:0;N<z;++N)if((T=o[N]).identifier===x)return jh(e,T);return null}function wc(e){var o=Hs();return o.changedTouches&&(o=o.changedTouches[0]),jh(e,o)}var rs,Xl,oa=0,yo=0,is=0,Fa=0,Wi=0,Mi=0,gt=typeof performance=="object"&&performance.now?performance:Date,$t=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ce(){return Wi||($t(Me),Wi=gt.now()+Mi)}function Me(){Wi=0}function cn(){this._call=this._time=this._next=null}function Nn(e,o,x){var T=new cn;return T.restart(e,o,x),T}function zn(){ce(),++oa;for(var e,o=rs;o;)(e=Wi-o._time)>=0&&o._call.call(null,e),o=o._next;--oa}function tr(){Wi=(Fa=gt.now())+Mi,oa=yo=0;try{zn()}finally{oa=0,function(){for(var e,o,x=rs,T=1/0;x;)x._call?(T>x._time&&(T=x._time),e=x,x=x._next):(o=x._next,x._next=null,x=e?e._next=o:rs=o);Xl=e,lr(T)}(),Wi=0}}function nr(){var e=gt.now(),o=e-Fa;o>1e3&&(Mi-=o,Fa=e)}function lr(e){oa||(yo&&(yo=clearTimeout(yo)),e-Wi>24?(e<1/0&&(yo=setTimeout(tr,e-gt.now()-Mi)),is&&(is=clearInterval(is))):(is||(Fa=gt.now(),is=setInterval(nr,1e3)),oa=1,$t(tr)))}function dr(e,o,x){var T=new cn;return o=o==null?0:+o,T.restart(function(N){T.stop(),e(N+o)},o,x),T}cn.prototype=Nn.prototype={constructor:cn,restart:function(e,o,x){if(typeof e!="function")throw new TypeError("callback is not a function");x=(x==null?ce():+x)+(o==null?0:+o),this._next||Xl===this||(Xl?Xl._next=this:rs=this,Xl=this),this._call=e,this._time=x,lr()},stop:function(){this._call&&(this._call=null,this._time=1/0,lr())}};var Vr=Ue("start","end","cancel","interrupt"),Ir=[];function Ci(e,o,x,T,N,z){var nt=e.__transition;if(nt){if(x in nt)return}else e.__transition={};(function(tt,ft,Et){var Dt,Zt=tt.__transition;function Rt(_e){var xe,pe,Le,Ae;if(Et.state!==1)return le();for(xe in Zt)if((Ae=Zt[xe]).name===Et.name){if(Ae.state===3)return dr(Rt);Ae.state===4?(Ae.state=6,Ae.timer.stop(),Ae.on.call("interrupt",tt,tt.__data__,Ae.index,Ae.group),delete Zt[xe]):+xe<ft&&(Ae.state=6,Ae.timer.stop(),Ae.on.call("cancel",tt,tt.__data__,Ae.index,Ae.group),delete Zt[xe])}if(dr(function(){Et.state===3&&(Et.state=4,Et.timer.restart(ie,Et.delay,Et.time),ie(_e))}),Et.state=2,Et.on.call("start",tt,tt.__data__,Et.index,Et.group),Et.state===2){for(Et.state=3,Dt=new Array(Le=Et.tween.length),xe=0,pe=-1;xe<Le;++xe)(Ae=Et.tween[xe].value.call(tt,tt.__data__,Et.index,Et.group))&&(Dt[++pe]=Ae);Dt.length=pe+1}}function ie(_e){for(var xe=_e<Et.duration?Et.ease.call(null,_e/Et.duration):(Et.timer.restart(le),Et.state=5,1),pe=-1,Le=Dt.length;++pe<Le;)Dt[pe].call(tt,xe);Et.state===5&&(Et.on.call("end",tt,tt.__data__,Et.index,Et.group),le())}function le(){for(var _e in Et.state=6,Et.timer.stop(),delete Zt[ft],Zt)return;delete tt.__transition}Zt[ft]=Et,Et.timer=Nn(function(_e){Et.state=1,Et.timer.restart(Rt,Et.delay,Et.time),Et.delay<=_e&&Rt(_e-Et.delay)},0,Et.time)})(e,x,{name:o,index:T,group:N,on:Vr,tween:Ir,time:z.time,delay:z.delay,duration:z.duration,ease:z.ease,timer:null,state:0})}function $i(e,o){var x=No(e,o);if(x.state>0)throw new Error("too late; already scheduled");return x}function _i(e,o){var x=No(e,o);if(x.state>3)throw new Error("too late; already running");return x}function No(e,o){var x=e.__transition;if(!x||!(x=x[o]))throw new Error("transition not found");return x}function Za(e,o){var x,T,N,z=e.__transition,nt=!0;if(z){for(N in o=o==null?null:o+"",z)(x=z[N]).name===o?(T=x.state>2&&x.state<5,x.state=6,x.timer.stop(),x.on.call(T?"interrupt":"cancel",e,e.__data__,x.index,x.group),delete z[N]):nt=!1;nt&&delete e.__transition}}var Cu,vd,Ml,za,bd=180/Math.PI,qs={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Sp(e,o,x,T,N,z){var nt,tt,ft;return(nt=Math.sqrt(e*e+o*o))&&(e/=nt,o/=nt),(ft=e*x+o*T)&&(x-=e*ft,T-=o*ft),(tt=Math.sqrt(x*x+T*T))&&(x/=tt,T/=tt,ft/=tt),e*T<o*x&&(e=-e,o=-o,ft=-ft,nt=-nt),{translateX:N,translateY:z,rotate:Math.atan2(o,e)*bd,skewX:Math.atan(ft)*bd,scaleX:nt,scaleY:tt}}function Zl(e,o,x,T){function N(z){return z.length?z.pop()+" ":""}return function(z,nt){var tt=[],ft=[];return z=e(z),nt=e(nt),function(Et,Dt,Zt,Rt,ie,le){if(Et!==Zt||Dt!==Rt){var _e=ie.push("translate(",null,o,null,x);le.push({i:_e-4,x:ka(Et,Zt)},{i:_e-2,x:ka(Dt,Rt)})}else(Zt||Rt)&&ie.push("translate("+Zt+o+Rt+x)}(z.translateX,z.translateY,nt.translateX,nt.translateY,tt,ft),function(Et,Dt,Zt,Rt){Et!==Dt?(Et-Dt>180?Dt+=360:Dt-Et>180&&(Et+=360),Rt.push({i:Zt.push(N(Zt)+"rotate(",null,T)-2,x:ka(Et,Dt)})):Dt&&Zt.push(N(Zt)+"rotate("+Dt+T)}(z.rotate,nt.rotate,tt,ft),function(Et,Dt,Zt,Rt){Et!==Dt?Rt.push({i:Zt.push(N(Zt)+"skewX(",null,T)-2,x:ka(Et,Dt)}):Dt&&Zt.push(N(Zt)+"skewX("+Dt+T)}(z.skewX,nt.skewX,tt,ft),function(Et,Dt,Zt,Rt,ie,le){if(Et!==Zt||Dt!==Rt){var _e=ie.push(N(ie)+"scale(",null,",",null,")");le.push({i:_e-4,x:ka(Et,Zt)},{i:_e-2,x:ka(Dt,Rt)})}else Zt===1&&Rt===1||ie.push(N(ie)+"scale("+Zt+","+Rt+")")}(z.scaleX,z.scaleY,nt.scaleX,nt.scaleY,tt,ft),z=nt=null,function(Et){for(var Dt,Zt=-1,Rt=ft.length;++Zt<Rt;)tt[(Dt=ft[Zt]).i]=Dt.x(Et);return tt.join("")}}}var Ih=Zl(function(e){return e==="none"?qs:(Cu||(Cu=document.createElement("DIV"),vd=document.documentElement,Ml=document.defaultView),Cu.style.transform=e,e=Ml.getComputedStyle(vd.appendChild(Cu),null).getPropertyValue("transform"),vd.removeChild(Cu),Sp(+(e=e.slice(7,-1).split(","))[0],+e[1],+e[2],+e[3],+e[4],+e[5]))},"px, ","px)","deg)"),ec=Zl(function(e){return e==null?qs:(za||(za=document.createElementNS("http://www.w3.org/2000/svg","g")),za.setAttribute("transform",e),(e=za.transform.baseVal.consolidate())?Sp((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):qs)},", ",")",")");function aa(e,o){var x,T;return function(){var N=_i(this,e),z=N.tween;if(z!==x){for(var nt=0,tt=(T=x=z).length;nt<tt;++nt)if(T[nt].name===o){(T=T.slice()).splice(nt,1);break}}N.tween=T}}function xn(e,o,x){var T,N;if(typeof x!="function")throw new Error;return function(){var z=_i(this,e),nt=z.tween;if(nt!==T){N=(T=nt).slice();for(var tt={name:o,value:x},ft=0,Et=N.length;ft<Et;++ft)if(N[ft].name===o){N[ft]=tt;break}ft===Et&&N.push(tt)}z.tween=N}}function Hn(e,o,x){var T=e._id;return e.each(function(){var N=_i(this,T);(N.value||(N.value={}))[o]=x.apply(this,arguments)}),function(N){return No(N,T).value[o]}}function In(e,o){var x;return(typeof o=="number"?ka:o instanceof Xr?qc:(x=Xr(o))?(o=x,qc):Da)(e,o)}function Sr(e){return function(){this.removeAttribute(e)}}function Wr(e){return function(){this.removeAttributeNS(e.space,e.local)}}function uo(e,o,x){var T,N,z=x+"";return function(){var nt=this.getAttribute(e);return nt===z?null:nt===T?N:N=o(T=nt,x)}}function Uo(e,o,x){var T,N,z=x+"";return function(){var nt=this.getAttributeNS(e.space,e.local);return nt===z?null:nt===T?N:N=o(T=nt,x)}}function vo(e,o,x){var T,N,z;return function(){var nt,tt,ft=x(this);if(ft!=null)return(nt=this.getAttribute(e))===(tt=ft+"")?null:nt===T&&tt===N?z:(N=tt,z=o(T=nt,ft));this.removeAttribute(e)}}function ps(e,o,x){var T,N,z;return function(){var nt,tt,ft=x(this);if(ft!=null)return(nt=this.getAttributeNS(e.space,e.local))===(tt=ft+"")?null:nt===T&&tt===N?z:(N=tt,z=o(T=nt,ft));this.removeAttributeNS(e.space,e.local)}}function gf(e,o){return function(x){this.setAttribute(e,o.call(this,x))}}function da(e,o){return function(x){this.setAttributeNS(e.space,e.local,o.call(this,x))}}function fl(e,o){var x,T;function N(){var z=o.apply(this,arguments);return z!==T&&(x=(T=z)&&da(e,z)),x}return N._value=o,N}function $0(e,o){var x,T;function N(){var z=o.apply(this,arguments);return z!==T&&(x=(T=z)&&gf(e,z)),x}return N._value=o,N}function pl(e,o){return function(){$i(this,e).delay=+o.apply(this,arguments)}}function sh(e,o){return o=+o,function(){$i(this,e).delay=o}}function nc(e,o){return function(){_i(this,e).duration=+o.apply(this,arguments)}}function Xi(e,o){return o=+o,function(){_i(this,e).duration=o}}function mf(e,o){if(typeof o!="function")throw new Error;return function(){_i(this,e).ease=o}}function Ho(e,o,x){var T,N,z=function(nt){return(nt+"").trim().split(/^|\s+/).every(function(tt){var ft=tt.indexOf(".");return ft>=0&&(tt=tt.slice(0,ft)),!tt||tt==="start"})}(o)?$i:_i;return function(){var nt=z(this,e),tt=nt.on;tt!==T&&(N=(T=tt).copy()).on(o,x),nt.on=N}}var Ll=fn.prototype.constructor;function Vc(e){return function(){this.style.removeProperty(e)}}function xd(e,o,x){return function(T){this.style.setProperty(e,o.call(this,T),x)}}function q0(e,o,x){var T,N;function z(){var nt=o.apply(this,arguments);return nt!==N&&(T=(N=nt)&&xd(e,nt,x)),T}return z._value=o,z}function ch(e){return function(o){this.textContent=e.call(this,o)}}function gl(e){var o,x;function T(){var N=e.apply(this,arguments);return N!==x&&(o=(x=N)&&ch(N)),o}return T._value=e,T}var yf=0;function os(e,o,x,T){this._groups=e,this._parents=o,this._name=x,this._id=T}function Wc(e){return fn().transition(e)}function Ys(){return++yf}var Kl=fn.prototype;function Gc(e){return e*e*e}function wd(e){return--e*e*e+1}function $o(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}os.prototype=Wc.prototype={constructor:os,select:function(e){var o=this._name,x=this._id;typeof e!="function"&&(e=De(e));for(var T=this._groups,N=T.length,z=new Array(N),nt=0;nt<N;++nt)for(var tt,ft,Et=T[nt],Dt=Et.length,Zt=z[nt]=new Array(Dt),Rt=0;Rt<Dt;++Rt)(tt=Et[Rt])&&(ft=e.call(tt,tt.__data__,Rt,Et))&&("__data__"in tt&&(ft.__data__=tt.__data__),Zt[Rt]=ft,Ci(Zt[Rt],o,x,Rt,Zt,No(tt,x)));return new os(z,this._parents,o,x)},selectAll:function(e){var o=this._name,x=this._id;typeof e!="function"&&(e=Oe(e));for(var T=this._groups,N=T.length,z=[],nt=[],tt=0;tt<N;++tt)for(var ft,Et=T[tt],Dt=Et.length,Zt=0;Zt<Dt;++Zt)if(ft=Et[Zt]){for(var Rt,ie=e.call(ft,ft.__data__,Zt,Et),le=No(ft,x),_e=0,xe=ie.length;_e<xe;++_e)(Rt=ie[_e])&&Ci(Rt,o,x,_e,ie,le);z.push(ie),nt.push(ft)}return new os(z,nt,o,x)},filter:function(e){typeof e!="function"&&(e=Pe(e));for(var o=this._groups,x=o.length,T=new Array(x),N=0;N<x;++N)for(var z,nt=o[N],tt=nt.length,ft=T[N]=[],Et=0;Et<tt;++Et)(z=nt[Et])&&e.call(z,z.__data__,Et,nt)&&ft.push(z);return new os(T,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var o=this._groups,x=e._groups,T=o.length,N=x.length,z=Math.min(T,N),nt=new Array(T),tt=0;tt<z;++tt)for(var ft,Et=o[tt],Dt=x[tt],Zt=Et.length,Rt=nt[tt]=new Array(Zt),ie=0;ie<Zt;++ie)(ft=Et[ie]||Dt[ie])&&(Rt[ie]=ft);for(;tt<T;++tt)nt[tt]=o[tt];return new os(nt,this._parents,this._name,this._id)},selection:function(){return new Ll(this._groups,this._parents)},transition:function(){for(var e=this._name,o=this._id,x=Ys(),T=this._groups,N=T.length,z=0;z<N;++z)for(var nt,tt=T[z],ft=tt.length,Et=0;Et<ft;++Et)if(nt=tt[Et]){var Dt=No(nt,o);Ci(nt,e,x,Et,tt,{time:Dt.time+Dt.delay+Dt.duration,delay:0,duration:Dt.duration,ease:Dt.ease})}return new os(T,this._parents,e,x)},call:Kl.call,nodes:Kl.nodes,node:Kl.node,size:Kl.size,empty:Kl.empty,each:Kl.each,on:function(e,o){var x=this._id;return arguments.length<2?No(this.node(),x).on.on(e):this.each(Ho(x,e,o))},attr:function(e,o){var x=Bn(e),T=x==="transform"?ec:In;return this.attrTween(e,typeof o=="function"?(x.local?ps:vo)(x,T,Hn(this,"attr."+e,o)):o==null?(x.local?Wr:Sr)(x):(x.local?Uo:uo)(x,T,o))},attrTween:function(e,o){var x="attr."+e;if(arguments.length<2)return(x=this.tween(x))&&x._value;if(o==null)return this.tween(x,null);if(typeof o!="function")throw new Error;var T=Bn(e);return this.tween(x,(T.local?fl:$0)(T,o))},style:function(e,o,x){var T=(e+="")=="transform"?Ih:In;return o==null?this.styleTween(e,function(N,z){var nt,tt,ft;return function(){var Et=Ye(this,N),Dt=(this.style.removeProperty(N),Ye(this,N));return Et===Dt?null:Et===nt&&Dt===tt?ft:ft=z(nt=Et,tt=Dt)}}(e,T)).on("end.style."+e,Vc(e)):typeof o=="function"?this.styleTween(e,function(N,z,nt){var tt,ft,Et;return function(){var Dt=Ye(this,N),Zt=nt(this),Rt=Zt+"";return Zt==null&&(this.style.removeProperty(N),Rt=Zt=Ye(this,N)),Dt===Rt?null:Dt===tt&&Rt===ft?Et:(ft=Rt,Et=z(tt=Dt,Zt))}}(e,T,Hn(this,"style."+e,o))).each(function(N,z){var nt,tt,ft,Et,Dt="style."+z,Zt="end."+Dt;return function(){var Rt=_i(this,N),ie=Rt.on,le=Rt.value[Dt]==null?Et||(Et=Vc(z)):void 0;ie===nt&&ft===le||(tt=(nt=ie).copy()).on(Zt,ft=le),Rt.on=tt}}(this._id,e)):this.styleTween(e,function(N,z,nt){var tt,ft,Et=nt+"";return function(){var Dt=Ye(this,N);return Dt===Et?null:Dt===tt?ft:ft=z(tt=Dt,nt)}}(e,T,o),x).on("end.style."+e,null)},styleTween:function(e,o,x){var T="style."+(e+="");if(arguments.length<2)return(T=this.tween(T))&&T._value;if(o==null)return this.tween(T,null);if(typeof o!="function")throw new Error;return this.tween(T,q0(e,o,x==null?"":x))},text:function(e){return this.tween("text",typeof e=="function"?function(o){return function(){var x=o(this);this.textContent=x==null?"":x}}(Hn(this,"text",e)):function(o){return function(){this.textContent=o}}(e==null?"":e+""))},textTween:function(e){var o="text";if(arguments.length<1)return(o=this.tween(o))&&o._value;if(e==null)return this.tween(o,null);if(typeof e!="function")throw new Error;return this.tween(o,gl(e))},remove:function(){return this.on("end.remove",function(e){return function(){var o=this.parentNode;for(var x in this.__transition)if(+x!==e)return;o&&o.removeChild(this)}}(this._id))},tween:function(e,o){var x=this._id;if(e+="",arguments.length<2){for(var T,N=No(this.node(),x).tween,z=0,nt=N.length;z<nt;++z)if((T=N[z]).name===e)return T.value;return null}return this.each((o==null?aa:xn)(x,e,o))},delay:function(e){var o=this._id;return arguments.length?this.each((typeof e=="function"?pl:sh)(o,e)):No(this.node(),o).delay},duration:function(e){var o=this._id;return arguments.length?this.each((typeof e=="function"?nc:Xi)(o,e)):No(this.node(),o).duration},ease:function(e){var o=this._id;return arguments.length?this.each(mf(o,e)):No(this.node(),o).ease},end:function(){var e,o,x=this,T=x._id,N=x.size();return new Promise(function(z,nt){var tt={value:nt},ft={value:function(){--N==0&&z()}};x.each(function(){var Et=_i(this,T),Dt=Et.on;Dt!==e&&((o=(e=Dt).copy())._.cancel.push(tt),o._.interrupt.push(tt),o._.end.push(ft)),Et.on=o})})}};var As={time:null,delay:0,duration:250,ease:$o};function _d(e,o){for(var x;!(x=e.__transition)||!(x=x[o]);)if(!(e=e.parentNode))return As.time=ce(),As;return x}fn.prototype.interrupt=function(e){return this.each(function(){Za(this,e)})},fn.prototype.transition=function(e){var o,x;e instanceof os?(o=e._id,e=e._name):(o=Ys(),(x=As).time=ce(),e=e==null?null:e+"");for(var T=this._groups,N=T.length,z=0;z<N;++z)for(var nt,tt=T[z],ft=tt.length,Et=0;Et<ft;++Et)(nt=tt[Et])&&Ci(nt,e,o,Et,tt,x||_d(nt,o));return new os(T,this._parents,e,o)};var _c=[null];function Su(e,o){var x,T,N=e.__transition;if(N){for(T in o=o==null?null:o+"",N)if((x=N[T]).state>1&&x.name===o)return new os([[e]],_c,o,+T)}return null}function Jl(e){return function(){return e}}function Ql(e,o,x){this.target=e,this.type=o,this.selection=x}function tu(){sr.stopImmediatePropagation()}function Os(){sr.preventDefault(),sr.stopImmediatePropagation()}var lh={name:"drag"},Xc={name:"space"},Zc={name:"handle"},Bl={name:"center"};function Ca(e){return[+e[0],+e[1]]}function Jo(e){return[Ca(e[0]),Ca(e[1])]}function Ep(e){return function(o){return $s(o,sr.touches,e)}}var ml={name:"x",handles:["w","e"].map(yl),input:function(e,o){return e==null?null:[[+e[0],o[0][1]],[+e[1],o[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},Eu={name:"y",handles:["n","s"].map(yl),input:function(e,o){return e==null?null:[[o[0][0],+e[0]],[o[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},Y0={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(yl),input:function(e){return e==null?null:Jo(e)},output:function(e){return e}},rc={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Tu={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},eu={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Au={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},kd={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function yl(e){return{type:e}}function nu(){return!sr.ctrlKey&&!sr.button}function vl(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function jl(){return navigator.maxTouchPoints||"ontouchstart"in this}function kc(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function ru(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function Nh(e){var o=e.__brush;return o?o.dim.output(o.selection):null}function Cd(){return uh(ml)}function Ph(){return uh(Eu)}function Rh(){return uh(Y0)}function uh(e){var o,x=vl,T=nu,N=jl,z=!0,nt=Ue("start","brush","end"),tt=6;function ft(xe){var pe=xe.property("__brush",_e).selectAll(".overlay").data([yl("overlay")]);pe.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",rc.overlay).merge(pe).each(function(){var Ae=kc(this).extent;ao(this).attr("x",Ae[0][0]).attr("y",Ae[0][1]).attr("width",Ae[1][0]-Ae[0][0]).attr("height",Ae[1][1]-Ae[0][1])}),xe.selectAll(".selection").data([yl("selection")]).enter().append("rect").attr("class","selection").attr("cursor",rc.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var Le=xe.selectAll(".handle").data(e.handles,function(Ae){return Ae.type});Le.exit().remove(),Le.enter().append("rect").attr("class",function(Ae){return"handle handle--"+Ae.type}).attr("cursor",function(Ae){return rc[Ae.type]}),xe.each(Et).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",Rt).filter(N).on("touchstart.brush",Rt).on("touchmove.brush",ie).on("touchend.brush touchcancel.brush",le).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function Et(){var xe=ao(this),pe=kc(this).selection;pe?(xe.selectAll(".selection").style("display",null).attr("x",pe[0][0]).attr("y",pe[0][1]).attr("width",pe[1][0]-pe[0][0]).attr("height",pe[1][1]-pe[0][1]),xe.selectAll(".handle").style("display",null).attr("x",function(Le){return Le.type[Le.type.length-1]==="e"?pe[1][0]-tt/2:pe[0][0]-tt/2}).attr("y",function(Le){return Le.type[0]==="s"?pe[1][1]-tt/2:pe[0][1]-tt/2}).attr("width",function(Le){return Le.type==="n"||Le.type==="s"?pe[1][0]-pe[0][0]+tt:tt}).attr("height",function(Le){return Le.type==="e"||Le.type==="w"?pe[1][1]-pe[0][1]+tt:tt})):xe.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function Dt(xe,pe,Le){var Ae=xe.__brush.emitter;return!Ae||Le&&Ae.clean?new Zt(xe,pe,Le):Ae}function Zt(xe,pe,Le){this.that=xe,this.args=pe,this.state=xe.__brush,this.active=0,this.clean=Le}function Rt(){if((!o||sr.touches)&&T.apply(this,arguments)){var xe,pe,Le,Ae,Re,en,bn,kn,Wn,un,jn,Ie=this,qe=sr.target.__data__.type,Tn=(z&&sr.metaKey?qe="overlay":qe)==="selection"?lh:z&&sr.altKey?Bl:Zc,wn=e===Eu?null:Au[qe],An=e===ml?null:kd[qe],pr=kc(Ie),Er=pr.extent,Qr=pr.selection,Hi=Er[0][0],Yi=Er[0][1],Dr=Er[1][0],po=Er[1][1],pi=0,hi=0,co=wn&&An&&z&&sr.shiftKey,pc=sr.touches?Ep(sr.changedTouches[0].identifier):wc,Fs=pc(Ie),Qu=Fs,bp=Dt(Ie,arguments,!0).beforestart();qe==="overlay"?(Qr&&(Wn=!0),pr.selection=Qr=[[xe=e===Eu?Hi:Fs[0],Le=e===ml?Yi:Fs[1]],[Re=e===Eu?Dr:xe,bn=e===ml?po:Le]]):(xe=Qr[0][0],Le=Qr[0][1],Re=Qr[1][0],bn=Qr[1][1]),pe=xe,Ae=Le,en=Re,kn=bn;var gy=ao(Ie).attr("pointer-events","none"),my=gy.selectAll(".overlay").attr("cursor",rc[qe]);if(sr.touches)bp.moved=D0,bp.ended=B3;else{var R0=ao(sr.view).on("mousemove.brush",D0,!0).on("mouseup.brush",B3,!0);z&&R0.on("keydown.brush",Bk,!0).on("keyup.brush",jk,!0),ds(sr.view)}tu(),Za(Ie),Et.call(Ie),bp.start()}function D0(){var th=pc(Ie);!co||un||jn||(Math.abs(th[0]-Qu[0])>Math.abs(th[1]-Qu[1])?jn=!0:un=!0),Qu=th,Wn=!0,Os(),Og()}function Og(){var th;switch(pi=Qu[0]-Fs[0],hi=Qu[1]-Fs[1],Tn){case Xc:case lh:wn&&(pi=Math.max(Hi-xe,Math.min(Dr-Re,pi)),pe=xe+pi,en=Re+pi),An&&(hi=Math.max(Yi-Le,Math.min(po-bn,hi)),Ae=Le+hi,kn=bn+hi);break;case Zc:wn<0?(pi=Math.max(Hi-xe,Math.min(Dr-xe,pi)),pe=xe+pi,en=Re):wn>0&&(pi=Math.max(Hi-Re,Math.min(Dr-Re,pi)),pe=xe,en=Re+pi),An<0?(hi=Math.max(Yi-Le,Math.min(po-Le,hi)),Ae=Le+hi,kn=bn):An>0&&(hi=Math.max(Yi-bn,Math.min(po-bn,hi)),Ae=Le,kn=bn+hi);break;case Bl:wn&&(pe=Math.max(Hi,Math.min(Dr,xe-pi*wn)),en=Math.max(Hi,Math.min(Dr,Re+pi*wn))),An&&(Ae=Math.max(Yi,Math.min(po,Le-hi*An)),kn=Math.max(Yi,Math.min(po,bn+hi*An)))}en<pe&&(wn*=-1,th=xe,xe=Re,Re=th,th=pe,pe=en,en=th,qe in Tu&&my.attr("cursor",rc[qe=Tu[qe]])),kn<Ae&&(An*=-1,th=Le,Le=bn,bn=th,th=Ae,Ae=kn,kn=th,qe in eu&&my.attr("cursor",rc[qe=eu[qe]])),pr.selection&&(Qr=pr.selection),un&&(pe=Qr[0][0],en=Qr[1][0]),jn&&(Ae=Qr[0][1],kn=Qr[1][1]),Qr[0][0]===pe&&Qr[0][1]===Ae&&Qr[1][0]===en&&Qr[1][1]===kn||(pr.selection=[[pe,Ae],[en,kn]],Et.call(Ie),bp.brush())}function B3(){if(tu(),sr.touches){if(sr.touches.length)return;o&&clearTimeout(o),o=setTimeout(function(){o=null},500)}else ra(sr.view,Wn),R0.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);gy.attr("pointer-events","all"),my.attr("cursor",rc.overlay),pr.selection&&(Qr=pr.selection),ru(Qr)&&(pr.selection=null,Et.call(Ie)),bp.end()}function Bk(){switch(sr.keyCode){case 16:co=wn&&An;break;case 18:Tn===Zc&&(wn&&(Re=en-pi*wn,xe=pe+pi*wn),An&&(bn=kn-hi*An,Le=Ae+hi*An),Tn=Bl,Og());break;case 32:Tn!==Zc&&Tn!==Bl||(wn<0?Re=en-pi:wn>0&&(xe=pe-pi),An<0?bn=kn-hi:An>0&&(Le=Ae-hi),Tn=Xc,my.attr("cursor",rc.selection),Og());break;default:return}Os()}function jk(){switch(sr.keyCode){case 16:co&&(un=jn=co=!1,Og());break;case 18:Tn===Bl&&(wn<0?Re=en:wn>0&&(xe=pe),An<0?bn=kn:An>0&&(Le=Ae),Tn=Zc,Og());break;case 32:Tn===Xc&&(sr.altKey?(wn&&(Re=en-pi*wn,xe=pe+pi*wn),An&&(bn=kn-hi*An,Le=Ae+hi*An),Tn=Bl):(wn<0?Re=en:wn>0&&(xe=pe),An<0?bn=kn:An>0&&(Le=Ae),Tn=Zc),my.attr("cursor",rc[qe]),Og());break;default:return}Os()}}function ie(){Dt(this,arguments).moved()}function le(){Dt(this,arguments).ended()}function _e(){var xe=this.__brush||{selection:null};return xe.extent=Jo(x.apply(this,arguments)),xe.dim=e,xe}return ft.move=function(xe,pe){xe.selection?xe.on("start.brush",function(){Dt(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){Dt(this,arguments).end()}).tween("brush",function(){var Le=this,Ae=Le.__brush,Re=Dt(Le,arguments),en=Ae.selection,bn=e.input(typeof pe=="function"?pe.apply(this,arguments):pe,Ae.extent),kn=Ol(en,bn);function Wn(un){Ae.selection=un===1&&bn===null?null:kn(un),Et.call(Le),Re.brush()}return en!==null&&bn!==null?Wn:Wn(1)}):xe.each(function(){var Le=this,Ae=arguments,Re=Le.__brush,en=e.input(typeof pe=="function"?pe.apply(Le,Ae):pe,Re.extent),bn=Dt(Le,Ae).beforestart();Za(Le),Re.selection=en===null?null:en,Et.call(Le),bn.start().brush().end()})},ft.clear=function(xe){ft.move(xe,null)},Zt.prototype={beforestart:function(){return++this.active==1&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return--this.active==0&&(delete this.state.emitter,this.emit("end")),this},emit:function(xe){Cr(new Ql(ft,xe,e.output(this.state.selection)),nt.apply,nt,[xe,this.that,this.args])}},ft.extent=function(xe){return arguments.length?(x=typeof xe=="function"?xe:Jl(Jo(xe)),ft):x},ft.filter=function(xe){return arguments.length?(T=typeof xe=="function"?xe:Jl(!!xe),ft):T},ft.touchable=function(xe){return arguments.length?(N=typeof xe=="function"?xe:Jl(!!xe),ft):N},ft.handleSize=function(xe){return arguments.length?(tt=+xe,ft):tt},ft.keyModifiers=function(xe){return arguments.length?(z=!!xe,ft):z},ft.on=function(){var xe=nt.on.apply(nt,arguments);return xe===nt?ft:xe},ft}var Ee=Math.cos,bl=Math.sin,Sd=Math.PI,Vs=Sd/2,Ti=2*Sd,Ed=Math.max;function vf(e){return function(o,x){return e(o.source.value+o.target.value,x.source.value+x.target.value)}}function Fg(){var e=0,o=null,x=null,T=null;function N(z){var nt,tt,ft,Et,Dt,Zt,Rt=z.length,ie=[],le=V(Rt),_e=[],xe=[],pe=xe.groups=new Array(Rt),Le=new Array(Rt*Rt);for(nt=0,Dt=-1;++Dt<Rt;){for(tt=0,Zt=-1;++Zt<Rt;)tt+=z[Dt][Zt];ie.push(tt),_e.push(V(Rt)),nt+=tt}for(o&&le.sort(function(jn,Ie){return o(ie[jn],ie[Ie])}),x&&_e.forEach(function(jn,Ie){jn.sort(function(qe,Tn){return x(z[Ie][qe],z[Ie][Tn])})}),Et=(nt=Ed(0,Ti-e*Rt)/nt)?e:Ti/Rt,tt=0,Dt=-1;++Dt<Rt;){for(ft=tt,Zt=-1;++Zt<Rt;){var Ae=le[Dt],Re=_e[Ae][Zt],en=z[Ae][Re],bn=tt,kn=tt+=en*nt;Le[Re*Rt+Ae]={index:Ae,subindex:Re,startAngle:bn,endAngle:kn,value:en}}pe[Ae]={index:Ae,startAngle:ft,endAngle:tt,value:ie[Ae]},tt+=Et}for(Dt=-1;++Dt<Rt;)for(Zt=Dt-1;++Zt<Rt;){var Wn=Le[Zt*Rt+Dt],un=Le[Dt*Rt+Zt];(Wn.value||un.value)&&xe.push(Wn.value<un.value?{source:un,target:Wn}:{source:Wn,target:un})}return T?xe.sort(T):xe}return N.padAngle=function(z){return arguments.length?(e=Ed(0,z),N):e},N.sortGroups=function(z){return arguments.length?(o=z,N):o},N.sortSubgroups=function(z){return arguments.length?(x=z,N):x},N.sortChords=function(z){return arguments.length?(z==null?T=null:(T=vf(z))._=z,N):T&&T._},N}var hh=Array.prototype.slice;function Tp(e){return function(){return e}}var dh=Math.PI,Ap=2*dh,Ou=1e-6,iu=Ap-Ou;function Ms(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function V0(){return new Ms}Ms.prototype=V0.prototype={constructor:Ms,moveTo:function(e,o){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+o)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,o){this._+="L"+(this._x1=+e)+","+(this._y1=+o)},quadraticCurveTo:function(e,o,x,T){this._+="Q"+ +e+","+ +o+","+(this._x1=+x)+","+(this._y1=+T)},bezierCurveTo:function(e,o,x,T,N,z){this._+="C"+ +e+","+ +o+","+ +x+","+ +T+","+(this._x1=+N)+","+(this._y1=+z)},arcTo:function(e,o,x,T,N){e=+e,o=+o,x=+x,T=+T,N=+N;var z=this._x1,nt=this._y1,tt=x-e,ft=T-o,Et=z-e,Dt=nt-o,Zt=Et*Et+Dt*Dt;if(N<0)throw new Error("negative radius: "+N);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=o);else if(Zt>Ou)if(Math.abs(Dt*tt-ft*Et)>Ou&&N){var Rt=x-z,ie=T-nt,le=tt*tt+ft*ft,_e=Rt*Rt+ie*ie,xe=Math.sqrt(le),pe=Math.sqrt(Zt),Le=N*Math.tan((dh-Math.acos((le+Zt-_e)/(2*xe*pe)))/2),Ae=Le/pe,Re=Le/xe;Math.abs(Ae-1)>Ou&&(this._+="L"+(e+Ae*Et)+","+(o+Ae*Dt)),this._+="A"+N+","+N+",0,0,"+ +(Dt*Rt>Et*ie)+","+(this._x1=e+Re*tt)+","+(this._y1=o+Re*ft)}else this._+="L"+(this._x1=e)+","+(this._y1=o)},arc:function(e,o,x,T,N,z){e=+e,o=+o,z=!!z;var nt=(x=+x)*Math.cos(T),tt=x*Math.sin(T),ft=e+nt,Et=o+tt,Dt=1^z,Zt=z?T-N:N-T;if(x<0)throw new Error("negative radius: "+x);this._x1===null?this._+="M"+ft+","+Et:(Math.abs(this._x1-ft)>Ou||Math.abs(this._y1-Et)>Ou)&&(this._+="L"+ft+","+Et),x&&(Zt<0&&(Zt=Zt%Ap+Ap),Zt>iu?this._+="A"+x+","+x+",0,1,"+Dt+","+(e-nt)+","+(o-tt)+"A"+x+","+x+",0,1,"+Dt+","+(this._x1=ft)+","+(this._y1=Et):Zt>Ou&&(this._+="A"+x+","+x+",0,"+ +(Zt>=dh)+","+Dt+","+(this._x1=e+x*Math.cos(N))+","+(this._y1=o+x*Math.sin(N))))},rect:function(e,o,x,T){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+o)+"h"+ +x+"v"+ +T+"h"+-x+"Z"},toString:function(){return this._}};const Cc=V0;function Op(e){return e.source}function Il(e){return e.target}function W0(e){return e.radius}function ou(e){return e.startAngle}function zg(e){return e.endAngle}function Dh(){var e=Op,o=Il,x=W0,T=ou,N=zg,z=null;function nt(){var tt,ft=hh.call(arguments),Et=e.apply(this,ft),Dt=o.apply(this,ft),Zt=+x.apply(this,(ft[0]=Et,ft)),Rt=T.apply(this,ft)-Vs,ie=N.apply(this,ft)-Vs,le=Zt*Ee(Rt),_e=Zt*bl(Rt),xe=+x.apply(this,(ft[0]=Dt,ft)),pe=T.apply(this,ft)-Vs,Le=N.apply(this,ft)-Vs;if(z||(z=tt=Cc()),z.moveTo(le,_e),z.arc(0,0,Zt,Rt,ie),Rt===pe&&ie===Le||(z.quadraticCurveTo(0,0,xe*Ee(pe),xe*bl(pe)),z.arc(0,0,xe,pe,Le)),z.quadraticCurveTo(0,0,le,_e),z.closePath(),tt)return z=null,tt+""||null}return nt.radius=function(tt){return arguments.length?(x=typeof tt=="function"?tt:Tp(+tt),nt):x},nt.startAngle=function(tt){return arguments.length?(T=typeof tt=="function"?tt:Tp(+tt),nt):T},nt.endAngle=function(tt){return arguments.length?(N=typeof tt=="function"?tt:Tp(+tt),nt):N},nt.source=function(tt){return arguments.length?(e=tt,nt):e},nt.target=function(tt){return arguments.length?(o=tt,nt):o},nt.context=function(tt){return arguments.length?(z=tt==null?null:tt,nt):z},nt}var Sc="$";function au(){}function bf(e,o){var x=new au;if(e instanceof au)e.each(function(tt,ft){x.set(ft,tt)});else if(Array.isArray(e)){var T,N=-1,z=e.length;if(o==null)for(;++N<z;)x.set(N,e[N]);else for(;++N<z;)x.set(o(T=e[N],N,e),T)}else if(e)for(var nt in e)x.set(nt,e[nt]);return x}au.prototype=bf.prototype={constructor:au,has:function(e){return Sc+e in this},get:function(e){return this[Sc+e]},set:function(e,o){return this[Sc+e]=o,this},remove:function(e){var o=Sc+e;return o in this&&delete this[o]},clear:function(){for(var e in this)e[0]===Sc&&delete this[e]},keys:function(){var e=[];for(var o in this)o[0]===Sc&&e.push(o.slice(1));return e},values:function(){var e=[];for(var o in this)o[0]===Sc&&e.push(this[o]);return e},entries:function(){var e=[];for(var o in this)o[0]===Sc&&e.push({key:o.slice(1),value:this[o]});return e},size:function(){var e=0;for(var o in this)o[0]===Sc&&++e;return e},empty:function(){for(var e in this)if(e[0]===Sc)return!1;return!0},each:function(e){for(var o in this)o[0]===Sc&&e(this[o],o.slice(1),this)}};const fa=bf;function G0(){var e,o,x,T=[],N=[];function z(tt,ft,Et,Dt){if(ft>=T.length)return e!=null&&tt.sort(e),o!=null?o(tt):tt;for(var Zt,Rt,ie,le=-1,_e=tt.length,xe=T[ft++],pe=fa(),Le=Et();++le<_e;)(ie=pe.get(Zt=xe(Rt=tt[le])+""))?ie.push(Rt):pe.set(Zt,[Rt]);return pe.each(function(Ae,Re){Dt(Le,Re,z(Ae,ft,Et,Dt))}),Le}function nt(tt,ft){if(++ft>T.length)return tt;var Et,Dt=N[ft-1];return o!=null&&ft>=T.length?Et=tt.entries():(Et=[],tt.each(function(Zt,Rt){Et.push({key:Rt,values:nt(Zt,ft)})})),Dt!=null?Et.sort(function(Zt,Rt){return Dt(Zt.key,Rt.key)}):Et}return x={object:function(tt){return z(tt,0,Fh,Ua)},map:function(tt){return z(tt,0,Mu,Td)},entries:function(tt){return nt(z(tt,0,Mu,Td),0)},key:function(tt){return T.push(tt),x},sortKeys:function(tt){return N[T.length-1]=tt,x},sortValues:function(tt){return e=tt,x},rollup:function(tt){return o=tt,x}}}function Fh(){return{}}function Ua(e,o,x){e[o]=x}function Mu(){return fa()}function Td(e,o,x){e.set(o,x)}function Ha(){}var fh=fa.prototype;function Mp(e,o){var x=new Ha;if(e instanceof Ha)e.each(function(z){x.add(z)});else if(e){var T=-1,N=e.length;if(o==null)for(;++T<N;)x.add(e[T]);else for(;++T<N;)x.add(o(e[T],T,e))}return x}Ha.prototype=Mp.prototype={constructor:Ha,has:fh.has,add:function(e){return this[Sc+(e+="")]=e,this},remove:fh.remove,clear:fh.clear,values:fh.keys,size:fh.size,empty:fh.empty,each:fh.each};const su=Mp;function X0(e){var o=[];for(var x in e)o.push(x);return o}function zh(e){var o=[];for(var x in e)o.push(e[x]);return o}function Lp(e){var o=[];for(var x in e)o.push({key:x,value:e[x]});return o}var Kc=Math.PI/180,Lu=180/Math.PI,Uh=.96422,ph=.82521,Ad=4/29,cu=6/29,ic=3*cu*cu;function gs(e){if(e instanceof Po)return new Po(e.l,e.a,e.b,e.opacity);if(e instanceof wo)return xf(e);e instanceof Ao||(e=Io(e));var o,x,T=as(e.r),N=as(e.g),z=as(e.b),nt=Ea((.2225045*T+.7168786*N+.0606169*z)/1);return T===N&&N===z?o=x=nt:(o=Ea((.4360747*T+.3850649*N+.1430804*z)/Uh),x=Ea((.0139322*T+.0971045*N+.7141733*z)/ph)),new Po(116*nt-16,500*(o-nt),200*(nt-x),e.opacity)}function Ec(e,o){return new Po(e,0,0,o==null?1:o)}function Sa(e,o,x,T){return arguments.length===1?gs(e):new Po(e,o,x,T==null?1:T)}function Po(e,o,x,T){this.l=+e,this.a=+o,this.b=+x,this.opacity=+T}function Ea(e){return e>.008856451679035631?Math.pow(e,.3333333333333333):e/ic+Ad}function Bu(e){return e>cu?e*e*e:ic*(e-Ad)}function Nl(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,.4166666666666667)-.055)}function as(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Hh(e){if(e instanceof wo)return new wo(e.h,e.c,e.l,e.opacity);if(e instanceof Po||(e=gs(e)),e.a===0&&e.b===0)return new wo(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var o=Math.atan2(e.b,e.a)*Lu;return new wo(o<0?o+360:o,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function Ls(e,o,x,T){return arguments.length===1?Hh(e):new wo(x,o,e,T==null?1:T)}function ms(e,o,x,T){return arguments.length===1?Hh(e):new wo(e,o,x,T==null?1:T)}function wo(e,o,x,T){this.h=+e,this.c=+o,this.l=+x,this.opacity=+T}function xf(e){if(isNaN(e.h))return new Po(e.l,0,0,e.opacity);var o=e.h*Kc;return new Po(e.l,Math.cos(o)*e.c,Math.sin(o)*e.c,e.opacity)}Us(Po,Sa,Ni(Do,{brighter:function(e){return new Po(this.l+18*(e==null?1:e),this.a,this.b,this.opacity)},darker:function(e){return new Po(this.l-18*(e==null?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,o=isNaN(this.a)?e:e+this.a/500,x=isNaN(this.b)?e:e-this.b/200;return new Ao(Nl(3.1338561*(o=Uh*Bu(o))-1.6168667*(e=1*Bu(e))-.4906146*(x=ph*Bu(x))),Nl(-.9787684*o+1.9161415*e+.033454*x),Nl(.0719453*o-.2289914*e+1.4052427*x),this.opacity)}})),Us(wo,ms,Ni(Do,{brighter:function(e){return new wo(this.h,this.c,this.l+18*(e==null?1:e),this.opacity)},darker:function(e){return new wo(this.h,this.c,this.l-18*(e==null?1:e),this.opacity)},rgb:function(){return xf(this).rgb()}}));var Ka=-.14861,Pl=1.78277,ju=-.29227,Co=-.90649,lu=1.97294,sa=lu*Co,Rl=lu*Pl,wf=Pl*ju-Co*Ka;function Ws(e){if(e instanceof Jc)return new Jc(e.h,e.s,e.l,e.opacity);e instanceof Ao||(e=Io(e));var o=e.r/255,x=e.g/255,T=e.b/255,N=(wf*T+sa*o-Rl*x)/(wf+sa-Rl),z=T-N,nt=(lu*(x-N)-ju*z)/Co,tt=Math.sqrt(nt*nt+z*z)/(lu*N*(1-N)),ft=tt?Math.atan2(nt,z)*Lu-120:NaN;return new Jc(ft<0?ft+360:ft,tt,N,e.opacity)}function Tc(e,o,x,T){return arguments.length===1?Ws(e):new Jc(e,o,x,T==null?1:T)}function Jc(e,o,x,T){this.h=+e,this.s=+o,this.l=+x,this.opacity=+T}Us(Jc,Tc,Ni(Do,{brighter:function(e){return e=e==null?fs:Math.pow(fs,e),new Jc(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?Zo:Math.pow(Zo,e),new Jc(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*Kc,o=+this.l,x=isNaN(this.s)?0:this.s*o*(1-o),T=Math.cos(e),N=Math.sin(e);return new Ao(255*(o+x*(Ka*T+Pl*N)),255*(o+x*(ju*T+Co*N)),255*(o+x*(lu*T)),this.opacity)}}));var _f=Array.prototype.slice;function Od(e,o){return e-o}function Qc(e){return function(){return e}}function $h(e,o){for(var x,T=-1,N=o.length;++T<N;)if(x=ss(e,o[T]))return x;return 0}function ss(e,o){for(var x=o[0],T=o[1],N=-1,z=0,nt=e.length,tt=nt-1;z<nt;tt=z++){var ft=e[z],Et=ft[0],Dt=ft[1],Zt=e[tt],Rt=Zt[0],ie=Zt[1];if(ht(ft,Zt,o))return 0;Dt>T!=ie>T&&x<(Rt-Et)*(T-Dt)/(ie-Dt)+Et&&(N=-N)}return N}function ht(e,o,x){var T,N,z,nt;return function(tt,ft,Et){return(ft[0]-tt[0])*(Et[1]-tt[1])==(Et[0]-tt[0])*(ft[1]-tt[1])}(e,o,x)&&(N=e[T=+(e[0]===o[0])],z=x[T],nt=o[T],N<=z&&z<=nt||nt<=z&&z<=N)}function H(){}var At=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function q(){var e=1,o=1,x=J,T=tt;function N(ft){var Et=x(ft);if(Array.isArray(Et))Et=Et.slice().sort(Od);else{var Dt=R(ft),Zt=Dt[0],Rt=Dt[1];Et=lt(Zt,Rt,Et),Et=V(Math.floor(Zt/Et)*Et,Math.floor(Rt/Et)*Et,Et)}return Et.map(function(ie){return z(ft,ie)})}function z(ft,Et){var Dt=[],Zt=[];return function(Rt,ie,le){var _e,xe,pe,Le,Ae,Re,en=new Array,bn=new Array;for(_e=xe=-1,Le=Rt[0]>=ie,At[Le<<1].forEach(kn);++_e<e-1;)pe=Le,Le=Rt[_e+1]>=ie,At[pe|Le<<1].forEach(kn);for(At[Le<<0].forEach(kn);++xe<o-1;){for(_e=-1,Le=Rt[xe*e+e]>=ie,Ae=Rt[xe*e]>=ie,At[Le<<1|Ae<<2].forEach(kn);++_e<e-1;)pe=Le,Le=Rt[xe*e+e+_e+1]>=ie,Re=Ae,Ae=Rt[xe*e+_e+1]>=ie,At[pe|Le<<1|Ae<<2|Re<<3].forEach(kn);At[Le|Ae<<3].forEach(kn)}for(_e=-1,Ae=Rt[xe*e]>=ie,At[Ae<<2].forEach(kn);++_e<e-1;)Re=Ae,Ae=Rt[xe*e+_e+1]>=ie,At[Ae<<2|Re<<3].forEach(kn);function kn(Wn){var un,jn,Ie=[Wn[0][0]+_e,Wn[0][1]+xe],qe=[Wn[1][0]+_e,Wn[1][1]+xe],Tn=nt(Ie),wn=nt(qe);(un=bn[Tn])?(jn=en[wn])?(delete bn[un.end],delete en[jn.start],un===jn?(un.ring.push(qe),le(un.ring)):en[un.start]=bn[jn.end]={start:un.start,end:jn.end,ring:un.ring.concat(jn.ring)}):(delete bn[un.end],un.ring.push(qe),bn[un.end=wn]=un):(un=en[wn])?(jn=bn[Tn])?(delete en[un.start],delete bn[jn.end],un===jn?(un.ring.push(qe),le(un.ring)):en[jn.start]=bn[un.end]={start:jn.start,end:un.end,ring:jn.ring.concat(un.ring)}):(delete en[un.start],un.ring.unshift(Ie),en[un.start=Tn]=un):en[Tn]=bn[wn]={start:Tn,end:wn,ring:[Ie,qe]}}At[Ae<<3].forEach(kn)}(ft,Et,function(Rt){T(Rt,ft,Et),function(ie){for(var le=0,_e=ie.length,xe=ie[_e-1][1]*ie[0][0]-ie[_e-1][0]*ie[0][1];++le<_e;)xe+=ie[le-1][1]*ie[le][0]-ie[le-1][0]*ie[le][1];return xe}(Rt)>0?Dt.push([Rt]):Zt.push(Rt)}),Zt.forEach(function(Rt){for(var ie,le=0,_e=Dt.length;le<_e;++le)if($h((ie=Dt[le])[0],Rt)!==-1)return void ie.push(Rt)}),{type:"MultiPolygon",value:Et,coordinates:Dt}}function nt(ft){return 2*ft[0]+ft[1]*(e+1)*4}function tt(ft,Et,Dt){ft.forEach(function(Zt){var Rt,ie=Zt[0],le=Zt[1],_e=0|ie,xe=0|le,pe=Et[xe*e+_e];ie>0&&ie<e&&_e===ie&&(Rt=Et[xe*e+_e-1],Zt[0]=ie+(Dt-Rt)/(pe-Rt)-.5),le>0&&le<o&&xe===le&&(Rt=Et[(xe-1)*e+_e],Zt[1]=le+(Dt-Rt)/(pe-Rt)-.5)})}return N.contour=z,N.size=function(ft){if(!arguments.length)return[e,o];var Et=Math.ceil(ft[0]),Dt=Math.ceil(ft[1]);if(!(Et>0&&Dt>0))throw new Error("invalid size");return e=Et,o=Dt,N},N.thresholds=function(ft){return arguments.length?(x=typeof ft=="function"?ft:Array.isArray(ft)?Qc(_f.call(ft)):Qc(ft),N):x},N.smooth=function(ft){return arguments.length?(T=ft?tt:H,N):T===tt},N}function bt(e,o,x){for(var T=e.width,N=e.height,z=1+(x<<1),nt=0;nt<N;++nt)for(var tt=0,ft=0;tt<T+x;++tt)tt<T&&(ft+=e.data[tt+nt*T]),tt>=x&&(tt>=z&&(ft-=e.data[tt-z+nt*T]),o.data[tt-x+nt*T]=ft/Math.min(tt+1,T-1+z-tt,z))}function Q(e,o,x){for(var T=e.width,N=e.height,z=1+(x<<1),nt=0;nt<T;++nt)for(var tt=0,ft=0;tt<N+x;++tt)tt<N&&(ft+=e.data[nt+tt*T]),tt>=x&&(tt>=z&&(ft-=e.data[nt+(tt-z)*T]),o.data[nt+(tt-x)*T]=ft/Math.min(tt+1,N-1+z-tt,z))}function ot(e){return e[0]}function r(e){return e[1]}function b(){return 1}function Z(){var e=ot,o=r,x=b,T=960,N=500,z=20,nt=2,tt=3*z,ft=T+2*tt>>nt,Et=N+2*tt>>nt,Dt=Qc(20);function Zt(pe){var Le=new Float32Array(ft*Et),Ae=new Float32Array(ft*Et);pe.forEach(function(bn,kn,Wn){var un=+e(bn,kn,Wn)+tt>>nt,jn=+o(bn,kn,Wn)+tt>>nt,Ie=+x(bn,kn,Wn);un>=0&&un<ft&&jn>=0&&jn<Et&&(Le[un+jn*ft]+=Ie)}),bt({width:ft,height:Et,data:Le},{width:ft,height:Et,data:Ae},z>>nt),Q({width:ft,height:Et,data:Ae},{width:ft,height:Et,data:Le},z>>nt),bt({width:ft,height:Et,data:Le},{width:ft,height:Et,data:Ae},z>>nt),Q({width:ft,height:Et,data:Ae},{width:ft,height:Et,data:Le},z>>nt),bt({width:ft,height:Et,data:Le},{width:ft,height:Et,data:Ae},z>>nt),Q({width:ft,height:Et,data:Ae},{width:ft,height:Et,data:Le},z>>nt);var Re=Dt(Le);if(!Array.isArray(Re)){var en=at(Le);Re=lt(0,en,Re),(Re=V(0,Math.floor(en/Re)*Re,Re)).shift()}return q().thresholds(Re).size([ft,Et])(Le).map(Rt)}function Rt(pe){return pe.value*=Math.pow(2,-2*nt),pe.coordinates.forEach(ie),pe}function ie(pe){pe.forEach(le)}function le(pe){pe.forEach(_e)}function _e(pe){pe[0]=pe[0]*Math.pow(2,nt)-tt,pe[1]=pe[1]*Math.pow(2,nt)-tt}function xe(){return ft=T+2*(tt=3*z)>>nt,Et=N+2*tt>>nt,Zt}return Zt.x=function(pe){return arguments.length?(e=typeof pe=="function"?pe:Qc(+pe),Zt):e},Zt.y=function(pe){return arguments.length?(o=typeof pe=="function"?pe:Qc(+pe),Zt):o},Zt.weight=function(pe){return arguments.length?(x=typeof pe=="function"?pe:Qc(+pe),Zt):x},Zt.size=function(pe){if(!arguments.length)return[T,N];var Le=Math.ceil(pe[0]),Ae=Math.ceil(pe[1]);if(!(Le>=0||Le>=0))throw new Error("invalid size");return T=Le,N=Ae,xe()},Zt.cellSize=function(pe){if(!arguments.length)return 1<<nt;if(!((pe=+pe)>=1))throw new Error("invalid cell size");return nt=Math.floor(Math.log(pe)/Math.LN2),xe()},Zt.thresholds=function(pe){return arguments.length?(Dt=typeof pe=="function"?pe:Array.isArray(pe)?Qc(_f.call(pe)):Qc(pe),Zt):Dt},Zt.bandwidth=function(pe){if(!arguments.length)return Math.sqrt(z*(z+1));if(!((pe=+pe)>=0))throw new Error("invalid bandwidth");return z=Math.round((Math.sqrt(4*pe*pe+1)-1)/2),xe()},Zt}function dt(e){return function(){return e}}function wt(e,o,x,T,N,z,nt,tt,ft,Et){this.target=e,this.type=o,this.subject=x,this.identifier=T,this.active=N,this.x=z,this.y=nt,this.dx=tt,this.dy=ft,this._=Et}function te(){return!sr.ctrlKey&&!sr.button}function Ce(){return this.parentNode}function Ke(e){return e==null?{x:sr.x,y:sr.y}:e}function Ln(){return navigator.maxTouchPoints||"ontouchstart"in this}function Qn(){var e,o,x,T,N=te,z=Ce,nt=Ke,tt=Ln,ft={},Et=Ue("start","drag","end"),Dt=0,Zt=0;function Rt(Re){Re.on("mousedown.drag",ie).filter(tt).on("touchstart.drag",xe).on("touchmove.drag",pe).on("touchend.drag touchcancel.drag",Le).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function ie(){if(!T&&N.apply(this,arguments)){var Re=Ae("mouse",z.apply(this,arguments),wc,this,arguments);Re&&(ao(sr.view).on("mousemove.drag",le,!0).on("mouseup.drag",_e,!0),ds(sr.view),_a(),x=!1,e=sr.clientX,o=sr.clientY,Re("start"))}}function le(){if(Na(),!x){var Re=sr.clientX-e,en=sr.clientY-o;x=Re*Re+en*en>Zt}ft.mouse("drag")}function _e(){ao(sr.view).on("mousemove.drag mouseup.drag",null),ra(sr.view,x),Na(),ft.mouse("end")}function xe(){if(N.apply(this,arguments)){var Re,en,bn=sr.changedTouches,kn=z.apply(this,arguments),Wn=bn.length;for(Re=0;Re<Wn;++Re)(en=Ae(bn[Re].identifier,kn,$s,this,arguments))&&(_a(),en("start"))}}function pe(){var Re,en,bn=sr.changedTouches,kn=bn.length;for(Re=0;Re<kn;++Re)(en=ft[bn[Re].identifier])&&(Na(),en("drag"))}function Le(){var Re,en,bn=sr.changedTouches,kn=bn.length;for(T&&clearTimeout(T),T=setTimeout(function(){T=null},500),Re=0;Re<kn;++Re)(en=ft[bn[Re].identifier])&&(_a(),en("end"))}function Ae(Re,en,bn,kn,Wn){var un,jn,Ie,qe=bn(en,Re),Tn=Et.copy();if(Cr(new wt(Rt,"beforestart",un,Re,Dt,qe[0],qe[1],0,0,Tn),function(){return(sr.subject=un=nt.apply(kn,Wn))!=null&&(jn=un.x-qe[0]||0,Ie=un.y-qe[1]||0,!0)}))return function wn(An){var pr,Er=qe;switch(An){case"start":ft[Re]=wn,pr=Dt++;break;case"end":delete ft[Re],--Dt;case"drag":qe=bn(en,Re),pr=Dt}Cr(new wt(Rt,An,un,Re,pr,qe[0]+jn,qe[1]+Ie,qe[0]-Er[0],qe[1]-Er[1],Tn),Tn.apply,Tn,[An,kn,Wn])}}return Rt.filter=function(Re){return arguments.length?(N=typeof Re=="function"?Re:dt(!!Re),Rt):N},Rt.container=function(Re){return arguments.length?(z=typeof Re=="function"?Re:dt(Re),Rt):z},Rt.subject=function(Re){return arguments.length?(nt=typeof Re=="function"?Re:dt(Re),Rt):nt},Rt.touchable=function(Re){return arguments.length?(tt=typeof Re=="function"?Re:dt(!!Re),Rt):tt},Rt.on=function(){var Re=Et.on.apply(Et,arguments);return Re===Et?Rt:Re},Rt.clickDistance=function(Re){return arguments.length?(Zt=(Re=+Re)*Re,Rt):Math.sqrt(Zt)},Rt}wt.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var ur={},fr={};function Mr(e){return new Function("d","return {"+e.map(function(o,x){return JSON.stringify(o)+": d["+x+'] || ""'}).join(",")+"}")}function Ur(e){var o=Object.create(null),x=[];return e.forEach(function(T){for(var N in T)N in o||x.push(o[N]=N)}),x}function zr(e,o){var x=e+"",T=x.length;return T<o?new Array(o-T+1).join(0)+x:x}function Si(e){var o=new RegExp('["'+e+`
\r]`),x=e.charCodeAt(0);function T(tt,ft){var Et,Dt=[],Zt=tt.length,Rt=0,ie=0,le=Zt<=0,_e=!1;function xe(){if(le)return fr;if(_e)return _e=!1,ur;var Le,Ae,Re=Rt;if(tt.charCodeAt(Re)===34){for(;Rt++<Zt&&tt.charCodeAt(Rt)!==34||tt.charCodeAt(++Rt)===34;);return(Le=Rt)>=Zt?le=!0:(Ae=tt.charCodeAt(Rt++))===10?_e=!0:Ae===13&&(_e=!0,tt.charCodeAt(Rt)===10&&++Rt),tt.slice(Re+1,Le-1).replace(/""/g,'"')}for(;Rt<Zt;){if((Ae=tt.charCodeAt(Le=Rt++))===10)_e=!0;else if(Ae===13)_e=!0,tt.charCodeAt(Rt)===10&&++Rt;else if(Ae!==x)continue;return tt.slice(Re,Le)}return le=!0,tt.slice(Re,Zt)}for(tt.charCodeAt(Zt-1)===10&&--Zt,tt.charCodeAt(Zt-1)===13&&--Zt;(Et=xe())!==fr;){for(var pe=[];Et!==ur&&Et!==fr;)pe.push(Et),Et=xe();ft&&(pe=ft(pe,ie++))==null||Dt.push(pe)}return Dt}function N(tt,ft){return tt.map(function(Et){return ft.map(function(Dt){return nt(Et[Dt])}).join(e)})}function z(tt){return tt.map(nt).join(e)}function nt(tt){return tt==null?"":tt instanceof Date?function(ft){var Et=ft.getUTCHours(),Dt=ft.getUTCMinutes(),Zt=ft.getUTCSeconds(),Rt=ft.getUTCMilliseconds();return isNaN(ft)?"Invalid Date":function(ie){return ie<0?"-"+zr(-ie,6):ie>9999?"+"+zr(ie,6):zr(ie,4)}(ft.getUTCFullYear())+"-"+zr(ft.getUTCMonth()+1,2)+"-"+zr(ft.getUTCDate(),2)+(Rt?"T"+zr(Et,2)+":"+zr(Dt,2)+":"+zr(Zt,2)+"."+zr(Rt,3)+"Z":Zt?"T"+zr(Et,2)+":"+zr(Dt,2)+":"+zr(Zt,2)+"Z":Dt||Et?"T"+zr(Et,2)+":"+zr(Dt,2)+"Z":"")}(tt):o.test(tt+="")?'"'+tt.replace(/"/g,'""')+'"':tt}return{parse:function(tt,ft){var Et,Dt,Zt=T(tt,function(Rt,ie){if(Et)return Et(Rt,ie-1);Dt=Rt,Et=ft?function(le,_e){var xe=Mr(le);return function(pe,Le){return _e(xe(pe),Le,le)}}(Rt,ft):Mr(Rt)});return Zt.columns=Dt||[],Zt},parseRows:T,format:function(tt,ft){return ft==null&&(ft=Ur(tt)),[ft.map(nt).join(e)].concat(N(tt,ft)).join(`
`)},formatBody:function(tt,ft){return ft==null&&(ft=Ur(tt)),N(tt,ft).join(`
`)},formatRows:function(tt){return tt.map(z).join(`
`)},formatRow:z,formatValue:nt}}var ho=Si(","),gi=ho.parse,Br=ho.parseRows,mi=ho.format,qo=ho.formatBody,vn=ho.formatRows,gn=ho.formatRow,Xe=ho.formatValue,hr=Si("	"),Gn=hr.parse,$r=hr.parseRows,Ai=hr.format,_o=hr.formatBody,So=hr.formatRows,Yo=hr.formatRow,xl=hr.formatValue;function Ta(e){for(var o in e){var x,T,N=e[o].trim();if(N)if(N==="true")N=!0;else if(N==="false")N=!1;else if(N==="NaN")N=NaN;else if(isNaN(x=+N)){if(!(T=N.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;wl&&T[4]&&!T[7]&&(N=N.replace(/-/g,"/").replace(/T/," ")),N=new Date(N)}else N=x;else N=null;e[o]=N}return e}var wl=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function Z0(e){return+e}function K0(e){return e*e}function Ac(e){return e*(2-e)}function uu(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}var J0=function e(o){function x(T){return Math.pow(T,o)}return o=+o,x.exponent=e,x}(3),Ly=function e(o){function x(T){return 1-Math.pow(1-T,o)}return o=+o,x.exponent=e,x}(3),qh=function e(o){function x(T){return((T*=2)<=1?Math.pow(T,o):2-Math.pow(2-T,o))/2}return o=+o,x.exponent=e,x}(3),Dl=Math.PI,Bp=Dl/2;function Ug(e){return+e==1?1:1-Math.cos(e*Bp)}function jp(e){return Math.sin(e*Bp)}function kf(e){return(1-Math.cos(Dl*e))/2}function Bs(e){return 1.0009775171065494*(Math.pow(2,-10*e)-.0009765625)}function Ip(e){return Bs(1-+e)}function gh(e){return 1-Bs(e)}function Q0(e){return((e*=2)<=1?Bs(1-e):2-Bs(e-1))/2}function Hg(e){return 1-Math.sqrt(1-e*e)}function $g(e){return Math.sqrt(1- --e*e)}function Fl(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var Iu=7.5625;function By(e){return 1-Cf(1-e)}function Cf(e){return(e=+e)<.36363636363636365?Iu*e*e:e<.7272727272727273?Iu*(e-=.5454545454545454)*e+.75:e<.9090909090909091?Iu*(e-=.8181818181818182)*e+.9375:Iu*(e-=.9545454545454546)*e+.984375}function mh(e){return((e*=2)<=1?1-Cf(1-e):Cf(e-1)+1)/2}var qg=1.70158,jy=function e(o){function x(T){return(T=+T)*T*(o*(T-1)+T)}return o=+o,x.overshoot=e,x}(qg),Iy=function e(o){function x(T){return--T*T*((T+1)*o+T)+1}return o=+o,x.overshoot=e,x}(qg),Oc=function e(o){function x(T){return((T*=2)<1?T*T*((o+1)*T-o):(T-=2)*T*((o+1)*T+o)+2)/2}return o=+o,x.overshoot=e,x}(qg),Aa=2*Math.PI,Yg=function e(o,x){var T=Math.asin(1/(o=Math.max(1,o)))*(x/=Aa);function N(z){return o*Bs(- --z)*Math.sin((T-z)/x)}return N.amplitude=function(z){return e(z,x*Aa)},N.period=function(z){return e(o,z)},N}(1,.3),Ny=function e(o,x){var T=Math.asin(1/(o=Math.max(1,o)))*(x/=Aa);function N(z){return 1-o*Bs(z=+z)*Math.sin((z+T)/x)}return N.amplitude=function(z){return e(z,x*Aa)},N.period=function(z){return e(o,z)},N}(1,.3),t1=function e(o,x){var T=Math.asin(1/(o=Math.max(1,o)))*(x/=Aa);function N(z){return((z=2*z-1)<0?o*Bs(-z)*Math.sin((T-z)/x):2-o*Bs(z)*Math.sin((T+z)/x))/2}return N.amplitude=function(z){return e(z,x*Aa)},N.period=function(z){return e(o,z)},N}(1,.3);function Sf(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.blob()}function Py(e,o){return fetch(e,o).then(Sf)}function Gs(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.arrayBuffer()}function Vg(e,o){return fetch(e,o).then(Gs)}function Ef(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function tl(e,o){return fetch(e,o).then(Ef)}function Md(e){return function(o,x,T){return arguments.length===2&&typeof x=="function"&&(T=x,x=void 0),tl(o,x).then(function(N){return e(N,T)})}}function Ry(e,o,x,T){arguments.length===3&&typeof x=="function"&&(T=x,x=void 0);var N=Si(e);return tl(o,x).then(function(z){return N.parse(z,T)})}var Wg=Md(gi),oc=Md(Gn);function Ld(e,o){return new Promise(function(x,T){var N=new Image;for(var z in o)N[z]=o[z];N.onerror=T,N.onload=function(){x(N)},N.src=e})}function Gg(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(e.status!==204&&e.status!==205)return e.json()}function Bd(e,o){return fetch(e,o).then(Gg)}function Yh(e){return function(o,x){return tl(o,x).then(function(T){return new DOMParser().parseFromString(T,e)})}}const Tf=Yh("application/xml");var Lb=Yh("text/html"),Dy=Yh("image/svg+xml");function yh(e,o){var x;function T(){var N,z,nt=x.length,tt=0,ft=0;for(N=0;N<nt;++N)tt+=(z=x[N]).x,ft+=z.y;for(tt=tt/nt-e,ft=ft/nt-o,N=0;N<nt;++N)(z=x[N]).x-=tt,z.y-=ft}return e==null&&(e=0),o==null&&(o=0),T.initialize=function(N){x=N},T.x=function(N){return arguments.length?(e=+N,T):e},T.y=function(N){return arguments.length?(o=+N,T):o},T}function pa(e){return function(){return e}}function Nu(){return 1e-6*(Math.random()-.5)}function Fy(e,o,x,T){if(isNaN(o)||isNaN(x))return e;var N,z,nt,tt,ft,Et,Dt,Zt,Rt,ie=e._root,le={data:T},_e=e._x0,xe=e._y0,pe=e._x1,Le=e._y1;if(!ie)return e._root=le,e;for(;ie.length;)if((Et=o>=(z=(_e+pe)/2))?_e=z:pe=z,(Dt=x>=(nt=(xe+Le)/2))?xe=nt:Le=nt,N=ie,!(ie=ie[Zt=Dt<<1|Et]))return N[Zt]=le,e;if(tt=+e._x.call(null,ie.data),ft=+e._y.call(null,ie.data),o===tt&&x===ft)return le.next=ie,N?N[Zt]=le:e._root=le,e;do N=N?N[Zt]=new Array(4):e._root=new Array(4),(Et=o>=(z=(_e+pe)/2))?_e=z:pe=z,(Dt=x>=(nt=(xe+Le)/2))?xe=nt:Le=nt;while((Zt=Dt<<1|Et)==(Rt=(ft>=nt)<<1|tt>=z));return N[Rt]=ie,N[Zt]=le,e}function Xs(e,o,x,T,N){this.node=e,this.x0=o,this.y0=x,this.x1=T,this.y1=N}function Mc(e){return e[0]}function e1(e){return e[1]}function Af(e,o,x){var T=new Xg(o==null?Mc:o,x==null?e1:x,NaN,NaN,NaN,NaN);return e==null?T:T.addAll(e)}function Xg(e,o,x,T,N,z){this._x=e,this._y=o,this._x0=x,this._y0=T,this._x1=N,this._y1=z,this._root=void 0}function Vh(e){for(var o={data:e.data},x=o;e=e.next;)x=x.next={data:e.data};return o}var Lc=Af.prototype=Xg.prototype;function Bb(e){return e.x+e.vx}function vh(e){return e.y+e.vy}function Np(e){var o,x,T=1,N=1;function z(){for(var ft,Et,Dt,Zt,Rt,ie,le,_e=o.length,xe=0;xe<N;++xe)for(Et=Af(o,Bb,vh).visitAfter(nt),ft=0;ft<_e;++ft)Dt=o[ft],ie=x[Dt.index],le=ie*ie,Zt=Dt.x+Dt.vx,Rt=Dt.y+Dt.vy,Et.visit(pe);function pe(Le,Ae,Re,en,bn){var kn=Le.data,Wn=Le.r,un=ie+Wn;if(!kn)return Ae>Zt+un||en<Zt-un||Re>Rt+un||bn<Rt-un;if(kn.index>Dt.index){var jn=Zt-kn.x-kn.vx,Ie=Rt-kn.y-kn.vy,qe=jn*jn+Ie*Ie;qe<un*un&&(jn===0&&(qe+=(jn=Nu())*jn),Ie===0&&(qe+=(Ie=Nu())*Ie),qe=(un-(qe=Math.sqrt(qe)))/qe*T,Dt.vx+=(jn*=qe)*(un=(Wn*=Wn)/(le+Wn)),Dt.vy+=(Ie*=qe)*un,kn.vx-=jn*(un=1-un),kn.vy-=Ie*un)}}}function nt(ft){if(ft.data)return ft.r=x[ft.data.index];for(var Et=ft.r=0;Et<4;++Et)ft[Et]&&ft[Et].r>ft.r&&(ft.r=ft[Et].r)}function tt(){if(o){var ft,Et,Dt=o.length;for(x=new Array(Dt),ft=0;ft<Dt;++ft)Et=o[ft],x[Et.index]=+e(Et,ft,o)}}return typeof e!="function"&&(e=pa(e==null?1:+e)),z.initialize=function(ft){o=ft,tt()},z.iterations=function(ft){return arguments.length?(N=+ft,z):N},z.strength=function(ft){return arguments.length?(T=+ft,z):T},z.radius=function(ft){return arguments.length?(e=typeof ft=="function"?ft:pa(+ft),tt(),z):e},z}function Of(e){return e.index}function Mf(e,o){var x=e.get(o);if(!x)throw new Error("missing: "+o);return x}function n1(e){var o,x,T,N,z,nt=Of,tt=function(le){return 1/Math.min(N[le.source.index],N[le.target.index])},ft=pa(30),Et=1;function Dt(le){for(var _e=0,xe=e.length;_e<Et;++_e)for(var pe,Le,Ae,Re,en,bn,kn,Wn=0;Wn<xe;++Wn)Le=(pe=e[Wn]).source,Re=(Ae=pe.target).x+Ae.vx-Le.x-Le.vx||Nu(),en=Ae.y+Ae.vy-Le.y-Le.vy||Nu(),Re*=bn=((bn=Math.sqrt(Re*Re+en*en))-x[Wn])/bn*le*o[Wn],en*=bn,Ae.vx-=Re*(kn=z[Wn]),Ae.vy-=en*kn,Le.vx+=Re*(kn=1-kn),Le.vy+=en*kn}function Zt(){if(T){var le,_e,xe=T.length,pe=e.length,Le=fa(T,nt);for(le=0,N=new Array(xe);le<pe;++le)(_e=e[le]).index=le,typeof _e.source!="object"&&(_e.source=Mf(Le,_e.source)),typeof _e.target!="object"&&(_e.target=Mf(Le,_e.target)),N[_e.source.index]=(N[_e.source.index]||0)+1,N[_e.target.index]=(N[_e.target.index]||0)+1;for(le=0,z=new Array(pe);le<pe;++le)_e=e[le],z[le]=N[_e.source.index]/(N[_e.source.index]+N[_e.target.index]);o=new Array(pe),Rt(),x=new Array(pe),ie()}}function Rt(){if(T)for(var le=0,_e=e.length;le<_e;++le)o[le]=+tt(e[le],le,e)}function ie(){if(T)for(var le=0,_e=e.length;le<_e;++le)x[le]=+ft(e[le],le,e)}return e==null&&(e=[]),Dt.initialize=function(le){T=le,Zt()},Dt.links=function(le){return arguments.length?(e=le,Zt(),Dt):e},Dt.id=function(le){return arguments.length?(nt=le,Dt):nt},Dt.iterations=function(le){return arguments.length?(Et=+le,Dt):Et},Dt.strength=function(le){return arguments.length?(tt=typeof le=="function"?le:pa(+le),Rt(),Dt):tt},Dt.distance=function(le){return arguments.length?(ft=typeof le=="function"?le:pa(+le),ie(),Dt):ft},Dt}function Lf(e){return e.x}function oi(e){return e.y}Lc.copy=function(){var e,o,x=new Xg(this._x,this._y,this._x0,this._y0,this._x1,this._y1),T=this._root;if(!T)return x;if(!T.length)return x._root=Vh(T),x;for(e=[{source:T,target:x._root=new Array(4)}];T=e.pop();)for(var N=0;N<4;++N)(o=T.source[N])&&(o.length?e.push({source:o,target:T.target[N]=new Array(4)}):T.target[N]=Vh(o));return x},Lc.add=function(e){var o=+this._x.call(null,e),x=+this._y.call(null,e);return Fy(this.cover(o,x),o,x,e)},Lc.addAll=function(e){var o,x,T,N,z=e.length,nt=new Array(z),tt=new Array(z),ft=1/0,Et=1/0,Dt=-1/0,Zt=-1/0;for(x=0;x<z;++x)isNaN(T=+this._x.call(null,o=e[x]))||isNaN(N=+this._y.call(null,o))||(nt[x]=T,tt[x]=N,T<ft&&(ft=T),T>Dt&&(Dt=T),N<Et&&(Et=N),N>Zt&&(Zt=N));if(ft>Dt||Et>Zt)return this;for(this.cover(ft,Et).cover(Dt,Zt),x=0;x<z;++x)Fy(this,nt[x],tt[x],e[x]);return this},Lc.cover=function(e,o){if(isNaN(e=+e)||isNaN(o=+o))return this;var x=this._x0,T=this._y0,N=this._x1,z=this._y1;if(isNaN(x))N=(x=Math.floor(e))+1,z=(T=Math.floor(o))+1;else{for(var nt,tt,ft=N-x,Et=this._root;x>e||e>=N||T>o||o>=z;)switch(tt=(o<T)<<1|e<x,(nt=new Array(4))[tt]=Et,Et=nt,ft*=2,tt){case 0:N=x+ft,z=T+ft;break;case 1:x=N-ft,z=T+ft;break;case 2:N=x+ft,T=z-ft;break;case 3:x=N-ft,T=z-ft}this._root&&this._root.length&&(this._root=Et)}return this._x0=x,this._y0=T,this._x1=N,this._y1=z,this},Lc.data=function(){var e=[];return this.visit(function(o){if(!o.length)do e.push(o.data);while(o=o.next)}),e},Lc.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Lc.find=function(e,o,x){var T,N,z,nt,tt,ft,Et,Dt=this._x0,Zt=this._y0,Rt=this._x1,ie=this._y1,le=[],_e=this._root;for(_e&&le.push(new Xs(_e,Dt,Zt,Rt,ie)),x==null?x=1/0:(Dt=e-x,Zt=o-x,Rt=e+x,ie=o+x,x*=x);ft=le.pop();)if(!(!(_e=ft.node)||(N=ft.x0)>Rt||(z=ft.y0)>ie||(nt=ft.x1)<Dt||(tt=ft.y1)<Zt))if(_e.length){var xe=(N+nt)/2,pe=(z+tt)/2;le.push(new Xs(_e[3],xe,pe,nt,tt),new Xs(_e[2],N,pe,xe,tt),new Xs(_e[1],xe,z,nt,pe),new Xs(_e[0],N,z,xe,pe)),(Et=(o>=pe)<<1|e>=xe)&&(ft=le[le.length-1],le[le.length-1]=le[le.length-1-Et],le[le.length-1-Et]=ft)}else{var Le=e-+this._x.call(null,_e.data),Ae=o-+this._y.call(null,_e.data),Re=Le*Le+Ae*Ae;if(Re<x){var en=Math.sqrt(x=Re);Dt=e-en,Zt=o-en,Rt=e+en,ie=o+en,T=_e.data}}return T},Lc.remove=function(e){if(isNaN(z=+this._x.call(null,e))||isNaN(nt=+this._y.call(null,e)))return this;var o,x,T,N,z,nt,tt,ft,Et,Dt,Zt,Rt,ie=this._root,le=this._x0,_e=this._y0,xe=this._x1,pe=this._y1;if(!ie)return this;if(ie.length)for(;;){if((Et=z>=(tt=(le+xe)/2))?le=tt:xe=tt,(Dt=nt>=(ft=(_e+pe)/2))?_e=ft:pe=ft,o=ie,!(ie=ie[Zt=Dt<<1|Et]))return this;if(!ie.length)break;(o[Zt+1&3]||o[Zt+2&3]||o[Zt+3&3])&&(x=o,Rt=Zt)}for(;ie.data!==e;)if(T=ie,!(ie=ie.next))return this;return(N=ie.next)&&delete ie.next,T?(N?T.next=N:delete T.next,this):o?(N?o[Zt]=N:delete o[Zt],(ie=o[0]||o[1]||o[2]||o[3])&&ie===(o[3]||o[2]||o[1]||o[0])&&!ie.length&&(x?x[Rt]=ie:this._root=ie),this):(this._root=N,this)},Lc.removeAll=function(e){for(var o=0,x=e.length;o<x;++o)this.remove(e[o]);return this},Lc.root=function(){return this._root},Lc.size=function(){var e=0;return this.visit(function(o){if(!o.length)do++e;while(o=o.next)}),e},Lc.visit=function(e){var o,x,T,N,z,nt,tt=[],ft=this._root;for(ft&&tt.push(new Xs(ft,this._x0,this._y0,this._x1,this._y1));o=tt.pop();)if(!e(ft=o.node,T=o.x0,N=o.y0,z=o.x1,nt=o.y1)&&ft.length){var Et=(T+z)/2,Dt=(N+nt)/2;(x=ft[3])&&tt.push(new Xs(x,Et,Dt,z,nt)),(x=ft[2])&&tt.push(new Xs(x,T,Dt,Et,nt)),(x=ft[1])&&tt.push(new Xs(x,Et,N,z,Dt)),(x=ft[0])&&tt.push(new Xs(x,T,N,Et,Dt))}return this},Lc.visitAfter=function(e){var o,x=[],T=[];for(this._root&&x.push(new Xs(this._root,this._x0,this._y0,this._x1,this._y1));o=x.pop();){var N=o.node;if(N.length){var z,nt=o.x0,tt=o.y0,ft=o.x1,Et=o.y1,Dt=(nt+ft)/2,Zt=(tt+Et)/2;(z=N[0])&&x.push(new Xs(z,nt,tt,Dt,Zt)),(z=N[1])&&x.push(new Xs(z,Dt,tt,ft,Zt)),(z=N[2])&&x.push(new Xs(z,nt,Zt,Dt,Et)),(z=N[3])&&x.push(new Xs(z,Dt,Zt,ft,Et))}T.push(o)}for(;o=T.pop();)e(o.node,o.x0,o.y0,o.x1,o.y1);return this},Lc.x=function(e){return arguments.length?(this._x=e,this):this._x},Lc.y=function(e){return arguments.length?(this._y=e,this):this._y};var r1=Math.PI*(3-Math.sqrt(5));function Zg(e){var o,x=1,T=.001,N=1-Math.pow(T,1/300),z=0,nt=.6,tt=fa(),ft=Nn(Dt),Et=Ue("tick","end");function Dt(){Zt(),Et.call("tick",o),x<T&&(ft.stop(),Et.call("end",o))}function Zt(le){var _e,xe,pe=e.length;le===void 0&&(le=1);for(var Le=0;Le<le;++Le)for(x+=(z-x)*N,tt.each(function(Ae){Ae(x)}),_e=0;_e<pe;++_e)(xe=e[_e]).fx==null?xe.x+=xe.vx*=nt:(xe.x=xe.fx,xe.vx=0),xe.fy==null?xe.y+=xe.vy*=nt:(xe.y=xe.fy,xe.vy=0);return o}function Rt(){for(var le,_e=0,xe=e.length;_e<xe;++_e){if((le=e[_e]).index=_e,le.fx!=null&&(le.x=le.fx),le.fy!=null&&(le.y=le.fy),isNaN(le.x)||isNaN(le.y)){var pe=10*Math.sqrt(_e),Le=_e*r1;le.x=pe*Math.cos(Le),le.y=pe*Math.sin(Le)}(isNaN(le.vx)||isNaN(le.vy))&&(le.vx=le.vy=0)}}function ie(le){return le.initialize&&le.initialize(e),le}return e==null&&(e=[]),Rt(),o={tick:Zt,restart:function(){return ft.restart(Dt),o},stop:function(){return ft.stop(),o},nodes:function(le){return arguments.length?(e=le,Rt(),tt.each(ie),o):e},alpha:function(le){return arguments.length?(x=+le,o):x},alphaMin:function(le){return arguments.length?(T=+le,o):T},alphaDecay:function(le){return arguments.length?(N=+le,o):+N},alphaTarget:function(le){return arguments.length?(z=+le,o):z},velocityDecay:function(le){return arguments.length?(nt=1-le,o):1-nt},force:function(le,_e){return arguments.length>1?(_e==null?tt.remove(le):tt.set(le,ie(_e)),o):tt.get(le)},find:function(le,_e,xe){var pe,Le,Ae,Re,en,bn=0,kn=e.length;for(xe==null?xe=1/0:xe*=xe,bn=0;bn<kn;++bn)(Ae=(pe=le-(Re=e[bn]).x)*pe+(Le=_e-Re.y)*Le)<xe&&(en=Re,xe=Ae);return en},on:function(le,_e){return arguments.length>1?(Et.on(le,_e),o):Et.on(le)}}}function Wh(){var e,o,x,T,N=pa(-30),z=1,nt=1/0,tt=.81;function ft(Rt){var ie,le=e.length,_e=Af(e,Lf,oi).visitAfter(Dt);for(x=Rt,ie=0;ie<le;++ie)o=e[ie],_e.visit(Zt)}function Et(){if(e){var Rt,ie,le=e.length;for(T=new Array(le),Rt=0;Rt<le;++Rt)ie=e[Rt],T[ie.index]=+N(ie,Rt,e)}}function Dt(Rt){var ie,le,_e,xe,pe,Le=0,Ae=0;if(Rt.length){for(_e=xe=pe=0;pe<4;++pe)(ie=Rt[pe])&&(le=Math.abs(ie.value))&&(Le+=ie.value,Ae+=le,_e+=le*ie.x,xe+=le*ie.y);Rt.x=_e/Ae,Rt.y=xe/Ae}else{(ie=Rt).x=ie.data.x,ie.y=ie.data.y;do Le+=T[ie.data.index];while(ie=ie.next)}Rt.value=Le}function Zt(Rt,ie,le,_e){if(!Rt.value)return!0;var xe=Rt.x-o.x,pe=Rt.y-o.y,Le=_e-ie,Ae=xe*xe+pe*pe;if(Le*Le/tt<Ae)return Ae<nt&&(xe===0&&(Ae+=(xe=Nu())*xe),pe===0&&(Ae+=(pe=Nu())*pe),Ae<z&&(Ae=Math.sqrt(z*Ae)),o.vx+=xe*Rt.value*x/Ae,o.vy+=pe*Rt.value*x/Ae),!0;if(!(Rt.length||Ae>=nt)){(Rt.data!==o||Rt.next)&&(xe===0&&(Ae+=(xe=Nu())*xe),pe===0&&(Ae+=(pe=Nu())*pe),Ae<z&&(Ae=Math.sqrt(z*Ae)));do Rt.data!==o&&(Le=T[Rt.data.index]*x/Ae,o.vx+=xe*Le,o.vy+=pe*Le);while(Rt=Rt.next)}}return ft.initialize=function(Rt){e=Rt,Et()},ft.strength=function(Rt){return arguments.length?(N=typeof Rt=="function"?Rt:pa(+Rt),Et(),ft):N},ft.distanceMin=function(Rt){return arguments.length?(z=Rt*Rt,ft):Math.sqrt(z)},ft.distanceMax=function(Rt){return arguments.length?(nt=Rt*Rt,ft):Math.sqrt(nt)},ft.theta=function(Rt){return arguments.length?(tt=Rt*Rt,ft):Math.sqrt(tt)},ft}function Kg(e,o,x){var T,N,z,nt=pa(.1);function tt(Et){for(var Dt=0,Zt=T.length;Dt<Zt;++Dt){var Rt=T[Dt],ie=Rt.x-o||1e-6,le=Rt.y-x||1e-6,_e=Math.sqrt(ie*ie+le*le),xe=(z[Dt]-_e)*N[Dt]*Et/_e;Rt.vx+=ie*xe,Rt.vy+=le*xe}}function ft(){if(T){var Et,Dt=T.length;for(N=new Array(Dt),z=new Array(Dt),Et=0;Et<Dt;++Et)z[Et]=+e(T[Et],Et,T),N[Et]=isNaN(z[Et])?0:+nt(T[Et],Et,T)}}return typeof e!="function"&&(e=pa(+e)),o==null&&(o=0),x==null&&(x=0),tt.initialize=function(Et){T=Et,ft()},tt.strength=function(Et){return arguments.length?(nt=typeof Et=="function"?Et:pa(+Et),ft(),tt):nt},tt.radius=function(Et){return arguments.length?(e=typeof Et=="function"?Et:pa(+Et),ft(),tt):e},tt.x=function(Et){return arguments.length?(o=+Et,tt):o},tt.y=function(Et){return arguments.length?(x=+Et,tt):x},tt}function i1(e){var o,x,T,N=pa(.1);function z(tt){for(var ft,Et=0,Dt=o.length;Et<Dt;++Et)(ft=o[Et]).vx+=(T[Et]-ft.x)*x[Et]*tt}function nt(){if(o){var tt,ft=o.length;for(x=new Array(ft),T=new Array(ft),tt=0;tt<ft;++tt)x[tt]=isNaN(T[tt]=+e(o[tt],tt,o))?0:+N(o[tt],tt,o)}}return typeof e!="function"&&(e=pa(e==null?0:+e)),z.initialize=function(tt){o=tt,nt()},z.strength=function(tt){return arguments.length?(N=typeof tt=="function"?tt:pa(+tt),nt(),z):N},z.x=function(tt){return arguments.length?(e=typeof tt=="function"?tt:pa(+tt),nt(),z):e},z}function Jg(e){var o,x,T,N=pa(.1);function z(tt){for(var ft,Et=0,Dt=o.length;Et<Dt;++Et)(ft=o[Et]).vy+=(T[Et]-ft.y)*x[Et]*tt}function nt(){if(o){var tt,ft=o.length;for(x=new Array(ft),T=new Array(ft),tt=0;tt<ft;++tt)x[tt]=isNaN(T[tt]=+e(o[tt],tt,o))?0:+N(o[tt],tt,o)}}return typeof e!="function"&&(e=pa(e==null?0:+e)),z.initialize=function(tt){o=tt,nt()},z.strength=function(tt){return arguments.length?(N=typeof tt=="function"?tt:pa(+tt),nt(),z):N},z.y=function(tt){return arguments.length?(e=typeof tt=="function"?tt:pa(+tt),nt(),z):e},z}function bo(e,o){if((x=(e=o?e.toExponential(o-1):e.toExponential()).indexOf("e"))<0)return null;var x,T=e.slice(0,x);return[T.length>1?T[0]+T.slice(2):T,+e.slice(x+1)]}function bh(e){return(e=bo(Math.abs(e)))?e[1]:NaN}var Gh,Qg=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Pp(e){if(!(o=Qg.exec(e)))throw new Error("invalid format: "+e);var o;return new Rp({fill:o[1],align:o[2],sign:o[3],symbol:o[4],zero:o[5],width:o[6],comma:o[7],precision:o[8]&&o[8].slice(1),trim:o[9],type:o[10]})}function Rp(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}function zy(e,o){var x=bo(e,o);if(!x)return e+"";var T=x[0],N=x[1];return N<0?"0."+new Array(-N).join("0")+T:T.length>N+1?T.slice(0,N+1)+"."+T.slice(N+1):T+new Array(N-T.length+2).join("0")}Pp.prototype=Rp.prototype,Rp.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,0|this.width))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Uy={"%":function(e,o){return(100*e).toFixed(o)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,o){return e.toExponential(o)},f:function(e,o){return e.toFixed(o)},g:function(e,o){return e.toPrecision(o)},o:function(e){return Math.round(e).toString(8)},p:function(e,o){return zy(100*e,o)},r:zy,s:function(e,o){var x=bo(e,o);if(!x)return e+"";var T=x[0],N=x[1],z=N-(Gh=3*Math.max(-8,Math.min(8,Math.floor(N/3))))+1,nt=T.length;return z===nt?T:z>nt?T+new Array(z-nt+1).join("0"):z>0?T.slice(0,z)+"."+T.slice(z):"0."+new Array(1-z).join("0")+bo(e,Math.max(0,o+z-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function Hy(e){return e}var zl,ga,Bf,$y=Array.prototype.map,o1=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function qy(e){var o,x,T=e.grouping===void 0||e.thousands===void 0?Hy:(o=$y.call(e.grouping,Number),x=e.thousands+"",function(Rt,ie){for(var le=Rt.length,_e=[],xe=0,pe=o[0],Le=0;le>0&&pe>0&&(Le+pe+1>ie&&(pe=Math.max(1,ie-Le)),_e.push(Rt.substring(le-=pe,le+pe)),!((Le+=pe+1)>ie));)pe=o[xe=(xe+1)%o.length];return _e.reverse().join(x)}),N=e.currency===void 0?"":e.currency[0]+"",z=e.currency===void 0?"":e.currency[1]+"",nt=e.decimal===void 0?".":e.decimal+"",tt=e.numerals===void 0?Hy:function(Rt){return function(ie){return ie.replace(/[0-9]/g,function(le){return Rt[+le]})}}($y.call(e.numerals,String)),ft=e.percent===void 0?"%":e.percent+"",Et=e.minus===void 0?"-":e.minus+"",Dt=e.nan===void 0?"NaN":e.nan+"";function Zt(Rt){var ie=(Rt=Pp(Rt)).fill,le=Rt.align,_e=Rt.sign,xe=Rt.symbol,pe=Rt.zero,Le=Rt.width,Ae=Rt.comma,Re=Rt.precision,en=Rt.trim,bn=Rt.type;bn==="n"?(Ae=!0,bn="g"):Uy[bn]||(Re===void 0&&(Re=12),en=!0,bn="g"),(pe||ie==="0"&&le==="=")&&(pe=!0,ie="0",le="=");var kn=xe==="$"?N:xe==="#"&&/[boxX]/.test(bn)?"0"+bn.toLowerCase():"",Wn=xe==="$"?z:/[%p]/.test(bn)?ft:"",un=Uy[bn],jn=/[defgprs%]/.test(bn);function Ie(qe){var Tn,wn,An,pr=kn,Er=Wn;if(bn==="c")Er=un(qe)+Er,qe="";else{var Qr=(qe=+qe)<0||1/qe<0;if(qe=isNaN(qe)?Dt:un(Math.abs(qe),Re),en&&(qe=function(Dr){t:for(var po,pi=Dr.length,hi=1,co=-1;hi<pi;++hi)switch(Dr[hi]){case".":co=po=hi;break;case"0":co===0&&(co=hi),po=hi;break;default:if(!+Dr[hi])break t;co>0&&(co=0)}return co>0?Dr.slice(0,co)+Dr.slice(po+1):Dr}(qe)),Qr&&+qe==0&&_e!=="+"&&(Qr=!1),pr=(Qr?_e==="("?_e:Et:_e==="-"||_e==="("?"":_e)+pr,Er=(bn==="s"?o1[8+Gh/3]:"")+Er+(Qr&&_e==="("?")":""),jn){for(Tn=-1,wn=qe.length;++Tn<wn;)if(48>(An=qe.charCodeAt(Tn))||An>57){Er=(An===46?nt+qe.slice(Tn+1):qe.slice(Tn))+Er,qe=qe.slice(0,Tn);break}}}Ae&&!pe&&(qe=T(qe,1/0));var Hi=pr.length+qe.length+Er.length,Yi=Hi<Le?new Array(Le-Hi+1).join(ie):"";switch(Ae&&pe&&(qe=T(Yi+qe,Yi.length?Le-Er.length:1/0),Yi=""),le){case"<":qe=pr+qe+Er+Yi;break;case"=":qe=pr+Yi+qe+Er;break;case"^":qe=Yi.slice(0,Hi=Yi.length>>1)+pr+qe+Er+Yi.slice(Hi);break;default:qe=Yi+pr+qe+Er}return tt(qe)}return Re=Re===void 0?6:/[gprs]/.test(bn)?Math.max(1,Math.min(21,Re)):Math.max(0,Math.min(20,Re)),Ie.toString=function(){return Rt+""},Ie}return{format:Zt,formatPrefix:function(Rt,ie){var le=Zt(((Rt=Pp(Rt)).type="f",Rt)),_e=3*Math.max(-8,Math.min(8,Math.floor(bh(ie)/3))),xe=Math.pow(10,-_e),pe=o1[8+_e/3];return function(Le){return le(xe*Le)+pe}}}}function Yy(e){return zl=qy(e),ga=zl.format,Bf=zl.formatPrefix,zl}function jf(e){return Math.max(0,-bh(Math.abs(e)))}function tm(e,o){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(bh(o)/3)))-bh(Math.abs(e)))}function em(e,o){return e=Math.abs(e),o=Math.abs(o)-e,Math.max(0,bh(o)-bh(e))+1}function Xh(){return new a1}function a1(){this.reset()}Yy({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),a1.prototype={constructor:a1,reset:function(){this.s=this.t=0},add:function(e){Vy(s1,e,this.t),Vy(this,s1.s,this.s),this.s?this.t+=s1.t:this.s=s1.t},valueOf:function(){return this.s}};var s1=new a1;function Vy(e,o,x){var T=e.s=o+x,N=T-o,z=T-N;e.t=o-z+(x-N)}var di=1e-6,Dp=1e-12,qi=Math.PI,ca=qi/2,If=qi/4,cs=2*qi,Mo=180/qi,Jr=qi/180,Zi=Math.abs,ac=Math.atan,sc=Math.atan2,Pr=Math.cos,hu=Math.ceil,Wy=Math.exp,Fp=Math.log,c1=Math.pow,Nr=Math.sin,Ul=Math.sign||function(e){return e>0?1:e<0?-1:0},ma=Math.sqrt,nm=Math.tan;function l1(e){return e>1?0:e<-1?qi:Math.acos(e)}function Bc(e){return e>1?ca:e<-1?-ca:Math.asin(e)}function Gy(e){return(e=Nr(e/2))*e}function ya(){}function xh(e,o){e&&u1.hasOwnProperty(e.type)&&u1[e.type](e,o)}var Xy={Feature:function(e,o){xh(e.geometry,o)},FeatureCollection:function(e,o){for(var x=e.features,T=-1,N=x.length;++T<N;)xh(x[T].geometry,o)}},u1={Sphere:function(e,o){o.sphere()},Point:function(e,o){e=e.coordinates,o.point(e[0],e[1],e[2])},MultiPoint:function(e,o){for(var x=e.coordinates,T=-1,N=x.length;++T<N;)e=x[T],o.point(e[0],e[1],e[2])},LineString:function(e,o){h1(e.coordinates,o,0)},MultiLineString:function(e,o){for(var x=e.coordinates,T=-1,N=x.length;++T<N;)h1(x[T],o,0)},Polygon:function(e,o){rm(e.coordinates,o)},MultiPolygon:function(e,o){for(var x=e.coordinates,T=-1,N=x.length;++T<N;)rm(x[T],o)},GeometryCollection:function(e,o){for(var x=e.geometries,T=-1,N=x.length;++T<N;)xh(x[T],o)}};function h1(e,o,x){var T,N=-1,z=e.length-x;for(o.lineStart();++N<z;)T=e[N],o.point(T[0],T[1],T[2]);o.lineEnd()}function rm(e,o){var x=-1,T=e.length;for(o.polygonStart();++x<T;)h1(e[x],o,1);o.polygonEnd()}function du(e,o){e&&Xy.hasOwnProperty(e.type)?Xy[e.type](e,o):xh(e,o)}var Zy,Ky,d1,Nf,f1,p1=Xh(),g1=Xh(),Pu={point:ya,lineStart:ya,lineEnd:ya,polygonStart:function(){p1.reset(),Pu.lineStart=jb,Pu.lineEnd=Hl},polygonEnd:function(){var e=+p1;g1.add(e<0?cs+e:e),this.lineStart=this.lineEnd=this.point=ya},sphere:function(){g1.add(cs)}};function jb(){Pu.point=Ib}function Hl(){m1(Zy,Ky)}function Ib(e,o){Pu.point=m1,Zy=e,Ky=o,d1=e*=Jr,Nf=Pr(o=(o*=Jr)/2+If),f1=Nr(o)}function m1(e,o){var x=(e*=Jr)-d1,T=x>=0?1:-1,N=T*x,z=Pr(o=(o*=Jr)/2+If),nt=Nr(o),tt=f1*nt,ft=Nf*z+tt*Pr(N),Et=tt*T*Nr(N);p1.add(sc(Et,ft)),d1=e,Nf=z,f1=nt}function Nb(e){return g1.reset(),du(e,Pu),2*g1}function zp(e){return[sc(e[1],e[0]),Bc(e[2])]}function jd(e){var o=e[0],x=e[1],T=Pr(x);return[T*Pr(o),T*Nr(o),Nr(x)]}function y1(e,o){return e[0]*o[0]+e[1]*o[1]+e[2]*o[2]}function Id(e,o){return[e[1]*o[2]-e[2]*o[1],e[2]*o[0]-e[0]*o[2],e[0]*o[1]-e[1]*o[0]]}function Zs(e,o){e[0]+=o[0],e[1]+=o[1],e[2]+=o[2]}function Pf(e,o){return[e[0]*o,e[1]*o,e[2]*o]}function v1(e){var o=ma(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=o,e[1]/=o,e[2]/=o}var Qo,cc,Oa,Vo,la,wh,Jy,Rf,Zh,_h,Df,b1,Up,x1,w1,_1,k1,C1,im,Hp,S1,$p,Nd,lc,jc,ls,Kh=Xh(),Ru={point:E1,lineStart:qp,lineEnd:Jh,polygonStart:function(){Ru.point=A1,Ru.lineStart=Qy,Ru.lineEnd=tv,Kh.reset(),Pu.polygonStart()},polygonEnd:function(){Pu.polygonEnd(),Ru.point=E1,Ru.lineStart=qp,Ru.lineEnd=Jh,p1<0?(Qo=-(Oa=180),cc=-(Vo=90)):Kh>di?Vo=90:Kh<-1e-6&&(cc=-90),_h[0]=Qo,_h[1]=Oa},sphere:function(){Qo=-(Oa=180),cc=-(Vo=90)}};function E1(e,o){Zh.push(_h=[Qo=e,Oa=e]),o<cc&&(cc=o),o>Vo&&(Vo=o)}function T1(e,o){var x=jd([e*Jr,o*Jr]);if(Rf){var T=Id(Rf,x),N=Id([T[1],-T[0],0],T);v1(N),N=zp(N);var z,nt=e-la,tt=nt>0?1:-1,ft=N[0]*Mo*tt,Et=Zi(nt)>180;Et^(tt*la<ft&&ft<tt*e)?(z=N[1]*Mo)>Vo&&(Vo=z):Et^(tt*la<(ft=(ft+360)%360-180)&&ft<tt*e)?(z=-N[1]*Mo)<cc&&(cc=z):(o<cc&&(cc=o),o>Vo&&(Vo=o)),Et?e<la?el(Qo,e)>el(Qo,Oa)&&(Oa=e):el(e,Oa)>el(Qo,Oa)&&(Qo=e):Oa>=Qo?(e<Qo&&(Qo=e),e>Oa&&(Oa=e)):e>la?el(Qo,e)>el(Qo,Oa)&&(Oa=e):el(e,Oa)>el(Qo,Oa)&&(Qo=e)}else Zh.push(_h=[Qo=e,Oa=e]);o<cc&&(cc=o),o>Vo&&(Vo=o),Rf=x,la=e}function qp(){Ru.point=T1}function Jh(){_h[0]=Qo,_h[1]=Oa,Ru.point=E1,Rf=null}function A1(e,o){if(Rf){var x=e-la;Kh.add(Zi(x)>180?x+(x>0?360:-360):x)}else wh=e,Jy=o;Pu.point(e,o),T1(e,o)}function Qy(){Pu.lineStart()}function tv(){A1(wh,Jy),Pu.lineEnd(),Zi(Kh)>di&&(Qo=-(Oa=180)),_h[0]=Qo,_h[1]=Oa,Rf=null}function el(e,o){return(o-=e)<0?o+360:o}function ev(e,o){return e[0]-o[0]}function om(e,o){return e[0]<=e[1]?e[0]<=o&&o<=e[1]:o<e[0]||e[1]<o}function nv(e){var o,x,T,N,z,nt,tt;if(Vo=Oa=-(Qo=cc=1/0),Zh=[],du(e,Ru),x=Zh.length){for(Zh.sort(ev),o=1,z=[T=Zh[0]];o<x;++o)om(T,(N=Zh[o])[0])||om(T,N[1])?(el(T[0],N[1])>el(T[0],T[1])&&(T[1]=N[1]),el(N[0],T[1])>el(T[0],T[1])&&(T[0]=N[0])):z.push(T=N);for(nt=-1/0,o=0,T=z[x=z.length-1];o<=x;T=N,++o)N=z[o],(tt=el(T[1],N[0]))>nt&&(nt=tt,Qo=N[0],Oa=T[1])}return Zh=_h=null,Qo===1/0||cc===1/0?[[NaN,NaN],[NaN,NaN]]:[[Qo,cc],[Oa,Vo]]}var $l={sphere:ya,point:fi,lineStart:Fi,lineEnd:uc,polygonStart:function(){$l.lineStart=Wo,$l.lineEnd=ni},polygonEnd:function(){$l.lineStart=Fi,$l.lineEnd=uc}};function fi(e,o){e*=Jr;var x=Pr(o*=Jr);Qh(x*Pr(e),x*Nr(e),Nr(o))}function Qh(e,o,x){++Df,Up+=(e-Up)/Df,x1+=(o-x1)/Df,w1+=(x-w1)/Df}function Fi(){$l.point=$a}function $a(e,o){e*=Jr;var x=Pr(o*=Jr);lc=x*Pr(e),jc=x*Nr(e),ls=Nr(o),$l.point=O1,Qh(lc,jc,ls)}function O1(e,o){e*=Jr;var x=Pr(o*=Jr),T=x*Pr(e),N=x*Nr(e),z=Nr(o),nt=sc(ma((nt=jc*z-ls*N)*nt+(nt=ls*T-lc*z)*nt+(nt=lc*N-jc*T)*nt),lc*T+jc*N+ls*z);b1+=nt,_1+=nt*(lc+(lc=T)),k1+=nt*(jc+(jc=N)),C1+=nt*(ls+(ls=z)),Qh(lc,jc,ls)}function uc(){$l.point=fi}function Wo(){$l.point=ro}function ni(){td($p,Nd),$l.point=fi}function ro(e,o){$p=e,Nd=o,e*=Jr,o*=Jr,$l.point=td;var x=Pr(o);lc=x*Pr(e),jc=x*Nr(e),ls=Nr(o),Qh(lc,jc,ls)}function td(e,o){e*=Jr;var x=Pr(o*=Jr),T=x*Pr(e),N=x*Nr(e),z=Nr(o),nt=jc*z-ls*N,tt=ls*T-lc*z,ft=lc*N-jc*T,Et=ma(nt*nt+tt*tt+ft*ft),Dt=Bc(Et),Zt=Et&&-Dt/Et;im+=Zt*nt,Hp+=Zt*tt,S1+=Zt*ft,b1+=Dt,_1+=Dt*(lc+(lc=T)),k1+=Dt*(jc+(jc=N)),C1+=Dt*(ls+(ls=z)),Qh(lc,jc,ls)}function Ic(e){Df=b1=Up=x1=w1=_1=k1=C1=im=Hp=S1=0,du(e,$l);var o=im,x=Hp,T=S1,N=o*o+x*x+T*T;return N<Dp&&(o=_1,x=k1,T=C1,b1<di&&(o=Up,x=x1,T=w1),(N=o*o+x*x+T*T)<Dp)?[NaN,NaN]:[sc(x,o)*Mo,Bc(T/ma(N))*Mo]}function qr(e){return function(){return e}}function Ff(e,o){function x(T,N){return T=e(T,N),o(T[0],T[1])}return e.invert&&o.invert&&(x.invert=function(T,N){return(T=o.invert(T,N))&&e.invert(T[0],T[1])}),x}function M1(e,o){return[Zi(e)>qi?e+Math.round(-e/cs)*cs:e,o]}function ed(e,o,x){return(e%=cs)?o||x?Ff(L1(e),Rr(o,x)):L1(e):o||x?Rr(o,x):M1}function Yp(e){return function(o,x){return[(o+=e)>qi?o-cs:o<-qi?o+cs:o,x]}}function L1(e){var o=Yp(e);return o.invert=Yp(-e),o}function Rr(e,o){var x=Pr(e),T=Nr(e),N=Pr(o),z=Nr(o);function nt(tt,ft){var Et=Pr(ft),Dt=Pr(tt)*Et,Zt=Nr(tt)*Et,Rt=Nr(ft),ie=Rt*x+Dt*T;return[sc(Zt*N-ie*z,Dt*x-Rt*T),Bc(ie*N+Zt*z)]}return nt.invert=function(tt,ft){var Et=Pr(ft),Dt=Pr(tt)*Et,Zt=Nr(tt)*Et,Rt=Nr(ft),ie=Rt*N-Zt*z;return[sc(Zt*N+Rt*z,Dt*x+ie*T),Bc(ie*x-Dt*T)]},nt}function _l(e){function o(x){return(x=e(x[0]*Jr,x[1]*Jr))[0]*=Mo,x[1]*=Mo,x}return e=ed(e[0]*Jr,e[1]*Jr,e.length>2?e[2]*Jr:0),o.invert=function(x){return(x=e.invert(x[0]*Jr,x[1]*Jr))[0]*=Mo,x[1]*=Mo,x},o}function ys(e,o,x,T,N,z){if(x){var nt=Pr(o),tt=Nr(o),ft=T*x;N==null?(N=o+T*cs,z=o-ft/2):(N=B1(nt,N),z=B1(nt,z),(T>0?N<z:N>z)&&(N+=T*cs));for(var Et,Dt=N;T>0?Dt>z:Dt<z;Dt-=ft)Et=zp([nt,-tt*Pr(Dt),-tt*Nr(Dt)]),e.point(Et[0],Et[1])}}function B1(e,o){(o=jd(o))[0]-=e,v1(o);var x=l1(-o[1]);return((-o[2]<0?-x:x)+cs-di)%cs}function rv(){var e,o,x=qr([0,0]),T=qr(90),N=qr(6),z={point:function(tt,ft){e.push(tt=o(tt,ft)),tt[0]*=Mo,tt[1]*=Mo}};function nt(){var tt=x.apply(this,arguments),ft=T.apply(this,arguments)*Jr,Et=N.apply(this,arguments)*Jr;return e=[],o=ed(-tt[0]*Jr,-tt[1]*Jr,0).invert,ys(z,ft,Et,1),tt={type:"Polygon",coordinates:[e]},e=o=null,tt}return nt.center=function(tt){return arguments.length?(x=typeof tt=="function"?tt:qr([+tt[0],+tt[1]]),nt):x},nt.radius=function(tt){return arguments.length?(T=typeof tt=="function"?tt:qr(+tt),nt):T},nt.precision=function(tt){return arguments.length?(N=typeof tt=="function"?tt:qr(+tt),nt):N},nt}function hc(){var e,o=[];return{point:function(x,T,N){e.push([x,T,N])},lineStart:function(){o.push(e=[])},lineEnd:ya,rejoin:function(){o.length>1&&o.push(o.pop().concat(o.shift()))},result:function(){var x=o;return o=[],e=null,x}}}function Vp(e,o){return Zi(e[0]-o[0])<di&&Zi(e[1]-o[1])<di}function ta(e,o,x,T){this.x=e,this.z=o,this.o=x,this.e=T,this.v=!1,this.n=this.p=null}function Wp(e,o,x,T,N){var z,nt,tt=[],ft=[];if(e.forEach(function(le){if(!((_e=le.length-1)<=0)){var _e,xe,pe=le[0],Le=le[_e];if(Vp(pe,Le)){if(!pe[2]&&!Le[2]){for(N.lineStart(),z=0;z<_e;++z)N.point((pe=le[z])[0],pe[1]);return void N.lineEnd()}Le[0]+=2e-6}tt.push(xe=new ta(pe,le,null,!0)),ft.push(xe.o=new ta(pe,null,xe,!1)),tt.push(xe=new ta(Le,le,null,!1)),ft.push(xe.o=new ta(Le,null,xe,!0))}}),tt.length){for(ft.sort(o),zf(tt),zf(ft),z=0,nt=ft.length;z<nt;++z)ft[z].e=x=!x;for(var Et,Dt,Zt=tt[0];;){for(var Rt=Zt,ie=!0;Rt.v;)if((Rt=Rt.n)===Zt)return;Et=Rt.z,N.lineStart();do{if(Rt.v=Rt.o.v=!0,Rt.e){if(ie)for(z=0,nt=Et.length;z<nt;++z)N.point((Dt=Et[z])[0],Dt[1]);else T(Rt.x,Rt.n.x,1,N);Rt=Rt.n}else{if(ie)for(Et=Rt.p.z,z=Et.length-1;z>=0;--z)N.point((Dt=Et[z])[0],Dt[1]);else T(Rt.x,Rt.p.x,-1,N);Rt=Rt.p}Et=(Rt=Rt.o).z,ie=!ie}while(!Rt.v);N.lineEnd()}}}function zf(e){if(o=e.length){for(var o,x,T=0,N=e[0];++T<o;)N.n=x=e[T],x.p=N,N=x;N.n=x=e[0],x.p=N}}M1.invert=M1;var j1=Xh();function Uf(e){return Zi(e[0])<=qi?e[0]:Ul(e[0])*((Zi(e[0])+qi)%cs-qi)}function I1(e,o){var x=Uf(o),T=o[1],N=Nr(T),z=[Nr(x),-Pr(x),0],nt=0,tt=0;j1.reset(),N===1?T=ca+di:N===-1&&(T=-ca-di);for(var ft=0,Et=e.length;ft<Et;++ft)if(Zt=(Dt=e[ft]).length)for(var Dt,Zt,Rt=Dt[Zt-1],ie=Uf(Rt),le=Rt[1]/2+If,_e=Nr(le),xe=Pr(le),pe=0;pe<Zt;++pe,ie=Ae,_e=en,xe=bn,Rt=Le){var Le=Dt[pe],Ae=Uf(Le),Re=Le[1]/2+If,en=Nr(Re),bn=Pr(Re),kn=Ae-ie,Wn=kn>=0?1:-1,un=Wn*kn,jn=un>qi,Ie=_e*en;if(j1.add(sc(Ie*Wn*Nr(un),xe*bn+Ie*Pr(un))),nt+=jn?kn+Wn*cs:kn,jn^ie>=x^Ae>=x){var qe=Id(jd(Rt),jd(Le));v1(qe);var Tn=Id(z,qe);v1(Tn);var wn=(jn^kn>=0?-1:1)*Bc(Tn[2]);(T>wn||T===wn&&(qe[0]||qe[1]))&&(tt+=jn^kn>=0?1:-1)}}return(nt<-1e-6||nt<di&&j1<-1e-6)^1&tt}function nl(e,o,x,T){return function(N){var z,nt,tt,ft=o(N),Et=hc(),Dt=o(Et),Zt=!1,Rt={point:ie,lineStart:_e,lineEnd:xe,polygonStart:function(){Rt.point=pe,Rt.lineStart=Le,Rt.lineEnd=Ae,nt=[],z=[]},polygonEnd:function(){Rt.point=ie,Rt.lineStart=_e,Rt.lineEnd=xe,nt=xt(nt);var Re=I1(z,T);nt.length?(Zt||(N.polygonStart(),Zt=!0),Wp(nt,sm,Re,x,N)):Re&&(Zt||(N.polygonStart(),Zt=!0),N.lineStart(),x(null,null,1,N),N.lineEnd()),Zt&&(N.polygonEnd(),Zt=!1),nt=z=null},sphere:function(){N.polygonStart(),N.lineStart(),x(null,null,1,N),N.lineEnd(),N.polygonEnd()}};function ie(Re,en){e(Re,en)&&N.point(Re,en)}function le(Re,en){ft.point(Re,en)}function _e(){Rt.point=le,ft.lineStart()}function xe(){Rt.point=ie,ft.lineEnd()}function pe(Re,en){tt.push([Re,en]),Dt.point(Re,en)}function Le(){Dt.lineStart(),tt=[]}function Ae(){pe(tt[0][0],tt[0][1]),Dt.lineEnd();var Re,en,bn,kn,Wn=Dt.clean(),un=Et.result(),jn=un.length;if(tt.pop(),z.push(tt),tt=null,jn)if(1&Wn){if((en=(bn=un[0]).length-1)>0){for(Zt||(N.polygonStart(),Zt=!0),N.lineStart(),Re=0;Re<en;++Re)N.point((kn=bn[Re])[0],kn[1]);N.lineEnd()}}else jn>1&&2&Wn&&un.push(un.pop().concat(un.shift())),nt.push(un.filter(am))}return Rt}}function am(e){return e.length>1}function sm(e,o){return((e=e.x)[0]<0?e[1]-ca-di:ca-e[1])-((o=o.x)[0]<0?o[1]-ca-di:ca-o[1])}const Hf=nl(function(){return!0},function(e){var o,x=NaN,T=NaN,N=NaN;return{lineStart:function(){e.lineStart(),o=1},point:function(z,nt){var tt=z>0?qi:-qi,ft=Zi(z-x);Zi(ft-qi)<di?(e.point(x,T=(T+nt)/2>0?ca:-ca),e.point(N,T),e.lineEnd(),e.lineStart(),e.point(tt,T),e.point(z,T),o=0):N!==tt&&ft>=qi&&(Zi(x-N)<di&&(x-=N*di),Zi(z-tt)<di&&(z-=tt*di),T=function(Et,Dt,Zt,Rt){var ie,le,_e=Nr(Et-Zt);return Zi(_e)>di?ac((Nr(Dt)*(le=Pr(Rt))*Nr(Zt)-Nr(Rt)*(ie=Pr(Dt))*Nr(Et))/(ie*le*_e)):(Dt+Rt)/2}(x,T,z,nt),e.point(N,T),e.lineEnd(),e.lineStart(),e.point(tt,T),o=0),e.point(x=z,T=nt),N=tt},lineEnd:function(){e.lineEnd(),x=T=NaN},clean:function(){return 2-o}}},function(e,o,x,T){var N;if(e==null)N=x*ca,T.point(-qi,N),T.point(0,N),T.point(qi,N),T.point(qi,0),T.point(qi,-N),T.point(0,-N),T.point(-qi,-N),T.point(-qi,0),T.point(-qi,N);else if(Zi(e[0]-o[0])>di){var z=e[0]<o[0]?qi:-qi;N=x*z/2,T.point(-z,N),T.point(0,N),T.point(z,N)}else T.point(o[0],o[1])},[-qi,-ca]);function Gp(e){var o=Pr(e),x=6*Jr,T=o>0,N=Zi(o)>di;function z(ft,Et){return Pr(ft)*Pr(Et)>o}function nt(ft,Et,Dt){var Zt=[1,0,0],Rt=Id(jd(ft),jd(Et)),ie=y1(Rt,Rt),le=Rt[0],_e=ie-le*le;if(!_e)return!Dt&&ft;var xe=o*ie/_e,pe=-o*le/_e,Le=Id(Zt,Rt),Ae=Pf(Zt,xe);Zs(Ae,Pf(Rt,pe));var Re=Le,en=y1(Ae,Re),bn=y1(Re,Re),kn=en*en-bn*(y1(Ae,Ae)-1);if(!(kn<0)){var Wn=ma(kn),un=Pf(Re,(-en-Wn)/bn);if(Zs(un,Ae),un=zp(un),!Dt)return un;var jn,Ie=ft[0],qe=Et[0],Tn=ft[1],wn=Et[1];qe<Ie&&(jn=Ie,Ie=qe,qe=jn);var An=qe-Ie,pr=Zi(An-qi)<di;if(!pr&&wn<Tn&&(jn=Tn,Tn=wn,wn=jn),pr||An<di?pr?Tn+wn>0^un[1]<(Zi(un[0]-Ie)<di?Tn:wn):Tn<=un[1]&&un[1]<=wn:An>qi^(Ie<=un[0]&&un[0]<=qe)){var Er=Pf(Re,(-en+Wn)/bn);return Zs(Er,Ae),[un,zp(Er)]}}}function tt(ft,Et){var Dt=T?e:qi-e,Zt=0;return ft<-Dt?Zt|=1:ft>Dt&&(Zt|=2),Et<-Dt?Zt|=4:Et>Dt&&(Zt|=8),Zt}return nl(z,function(ft){var Et,Dt,Zt,Rt,ie;return{lineStart:function(){Rt=Zt=!1,ie=1},point:function(le,_e){var xe,pe=[le,_e],Le=z(le,_e),Ae=T?Le?0:tt(le,_e):Le?tt(le+(le<0?qi:-qi),_e):0;if(!Et&&(Rt=Zt=Le)&&ft.lineStart(),Le!==Zt&&(!(xe=nt(Et,pe))||Vp(Et,xe)||Vp(pe,xe))&&(pe[2]=1),Le!==Zt)ie=0,Le?(ft.lineStart(),xe=nt(pe,Et),ft.point(xe[0],xe[1])):(xe=nt(Et,pe),ft.point(xe[0],xe[1],2),ft.lineEnd()),Et=xe;else if(N&&Et&&T^Le){var Re;Ae&Dt||!(Re=nt(pe,Et,!0))||(ie=0,T?(ft.lineStart(),ft.point(Re[0][0],Re[0][1]),ft.point(Re[1][0],Re[1][1]),ft.lineEnd()):(ft.point(Re[1][0],Re[1][1]),ft.lineEnd(),ft.lineStart(),ft.point(Re[0][0],Re[0][1],3)))}!Le||Et&&Vp(Et,pe)||ft.point(pe[0],pe[1]),Et=pe,Zt=Le,Dt=Ae},lineEnd:function(){Zt&&ft.lineEnd(),Et=null},clean:function(){return ie|(Rt&&Zt)<<1}}},function(ft,Et,Dt,Zt){ys(Zt,e,x,Dt,ft,Et)},T?[0,-e]:[-qi,e-qi])}var Pd=1e9,ea=-Pd;function Ks(e,o,x,T){function N(Et,Dt){return e<=Et&&Et<=x&&o<=Dt&&Dt<=T}function z(Et,Dt,Zt,Rt){var ie=0,le=0;if(Et==null||(ie=nt(Et,Zt))!==(le=nt(Dt,Zt))||ft(Et,Dt)<0^Zt>0)do Rt.point(ie===0||ie===3?e:x,ie>1?T:o);while((ie=(ie+Zt+4)%4)!==le);else Rt.point(Dt[0],Dt[1])}function nt(Et,Dt){return Zi(Et[0]-e)<di?Dt>0?0:3:Zi(Et[0]-x)<di?Dt>0?2:1:Zi(Et[1]-o)<di?Dt>0?1:0:Dt>0?3:2}function tt(Et,Dt){return ft(Et.x,Dt.x)}function ft(Et,Dt){var Zt=nt(Et,1),Rt=nt(Dt,1);return Zt!==Rt?Zt-Rt:Zt===0?Dt[1]-Et[1]:Zt===1?Et[0]-Dt[0]:Zt===2?Et[1]-Dt[1]:Dt[0]-Et[0]}return function(Et){var Dt,Zt,Rt,ie,le,_e,xe,pe,Le,Ae,Re,en=Et,bn=hc(),kn={point:Wn,lineStart:function(){kn.point=un,Zt&&Zt.push(Rt=[]),Ae=!0,Le=!1,xe=pe=NaN},lineEnd:function(){Dt&&(un(ie,le),_e&&Le&&bn.rejoin(),Dt.push(bn.result())),kn.point=Wn,Le&&en.lineEnd()},polygonStart:function(){en=bn,Dt=[],Zt=[],Re=!0},polygonEnd:function(){var jn=function(){for(var Tn=0,wn=0,An=Zt.length;wn<An;++wn)for(var pr,Er,Qr=Zt[wn],Hi=1,Yi=Qr.length,Dr=Qr[0],po=Dr[0],pi=Dr[1];Hi<Yi;++Hi)pr=po,Er=pi,po=(Dr=Qr[Hi])[0],pi=Dr[1],Er<=T?pi>T&&(po-pr)*(T-Er)>(pi-Er)*(e-pr)&&++Tn:pi<=T&&(po-pr)*(T-Er)<(pi-Er)*(e-pr)&&--Tn;return Tn}(),Ie=Re&&jn,qe=(Dt=xt(Dt)).length;(Ie||qe)&&(Et.polygonStart(),Ie&&(Et.lineStart(),z(null,null,1,Et),Et.lineEnd()),qe&&Wp(Dt,tt,jn,z,Et),Et.polygonEnd()),en=Et,Dt=Zt=Rt=null}};function Wn(jn,Ie){N(jn,Ie)&&en.point(jn,Ie)}function un(jn,Ie){var qe=N(jn,Ie);if(Zt&&Rt.push([jn,Ie]),Ae)ie=jn,le=Ie,_e=qe,Ae=!1,qe&&(en.lineStart(),en.point(jn,Ie));else if(qe&&Le)en.point(jn,Ie);else{var Tn=[xe=Math.max(ea,Math.min(Pd,xe)),pe=Math.max(ea,Math.min(Pd,pe))],wn=[jn=Math.max(ea,Math.min(Pd,jn)),Ie=Math.max(ea,Math.min(Pd,Ie))];(function(An,pr,Er,Qr,Hi,Yi){var Dr,po=An[0],pi=An[1],hi=0,co=1,pc=pr[0]-po,Fs=pr[1]-pi;if(Dr=Er-po,pc||!(Dr>0)){if(Dr/=pc,pc<0){if(Dr<hi)return;Dr<co&&(co=Dr)}else if(pc>0){if(Dr>co)return;Dr>hi&&(hi=Dr)}if(Dr=Hi-po,pc||!(Dr<0)){if(Dr/=pc,pc<0){if(Dr>co)return;Dr>hi&&(hi=Dr)}else if(pc>0){if(Dr<hi)return;Dr<co&&(co=Dr)}if(Dr=Qr-pi,Fs||!(Dr>0)){if(Dr/=Fs,Fs<0){if(Dr<hi)return;Dr<co&&(co=Dr)}else if(Fs>0){if(Dr>co)return;Dr>hi&&(hi=Dr)}if(Dr=Yi-pi,Fs||!(Dr<0)){if(Dr/=Fs,Fs<0){if(Dr>co)return;Dr>hi&&(hi=Dr)}else if(Fs>0){if(Dr<hi)return;Dr<co&&(co=Dr)}return hi>0&&(An[0]=po+hi*pc,An[1]=pi+hi*Fs),co<1&&(pr[0]=po+co*pc,pr[1]=pi+co*Fs),!0}}}}})(Tn,wn,e,o,x,T)?(Le||(en.lineStart(),en.point(Tn[0],Tn[1])),en.point(wn[0],wn[1]),qe||en.lineEnd(),Re=!1):qe&&(en.lineStart(),en.point(jn,Ie),Re=!1)}xe=jn,pe=Ie,Le=qe}return kn}}function ua(){var e,o,x,T=0,N=0,z=960,nt=500;return x={stream:function(tt){return e&&o===tt?e:e=Ks(T,N,z,nt)(o=tt)},extent:function(tt){return arguments.length?(T=+tt[0][0],N=+tt[0][1],z=+tt[1][0],nt=+tt[1][1],e=o=null,x):[[T,N],[z,nt]]}}}var js,Du,Xp,$f=Xh(),ql={sphere:ya,point:ya,lineStart:function(){ql.point=nd,ql.lineEnd=Zp},lineEnd:ya,polygonStart:ya,polygonEnd:ya};function Zp(){ql.point=ql.lineEnd=ya}function nd(e,o){js=e*=Jr,Du=Nr(o*=Jr),Xp=Pr(o),ql.point=kh}function kh(e,o){e*=Jr;var x=Nr(o*=Jr),T=Pr(o),N=Zi(e-js),z=Pr(N),nt=T*Nr(N),tt=Xp*x-Du*T*z,ft=Du*x+Xp*T*z;$f.add(sc(ma(nt*nt+tt*tt),ft)),js=e,Du=x,Xp=T}function Kp(e){return $f.reset(),du(e,ql),+$f}var qf=[null,null],Fu={type:"LineString",coordinates:qf};function N1(e,o){return qf[0]=e,qf[1]=o,Kp(Fu)}var iv={Feature:function(e,o){return Jp(e.geometry,o)},FeatureCollection:function(e,o){for(var x=e.features,T=-1,N=x.length;++T<N;)if(Jp(x[T].geometry,o))return!0;return!1}},ov={Sphere:function(){return!0},Point:function(e,o){return av(e.coordinates,o)},MultiPoint:function(e,o){for(var x=e.coordinates,T=-1,N=x.length;++T<N;)if(av(x[T],o))return!0;return!1},LineString:function(e,o){return Qp(e.coordinates,o)},MultiLineString:function(e,o){for(var x=e.coordinates,T=-1,N=x.length;++T<N;)if(Qp(x[T],o))return!0;return!1},Polygon:function(e,o){return Is(e.coordinates,o)},MultiPolygon:function(e,o){for(var x=e.coordinates,T=-1,N=x.length;++T<N;)if(Is(x[T],o))return!0;return!1},GeometryCollection:function(e,o){for(var x=e.geometries,T=-1,N=x.length;++T<N;)if(Jp(x[T],o))return!0;return!1}};function Jp(e,o){return!(!e||!ov.hasOwnProperty(e.type))&&ov[e.type](e,o)}function av(e,o){return N1(e,o)===0}function Qp(e,o){for(var x,T,N,z=0,nt=e.length;z<nt;z++){if((T=N1(e[z],o))===0||z>0&&(N=N1(e[z],e[z-1]))>0&&x<=N&&T<=N&&(x+T-N)*(1-Math.pow((x-T)/N,2))<Dp*N)return!0;x=T}return!1}function Is(e,o){return!!I1(e.map(P1),Rd(o))}function P1(e){return(e=e.map(Rd)).pop(),e}function Rd(e){return[e[0]*Jr,e[1]*Jr]}function Ch(e,o){return(e&&iv.hasOwnProperty(e.type)?iv[e.type]:Jp)(e,o)}function yi(e,o,x){var T=V(e,o-di,x).concat(o);return function(N){return T.map(function(z){return[N,z]})}}function t0(e,o,x){var T=V(e,o-di,x).concat(o);return function(N){return T.map(function(z){return[z,N]})}}function vs(){var e,o,x,T,N,z,nt,tt,ft,Et,Dt,Zt,Rt=10,ie=Rt,le=90,_e=360,xe=2.5;function pe(){return{type:"MultiLineString",coordinates:Le()}}function Le(){return V(hu(T/le)*le,x,le).map(Dt).concat(V(hu(tt/_e)*_e,nt,_e).map(Zt)).concat(V(hu(o/Rt)*Rt,e,Rt).filter(function(Ae){return Zi(Ae%le)>di}).map(ft)).concat(V(hu(z/ie)*ie,N,ie).filter(function(Ae){return Zi(Ae%_e)>di}).map(Et))}return pe.lines=function(){return Le().map(function(Ae){return{type:"LineString",coordinates:Ae}})},pe.outline=function(){return{type:"Polygon",coordinates:[Dt(T).concat(Zt(nt).slice(1),Dt(x).reverse().slice(1),Zt(tt).reverse().slice(1))]}},pe.extent=function(Ae){return arguments.length?pe.extentMajor(Ae).extentMinor(Ae):pe.extentMinor()},pe.extentMajor=function(Ae){return arguments.length?(T=+Ae[0][0],x=+Ae[1][0],tt=+Ae[0][1],nt=+Ae[1][1],T>x&&(Ae=T,T=x,x=Ae),tt>nt&&(Ae=tt,tt=nt,nt=Ae),pe.precision(xe)):[[T,tt],[x,nt]]},pe.extentMinor=function(Ae){return arguments.length?(o=+Ae[0][0],e=+Ae[1][0],z=+Ae[0][1],N=+Ae[1][1],o>e&&(Ae=o,o=e,e=Ae),z>N&&(Ae=z,z=N,N=Ae),pe.precision(xe)):[[o,z],[e,N]]},pe.step=function(Ae){return arguments.length?pe.stepMajor(Ae).stepMinor(Ae):pe.stepMinor()},pe.stepMajor=function(Ae){return arguments.length?(le=+Ae[0],_e=+Ae[1],pe):[le,_e]},pe.stepMinor=function(Ae){return arguments.length?(Rt=+Ae[0],ie=+Ae[1],pe):[Rt,ie]},pe.precision=function(Ae){return arguments.length?(xe=+Ae,ft=yi(z,N,90),Et=t0(o,e,xe),Dt=yi(tt,nt,90),Zt=t0(T,x,xe),pe):xe},pe.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function va(){return vs()()}function R1(e,o){var x=e[0]*Jr,T=e[1]*Jr,N=o[0]*Jr,z=o[1]*Jr,nt=Pr(T),tt=Nr(T),ft=Pr(z),Et=Nr(z),Dt=nt*Pr(x),Zt=nt*Nr(x),Rt=ft*Pr(N),ie=ft*Nr(N),le=2*Bc(ma(Gy(z-T)+nt*ft*Gy(N-x))),_e=Nr(le),xe=le?function(pe){var Le=Nr(pe*=le)/_e,Ae=Nr(le-pe)/_e,Re=Ae*Dt+Le*Rt,en=Ae*Zt+Le*ie,bn=Ae*tt+Le*Et;return[sc(en,Re)*Mo,sc(bn,ma(Re*Re+en*en))*Mo]}:function(){return[x*Mo,T*Mo]};return xe.distance=le,xe}function Nc(e){return e}var e0,n0,Yf,Vf,r0=Xh(),Dd=Xh(),zu={point:ya,lineStart:ya,lineEnd:ya,polygonStart:function(){zu.lineStart=Uu,zu.lineEnd=Ki},polygonEnd:function(){zu.lineStart=zu.lineEnd=zu.point=ya,r0.add(Zi(Dd)),Dd.reset()},result:function(){var e=r0/2;return r0.reset(),e}};function Uu(){zu.point=cm}function cm(e,o){zu.point=bs,e0=Yf=e,n0=Vf=o}function bs(e,o){Dd.add(Vf*e-Yf*o),Yf=e,Vf=o}function Ki(){bs(e0,n0)}const Ji=zu;var Pc=1/0,Wf=Pc,Gf=-Pc,i0=Gf,sv={point:function(e,o){e<Pc&&(Pc=e),e>Gf&&(Gf=e),o<Wf&&(Wf=o),o>i0&&(i0=o)},lineStart:ya,lineEnd:ya,polygonStart:ya,polygonEnd:ya,result:function(){var e=[[Pc,Wf],[Gf,i0]];return Gf=i0=-(Wf=Pc=1/0),e}};const o0=sv;var cv,lm,na,Yl,D1=0,F1=0,Ns=0,Ps=0,kl=0,Fd=0,um=0,hm=0,Xf=0,fu={point:rd,lineStart:Hu,lineEnd:Rs,polygonStart:function(){fu.lineStart=z1,fu.lineEnd=dm},polygonEnd:function(){fu.point=rd,fu.lineStart=Hu,fu.lineEnd=Rs},result:function(){var e=Xf?[um/Xf,hm/Xf]:Fd?[Ps/Fd,kl/Fd]:Ns?[D1/Ns,F1/Ns]:[NaN,NaN];return D1=F1=Ns=Ps=kl=Fd=um=hm=Xf=0,e}};function rd(e,o){D1+=e,F1+=o,++Ns}function Hu(){fu.point=Li}function Li(e,o){fu.point=lv,rd(na=e,Yl=o)}function lv(e,o){var x=e-na,T=o-Yl,N=ma(x*x+T*T);Ps+=N*(na+e)/2,kl+=N*(Yl+o)/2,Fd+=N,rd(na=e,Yl=o)}function Rs(){fu.point=rd}function z1(){fu.point=xo}function dm(){fm(cv,lm)}function xo(e,o){fu.point=fm,rd(cv=na=e,lm=Yl=o)}function fm(e,o){var x=e-na,T=o-Yl,N=ma(x*x+T*T);Ps+=N*(na+e)/2,kl+=N*(Yl+o)/2,Fd+=N,um+=(N=Yl*e-na*o)*(na+e),hm+=N*(Yl+o),Xf+=3*N,rd(na=e,Yl=o)}const U1=fu;function Zf(e){this._context=e}Zf.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,o){switch(this._point){case 0:this._context.moveTo(e,o),this._point=1;break;case 1:this._context.lineTo(e,o);break;default:this._context.moveTo(e+this._radius,o),this._context.arc(e,o,this._radius,0,cs)}},result:ya};var H1,pm,gm,a0,Kf,Jf=Xh(),zd={point:ya,lineStart:function(){zd.point=uv},lineEnd:function(){H1&&mm(pm,gm),zd.point=ya},polygonStart:function(){H1=!0},polygonEnd:function(){H1=null},result:function(){var e=+Jf;return Jf.reset(),e}};function uv(e,o){zd.point=mm,pm=a0=e,gm=Kf=o}function mm(e,o){a0-=e,Kf-=o,Jf.add(ma(a0*a0+Kf*Kf)),a0=e,Kf=o}const $1=zd;function ym(){this._string=[]}function vm(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function Pb(e,o){var x,T,N=4.5;function z(nt){return nt&&(typeof N=="function"&&T.pointRadius(+N.apply(this,arguments)),du(nt,x(T))),T.result()}return z.area=function(nt){return du(nt,x(Ji)),Ji.result()},z.measure=function(nt){return du(nt,x($1)),$1.result()},z.bounds=function(nt){return du(nt,x(o0)),o0.result()},z.centroid=function(nt){return du(nt,x(U1)),U1.result()},z.projection=function(nt){return arguments.length?(x=nt==null?(e=null,Nc):(e=nt).stream,z):e},z.context=function(nt){return arguments.length?(T=nt==null?(o=null,new ym):new Zf(o=nt),typeof N!="function"&&T.pointRadius(N),z):o},z.pointRadius=function(nt){return arguments.length?(N=typeof nt=="function"?nt:(T.pointRadius(+nt),+nt),z):N},z.projection(e).context(o)}function bm(e){return{stream:Ud(e)}}function Ud(e){return function(o){var x=new Qf;for(var T in e)x[T]=e[T];return x.stream=o,x}}function Qf(){}function s0(e,o,x){var T=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),T!=null&&e.clipExtent(null),du(x,e.stream(o0)),o(o0.result()),T!=null&&e.clipExtent(T),e}function tp(e,o,x){return s0(e,function(T){var N=o[1][0]-o[0][0],z=o[1][1]-o[0][1],nt=Math.min(N/(T[1][0]-T[0][0]),z/(T[1][1]-T[0][1])),tt=+o[0][0]+(N-nt*(T[1][0]+T[0][0]))/2,ft=+o[0][1]+(z-nt*(T[1][1]+T[0][1]))/2;e.scale(150*nt).translate([tt,ft])},x)}function ep(e,o,x){return tp(e,[[0,0],o],x)}function Ma(e,o,x){return s0(e,function(T){var N=+o,z=N/(T[1][0]-T[0][0]),nt=(N-z*(T[1][0]+T[0][0]))/2,tt=-z*T[0][1];e.scale(150*z).translate([nt,tt])},x)}function us(e,o,x){return s0(e,function(T){var N=+o,z=N/(T[1][1]-T[0][1]),nt=-z*T[0][0],tt=(N-z*(T[1][1]+T[0][1]))/2;e.scale(150*z).translate([nt,tt])},x)}ym.prototype={_radius:4.5,_circle:vm(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(e,o){switch(this._point){case 0:this._string.push("M",e,",",o),this._point=1;break;case 1:this._string.push("L",e,",",o);break;default:this._circle==null&&(this._circle=vm(this._radius)),this._string.push("M",e,",",o,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}},Qf.prototype={constructor:Qf,point:function(e,o){this.stream.point(e,o)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var q1=Pr(30*Jr);function c0(e,o){return+o?function(x,T){function N(z,nt,tt,ft,Et,Dt,Zt,Rt,ie,le,_e,xe,pe,Le){var Ae=Zt-z,Re=Rt-nt,en=Ae*Ae+Re*Re;if(en>4*T&&pe--){var bn=ft+le,kn=Et+_e,Wn=Dt+xe,un=ma(bn*bn+kn*kn+Wn*Wn),jn=Bc(Wn/=un),Ie=Zi(Zi(Wn)-1)<di||Zi(tt-ie)<di?(tt+ie)/2:sc(kn,bn),qe=x(Ie,jn),Tn=qe[0],wn=qe[1],An=Tn-z,pr=wn-nt,Er=Re*An-Ae*pr;(Er*Er/en>T||Zi((Ae*An+Re*pr)/en-.5)>.3||ft*le+Et*_e+Dt*xe<q1)&&(N(z,nt,tt,ft,Et,Dt,Tn,wn,Ie,bn/=un,kn/=un,Wn,pe,Le),Le.point(Tn,wn),N(Tn,wn,Ie,bn,kn,Wn,Zt,Rt,ie,le,_e,xe,pe,Le))}}return function(z){var nt,tt,ft,Et,Dt,Zt,Rt,ie,le,_e,xe,pe,Le={point:Ae,lineStart:Re,lineEnd:bn,polygonStart:function(){z.polygonStart(),Le.lineStart=kn},polygonEnd:function(){z.polygonEnd(),Le.lineStart=Re}};function Ae(jn,Ie){jn=x(jn,Ie),z.point(jn[0],jn[1])}function Re(){ie=NaN,Le.point=en,z.lineStart()}function en(jn,Ie){var qe=jd([jn,Ie]),Tn=x(jn,Ie);N(ie,le,Rt,_e,xe,pe,ie=Tn[0],le=Tn[1],Rt=jn,_e=qe[0],xe=qe[1],pe=qe[2],16,z),z.point(ie,le)}function bn(){Le.point=Ae,z.lineEnd()}function kn(){Re(),Le.point=Wn,Le.lineEnd=un}function Wn(jn,Ie){en(nt=jn,Ie),tt=ie,ft=le,Et=_e,Dt=xe,Zt=pe,Le.point=en}function un(){N(ie,le,Rt,_e,xe,pe,tt,ft,nt,Et,Dt,Zt,16,z),Le.lineEnd=bn,bn()}return Le}}(e,o):function(x){return Ud({point:function(T,N){T=x(T,N),this.stream.point(T[0],T[1])}})}(e)}var Rb=Ud({point:function(e,o){this.stream.point(e*Jr,o*Jr)}});function Hd(e,o,x,T,N){function z(nt,tt){return[o+e*(nt*=T),x-e*(tt*=N)]}return z.invert=function(nt,tt){return[(nt-o)/e*T,(x-tt)/e*N]},z}function hv(e,o,x,T,N,z){var nt=Pr(z),tt=Nr(z),ft=nt*e,Et=tt*e,Dt=nt/e,Zt=tt/e,Rt=(tt*x-nt*o)/e,ie=(tt*o+nt*x)/e;function le(_e,xe){return[ft*(_e*=T)-Et*(xe*=N)+o,x-Et*_e-ft*xe]}return le.invert=function(_e,xe){return[T*(Dt*_e-Zt*xe+Rt),N*(ie-Zt*_e-Dt*xe)]},le}function $u(e){return xm(function(){return e})()}function xm(e){var o,x,T,N,z,nt,tt,ft,Et,Dt,Zt=150,Rt=480,ie=250,le=0,_e=0,xe=0,pe=0,Le=0,Ae=0,Re=1,en=1,bn=null,kn=Hf,Wn=null,un=Nc,jn=.5;function Ie(An){return ft(An[0]*Jr,An[1]*Jr)}function qe(An){return(An=ft.invert(An[0],An[1]))&&[An[0]*Mo,An[1]*Mo]}function Tn(){var An=hv(Zt,0,0,Re,en,Ae).apply(null,o(le,_e)),pr=(Ae?hv:Hd)(Zt,Rt-An[0],ie-An[1],Re,en,Ae);return x=ed(xe,pe,Le),tt=Ff(o,pr),ft=Ff(x,tt),nt=c0(tt,jn),wn()}function wn(){return Et=Dt=null,Ie}return Ie.stream=function(An){return Et&&Dt===An?Et:Et=Rb(function(pr){return Ud({point:function(Er,Qr){var Hi=pr(Er,Qr);return this.stream.point(Hi[0],Hi[1])}})}(x)(kn(nt(un(Dt=An)))))},Ie.preclip=function(An){return arguments.length?(kn=An,bn=void 0,wn()):kn},Ie.postclip=function(An){return arguments.length?(un=An,Wn=T=N=z=null,wn()):un},Ie.clipAngle=function(An){return arguments.length?(kn=+An?Gp(bn=An*Jr):(bn=null,Hf),wn()):bn*Mo},Ie.clipExtent=function(An){return arguments.length?(un=An==null?(Wn=T=N=z=null,Nc):Ks(Wn=+An[0][0],T=+An[0][1],N=+An[1][0],z=+An[1][1]),wn()):Wn==null?null:[[Wn,T],[N,z]]},Ie.scale=function(An){return arguments.length?(Zt=+An,Tn()):Zt},Ie.translate=function(An){return arguments.length?(Rt=+An[0],ie=+An[1],Tn()):[Rt,ie]},Ie.center=function(An){return arguments.length?(le=An[0]%360*Jr,_e=An[1]%360*Jr,Tn()):[le*Mo,_e*Mo]},Ie.rotate=function(An){return arguments.length?(xe=An[0]%360*Jr,pe=An[1]%360*Jr,Le=An.length>2?An[2]%360*Jr:0,Tn()):[xe*Mo,pe*Mo,Le*Mo]},Ie.angle=function(An){return arguments.length?(Ae=An%360*Jr,Tn()):Ae*Mo},Ie.reflectX=function(An){return arguments.length?(Re=An?-1:1,Tn()):Re<0},Ie.reflectY=function(An){return arguments.length?(en=An?-1:1,Tn()):en<0},Ie.precision=function(An){return arguments.length?(nt=c0(tt,jn=An*An),wn()):ma(jn)},Ie.fitExtent=function(An,pr){return tp(Ie,An,pr)},Ie.fitSize=function(An,pr){return ep(Ie,An,pr)},Ie.fitWidth=function(An,pr){return Ma(Ie,An,pr)},Ie.fitHeight=function(An,pr){return us(Ie,An,pr)},function(){return o=e.apply(this,arguments),Ie.invert=o.invert&&qe,Tn()}}function l0(e){var o=0,x=qi/3,T=xm(e),N=T(o,x);return N.parallels=function(z){return arguments.length?T(o=z[0]*Jr,x=z[1]*Jr):[o*Mo,x*Mo]},N}function Y1(e,o){var x=Nr(e),T=(x+Nr(o))/2;if(Zi(T)<di)return function(tt){var ft=Pr(tt);function Et(Dt,Zt){return[Dt*ft,Nr(Zt)/ft]}return Et.invert=function(Dt,Zt){return[Dt/ft,Bc(Zt*ft)]},Et}(e);var N=1+x*(2*T-x),z=ma(N)/T;function nt(tt,ft){var Et=ma(N-2*T*Nr(ft))/T;return[Et*Nr(tt*=T),z-Et*Pr(tt)]}return nt.invert=function(tt,ft){var Et=z-ft,Dt=sc(tt,Zi(Et))*Ul(Et);return Et*T<0&&(Dt-=qi*Ul(tt)*Ul(Et)),[Dt/T,Bc((N-(tt*tt+Et*Et)*T*T)/(2*T))]},nt}function V1(){return l0(Y1).scale(155.424).center([0,33.6442])}function u0(){return V1().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function wm(){var e,o,x,T,N,z,nt=u0(),tt=V1().rotate([154,0]).center([-2,58.5]).parallels([55,65]),ft=V1().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Et={point:function(Rt,ie){z=[Rt,ie]}};function Dt(Rt){var ie=Rt[0],le=Rt[1];return z=null,x.point(ie,le),z||(T.point(ie,le),z)||(N.point(ie,le),z)}function Zt(){return e=o=null,Dt}return Dt.invert=function(Rt){var ie=nt.scale(),le=nt.translate(),_e=(Rt[0]-le[0])/ie,xe=(Rt[1]-le[1])/ie;return(xe>=.12&&xe<.234&&_e>=-.425&&_e<-.214?tt:xe>=.166&&xe<.234&&_e>=-.214&&_e<-.115?ft:nt).invert(Rt)},Dt.stream=function(Rt){return e&&o===Rt?e:(ie=[nt.stream(o=Rt),tt.stream(Rt),ft.stream(Rt)],le=ie.length,e={point:function(_e,xe){for(var pe=-1;++pe<le;)ie[pe].point(_e,xe)},sphere:function(){for(var _e=-1;++_e<le;)ie[_e].sphere()},lineStart:function(){for(var _e=-1;++_e<le;)ie[_e].lineStart()},lineEnd:function(){for(var _e=-1;++_e<le;)ie[_e].lineEnd()},polygonStart:function(){for(var _e=-1;++_e<le;)ie[_e].polygonStart()},polygonEnd:function(){for(var _e=-1;++_e<le;)ie[_e].polygonEnd()}});var ie,le},Dt.precision=function(Rt){return arguments.length?(nt.precision(Rt),tt.precision(Rt),ft.precision(Rt),Zt()):nt.precision()},Dt.scale=function(Rt){return arguments.length?(nt.scale(Rt),tt.scale(.35*Rt),ft.scale(Rt),Dt.translate(nt.translate())):nt.scale()},Dt.translate=function(Rt){if(!arguments.length)return nt.translate();var ie=nt.scale(),le=+Rt[0],_e=+Rt[1];return x=nt.translate(Rt).clipExtent([[le-.455*ie,_e-.238*ie],[le+.455*ie,_e+.238*ie]]).stream(Et),T=tt.translate([le-.307*ie,_e+.201*ie]).clipExtent([[le-.425*ie+di,_e+.12*ie+di],[le-.214*ie-di,_e+.234*ie-di]]).stream(Et),N=ft.translate([le-.205*ie,_e+.212*ie]).clipExtent([[le-.214*ie+di,_e+.166*ie+di],[le-.115*ie-di,_e+.234*ie-di]]).stream(Et),Zt()},Dt.fitExtent=function(Rt,ie){return tp(Dt,Rt,ie)},Dt.fitSize=function(Rt,ie){return ep(Dt,Rt,ie)},Dt.fitWidth=function(Rt,ie){return Ma(Dt,Rt,ie)},Dt.fitHeight=function(Rt,ie){return us(Dt,Rt,ie)},Dt.scale(1070)}function W1(e){return function(o,x){var T=Pr(o),N=Pr(x),z=e(T*N);return[z*N*Nr(o),z*Nr(x)]}}function id(e){return function(o,x){var T=ma(o*o+x*x),N=e(T),z=Nr(N),nt=Pr(N);return[sc(o*z,T*nt),Bc(T&&x*z/T)]}}var G1=W1(function(e){return ma(2/(1+e))});function dv(){return $u(G1).scale(124.75).clipAngle(179.999)}G1.invert=id(function(e){return 2*Bc(e/2)});var X1=W1(function(e){return(e=l1(e))&&e/Nr(e)});function np(){return $u(X1).scale(79.4188).clipAngle(179.999)}function rp(e,o){return[e,Fp(nm((ca+o)/2))]}function Db(){return _m(rp).scale(961/cs)}function _m(e){var o,x,T,N=$u(e),z=N.center,nt=N.scale,tt=N.translate,ft=N.clipExtent,Et=null;function Dt(){var Zt=qi*nt(),Rt=N(_l(N.rotate()).invert([0,0]));return ft(Et==null?[[Rt[0]-Zt,Rt[1]-Zt],[Rt[0]+Zt,Rt[1]+Zt]]:e===rp?[[Math.max(Rt[0]-Zt,Et),o],[Math.min(Rt[0]+Zt,x),T]]:[[Et,Math.max(Rt[1]-Zt,o)],[x,Math.min(Rt[1]+Zt,T)]])}return N.scale=function(Zt){return arguments.length?(nt(Zt),Dt()):nt()},N.translate=function(Zt){return arguments.length?(tt(Zt),Dt()):tt()},N.center=function(Zt){return arguments.length?(z(Zt),Dt()):z()},N.clipExtent=function(Zt){return arguments.length?(Zt==null?Et=o=x=T=null:(Et=+Zt[0][0],o=+Zt[0][1],x=+Zt[1][0],T=+Zt[1][1]),Dt()):Et==null?null:[[Et,o],[x,T]]},Dt()}function h0(e){return nm((ca+e)/2)}function km(e,o){var x=Pr(e),T=e===o?Nr(e):Fp(x/Pr(o))/Fp(h0(o)/h0(e)),N=x*c1(h0(e),T)/T;if(!T)return rp;function z(nt,tt){N>0?tt<-ca+di&&(tt=-ca+di):tt>ca-di&&(tt=ca-di);var ft=N/c1(h0(tt),T);return[ft*Nr(T*nt),N-ft*Pr(T*nt)]}return z.invert=function(nt,tt){var ft=N-tt,Et=Ul(T)*ma(nt*nt+ft*ft),Dt=sc(nt,Zi(ft))*Ul(ft);return ft*T<0&&(Dt-=qi*Ul(nt)*Ul(ft)),[Dt/T,2*ac(c1(N/Et,1/T))-ca]},z}function fv(){return l0(km).scale(109.5).parallels([30,30])}function ip(e,o){return[e,o]}function d0(){return $u(ip).scale(152.63)}function Cm(e,o){var x=Pr(e),T=e===o?Nr(e):(x-Pr(o))/(o-e),N=x/T+e;if(Zi(T)<di)return ip;function z(nt,tt){var ft=N-tt,Et=T*nt;return[ft*Nr(Et),N-ft*Pr(Et)]}return z.invert=function(nt,tt){var ft=N-tt,Et=sc(nt,Zi(ft))*Ul(ft);return ft*T<0&&(Et-=qi*Ul(nt)*Ul(ft)),[Et/T,N-Ul(T)*ma(nt*nt+ft*ft)]},z}function pv(){return l0(Cm).scale(131.154).center([0,13.9389])}X1.invert=id(function(e){return e}),rp.invert=function(e,o){return[e,2*ac(Wy(o))-ca]},ip.invert=ip;var $d=1.340264,qd=-.081106,Yd=893e-6,Vd=.003796,pu=ma(3)/2;function Sm(e,o){var x=Bc(pu*Nr(o)),T=x*x,N=T*T*T;return[e*Pr(x)/(pu*($d+3*qd*T+N*(7*Yd+9*Vd*T))),x*($d+qd*T+N*(Yd+Vd*T))]}function Fb(){return $u(Sm).scale(177.158)}function Z1(e,o){var x=Pr(o),T=Pr(e)*x;return[x*Nr(e)/T,Nr(o)/T]}function zb(){return $u(Z1).scale(144.049).clipAngle(60)}function gv(){var e,o,x,T,N,z,nt,tt=1,ft=0,Et=0,Dt=1,Zt=1,Rt=0,ie=null,le=1,_e=1,xe=Ud({point:function(Re,en){var bn=Ae([Re,en]);this.stream.point(bn[0],bn[1])}}),pe=Nc;function Le(){return le=tt*Dt,_e=tt*Zt,z=nt=null,Ae}function Ae(Re){var en=Re[0]*le,bn=Re[1]*_e;if(Rt){var kn=bn*e-en*o;en=en*e+bn*o,bn=kn}return[en+ft,bn+Et]}return Ae.invert=function(Re){var en=Re[0]-ft,bn=Re[1]-Et;if(Rt){var kn=bn*e+en*o;en=en*e-bn*o,bn=kn}return[en/le,bn/_e]},Ae.stream=function(Re){return z&&nt===Re?z:z=xe(pe(nt=Re))},Ae.postclip=function(Re){return arguments.length?(pe=Re,ie=x=T=N=null,Le()):pe},Ae.clipExtent=function(Re){return arguments.length?(pe=Re==null?(ie=x=T=N=null,Nc):Ks(ie=+Re[0][0],x=+Re[0][1],T=+Re[1][0],N=+Re[1][1]),Le()):ie==null?null:[[ie,x],[T,N]]},Ae.scale=function(Re){return arguments.length?(tt=+Re,Le()):tt},Ae.translate=function(Re){return arguments.length?(ft=+Re[0],Et=+Re[1],Le()):[ft,Et]},Ae.angle=function(Re){return arguments.length?(o=Nr(Rt=Re%360*Jr),e=Pr(Rt),Le()):Rt*Mo},Ae.reflectX=function(Re){return arguments.length?(Dt=Re?-1:1,Le()):Dt<0},Ae.reflectY=function(Re){return arguments.length?(Zt=Re?-1:1,Le()):Zt<0},Ae.fitExtent=function(Re,en){return tp(Ae,Re,en)},Ae.fitSize=function(Re,en){return ep(Ae,Re,en)},Ae.fitWidth=function(Re,en){return Ma(Ae,Re,en)},Ae.fitHeight=function(Re,en){return us(Ae,Re,en)},Ae}function od(e,o){var x=o*o,T=x*x;return[e*(.8707-.131979*x+T*(T*(.003971*x-.001529*T)-.013791)),o*(1.007226+x*(.015085+T*(.028874*x-.044475-.005916*T)))]}function K1(){return $u(od).scale(175.295)}function Wd(e,o){return[Pr(o)*Nr(e),Nr(o)]}function J1(){return $u(Wd).scale(249.5).clipAngle(90.000001)}function Em(e,o){var x=Pr(o),T=1+Pr(e)*x;return[x*Nr(e)/T,Nr(o)/T]}function Q1(){return $u(Em).scale(250).clipAngle(142)}function tg(e,o){return[Fp(nm((ca+o)/2)),-e]}function mv(){var e=_m(tg),o=e.center,x=e.rotate;return e.center=function(T){return arguments.length?o([-T[1],T[0]]):[(T=o())[1],-T[0]]},e.rotate=function(T){return arguments.length?x([T[0],T[1],T.length>2?T[2]+90:90]):[(T=x())[0],T[1],T[2]-90]},x([0,0,90]).scale(159.155)}function qu(e,o){return e.parent===o.parent?1:2}function Yu(e,o){return e+o.x}function Tm(e,o){return Math.max(e,o.y)}function Am(){var e=qu,o=1,x=1,T=!1;function N(z){var nt,tt=0;z.eachAfter(function(Rt){var ie=Rt.children;ie?(Rt.x=function(le){return le.reduce(Yu,0)/le.length}(ie),Rt.y=function(le){return 1+le.reduce(Tm,0)}(ie)):(Rt.x=nt?tt+=e(Rt,nt):0,Rt.y=0,nt=Rt)});var ft=function(Rt){for(var ie;ie=Rt.children;)Rt=ie[0];return Rt}(z),Et=function(Rt){for(var ie;ie=Rt.children;)Rt=ie[ie.length-1];return Rt}(z),Dt=ft.x-e(ft,Et)/2,Zt=Et.x+e(Et,ft)/2;return z.eachAfter(T?function(Rt){Rt.x=(Rt.x-z.x)*o,Rt.y=(z.y-Rt.y)*x}:function(Rt){Rt.x=(Rt.x-Dt)/(Zt-Dt)*o,Rt.y=(1-(z.y?Rt.y/z.y:1))*x})}return N.separation=function(z){return arguments.length?(e=z,N):e},N.size=function(z){return arguments.length?(T=!1,o=+z[0],x=+z[1],N):T?null:[o,x]},N.nodeSize=function(z){return arguments.length?(T=!0,o=+z[0],x=+z[1],N):T?[o,x]:null},N}function Gd(e){var o=0,x=e.children,T=x&&x.length;if(T)for(;--T>=0;)o+=x[T].value;else o=1;e.value=o}function Xd(e,o){var x,T,N,z,nt,tt=new ad(e),ft=+e.value&&(tt.value=e.value),Et=[tt];for(o==null&&(o=f0);x=Et.pop();)if(ft&&(x.value=+x.data.value),(N=o(x.data))&&(nt=N.length))for(x.children=new Array(nt),z=nt-1;z>=0;--z)Et.push(T=x.children[z]=new ad(N[z])),T.parent=x,T.depth=x.depth+1;return tt.eachBefore(eg)}function f0(e){return e.children}function op(e){e.data=e.data.data}function eg(e){var o=0;do e.height=o;while((e=e.parent)&&e.height<++o)}function ad(e){this.data=e,this.depth=this.height=0,this.parent=null}Sm.invert=function(e,o){for(var x,T=o,N=T*T,z=N*N*N,nt=0;nt<12&&(z=(N=(T-=x=(T*($d+qd*N+z*(Yd+Vd*N))-o)/($d+3*qd*N+z*(7*Yd+9*Vd*N)))*T)*N*N,!(Zi(x)<Dp));++nt);return[pu*e*($d+3*qd*N+z*(7*Yd+9*Vd*N))/Pr(T),Bc(Nr(T)/pu)]},Z1.invert=id(ac),od.invert=function(e,o){var x,T=o,N=25;do{var z=T*T,nt=z*z;T-=x=(T*(1.007226+z*(.015085+nt*(.028874*z-.044475-.005916*nt)))-o)/(1.007226+z*(.045255+nt*(.259866*z-.311325-.06507600000000001*nt)))}while(Zi(x)>di&&--N>0);return[e/(.8707+(z=T*T)*(z*(z*z*z*(.003971-.001529*z)-.013791)-.131979)),T]},Wd.invert=id(Bc),Em.invert=id(function(e){return 2*ac(e)}),tg.invert=function(e,o){return[-o,2*ac(Wy(e))-ca]},ad.prototype=Xd.prototype={constructor:ad,count:function(){return this.eachAfter(Gd)},each:function(e){var o,x,T,N,z=this,nt=[z];do for(o=nt.reverse(),nt=[];z=o.pop();)if(e(z),x=z.children)for(T=0,N=x.length;T<N;++T)nt.push(x[T]);while(nt.length);return this},eachAfter:function(e){for(var o,x,T,N=this,z=[N],nt=[];N=z.pop();)if(nt.push(N),o=N.children)for(x=0,T=o.length;x<T;++x)z.push(o[x]);for(;N=nt.pop();)e(N);return this},eachBefore:function(e){for(var o,x,T=this,N=[T];T=N.pop();)if(e(T),o=T.children)for(x=o.length-1;x>=0;--x)N.push(o[x]);return this},sum:function(e){return this.eachAfter(function(o){for(var x=+e(o.data)||0,T=o.children,N=T&&T.length;--N>=0;)x+=T[N].value;o.value=x})},sort:function(e){return this.eachBefore(function(o){o.children&&o.children.sort(e)})},path:function(e){for(var o=this,x=function(z,nt){if(z===nt)return z;var tt=z.ancestors(),ft=nt.ancestors(),Et=null;for(z=tt.pop(),nt=ft.pop();z===nt;)Et=z,z=tt.pop(),nt=ft.pop();return Et}(o,e),T=[o];o!==x;)o=o.parent,T.push(o);for(var N=T.length;e!==x;)T.splice(N,0,e),e=e.parent;return T},ancestors:function(){for(var e=this,o=[e];e=e.parent;)o.push(e);return o},descendants:function(){var e=[];return this.each(function(o){e.push(o)}),e},leaves:function(){var e=[];return this.eachBefore(function(o){o.children||e.push(o)}),e},links:function(){var e=this,o=[];return e.each(function(x){x!==e&&o.push({source:x.parent,target:x})}),o},copy:function(){return Xd(this).eachBefore(op)}};var Zd=Array.prototype.slice;function Vl(e){for(var o,x,T=0,N=(e=function(nt){for(var tt,ft,Et=nt.length;Et;)ft=Math.random()*Et--|0,tt=nt[Et],nt[Et]=nt[ft],nt[ft]=tt;return nt}(Zd.call(e))).length,z=[];T<N;)o=e[T],x&&Rc(x,o)?++T:(x=yv(z=Kd(z,o)),T=0);return x}function Kd(e,o){var x,T;if(g0(o,e))return[o];for(x=0;x<e.length;++x)if(p0(o,e[x])&&g0(m0(e[x],o),e))return[e[x],o];for(x=0;x<e.length-1;++x)for(T=x+1;T<e.length;++T)if(p0(m0(e[x],e[T]),o)&&p0(m0(e[x],o),e[T])&&p0(m0(e[T],o),e[x])&&g0(vv(e[x],e[T],o),e))return[e[x],e[T],o];throw new Error}function p0(e,o){var x=e.r-o.r,T=o.x-e.x,N=o.y-e.y;return x<0||x*x<T*T+N*N}function Rc(e,o){var x=e.r-o.r+1e-6,T=o.x-e.x,N=o.y-e.y;return x>0&&x*x>T*T+N*N}function g0(e,o){for(var x=0;x<o.length;++x)if(!Rc(e,o[x]))return!1;return!0}function yv(e){switch(e.length){case 1:return function(o){return{x:o.x,y:o.y,r:o.r}}(e[0]);case 2:return m0(e[0],e[1]);case 3:return vv(e[0],e[1],e[2])}}function m0(e,o){var x=e.x,T=e.y,N=e.r,z=o.x,nt=o.y,tt=o.r,ft=z-x,Et=nt-T,Dt=tt-N,Zt=Math.sqrt(ft*ft+Et*Et);return{x:(x+z+ft/Zt*Dt)/2,y:(T+nt+Et/Zt*Dt)/2,r:(Zt+N+tt)/2}}function vv(e,o,x){var T=e.x,N=e.y,z=e.r,nt=o.x,tt=o.y,ft=o.r,Et=x.x,Dt=x.y,Zt=x.r,Rt=T-nt,ie=T-Et,le=N-tt,_e=N-Dt,xe=ft-z,pe=Zt-z,Le=T*T+N*N-z*z,Ae=Le-nt*nt-tt*tt+ft*ft,Re=Le-Et*Et-Dt*Dt+Zt*Zt,en=ie*le-Rt*_e,bn=(le*Re-_e*Ae)/(2*en)-T,kn=(_e*xe-le*pe)/en,Wn=(ie*Ae-Rt*Re)/(2*en)-N,un=(Rt*pe-ie*xe)/en,jn=kn*kn+un*un-1,Ie=2*(z+bn*kn+Wn*un),qe=bn*bn+Wn*Wn-z*z,Tn=-(jn?(Ie+Math.sqrt(Ie*Ie-4*jn*qe))/(2*jn):qe/Ie);return{x:T+bn+kn*Tn,y:N+Wn+un*Tn,r:Tn}}function bv(e,o,x){var T,N,z,nt,tt=e.x-o.x,ft=e.y-o.y,Et=tt*tt+ft*ft;Et?(N=o.r+x.r,N*=N,nt=e.r+x.r,N>(nt*=nt)?(T=(Et+nt-N)/(2*Et),z=Math.sqrt(Math.max(0,nt/Et-T*T)),x.x=e.x-T*tt-z*ft,x.y=e.y-T*ft+z*tt):(T=(Et+N-nt)/(2*Et),z=Math.sqrt(Math.max(0,N/Et-T*T)),x.x=o.x+T*tt-z*ft,x.y=o.y+T*ft+z*tt)):(x.x=o.x+x.r,x.y=o.y)}function y0(e,o){var x=e.r+o.r-1e-6,T=o.x-e.x,N=o.y-e.y;return x>0&&x*x>T*T+N*N}function Om(e){var o=e._,x=e.next._,T=o.r+x.r,N=(o.x*x.r+x.x*o.r)/T,z=(o.y*x.r+x.y*o.r)/T;return N*N+z*z}function Jd(e){this._=e,this.next=null,this.previous=null}function ng(e){if(!(N=e.length))return 0;var o,x,T,N,z,nt,tt,ft,Et,Dt,Zt;if((o=e[0]).x=0,o.y=0,!(N>1))return o.r;if(x=e[1],o.x=-x.r,x.x=o.r,x.y=0,!(N>2))return o.r+x.r;bv(x,o,T=e[2]),o=new Jd(o),x=new Jd(x),T=new Jd(T),o.next=T.previous=x,x.next=o.previous=T,T.next=x.previous=o;t:for(tt=3;tt<N;++tt){bv(o._,x._,T=e[tt]),T=new Jd(T),ft=x.next,Et=o.previous,Dt=x._.r,Zt=o._.r;do if(Dt<=Zt){if(y0(ft._,T._)){x=ft,o.next=x,x.previous=o,--tt;continue t}Dt+=ft._.r,ft=ft.next}else{if(y0(Et._,T._)){(o=Et).next=x,x.previous=o,--tt;continue t}Zt+=Et._.r,Et=Et.previous}while(ft!==Et.next);for(T.previous=o,T.next=x,o.next=x.previous=x=T,z=Om(o);(T=T.next)!==x;)(nt=Om(T))<z&&(o=T,z=nt);x=o.next}for(o=[x._],T=x;(T=T.next)!==x;)o.push(T._);for(T=Vl(o),tt=0;tt<N;++tt)(o=e[tt]).x-=T.x,o.y-=T.y;return T.r}function xv(e){return ng(e),e}function wv(e){return e==null?null:sd(e)}function sd(e){if(typeof e!="function")throw new Error;return e}function Wl(){return 0}function cd(e){return function(){return e}}function rg(e){return Math.sqrt(e.value)}function Ub(){var e=null,o=1,x=1,T=Wl;function N(z){return z.x=o/2,z.y=x/2,e?z.eachBefore(v0(e)).eachAfter(ap(T,.5)).eachBefore(Mm(1)):z.eachBefore(v0(rg)).eachAfter(ap(Wl,1)).eachAfter(ap(T,z.r/Math.min(o,x))).eachBefore(Mm(Math.min(o,x)/(2*z.r))),z}return N.radius=function(z){return arguments.length?(e=wv(z),N):e},N.size=function(z){return arguments.length?(o=+z[0],x=+z[1],N):[o,x]},N.padding=function(z){return arguments.length?(T=typeof z=="function"?z:cd(+z),N):T},N}function v0(e){return function(o){o.children||(o.r=Math.max(0,+e(o)||0))}}function ap(e,o){return function(x){if(T=x.children){var T,N,z,nt=T.length,tt=e(x)*o||0;if(tt)for(N=0;N<nt;++N)T[N].r+=tt;if(z=ng(T),tt)for(N=0;N<nt;++N)T[N].r-=tt;x.r=z+tt}}}function Mm(e){return function(o){var x=o.parent;o.r*=e,x&&(o.x=x.x+e*o.x,o.y=x.y+e*o.y)}}function Lm(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function b0(e,o,x,T,N){for(var z,nt=e.children,tt=-1,ft=nt.length,Et=e.value&&(T-o)/e.value;++tt<ft;)(z=nt[tt]).y0=x,z.y1=N,z.x0=o,z.x1=o+=z.value*Et}function Hb(){var e=1,o=1,x=0,T=!1;function N(z){var nt=z.height+1;return z.x0=z.y0=x,z.x1=e,z.y1=o/nt,z.eachBefore(function(tt,ft){return function(Et){Et.children&&b0(Et,Et.x0,tt*(Et.depth+1)/ft,Et.x1,tt*(Et.depth+2)/ft);var Dt=Et.x0,Zt=Et.y0,Rt=Et.x1-x,ie=Et.y1-x;Rt<Dt&&(Dt=Rt=(Dt+Rt)/2),ie<Zt&&(Zt=ie=(Zt+ie)/2),Et.x0=Dt,Et.y0=Zt,Et.x1=Rt,Et.y1=ie}}(o,nt)),T&&z.eachBefore(Lm),z}return N.round=function(z){return arguments.length?(T=!!z,N):T},N.size=function(z){return arguments.length?(e=+z[0],o=+z[1],N):[e,o]},N.padding=function(z){return arguments.length?(x=+z,N):x},N}var x0={depth:-1},ig={};function Bm(e){return e.id}function og(e){return e.parentId}function jm(){var e=Bm,o=og;function x(T){var N,z,nt,tt,ft,Et,Dt,Zt=T.length,Rt=new Array(Zt),ie={};for(z=0;z<Zt;++z)N=T[z],ft=Rt[z]=new ad(N),(Et=e(N,z,T))!=null&&(Et+="")&&(ie[Dt="$"+(ft.id=Et)]=Dt in ie?ig:ft);for(z=0;z<Zt;++z)if(ft=Rt[z],(Et=o(T[z],z,T))!=null&&(Et+="")){if(!(tt=ie["$"+Et]))throw new Error("missing: "+Et);if(tt===ig)throw new Error("ambiguous: "+Et);tt.children?tt.children.push(ft):tt.children=[ft],ft.parent=tt}else{if(nt)throw new Error("multiple roots");nt=ft}if(!nt)throw new Error("no root");if(nt.parent=x0,nt.eachBefore(function(le){le.depth=le.parent.depth+1,--Zt}).eachBefore(eg),nt.parent=null,Zt>0)throw new Error("cycle");return nt}return x.id=function(T){return arguments.length?(e=sd(T),x):e},x.parentId=function(T){return arguments.length?(o=sd(T),x):o},x}function Im(e,o){return e.parent===o.parent?1:2}function w0(e){var o=e.children;return o?o[0]:e.t}function Nm(e){var o=e.children;return o?o[o.length-1]:e.t}function _v(e,o,x){var T=x/(o.i-e.i);o.c-=T,o.s+=x,e.c+=T,o.z+=x,o.m+=x}function $b(e,o,x){return e.a.parent===o.parent?e.a:x}function _0(e,o){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=o}function Vu(){var e=Im,o=1,x=1,T=null;function N(ft){var Et=function(pe){for(var Le,Ae,Re,en,bn,kn=new _0(pe,0),Wn=[kn];Le=Wn.pop();)if(Re=Le._.children)for(Le.children=new Array(bn=Re.length),en=bn-1;en>=0;--en)Wn.push(Ae=Le.children[en]=new _0(Re[en],en)),Ae.parent=Le;return(kn.parent=new _0(null,0)).children=[kn],kn}(ft);if(Et.eachAfter(z),Et.parent.m=-Et.z,Et.eachBefore(nt),T)ft.eachBefore(tt);else{var Dt=ft,Zt=ft,Rt=ft;ft.eachBefore(function(pe){pe.x<Dt.x&&(Dt=pe),pe.x>Zt.x&&(Zt=pe),pe.depth>Rt.depth&&(Rt=pe)});var ie=Dt===Zt?1:e(Dt,Zt)/2,le=ie-Dt.x,_e=o/(Zt.x+ie+le),xe=x/(Rt.depth||1);ft.eachBefore(function(pe){pe.x=(pe.x+le)*_e,pe.y=pe.depth*xe})}return ft}function z(ft){var Et=ft.children,Dt=ft.parent.children,Zt=ft.i?Dt[ft.i-1]:null;if(Et){(function(ie){for(var le,_e=0,xe=0,pe=ie.children,Le=pe.length;--Le>=0;)(le=pe[Le]).z+=_e,le.m+=_e,_e+=le.s+(xe+=le.c)})(ft);var Rt=(Et[0].z+Et[Et.length-1].z)/2;Zt?(ft.z=Zt.z+e(ft._,Zt._),ft.m=ft.z-Rt):ft.z=Rt}else Zt&&(ft.z=Zt.z+e(ft._,Zt._));ft.parent.A=function(ie,le,_e){if(le){for(var xe,pe=ie,Le=ie,Ae=le,Re=pe.parent.children[0],en=pe.m,bn=Le.m,kn=Ae.m,Wn=Re.m;Ae=Nm(Ae),pe=w0(pe),Ae&&pe;)Re=w0(Re),(Le=Nm(Le)).a=ie,(xe=Ae.z+kn-pe.z-en+e(Ae._,pe._))>0&&(_v($b(Ae,ie,_e),ie,xe),en+=xe,bn+=xe),kn+=Ae.m,en+=pe.m,Wn+=Re.m,bn+=Le.m;Ae&&!Nm(Le)&&(Le.t=Ae,Le.m+=kn-bn),pe&&!w0(Re)&&(Re.t=pe,Re.m+=en-Wn,_e=ie)}return _e}(ft,Zt,ft.parent.A||Dt[0])}function nt(ft){ft._.x=ft.z+ft.parent.m,ft.m+=ft.parent.m}function tt(ft){ft.x*=o,ft.y=ft.depth*x}return N.separation=function(ft){return arguments.length?(e=ft,N):e},N.size=function(ft){return arguments.length?(T=!1,o=+ft[0],x=+ft[1],N):T?null:[o,x]},N.nodeSize=function(ft){return arguments.length?(T=!0,o=+ft[0],x=+ft[1],N):T?[o,x]:null},N}function sp(e,o,x,T,N){for(var z,nt=e.children,tt=-1,ft=nt.length,Et=e.value&&(N-x)/e.value;++tt<ft;)(z=nt[tt]).x0=o,z.x1=T,z.y0=x,z.y1=x+=z.value*Et}_0.prototype=Object.create(ad.prototype);var ag=(1+Math.sqrt(5))/2;function Pm(e,o,x,T,N,z){for(var nt,tt,ft,Et,Dt,Zt,Rt,ie,le,_e,xe,pe=[],Le=o.children,Ae=0,Re=0,en=Le.length,bn=o.value;Ae<en;){ft=N-x,Et=z-T;do Dt=Le[Re++].value;while(!Dt&&Re<en);for(Zt=Rt=Dt,xe=Dt*Dt*(_e=Math.max(Et/ft,ft/Et)/(bn*e)),le=Math.max(Rt/xe,xe/Zt);Re<en;++Re){if(Dt+=tt=Le[Re].value,tt<Zt&&(Zt=tt),tt>Rt&&(Rt=tt),xe=Dt*Dt*_e,(ie=Math.max(Rt/xe,xe/Zt))>le){Dt-=tt;break}le=ie}pe.push(nt={value:Dt,dice:ft<Et,children:Le.slice(Ae,Re)}),nt.dice?b0(nt,x,T,N,bn?T+=Et*Dt/bn:z):sp(nt,x,T,bn?x+=ft*Dt/bn:N,z),bn-=Dt,Ae=Re}return pe}const k0=function e(o){function x(T,N,z,nt,tt){Pm(o,T,N,z,nt,tt)}return x.ratio=function(T){return e((T=+T)>1?T:1)},x}(ag);function kv(){var e=k0,o=!1,x=1,T=1,N=[0],z=Wl,nt=Wl,tt=Wl,ft=Wl,Et=Wl;function Dt(Rt){return Rt.x0=Rt.y0=0,Rt.x1=x,Rt.y1=T,Rt.eachBefore(Zt),N=[0],o&&Rt.eachBefore(Lm),Rt}function Zt(Rt){var ie=N[Rt.depth],le=Rt.x0+ie,_e=Rt.y0+ie,xe=Rt.x1-ie,pe=Rt.y1-ie;xe<le&&(le=xe=(le+xe)/2),pe<_e&&(_e=pe=(_e+pe)/2),Rt.x0=le,Rt.y0=_e,Rt.x1=xe,Rt.y1=pe,Rt.children&&(ie=N[Rt.depth+1]=z(Rt)/2,le+=Et(Rt)-ie,_e+=nt(Rt)-ie,(xe-=tt(Rt)-ie)<le&&(le=xe=(le+xe)/2),(pe-=ft(Rt)-ie)<_e&&(_e=pe=(_e+pe)/2),e(Rt,le,_e,xe,pe))}return Dt.round=function(Rt){return arguments.length?(o=!!Rt,Dt):o},Dt.size=function(Rt){return arguments.length?(x=+Rt[0],T=+Rt[1],Dt):[x,T]},Dt.tile=function(Rt){return arguments.length?(e=sd(Rt),Dt):e},Dt.padding=function(Rt){return arguments.length?Dt.paddingInner(Rt).paddingOuter(Rt):Dt.paddingInner()},Dt.paddingInner=function(Rt){return arguments.length?(z=typeof Rt=="function"?Rt:cd(+Rt),Dt):z},Dt.paddingOuter=function(Rt){return arguments.length?Dt.paddingTop(Rt).paddingRight(Rt).paddingBottom(Rt).paddingLeft(Rt):Dt.paddingTop()},Dt.paddingTop=function(Rt){return arguments.length?(nt=typeof Rt=="function"?Rt:cd(+Rt),Dt):nt},Dt.paddingRight=function(Rt){return arguments.length?(tt=typeof Rt=="function"?Rt:cd(+Rt),Dt):tt},Dt.paddingBottom=function(Rt){return arguments.length?(ft=typeof Rt=="function"?Rt:cd(+Rt),Dt):ft},Dt.paddingLeft=function(Rt){return arguments.length?(Et=typeof Rt=="function"?Rt:cd(+Rt),Dt):Et},Dt}function S(e,o,x,T,N){var z,nt,tt=e.children,ft=tt.length,Et=new Array(ft+1);for(Et[0]=nt=z=0;z<ft;++z)Et[z+1]=nt+=tt[z].value;(function Dt(Zt,Rt,ie,le,_e,xe,pe){if(Zt>=Rt-1){var Le=tt[Zt];return Le.x0=le,Le.y0=_e,Le.x1=xe,void(Le.y1=pe)}for(var Ae=Et[Zt],Re=ie/2+Ae,en=Zt+1,bn=Rt-1;en<bn;){var kn=en+bn>>>1;Et[kn]<Re?en=kn+1:bn=kn}Re-Et[en-1]<Et[en]-Re&&Zt+1<en&&--en;var Wn=Et[en]-Ae,un=ie-Wn;if(xe-le>pe-_e){var jn=(le*un+xe*Wn)/ie;Dt(Zt,en,Wn,le,_e,jn,pe),Dt(en,Rt,un,jn,_e,xe,pe)}else{var Ie=(_e*un+pe*Wn)/ie;Dt(Zt,en,Wn,le,_e,xe,Ie),Dt(en,Rt,un,le,Ie,xe,pe)}})(0,ft,e.value,o,x,T,N)}function D(e,o,x,T,N){(1&e.depth?sp:b0)(e,o,x,T,N)}const vt=function e(o){function x(T,N,z,nt,tt){if((ft=T._squarify)&&ft.ratio===o)for(var ft,Et,Dt,Zt,Rt,ie=-1,le=ft.length,_e=T.value;++ie<le;){for(Dt=(Et=ft[ie]).children,Zt=Et.value=0,Rt=Dt.length;Zt<Rt;++Zt)Et.value+=Dt[Zt].value;Et.dice?b0(Et,N,z,nt,z+=(tt-z)*Et.value/_e):sp(Et,N,z,N+=(nt-N)*Et.value/_e,tt),_e-=Et.value}else T._squarify=ft=Pm(o,T,N,z,nt,tt),ft.ratio=o}return x.ratio=function(T){return e((T=+T)>1?T:1)},x}(ag);function Jt(e){var o=e.length;return function(x){return e[Math.max(0,Math.min(o-1,Math.floor(x*o)))]}}function ge(e,o){var x=Xa(+e,+o);return function(T){var N=x(T);return N-360*Math.floor(N/360)}}function je(e,o){return e=+e,o=+o,function(x){return Math.round(e*(1-x)+o*x)}}var Ve=Math.SQRT2;function ln(e){return((e=Math.exp(e))+1/e)/2}function Cn(e,o){var x,T,N=e[0],z=e[1],nt=e[2],tt=o[0],ft=o[1],Et=o[2],Dt=tt-N,Zt=ft-z,Rt=Dt*Dt+Zt*Zt;if(Rt<1e-12)T=Math.log(Et/nt)/Ve,x=function(Le){return[N+Le*Dt,z+Le*Zt,nt*Math.exp(Ve*Le*T)]};else{var ie=Math.sqrt(Rt),le=(Et*Et-nt*nt+4*Rt)/(2*nt*2*ie),_e=(Et*Et-nt*nt-4*Rt)/(2*Et*2*ie),xe=Math.log(Math.sqrt(le*le+1)-le),pe=Math.log(Math.sqrt(_e*_e+1)-_e);T=(pe-xe)/Ve,x=function(Le){var Ae,Re=Le*T,en=ln(xe),bn=nt/(2*ie)*(en*(Ae=Ve*Re+xe,((Ae=Math.exp(2*Ae))-1)/(Ae+1))-function(kn){return((kn=Math.exp(kn))-1/kn)/2}(xe));return[N+bn*Dt,z+bn*Zt,nt*en/ln(Ve*Re+xe)]}}return x.duration=1e3*T,x}function Xn(e){return function(o,x){var T=e((o=Oo(o)).h,(x=Oo(x)).h),N=Gi(o.s,x.s),z=Gi(o.l,x.l),nt=Gi(o.opacity,x.opacity);return function(tt){return o.h=T(tt),o.s=N(tt),o.l=z(tt),o.opacity=nt(tt),o+""}}}const Zn=Xn(Xa);var rr=Xn(Gi);function Or(e,o){var x=Gi((e=Sa(e)).l,(o=Sa(o)).l),T=Gi(e.a,o.a),N=Gi(e.b,o.b),z=Gi(e.opacity,o.opacity);return function(nt){return e.l=x(nt),e.a=T(nt),e.b=N(nt),e.opacity=z(nt),e+""}}function Yr(e){return function(o,x){var T=e((o=ms(o)).h,(x=ms(x)).h),N=Gi(o.c,x.c),z=Gi(o.l,x.l),nt=Gi(o.opacity,x.opacity);return function(tt){return o.h=T(tt),o.c=N(tt),o.l=z(tt),o.opacity=nt(tt),o+""}}}const li=Yr(Xa);var Pi=Yr(Gi);function ai(e){return function o(x){function T(N,z){var nt=e((N=Tc(N)).h,(z=Tc(z)).h),tt=Gi(N.s,z.s),ft=Gi(N.l,z.l),Et=Gi(N.opacity,z.opacity);return function(Dt){return N.h=nt(Dt),N.s=tt(Dt),N.l=ft(Math.pow(Dt,x)),N.opacity=Et(Dt),N+""}}return x=+x,T.gamma=o,T}(1)}const Ri=ai(Xa);var Bi=ai(Gi);function Js(e,o){for(var x=0,T=o.length-1,N=o[0],z=new Array(T<0?0:T);x<T;)z[x]=e(N,N=o[++x]);return function(nt){var tt=Math.max(0,Math.min(T-1,Math.floor(nt*=T)));return z[tt](nt-tt)}}function xs(e,o){for(var x=new Array(o),T=0;T<o;++T)x[T]=e(T/(o-1));return x}function dc(e){for(var o,x=-1,T=e.length,N=e[T-1],z=0;++x<T;)o=N,N=e[x],z+=o[1]*N[0]-o[0]*N[1];return z/2}function La(e){for(var o,x,T=-1,N=e.length,z=0,nt=0,tt=e[N-1],ft=0;++T<N;)o=tt,tt=e[T],ft+=x=o[0]*tt[1]-tt[0]*o[1],z+=(o[0]+tt[0])*x,nt+=(o[1]+tt[1])*x;return[z/(ft*=3),nt/ft]}function gu(e,o,x){return(o[0]-e[0])*(x[1]-e[1])-(o[1]-e[1])*(x[0]-e[0])}function mu(e,o){return e[0]-o[0]||e[1]-o[1]}function Rm(e){for(var o=e.length,x=[0,1],T=2,N=2;N<o;++N){for(;T>1&&gu(e[x[T-2]],e[x[T-1]],e[N])<=0;)--T;x[T++]=N}return x.slice(0,T)}function M4(e){if((x=e.length)<3)return null;var o,x,T=new Array(x),N=new Array(x);for(o=0;o<x;++o)T[o]=[+e[o][0],+e[o][1],o];for(T.sort(mu),o=0;o<x;++o)N[o]=[T[o][0],-T[o][1]];var z=Rm(T),nt=Rm(N),tt=nt[0]===z[0],ft=nt[nt.length-1]===z[z.length-1],Et=[];for(o=z.length-1;o>=0;--o)Et.push(e[T[z[o]][2]]);for(o=+tt;o<nt.length-ft;++o)Et.push(e[T[nt[o]][2]]);return Et}function qb(e,o){for(var x,T,N=e.length,z=e[N-1],nt=o[0],tt=o[1],ft=z[0],Et=z[1],Dt=!1,Zt=0;Zt<N;++Zt)x=(z=e[Zt])[0],(T=z[1])>tt!=Et>tt&&nt<(ft-x)*(tt-T)/(Et-T)+x&&(Dt=!Dt),ft=x,Et=T;return Dt}function L4(e){for(var o,x,T=-1,N=e.length,z=e[N-1],nt=z[0],tt=z[1],ft=0;++T<N;)o=nt,x=tt,o-=nt=(z=e[T])[0],x-=tt=z[1],ft+=Math.sqrt(o*o+x*x);return ft}function cp(){return Math.random()}const B4=function e(o){function x(T,N){return T=T==null?0:+T,N=N==null?1:+N,arguments.length===1?(N=T,T=0):N-=T,function(){return o()*N+T}}return x.source=e,x}(cp),Cv=function e(o){function x(T,N){var z,nt;return T=T==null?0:+T,N=N==null?1:+N,function(){var tt;if(z!=null)tt=z,z=null;else do z=2*o()-1,tt=2*o()-1,nt=z*z+tt*tt;while(!nt||nt>1);return T+N*tt*Math.sqrt(-2*Math.log(nt)/nt)}}return x.source=e,x}(cp),j4=function e(o){function x(){var T=Cv.source(o).apply(this,arguments);return function(){return Math.exp(T())}}return x.source=e,x}(cp),Sv=function e(o){function x(T){return function(){for(var N=0,z=0;z<T;++z)N+=o();return N}}return x.source=e,x}(cp),I4=function e(o){function x(T){var N=Sv.source(o)(T);return function(){return N()/T}}return x.source=e,x}(cp),N4=function e(o){function x(T){return function(){return-Math.log(1-o())/T}}return x.source=e,x}(cp);function Sh(e,o){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(o).domain(e)}return this}function Qd(e,o){switch(arguments.length){case 0:break;case 1:this.interpolator(e);break;default:this.interpolator(o).domain(e)}return this}var cw=Array.prototype,Ev=cw.map,tf=cw.slice,Yb={name:"implicit"};function Vb(){var e=fa(),o=[],x=[],T=Yb;function N(z){var nt=z+"",tt=e.get(nt);if(!tt){if(T!==Yb)return T;e.set(nt,tt=o.push(z))}return x[(tt-1)%x.length]}return N.domain=function(z){if(!arguments.length)return o.slice();o=[],e=fa();for(var nt,tt,ft=-1,Et=z.length;++ft<Et;)e.has(tt=(nt=z[ft])+"")||e.set(tt,o.push(nt));return N},N.range=function(z){return arguments.length?(x=tf.call(z),N):x.slice()},N.unknown=function(z){return arguments.length?(T=z,N):T},N.copy=function(){return Vb(o,x).unknown(T)},Sh.apply(N,arguments),N}function Wb(){var e,o,x=Vb().unknown(void 0),T=x.domain,N=x.range,z=[0,1],nt=!1,tt=0,ft=0,Et=.5;function Dt(){var Zt=T().length,Rt=z[1]<z[0],ie=z[Rt-0],le=z[1-Rt];e=(le-ie)/Math.max(1,Zt-tt+2*ft),nt&&(e=Math.floor(e)),ie+=(le-ie-e*(Zt-tt))*Et,o=e*(1-tt),nt&&(ie=Math.round(ie),o=Math.round(o));var _e=V(Zt).map(function(xe){return ie+e*xe});return N(Rt?_e.reverse():_e)}return delete x.unknown,x.domain=function(Zt){return arguments.length?(T(Zt),Dt()):T()},x.range=function(Zt){return arguments.length?(z=[+Zt[0],+Zt[1]],Dt()):z.slice()},x.rangeRound=function(Zt){return z=[+Zt[0],+Zt[1]],nt=!0,Dt()},x.bandwidth=function(){return o},x.step=function(){return e},x.round=function(Zt){return arguments.length?(nt=!!Zt,Dt()):nt},x.padding=function(Zt){return arguments.length?(tt=Math.min(1,ft=+Zt),Dt()):tt},x.paddingInner=function(Zt){return arguments.length?(tt=Math.min(1,Zt),Dt()):tt},x.paddingOuter=function(Zt){return arguments.length?(ft=+Zt,Dt()):ft},x.align=function(Zt){return arguments.length?(Et=Math.max(0,Math.min(1,Zt)),Dt()):Et},x.copy=function(){return Wb(T(),z).round(nt).paddingInner(tt).paddingOuter(ft).align(Et)},Sh.apply(Dt(),arguments)}function Gb(e){var o=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Gb(o())},e}function C0(){return Gb(Wb.apply(null,arguments).paddingInner(1))}function sg(e){return+e}var Xb=[0,1];function Ja(e){return e}function lp(e,o){return(o-=e=+e)?function(T){return(T-e)/o}:(x=isNaN(o)?NaN:.5,function(){return x});var x}function Zb(e){var o,x=e[0],T=e[e.length-1];return x>T&&(o=x,x=T,T=o),function(N){return Math.max(x,Math.min(T,N))}}function Kb(e,o,x){var T=e[0],N=e[1],z=o[0],nt=o[1];return N<T?(T=lp(N,T),z=x(nt,z)):(T=lp(T,N),z=x(z,nt)),function(tt){return z(T(tt))}}function P4(e,o,x){var T=Math.min(e.length,o.length)-1,N=new Array(T),z=new Array(T),nt=-1;for(e[T]<e[0]&&(e=e.slice().reverse(),o=o.slice().reverse());++nt<T;)N[nt]=lp(e[nt],e[nt+1]),z[nt]=x(o[nt],o[nt+1]);return function(tt){var ft=C(e,tt,1,T)-1;return z[ft](N[ft](tt))}}function cg(e,o){return o.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Tv(){var e,o,x,T,N,z,nt=Xb,tt=Xb,ft=Ol,Et=Ja;function Dt(){return T=Math.min(nt.length,tt.length)>2?P4:Kb,N=z=null,Zt}function Zt(Rt){return isNaN(Rt=+Rt)?x:(N||(N=T(nt.map(e),tt,ft)))(e(Et(Rt)))}return Zt.invert=function(Rt){return Et(o((z||(z=T(tt,nt.map(e),ka)))(Rt)))},Zt.domain=function(Rt){return arguments.length?(nt=Ev.call(Rt,sg),Et===Ja||(Et=Zb(nt)),Dt()):nt.slice()},Zt.range=function(Rt){return arguments.length?(tt=tf.call(Rt),Dt()):tt.slice()},Zt.rangeRound=function(Rt){return tt=tf.call(Rt),ft=je,Dt()},Zt.clamp=function(Rt){return arguments.length?(Et=Rt?Zb(nt):Ja,Zt):Et!==Ja},Zt.interpolate=function(Rt){return arguments.length?(ft=Rt,Dt()):ft},Zt.unknown=function(Rt){return arguments.length?(x=Rt,Zt):x},function(Rt,ie){return e=Rt,o=ie,Dt()}}function Dm(e,o){return Tv()(e,o)}function Jb(e,o,x,T){var N,z=lt(e,o,x);switch((T=Pp(T==null?",f":T)).type){case"s":var nt=Math.max(Math.abs(e),Math.abs(o));return T.precision!=null||isNaN(N=tm(z,nt))||(T.precision=N),Bf(T,nt);case"":case"e":case"g":case"p":case"r":T.precision!=null||isNaN(N=em(z,Math.max(Math.abs(e),Math.abs(o))))||(T.precision=N-(T.type==="e"));break;case"f":case"%":T.precision!=null||isNaN(N=jf(z))||(T.precision=N-2*(T.type==="%"))}return ga(T)}function ef(e){var o=e.domain;return e.ticks=function(x){var T=o();return pt(T[0],T[T.length-1],x==null?10:x)},e.tickFormat=function(x,T){var N=o();return Jb(N[0],N[N.length-1],x==null?10:x,T)},e.nice=function(x){x==null&&(x=10);var T,N=o(),z=0,nt=N.length-1,tt=N[z],ft=N[nt];return ft<tt&&(T=tt,tt=ft,ft=T,T=z,z=nt,nt=T),(T=ct(tt,ft,x))>0?T=ct(tt=Math.floor(tt/T)*T,ft=Math.ceil(ft/T)*T,x):T<0&&(T=ct(tt=Math.ceil(tt*T)/T,ft=Math.floor(ft*T)/T,x)),T>0?(N[z]=Math.floor(tt/T)*T,N[nt]=Math.ceil(ft/T)*T,o(N)):T<0&&(N[z]=Math.ceil(tt*T)/T,N[nt]=Math.floor(ft*T)/T,o(N)),e},e}function lw(){var e=Dm(Ja,Ja);return e.copy=function(){return cg(e,lw())},Sh.apply(e,arguments),ef(e)}function lg(e){var o;function x(T){return isNaN(T=+T)?o:T}return x.invert=x,x.domain=x.range=function(T){return arguments.length?(e=Ev.call(T,sg),x):e.slice()},x.unknown=function(T){return arguments.length?(o=T,x):o},x.copy=function(){return lg(e).unknown(o)},e=arguments.length?Ev.call(e,sg):[0,1],ef(x)}function Qb(e,o){var x,T=0,N=(e=e.slice()).length-1,z=e[T],nt=e[N];return nt<z&&(x=T,T=N,N=x,x=z,z=nt,nt=x),e[T]=o.floor(z),e[N]=o.ceil(nt),e}function t2(e){return Math.log(e)}function e2(e){return Math.exp(e)}function uw(e){return-Math.log(-e)}function Av(e){return-Math.exp(-e)}function hw(e){return isFinite(e)?+("1e"+e):e<0?0:e}function dw(e){return function(o){return-e(-o)}}function n2(e){var o,x,T=e(t2,e2),N=T.domain,z=10;function nt(){return o=function(tt){return tt===Math.E?Math.log:tt===10&&Math.log10||tt===2&&Math.log2||(tt=Math.log(tt),function(ft){return Math.log(ft)/tt})}(z),x=function(tt){return tt===10?hw:tt===Math.E?Math.exp:function(ft){return Math.pow(tt,ft)}}(z),N()[0]<0?(o=dw(o),x=dw(x),e(uw,Av)):e(t2,e2),T}return T.base=function(tt){return arguments.length?(z=+tt,nt()):z},T.domain=function(tt){return arguments.length?(N(tt),nt()):N()},T.ticks=function(tt){var ft,Et=N(),Dt=Et[0],Zt=Et[Et.length-1];(ft=Zt<Dt)&&(_e=Dt,Dt=Zt,Zt=_e);var Rt,ie,le,_e=o(Dt),xe=o(Zt),pe=tt==null?10:+tt,Le=[];if(!(z%1)&&xe-_e<pe){if(_e=Math.round(_e)-1,xe=Math.round(xe)+1,Dt>0){for(;_e<xe;++_e)for(ie=1,Rt=x(_e);ie<z;++ie)if(!((le=Rt*ie)<Dt)){if(le>Zt)break;Le.push(le)}}else for(;_e<xe;++_e)for(ie=z-1,Rt=x(_e);ie>=1;--ie)if(!((le=Rt*ie)<Dt)){if(le>Zt)break;Le.push(le)}}else Le=pt(_e,xe,Math.min(xe-_e,pe)).map(x);return ft?Le.reverse():Le},T.tickFormat=function(tt,ft){if(ft==null&&(ft=z===10?".0e":","),typeof ft!="function"&&(ft=ga(ft)),tt===1/0)return ft;tt==null&&(tt=10);var Et=Math.max(1,z*tt/T.ticks().length);return function(Dt){var Zt=Dt/x(Math.round(o(Dt)));return Zt*z<z-.5&&(Zt*=z),Zt<=Et?ft(Dt):""}},T.nice=function(){return N(Qb(N(),{floor:function(tt){return x(Math.floor(o(tt)))},ceil:function(tt){return x(Math.ceil(o(tt)))}}))},T}function fw(){var e=n2(Tv()).domain([1,10]);return e.copy=function(){return cg(e,fw()).base(e.base())},Sh.apply(e,arguments),e}function r2(e){return function(o){return Math.sign(o)*Math.log1p(Math.abs(o/e))}}function Ov(e){return function(o){return Math.sign(o)*Math.expm1(Math.abs(o))*e}}function Mv(e){var o=1,x=e(r2(o),Ov(o));return x.constant=function(T){return arguments.length?e(r2(o=+T),Ov(o)):o},ef(x)}function i2(){var e=Mv(Tv());return e.copy=function(){return cg(e,i2()).constant(e.constant())},Sh.apply(e,arguments)}function ug(e){return function(o){return o<0?-Math.pow(-o,e):Math.pow(o,e)}}function R4(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function D4(e){return e<0?-e*e:e*e}function Lv(e){var o=e(Ja,Ja),x=1;function T(){return x===1?e(Ja,Ja):x===.5?e(R4,D4):e(ug(x),ug(1/x))}return o.exponent=function(N){return arguments.length?(x=+N,T()):x},ef(o)}function Fm(){var e=Lv(Tv());return e.copy=function(){return cg(e,Fm()).exponent(e.exponent())},Sh.apply(e,arguments),e}function F4(){return Fm.apply(null,arguments).exponent(.5)}function pw(){var e,o=[],x=[],T=[];function N(){var nt=0,tt=Math.max(1,x.length);for(T=new Array(tt-1);++nt<tt;)T[nt-1]=Tt(o,nt/tt);return z}function z(nt){return isNaN(nt=+nt)?e:x[C(T,nt)]}return z.invertExtent=function(nt){var tt=x.indexOf(nt);return tt<0?[NaN,NaN]:[tt>0?T[tt-1]:o[0],tt<T.length?T[tt]:o[o.length-1]]},z.domain=function(nt){if(!arguments.length)return o.slice();o=[];for(var tt,ft=0,Et=nt.length;ft<Et;++ft)(tt=nt[ft])==null||isNaN(tt=+tt)||o.push(tt);return o.sort(m),N()},z.range=function(nt){return arguments.length?(x=tf.call(nt),N()):x.slice()},z.unknown=function(nt){return arguments.length?(e=nt,z):e},z.quantiles=function(){return T.slice()},z.copy=function(){return pw().domain(o).range(x).unknown(e)},Sh.apply(z,arguments)}function gw(){var e,o=0,x=1,T=1,N=[.5],z=[0,1];function nt(ft){return ft<=ft?z[C(N,ft,0,T)]:e}function tt(){var ft=-1;for(N=new Array(T);++ft<T;)N[ft]=((ft+1)*x-(ft-T)*o)/(T+1);return nt}return nt.domain=function(ft){return arguments.length?(o=+ft[0],x=+ft[1],tt()):[o,x]},nt.range=function(ft){return arguments.length?(T=(z=tf.call(ft)).length-1,tt()):z.slice()},nt.invertExtent=function(ft){var Et=z.indexOf(ft);return Et<0?[NaN,NaN]:Et<1?[o,N[0]]:Et>=T?[N[T-1],x]:[N[Et-1],N[Et]]},nt.unknown=function(ft){return arguments.length&&(e=ft),nt},nt.thresholds=function(){return N.slice()},nt.copy=function(){return gw().domain([o,x]).range(z).unknown(e)},Sh.apply(ef(nt),arguments)}function o2(){var e,o=[.5],x=[0,1],T=1;function N(z){return z<=z?x[C(o,z,0,T)]:e}return N.domain=function(z){return arguments.length?(o=tf.call(z),T=Math.min(o.length,x.length-1),N):o.slice()},N.range=function(z){return arguments.length?(x=tf.call(z),T=Math.min(o.length,x.length-1),N):x.slice()},N.invertExtent=function(z){var nt=x.indexOf(z);return[o[nt-1],o[nt]]},N.unknown=function(z){return arguments.length?(e=z,N):e},N.copy=function(){return o2().domain(o).range(x).unknown(e)},Sh.apply(N,arguments)}var zm=new Date,a2=new Date;function ws(e,o,x,T){function N(z){return e(z=arguments.length===0?new Date:new Date(+z)),z}return N.floor=function(z){return e(z=new Date(+z)),z},N.ceil=function(z){return e(z=new Date(z-1)),o(z,1),e(z),z},N.round=function(z){var nt=N(z),tt=N.ceil(z);return z-nt<tt-z?nt:tt},N.offset=function(z,nt){return o(z=new Date(+z),nt==null?1:Math.floor(nt)),z},N.range=function(z,nt,tt){var ft,Et=[];if(z=N.ceil(z),tt=tt==null?1:Math.floor(tt),!(z<nt&&tt>0))return Et;do Et.push(ft=new Date(+z)),o(z,tt),e(z);while(ft<z&&z<nt);return Et},N.filter=function(z){return ws(function(nt){if(nt>=nt)for(;e(nt),!z(nt);)nt.setTime(nt-1)},function(nt,tt){if(nt>=nt)if(tt<0)for(;++tt<=0;)for(;o(nt,-1),!z(nt););else for(;--tt>=0;)for(;o(nt,1),!z(nt););})},x&&(N.count=function(z,nt){return zm.setTime(+z),a2.setTime(+nt),e(zm),e(a2),Math.floor(x(zm,a2))},N.every=function(z){return z=Math.floor(z),isFinite(z)&&z>0?z>1?N.filter(T?function(nt){return T(nt)%z==0}:function(nt){return N.count(0,nt)%z==0}):N:null}),N}var Um=ws(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,o){e.setFullYear(e.getFullYear()+o)},function(e,o){return o.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});Um.every=function(e){return isFinite(e=Math.floor(e))&&e>0?ws(function(o){o.setFullYear(Math.floor(o.getFullYear()/e)*e),o.setMonth(0,1),o.setHours(0,0,0,0)},function(o,x){o.setFullYear(o.getFullYear()+x*e)}):null};const S0=Um;var z4=Um.range,Hm=ws(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,o){e.setMonth(e.getMonth()+o)},function(e,o){return o.getMonth()-e.getMonth()+12*(o.getFullYear()-e.getFullYear())},function(e){return e.getMonth()});const mw=Hm;var Bv=Hm.range,$m=1e3,up=6e4,qm=36e5,yw=864e5,vw=6048e5;function E0(e){return ws(function(o){o.setDate(o.getDate()-(o.getDay()+7-e)%7),o.setHours(0,0,0,0)},function(o,x){o.setDate(o.getDate()+7*x)},function(o,x){return(x-o-(x.getTimezoneOffset()-o.getTimezoneOffset())*up)/vw})}var Ym=E0(0),Vm=E0(1),bw=E0(2),Wm=E0(3),hp=E0(4),s2=E0(5),c2=E0(6),xw=Ym.range,U4=Vm.range,H4=bw.range,ww=Wm.range,$4=hp.range,q4=s2.range,_w=c2.range,kw=ws(function(e){e.setHours(0,0,0,0)},function(e,o){e.setDate(e.getDate()+o)},function(e,o){return(o-e-(o.getTimezoneOffset()-e.getTimezoneOffset())*up)/yw},function(e){return e.getDate()-1});const T0=kw;var Cw=kw.range,Sw=ws(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*$m-e.getMinutes()*up)},function(e,o){e.setTime(+e+o*qm)},function(e,o){return(o-e)/qm},function(e){return e.getHours()});const Ew=Sw;var Y4=Sw.range,Tw=ws(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*$m)},function(e,o){e.setTime(+e+o*up)},function(e,o){return(o-e)/up},function(e){return e.getMinutes()});const Aw=Tw;var Ow=Tw.range,Mw=ws(function(e){e.setTime(e-e.getMilliseconds())},function(e,o){e.setTime(+e+o*$m)},function(e,o){return(o-e)/$m},function(e){return e.getUTCSeconds()});const jv=Mw;var Lw=Mw.range,Ds=ws(function(){},function(e,o){e.setTime(+e+o)},function(e,o){return o-e});Ds.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?ws(function(o){o.setTime(Math.floor(o/e)*e)},function(o,x){o.setTime(+o+x*e)},function(o,x){return(x-o)/e}):Ds:null};const Iv=Ds;var Bw=Ds.range;function nf(e){return ws(function(o){o.setUTCDate(o.getUTCDate()-(o.getUTCDay()+7-e)%7),o.setUTCHours(0,0,0,0)},function(o,x){o.setUTCDate(o.getUTCDate()+7*x)},function(o,x){return(x-o)/vw})}var Gm=nf(0),hg=nf(1),jw=nf(2),Iw=nf(3),A0=nf(4),Nw=nf(5),l2=nf(6),Nv=Gm.range,Pw=hg.range,Rw=jw.range,V4=Iw.range,W4=A0.range,G4=Nw.range,X4=l2.range,u2=ws(function(e){e.setUTCHours(0,0,0,0)},function(e,o){e.setUTCDate(e.getUTCDate()+o)},function(e,o){return(o-e)/yw},function(e){return e.getUTCDate()-1});const Pv=u2;var Wu=u2.range,Eh=ws(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,o){e.setUTCFullYear(e.getUTCFullYear()+o)},function(e,o){return o.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});Eh.every=function(e){return isFinite(e=Math.floor(e))&&e>0?ws(function(o){o.setUTCFullYear(Math.floor(o.getUTCFullYear()/e)*e),o.setUTCMonth(0,1),o.setUTCHours(0,0,0,0)},function(o,x){o.setUTCFullYear(o.getUTCFullYear()+x*e)}):null};const rf=Eh;var h2=Eh.range;function Xm(e){if(0<=e.y&&e.y<100){var o=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return o.setFullYear(e.y),o}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Rv(e){if(0<=e.y&&e.y<100){var o=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return o.setUTCFullYear(e.y),o}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Zm(e,o,x){return{y:e,m:o,d:x,H:0,M:0,S:0,L:0}}function Km(e){var o=e.dateTime,x=e.date,T=e.time,N=e.periods,z=e.days,nt=e.shortDays,tt=e.months,ft=e.shortMonths,Et=fg(N),Dt=pg(N),Zt=fg(z),Rt=pg(z),ie=fg(nt),le=pg(nt),_e=fg(tt),xe=pg(tt),pe=fg(ft),Le=pg(ft),Ae={a:function(un){return nt[un.getDay()]},A:function(un){return z[un.getDay()]},b:function(un){return ft[un.getMonth()]},B:function(un){return tt[un.getMonth()]},c:null,d:v2,e:v2,f:dp,g:Kw,G:Jw,H:Ww,I:Gw,j:Xw,L:gg,m:Jm,M:b2,p:function(un){return N[+(un.getHours()>=12)]},q:function(un){return 1+~~(un.getMonth()/3)},Q:c_,s:l_,S:x2,u:w2,U:_2,V:Qs,w:$v,W:k2,x:null,X:null,y:Zw,Y:fp,Z:Qw,"%":s_},Re={a:function(un){return nt[un.getUTCDay()]},A:function(un){return z[un.getUTCDay()]},b:function(un){return ft[un.getUTCMonth()]},B:function(un){return tt[un.getUTCMonth()]},c:null,d:qv,e:qv,f:n_,g:a_,G:a5,H:r5,I:t_,j:C2,L:e_,m:Qm,M:i5,p:function(un){return N[+(un.getUTCHours()>=12)]},q:function(un){return 1+~~(un.getUTCMonth()/3)},Q:c_,s:l_,S:M0,u:mg,U:ty,V:r_,w:L0,W:i_,x:null,X:null,y:o_,Y:o5,Z:s5,"%":s_},en={a:function(un,jn,Ie){var qe=ie.exec(jn.slice(Ie));return qe?(un.w=le[qe[0].toLowerCase()],Ie+qe[0].length):-1},A:function(un,jn,Ie){var qe=Zt.exec(jn.slice(Ie));return qe?(un.w=Rt[qe[0].toLowerCase()],Ie+qe[0].length):-1},b:function(un,jn,Ie){var qe=pe.exec(jn.slice(Ie));return qe?(un.m=Le[qe[0].toLowerCase()],Ie+qe[0].length):-1},B:function(un,jn,Ie){var qe=_e.exec(jn.slice(Ie));return qe?(un.m=xe[qe[0].toLowerCase()],Ie+qe[0].length):-1},c:function(un,jn,Ie){return Wn(un,o,jn,Ie)},d:Uv,e:Uv,f:y2,g:zv,G:p2,H:g2,I:g2,j:Yw,L:m2,m:qw,M:Q4,p:function(un,jn,Ie){var qe=Et.exec(jn.slice(Ie));return qe?(un.p=Dt[qe[0].toLowerCase()],Ie+qe[0].length):-1},q:$w,Q:Vw,s:n5,S:t5,u:Uw,U:Z4,V:K4,w:zw,W:J4,x:function(un,jn,Ie){return Wn(un,x,jn,Ie)},X:function(un,jn,Ie){return Wn(un,T,jn,Ie)},y:zv,Y:p2,Z:Hw,"%":e5};function bn(un,jn){return function(Ie){var qe,Tn,wn,An=[],pr=-1,Er=0,Qr=un.length;for(Ie instanceof Date||(Ie=new Date(+Ie));++pr<Qr;)un.charCodeAt(pr)===37&&(An.push(un.slice(Er,pr)),(Tn=dg[qe=un.charAt(++pr)])!=null?qe=un.charAt(++pr):Tn=qe==="e"?" ":"0",(wn=jn[qe])&&(qe=wn(Ie,Tn)),An.push(qe),Er=pr+1);return An.push(un.slice(Er,pr)),An.join("")}}function kn(un,jn){return function(Ie){var qe,Tn,wn=Zm(1900,void 0,1);if(Wn(wn,un,Ie+="",0)!=Ie.length)return null;if("Q"in wn)return new Date(wn.Q);if("s"in wn)return new Date(1e3*wn.s+("L"in wn?wn.L:0));if(jn&&!("Z"in wn)&&(wn.Z=0),"p"in wn&&(wn.H=wn.H%12+12*wn.p),wn.m===void 0&&(wn.m="q"in wn?wn.q:0),"V"in wn){if(wn.V<1||wn.V>53)return null;"w"in wn||(wn.w=1),"Z"in wn?(Tn=(qe=Rv(Zm(wn.y,0,1))).getUTCDay(),qe=Tn>4||Tn===0?hg.ceil(qe):hg(qe),qe=Pv.offset(qe,7*(wn.V-1)),wn.y=qe.getUTCFullYear(),wn.m=qe.getUTCMonth(),wn.d=qe.getUTCDate()+(wn.w+6)%7):(Tn=(qe=Xm(Zm(wn.y,0,1))).getDay(),qe=Tn>4||Tn===0?Vm.ceil(qe):Vm(qe),qe=T0.offset(qe,7*(wn.V-1)),wn.y=qe.getFullYear(),wn.m=qe.getMonth(),wn.d=qe.getDate()+(wn.w+6)%7)}else("W"in wn||"U"in wn)&&("w"in wn||(wn.w="u"in wn?wn.u%7:"W"in wn?1:0),Tn="Z"in wn?Rv(Zm(wn.y,0,1)).getUTCDay():Xm(Zm(wn.y,0,1)).getDay(),wn.m=0,wn.d="W"in wn?(wn.w+6)%7+7*wn.W-(Tn+5)%7:wn.w+7*wn.U-(Tn+6)%7);return"Z"in wn?(wn.H+=wn.Z/100|0,wn.M+=wn.Z%100,Rv(wn)):Xm(wn)}}function Wn(un,jn,Ie,qe){for(var Tn,wn,An=0,pr=jn.length,Er=Ie.length;An<pr;){if(qe>=Er)return-1;if((Tn=jn.charCodeAt(An++))===37){if(Tn=jn.charAt(An++),!(wn=en[Tn in dg?jn.charAt(An++):Tn])||(qe=wn(un,Ie,qe))<0)return-1}else if(Tn!=Ie.charCodeAt(qe++))return-1}return qe}return Ae.x=bn(x,Ae),Ae.X=bn(T,Ae),Ae.c=bn(o,Ae),Re.x=bn(x,Re),Re.X=bn(T,Re),Re.c=bn(o,Re),{format:function(un){var jn=bn(un+="",Ae);return jn.toString=function(){return un},jn},parse:function(un){var jn=kn(un+="",!1);return jn.toString=function(){return un},jn},utcFormat:function(un){var jn=bn(un+="",Re);return jn.toString=function(){return un},jn},utcParse:function(un){var jn=kn(un+="",!0);return jn.toString=function(){return un},jn}}}var O0,Dc,Dv,Fv,d2,dg={"-":"",_:" ",0:"0"},_s=/^\s*\d+/,f2=/^%/,Dw=/[\\^$*+?|[\]().{}]/g;function Qi(e,o,x){var T=e<0?"-":"",N=(T?-e:e)+"",z=N.length;return T+(z<x?new Array(x-z+1).join(o)+N:N)}function Fw(e){return e.replace(Dw,"\\$&")}function fg(e){return new RegExp("^(?:"+e.map(Fw).join("|")+")","i")}function pg(e){for(var o={},x=-1,T=e.length;++x<T;)o[e[x].toLowerCase()]=x;return o}function zw(e,o,x){var T=_s.exec(o.slice(x,x+1));return T?(e.w=+T[0],x+T[0].length):-1}function Uw(e,o,x){var T=_s.exec(o.slice(x,x+1));return T?(e.u=+T[0],x+T[0].length):-1}function Z4(e,o,x){var T=_s.exec(o.slice(x,x+2));return T?(e.U=+T[0],x+T[0].length):-1}function K4(e,o,x){var T=_s.exec(o.slice(x,x+2));return T?(e.V=+T[0],x+T[0].length):-1}function J4(e,o,x){var T=_s.exec(o.slice(x,x+2));return T?(e.W=+T[0],x+T[0].length):-1}function p2(e,o,x){var T=_s.exec(o.slice(x,x+4));return T?(e.y=+T[0],x+T[0].length):-1}function zv(e,o,x){var T=_s.exec(o.slice(x,x+2));return T?(e.y=+T[0]+(+T[0]>68?1900:2e3),x+T[0].length):-1}function Hw(e,o,x){var T=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(o.slice(x,x+6));return T?(e.Z=T[1]?0:-(T[2]+(T[3]||"00")),x+T[0].length):-1}function $w(e,o,x){var T=_s.exec(o.slice(x,x+1));return T?(e.q=3*T[0]-3,x+T[0].length):-1}function qw(e,o,x){var T=_s.exec(o.slice(x,x+2));return T?(e.m=T[0]-1,x+T[0].length):-1}function Uv(e,o,x){var T=_s.exec(o.slice(x,x+2));return T?(e.d=+T[0],x+T[0].length):-1}function Yw(e,o,x){var T=_s.exec(o.slice(x,x+3));return T?(e.m=0,e.d=+T[0],x+T[0].length):-1}function g2(e,o,x){var T=_s.exec(o.slice(x,x+2));return T?(e.H=+T[0],x+T[0].length):-1}function Q4(e,o,x){var T=_s.exec(o.slice(x,x+2));return T?(e.M=+T[0],x+T[0].length):-1}function t5(e,o,x){var T=_s.exec(o.slice(x,x+2));return T?(e.S=+T[0],x+T[0].length):-1}function m2(e,o,x){var T=_s.exec(o.slice(x,x+3));return T?(e.L=+T[0],x+T[0].length):-1}function y2(e,o,x){var T=_s.exec(o.slice(x,x+6));return T?(e.L=Math.floor(T[0]/1e3),x+T[0].length):-1}function e5(e,o,x){var T=f2.exec(o.slice(x,x+1));return T?x+T[0].length:-1}function Vw(e,o,x){var T=_s.exec(o.slice(x));return T?(e.Q=+T[0],x+T[0].length):-1}function n5(e,o,x){var T=_s.exec(o.slice(x));return T?(e.s=+T[0],x+T[0].length):-1}function v2(e,o){return Qi(e.getDate(),o,2)}function Ww(e,o){return Qi(e.getHours(),o,2)}function Gw(e,o){return Qi(e.getHours()%12||12,o,2)}function Xw(e,o){return Qi(1+T0.count(S0(e),e),o,3)}function gg(e,o){return Qi(e.getMilliseconds(),o,3)}function dp(e,o){return gg(e,o)+"000"}function Jm(e,o){return Qi(e.getMonth()+1,o,2)}function b2(e,o){return Qi(e.getMinutes(),o,2)}function x2(e,o){return Qi(e.getSeconds(),o,2)}function w2(e){var o=e.getDay();return o===0?7:o}function _2(e,o){return Qi(Ym.count(S0(e)-1,e),o,2)}function Hv(e){var o=e.getDay();return o>=4||o===0?hp(e):hp.ceil(e)}function Qs(e,o){return e=Hv(e),Qi(hp.count(S0(e),e)+(S0(e).getDay()===4),o,2)}function $v(e){return e.getDay()}function k2(e,o){return Qi(Vm.count(S0(e)-1,e),o,2)}function Zw(e,o){return Qi(e.getFullYear()%100,o,2)}function Kw(e,o){return Qi((e=Hv(e)).getFullYear()%100,o,2)}function fp(e,o){return Qi(e.getFullYear()%1e4,o,4)}function Jw(e,o){var x=e.getDay();return Qi((e=x>=4||x===0?hp(e):hp.ceil(e)).getFullYear()%1e4,o,4)}function Qw(e){var o=e.getTimezoneOffset();return(o>0?"-":(o*=-1,"+"))+Qi(o/60|0,"0",2)+Qi(o%60,"0",2)}function qv(e,o){return Qi(e.getUTCDate(),o,2)}function r5(e,o){return Qi(e.getUTCHours(),o,2)}function t_(e,o){return Qi(e.getUTCHours()%12||12,o,2)}function C2(e,o){return Qi(1+Pv.count(rf(e),e),o,3)}function e_(e,o){return Qi(e.getUTCMilliseconds(),o,3)}function n_(e,o){return e_(e,o)+"000"}function Qm(e,o){return Qi(e.getUTCMonth()+1,o,2)}function i5(e,o){return Qi(e.getUTCMinutes(),o,2)}function M0(e,o){return Qi(e.getUTCSeconds(),o,2)}function mg(e){var o=e.getUTCDay();return o===0?7:o}function ty(e,o){return Qi(Gm.count(rf(e)-1,e),o,2)}function S2(e){var o=e.getUTCDay();return o>=4||o===0?A0(e):A0.ceil(e)}function r_(e,o){return e=S2(e),Qi(A0.count(rf(e),e)+(rf(e).getUTCDay()===4),o,2)}function L0(e){return e.getUTCDay()}function i_(e,o){return Qi(hg.count(rf(e)-1,e),o,2)}function o_(e,o){return Qi(e.getUTCFullYear()%100,o,2)}function a_(e,o){return Qi((e=S2(e)).getUTCFullYear()%100,o,2)}function o5(e,o){return Qi(e.getUTCFullYear()%1e4,o,4)}function a5(e,o){var x=e.getUTCDay();return Qi((e=x>=4||x===0?A0(e):A0.ceil(e)).getUTCFullYear()%1e4,o,4)}function s5(){return"+0000"}function s_(){return"%"}function c_(e){return+e}function l_(e){return Math.floor(+e/1e3)}function E2(e){return O0=Km(e),Dc=O0.format,Dv=O0.parse,Fv=O0.utcFormat,d2=O0.utcParse,O0}E2({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var ey=31536e6;function c5(e){return new Date(e)}function T2(e){return e instanceof Date?+e:+new Date(+e)}function ld(e,o,x,T,N,z,nt,tt,ft){var Et=Dm(Ja,Ja),Dt=Et.invert,Zt=Et.domain,Rt=ft(".%L"),ie=ft(":%S"),le=ft("%I:%M"),_e=ft("%I %p"),xe=ft("%a %d"),pe=ft("%b %d"),Le=ft("%B"),Ae=ft("%Y"),Re=[[nt,1,1e3],[nt,5,5e3],[nt,15,15e3],[nt,30,3e4],[z,1,6e4],[z,5,3e5],[z,15,9e5],[z,30,18e5],[N,1,36e5],[N,3,108e5],[N,6,216e5],[N,12,432e5],[T,1,864e5],[T,2,1728e5],[x,1,6048e5],[o,1,2592e6],[o,3,7776e6],[e,1,ey]];function en(kn){return(nt(kn)<kn?Rt:z(kn)<kn?ie:N(kn)<kn?le:T(kn)<kn?_e:o(kn)<kn?x(kn)<kn?xe:pe:e(kn)<kn?Le:Ae)(kn)}function bn(kn,Wn,un,jn){if(kn==null&&(kn=10),typeof kn=="number"){var Ie=Math.abs(un-Wn)/kn,qe=g(function(Tn){return Tn[2]}).right(Re,Ie);qe===Re.length?(jn=lt(Wn/ey,un/ey,kn),kn=e):qe?(jn=(qe=Re[Ie/Re[qe-1][2]<Re[qe][2]/Ie?qe-1:qe])[1],kn=qe[0]):(jn=Math.max(lt(Wn,un,kn),1),kn=tt)}return jn==null?kn:kn.every(jn)}return Et.invert=function(kn){return new Date(Dt(kn))},Et.domain=function(kn){return arguments.length?Zt(Ev.call(kn,T2)):Zt().map(c5)},Et.ticks=function(kn,Wn){var un,jn=Zt(),Ie=jn[0],qe=jn[jn.length-1],Tn=qe<Ie;return Tn&&(un=Ie,Ie=qe,qe=un),un=(un=bn(kn,Ie,qe,Wn))?un.range(Ie,qe+1):[],Tn?un.reverse():un},Et.tickFormat=function(kn,Wn){return Wn==null?en:ft(Wn)},Et.nice=function(kn,Wn){var un=Zt();return(kn=bn(kn,un[0],un[un.length-1],Wn))?Zt(Qb(un,kn)):Et},Et.copy=function(){return cg(Et,ld(e,o,x,T,N,z,nt,tt,ft))},Et}function l5(){return Sh.apply(ld(S0,mw,Ym,T0,Ew,Aw,jv,Iv,Dc).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var A2=ws(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,o){e.setUTCMonth(e.getUTCMonth()+o)},function(e,o){return o.getUTCMonth()-e.getUTCMonth()+12*(o.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()});const Yv=A2;var u5=A2.range,O2=ws(function(e){e.setUTCMinutes(0,0,0)},function(e,o){e.setTime(+e+o*qm)},function(e,o){return(o-e)/qm},function(e){return e.getUTCHours()});const Vv=O2;var h5=O2.range,M2=ws(function(e){e.setUTCSeconds(0,0)},function(e,o){e.setTime(+e+o*up)},function(e,o){return(o-e)/up},function(e){return e.getUTCMinutes()});const yg=M2;var d5=M2.range;function B0(){return Sh.apply(ld(rf,Yv,Gm,Pv,Vv,yg,jv,Iv,Fv).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function of(){var e,o,x,T,N,z=0,nt=1,tt=Ja,ft=!1;function Et(Dt){return isNaN(Dt=+Dt)?N:tt(x===0?.5:(Dt=(T(Dt)-e)*x,ft?Math.max(0,Math.min(1,Dt)):Dt))}return Et.domain=function(Dt){return arguments.length?(e=T(z=+Dt[0]),o=T(nt=+Dt[1]),x=e===o?0:1/(o-e),Et):[z,nt]},Et.clamp=function(Dt){return arguments.length?(ft=!!Dt,Et):ft},Et.interpolator=function(Dt){return arguments.length?(tt=Dt,Et):tt},Et.unknown=function(Dt){return arguments.length?(N=Dt,Et):N},function(Dt){return T=Dt,e=Dt(z),o=Dt(nt),x=e===o?0:1/(o-e),Et}}function Gu(e,o){return o.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function L2(){var e=ef(of()(Ja));return e.copy=function(){return Gu(e,L2())},Qd.apply(e,arguments)}function B2(){var e=n2(of()).domain([1,10]);return e.copy=function(){return Gu(e,B2()).base(e.base())},Qd.apply(e,arguments)}function pp(){var e=Mv(of());return e.copy=function(){return Gu(e,pp()).constant(e.constant())},Qd.apply(e,arguments)}function Wv(){var e=Lv(of());return e.copy=function(){return Gu(e,Wv()).exponent(e.exponent())},Qd.apply(e,arguments)}function u_(){return Wv.apply(null,arguments).exponent(.5)}function j2(){var e=[],o=Ja;function x(T){if(!isNaN(T=+T))return o((C(e,T)-1)/(e.length-1))}return x.domain=function(T){if(!arguments.length)return e.slice();e=[];for(var N,z=0,nt=T.length;z<nt;++z)(N=T[z])==null||isNaN(N=+N)||e.push(N);return e.sort(m),x},x.interpolator=function(T){return arguments.length?(o=T,x):o},x.copy=function(){return j2(o).domain(e)},Qd.apply(x,arguments)}function Gv(){var e,o,x,T,N,z,nt,tt=0,ft=.5,Et=1,Dt=Ja,Zt=!1;function Rt(ie){return isNaN(ie=+ie)?nt:(ie=.5+((ie=+z(ie))-o)*(ie<o?T:N),Dt(Zt?Math.max(0,Math.min(1,ie)):ie))}return Rt.domain=function(ie){return arguments.length?(e=z(tt=+ie[0]),o=z(ft=+ie[1]),x=z(Et=+ie[2]),T=e===o?0:.5/(o-e),N=o===x?0:.5/(x-o),Rt):[tt,ft,Et]},Rt.clamp=function(ie){return arguments.length?(Zt=!!ie,Rt):Zt},Rt.interpolator=function(ie){return arguments.length?(Dt=ie,Rt):Dt},Rt.unknown=function(ie){return arguments.length?(nt=ie,Rt):nt},function(ie){return z=ie,e=ie(tt),o=ie(ft),x=ie(Et),T=e===o?0:.5/(o-e),N=o===x?0:.5/(x-o),Rt}}function h_(){var e=ef(Gv()(Ja));return e.copy=function(){return Gu(e,h_())},Qd.apply(e,arguments)}function d_(){var e=n2(Gv()).domain([.1,1,10]);return e.copy=function(){return Gu(e,d_()).base(e.base())},Qd.apply(e,arguments)}function f_(){var e=Mv(Gv());return e.copy=function(){return Gu(e,f_()).constant(e.constant())},Qd.apply(e,arguments)}function I2(){var e=Lv(Gv());return e.copy=function(){return Gu(e,I2()).exponent(e.exponent())},Qd.apply(e,arguments)}function f5(){return I2.apply(null,arguments).exponent(.5)}function zi(e){for(var o=e.length/6|0,x=new Array(o),T=0;T<o;)x[T]="#"+e.slice(6*T,6*++T);return x}const N2=zi("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),p5=zi("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),P2=zi("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),gp=zi("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),g5=zi("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),p_=zi("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),g_=zi("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),m_=zi("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),y_=zi("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),v_=zi("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function Go(e){return Ra(e[e.length-1])}var Xv=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(zi);const ny=Go(Xv);var R2=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(zi);const vg=Go(R2);var Zv=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(zi);const b_=Go(Zv);var ry=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(zi);const D2=Go(ry);var F2=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(zi);const fc=Go(F2);var x_=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(zi);const m5=Go(x_);var ko=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(zi);const y5=Go(ko);var bg=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(zi);const iy=Go(bg);var w_=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(zi);const v5=Go(w_);var __=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(zi);const b5=Go(__);var k_=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(zi);const C_=Go(k_);var z2=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(zi);const x5=Go(z2);var S_=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(zi);const w5=Go(S_);var U2=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(zi);const _5=Go(U2);var H2=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(zi);const k5=Go(H2);var E_=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(zi);const C5=Go(E_);var T_=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(zi);const S5=Go(T_);var A_=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(zi);const E5=Go(A_);var $2=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(zi);const T5=Go($2);var O_=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(zi);const A5=Go(O_);var q2=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(zi);const O5=Go(q2);var M_=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(zi);const M5=Go(M_);var L_=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(zi);const L5=Go(L_);var B_=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(zi);const j_=Go(B_);var I_=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(zi);const B5=Go(I_);var N_=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(zi);const j5=Go(N_);var P_=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(zi);const I5=Go(P_);function N5(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-2710.57*e)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-67.37*e)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-2475.67*e)))))))+")"}const P5=Bi(Tc(300,.5,0),Tc(-240,.5,1));var R_=Bi(Tc(-100,.75,.35),Tc(80,1.5,.8)),R5=Bi(Tc(260,.75,.35),Tc(80,1.5,.8)),Kv=Tc();function D5(e){(e<0||e>1)&&(e-=Math.floor(e));var o=Math.abs(e-.5);return Kv.h=360*e-100,Kv.s=1.5-1.5*o,Kv.l=.8-.9*o,Kv+""}var oy=ha(),F5=Math.PI/3,z5=2*Math.PI/3;function U5(e){var o;return e=(.5-e)*Math.PI,oy.r=255*(o=Math.sin(e))*o,oy.g=255*(o=Math.sin(e+F5))*o,oy.b=255*(o=Math.sin(e+z5))*o,oy+""}function H5(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-14825.05*e)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+707.56*e)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-6838.66*e)))))))+")"}function Jv(e){var o=e.length;return function(x){return e[Math.max(0,Math.min(o-1,Math.floor(x*o)))]}}const $5=Jv(zi("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var D_=Jv(zi("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),q5=Jv(zi("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Y5=Jv(zi("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function V5(e){return ao(ci(e).call(document.documentElement))}var W5=0;function F_(){return new Y2}function Y2(){this._="@"+(++W5).toString(36)}function G5(e){return typeof e=="string"?new $e([document.querySelectorAll(e)],[document.documentElement]):new $e([e==null?[]:e],Oi)}function X5(e,o){o==null&&(o=Hs().touches);for(var x=0,T=o?o.length:0,N=new Array(T);x<T;++x)N[x]=jh(e,o[x]);return N}function to(e){return function(){return e}}Y2.prototype=F_.prototype={constructor:Y2,get:function(e){for(var o=this._;!(o in e);)if(!(e=e.parentNode))return;return e[o]},set:function(e,o){return e[this._]=o},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var V2=Math.abs,Fc=Math.atan2,mp=Math.cos,Z5=Math.max,W2=Math.min,Xu=Math.sin,xg=Math.sqrt,rl=1e-12,Th=Math.PI,Ah=Th/2,af=2*Th;function z_(e){return e>1?0:e<-1?Th:Math.acos(e)}function G2(e){return e>=1?Ah:e<=-1?-Ah:Math.asin(e)}function X2(e){return e.innerRadius}function K5(e){return e.outerRadius}function U_(e){return e.startAngle}function Qv(e){return e.endAngle}function H_(e){return e&&e.padAngle}function $_(e,o,x,T,N,z,nt,tt){var ft=x-e,Et=T-o,Dt=nt-N,Zt=tt-z,Rt=Zt*ft-Dt*Et;if(!(Rt*Rt<rl))return[e+(Rt=(Dt*(o-z)-Zt*(e-N))/Rt)*ft,o+Rt*Et]}function ay(e,o,x,T,N,z,nt){var tt=e-x,ft=o-T,Et=(nt?z:-z)/xg(tt*tt+ft*ft),Dt=Et*ft,Zt=-Et*tt,Rt=e+Dt,ie=o+Zt,le=x+Dt,_e=T+Zt,xe=(Rt+le)/2,pe=(ie+_e)/2,Le=le-Rt,Ae=_e-ie,Re=Le*Le+Ae*Ae,en=N-z,bn=Rt*_e-le*ie,kn=(Ae<0?-1:1)*xg(Z5(0,en*en*Re-bn*bn)),Wn=(bn*Ae-Le*kn)/Re,un=(-bn*Le-Ae*kn)/Re,jn=(bn*Ae+Le*kn)/Re,Ie=(-bn*Le+Ae*kn)/Re,qe=Wn-xe,Tn=un-pe,wn=jn-xe,An=Ie-pe;return qe*qe+Tn*Tn>wn*wn+An*An&&(Wn=jn,un=Ie),{cx:Wn,cy:un,x01:-Dt,y01:-Zt,x11:Wn*(N/en-1),y11:un*(N/en-1)}}function Z2(){var e=X2,o=K5,x=to(0),T=null,N=U_,z=Qv,nt=H_,tt=null;function ft(){var Et,Dt,Zt=+e.apply(this,arguments),Rt=+o.apply(this,arguments),ie=N.apply(this,arguments)-Ah,le=z.apply(this,arguments)-Ah,_e=V2(le-ie),xe=le>ie;if(tt||(tt=Et=Cc()),Rt<Zt&&(Dt=Rt,Rt=Zt,Zt=Dt),Rt>rl)if(_e>af-rl)tt.moveTo(Rt*mp(ie),Rt*Xu(ie)),tt.arc(0,0,Rt,ie,le,!xe),Zt>rl&&(tt.moveTo(Zt*mp(le),Zt*Xu(le)),tt.arc(0,0,Zt,le,ie,xe));else{var pe,Le,Ae=ie,Re=le,en=ie,bn=le,kn=_e,Wn=_e,un=nt.apply(this,arguments)/2,jn=un>rl&&(T?+T.apply(this,arguments):xg(Zt*Zt+Rt*Rt)),Ie=W2(V2(Rt-Zt)/2,+x.apply(this,arguments)),qe=Ie,Tn=Ie;if(jn>rl){var wn=G2(jn/Zt*Xu(un)),An=G2(jn/Rt*Xu(un));(kn-=2*wn)>rl?(en+=wn*=xe?1:-1,bn-=wn):(kn=0,en=bn=(ie+le)/2),(Wn-=2*An)>rl?(Ae+=An*=xe?1:-1,Re-=An):(Wn=0,Ae=Re=(ie+le)/2)}var pr=Rt*mp(Ae),Er=Rt*Xu(Ae),Qr=Zt*mp(bn),Hi=Zt*Xu(bn);if(Ie>rl){var Yi,Dr=Rt*mp(Re),po=Rt*Xu(Re),pi=Zt*mp(en),hi=Zt*Xu(en);if(_e<Th&&(Yi=$_(pr,Er,pi,hi,Dr,po,Qr,Hi))){var co=pr-Yi[0],pc=Er-Yi[1],Fs=Dr-Yi[0],Qu=po-Yi[1],bp=1/Xu(z_((co*Fs+pc*Qu)/(xg(co*co+pc*pc)*xg(Fs*Fs+Qu*Qu)))/2),gy=xg(Yi[0]*Yi[0]+Yi[1]*Yi[1]);qe=W2(Ie,(Zt-gy)/(bp-1)),Tn=W2(Ie,(Rt-gy)/(bp+1))}}Wn>rl?Tn>rl?(pe=ay(pi,hi,pr,Er,Rt,Tn,xe),Le=ay(Dr,po,Qr,Hi,Rt,Tn,xe),tt.moveTo(pe.cx+pe.x01,pe.cy+pe.y01),Tn<Ie?tt.arc(pe.cx,pe.cy,Tn,Fc(pe.y01,pe.x01),Fc(Le.y01,Le.x01),!xe):(tt.arc(pe.cx,pe.cy,Tn,Fc(pe.y01,pe.x01),Fc(pe.y11,pe.x11),!xe),tt.arc(0,0,Rt,Fc(pe.cy+pe.y11,pe.cx+pe.x11),Fc(Le.cy+Le.y11,Le.cx+Le.x11),!xe),tt.arc(Le.cx,Le.cy,Tn,Fc(Le.y11,Le.x11),Fc(Le.y01,Le.x01),!xe))):(tt.moveTo(pr,Er),tt.arc(0,0,Rt,Ae,Re,!xe)):tt.moveTo(pr,Er),Zt>rl&&kn>rl?qe>rl?(pe=ay(Qr,Hi,Dr,po,Zt,-qe,xe),Le=ay(pr,Er,pi,hi,Zt,-qe,xe),tt.lineTo(pe.cx+pe.x01,pe.cy+pe.y01),qe<Ie?tt.arc(pe.cx,pe.cy,qe,Fc(pe.y01,pe.x01),Fc(Le.y01,Le.x01),!xe):(tt.arc(pe.cx,pe.cy,qe,Fc(pe.y01,pe.x01),Fc(pe.y11,pe.x11),!xe),tt.arc(0,0,Zt,Fc(pe.cy+pe.y11,pe.cx+pe.x11),Fc(Le.cy+Le.y11,Le.cx+Le.x11),xe),tt.arc(Le.cx,Le.cy,qe,Fc(Le.y11,Le.x11),Fc(Le.y01,Le.x01),!xe))):tt.arc(0,0,Zt,bn,en,xe):tt.lineTo(Qr,Hi)}else tt.moveTo(0,0);if(tt.closePath(),Et)return tt=null,Et+""||null}return ft.centroid=function(){var Et=(+e.apply(this,arguments)+ +o.apply(this,arguments))/2,Dt=(+N.apply(this,arguments)+ +z.apply(this,arguments))/2-Th/2;return[mp(Dt)*Et,Xu(Dt)*Et]},ft.innerRadius=function(Et){return arguments.length?(e=typeof Et=="function"?Et:to(+Et),ft):e},ft.outerRadius=function(Et){return arguments.length?(o=typeof Et=="function"?Et:to(+Et),ft):o},ft.cornerRadius=function(Et){return arguments.length?(x=typeof Et=="function"?Et:to(+Et),ft):x},ft.padRadius=function(Et){return arguments.length?(T=Et==null?null:typeof Et=="function"?Et:to(+Et),ft):T},ft.startAngle=function(Et){return arguments.length?(N=typeof Et=="function"?Et:to(+Et),ft):N},ft.endAngle=function(Et){return arguments.length?(z=typeof Et=="function"?Et:to(+Et),ft):z},ft.padAngle=function(Et){return arguments.length?(nt=typeof Et=="function"?Et:to(+Et),ft):nt},ft.context=function(Et){return arguments.length?(tt=Et==null?null:Et,ft):tt},ft}function q_(e){this._context=e}function ji(e){return new q_(e)}function K2(e){return e[0]}function J2(e){return e[1]}function Q2(){var e=K2,o=J2,x=to(!0),T=null,N=ji,z=null;function nt(tt){var ft,Et,Dt,Zt=tt.length,Rt=!1;for(T==null&&(z=N(Dt=Cc())),ft=0;ft<=Zt;++ft)!(ft<Zt&&x(Et=tt[ft],ft,tt))===Rt&&((Rt=!Rt)?z.lineStart():z.lineEnd()),Rt&&z.point(+e(Et,ft,tt),+o(Et,ft,tt));if(Dt)return z=null,Dt+""||null}return nt.x=function(tt){return arguments.length?(e=typeof tt=="function"?tt:to(+tt),nt):e},nt.y=function(tt){return arguments.length?(o=typeof tt=="function"?tt:to(+tt),nt):o},nt.defined=function(tt){return arguments.length?(x=typeof tt=="function"?tt:to(!!tt),nt):x},nt.curve=function(tt){return arguments.length?(N=tt,T!=null&&(z=N(T)),nt):N},nt.context=function(tt){return arguments.length?(tt==null?T=z=null:z=N(T=tt),nt):T},nt}function Y_(){var e=K2,o=null,x=to(0),T=J2,N=to(!0),z=null,nt=ji,tt=null;function ft(Dt){var Zt,Rt,ie,le,_e,xe=Dt.length,pe=!1,Le=new Array(xe),Ae=new Array(xe);for(z==null&&(tt=nt(_e=Cc())),Zt=0;Zt<=xe;++Zt){if(!(Zt<xe&&N(le=Dt[Zt],Zt,Dt))===pe)if(pe=!pe)Rt=Zt,tt.areaStart(),tt.lineStart();else{for(tt.lineEnd(),tt.lineStart(),ie=Zt-1;ie>=Rt;--ie)tt.point(Le[ie],Ae[ie]);tt.lineEnd(),tt.areaEnd()}pe&&(Le[Zt]=+e(le,Zt,Dt),Ae[Zt]=+x(le,Zt,Dt),tt.point(o?+o(le,Zt,Dt):Le[Zt],T?+T(le,Zt,Dt):Ae[Zt]))}if(_e)return tt=null,_e+""||null}function Et(){return Q2().defined(N).curve(nt).context(z)}return ft.x=function(Dt){return arguments.length?(e=typeof Dt=="function"?Dt:to(+Dt),o=null,ft):e},ft.x0=function(Dt){return arguments.length?(e=typeof Dt=="function"?Dt:to(+Dt),ft):e},ft.x1=function(Dt){return arguments.length?(o=Dt==null?null:typeof Dt=="function"?Dt:to(+Dt),ft):o},ft.y=function(Dt){return arguments.length?(x=typeof Dt=="function"?Dt:to(+Dt),T=null,ft):x},ft.y0=function(Dt){return arguments.length?(x=typeof Dt=="function"?Dt:to(+Dt),ft):x},ft.y1=function(Dt){return arguments.length?(T=Dt==null?null:typeof Dt=="function"?Dt:to(+Dt),ft):T},ft.lineX0=ft.lineY0=function(){return Et().x(e).y(x)},ft.lineY1=function(){return Et().x(e).y(T)},ft.lineX1=function(){return Et().x(o).y(x)},ft.defined=function(Dt){return arguments.length?(N=typeof Dt=="function"?Dt:to(!!Dt),ft):N},ft.curve=function(Dt){return arguments.length?(nt=Dt,z!=null&&(tt=nt(z)),ft):nt},ft.context=function(Dt){return arguments.length?(Dt==null?z=tt=null:tt=nt(z=Dt),ft):z},ft}function J5(e,o){return o<e?-1:o>e?1:o>=e?0:NaN}function Q5(e){return e}function tk(){var e=Q5,o=J5,x=null,T=to(0),N=to(af),z=to(0);function nt(tt){var ft,Et,Dt,Zt,Rt,ie=tt.length,le=0,_e=new Array(ie),xe=new Array(ie),pe=+T.apply(this,arguments),Le=Math.min(af,Math.max(-af,N.apply(this,arguments)-pe)),Ae=Math.min(Math.abs(Le)/ie,z.apply(this,arguments)),Re=Ae*(Le<0?-1:1);for(ft=0;ft<ie;++ft)(Rt=xe[_e[ft]=ft]=+e(tt[ft],ft,tt))>0&&(le+=Rt);for(o!=null?_e.sort(function(en,bn){return o(xe[en],xe[bn])}):x!=null&&_e.sort(function(en,bn){return x(tt[en],tt[bn])}),ft=0,Dt=le?(Le-ie*Re)/le:0;ft<ie;++ft,pe=Zt)Et=_e[ft],Zt=pe+((Rt=xe[Et])>0?Rt*Dt:0)+Re,xe[Et]={data:tt[Et],index:ft,value:Rt,startAngle:pe,endAngle:Zt,padAngle:Ae};return xe}return nt.value=function(tt){return arguments.length?(e=typeof tt=="function"?tt:to(+tt),nt):e},nt.sortValues=function(tt){return arguments.length?(o=tt,x=null,nt):o},nt.sort=function(tt){return arguments.length?(x=tt,o=null,nt):x},nt.startAngle=function(tt){return arguments.length?(T=typeof tt=="function"?tt:to(+tt),nt):T},nt.endAngle=function(tt){return arguments.length?(N=typeof tt=="function"?tt:to(+tt),nt):N},nt.padAngle=function(tt){return arguments.length?(z=typeof tt=="function"?tt:to(+tt),nt):z},nt}q_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,o){switch(e=+e,o=+o,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,o):this._context.moveTo(e,o);break;case 1:this._point=2;default:this._context.lineTo(e,o)}}};var V_=tx(ji);function W_(e){this._curve=e}function tx(e){function o(x){return new W_(e(x))}return o._curve=e,o}function Lo(e){var o=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(x){return arguments.length?o(tx(x)):o()._curve},e}function ex(){return Lo(Q2().curve(V_))}function G_(){var e=Y_().curve(V_),o=e.curve,x=e.lineX0,T=e.lineX1,N=e.lineY0,z=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return Lo(x())},delete e.lineX0,e.lineEndAngle=function(){return Lo(T())},delete e.lineX1,e.lineInnerRadius=function(){return Lo(N())},delete e.lineY0,e.lineOuterRadius=function(){return Lo(z())},delete e.lineY1,e.curve=function(nt){return arguments.length?o(tx(nt)):o()._curve},e}function wg(e,o){return[(o=+o)*Math.cos(e-=Math.PI/2),o*Math.sin(e)]}W_.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,o){this._curve.point(o*Math.sin(e),o*-Math.cos(e))}};var nx=Array.prototype.slice;function X_(e){return e.source}function ek(e){return e.target}function tb(e){var o=X_,x=ek,T=K2,N=J2,z=null;function nt(){var tt,ft=nx.call(arguments),Et=o.apply(this,ft),Dt=x.apply(this,ft);if(z||(z=tt=Cc()),e(z,+T.apply(this,(ft[0]=Et,ft)),+N.apply(this,ft),+T.apply(this,(ft[0]=Dt,ft)),+N.apply(this,ft)),tt)return z=null,tt+""||null}return nt.source=function(tt){return arguments.length?(o=tt,nt):o},nt.target=function(tt){return arguments.length?(x=tt,nt):x},nt.x=function(tt){return arguments.length?(T=typeof tt=="function"?tt:to(+tt),nt):T},nt.y=function(tt){return arguments.length?(N=typeof tt=="function"?tt:to(+tt),nt):N},nt.context=function(tt){return arguments.length?(z=tt==null?null:tt,nt):z},nt}function nk(e,o,x,T,N){e.moveTo(o,x),e.bezierCurveTo(o=(o+T)/2,x,o,N,T,N)}function Z_(e,o,x,T,N){e.moveTo(o,x),e.bezierCurveTo(o,x=(x+N)/2,T,x,T,N)}function rk(e,o,x,T,N){var z=wg(o,x),nt=wg(o,x=(x+N)/2),tt=wg(T,x),ft=wg(T,N);e.moveTo(z[0],z[1]),e.bezierCurveTo(nt[0],nt[1],tt[0],tt[1],ft[0],ft[1])}function K_(){return tb(nk)}function ik(){return tb(Z_)}function J_(){var e=tb(rk);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}const rx={draw:function(e,o){var x=Math.sqrt(o/Th);e.moveTo(x,0),e.arc(0,0,x,0,af)}},ix={draw:function(e,o){var x=Math.sqrt(o/5)/2;e.moveTo(-3*x,-x),e.lineTo(-x,-x),e.lineTo(-x,-3*x),e.lineTo(x,-3*x),e.lineTo(x,-x),e.lineTo(3*x,-x),e.lineTo(3*x,x),e.lineTo(x,x),e.lineTo(x,3*x),e.lineTo(-x,3*x),e.lineTo(-x,x),e.lineTo(-3*x,x),e.closePath()}};var Q_=Math.sqrt(1/3),t3=2*Q_;const e3={draw:function(e,o){var x=Math.sqrt(o/t3),T=x*Q_;e.moveTo(0,-x),e.lineTo(T,0),e.lineTo(0,x),e.lineTo(-T,0),e.closePath()}};var ox=Math.sin(Th/10)/Math.sin(7*Th/10),ok=Math.sin(af/10)*ox,n3=-Math.cos(af/10)*ox;const r3={draw:function(e,o){var x=Math.sqrt(.8908130915292852*o),T=ok*x,N=n3*x;e.moveTo(0,-x),e.lineTo(T,N);for(var z=1;z<5;++z){var nt=af*z/5,tt=Math.cos(nt),ft=Math.sin(nt);e.lineTo(ft*x,-tt*x),e.lineTo(tt*T-ft*N,ft*T+tt*N)}e.closePath()}},ax={draw:function(e,o){var x=Math.sqrt(o),T=-x/2;e.rect(T,T,x,x)}};var sx=Math.sqrt(3);const cx={draw:function(e,o){var x=-Math.sqrt(o/(3*sx));e.moveTo(0,2*x),e.lineTo(-sx*x,-x),e.lineTo(sx*x,-x),e.closePath()}};var Zu=-.5,yu=Math.sqrt(3)/2,lx=1/Math.sqrt(12),i3=3*(lx/2+1);const o3={draw:function(e,o){var x=Math.sqrt(o/i3),T=x/2,N=x*lx,z=T,nt=x*lx+x,tt=-z,ft=nt;e.moveTo(T,N),e.lineTo(z,nt),e.lineTo(tt,ft),e.lineTo(Zu*T-yu*N,yu*T+Zu*N),e.lineTo(Zu*z-yu*nt,yu*z+Zu*nt),e.lineTo(Zu*tt-yu*ft,yu*tt+Zu*ft),e.lineTo(Zu*T+yu*N,Zu*N-yu*T),e.lineTo(Zu*z+yu*nt,Zu*nt-yu*z),e.lineTo(Zu*tt+yu*ft,Zu*ft-yu*tt),e.closePath()}};var a3=[rx,ix,e3,ax,r3,cx,o3];function ak(){var e=to(rx),o=to(64),x=null;function T(){var N;if(x||(x=N=Cc()),e.apply(this,arguments).draw(x,+o.apply(this,arguments)),N)return x=null,N+""||null}return T.type=function(N){return arguments.length?(e=typeof N=="function"?N:to(N),T):e},T.size=function(N){return arguments.length?(o=typeof N=="function"?N:to(+N),T):o},T.context=function(N){return arguments.length?(x=N==null?null:N,T):x},T}function sf(){}function eb(e,o,x){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+o)/6,(e._y0+4*e._y1+x)/6)}function sy(e){this._context=e}function sk(e){return new sy(e)}function ux(e){this._context=e}function ck(e){return new ux(e)}function hx(e){this._context=e}function lk(e){return new hx(e)}function dx(e,o){this._basis=new sy(e),this._beta=o}sy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:eb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,o){switch(e=+e,o=+o,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,o):this._context.moveTo(e,o);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:eb(this,e,o)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=o}},ux.prototype={areaStart:sf,areaEnd:sf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,o){switch(e=+e,o=+o,this._point){case 0:this._point=1,this._x2=e,this._y2=o;break;case 1:this._point=2,this._x3=e,this._y3=o;break;case 2:this._point=3,this._x4=e,this._y4=o,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+o)/6);break;default:eb(this,e,o)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=o}},hx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,o){switch(e=+e,o=+o,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var x=(this._x0+4*this._x1+e)/6,T=(this._y0+4*this._y1+o)/6;this._line?this._context.lineTo(x,T):this._context.moveTo(x,T);break;case 3:this._point=4;default:eb(this,e,o)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=o}},dx.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,o=this._y,x=e.length-1;if(x>0)for(var T,N=e[0],z=o[0],nt=e[x]-N,tt=o[x]-z,ft=-1;++ft<=x;)T=ft/x,this._basis.point(this._beta*e[ft]+(1-this._beta)*(N+T*nt),this._beta*o[ft]+(1-this._beta)*(z+T*tt));this._x=this._y=null,this._basis.lineEnd()},point:function(e,o){this._x.push(+e),this._y.push(+o)}};const uk=function e(o){function x(T){return o===1?new sy(T):new dx(T,o)}return x.beta=function(T){return e(+T)},x}(.85);function cy(e,o,x){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-o),e._y2+e._k*(e._y1-x),e._x2,e._y2)}function fx(e,o){this._context=e,this._k=(1-o)/6}fx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:cy(this,this._x1,this._y1)}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,o){switch(e=+e,o=+o,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,o):this._context.moveTo(e,o);break;case 1:this._point=2,this._x1=e,this._y1=o;break;case 2:this._point=3;default:cy(this,e,o)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=o}};const s3=function e(o){function x(T){return new fx(T,o)}return x.tension=function(T){return e(+T)},x}(0);function px(e,o){this._context=e,this._k=(1-o)/6}px.prototype={areaStart:sf,areaEnd:sf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,o){switch(e=+e,o=+o,this._point){case 0:this._point=1,this._x3=e,this._y3=o;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=o);break;case 2:this._point=3,this._x5=e,this._y5=o;break;default:cy(this,e,o)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=o}};const c3=function e(o){function x(T){return new px(T,o)}return x.tension=function(T){return e(+T)},x}(0);function gx(e,o){this._context=e,this._k=(1-o)/6}gx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,o){switch(e=+e,o=+o,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:cy(this,e,o)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=o}};const l3=function e(o){function x(T){return new gx(T,o)}return x.tension=function(T){return e(+T)},x}(0);function mx(e,o,x){var T=e._x1,N=e._y1,z=e._x2,nt=e._y2;if(e._l01_a>rl){var tt=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,ft=3*e._l01_a*(e._l01_a+e._l12_a);T=(T*tt-e._x0*e._l12_2a+e._x2*e._l01_2a)/ft,N=(N*tt-e._y0*e._l12_2a+e._y2*e._l01_2a)/ft}if(e._l23_a>rl){var Et=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,Dt=3*e._l23_a*(e._l23_a+e._l12_a);z=(z*Et+e._x1*e._l23_2a-o*e._l12_2a)/Dt,nt=(nt*Et+e._y1*e._l23_2a-x*e._l12_2a)/Dt}e._context.bezierCurveTo(T,N,z,nt,e._x2,e._y2)}function yx(e,o){this._context=e,this._alpha=o}yx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,o){if(e=+e,o=+o,this._point){var x=this._x2-e,T=this._y2-o;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(x*x+T*T,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,o):this._context.moveTo(e,o);break;case 1:this._point=2;break;case 2:this._point=3;default:mx(this,e,o)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=o}};const hk=function e(o){function x(T){return o?new yx(T,o):new fx(T,0)}return x.alpha=function(T){return e(+T)},x}(.5);function vx(e,o){this._context=e,this._alpha=o}vx.prototype={areaStart:sf,areaEnd:sf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,o){if(e=+e,o=+o,this._point){var x=this._x2-e,T=this._y2-o;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(x*x+T*T,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=o;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=o);break;case 2:this._point=3,this._x5=e,this._y5=o;break;default:mx(this,e,o)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=o}};const dk=function e(o){function x(T){return o?new vx(T,o):new px(T,0)}return x.alpha=function(T){return e(+T)},x}(.5);function u3(e,o){this._context=e,this._alpha=o}u3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,o){if(e=+e,o=+o,this._point){var x=this._x2-e,T=this._y2-o;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(x*x+T*T,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:mx(this,e,o)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=o}};const fk=function e(o){function x(T){return o?new u3(T,o):new gx(T,0)}return x.alpha=function(T){return e(+T)},x}(.5);function h3(e){this._context=e}function pk(e){return new h3(e)}function ly(e){return e<0?-1:1}function d3(e,o,x){var T=e._x1-e._x0,N=o-e._x1,z=(e._y1-e._y0)/(T||N<0&&-0),nt=(x-e._y1)/(N||T<0&&-0),tt=(z*N+nt*T)/(T+N);return(ly(z)+ly(nt))*Math.min(Math.abs(z),Math.abs(nt),.5*Math.abs(tt))||0}function uy(e,o){var x=e._x1-e._x0;return x?(3*(e._y1-e._y0)/x-o)/2:o}function bx(e,o,x){var T=e._x0,N=e._y0,z=e._x1,nt=e._y1,tt=(z-T)/3;e._context.bezierCurveTo(T+tt,N+tt*o,z-tt,nt-tt*x,z,nt)}function nb(e){this._context=e}function f3(e){this._context=new p3(e)}function p3(e){this._context=e}function rb(e){return new nb(e)}function gk(e){return new f3(e)}function g3(e){this._context=e}function m3(e){var o,x,T=e.length-1,N=new Array(T),z=new Array(T),nt=new Array(T);for(N[0]=0,z[0]=2,nt[0]=e[0]+2*e[1],o=1;o<T-1;++o)N[o]=1,z[o]=4,nt[o]=4*e[o]+2*e[o+1];for(N[T-1]=2,z[T-1]=7,nt[T-1]=8*e[T-1]+e[T],o=1;o<T;++o)x=N[o]/z[o-1],z[o]-=x,nt[o]-=x*nt[o-1];for(N[T-1]=nt[T-1]/z[T-1],o=T-2;o>=0;--o)N[o]=(nt[o]-N[o+1])/z[o];for(z[T-1]=(e[T]+N[T-1])/2,o=0;o<T-1;++o)z[o]=2*e[o+1]-N[o+1];return[N,z]}function mk(e){return new g3(e)}function ib(e,o){this._context=e,this._t=o}function yk(e){return new ib(e,.5)}function y3(e){return new ib(e,0)}function xx(e){return new ib(e,1)}function _g(e,o){if((N=e.length)>1)for(var x,T,N,z=1,nt=e[o[0]],tt=nt.length;z<N;++z)for(T=nt,nt=e[o[z]],x=0;x<tt;++x)nt[x][1]+=nt[x][0]=isNaN(T[x][1])?T[x][0]:T[x][1]}function kg(e){for(var o=e.length,x=new Array(o);--o>=0;)x[o]=o;return x}function Ui(e,o){return e[o]}function v3(){var e=to([]),o=kg,x=_g,T=Ui;function N(z){var nt,tt,ft=e.apply(this,arguments),Et=z.length,Dt=ft.length,Zt=new Array(Dt);for(nt=0;nt<Dt;++nt){for(var Rt,ie=ft[nt],le=Zt[nt]=new Array(Et),_e=0;_e<Et;++_e)le[_e]=Rt=[0,+T(z[_e],ie,_e,z)],Rt.data=z[_e];le.key=ie}for(nt=0,tt=o(Zt);nt<Dt;++nt)Zt[tt[nt]].index=nt;return x(Zt,tt),Zt}return N.keys=function(z){return arguments.length?(e=typeof z=="function"?z:to(nx.call(z)),N):e},N.value=function(z){return arguments.length?(T=typeof z=="function"?z:to(+z),N):T},N.order=function(z){return arguments.length?(o=z==null?kg:typeof z=="function"?z:to(nx.call(z)),N):o},N.offset=function(z){return arguments.length?(x=z==null?_g:z,N):x},N}function il(e,o){if((T=e.length)>0){for(var x,T,N,z=0,nt=e[0].length;z<nt;++z){for(N=x=0;x<T;++x)N+=e[x][z][1]||0;if(N)for(x=0;x<T;++x)e[x][z][1]/=N}_g(e,o)}}function cf(e,o){if((tt=e.length)>0)for(var x,T,N,z,nt,tt,ft=0,Et=e[o[0]].length;ft<Et;++ft)for(z=nt=0,x=0;x<tt;++x)(N=(T=e[o[x]][ft])[1]-T[0])>0?(T[0]=z,T[1]=z+=N):N<0?(T[1]=nt,T[0]=nt+=N):(T[0]=0,T[1]=N)}function vk(e,o){if((x=e.length)>0){for(var x,T=0,N=e[o[0]],z=N.length;T<z;++T){for(var nt=0,tt=0;nt<x;++nt)tt+=e[nt][T][1]||0;N[T][1]+=N[T][0]=-tt/2}_g(e,o)}}function Cg(e,o){if((N=e.length)>0&&(T=(x=e[o[0]]).length)>0){for(var x,T,N,z=0,nt=1;nt<T;++nt){for(var tt=0,ft=0,Et=0;tt<N;++tt){for(var Dt=e[o[tt]],Zt=Dt[nt][1]||0,Rt=(Zt-(Dt[nt-1][1]||0))/2,ie=0;ie<tt;++ie){var le=e[o[ie]];Rt+=(le[nt][1]||0)-(le[nt-1][1]||0)}ft+=Zt,Et+=Rt*Zt}x[nt-1][1]+=x[nt-1][0]=z,ft&&(z-=Et/ft)}x[nt-1][1]+=x[nt-1][0]=z,_g(e,o)}}function Cl(e){var o=e.map(Ba);return kg(e).sort(function(x,T){return o[x]-o[T]})}function Ba(e){for(var o,x=-1,T=0,N=e.length,z=-1/0;++x<N;)(o=+e[x][1])>z&&(z=o,T=x);return T}function zc(e){var o=e.map(lf);return kg(e).sort(function(x,T){return o[x]-o[T]})}function lf(e){for(var o,x=0,T=-1,N=e.length;++T<N;)(o=+e[T][1])&&(x+=o);return x}function ob(e){return zc(e).reverse()}function yp(e){var o,x,T=e.length,N=e.map(lf),z=Cl(e),nt=0,tt=0,ft=[],Et=[];for(o=0;o<T;++o)x=z[o],nt<tt?(nt+=N[x],ft.push(x)):(tt+=N[x],Et.push(x));return Et.reverse().concat(ft)}function bk(e){return kg(e).reverse()}h3.prototype={areaStart:sf,areaEnd:sf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,o){e=+e,o=+o,this._point?this._context.lineTo(e,o):(this._point=1,this._context.moveTo(e,o))}},nb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:bx(this,this._t0,uy(this,this._t0))}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,o){var x=NaN;if(o=+o,(e=+e)!==this._x1||o!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,o):this._context.moveTo(e,o);break;case 1:this._point=2;break;case 2:this._point=3,bx(this,uy(this,x=d3(this,e,o)),x);break;default:bx(this,this._t0,x=d3(this,e,o))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=o,this._t0=x}}},(f3.prototype=Object.create(nb.prototype)).point=function(e,o){nb.prototype.point.call(this,o,e)},p3.prototype={moveTo:function(e,o){this._context.moveTo(o,e)},closePath:function(){this._context.closePath()},lineTo:function(e,o){this._context.lineTo(o,e)},bezierCurveTo:function(e,o,x,T,N,z){this._context.bezierCurveTo(o,e,T,x,z,N)}},g3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,o=this._y,x=e.length;if(x)if(this._line?this._context.lineTo(e[0],o[0]):this._context.moveTo(e[0],o[0]),x===2)this._context.lineTo(e[1],o[1]);else for(var T=m3(e),N=m3(o),z=0,nt=1;nt<x;++z,++nt)this._context.bezierCurveTo(T[0][z],N[0][z],T[1][z],N[1][z],e[nt],o[nt]);(this._line||this._line!==0&&x===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,o){this._x.push(+e),this._y.push(+o)}},ib.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,o){switch(e=+e,o=+o,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,o):this._context.moveTo(e,o);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,o),this._context.lineTo(e,o);else{var x=this._x*(1-this._t)+e*this._t;this._context.lineTo(x,this._y),this._context.lineTo(x,o)}}this._x=e,this._y=o}};var wx="%Y-%m-%dT%H:%M:%S.%LZ",xk=Date.prototype.toISOString?function(e){return e.toISOString()}:Fv(wx);const wk=xk;var _k=+new Date("2000-01-01T00:00:00.000Z")?function(e){var o=new Date(e);return isNaN(o)?null:o}:d2(wx);const kk=_k;function Ck(e,o,x){var T=new cn,N=o;return o==null?(T.restart(e,o,x),T):(o=+o,x=x==null?ce():+x,T.restart(function z(nt){nt+=N,T.restart(z,N+=o,x),e(nt)},o,x),T)}function b3(e){return function(){return e}}function ab(e){return e[0]}function Sk(e){return e[1]}function _x(){this._=null}function j0(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function Sg(e,o){var x=o,T=o.R,N=x.U;N?N.L===x?N.L=T:N.R=T:e._=T,T.U=N,x.U=T,x.R=T.L,x.R&&(x.R.U=x),T.L=x}function vp(e,o){var x=o,T=o.L,N=x.U;N?N.L===x?N.L=T:N.R=T:e._=T,T.U=N,x.U=T,x.L=T.R,x.L&&(x.L.U=x),T.R=x}function sb(e){for(;e.L;)e=e.L;return e}_x.prototype={constructor:_x,insert:function(e,o){var x,T,N;if(e){if(o.P=e,o.N=e.N,e.N&&(e.N.P=o),e.N=o,e.R){for(e=e.R;e.L;)e=e.L;e.L=o}else e.R=o;x=e}else this._?(e=sb(this._),o.P=null,o.N=e,e.P=e.L=o,x=e):(o.P=o.N=null,this._=o,x=null);for(o.L=o.R=null,o.U=x,o.C=!0,e=o;x&&x.C;)x===(T=x.U).L?(N=T.R)&&N.C?(x.C=N.C=!1,T.C=!0,e=T):(e===x.R&&(Sg(this,x),x=(e=x).U),x.C=!1,T.C=!0,vp(this,T)):(N=T.L)&&N.C?(x.C=N.C=!1,T.C=!0,e=T):(e===x.L&&(vp(this,x),x=(e=x).U),x.C=!1,T.C=!0,Sg(this,T)),x=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var o,x,T,N=e.U,z=e.L,nt=e.R;if(x=z?nt?sb(nt):z:nt,N?N.L===e?N.L=x:N.R=x:this._=x,z&&nt?(T=x.C,x.C=e.C,x.L=z,z.U=x,x!==nt?(N=x.U,x.U=e.U,e=x.R,N.L=e,x.R=nt,nt.U=x):(x.U=N,N=x,e=x.R)):(T=e.C,e=x),e&&(e.U=N),!T)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===N.L){if((o=N.R).C&&(o.C=!1,N.C=!0,Sg(this,N),o=N.R),o.L&&o.L.C||o.R&&o.R.C){o.R&&o.R.C||(o.L.C=!1,o.C=!0,vp(this,o),o=N.R),o.C=N.C,N.C=o.R.C=!1,Sg(this,N),e=this._;break}}else if((o=N.L).C&&(o.C=!1,N.C=!0,vp(this,N),o=N.L),o.L&&o.L.C||o.R&&o.R.C){o.L&&o.L.C||(o.R.C=!1,o.C=!0,Sg(this,o),o=N.L),o.C=N.C,N.C=o.L.C=!1,vp(this,N),e=this._;break}o.C=!0,e=N,N=N.U}while(!e.C);e&&(e.C=!1)}}};const cb=_x;function I0(e,o,x,T){var N=[null,null],z=Uc.push(N)-1;return N.left=e,N.right=o,x&&lb(N,e,o,x),T&&lb(N,o,e,T),vu[e.index].halfedges.push(z),vu[o.index].halfedges.push(z),N}function Eg(e,o,x){var T=[o,x];return T.left=e,T}function lb(e,o,x,T){e[0]||e[1]?e.left===x?e[1]=T:e[0]=T:(e[0]=T,e.left=o,e.right=x)}function Ek(e,o,x,T,N){var z,nt=e[0],tt=e[1],ft=nt[0],Et=nt[1],Dt=0,Zt=1,Rt=tt[0]-ft,ie=tt[1]-Et;if(z=o-ft,Rt||!(z>0)){if(z/=Rt,Rt<0){if(z<Dt)return;z<Zt&&(Zt=z)}else if(Rt>0){if(z>Zt)return;z>Dt&&(Dt=z)}if(z=T-ft,Rt||!(z<0)){if(z/=Rt,Rt<0){if(z>Zt)return;z>Dt&&(Dt=z)}else if(Rt>0){if(z<Dt)return;z<Zt&&(Zt=z)}if(z=x-Et,ie||!(z>0)){if(z/=ie,ie<0){if(z<Dt)return;z<Zt&&(Zt=z)}else if(ie>0){if(z>Zt)return;z>Dt&&(Dt=z)}if(z=N-Et,ie||!(z<0)){if(z/=ie,ie<0){if(z>Zt)return;z>Dt&&(Dt=z)}else if(ie>0){if(z<Dt)return;z<Zt&&(Zt=z)}return!(Dt>0||Zt<1)||(Dt>0&&(e[0]=[ft+Dt*Rt,Et+Dt*ie]),Zt<1&&(e[1]=[ft+Zt*Rt,Et+Zt*ie]),!0)}}}}}function Tk(e,o,x,T,N){var z=e[1];if(z)return!0;var nt,tt,ft=e[0],Et=e.left,Dt=e.right,Zt=Et[0],Rt=Et[1],ie=Dt[0],le=Dt[1],_e=(Zt+ie)/2,xe=(Rt+le)/2;if(le===Rt){if(_e<o||_e>=T)return;if(Zt>ie){if(ft){if(ft[1]>=N)return}else ft=[_e,x];z=[_e,N]}else{if(ft){if(ft[1]<x)return}else ft=[_e,N];z=[_e,x]}}else if(tt=xe-(nt=(Zt-ie)/(le-Rt))*_e,nt<-1||nt>1)if(Zt>ie){if(ft){if(ft[1]>=N)return}else ft=[(x-tt)/nt,x];z=[(N-tt)/nt,N]}else{if(ft){if(ft[1]<x)return}else ft=[(N-tt)/nt,N];z=[(x-tt)/nt,x]}else if(Rt<le){if(ft){if(ft[0]>=T)return}else ft=[o,nt*o+tt];z=[T,nt*T+tt]}else{if(ft){if(ft[0]<o)return}else ft=[T,nt*T+tt];z=[o,nt*o+tt]}return e[0]=ft,e[1]=z,!0}function x3(e,o){var x=e.site,T=o.left,N=o.right;return x===N&&(N=T,T=x),N?Math.atan2(N[1]-T[1],N[0]-T[0]):(x===T?(T=o[1],N=o[0]):(T=o[0],N=o[1]),Math.atan2(T[0]-N[0],N[1]-T[1]))}function kx(e,o){return o[+(o.left!==e.site)]}function Cx(e,o){return o[+(o.left===e.site)]}var N0,Sx=[];function w3(){j0(this),this.x=this.y=this.arc=this.site=this.cy=null}function ud(e){var o=e.P,x=e.N;if(o&&x){var T=o.site,N=e.site,z=x.site;if(T!==z){var nt=N[0],tt=N[1],ft=T[0]-nt,Et=T[1]-tt,Dt=z[0]-nt,Zt=z[1]-tt,Rt=2*(ft*Zt-Et*Dt);if(!(Rt>=-C3)){var ie=ft*ft+Et*Et,le=Dt*Dt+Zt*Zt,_e=(Zt*ie-Et*le)/Rt,xe=(ft*le-Dt*ie)/Rt,pe=Sx.pop()||new w3;pe.arc=e,pe.site=N,pe.x=_e+nt,pe.y=(pe.cy=xe+tt)+Math.sqrt(_e*_e+xe*xe),e.circle=pe;for(var Le=null,Ae=dy._;Ae;)if(pe.y<Ae.y||pe.y===Ae.y&&pe.x<=Ae.x){if(!Ae.L){Le=Ae.P;break}Ae=Ae.L}else{if(!Ae.R){Le=Ae;break}Ae=Ae.R}dy.insert(Le,pe),Le||(N0=pe)}}}}function P0(e){var o=e.circle;o&&(o.P||(N0=o.N),dy.remove(o),Sx.push(o),j0(o),e.circle=null)}var _3=[];function k3(){j0(this),this.edge=this.site=this.circle=null}function Ex(e){var o=_3.pop()||new k3;return o.site=e,o}function Tx(e){P0(e),Tg.remove(e),_3.push(e),j0(e)}function Ak(e){var o=e.circle,x=o.x,T=o.cy,N=[x,T],z=e.P,nt=e.N,tt=[e];Tx(e);for(var ft=z;ft.circle&&Math.abs(x-ft.circle.x)<Bo&&Math.abs(T-ft.circle.cy)<Bo;)z=ft.P,tt.unshift(ft),Tx(ft),ft=z;tt.unshift(ft),P0(ft);for(var Et=nt;Et.circle&&Math.abs(x-Et.circle.x)<Bo&&Math.abs(T-Et.circle.cy)<Bo;)nt=Et.N,tt.push(Et),Tx(Et),Et=nt;tt.push(Et),P0(Et);var Dt,Zt=tt.length;for(Dt=1;Dt<Zt;++Dt)Et=tt[Dt],ft=tt[Dt-1],lb(Et.edge,ft.site,Et.site,N);ft=tt[0],(Et=tt[Zt-1]).edge=I0(ft.site,Et.site,null,N),ud(ft),ud(Et)}function Ok(e){for(var o,x,T,N,z=e[0],nt=e[1],tt=Tg._;tt;)if((T=hy(tt,nt)-z)>Bo)tt=tt.L;else{if(!((N=z-Mk(tt,nt))>Bo)){T>-Bo?(o=tt.P,x=tt):N>-Bo?(o=tt,x=tt.N):o=x=tt;break}if(!tt.R){o=tt;break}tt=tt.R}(function(en){vu[en.index]={site:en,halfedges:[]}})(e);var ft=Ex(e);if(Tg.insert(o,ft),o||x){if(o===x)return P0(o),x=Ex(o.site),Tg.insert(ft,x),ft.edge=x.edge=I0(o.site,ft.site),ud(o),void ud(x);if(x){P0(o),P0(x);var Et=o.site,Dt=Et[0],Zt=Et[1],Rt=e[0]-Dt,ie=e[1]-Zt,le=x.site,_e=le[0]-Dt,xe=le[1]-Zt,pe=2*(Rt*xe-ie*_e),Le=Rt*Rt+ie*ie,Ae=_e*_e+xe*xe,Re=[(xe*Le-ie*Ae)/pe+Dt,(Rt*Ae-_e*Le)/pe+Zt];lb(x.edge,Et,le,Re),ft.edge=I0(Et,e,null,Re),x.edge=I0(e,le,null,Re),ud(o),ud(x)}else ft.edge=I0(o.site,ft.site)}}function hy(e,o){var x=e.site,T=x[0],N=x[1],z=N-o;if(!z)return T;var nt=e.P;if(!nt)return-1/0;var tt=(x=nt.site)[0],ft=x[1],Et=ft-o;if(!Et)return tt;var Dt=tt-T,Zt=1/z-1/Et,Rt=Dt/Et;return Zt?(-Rt+Math.sqrt(Rt*Rt-2*Zt*(Dt*Dt/(-2*Et)-ft+Et/2+N-z/2)))/Zt+T:(T+tt)/2}function Mk(e,o){var x=e.N;if(x)return hy(x,o);var T=e.site;return T[1]===o?T[0]:1/0}var Tg,vu,dy,Uc,Bo=1e-6,C3=1e-12;function S3(e,o,x){return(e[0]-x[0])*(o[1]-e[1])-(e[0]-o[0])*(x[1]-e[1])}function Lk(e,o){return o[1]-e[1]||o[0]-e[0]}function ub(e,o){var x,T,N,z=e.sort(Lk).pop();for(Uc=[],vu=new Array(e.length),Tg=new cb,dy=new cb;;)if(N=N0,z&&(!N||z[1]<N.y||z[1]===N.y&&z[0]<N.x))z[0]===x&&z[1]===T||(Ok(z),x=z[0],T=z[1]),z=e.pop();else{if(!N)break;Ak(N.arc)}if(function(){for(var Dt,Zt,Rt,ie,le=0,_e=vu.length;le<_e;++le)if((Dt=vu[le])&&(ie=(Zt=Dt.halfedges).length)){var xe=new Array(ie),pe=new Array(ie);for(Rt=0;Rt<ie;++Rt)xe[Rt]=Rt,pe[Rt]=x3(Dt,Uc[Zt[Rt]]);for(xe.sort(function(Le,Ae){return pe[Ae]-pe[Le]}),Rt=0;Rt<ie;++Rt)pe[Rt]=Zt[xe[Rt]];for(Rt=0;Rt<ie;++Rt)Zt[Rt]=pe[Rt]}}(),o){var nt=+o[0][0],tt=+o[0][1],ft=+o[1][0],Et=+o[1][1];(function(Dt,Zt,Rt,ie){for(var le,_e=Uc.length;_e--;)Tk(le=Uc[_e],Dt,Zt,Rt,ie)&&Ek(le,Dt,Zt,Rt,ie)&&(Math.abs(le[0][0]-le[1][0])>Bo||Math.abs(le[0][1]-le[1][1])>Bo)||delete Uc[_e]})(nt,tt,ft,Et),function(Dt,Zt,Rt,ie){var le,_e,xe,pe,Le,Ae,Re,en,bn,kn,Wn,un,jn=vu.length,Ie=!0;for(le=0;le<jn;++le)if(_e=vu[le]){for(xe=_e.site,pe=(Le=_e.halfedges).length;pe--;)Uc[Le[pe]]||Le.splice(pe,1);for(pe=0,Ae=Le.length;pe<Ae;)Wn=(kn=Cx(_e,Uc[Le[pe]]))[0],un=kn[1],en=(Re=kx(_e,Uc[Le[++pe%Ae]]))[0],bn=Re[1],(Math.abs(Wn-en)>Bo||Math.abs(un-bn)>Bo)&&(Le.splice(pe,0,Uc.push(Eg(xe,kn,Math.abs(Wn-Dt)<Bo&&ie-un>Bo?[Dt,Math.abs(en-Dt)<Bo?bn:ie]:Math.abs(un-ie)<Bo&&Rt-Wn>Bo?[Math.abs(bn-ie)<Bo?en:Rt,ie]:Math.abs(Wn-Rt)<Bo&&un-Zt>Bo?[Rt,Math.abs(en-Rt)<Bo?bn:Zt]:Math.abs(un-Zt)<Bo&&Wn-Dt>Bo?[Math.abs(bn-Zt)<Bo?en:Dt,Zt]:null))-1),++Ae);Ae&&(Ie=!1)}if(Ie){var qe,Tn,wn,An=1/0;for(le=0,Ie=null;le<jn;++le)(_e=vu[le])&&(wn=(qe=(xe=_e.site)[0]-Dt)*qe+(Tn=xe[1]-Zt)*Tn)<An&&(An=wn,Ie=_e);if(Ie){var pr=[Dt,Zt],Er=[Dt,ie],Qr=[Rt,ie],Hi=[Rt,Zt];Ie.halfedges.push(Uc.push(Eg(xe=Ie.site,pr,Er))-1,Uc.push(Eg(xe,Er,Qr))-1,Uc.push(Eg(xe,Qr,Hi))-1,Uc.push(Eg(xe,Hi,pr))-1)}}for(le=0;le<jn;++le)(_e=vu[le])&&(_e.halfedges.length||delete vu[le])}(nt,tt,ft,Et)}this.edges=Uc,this.cells=vu,Tg=dy=Uc=vu=null}function E3(){var e=ab,o=Sk,x=null;function T(N){return new ub(N.map(function(z,nt){var tt=[Math.round(e(z,nt,N)/Bo)*Bo,Math.round(o(z,nt,N)/Bo)*Bo];return tt.index=nt,tt.data=z,tt}),x)}return T.polygons=function(N){return T(N).polygons()},T.links=function(N){return T(N).links()},T.triangles=function(N){return T(N).triangles()},T.x=function(N){return arguments.length?(e=typeof N=="function"?N:b3(+N),T):e},T.y=function(N){return arguments.length?(o=typeof N=="function"?N:b3(+N),T):o},T.extent=function(N){return arguments.length?(x=N==null?null:[[+N[0][0],+N[0][1]],[+N[1][0],+N[1][1]]],T):x&&[[x[0][0],x[0][1]],[x[1][0],x[1][1]]]},T.size=function(N){return arguments.length?(x=N==null?null:[[0,0],[+N[0],+N[1]]],T):x&&[x[1][0]-x[0][0],x[1][1]-x[0][1]]},T}function fy(e){return function(){return e}}function T3(e,o,x){this.target=e,this.type=o,this.transform=x}function hd(e,o,x){this.k=e,this.x=o,this.y=x}ub.prototype={constructor:ub,polygons:function(){var e=this.edges;return this.cells.map(function(o){var x=o.halfedges.map(function(T){return kx(o,e[T])});return x.data=o.site.data,x})},triangles:function(){var e=[],o=this.edges;return this.cells.forEach(function(x,T){if(z=(N=x.halfedges).length)for(var N,z,nt,tt=x.site,ft=-1,Et=o[N[z-1]],Dt=Et.left===tt?Et.right:Et.left;++ft<z;)nt=Dt,Dt=(Et=o[N[ft]]).left===tt?Et.right:Et.left,nt&&Dt&&T<nt.index&&T<Dt.index&&S3(tt,nt,Dt)<0&&e.push([tt.data,nt.data,Dt.data])}),e},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(e,o,x){for(var T,N,z=this,nt=z._found||0,tt=z.cells.length;!(N=z.cells[nt]);)if(++nt>=tt)return null;var ft=e-N.site[0],Et=o-N.site[1],Dt=ft*ft+Et*Et;do N=z.cells[T=nt],nt=null,N.halfedges.forEach(function(Zt){var Rt=z.edges[Zt],ie=Rt.left;if(ie!==N.site&&ie||(ie=Rt.right)){var le=e-ie[0],_e=o-ie[1],xe=le*le+_e*_e;xe<Dt&&(Dt=xe,nt=ie.index)}});while(nt!==null);return z._found=T,x==null||Dt<=x*x?N.site:null}},hd.prototype={constructor:hd,scale:function(e){return e===1?this:new hd(this.k*e,this.x,this.y)},translate:function(e,o){return e===0&o===0?this:new hd(this.k,this.x+this.k*e,this.y+this.k*o)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var py=new hd(1,0,0);function A3(e){for(;!e.__zoom;)if(!(e=e.parentNode))return py;return e.__zoom}function Ax(){sr.stopImmediatePropagation()}function Ag(){sr.preventDefault(),sr.stopImmediatePropagation()}function Ox(){return!sr.ctrlKey&&!sr.button}function O3(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function M3(){return this.__zoom||py}function L3(){return-sr.deltaY*(sr.deltaMode===1?.05:sr.deltaMode?1:.002)}function Ku(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ju(e,o,x){var T=e.invertX(o[0][0])-x[0][0],N=e.invertX(o[1][0])-x[1][0],z=e.invertY(o[0][1])-x[0][1],nt=e.invertY(o[1][1])-x[1][1];return e.translate(N>T?(T+N)/2:Math.min(0,T)||Math.max(0,N),nt>z?(z+nt)/2:Math.min(0,z)||Math.max(0,nt))}function Mx(){var e,o,x=Ox,T=O3,N=Ju,z=L3,nt=Ku,tt=[0,1/0],ft=[[-1/0,-1/0],[1/0,1/0]],Et=250,Dt=Cn,Zt=Ue("start","zoom","end"),Rt=500,ie=0;function le(Ie){Ie.property("__zoom",M3).on("wheel.zoom",en).on("mousedown.zoom",bn).on("dblclick.zoom",kn).filter(nt).on("touchstart.zoom",Wn).on("touchmove.zoom",un).on("touchend.zoom touchcancel.zoom",jn).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function _e(Ie,qe){return(qe=Math.max(tt[0],Math.min(tt[1],qe)))===Ie.k?Ie:new hd(qe,Ie.x,Ie.y)}function xe(Ie,qe,Tn){var wn=qe[0]-Tn[0]*Ie.k,An=qe[1]-Tn[1]*Ie.k;return wn===Ie.x&&An===Ie.y?Ie:new hd(Ie.k,wn,An)}function pe(Ie){return[(+Ie[0][0]+ +Ie[1][0])/2,(+Ie[0][1]+ +Ie[1][1])/2]}function Le(Ie,qe,Tn){Ie.on("start.zoom",function(){Ae(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){Ae(this,arguments).end()}).tween("zoom",function(){var wn=this,An=arguments,pr=Ae(wn,An),Er=T.apply(wn,An),Qr=Tn==null?pe(Er):typeof Tn=="function"?Tn.apply(wn,An):Tn,Hi=Math.max(Er[1][0]-Er[0][0],Er[1][1]-Er[0][1]),Yi=wn.__zoom,Dr=typeof qe=="function"?qe.apply(wn,An):qe,po=Dt(Yi.invert(Qr).concat(Hi/Yi.k),Dr.invert(Qr).concat(Hi/Dr.k));return function(pi){if(pi===1)pi=Dr;else{var hi=po(pi),co=Hi/hi[2];pi=new hd(co,Qr[0]-hi[0]*co,Qr[1]-hi[1]*co)}pr.zoom(null,pi)}})}function Ae(Ie,qe,Tn){return!Tn&&Ie.__zooming||new Re(Ie,qe)}function Re(Ie,qe){this.that=Ie,this.args=qe,this.active=0,this.extent=T.apply(Ie,qe),this.taps=0}function en(){if(x.apply(this,arguments)){var Ie=Ae(this,arguments),qe=this.__zoom,Tn=Math.max(tt[0],Math.min(tt[1],qe.k*Math.pow(2,z.apply(this,arguments)))),wn=wc(this);if(Ie.wheel)Ie.mouse[0][0]===wn[0]&&Ie.mouse[0][1]===wn[1]||(Ie.mouse[1]=qe.invert(Ie.mouse[0]=wn)),clearTimeout(Ie.wheel);else{if(qe.k===Tn)return;Ie.mouse=[wn,qe.invert(wn)],Za(this),Ie.start()}Ag(),Ie.wheel=setTimeout(An,150),Ie.zoom("mouse",N(xe(_e(qe,Tn),Ie.mouse[0],Ie.mouse[1]),Ie.extent,ft))}function An(){Ie.wheel=null,Ie.end()}}function bn(){if(!o&&x.apply(this,arguments)){var Ie=Ae(this,arguments,!0),qe=ao(sr.view).on("mousemove.zoom",pr,!0).on("mouseup.zoom",Er,!0),Tn=wc(this),wn=sr.clientX,An=sr.clientY;ds(sr.view),Ax(),Ie.mouse=[Tn,this.__zoom.invert(Tn)],Za(this),Ie.start()}function pr(){if(Ag(),!Ie.moved){var Qr=sr.clientX-wn,Hi=sr.clientY-An;Ie.moved=Qr*Qr+Hi*Hi>ie}Ie.zoom("mouse",N(xe(Ie.that.__zoom,Ie.mouse[0]=wc(Ie.that),Ie.mouse[1]),Ie.extent,ft))}function Er(){qe.on("mousemove.zoom mouseup.zoom",null),ra(sr.view,Ie.moved),Ag(),Ie.end()}}function kn(){if(x.apply(this,arguments)){var Ie=this.__zoom,qe=wc(this),Tn=Ie.invert(qe),wn=Ie.k*(sr.shiftKey?.5:2),An=N(xe(_e(Ie,wn),qe,Tn),T.apply(this,arguments),ft);Ag(),Et>0?ao(this).transition().duration(Et).call(Le,An,qe):ao(this).call(le.transform,An)}}function Wn(){if(x.apply(this,arguments)){var Ie,qe,Tn,wn,An=sr.touches,pr=An.length,Er=Ae(this,arguments,sr.changedTouches.length===pr);for(Ax(),qe=0;qe<pr;++qe)wn=[wn=$s(this,An,(Tn=An[qe]).identifier),this.__zoom.invert(wn),Tn.identifier],Er.touch0?Er.touch1||Er.touch0[2]===wn[2]||(Er.touch1=wn,Er.taps=0):(Er.touch0=wn,Ie=!0,Er.taps=1+!!e);e&&(e=clearTimeout(e)),Ie&&(Er.taps<2&&(e=setTimeout(function(){e=null},Rt)),Za(this),Er.start())}}function un(){if(this.__zooming){var Ie,qe,Tn,wn,An=Ae(this,arguments),pr=sr.changedTouches,Er=pr.length;for(Ag(),e&&(e=clearTimeout(e)),An.taps=0,Ie=0;Ie<Er;++Ie)Tn=$s(this,pr,(qe=pr[Ie]).identifier),An.touch0&&An.touch0[2]===qe.identifier?An.touch0[0]=Tn:An.touch1&&An.touch1[2]===qe.identifier&&(An.touch1[0]=Tn);if(qe=An.that.__zoom,An.touch1){var Qr=An.touch0[0],Hi=An.touch0[1],Yi=An.touch1[0],Dr=An.touch1[1],po=(po=Yi[0]-Qr[0])*po+(po=Yi[1]-Qr[1])*po,pi=(pi=Dr[0]-Hi[0])*pi+(pi=Dr[1]-Hi[1])*pi;qe=_e(qe,Math.sqrt(po/pi)),Tn=[(Qr[0]+Yi[0])/2,(Qr[1]+Yi[1])/2],wn=[(Hi[0]+Dr[0])/2,(Hi[1]+Dr[1])/2]}else{if(!An.touch0)return;Tn=An.touch0[0],wn=An.touch0[1]}An.zoom("touch",N(xe(qe,Tn,wn),An.extent,ft))}}function jn(){if(this.__zooming){var Ie,qe,Tn=Ae(this,arguments),wn=sr.changedTouches,An=wn.length;for(Ax(),o&&clearTimeout(o),o=setTimeout(function(){o=null},Rt),Ie=0;Ie<An;++Ie)qe=wn[Ie],Tn.touch0&&Tn.touch0[2]===qe.identifier?delete Tn.touch0:Tn.touch1&&Tn.touch1[2]===qe.identifier&&delete Tn.touch1;if(Tn.touch1&&!Tn.touch0&&(Tn.touch0=Tn.touch1,delete Tn.touch1),Tn.touch0)Tn.touch0[1]=this.__zoom.invert(Tn.touch0[0]);else if(Tn.end(),Tn.taps===2){var pr=ao(this).on("dblclick.zoom");pr&&pr.apply(this,arguments)}}}return le.transform=function(Ie,qe,Tn){var wn=Ie.selection?Ie.selection():Ie;wn.property("__zoom",M3),Ie!==wn?Le(Ie,qe,Tn):wn.interrupt().each(function(){Ae(this,arguments).start().zoom(null,typeof qe=="function"?qe.apply(this,arguments):qe).end()})},le.scaleBy=function(Ie,qe,Tn){le.scaleTo(Ie,function(){var wn=this.__zoom.k,An=typeof qe=="function"?qe.apply(this,arguments):qe;return wn*An},Tn)},le.scaleTo=function(Ie,qe,Tn){le.transform(Ie,function(){var wn=T.apply(this,arguments),An=this.__zoom,pr=Tn==null?pe(wn):typeof Tn=="function"?Tn.apply(this,arguments):Tn,Er=An.invert(pr),Qr=typeof qe=="function"?qe.apply(this,arguments):qe;return N(xe(_e(An,Qr),pr,Er),wn,ft)},Tn)},le.translateBy=function(Ie,qe,Tn){le.transform(Ie,function(){return N(this.__zoom.translate(typeof qe=="function"?qe.apply(this,arguments):qe,typeof Tn=="function"?Tn.apply(this,arguments):Tn),T.apply(this,arguments),ft)})},le.translateTo=function(Ie,qe,Tn,wn){le.transform(Ie,function(){var An=T.apply(this,arguments),pr=this.__zoom,Er=wn==null?pe(An):typeof wn=="function"?wn.apply(this,arguments):wn;return N(py.translate(Er[0],Er[1]).scale(pr.k).translate(typeof qe=="function"?-qe.apply(this,arguments):-qe,typeof Tn=="function"?-Tn.apply(this,arguments):-Tn),An,ft)},wn)},Re.prototype={start:function(){return++this.active==1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(Ie,qe){return this.mouse&&Ie!=="mouse"&&(this.mouse[1]=qe.invert(this.mouse[0])),this.touch0&&Ie!=="touch"&&(this.touch0[1]=qe.invert(this.touch0[0])),this.touch1&&Ie!=="touch"&&(this.touch1[1]=qe.invert(this.touch1[0])),this.that.__zoom=qe,this.emit("zoom"),this},end:function(){return--this.active==0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(Ie){Cr(new T3(le,Ie,this.that.__zoom),Zt.apply,Zt,[Ie,this.that,this.args])}},le.wheelDelta=function(Ie){return arguments.length?(z=typeof Ie=="function"?Ie:fy(+Ie),le):z},le.filter=function(Ie){return arguments.length?(x=typeof Ie=="function"?Ie:fy(!!Ie),le):x},le.touchable=function(Ie){return arguments.length?(nt=typeof Ie=="function"?Ie:fy(!!Ie),le):nt},le.extent=function(Ie){return arguments.length?(T=typeof Ie=="function"?Ie:fy([[+Ie[0][0],+Ie[0][1]],[+Ie[1][0],+Ie[1][1]]]),le):T},le.scaleExtent=function(Ie){return arguments.length?(tt[0]=+Ie[0],tt[1]=+Ie[1],le):[tt[0],tt[1]]},le.translateExtent=function(Ie){return arguments.length?(ft[0][0]=+Ie[0][0],ft[1][0]=+Ie[1][0],ft[0][1]=+Ie[0][1],ft[1][1]=+Ie[1][1],le):[[ft[0][0],ft[0][1]],[ft[1][0],ft[1][1]]]},le.constrain=function(Ie){return arguments.length?(N=Ie,le):N},le.duration=function(Ie){return arguments.length?(Et=+Ie,le):Et},le.interpolate=function(Ie){return arguments.length?(Dt=Ie,le):Dt},le.on=function(){var Ie=Zt.on.apply(Zt,arguments);return Ie===Zt?le:Ie},le.clickDistance=function(Ie){return arguments.length?(ie=(Ie=+Ie)*Ie,le):Math.sqrt(ie)},le}A3.prototype=hd.prototype},681:(d,u,s)=>{d.exports={graphlib:s(574),layout:s(8123),debug:s(7570),util:{time:s(1138).time,notime:s(1138).notime},version:s(8177)}},2188:(d,u,s)=>{var n=s(8436),m=s(4079);d.exports={run:function(g){var y=g.graph().acyclicer==="greedy"?m(g,function(k){return function(E){return k.edge(E).weight}}(g)):function(k){var E=[],C={},v={};return n.forEach(k.nodes(),function h(a){n.has(v,a)||(v[a]=!0,C[a]=!0,n.forEach(k.outEdges(a),function(O){n.has(C,O.w)?E.push(O):h(O.w)}),delete C[a])}),E}(g);n.forEach(y,function(k){var E=g.edge(k);g.removeEdge(k),E.forwardName=k.name,E.reversed=!0,g.setEdge(k.w,k.v,E,n.uniqueId("rev"))})},undo:function(g){n.forEach(g.edges(),function(y){var k=g.edge(y);if(k.reversed){g.removeEdge(y);var E=k.forwardName;delete k.reversed,delete k.forwardName,g.setEdge(y.w,y.v,k,E)}})}}},1133:(d,u,s)=>{var n=s(8436),m=s(1138);function g(y,k,E,C,v,h){var a={width:0,height:0,rank:h,borderType:k},O=v[k][h-1],_=m.addDummyNode(y,"border",a,E);v[k][h]=_,y.setParent(_,C),O&&y.setEdge(O,_,{weight:1})}d.exports=function(y){n.forEach(y.children(),function k(E){var C=y.children(E),v=y.node(E);if(C.length&&n.forEach(C,k),n.has(v,"minRank")){v.borderLeft=[],v.borderRight=[];for(var h=v.minRank,a=v.maxRank+1;h<a;++h)g(y,"borderLeft","_bl",E,v,h),g(y,"borderRight","_br",E,v,h)}})}},3258:(d,u,s)=>{var n=s(8436);function m(E){n.forEach(E.nodes(),function(C){g(E.node(C))}),n.forEach(E.edges(),function(C){g(E.edge(C))})}function g(E){var C=E.width;E.width=E.height,E.height=C}function y(E){E.y=-E.y}function k(E){var C=E.x;E.x=E.y,E.y=C}d.exports={adjust:function(E){var C=E.graph().rankdir.toLowerCase();C!=="lr"&&C!=="rl"||m(E)},undo:function(E){var C=E.graph().rankdir.toLowerCase();C!=="bt"&&C!=="rl"||function(v){n.forEach(v.nodes(),function(h){y(v.node(h))}),n.forEach(v.edges(),function(h){var a=v.edge(h);n.forEach(a.points,y),n.has(a,"y")&&y(a)})}(E),C!=="lr"&&C!=="rl"||(function(v){n.forEach(v.nodes(),function(h){k(v.node(h))}),n.forEach(v.edges(),function(h){var a=v.edge(h);n.forEach(a.points,k),n.has(a,"x")&&k(a)})}(E),m(E))}}},7822:d=>{function u(){var m={};m._next=m._prev=m,this._sentinel=m}function s(m){m._prev._next=m._next,m._next._prev=m._prev,delete m._next,delete m._prev}function n(m,g){if(m!=="_next"&&m!=="_prev")return g}d.exports=u,u.prototype.dequeue=function(){var m=this._sentinel,g=m._prev;if(g!==m)return s(g),g},u.prototype.enqueue=function(m){var g=this._sentinel;m._prev&&m._next&&s(m),m._next=g._next,g._next._prev=m,g._next=m,m._prev=g},u.prototype.toString=function(){for(var m=[],g=this._sentinel,y=g._prev;y!==g;)m.push(JSON.stringify(y,n)),y=y._prev;return"["+m.join(", ")+"]"}},7570:(d,u,s)=>{var n=s(8436),m=s(1138),g=s(574).Graph;d.exports={debugOrdering:function(y){var k=m.buildLayerMatrix(y),E=new g({compound:!0,multigraph:!0}).setGraph({});return n.forEach(y.nodes(),function(C){E.setNode(C,{label:C}),E.setParent(C,"layer"+y.node(C).rank)}),n.forEach(y.edges(),function(C){E.setEdge(C.v,C.w,{},C.name)}),n.forEach(k,function(C,v){var h="layer"+v;E.setNode(h,{rank:"same"}),n.reduce(C,function(a,O){return E.setEdge(a,O,{style:"invis"}),O})}),E}}},574:(d,u,s)=>{var n;try{n=s(8282)}catch(m){}n||(n=window.graphlib),d.exports=n},4079:(d,u,s)=>{var n=s(8436),m=s(574).Graph,g=s(7822);d.exports=function(C,v){if(C.nodeCount()<=1)return[];var h=function(O,_){var M=new m,P=0,R=0;n.forEach(O.nodes(),function(j){M.setNode(j,{v:j,in:0,out:0})}),n.forEach(O.edges(),function(j){var X=M.edge(j.v,j.w)||0,W=_(j),V=X+W;M.setEdge(j.v,j.w,V),R=Math.max(R,M.node(j.v).out+=W),P=Math.max(P,M.node(j.w).in+=W)});var $=n.range(R+P+3).map(function(){return new g}),F=P+1;return n.forEach(M.nodes(),function(j){E($,F,M.node(j))}),{graph:M,buckets:$,zeroIdx:F}}(C,v||y),a=function(O,_,M){for(var P,R=[],$=_[_.length-1],F=_[0];O.nodeCount();){for(;P=F.dequeue();)k(O,_,M,P);for(;P=$.dequeue();)k(O,_,M,P);if(O.nodeCount()){for(var j=_.length-2;j>0;--j)if(P=_[j].dequeue()){R=R.concat(k(O,_,M,P,!0));break}}}return R}(h.graph,h.buckets,h.zeroIdx);return n.flatten(n.map(a,function(O){return C.outEdges(O.v,O.w)}),!0)};var y=n.constant(1);function k(C,v,h,a,O){var _=O?[]:void 0;return n.forEach(C.inEdges(a.v),function(M){var P=C.edge(M),R=C.node(M.v);O&&_.push({v:M.v,w:M.w}),R.out-=P,E(v,h,R)}),n.forEach(C.outEdges(a.v),function(M){var P=C.edge(M),R=M.w,$=C.node(R);$.in-=P,E(v,h,$)}),C.removeNode(a.v),_}function E(C,v,h){h.out?h.in?C[h.out-h.in+v].enqueue(h):C[C.length-1].enqueue(h):C[0].enqueue(h)}},8123:(d,u,s)=>{var n=s(8436),m=s(2188),g=s(5995),y=s(8093),k=s(1138).normalizeRanks,E=s(4219),C=s(1138).removeEmptyRanks,v=s(2981),h=s(1133),a=s(3258),O=s(3408),_=s(7873),M=s(1138),P=s(574).Graph;d.exports=function(pt,ct){var lt=ct&&ct.debugTiming?M.time:M.notime;lt("layout",function(){var J=lt("  buildLayoutGraph",function(){return function(Bt){var Tt=new P({multigraph:!0,compound:!0}),Ct=it(Bt.graph());return Tt.setGraph(n.merge({},$,st(Ct,R),n.pick(Ct,F))),n.forEach(Bt.nodes(),function(St){var at=it(Bt.node(St));Tt.setNode(St,n.defaults(st(at,j),X)),Tt.setParent(St,Bt.parent(St))}),n.forEach(Bt.edges(),function(St){var at=it(Bt.edge(St));Tt.setEdge(St,n.merge({},V,st(at,W),n.pick(at,K)))}),Tt}(pt)});lt("  runLayout",function(){(function(Bt,Tt){Tt("    makeSpaceForEdgeLabels",function(){(function(Ct){var St=Ct.graph();St.ranksep/=2,n.forEach(Ct.edges(),function(at){var yt=Ct.edge(at);yt.minlen*=2,yt.labelpos.toLowerCase()!=="c"&&(St.rankdir==="TB"||St.rankdir==="BT"?yt.width+=yt.labeloffset:yt.height+=yt.labeloffset)})})(Bt)}),Tt("    removeSelfEdges",function(){(function(Ct){n.forEach(Ct.edges(),function(St){if(St.v===St.w){var at=Ct.node(St.v);at.selfEdges||(at.selfEdges=[]),at.selfEdges.push({e:St,label:Ct.edge(St)}),Ct.removeEdge(St)}})})(Bt)}),Tt("    acyclic",function(){m.run(Bt)}),Tt("    nestingGraph.run",function(){v.run(Bt)}),Tt("    rank",function(){y(M.asNonCompoundGraph(Bt))}),Tt("    injectEdgeLabelProxies",function(){(function(Ct){n.forEach(Ct.edges(),function(St){var at=Ct.edge(St);if(at.width&&at.height){var yt=Ct.node(St.v),kt={rank:(Ct.node(St.w).rank-yt.rank)/2+yt.rank,e:St};M.addDummyNode(Ct,"edge-proxy",kt,"_ep")}})})(Bt)}),Tt("    removeEmptyRanks",function(){C(Bt)}),Tt("    nestingGraph.cleanup",function(){v.cleanup(Bt)}),Tt("    normalizeRanks",function(){k(Bt)}),Tt("    assignRankMinMax",function(){(function(Ct){var St=0;n.forEach(Ct.nodes(),function(at){var yt=Ct.node(at);yt.borderTop&&(yt.minRank=Ct.node(yt.borderTop).rank,yt.maxRank=Ct.node(yt.borderBottom).rank,St=n.max(St,yt.maxRank))}),Ct.graph().maxRank=St})(Bt)}),Tt("    removeEdgeLabelProxies",function(){(function(Ct){n.forEach(Ct.nodes(),function(St){var at=Ct.node(St);at.dummy==="edge-proxy"&&(Ct.edge(at.e).labelRank=at.rank,Ct.removeNode(St))})})(Bt)}),Tt("    normalize.run",function(){g.run(Bt)}),Tt("    parentDummyChains",function(){E(Bt)}),Tt("    addBorderSegments",function(){h(Bt)}),Tt("    order",function(){O(Bt)}),Tt("    insertSelfEdges",function(){(function(Ct){var St=M.buildLayerMatrix(Ct);n.forEach(St,function(at){var yt=0;n.forEach(at,function(kt,xt){var Pt=Ct.node(kt);Pt.order=xt+yt,n.forEach(Pt.selfEdges,function(mt){M.addDummyNode(Ct,"selfedge",{width:mt.label.width,height:mt.label.height,rank:Pt.rank,order:xt+ ++yt,e:mt.e,label:mt.label},"_se")}),delete Pt.selfEdges})})})(Bt)}),Tt("    adjustCoordinateSystem",function(){a.adjust(Bt)}),Tt("    position",function(){_(Bt)}),Tt("    positionSelfEdges",function(){(function(Ct){n.forEach(Ct.nodes(),function(St){var at=Ct.node(St);if(at.dummy==="selfedge"){var yt=Ct.node(at.e.v),kt=yt.x+yt.width/2,xt=yt.y,Pt=at.x-kt,mt=yt.height/2;Ct.setEdge(at.e,at.label),Ct.removeNode(St),at.label.points=[{x:kt+2*Pt/3,y:xt-mt},{x:kt+5*Pt/6,y:xt-mt},{x:kt+Pt,y:xt},{x:kt+5*Pt/6,y:xt+mt},{x:kt+2*Pt/3,y:xt+mt}],at.label.x=at.x,at.label.y=at.y}})})(Bt)}),Tt("    removeBorderNodes",function(){(function(Ct){n.forEach(Ct.nodes(),function(St){if(Ct.children(St).length){var at=Ct.node(St),yt=Ct.node(at.borderTop),kt=Ct.node(at.borderBottom),xt=Ct.node(n.last(at.borderLeft)),Pt=Ct.node(n.last(at.borderRight));at.width=Math.abs(Pt.x-xt.x),at.height=Math.abs(kt.y-yt.y),at.x=xt.x+at.width/2,at.y=yt.y+at.height/2}}),n.forEach(Ct.nodes(),function(St){Ct.node(St).dummy==="border"&&Ct.removeNode(St)})})(Bt)}),Tt("    normalize.undo",function(){g.undo(Bt)}),Tt("    fixupEdgeLabelCoords",function(){(function(Ct){n.forEach(Ct.edges(),function(St){var at=Ct.edge(St);if(n.has(at,"x"))switch(at.labelpos!=="l"&&at.labelpos!=="r"||(at.width-=at.labeloffset),at.labelpos){case"l":at.x-=at.width/2+at.labeloffset;break;case"r":at.x+=at.width/2+at.labeloffset}})})(Bt)}),Tt("    undoCoordinateSystem",function(){a.undo(Bt)}),Tt("    translateGraph",function(){(function(Ct){var St=Number.POSITIVE_INFINITY,at=0,yt=Number.POSITIVE_INFINITY,kt=0,xt=Ct.graph(),Pt=xt.marginx||0,mt=xt.marginy||0;function Yt(ne){var Qt=ne.x,Kt=ne.y,Xt=ne.width,se=ne.height;St=Math.min(St,Qt-Xt/2),at=Math.max(at,Qt+Xt/2),yt=Math.min(yt,Kt-se/2),kt=Math.max(kt,Kt+se/2)}n.forEach(Ct.nodes(),function(ne){Yt(Ct.node(ne))}),n.forEach(Ct.edges(),function(ne){var Qt=Ct.edge(ne);n.has(Qt,"x")&&Yt(Qt)}),St-=Pt,yt-=mt,n.forEach(Ct.nodes(),function(ne){var Qt=Ct.node(ne);Qt.x-=St,Qt.y-=yt}),n.forEach(Ct.edges(),function(ne){var Qt=Ct.edge(ne);n.forEach(Qt.points,function(Kt){Kt.x-=St,Kt.y-=yt}),n.has(Qt,"x")&&(Qt.x-=St),n.has(Qt,"y")&&(Qt.y-=yt)}),xt.width=at-St+Pt,xt.height=kt-yt+mt})(Bt)}),Tt("    assignNodeIntersects",function(){(function(Ct){n.forEach(Ct.edges(),function(St){var at,yt,kt=Ct.edge(St),xt=Ct.node(St.v),Pt=Ct.node(St.w);kt.points?(at=kt.points[0],yt=kt.points[kt.points.length-1]):(kt.points=[],at=Pt,yt=xt),kt.points.unshift(M.intersectRect(xt,at)),kt.points.push(M.intersectRect(Pt,yt))})})(Bt)}),Tt("    reversePoints",function(){(function(Ct){n.forEach(Ct.edges(),function(St){var at=Ct.edge(St);at.reversed&&at.points.reverse()})})(Bt)}),Tt("    acyclic.undo",function(){m.undo(Bt)})})(J,lt)}),lt("  updateInputGraph",function(){(function(Bt,Tt){n.forEach(Bt.nodes(),function(Ct){var St=Bt.node(Ct),at=Tt.node(Ct);St&&(St.x=at.x,St.y=at.y,Tt.children(Ct).length&&(St.width=at.width,St.height=at.height))}),n.forEach(Bt.edges(),function(Ct){var St=Bt.edge(Ct),at=Tt.edge(Ct);St.points=at.points,n.has(at,"x")&&(St.x=at.x,St.y=at.y)}),Bt.graph().width=Tt.graph().width,Bt.graph().height=Tt.graph().height})(pt,J)})})};var R=["nodesep","edgesep","ranksep","marginx","marginy"],$={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},F=["acyclicer","ranker","rankdir","align"],j=["width","height"],X={width:0,height:0},W=["minlen","weight","width","height","labeloffset"],V={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},K=["labelpos"];function st(pt,ct){return n.mapValues(n.pick(pt,ct),Number)}function it(pt){var ct={};return n.forEach(pt,function(lt,J){ct[J.toLowerCase()]=lt}),ct}},8436:(d,u,s)=>{var n;try{n={cloneDeep:s(361),constant:s(5703),defaults:s(1747),each:s(6073),filter:s(3105),find:s(3311),flatten:s(5564),forEach:s(4486),forIn:s(2620),has:s(8721),isUndefined:s(2353),last:s(928),map:s(5161),mapValues:s(6604),max:s(6162),merge:s(3857),min:s(3632),minBy:s(2762),now:s(7771),pick:s(9722),range:s(6026),reduce:s(4061),sortBy:s(9734),uniqueId:s(3955),values:s(2628),zipObject:s(7287)}}catch(m){}n||(n=window._),d.exports=n},2981:(d,u,s)=>{var n=s(8436),m=s(1138);function g(y,k,E,C,v,h,a){var O=y.children(a);if(O.length){var _=m.addBorderNode(y,"_bt"),M=m.addBorderNode(y,"_bb"),P=y.node(a);y.setParent(_,a),P.borderTop=_,y.setParent(M,a),P.borderBottom=M,n.forEach(O,function(R){g(y,k,E,C,v,h,R);var $=y.node(R),F=$.borderTop?$.borderTop:R,j=$.borderBottom?$.borderBottom:R,X=$.borderTop?C:2*C,W=F!==j?1:v-h[a]+1;y.setEdge(_,F,{weight:X,minlen:W,nestingEdge:!0}),y.setEdge(j,M,{weight:X,minlen:W,nestingEdge:!0})}),y.parent(a)||y.setEdge(k,_,{weight:0,minlen:v+h[a]})}else a!==k&&y.setEdge(k,a,{weight:0,minlen:E})}d.exports={run:function(y){var k=m.addDummyNode(y,"root",{},"_root"),E=function(a){var O={};function _(M,P){var R=a.children(M);R&&R.length&&n.forEach(R,function($){_($,P+1)}),O[M]=P}return n.forEach(a.children(),function(M){_(M,1)}),O}(y),C=n.max(n.values(E))-1,v=2*C+1;y.graph().nestingRoot=k,n.forEach(y.edges(),function(a){y.edge(a).minlen*=v});var h=function(a){return n.reduce(a.edges(),function(O,_){return O+a.edge(_).weight},0)}(y)+1;n.forEach(y.children(),function(a){g(y,k,v,h,C,E,a)}),y.graph().nodeRankFactor=v},cleanup:function(y){var k=y.graph();y.removeNode(k.nestingRoot),delete k.nestingRoot,n.forEach(y.edges(),function(E){y.edge(E).nestingEdge&&y.removeEdge(E)})}}},5995:(d,u,s)=>{var n=s(8436),m=s(1138);d.exports={run:function(g){g.graph().dummyChains=[],n.forEach(g.edges(),function(y){(function(k,E){var C,v,h,a=E.v,O=k.node(a).rank,_=E.w,M=k.node(_).rank,P=E.name,R=k.edge(E),$=R.labelRank;if(M!==O+1){for(k.removeEdge(E),h=0,++O;O<M;++h,++O)R.points=[],v={width:0,height:0,edgeLabel:R,edgeObj:E,rank:O},C=m.addDummyNode(k,"edge",v,"_d"),O===$&&(v.width=R.width,v.height=R.height,v.dummy="edge-label",v.labelpos=R.labelpos),k.setEdge(a,C,{weight:R.weight},P),h===0&&k.graph().dummyChains.push(C),a=C;k.setEdge(a,_,{weight:R.weight},P)}})(g,y)})},undo:function(g){n.forEach(g.graph().dummyChains,function(y){var k,E=g.node(y),C=E.edgeLabel;for(g.setEdge(E.edgeObj,C);E.dummy;)k=g.successors(y)[0],g.removeNode(y),C.points.push({x:E.x,y:E.y}),E.dummy==="edge-label"&&(C.x=E.x,C.y=E.y,C.width=E.width,C.height=E.height),y=k,E=g.node(y)})}}},5093:(d,u,s)=>{var n=s(8436);d.exports=function(m,g,y){var k,E={};n.forEach(y,function(C){for(var v,h,a=m.parent(C);a;){if((v=m.parent(a))?(h=E[v],E[v]=a):(h=k,k=a),h&&h!==a)return void g.setEdge(h,a);a=v}})}},5439:(d,u,s)=>{var n=s(8436);d.exports=function(m,g){return n.map(g,function(y){var k=m.inEdges(y);if(k.length){var E=n.reduce(k,function(C,v){var h=m.edge(v),a=m.node(v.v);return{sum:C.sum+h.weight*a.order,weight:C.weight+h.weight}},{sum:0,weight:0});return{v:y,barycenter:E.sum/E.weight,weight:E.weight}}return{v:y}})}},3128:(d,u,s)=>{var n=s(8436),m=s(574).Graph;d.exports=function(g,y,k){var E=function(v){for(var h;v.hasNode(h=n.uniqueId("_root")););return h}(g),C=new m({compound:!0}).setGraph({root:E}).setDefaultNodeLabel(function(v){return g.node(v)});return n.forEach(g.nodes(),function(v){var h=g.node(v),a=g.parent(v);(h.rank===y||h.minRank<=y&&y<=h.maxRank)&&(C.setNode(v),C.setParent(v,a||E),n.forEach(g[k](v),function(O){var _=O.v===v?O.w:O.v,M=C.edge(_,v),P=n.isUndefined(M)?0:M.weight;C.setEdge(_,v,{weight:g.edge(O).weight+P})}),n.has(h,"minRank")&&C.setNode(v,{borderLeft:h.borderLeft[y],borderRight:h.borderRight[y]}))}),C}},6630:(d,u,s)=>{var n=s(8436);function m(g,y,k){for(var E=n.zipObject(k,n.map(k,function(_,M){return M})),C=n.flatten(n.map(y,function(_){return n.sortBy(n.map(g.outEdges(_),function(M){return{pos:E[M.w],weight:g.edge(M).weight}}),"pos")}),!0),v=1;v<k.length;)v<<=1;var h=2*v-1;v-=1;var a=n.map(new Array(h),function(){return 0}),O=0;return n.forEach(C.forEach(function(_){var M=_.pos+v;a[M]+=_.weight;for(var P=0;M>0;)M%2&&(P+=a[M+1]),a[M=M-1>>1]+=_.weight;O+=_.weight*P})),O}d.exports=function(g,y){for(var k=0,E=1;E<y.length;++E)k+=m(g,y[E-1],y[E]);return k}},3408:(d,u,s)=>{var n=s(8436),m=s(2588),g=s(6630),y=s(1026),k=s(3128),E=s(5093),C=s(574).Graph,v=s(1138);function h(_,M,P){return n.map(M,function(R){return k(_,R,P)})}function a(_,M){var P=new C;n.forEach(_,function(R){var $=R.graph().root,F=y(R,$,P,M);n.forEach(F.vs,function(j,X){R.node(j).order=X}),E(R,P,F.vs)})}function O(_,M){n.forEach(M,function(P){n.forEach(P,function(R,$){_.node(R).order=$})})}d.exports=function(_){var M=v.maxRank(_),P=h(_,n.range(1,M+1),"inEdges"),R=h(_,n.range(M-1,-1,-1),"outEdges"),$=m(_);O(_,$);for(var F,j=Number.POSITIVE_INFINITY,X=0,W=0;W<4;++X,++W){a(X%2?P:R,X%4>=2),$=v.buildLayerMatrix(_);var V=g(_,$);V<j&&(W=0,F=n.cloneDeep($),j=V)}O(_,F)}},2588:(d,u,s)=>{var n=s(8436);d.exports=function(m){var g={},y=n.filter(m.nodes(),function(v){return!m.children(v).length}),k=n.max(n.map(y,function(v){return m.node(v).rank})),E=n.map(n.range(k+1),function(){return[]}),C=n.sortBy(y,function(v){return m.node(v).rank});return n.forEach(C,function v(h){if(!n.has(g,h)){g[h]=!0;var a=m.node(h);E[a.rank].push(h),n.forEach(m.successors(h),v)}}),E}},9567:(d,u,s)=>{var n=s(8436);d.exports=function(m,g){var y={};return n.forEach(m,function(k,E){var C=y[k.v]={indegree:0,in:[],out:[],vs:[k.v],i:E};n.isUndefined(k.barycenter)||(C.barycenter=k.barycenter,C.weight=k.weight)}),n.forEach(g.edges(),function(k){var E=y[k.v],C=y[k.w];n.isUndefined(E)||n.isUndefined(C)||(C.indegree++,E.out.push(y[k.w]))}),function(k){var E=[];function C(a){return function(O){var _,M,P,R;O.merged||(n.isUndefined(O.barycenter)||n.isUndefined(a.barycenter)||O.barycenter>=a.barycenter)&&(M=O,P=0,R=0,(_=a).weight&&(P+=_.barycenter*_.weight,R+=_.weight),M.weight&&(P+=M.barycenter*M.weight,R+=M.weight),_.vs=M.vs.concat(_.vs),_.barycenter=P/R,_.weight=R,_.i=Math.min(M.i,_.i),M.merged=!0)}}function v(a){return function(O){O.in.push(a),--O.indegree==0&&k.push(O)}}for(;k.length;){var h=k.pop();E.push(h),n.forEach(h.in.reverse(),C(h)),n.forEach(h.out,v(h))}return n.map(n.filter(E,function(a){return!a.merged}),function(a){return n.pick(a,["vs","i","barycenter","weight"])})}(n.filter(y,function(k){return!k.indegree}))}},1026:(d,u,s)=>{var n=s(8436),m=s(5439),g=s(9567),y=s(7304);d.exports=function k(E,C,v,h){var a=E.children(C),O=E.node(C),_=O?O.borderLeft:void 0,M=O?O.borderRight:void 0,P={};_&&(a=n.filter(a,function(W){return W!==_&&W!==M}));var R=m(E,a);n.forEach(R,function(W){if(E.children(W.v).length){var V=k(E,W.v,v,h);P[W.v]=V,n.has(V,"barycenter")&&(K=W,st=V,n.isUndefined(K.barycenter)?(K.barycenter=st.barycenter,K.weight=st.weight):(K.barycenter=(K.barycenter*K.weight+st.barycenter*st.weight)/(K.weight+st.weight),K.weight+=st.weight))}var K,st});var $=g(R,v);(function(W,V){n.forEach(W,function(K){K.vs=n.flatten(K.vs.map(function(st){return V[st]?V[st].vs:st}),!0)})})($,P);var F=y($,h);if(_&&(F.vs=n.flatten([_,F.vs,M],!0),E.predecessors(_).length)){var j=E.node(E.predecessors(_)[0]),X=E.node(E.predecessors(M)[0]);n.has(F,"barycenter")||(F.barycenter=0,F.weight=0),F.barycenter=(F.barycenter*F.weight+j.order+X.order)/(F.weight+2),F.weight+=2}return F}},7304:(d,u,s)=>{var n=s(8436),m=s(1138);function g(y,k,E){for(var C;k.length&&(C=n.last(k)).i<=E;)k.pop(),y.push(C.vs),E++;return E}d.exports=function(y,k){var E,C=m.partition(y,function(R){return n.has(R,"barycenter")}),v=C.lhs,h=n.sortBy(C.rhs,function(R){return-R.i}),a=[],O=0,_=0,M=0;v.sort((E=!!k,function(R,$){return R.barycenter<$.barycenter?-1:R.barycenter>$.barycenter?1:E?$.i-R.i:R.i-$.i})),M=g(a,h,M),n.forEach(v,function(R){M+=R.vs.length,a.push(R.vs),O+=R.barycenter*R.weight,_+=R.weight,M=g(a,h,M)});var P={vs:n.flatten(a,!0)};return _&&(P.barycenter=O/_,P.weight=_),P}},4219:(d,u,s)=>{var n=s(8436);d.exports=function(m){var g=function(y){var k={},E=0;return n.forEach(y.children(),function C(v){var h=E;n.forEach(y.children(v),C),k[v]={low:h,lim:E++}}),k}(m);n.forEach(m.graph().dummyChains,function(y){for(var k=m.node(y),E=k.edgeObj,C=function(M,P,R,$){var F,j,X=[],W=[],V=Math.min(P[R].low,P[$].low),K=Math.max(P[R].lim,P[$].lim);F=R;do F=M.parent(F),X.push(F);while(F&&(P[F].low>V||K>P[F].lim));for(j=F,F=$;(F=M.parent(F))!==j;)W.push(F);return{path:X.concat(W.reverse()),lca:j}}(m,g,E.v,E.w),v=C.path,h=C.lca,a=0,O=v[a],_=!0;y!==E.w;){if(k=m.node(y),_){for(;(O=v[a])!==h&&m.node(O).maxRank<k.rank;)a++;O===h&&(_=!1)}if(!_){for(;a<v.length-1&&m.node(O=v[a+1]).minRank<=k.rank;)a++;O=v[a]}m.setParent(y,O),y=m.successors(y)[0]}})}},3573:(d,u,s)=>{var n=s(8436),m=s(574).Graph,g=s(1138);function y(M,P){var R={};return n.reduce(P,function($,F){var j=0,X=0,W=$.length,V=n.last(F);return n.forEach(F,function(K,st){var it=function(ct,lt){if(ct.node(lt).dummy)return n.find(ct.predecessors(lt),function(J){return ct.node(J).dummy})}(M,K),pt=it?M.node(it).order:W;(it||K===V)&&(n.forEach(F.slice(X,st+1),function(ct){n.forEach(M.predecessors(ct),function(lt){var J=M.node(lt),Bt=J.order;!(Bt<j||pt<Bt)||J.dummy&&M.node(ct).dummy||E(R,lt,ct)})}),X=st+1,j=pt)}),F}),R}function k(M,P){var R={};function $(F,j,X,W,V){var K;n.forEach(n.range(j,X),function(st){K=F[st],M.node(K).dummy&&n.forEach(M.predecessors(K),function(it){var pt=M.node(it);pt.dummy&&(pt.order<W||pt.order>V)&&E(R,it,K)})})}return n.reduce(P,function(F,j){var X,W=-1,V=0;return n.forEach(j,function(K,st){if(M.node(K).dummy==="border"){var it=M.predecessors(K);it.length&&(X=M.node(it[0]).order,$(j,V,st,W,X),V=st,W=X)}$(j,V,j.length,X,F.length)}),j}),R}function E(M,P,R){if(P>R){var $=P;P=R,R=$}var F=M[P];F||(M[P]=F={}),F[R]=!0}function C(M,P,R){if(P>R){var $=P;P=R,R=$}return n.has(M[P],R)}function v(M,P,R,$){var F={},j={},X={};return n.forEach(P,function(W){n.forEach(W,function(V,K){F[V]=V,j[V]=V,X[V]=K})}),n.forEach(P,function(W){var V=-1;n.forEach(W,function(K){var st=$(K);if(st.length){st=n.sortBy(st,function(J){return X[J]});for(var it=(st.length-1)/2,pt=Math.floor(it),ct=Math.ceil(it);pt<=ct;++pt){var lt=st[pt];j[K]===K&&V<X[lt]&&!C(R,K,lt)&&(j[lt]=K,j[K]=F[K]=F[lt],V=X[lt])}}})}),{root:F,align:j}}function h(M,P,R,$,F){var j={},X=function(K,st,it,pt){var ct=new m,lt=K.graph(),J=function(Bt,Tt,Ct){return function(St,at,yt){var kt,xt=St.node(at),Pt=St.node(yt),mt=0;if(mt+=xt.width/2,n.has(xt,"labelpos"))switch(xt.labelpos.toLowerCase()){case"l":kt=-xt.width/2;break;case"r":kt=xt.width/2}if(kt&&(mt+=Ct?kt:-kt),kt=0,mt+=(xt.dummy?Tt:Bt)/2,mt+=(Pt.dummy?Tt:Bt)/2,mt+=Pt.width/2,n.has(Pt,"labelpos"))switch(Pt.labelpos.toLowerCase()){case"l":kt=Pt.width/2;break;case"r":kt=-Pt.width/2}return kt&&(mt+=Ct?kt:-kt),kt=0,mt}}(lt.nodesep,lt.edgesep,pt);return n.forEach(st,function(Bt){var Tt;n.forEach(Bt,function(Ct){var St=it[Ct];if(ct.setNode(St),Tt){var at=it[Tt],yt=ct.edge(at,St);ct.setEdge(at,St,Math.max(J(K,Ct,Tt),yt||0))}Tt=Ct})}),ct}(M,P,R,F),W=F?"borderLeft":"borderRight";function V(K,st){for(var it=X.nodes(),pt=it.pop(),ct={};pt;)ct[pt]?K(pt):(ct[pt]=!0,it.push(pt),it=it.concat(st(pt))),pt=it.pop()}return V(function(K){j[K]=X.inEdges(K).reduce(function(st,it){return Math.max(st,j[it.v]+X.edge(it))},0)},X.predecessors.bind(X)),V(function(K){var st=X.outEdges(K).reduce(function(pt,ct){return Math.min(pt,j[ct.w]-X.edge(ct))},Number.POSITIVE_INFINITY),it=M.node(K);st!==Number.POSITIVE_INFINITY&&it.borderType!==W&&(j[K]=Math.max(j[K],st))},X.successors.bind(X)),n.forEach($,function(K){j[K]=j[R[K]]}),j}function a(M,P){return n.minBy(n.values(P),function(R){var $=Number.NEGATIVE_INFINITY,F=Number.POSITIVE_INFINITY;return n.forIn(R,function(j,X){var W=function(V,K){return V.node(K).width}(M,X)/2;$=Math.max(j+W,$),F=Math.min(j-W,F)}),$-F})}function O(M,P){var R=n.values(P),$=n.min(R),F=n.max(R);n.forEach(["u","d"],function(j){n.forEach(["l","r"],function(X){var W,V=j+X,K=M[V];if(K!==P){var st=n.values(K);(W=X==="l"?$-n.min(st):F-n.max(st))&&(M[V]=n.mapValues(K,function(it){return it+W}))}})})}function _(M,P){return n.mapValues(M.ul,function(R,$){if(P)return M[P.toLowerCase()][$];var F=n.sortBy(n.map(M,$));return(F[1]+F[2])/2})}d.exports={positionX:function(M){var P,R=g.buildLayerMatrix(M),$=n.merge(y(M,R),k(M,R)),F={};n.forEach(["u","d"],function(X){P=X==="u"?R:n.values(R).reverse(),n.forEach(["l","r"],function(W){W==="r"&&(P=n.map(P,function(it){return n.values(it).reverse()}));var V=(X==="u"?M.predecessors:M.successors).bind(M),K=v(0,P,$,V),st=h(M,P,K.root,K.align,W==="r");W==="r"&&(st=n.mapValues(st,function(it){return-it})),F[X+W]=st})});var j=a(M,F);return O(F,j),_(F,M.graph().align)},findType1Conflicts:y,findType2Conflicts:k,addConflict:E,hasConflict:C,verticalAlignment:v,horizontalCompaction:h,alignCoordinates:O,findSmallestWidthAlignment:a,balance:_}},7873:(d,u,s)=>{var n=s(8436),m=s(1138),g=s(3573).positionX;d.exports=function(y){(function(k){var E=m.buildLayerMatrix(k),C=k.graph().ranksep,v=0;n.forEach(E,function(h){var a=n.max(n.map(h,function(O){return k.node(O).height}));n.forEach(h,function(O){k.node(O).y=v+a/2}),v+=a+C})})(y=m.asNonCompoundGraph(y)),n.forEach(g(y),function(k,E){y.node(E).x=k})}},300:(d,u,s)=>{var n=s(8436),m=s(574).Graph,g=s(6681).slack;function y(C,v){return n.forEach(C.nodes(),function h(a){n.forEach(v.nodeEdges(a),function(O){var _=O.v,M=a===_?O.w:_;C.hasNode(M)||g(v,O)||(C.setNode(M,{}),C.setEdge(a,M,{}),h(M))})}),C.nodeCount()}function k(C,v){return n.minBy(v.edges(),function(h){if(C.hasNode(h.v)!==C.hasNode(h.w))return g(v,h)})}function E(C,v,h){n.forEach(C.nodes(),function(a){v.node(a).rank+=h})}d.exports=function(C){var v,h,a=new m({directed:!1}),O=C.nodes()[0],_=C.nodeCount();for(a.setNode(O,{});y(a,C)<_;)v=k(a,C),h=a.hasNode(v.v)?g(C,v):-g(C,v),E(a,C,h);return a}},8093:(d,u,s)=>{var n=s(6681).longestPath,m=s(300),g=s(2472);d.exports=function(k){switch(k.graph().ranker){case"network-simplex":default:(function(E){g(E)})(k);break;case"tight-tree":(function(E){n(E),m(E)})(k);break;case"longest-path":y(k)}};var y=n},2472:(d,u,s)=>{var n=s(8436),m=s(300),g=s(6681).slack,y=s(6681).longestPath,k=s(574).alg.preorder,E=s(574).alg.postorder,C=s(1138).simplify;function v(F){F=C(F),y(F);var j,X=m(F);for(O(X),h(X,F);j=M(X);)R(X,F,j,P(X,F,j))}function h(F,j){var X=E(F,F.nodes());X=X.slice(0,X.length-1),n.forEach(X,function(W){(function(V,K,st){var it=V.node(st).parent;V.edge(st,it).cutvalue=a(V,K,st)})(F,j,W)})}function a(F,j,X){var W=F.node(X).parent,V=!0,K=j.edge(X,W),st=0;return K||(V=!1,K=j.edge(W,X)),st=K.weight,n.forEach(j.nodeEdges(X),function(it){var pt,ct,lt=it.v===X,J=lt?it.w:it.v;if(J!==W){var Bt=lt===V,Tt=j.edge(it).weight;if(st+=Bt?Tt:-Tt,pt=X,ct=J,F.hasEdge(pt,ct)){var Ct=F.edge(X,J).cutvalue;st+=Bt?-Ct:Ct}}}),st}function O(F,j){arguments.length<2&&(j=F.nodes()[0]),_(F,{},1,j)}function _(F,j,X,W,V){var K=X,st=F.node(W);return j[W]=!0,n.forEach(F.neighbors(W),function(it){n.has(j,it)||(X=_(F,j,X,it,W))}),st.low=K,st.lim=X++,V?st.parent=V:delete st.parent,X}function M(F){return n.find(F.edges(),function(j){return F.edge(j).cutvalue<0})}function P(F,j,X){var W=X.v,V=X.w;j.hasEdge(W,V)||(W=X.w,V=X.v);var K=F.node(W),st=F.node(V),it=K,pt=!1;K.lim>st.lim&&(it=st,pt=!0);var ct=n.filter(j.edges(),function(lt){return pt===$(0,F.node(lt.v),it)&&pt!==$(0,F.node(lt.w),it)});return n.minBy(ct,function(lt){return g(j,lt)})}function R(F,j,X,W){var V=X.v,K=X.w;F.removeEdge(V,K),F.setEdge(W.v,W.w,{}),O(F),h(F,j),function(st,it){var pt=n.find(st.nodes(),function(lt){return!it.node(lt).parent}),ct=k(st,pt);ct=ct.slice(1),n.forEach(ct,function(lt){var J=st.node(lt).parent,Bt=it.edge(lt,J),Tt=!1;Bt||(Bt=it.edge(J,lt),Tt=!0),it.node(lt).rank=it.node(J).rank+(Tt?Bt.minlen:-Bt.minlen)})}(F,j)}function $(F,j,X){return X.low<=j.lim&&j.lim<=X.lim}d.exports=v,v.initLowLimValues=O,v.initCutValues=h,v.calcCutValue=a,v.leaveEdge=M,v.enterEdge=P,v.exchangeEdges=R},6681:(d,u,s)=>{var n=s(8436);d.exports={longestPath:function(m){var g={};n.forEach(m.sources(),function y(k){var E=m.node(k);if(n.has(g,k))return E.rank;g[k]=!0;var C=n.min(n.map(m.outEdges(k),function(v){return y(v.w)-m.edge(v).minlen}));return C!==Number.POSITIVE_INFINITY&&C!=null||(C=0),E.rank=C})},slack:function(m,g){return m.node(g.w).rank-m.node(g.v).rank-m.edge(g).minlen}}},1138:(d,u,s)=>{var n=s(8436),m=s(574).Graph;function g(k,E,C,v){var h;do h=n.uniqueId(v);while(k.hasNode(h));return C.dummy=E,k.setNode(h,C),h}function y(k){return n.max(n.map(k.nodes(),function(E){var C=k.node(E).rank;if(!n.isUndefined(C))return C}))}d.exports={addDummyNode:g,simplify:function(k){var E=new m().setGraph(k.graph());return n.forEach(k.nodes(),function(C){E.setNode(C,k.node(C))}),n.forEach(k.edges(),function(C){var v=E.edge(C.v,C.w)||{weight:0,minlen:1},h=k.edge(C);E.setEdge(C.v,C.w,{weight:v.weight+h.weight,minlen:Math.max(v.minlen,h.minlen)})}),E},asNonCompoundGraph:function(k){var E=new m({multigraph:k.isMultigraph()}).setGraph(k.graph());return n.forEach(k.nodes(),function(C){k.children(C).length||E.setNode(C,k.node(C))}),n.forEach(k.edges(),function(C){E.setEdge(C,k.edge(C))}),E},successorWeights:function(k){var E=n.map(k.nodes(),function(C){var v={};return n.forEach(k.outEdges(C),function(h){v[h.w]=(v[h.w]||0)+k.edge(h).weight}),v});return n.zipObject(k.nodes(),E)},predecessorWeights:function(k){var E=n.map(k.nodes(),function(C){var v={};return n.forEach(k.inEdges(C),function(h){v[h.v]=(v[h.v]||0)+k.edge(h).weight}),v});return n.zipObject(k.nodes(),E)},intersectRect:function(k,E){var C,v,h=k.x,a=k.y,O=E.x-h,_=E.y-a,M=k.width/2,P=k.height/2;if(!O&&!_)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(_)*M>Math.abs(O)*P?(_<0&&(P=-P),C=P*O/_,v=P):(O<0&&(M=-M),C=M,v=M*_/O),{x:h+C,y:a+v}},buildLayerMatrix:function(k){var E=n.map(n.range(y(k)+1),function(){return[]});return n.forEach(k.nodes(),function(C){var v=k.node(C),h=v.rank;n.isUndefined(h)||(E[h][v.order]=C)}),E},normalizeRanks:function(k){var E=n.min(n.map(k.nodes(),function(C){return k.node(C).rank}));n.forEach(k.nodes(),function(C){var v=k.node(C);n.has(v,"rank")&&(v.rank-=E)})},removeEmptyRanks:function(k){var E=n.min(n.map(k.nodes(),function(a){return k.node(a).rank})),C=[];n.forEach(k.nodes(),function(a){var O=k.node(a).rank-E;C[O]||(C[O]=[]),C[O].push(a)});var v=0,h=k.graph().nodeRankFactor;n.forEach(C,function(a,O){n.isUndefined(a)&&O%h!=0?--v:v&&n.forEach(a,function(_){k.node(_).rank+=v})})},addBorderNode:function(k,E,C,v){var h={width:0,height:0};return arguments.length>=4&&(h.rank=C,h.order=v),g(k,"border",h,E)},maxRank:y,partition:function(k,E){var C={lhs:[],rhs:[]};return n.forEach(k,function(v){E(v)?C.lhs.push(v):C.rhs.push(v)}),C},time:function(k,E){var C=n.now();try{return E()}finally{console.log(k+" time: "+(n.now()-C)+"ms")}},notime:function(k,E){return E()}}},8177:d=>{d.exports="0.8.5"},7856:function(d){d.exports=function(){function u(Vt){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ut){return typeof Ut}:function(Ut){return Ut&&typeof Symbol=="function"&&Ut.constructor===Symbol&&Ut!==Symbol.prototype?"symbol":typeof Ut},u(Vt)}function s(Vt,Ut){return s=Object.setPrototypeOf||function(Wt,Ft){return Wt.__proto__=Ft,Wt},s(Vt,Ut)}function n(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Vt){return!1}}function m(Vt,Ut,Wt){return m=n()?Reflect.construct:function(Ft,jt,ee){var Lt=[null];Lt.push.apply(Lt,jt);var he=new(Function.bind.apply(Ft,Lt));return ee&&s(he,ee.prototype),he},m.apply(null,arguments)}function g(Vt){return function(Ut){if(Array.isArray(Ut))return y(Ut)}(Vt)||function(Ut){if(typeof Symbol!="undefined"&&Ut[Symbol.iterator]!=null||Ut["@@iterator"]!=null)return Array.from(Ut)}(Vt)||function(Ut,Wt){if(Ut){if(typeof Ut=="string")return y(Ut,Wt);var Ft=Object.prototype.toString.call(Ut).slice(8,-1);return Ft==="Object"&&Ut.constructor&&(Ft=Ut.constructor.name),Ft==="Map"||Ft==="Set"?Array.from(Ut):Ft==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ft)?y(Ut,Wt):void 0}}(Vt)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function y(Vt,Ut){(Ut==null||Ut>Vt.length)&&(Ut=Vt.length);for(var Wt=0,Ft=new Array(Ut);Wt<Ut;Wt++)Ft[Wt]=Vt[Wt];return Ft}var k=Object.hasOwnProperty,E=Object.setPrototypeOf,C=Object.isFrozen,v=Object.getPrototypeOf,h=Object.getOwnPropertyDescriptor,a=Object.freeze,O=Object.seal,_=Object.create,M=typeof Reflect!="undefined"&&Reflect,P=M.apply,R=M.construct;P||(P=function(Vt,Ut,Wt){return Vt.apply(Ut,Wt)}),a||(a=function(Vt){return Vt}),O||(O=function(Vt){return Vt}),R||(R=function(Vt,Ut){return m(Vt,g(Ut))});var $,F=lt(Array.prototype.forEach),j=lt(Array.prototype.pop),X=lt(Array.prototype.push),W=lt(String.prototype.toLowerCase),V=lt(String.prototype.match),K=lt(String.prototype.replace),st=lt(String.prototype.indexOf),it=lt(String.prototype.trim),pt=lt(RegExp.prototype.test),ct=($=TypeError,function(){for(var Vt=arguments.length,Ut=new Array(Vt),Wt=0;Wt<Vt;Wt++)Ut[Wt]=arguments[Wt];return R($,Ut)});function lt(Vt){return function(Ut){for(var Wt=arguments.length,Ft=new Array(Wt>1?Wt-1:0),jt=1;jt<Wt;jt++)Ft[jt-1]=arguments[jt];return P(Vt,Ut,Ft)}}function J(Vt,Ut){E&&E(Vt,null);for(var Wt=Ut.length;Wt--;){var Ft=Ut[Wt];if(typeof Ft=="string"){var jt=W(Ft);jt!==Ft&&(C(Ut)||(Ut[Wt]=jt),Ft=jt)}Vt[Ft]=!0}return Vt}function Bt(Vt){var Ut,Wt=_(null);for(Ut in Vt)P(k,Vt,[Ut])&&(Wt[Ut]=Vt[Ut]);return Wt}function Tt(Vt,Ut){for(;Vt!==null;){var Wt=h(Vt,Ut);if(Wt){if(Wt.get)return lt(Wt.get);if(typeof Wt.value=="function")return lt(Wt.value)}Vt=v(Vt)}return function(Ft){return console.warn("fallback value for",Ft),null}}var Ct=a(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),St=a(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),at=a(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),yt=a(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),kt=a(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),xt=a(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Pt=a(["#text"]),mt=a(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Yt=a(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ne=a(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Qt=a(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Kt=O(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Xt=O(/<%[\w\W]*|[\w\W]*%>/gm),se=O(/^data-[\-\w.\u00B7-\uFFFF]/),ue=O(/^aria-[\-\w]+$/),re=O(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),_t=O(/^(?:\w+script|data):/i),ut=O(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Mt=O(/^html$/i),qt=function(){return typeof window=="undefined"?null:window},Nt=function(Vt,Ut){if(u(Vt)!=="object"||typeof Vt.createPolicy!="function")return null;var Wt=null,Ft="data-tt-policy-suffix";Ut.currentScript&&Ut.currentScript.hasAttribute(Ft)&&(Wt=Ut.currentScript.getAttribute(Ft));var jt="dompurify"+(Wt?"#"+Wt:"");try{return Vt.createPolicy(jt,{createHTML:function(ee){return ee}})}catch(ee){return console.warn("TrustedTypes policy "+jt+" could not be created."),null}};return function Vt(){var Ut=arguments.length>0&&arguments[0]!==void 0?arguments[0]:qt(),Wt=function(rn){return Vt(rn)};if(Wt.version="2.3.8",Wt.removed=[],!Ut||!Ut.document||Ut.document.nodeType!==9)return Wt.isSupported=!1,Wt;var Ft=Ut.document,jt=Ut.document,ee=Ut.DocumentFragment,Lt=Ut.HTMLTemplateElement,he=Ut.Node,Ht=Ut.Element,Se=Ut.NodeFilter,Te=Ut.NamedNodeMap,we=Te===void 0?Ut.NamedNodeMap||Ut.MozNamedAttrMap:Te,Ue=Ut.HTMLFormElement,We=Ut.DOMParser,De=Ut.trustedTypes,me=Ht.prototype,Oe=Tt(me,"cloneNode"),Pe=Tt(me,"nextSibling"),ze=Tt(me,"childNodes"),He=Tt(me,"parentNode");if(typeof Lt=="function"){var dn=jt.createElement("template");dn.content&&dn.content.ownerDocument&&(jt=dn.content.ownerDocument)}var Mn=Nt(De,Ft),Kn=Mn?Mn.createHTML(""):"",an=jt,mn=an.implementation,Bn=an.createNodeIterator,Rn=an.createDocumentFragment,$n=an.getElementsByTagName,sn=Ft.importNode,on={};try{on=Bt(jt).documentMode?jt.documentMode:{}}catch(rn){}var yn={};Wt.isSupported=typeof He=="function"&&mn&&mn.createHTMLDocument!==void 0&&on!==9;var Sn,Ge,Fn=Kt,ke=Xt,Fr=se,Ye=ue,vr=_t,Zr=ut,jr=re,_r=null,Hr=J({},[].concat(g(Ct),g(St),g(at),g(kt),g(Pt))),Tr=null,br=J({},[].concat(g(mt),g(Yt),g(ne),g(Qt))),mr=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),xr=null,kr=null,En=!0,Yn=!0,Un=!1,qn=!1,Lr=!1,Ar=!1,wr=!1,ei=!1,vi=!1,bi=!1,oo=!0,ci=!0,Eo=!1,xi={},Ro=null,To=J({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),wa=null,sr=J({},["audio","video","img","source","image","track"]),Ss=null,lo=J({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ul="http://www.w3.org/1998/Math/MathML",vc="http://www.w3.org/2000/svg",Ia="http://www.w3.org/1999/xhtml",Cr=Ia,ki=!1,ii=["application/xhtml+xml","text/html"],cr="text/html",Oi=null,$e=jt.createElement("form"),Es=function(rn){return rn instanceof RegExp||rn instanceof Function},fn=function(rn){Oi&&Oi===rn||(rn&&u(rn)==="object"||(rn={}),rn=Bt(rn),_r="ALLOWED_TAGS"in rn?J({},rn.ALLOWED_TAGS):Hr,Tr="ALLOWED_ATTR"in rn?J({},rn.ALLOWED_ATTR):br,Ss="ADD_URI_SAFE_ATTR"in rn?J(Bt(lo),rn.ADD_URI_SAFE_ATTR):lo,wa="ADD_DATA_URI_TAGS"in rn?J(Bt(sr),rn.ADD_DATA_URI_TAGS):sr,Ro="FORBID_CONTENTS"in rn?J({},rn.FORBID_CONTENTS):To,xr="FORBID_TAGS"in rn?J({},rn.FORBID_TAGS):{},kr="FORBID_ATTR"in rn?J({},rn.FORBID_ATTR):{},xi="USE_PROFILES"in rn&&rn.USE_PROFILES,En=rn.ALLOW_ARIA_ATTR!==!1,Yn=rn.ALLOW_DATA_ATTR!==!1,Un=rn.ALLOW_UNKNOWN_PROTOCOLS||!1,qn=rn.SAFE_FOR_TEMPLATES||!1,Lr=rn.WHOLE_DOCUMENT||!1,ei=rn.RETURN_DOM||!1,vi=rn.RETURN_DOM_FRAGMENT||!1,bi=rn.RETURN_TRUSTED_TYPE||!1,wr=rn.FORCE_BODY||!1,oo=rn.SANITIZE_DOM!==!1,ci=rn.KEEP_CONTENT!==!1,Eo=rn.IN_PLACE||!1,jr=rn.ALLOWED_URI_REGEXP||jr,Cr=rn.NAMESPACE||Ia,rn.CUSTOM_ELEMENT_HANDLING&&Es(rn.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(mr.tagNameCheck=rn.CUSTOM_ELEMENT_HANDLING.tagNameCheck),rn.CUSTOM_ELEMENT_HANDLING&&Es(rn.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(mr.attributeNameCheck=rn.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),rn.CUSTOM_ELEMENT_HANDLING&&typeof rn.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(mr.allowCustomizedBuiltInElements=rn.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Sn=Sn=ii.indexOf(rn.PARSER_MEDIA_TYPE)===-1?cr:rn.PARSER_MEDIA_TYPE,Ge=Sn==="application/xhtml+xml"?function(er){return er}:W,qn&&(Yn=!1),vi&&(ei=!0),xi&&(_r=J({},g(Pt)),Tr=[],xi.html===!0&&(J(_r,Ct),J(Tr,mt)),xi.svg===!0&&(J(_r,St),J(Tr,Yt),J(Tr,Qt)),xi.svgFilters===!0&&(J(_r,at),J(Tr,Yt),J(Tr,Qt)),xi.mathMl===!0&&(J(_r,kt),J(Tr,ne),J(Tr,Qt))),rn.ADD_TAGS&&(_r===Hr&&(_r=Bt(_r)),J(_r,rn.ADD_TAGS)),rn.ADD_ATTR&&(Tr===br&&(Tr=Bt(Tr)),J(Tr,rn.ADD_ATTR)),rn.ADD_URI_SAFE_ATTR&&J(Ss,rn.ADD_URI_SAFE_ATTR),rn.FORBID_CONTENTS&&(Ro===To&&(Ro=Bt(Ro)),J(Ro,rn.FORBID_CONTENTS)),ci&&(_r["#text"]=!0),Lr&&J(_r,["html","head","body"]),_r.table&&(J(_r,["tbody"]),delete xr.tbody),a&&a(rn),Oi=rn)},ao=J({},["mi","mo","mn","ms","mtext"]),_a=J({},["foreignobject","desc","title","annotation-xml"]),Na=J({},["title","style","font","a","script"]),ds=J({},St);J(ds,at),J(ds,yt);var ra=J({},kt);J(ra,xt);var Us=function(rn){var er=He(rn);er&&er.tagName||(er={namespaceURI:Ia,tagName:"template"});var Vn=W(rn.tagName),wi=W(er.tagName);return rn.namespaceURI===vc?er.namespaceURI===Ia?Vn==="svg":er.namespaceURI===ul?Vn==="svg"&&(wi==="annotation-xml"||ao[wi]):!!ds[Vn]:rn.namespaceURI===ul?er.namespaceURI===Ia?Vn==="math":er.namespaceURI===vc?Vn==="math"&&_a[wi]:!!ra[Vn]:rn.namespaceURI===Ia&&!(er.namespaceURI===vc&&!_a[wi])&&!(er.namespaceURI===ul&&!ao[wi])&&!ra[Vn]&&(Na[Vn]||!ds[Vn])},Ni=function(rn){X(Wt.removed,{element:rn});try{rn.parentNode.removeChild(rn)}catch(er){try{rn.outerHTML=Kn}catch(Vn){rn.remove()}}},Do=function(rn,er){try{X(Wt.removed,{attribute:er.getAttributeNode(rn),from:er})}catch(Vn){X(Wt.removed,{attribute:null,from:er})}if(er.removeAttribute(rn),rn==="is"&&!Tr[rn])if(ei||vi)try{Ni(er)}catch(Vn){}else try{er.setAttribute(rn,"")}catch(Vn){}},Zo=function(rn){var er,Vn;if(wr)rn="<remove></remove>"+rn;else{var wi=V(rn,/^[\r\n\t ]+/);Vn=wi&&wi[0]}Sn==="application/xhtml+xml"&&(rn='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+rn+"</body></html>");var no=Mn?Mn.createHTML(rn):rn;if(Cr===Ia)try{er=new We().parseFromString(no,Sn)}catch(Fo){}if(!er||!er.documentElement){er=mn.createDocument(Cr,"template",null);try{er.documentElement.innerHTML=ki?"":no}catch(Fo){}}var Xr=er.body||er.documentElement;return rn&&Vn&&Xr.insertBefore(jt.createTextNode(Vn),Xr.childNodes[0]||null),Cr===Ia?$n.call(er,Lr?"html":"body")[0]:Lr?er.documentElement:Xr},fs=function(rn){return Bn.call(rn.ownerDocument||rn,rn,Se.SHOW_ELEMENT|Se.SHOW_COMMENT|Se.SHOW_TEXT,null,!1)},es=function(rn){return rn instanceof Ue&&(typeof rn.nodeName!="string"||typeof rn.textContent!="string"||typeof rn.removeChild!="function"||!(rn.attributes instanceof we)||typeof rn.removeAttribute!="function"||typeof rn.setAttribute!="function"||typeof rn.namespaceURI!="string"||typeof rn.insertBefore!="function")},Ts=function(rn){return u(he)==="object"?rn instanceof he:rn&&u(rn)==="object"&&typeof rn.nodeType=="number"&&typeof rn.nodeName=="string"},ui=function(rn,er,Vn){yn[rn]&&F(yn[rn],function(wi){wi.call(Wt,er,Vn,Oi)})},Ko=function(rn){var er;if(ui("beforeSanitizeElements",rn,null),es(rn)||pt(/[\u0080-\uFFFF]/,rn.nodeName))return Ni(rn),!0;var Vn=Ge(rn.nodeName);if(ui("uponSanitizeElement",rn,{tagName:Vn,allowedTags:_r}),rn.hasChildNodes()&&!Ts(rn.firstElementChild)&&(!Ts(rn.content)||!Ts(rn.content.firstElementChild))&&pt(/<[/\w]/g,rn.innerHTML)&&pt(/<[/\w]/g,rn.textContent)||Vn==="select"&&pt(/<template/i,rn.innerHTML))return Ni(rn),!0;if(!_r[Vn]||xr[Vn]){if(!xr[Vn]&&Pa(Vn)&&(mr.tagNameCheck instanceof RegExp&&pt(mr.tagNameCheck,Vn)||mr.tagNameCheck instanceof Function&&mr.tagNameCheck(Vn)))return!1;if(ci&&!Ro[Vn]){var wi=He(rn)||rn.parentNode,no=ze(rn)||rn.childNodes;if(no&&wi)for(var Xr=no.length-1;Xr>=0;--Xr)wi.insertBefore(Oe(no[Xr],!0),Pe(rn))}return Ni(rn),!0}return rn instanceof Ht&&!Us(rn)?(Ni(rn),!0):Vn!=="noscript"&&Vn!=="noembed"||!pt(/<\/no(script|embed)/i,rn.innerHTML)?(qn&&rn.nodeType===3&&(er=rn.textContent,er=K(er,Fn," "),er=K(er,ke," "),rn.textContent!==er&&(X(Wt.removed,{element:rn.cloneNode()}),rn.textContent=er)),ui("afterSanitizeElements",rn,null),!1):(Ni(rn),!0)},mo=function(rn,er,Vn){if(oo&&(er==="id"||er==="name")&&(Vn in jt||Vn in $e))return!1;if(!(Yn&&!kr[er]&&pt(Fr,er))){if(!(En&&pt(Ye,er))){if(!Tr[er]||kr[er]){if(!(Pa(rn)&&(mr.tagNameCheck instanceof RegExp&&pt(mr.tagNameCheck,rn)||mr.tagNameCheck instanceof Function&&mr.tagNameCheck(rn))&&(mr.attributeNameCheck instanceof RegExp&&pt(mr.attributeNameCheck,er)||mr.attributeNameCheck instanceof Function&&mr.attributeNameCheck(er))||er==="is"&&mr.allowCustomizedBuiltInElements&&(mr.tagNameCheck instanceof RegExp&&pt(mr.tagNameCheck,Vn)||mr.tagNameCheck instanceof Function&&mr.tagNameCheck(Vn))))return!1}else if(!Ss[er]){if(!pt(jr,K(Vn,Zr,""))){if((er!=="src"&&er!=="xlink:href"&&er!=="href"||rn==="script"||st(Vn,"data:")!==0||!wa[rn])&&!(Un&&!pt(vr,K(Vn,Zr,"")))){if(Vn)return!1}}}}}return!0},Pa=function(rn){return rn.indexOf("-")>0},Tl=function(rn){var er,Vn,wi,no;ui("beforeSanitizeAttributes",rn,null);var Xr=rn.attributes;if(Xr){var Fo={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Tr};for(no=Xr.length;no--;){var Wa=er=Xr[no],Io=Wa.name,ha=Wa.namespaceURI;if(Vn=Io==="value"?er.value:it(er.value),wi=Ge(Io),Fo.attrName=wi,Fo.attrValue=Vn,Fo.keepAttr=!0,Fo.forceKeepAttr=void 0,ui("uponSanitizeAttribute",rn,Fo),Vn=Fo.attrValue,!Fo.forceKeepAttr&&(Do(Io,rn),Fo.keepAttr))if(pt(/\/>/i,Vn))Do(Io,rn);else{qn&&(Vn=K(Vn,Fn," "),Vn=K(Vn,ke," "));var Ao=Ge(rn.nodeName);if(mo(Ao,wi,Vn))try{ha?rn.setAttributeNS(ha,Io,Vn):rn.setAttribute(Io,Vn),j(Wt.removed)}catch(ia){}}}ui("afterSanitizeAttributes",rn,null)}},hl=function rn(er){var Vn,wi=fs(er);for(ui("beforeSanitizeShadowDOM",er,null);Vn=wi.nextNode();)ui("uponSanitizeShadowNode",Vn,null),Ko(Vn)||(Vn.content instanceof ee&&rn(Vn.content),Tl(Vn));ui("afterSanitizeShadowDOM",er,null)};return Wt.sanitize=function(rn,er){var Vn,wi,no,Xr,Fo;if((ki=!rn)&&(rn="<!-->"),typeof rn!="string"&&!Ts(rn)){if(typeof rn.toString!="function")throw ct("toString is not a function");if(typeof(rn=rn.toString())!="string")throw ct("dirty is not a string, aborting")}if(!Wt.isSupported){if(u(Ut.toStaticHTML)==="object"||typeof Ut.toStaticHTML=="function"){if(typeof rn=="string")return Ut.toStaticHTML(rn);if(Ts(rn))return Ut.toStaticHTML(rn.outerHTML)}return rn}if(Ar||fn(er),Wt.removed=[],typeof rn=="string"&&(Eo=!1),Eo){if(rn.nodeName){var Wa=Ge(rn.nodeName);if(!_r[Wa]||xr[Wa])throw ct("root node is forbidden and cannot be sanitized in-place")}}else if(rn instanceof he)(wi=(Vn=Zo("<!---->")).ownerDocument.importNode(rn,!0)).nodeType===1&&wi.nodeName==="BODY"||wi.nodeName==="HTML"?Vn=wi:Vn.appendChild(wi);else{if(!ei&&!qn&&!Lr&&rn.indexOf("<")===-1)return Mn&&bi?Mn.createHTML(rn):rn;if(!(Vn=Zo(rn)))return ei?null:bi?Kn:""}Vn&&wr&&Ni(Vn.firstChild);for(var Io=fs(Eo?rn:Vn);no=Io.nextNode();)no.nodeType===3&&no===Xr||Ko(no)||(no.content instanceof ee&&hl(no.content),Tl(no),Xr=no);if(Xr=null,Eo)return rn;if(ei){if(vi)for(Fo=Rn.call(Vn.ownerDocument);Vn.firstChild;)Fo.appendChild(Vn.firstChild);else Fo=Vn;return Tr.shadowroot&&(Fo=sn.call(Ft,Fo,!0)),Fo}var ha=Lr?Vn.outerHTML:Vn.innerHTML;return Lr&&_r["!doctype"]&&Vn.ownerDocument&&Vn.ownerDocument.doctype&&Vn.ownerDocument.doctype.name&&pt(Mt,Vn.ownerDocument.doctype.name)&&(ha="<!DOCTYPE "+Vn.ownerDocument.doctype.name+`>
`+ha),qn&&(ha=K(ha,Fn," "),ha=K(ha,ke," ")),Mn&&bi?Mn.createHTML(ha):ha},Wt.setConfig=function(rn){fn(rn),Ar=!0},Wt.clearConfig=function(){Oi=null,Ar=!1},Wt.isValidAttribute=function(rn,er,Vn){Oi||fn({});var wi=Ge(rn),no=Ge(er);return mo(wi,no,Vn)},Wt.addHook=function(rn,er){typeof er=="function"&&(yn[rn]=yn[rn]||[],X(yn[rn],er))},Wt.removeHook=function(rn){if(yn[rn])return j(yn[rn])},Wt.removeHooks=function(rn){yn[rn]&&(yn[rn]=[])},Wt.removeAllHooks=function(){yn={}},Wt}()}()},8282:(d,u,s)=>{var n=s(2354);d.exports={Graph:n.Graph,json:s(8974),alg:s(2440),version:n.version}},2842:(d,u,s)=>{var n=s(9126);d.exports=function(m){var g,y={},k=[];function E(C){n.has(y,C)||(y[C]=!0,g.push(C),n.each(m.successors(C),E),n.each(m.predecessors(C),E))}return n.each(m.nodes(),function(C){g=[],E(C),g.length&&k.push(g)}),k}},3984:(d,u,s)=>{var n=s(9126);function m(g,y,k,E,C,v){n.has(E,y)||(E[y]=!0,k||v.push(y),n.each(C(y),function(h){m(g,h,k,E,C,v)}),k&&v.push(y))}d.exports=function(g,y,k){n.isArray(y)||(y=[y]);var E=(g.isDirected()?g.successors:g.neighbors).bind(g),C=[],v={};return n.each(y,function(h){if(!g.hasNode(h))throw new Error("Graph does not have node: "+h);m(g,h,k==="post",v,E,C)}),C}},4847:(d,u,s)=>{var n=s(3763),m=s(9126);d.exports=function(g,y,k){return m.transform(g.nodes(),function(E,C){E[C]=n(g,C,y,k)},{})}},3763:(d,u,s)=>{var n=s(9126),m=s(9675);d.exports=function(y,k,E,C){return function(v,h,a,O){var _,M,P={},R=new m,$=function(F){var j=F.v!==_?F.v:F.w,X=P[j],W=a(F),V=M.distance+W;if(W<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+F+" Weight: "+W);V<X.distance&&(X.distance=V,X.predecessor=_,R.decrease(j,V))};for(v.nodes().forEach(function(F){var j=F===h?0:Number.POSITIVE_INFINITY;P[F]={distance:j},R.add(F,j)});R.size()>0&&(_=R.removeMin(),(M=P[_]).distance!==Number.POSITIVE_INFINITY);)O(_).forEach($);return P}(y,String(k),E||g,C||function(v){return y.outEdges(v)})};var g=n.constant(1)},9096:(d,u,s)=>{var n=s(9126),m=s(5023);d.exports=function(g){return n.filter(m(g),function(y){return y.length>1||y.length===1&&g.hasEdge(y[0],y[0])})}},8924:(d,u,s)=>{var n=s(9126);d.exports=function(g,y,k){return function(E,C,v){var h={},a=E.nodes();return a.forEach(function(O){h[O]={},h[O][O]={distance:0},a.forEach(function(_){O!==_&&(h[O][_]={distance:Number.POSITIVE_INFINITY})}),v(O).forEach(function(_){var M=_.v===O?_.w:_.v,P=C(_);h[O][M]={distance:P,predecessor:O}})}),a.forEach(function(O){var _=h[O];a.forEach(function(M){var P=h[M];a.forEach(function(R){var $=P[O],F=_[R],j=P[R],X=$.distance+F.distance;X<j.distance&&(j.distance=X,j.predecessor=F.predecessor)})})}),h}(g,y||m,k||function(E){return g.outEdges(E)})};var m=n.constant(1)},2440:(d,u,s)=>{d.exports={components:s(2842),dijkstra:s(3763),dijkstraAll:s(4847),findCycles:s(9096),floydWarshall:s(8924),isAcyclic:s(2707),postorder:s(8828),preorder:s(2648),prim:s(514),tarjan:s(5023),topsort:s(2166)}},2707:(d,u,s)=>{var n=s(2166);d.exports=function(m){try{n(m)}catch(g){if(g instanceof n.CycleException)return!1;throw g}return!0}},8828:(d,u,s)=>{var n=s(3984);d.exports=function(m,g){return n(m,g,"post")}},2648:(d,u,s)=>{var n=s(3984);d.exports=function(m,g){return n(m,g,"pre")}},514:(d,u,s)=>{var n=s(9126),m=s(771),g=s(9675);d.exports=function(y,k){var E,C=new m,v={},h=new g;function a(_){var M=_.v===E?_.w:_.v,P=h.priority(M);if(P!==void 0){var R=k(_);R<P&&(v[M]=E,h.decrease(M,R))}}if(y.nodeCount()===0)return C;n.each(y.nodes(),function(_){h.add(_,Number.POSITIVE_INFINITY),C.setNode(_)}),h.decrease(y.nodes()[0],0);for(var O=!1;h.size()>0;){if(E=h.removeMin(),n.has(v,E))C.setEdge(E,v[E]);else{if(O)throw new Error("Input graph is not connected: "+y);O=!0}y.nodeEdges(E).forEach(a)}return C}},5023:(d,u,s)=>{var n=s(9126);d.exports=function(m){var g=0,y=[],k={},E=[];function C(v){var h=k[v]={onStack:!0,lowlink:g,index:g++};if(y.push(v),m.successors(v).forEach(function(_){n.has(k,_)?k[_].onStack&&(h.lowlink=Math.min(h.lowlink,k[_].index)):(C(_),h.lowlink=Math.min(h.lowlink,k[_].lowlink))}),h.lowlink===h.index){var a,O=[];do a=y.pop(),k[a].onStack=!1,O.push(a);while(v!==a);E.push(O)}}return m.nodes().forEach(function(v){n.has(k,v)||C(v)}),E}},2166:(d,u,s)=>{var n=s(9126);function m(y){var k={},E={},C=[];if(n.each(y.sinks(),function v(h){if(n.has(E,h))throw new g;n.has(k,h)||(E[h]=!0,k[h]=!0,n.each(y.predecessors(h),v),delete E[h],C.push(h))}),n.size(k)!==y.nodeCount())throw new g;return C}function g(){}d.exports=m,m.CycleException=g,g.prototype=new Error},9675:(d,u,s)=>{var n=s(9126);function m(){this._arr=[],this._keyIndices={}}d.exports=m,m.prototype.size=function(){return this._arr.length},m.prototype.keys=function(){return this._arr.map(function(g){return g.key})},m.prototype.has=function(g){return n.has(this._keyIndices,g)},m.prototype.priority=function(g){var y=this._keyIndices[g];if(y!==void 0)return this._arr[y].priority},m.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},m.prototype.add=function(g,y){var k=this._keyIndices;if(g=String(g),!n.has(k,g)){var E=this._arr,C=E.length;return k[g]=C,E.push({key:g,priority:y}),this._decrease(C),!0}return!1},m.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var g=this._arr.pop();return delete this._keyIndices[g.key],this._heapify(0),g.key},m.prototype.decrease=function(g,y){var k=this._keyIndices[g];if(y>this._arr[k].priority)throw new Error("New priority is greater than current priority. Key: "+g+" Old: "+this._arr[k].priority+" New: "+y);this._arr[k].priority=y,this._decrease(k)},m.prototype._heapify=function(g){var y=this._arr,k=2*g,E=k+1,C=g;k<y.length&&(C=y[k].priority<y[C].priority?k:C,E<y.length&&(C=y[E].priority<y[C].priority?E:C),C!==g&&(this._swap(g,C),this._heapify(C)))},m.prototype._decrease=function(g){for(var y,k=this._arr,E=k[g].priority;g!==0&&!(k[y=g>>1].priority<E);)this._swap(g,y),g=y},m.prototype._swap=function(g,y){var k=this._arr,E=this._keyIndices,C=k[g],v=k[y];k[g]=v,k[y]=C,E[v.key]=g,E[C.key]=y}},771:(d,u,s)=>{var n=s(9126);d.exports=g;var m="\0";function g(h){this._isDirected=!n.has(h,"directed")||h.directed,this._isMultigraph=!!n.has(h,"multigraph")&&h.multigraph,this._isCompound=!!n.has(h,"compound")&&h.compound,this._label=void 0,this._defaultNodeLabelFn=n.constant(void 0),this._defaultEdgeLabelFn=n.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function y(h,a){h[a]?h[a]++:h[a]=1}function k(h,a){--h[a]||delete h[a]}function E(h,a,O,_){var M=""+a,P=""+O;if(!h&&M>P){var R=M;M=P,P=R}return M+""+P+""+(n.isUndefined(_)?"\0":_)}function C(h,a,O,_){var M=""+a,P=""+O;if(!h&&M>P){var R=M;M=P,P=R}var $={v:M,w:P};return _&&($.name=_),$}function v(h,a){return E(h,a.v,a.w,a.name)}g.prototype._nodeCount=0,g.prototype._edgeCount=0,g.prototype.isDirected=function(){return this._isDirected},g.prototype.isMultigraph=function(){return this._isMultigraph},g.prototype.isCompound=function(){return this._isCompound},g.prototype.setGraph=function(h){return this._label=h,this},g.prototype.graph=function(){return this._label},g.prototype.setDefaultNodeLabel=function(h){return n.isFunction(h)||(h=n.constant(h)),this._defaultNodeLabelFn=h,this},g.prototype.nodeCount=function(){return this._nodeCount},g.prototype.nodes=function(){return n.keys(this._nodes)},g.prototype.sources=function(){var h=this;return n.filter(this.nodes(),function(a){return n.isEmpty(h._in[a])})},g.prototype.sinks=function(){var h=this;return n.filter(this.nodes(),function(a){return n.isEmpty(h._out[a])})},g.prototype.setNodes=function(h,a){var O=arguments,_=this;return n.each(h,function(M){O.length>1?_.setNode(M,a):_.setNode(M)}),this},g.prototype.setNode=function(h,a){return n.has(this._nodes,h)?(arguments.length>1&&(this._nodes[h]=a),this):(this._nodes[h]=arguments.length>1?a:this._defaultNodeLabelFn(h),this._isCompound&&(this._parent[h]=m,this._children[h]={},this._children["\0"][h]=!0),this._in[h]={},this._preds[h]={},this._out[h]={},this._sucs[h]={},++this._nodeCount,this)},g.prototype.node=function(h){return this._nodes[h]},g.prototype.hasNode=function(h){return n.has(this._nodes,h)},g.prototype.removeNode=function(h){var a=this;if(n.has(this._nodes,h)){var O=function(_){a.removeEdge(a._edgeObjs[_])};delete this._nodes[h],this._isCompound&&(this._removeFromParentsChildList(h),delete this._parent[h],n.each(this.children(h),function(_){a.setParent(_)}),delete this._children[h]),n.each(n.keys(this._in[h]),O),delete this._in[h],delete this._preds[h],n.each(n.keys(this._out[h]),O),delete this._out[h],delete this._sucs[h],--this._nodeCount}return this},g.prototype.setParent=function(h,a){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(n.isUndefined(a))a=m;else{for(var O=a+="";!n.isUndefined(O);O=this.parent(O))if(O===h)throw new Error("Setting "+a+" as parent of "+h+" would create a cycle");this.setNode(a)}return this.setNode(h),this._removeFromParentsChildList(h),this._parent[h]=a,this._children[a][h]=!0,this},g.prototype._removeFromParentsChildList=function(h){delete this._children[this._parent[h]][h]},g.prototype.parent=function(h){if(this._isCompound){var a=this._parent[h];if(a!==m)return a}},g.prototype.children=function(h){if(n.isUndefined(h)&&(h=m),this._isCompound){var a=this._children[h];if(a)return n.keys(a)}else{if(h===m)return this.nodes();if(this.hasNode(h))return[]}},g.prototype.predecessors=function(h){var a=this._preds[h];if(a)return n.keys(a)},g.prototype.successors=function(h){var a=this._sucs[h];if(a)return n.keys(a)},g.prototype.neighbors=function(h){var a=this.predecessors(h);if(a)return n.union(a,this.successors(h))},g.prototype.isLeaf=function(h){return(this.isDirected()?this.successors(h):this.neighbors(h)).length===0},g.prototype.filterNodes=function(h){var a=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});a.setGraph(this.graph());var O=this;n.each(this._nodes,function(P,R){h(R)&&a.setNode(R,P)}),n.each(this._edgeObjs,function(P){a.hasNode(P.v)&&a.hasNode(P.w)&&a.setEdge(P,O.edge(P))});var _={};function M(P){var R=O.parent(P);return R===void 0||a.hasNode(R)?(_[P]=R,R):R in _?_[R]:M(R)}return this._isCompound&&n.each(a.nodes(),function(P){a.setParent(P,M(P))}),a},g.prototype.setDefaultEdgeLabel=function(h){return n.isFunction(h)||(h=n.constant(h)),this._defaultEdgeLabelFn=h,this},g.prototype.edgeCount=function(){return this._edgeCount},g.prototype.edges=function(){return n.values(this._edgeObjs)},g.prototype.setPath=function(h,a){var O=this,_=arguments;return n.reduce(h,function(M,P){return _.length>1?O.setEdge(M,P,a):O.setEdge(M,P),P}),this},g.prototype.setEdge=function(){var h,a,O,_,M=!1,P=arguments[0];typeof P=="object"&&P!==null&&"v"in P?(h=P.v,a=P.w,O=P.name,arguments.length===2&&(_=arguments[1],M=!0)):(h=P,a=arguments[1],O=arguments[3],arguments.length>2&&(_=arguments[2],M=!0)),h=""+h,a=""+a,n.isUndefined(O)||(O=""+O);var R=E(this._isDirected,h,a,O);if(n.has(this._edgeLabels,R))return M&&(this._edgeLabels[R]=_),this;if(!n.isUndefined(O)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(h),this.setNode(a),this._edgeLabels[R]=M?_:this._defaultEdgeLabelFn(h,a,O);var $=C(this._isDirected,h,a,O);return h=$.v,a=$.w,Object.freeze($),this._edgeObjs[R]=$,y(this._preds[a],h),y(this._sucs[h],a),this._in[a][R]=$,this._out[h][R]=$,this._edgeCount++,this},g.prototype.edge=function(h,a,O){var _=arguments.length===1?v(this._isDirected,arguments[0]):E(this._isDirected,h,a,O);return this._edgeLabels[_]},g.prototype.hasEdge=function(h,a,O){var _=arguments.length===1?v(this._isDirected,arguments[0]):E(this._isDirected,h,a,O);return n.has(this._edgeLabels,_)},g.prototype.removeEdge=function(h,a,O){var _=arguments.length===1?v(this._isDirected,arguments[0]):E(this._isDirected,h,a,O),M=this._edgeObjs[_];return M&&(h=M.v,a=M.w,delete this._edgeLabels[_],delete this._edgeObjs[_],k(this._preds[a],h),k(this._sucs[h],a),delete this._in[a][_],delete this._out[h][_],this._edgeCount--),this},g.prototype.inEdges=function(h,a){var O=this._in[h];if(O){var _=n.values(O);return a?n.filter(_,function(M){return M.v===a}):_}},g.prototype.outEdges=function(h,a){var O=this._out[h];if(O){var _=n.values(O);return a?n.filter(_,function(M){return M.w===a}):_}},g.prototype.nodeEdges=function(h,a){var O=this.inEdges(h,a);if(O)return O.concat(this.outEdges(h,a))}},2354:(d,u,s)=>{d.exports={Graph:s(771),version:s(9631)}},8974:(d,u,s)=>{var n=s(9126),m=s(771);function g(k){return n.map(k.nodes(),function(E){var C=k.node(E),v=k.parent(E),h={v:E};return n.isUndefined(C)||(h.value=C),n.isUndefined(v)||(h.parent=v),h})}function y(k){return n.map(k.edges(),function(E){var C=k.edge(E),v={v:E.v,w:E.w};return n.isUndefined(E.name)||(v.name=E.name),n.isUndefined(C)||(v.value=C),v})}d.exports={write:function(k){var E={options:{directed:k.isDirected(),multigraph:k.isMultigraph(),compound:k.isCompound()},nodes:g(k),edges:y(k)};return n.isUndefined(k.graph())||(E.value=n.clone(k.graph())),E},read:function(k){var E=new m(k.options).setGraph(k.value);return n.each(k.nodes,function(C){E.setNode(C.v,C.value),C.parent&&E.setParent(C.v,C.parent)}),n.each(k.edges,function(C){E.setEdge({v:C.v,w:C.w,name:C.name},C.value)}),E}}},9126:(d,u,s)=>{var n;try{n={clone:s(6678),constant:s(5703),each:s(6073),filter:s(3105),has:s(8721),isArray:s(1469),isEmpty:s(1609),isFunction:s(3560),isUndefined:s(2353),keys:s(3674),map:s(5161),reduce:s(4061),size:s(4238),transform:s(8718),union:s(3386),values:s(2628)}}catch(m){}n||(n=window._),d.exports=n},9631:d=>{d.exports="2.1.8"},8552:(d,u,s)=>{var n=s(852)(s(5639),"DataView");d.exports=n},1989:(d,u,s)=>{var n=s(1789),m=s(401),g=s(7667),y=s(1327),k=s(1866);function E(C){var v=-1,h=C==null?0:C.length;for(this.clear();++v<h;){var a=C[v];this.set(a[0],a[1])}}E.prototype.clear=n,E.prototype.delete=m,E.prototype.get=g,E.prototype.has=y,E.prototype.set=k,d.exports=E},8407:(d,u,s)=>{var n=s(7040),m=s(4125),g=s(2117),y=s(7518),k=s(4705);function E(C){var v=-1,h=C==null?0:C.length;for(this.clear();++v<h;){var a=C[v];this.set(a[0],a[1])}}E.prototype.clear=n,E.prototype.delete=m,E.prototype.get=g,E.prototype.has=y,E.prototype.set=k,d.exports=E},7071:(d,u,s)=>{var n=s(852)(s(5639),"Map");d.exports=n},3369:(d,u,s)=>{var n=s(4785),m=s(1285),g=s(6e3),y=s(9916),k=s(5265);function E(C){var v=-1,h=C==null?0:C.length;for(this.clear();++v<h;){var a=C[v];this.set(a[0],a[1])}}E.prototype.clear=n,E.prototype.delete=m,E.prototype.get=g,E.prototype.has=y,E.prototype.set=k,d.exports=E},3818:(d,u,s)=>{var n=s(852)(s(5639),"Promise");d.exports=n},8525:(d,u,s)=>{var n=s(852)(s(5639),"Set");d.exports=n},8668:(d,u,s)=>{var n=s(3369),m=s(619),g=s(2385);function y(k){var E=-1,C=k==null?0:k.length;for(this.__data__=new n;++E<C;)this.add(k[E])}y.prototype.add=y.prototype.push=m,y.prototype.has=g,d.exports=y},6384:(d,u,s)=>{var n=s(8407),m=s(7465),g=s(3779),y=s(7599),k=s(4758),E=s(4309);function C(v){var h=this.__data__=new n(v);this.size=h.size}C.prototype.clear=m,C.prototype.delete=g,C.prototype.get=y,C.prototype.has=k,C.prototype.set=E,d.exports=C},2705:(d,u,s)=>{var n=s(5639).Symbol;d.exports=n},1149:(d,u,s)=>{var n=s(5639).Uint8Array;d.exports=n},577:(d,u,s)=>{var n=s(852)(s(5639),"WeakMap");d.exports=n},6874:d=>{d.exports=function(u,s,n){switch(n.length){case 0:return u.call(s);case 1:return u.call(s,n[0]);case 2:return u.call(s,n[0],n[1]);case 3:return u.call(s,n[0],n[1],n[2])}return u.apply(s,n)}},7412:d=>{d.exports=function(u,s){for(var n=-1,m=u==null?0:u.length;++n<m&&s(u[n],n,u)!==!1;);return u}},4963:d=>{d.exports=function(u,s){for(var n=-1,m=u==null?0:u.length,g=0,y=[];++n<m;){var k=u[n];s(k,n,u)&&(y[g++]=k)}return y}},7443:(d,u,s)=>{var n=s(2118);d.exports=function(m,g){return!(m==null||!m.length)&&n(m,g,0)>-1}},1196:d=>{d.exports=function(u,s,n){for(var m=-1,g=u==null?0:u.length;++m<g;)if(n(s,u[m]))return!0;return!1}},4636:(d,u,s)=>{var n=s(2545),m=s(5694),g=s(1469),y=s(4144),k=s(5776),E=s(6719),C=Object.prototype.hasOwnProperty;d.exports=function(v,h){var a=g(v),O=!a&&m(v),_=!a&&!O&&y(v),M=!a&&!O&&!_&&E(v),P=a||O||_||M,R=P?n(v.length,String):[],$=R.length;for(var F in v)!h&&!C.call(v,F)||P&&(F=="length"||_&&(F=="offset"||F=="parent")||M&&(F=="buffer"||F=="byteLength"||F=="byteOffset")||k(F,$))||R.push(F);return R}},9932:d=>{d.exports=function(u,s){for(var n=-1,m=u==null?0:u.length,g=Array(m);++n<m;)g[n]=s(u[n],n,u);return g}},2488:d=>{d.exports=function(u,s){for(var n=-1,m=s.length,g=u.length;++n<m;)u[g+n]=s[n];return u}},2663:d=>{d.exports=function(u,s,n,m){var g=-1,y=u==null?0:u.length;for(m&&y&&(n=u[++g]);++g<y;)n=s(n,u[g],g,u);return n}},2908:d=>{d.exports=function(u,s){for(var n=-1,m=u==null?0:u.length;++n<m;)if(s(u[n],n,u))return!0;return!1}},8983:(d,u,s)=>{var n=s(371)("length");d.exports=n},6556:(d,u,s)=>{var n=s(9465),m=s(7813);d.exports=function(g,y,k){(k!==void 0&&!m(g[y],k)||k===void 0&&!(y in g))&&n(g,y,k)}},4865:(d,u,s)=>{var n=s(9465),m=s(7813),g=Object.prototype.hasOwnProperty;d.exports=function(y,k,E){var C=y[k];g.call(y,k)&&m(C,E)&&(E!==void 0||k in y)||n(y,k,E)}},8470:(d,u,s)=>{var n=s(7813);d.exports=function(m,g){for(var y=m.length;y--;)if(n(m[y][0],g))return y;return-1}},4037:(d,u,s)=>{var n=s(8363),m=s(3674);d.exports=function(g,y){return g&&n(y,m(y),g)}},3886:(d,u,s)=>{var n=s(8363),m=s(1704);d.exports=function(g,y){return g&&n(y,m(y),g)}},9465:(d,u,s)=>{var n=s(8777);d.exports=function(m,g,y){g=="__proto__"&&n?n(m,g,{configurable:!0,enumerable:!0,value:y,writable:!0}):m[g]=y}},5990:(d,u,s)=>{var n=s(6384),m=s(7412),g=s(4865),y=s(4037),k=s(3886),E=s(4626),C=s(278),v=s(8805),h=s(1911),a=s(8234),O=s(6904),_=s(4160),M=s(3824),P=s(9148),R=s(8517),$=s(1469),F=s(4144),j=s(6688),X=s(3218),W=s(2928),V=s(3674),K=s(1704),st="[object Arguments]",it="[object Function]",pt="[object Object]",ct={};ct[st]=ct["[object Array]"]=ct["[object ArrayBuffer]"]=ct["[object DataView]"]=ct["[object Boolean]"]=ct["[object Date]"]=ct["[object Float32Array]"]=ct["[object Float64Array]"]=ct["[object Int8Array]"]=ct["[object Int16Array]"]=ct["[object Int32Array]"]=ct["[object Map]"]=ct["[object Number]"]=ct[pt]=ct["[object RegExp]"]=ct["[object Set]"]=ct["[object String]"]=ct["[object Symbol]"]=ct["[object Uint8Array]"]=ct["[object Uint8ClampedArray]"]=ct["[object Uint16Array]"]=ct["[object Uint32Array]"]=!0,ct["[object Error]"]=ct[it]=ct["[object WeakMap]"]=!1,d.exports=function lt(J,Bt,Tt,Ct,St,at){var yt,kt=1&Bt,xt=2&Bt,Pt=4&Bt;if(Tt&&(yt=St?Tt(J,Ct,St,at):Tt(J)),yt!==void 0)return yt;if(!X(J))return J;var mt=$(J);if(mt){if(yt=M(J),!kt)return C(J,yt)}else{var Yt=_(J),ne=Yt==it||Yt=="[object GeneratorFunction]";if(F(J))return E(J,kt);if(Yt==pt||Yt==st||ne&&!St){if(yt=xt||ne?{}:R(J),!kt)return xt?h(J,k(yt,J)):v(J,y(yt,J))}else{if(!ct[Yt])return St?J:{};yt=P(J,Yt,kt)}}at||(at=new n);var Qt=at.get(J);if(Qt)return Qt;at.set(J,yt),W(J)?J.forEach(function(Xt){yt.add(lt(Xt,Bt,Tt,Xt,J,at))}):j(J)&&J.forEach(function(Xt,se){yt.set(se,lt(Xt,Bt,Tt,se,J,at))});var Kt=mt?void 0:(Pt?xt?O:a:xt?K:V)(J);return m(Kt||J,function(Xt,se){Kt&&(Xt=J[se=Xt]),g(yt,se,lt(Xt,Bt,Tt,se,J,at))}),yt}},3118:(d,u,s)=>{var n=s(3218),m=Object.create,g=function(){function y(){}return function(k){if(!n(k))return{};if(m)return m(k);y.prototype=k;var E=new y;return y.prototype=void 0,E}}();d.exports=g},9881:(d,u,s)=>{var n=s(7816),m=s(9291)(n);d.exports=m},6029:(d,u,s)=>{var n=s(3448);d.exports=function(m,g,y){for(var k=-1,E=m.length;++k<E;){var C=m[k],v=g(C);if(v!=null&&(h===void 0?v==v&&!n(v):y(v,h)))var h=v,a=C}return a}},760:(d,u,s)=>{var n=s(9881);d.exports=function(m,g){var y=[];return n(m,function(k,E,C){g(k,E,C)&&y.push(k)}),y}},1848:d=>{d.exports=function(u,s,n,m){for(var g=u.length,y=n+(m?1:-1);m?y--:++y<g;)if(s(u[y],y,u))return y;return-1}},1078:(d,u,s)=>{var n=s(2488),m=s(7285);d.exports=function g(y,k,E,C,v){var h=-1,a=y.length;for(E||(E=m),v||(v=[]);++h<a;){var O=y[h];k>0&&E(O)?k>1?g(O,k-1,E,C,v):n(v,O):C||(v[v.length]=O)}return v}},8483:(d,u,s)=>{var n=s(5063)();d.exports=n},7816:(d,u,s)=>{var n=s(8483),m=s(3674);d.exports=function(g,y){return g&&n(g,y,m)}},7786:(d,u,s)=>{var n=s(1811),m=s(327);d.exports=function(g,y){for(var k=0,E=(y=n(y,g)).length;g!=null&&k<E;)g=g[m(y[k++])];return k&&k==E?g:void 0}},8866:(d,u,s)=>{var n=s(2488),m=s(1469);d.exports=function(g,y,k){var E=y(g);return m(g)?E:n(E,k(g))}},4239:(d,u,s)=>{var n=s(2705),m=s(9607),g=s(2333),y=n?n.toStringTag:void 0;d.exports=function(k){return k==null?k===void 0?"[object Undefined]":"[object Null]":y&&y in Object(k)?m(k):g(k)}},3325:d=>{d.exports=function(u,s){return u>s}},8565:d=>{var u=Object.prototype.hasOwnProperty;d.exports=function(s,n){return s!=null&&u.call(s,n)}},13:d=>{d.exports=function(u,s){return u!=null&&s in Object(u)}},2118:(d,u,s)=>{var n=s(1848),m=s(2722),g=s(2351);d.exports=function(y,k,E){return k==k?g(y,k,E):n(y,m,E)}},9454:(d,u,s)=>{var n=s(4239),m=s(7005);d.exports=function(g){return m(g)&&n(g)=="[object Arguments]"}},939:(d,u,s)=>{var n=s(2492),m=s(7005);d.exports=function g(y,k,E,C,v){return y===k||(y==null||k==null||!m(y)&&!m(k)?y!=y&&k!=k:n(y,k,E,C,g,v))}},2492:(d,u,s)=>{var n=s(6384),m=s(7114),g=s(8351),y=s(6096),k=s(4160),E=s(1469),C=s(4144),v=s(6719),h="[object Arguments]",a="[object Array]",O="[object Object]",_=Object.prototype.hasOwnProperty;d.exports=function(M,P,R,$,F,j){var X=E(M),W=E(P),V=X?a:k(M),K=W?a:k(P),st=(V=V==h?O:V)==O,it=(K=K==h?O:K)==O,pt=V==K;if(pt&&C(M)){if(!C(P))return!1;X=!0,st=!1}if(pt&&!st)return j||(j=new n),X||v(M)?m(M,P,R,$,F,j):g(M,P,V,R,$,F,j);if(!(1&R)){var ct=st&&_.call(M,"__wrapped__"),lt=it&&_.call(P,"__wrapped__");if(ct||lt){var J=ct?M.value():M,Bt=lt?P.value():P;return j||(j=new n),F(J,Bt,R,$,j)}}return!!pt&&(j||(j=new n),y(M,P,R,$,F,j))}},5588:(d,u,s)=>{var n=s(4160),m=s(7005);d.exports=function(g){return m(g)&&n(g)=="[object Map]"}},2958:(d,u,s)=>{var n=s(6384),m=s(939);d.exports=function(g,y,k,E){var C=k.length,v=C,h=!E;if(g==null)return!v;for(g=Object(g);C--;){var a=k[C];if(h&&a[2]?a[1]!==g[a[0]]:!(a[0]in g))return!1}for(;++C<v;){var O=(a=k[C])[0],_=g[O],M=a[1];if(h&&a[2]){if(_===void 0&&!(O in g))return!1}else{var P=new n;if(E)var R=E(_,M,O,g,y,P);if(!(R===void 0?m(M,_,3,E,P):R))return!1}}return!0}},2722:d=>{d.exports=function(u){return u!=u}},8458:(d,u,s)=>{var n=s(3560),m=s(5346),g=s(3218),y=s(346),k=/^\[object .+?Constructor\]$/,E=Function.prototype,C=Object.prototype,v=E.toString,h=C.hasOwnProperty,a=RegExp("^"+v.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");d.exports=function(O){return!(!g(O)||m(O))&&(n(O)?a:k).test(y(O))}},9221:(d,u,s)=>{var n=s(4160),m=s(7005);d.exports=function(g){return m(g)&&n(g)=="[object Set]"}},8749:(d,u,s)=>{var n=s(4239),m=s(1780),g=s(7005),y={};y["[object Float32Array]"]=y["[object Float64Array]"]=y["[object Int8Array]"]=y["[object Int16Array]"]=y["[object Int32Array]"]=y["[object Uint8Array]"]=y["[object Uint8ClampedArray]"]=y["[object Uint16Array]"]=y["[object Uint32Array]"]=!0,y["[object Arguments]"]=y["[object Array]"]=y["[object ArrayBuffer]"]=y["[object Boolean]"]=y["[object DataView]"]=y["[object Date]"]=y["[object Error]"]=y["[object Function]"]=y["[object Map]"]=y["[object Number]"]=y["[object Object]"]=y["[object RegExp]"]=y["[object Set]"]=y["[object String]"]=y["[object WeakMap]"]=!1,d.exports=function(k){return g(k)&&m(k.length)&&!!y[n(k)]}},7206:(d,u,s)=>{var n=s(1573),m=s(6432),g=s(6557),y=s(1469),k=s(9601);d.exports=function(E){return typeof E=="function"?E:E==null?g:typeof E=="object"?y(E)?m(E[0],E[1]):n(E):k(E)}},280:(d,u,s)=>{var n=s(5726),m=s(6916),g=Object.prototype.hasOwnProperty;d.exports=function(y){if(!n(y))return m(y);var k=[];for(var E in Object(y))g.call(y,E)&&E!="constructor"&&k.push(E);return k}},313:(d,u,s)=>{var n=s(3218),m=s(5726),g=s(3498),y=Object.prototype.hasOwnProperty;d.exports=function(k){if(!n(k))return g(k);var E=m(k),C=[];for(var v in k)(v!="constructor"||!E&&y.call(k,v))&&C.push(v);return C}},433:d=>{d.exports=function(u,s){return u<s}},9199:(d,u,s)=>{var n=s(9881),m=s(8612);d.exports=function(g,y){var k=-1,E=m(g)?Array(g.length):[];return n(g,function(C,v,h){E[++k]=y(C,v,h)}),E}},1573:(d,u,s)=>{var n=s(2958),m=s(1499),g=s(2634);d.exports=function(y){var k=m(y);return k.length==1&&k[0][2]?g(k[0][0],k[0][1]):function(E){return E===y||n(E,y,k)}}},6432:(d,u,s)=>{var n=s(939),m=s(7361),g=s(9095),y=s(5403),k=s(9162),E=s(2634),C=s(327);d.exports=function(v,h){return y(v)&&k(h)?E(C(v),h):function(a){var O=m(a,v);return O===void 0&&O===h?g(a,v):n(h,O,3)}}},2980:(d,u,s)=>{var n=s(6384),m=s(6556),g=s(8483),y=s(9783),k=s(3218),E=s(1704),C=s(6390);d.exports=function v(h,a,O,_,M){h!==a&&g(a,function(P,R){if(M||(M=new n),k(P))y(h,a,R,O,v,_,M);else{var $=_?_(C(h,R),P,R+"",h,a,M):void 0;$===void 0&&($=P),m(h,R,$)}},E)}},9783:(d,u,s)=>{var n=s(6556),m=s(4626),g=s(7133),y=s(278),k=s(8517),E=s(5694),C=s(1469),v=s(9246),h=s(4144),a=s(3560),O=s(3218),_=s(8630),M=s(6719),P=s(6390),R=s(3678);d.exports=function($,F,j,X,W,V,K){var st=P($,j),it=P(F,j),pt=K.get(it);if(pt)n($,j,pt);else{var ct=V?V(st,it,j+"",$,F,K):void 0,lt=ct===void 0;if(lt){var J=C(it),Bt=!J&&h(it),Tt=!J&&!Bt&&M(it);ct=it,J||Bt||Tt?C(st)?ct=st:v(st)?ct=y(st):Bt?(lt=!1,ct=m(it,!0)):Tt?(lt=!1,ct=g(it,!0)):ct=[]:_(it)||E(it)?(ct=st,E(st)?ct=R(st):O(st)&&!a(st)||(ct=k(it))):lt=!1}lt&&(K.set(it,ct),W(ct,it,X,V,K),K.delete(it)),n($,j,ct)}}},9556:(d,u,s)=>{var n=s(9932),m=s(7786),g=s(7206),y=s(9199),k=s(1131),E=s(1717),C=s(5022),v=s(6557),h=s(1469);d.exports=function(a,O,_){O=O.length?n(O,function(R){return h(R)?function($){return m($,R.length===1?R[0]:R)}:R}):[v];var M=-1;O=n(O,E(g));var P=y(a,function(R,$,F){return{criteria:n(O,function(j){return j(R)}),index:++M,value:R}});return k(P,function(R,$){return C(R,$,_)})}},5970:(d,u,s)=>{var n=s(3012),m=s(9095);d.exports=function(g,y){return n(g,y,function(k,E){return m(g,E)})}},3012:(d,u,s)=>{var n=s(7786),m=s(611),g=s(1811);d.exports=function(y,k,E){for(var C=-1,v=k.length,h={};++C<v;){var a=k[C],O=n(y,a);E(O,a)&&m(h,g(a,y),O)}return h}},371:d=>{d.exports=function(u){return function(s){return s==null?void 0:s[u]}}},9152:(d,u,s)=>{var n=s(7786);d.exports=function(m){return function(g){return n(g,m)}}},98:d=>{var u=Math.ceil,s=Math.max;d.exports=function(n,m,g,y){for(var k=-1,E=s(u((m-n)/(g||1)),0),C=Array(E);E--;)C[y?E:++k]=n,n+=g;return C}},107:d=>{d.exports=function(u,s,n,m,g){return g(u,function(y,k,E){n=m?(m=!1,y):s(n,y,k,E)}),n}},5976:(d,u,s)=>{var n=s(6557),m=s(5357),g=s(61);d.exports=function(y,k){return g(m(y,k,n),y+"")}},611:(d,u,s)=>{var n=s(4865),m=s(1811),g=s(5776),y=s(3218),k=s(327);d.exports=function(E,C,v,h){if(!y(E))return E;for(var a=-1,O=(C=m(C,E)).length,_=O-1,M=E;M!=null&&++a<O;){var P=k(C[a]),R=v;if(P==="__proto__"||P==="constructor"||P==="prototype")return E;if(a!=_){var $=M[P];(R=h?h($,P,M):void 0)===void 0&&(R=y($)?$:g(C[a+1])?[]:{})}n(M,P,R),M=M[P]}return E}},6560:(d,u,s)=>{var n=s(5703),m=s(8777),g=s(6557),y=m?function(k,E){return m(k,"toString",{configurable:!0,enumerable:!1,value:n(E),writable:!0})}:g;d.exports=y},1131:d=>{d.exports=function(u,s){var n=u.length;for(u.sort(s);n--;)u[n]=u[n].value;return u}},2545:d=>{d.exports=function(u,s){for(var n=-1,m=Array(u);++n<u;)m[n]=s(n);return m}},531:(d,u,s)=>{var n=s(2705),m=s(9932),g=s(1469),y=s(3448),k=n?n.prototype:void 0,E=k?k.toString:void 0;d.exports=function C(v){if(typeof v=="string")return v;if(g(v))return m(v,C)+"";if(y(v))return E?E.call(v):"";var h=v+"";return h=="0"&&1/v==-1/0?"-0":h}},7561:(d,u,s)=>{var n=s(7990),m=/^\s+/;d.exports=function(g){return g&&g.slice(0,n(g)+1).replace(m,"")}},1717:d=>{d.exports=function(u){return function(s){return u(s)}}},5652:(d,u,s)=>{var n=s(8668),m=s(7443),g=s(1196),y=s(4757),k=s(3593),E=s(1814);d.exports=function(C,v,h){var a=-1,O=m,_=C.length,M=!0,P=[],R=P;if(h)M=!1,O=g;else if(_>=200){var $=v?null:k(C);if($)return E($);M=!1,O=y,R=new n}else R=v?[]:P;t:for(;++a<_;){var F=C[a],j=v?v(F):F;if(F=h||F!==0?F:0,M&&j==j){for(var X=R.length;X--;)if(R[X]===j)continue t;v&&R.push(j),P.push(F)}else O(R,j,h)||(R!==P&&R.push(j),P.push(F))}return P}},7415:(d,u,s)=>{var n=s(9932);d.exports=function(m,g){return n(g,function(y){return m[y]})}},1757:d=>{d.exports=function(u,s,n){for(var m=-1,g=u.length,y=s.length,k={};++m<g;){var E=m<y?s[m]:void 0;n(k,u[m],E)}return k}},4757:d=>{d.exports=function(u,s){return u.has(s)}},4290:(d,u,s)=>{var n=s(6557);d.exports=function(m){return typeof m=="function"?m:n}},1811:(d,u,s)=>{var n=s(1469),m=s(5403),g=s(5514),y=s(9833);d.exports=function(k,E){return n(k)?k:m(k,E)?[k]:g(y(k))}},4318:(d,u,s)=>{var n=s(1149);d.exports=function(m){var g=new m.constructor(m.byteLength);return new n(g).set(new n(m)),g}},4626:(d,u,s)=>{d=s.nmd(d);var n=s(5639),m=u&&!u.nodeType&&u,g=m&&d&&!d.nodeType&&d,y=g&&g.exports===m?n.Buffer:void 0,k=y?y.allocUnsafe:void 0;d.exports=function(E,C){if(C)return E.slice();var v=E.length,h=k?k(v):new E.constructor(v);return E.copy(h),h}},7157:(d,u,s)=>{var n=s(4318);d.exports=function(m,g){var y=g?n(m.buffer):m.buffer;return new m.constructor(y,m.byteOffset,m.byteLength)}},3147:d=>{var u=/\w*$/;d.exports=function(s){var n=new s.constructor(s.source,u.exec(s));return n.lastIndex=s.lastIndex,n}},419:(d,u,s)=>{var n=s(2705),m=n?n.prototype:void 0,g=m?m.valueOf:void 0;d.exports=function(y){return g?Object(g.call(y)):{}}},7133:(d,u,s)=>{var n=s(4318);d.exports=function(m,g){var y=g?n(m.buffer):m.buffer;return new m.constructor(y,m.byteOffset,m.length)}},6393:(d,u,s)=>{var n=s(3448);d.exports=function(m,g){if(m!==g){var y=m!==void 0,k=m===null,E=m==m,C=n(m),v=g!==void 0,h=g===null,a=g==g,O=n(g);if(!h&&!O&&!C&&m>g||C&&v&&a&&!h&&!O||k&&v&&a||!y&&a||!E)return 1;if(!k&&!C&&!O&&m<g||O&&y&&E&&!k&&!C||h&&y&&E||!v&&E||!a)return-1}return 0}},5022:(d,u,s)=>{var n=s(6393);d.exports=function(m,g,y){for(var k=-1,E=m.criteria,C=g.criteria,v=E.length,h=y.length;++k<v;){var a=n(E[k],C[k]);if(a)return k>=h?a:a*(y[k]=="desc"?-1:1)}return m.index-g.index}},278:d=>{d.exports=function(u,s){var n=-1,m=u.length;for(s||(s=Array(m));++n<m;)s[n]=u[n];return s}},8363:(d,u,s)=>{var n=s(4865),m=s(9465);d.exports=function(g,y,k,E){var C=!k;k||(k={});for(var v=-1,h=y.length;++v<h;){var a=y[v],O=E?E(k[a],g[a],a,k,g):void 0;O===void 0&&(O=g[a]),C?m(k,a,O):n(k,a,O)}return k}},8805:(d,u,s)=>{var n=s(8363),m=s(9551);d.exports=function(g,y){return n(g,m(g),y)}},1911:(d,u,s)=>{var n=s(8363),m=s(1442);d.exports=function(g,y){return n(g,m(g),y)}},4429:(d,u,s)=>{var n=s(5639)["__core-js_shared__"];d.exports=n},1463:(d,u,s)=>{var n=s(5976),m=s(6612);d.exports=function(g){return n(function(y,k){var E=-1,C=k.length,v=C>1?k[C-1]:void 0,h=C>2?k[2]:void 0;for(v=g.length>3&&typeof v=="function"?(C--,v):void 0,h&&m(k[0],k[1],h)&&(v=C<3?void 0:v,C=1),y=Object(y);++E<C;){var a=k[E];a&&g(y,a,E,v)}return y})}},9291:(d,u,s)=>{var n=s(8612);d.exports=function(m,g){return function(y,k){if(y==null)return y;if(!n(y))return m(y,k);for(var E=y.length,C=g?E:-1,v=Object(y);(g?C--:++C<E)&&k(v[C],C,v)!==!1;);return y}}},5063:d=>{d.exports=function(u){return function(s,n,m){for(var g=-1,y=Object(s),k=m(s),E=k.length;E--;){var C=k[u?E:++g];if(n(y[C],C,y)===!1)break}return s}}},7740:(d,u,s)=>{var n=s(7206),m=s(8612),g=s(3674);d.exports=function(y){return function(k,E,C){var v=Object(k);if(!m(k)){var h=n(E,3);k=g(k),E=function(O){return h(v[O],O,v)}}var a=y(k,E,C);return a>-1?v[h?k[a]:a]:void 0}}},7445:(d,u,s)=>{var n=s(98),m=s(6612),g=s(8601);d.exports=function(y){return function(k,E,C){return C&&typeof C!="number"&&m(k,E,C)&&(E=C=void 0),k=g(k),E===void 0?(E=k,k=0):E=g(E),C=C===void 0?k<E?1:-1:g(C),n(k,E,C,y)}}},3593:(d,u,s)=>{var n=s(8525),m=s(308),g=s(1814),y=n&&1/g(new n([,-0]))[1]==1/0?function(k){return new n(k)}:m;d.exports=y},8777:(d,u,s)=>{var n=s(852),m=function(){try{var g=n(Object,"defineProperty");return g({},"",{}),g}catch(y){}}();d.exports=m},7114:(d,u,s)=>{var n=s(8668),m=s(2908),g=s(4757);d.exports=function(y,k,E,C,v,h){var a=1&E,O=y.length,_=k.length;if(O!=_&&!(a&&_>O))return!1;var M=h.get(y),P=h.get(k);if(M&&P)return M==k&&P==y;var R=-1,$=!0,F=2&E?new n:void 0;for(h.set(y,k),h.set(k,y);++R<O;){var j=y[R],X=k[R];if(C)var W=a?C(X,j,R,k,y,h):C(j,X,R,y,k,h);if(W!==void 0){if(W)continue;$=!1;break}if(F){if(!m(k,function(V,K){if(!g(F,K)&&(j===V||v(j,V,E,C,h)))return F.push(K)})){$=!1;break}}else if(j!==X&&!v(j,X,E,C,h)){$=!1;break}}return h.delete(y),h.delete(k),$}},8351:(d,u,s)=>{var n=s(2705),m=s(1149),g=s(7813),y=s(7114),k=s(8776),E=s(1814),C=n?n.prototype:void 0,v=C?C.valueOf:void 0;d.exports=function(h,a,O,_,M,P,R){switch(O){case"[object DataView]":if(h.byteLength!=a.byteLength||h.byteOffset!=a.byteOffset)return!1;h=h.buffer,a=a.buffer;case"[object ArrayBuffer]":return!(h.byteLength!=a.byteLength||!P(new m(h),new m(a)));case"[object Boolean]":case"[object Date]":case"[object Number]":return g(+h,+a);case"[object Error]":return h.name==a.name&&h.message==a.message;case"[object RegExp]":case"[object String]":return h==a+"";case"[object Map]":var $=k;case"[object Set]":var F=1&_;if($||($=E),h.size!=a.size&&!F)return!1;var j=R.get(h);if(j)return j==a;_|=2,R.set(h,a);var X=y($(h),$(a),_,M,P,R);return R.delete(h),X;case"[object Symbol]":if(v)return v.call(h)==v.call(a)}return!1}},6096:(d,u,s)=>{var n=s(8234),m=Object.prototype.hasOwnProperty;d.exports=function(g,y,k,E,C,v){var h=1&k,a=n(g),O=a.length;if(O!=n(y).length&&!h)return!1;for(var _=O;_--;){var M=a[_];if(!(h?M in y:m.call(y,M)))return!1}var P=v.get(g),R=v.get(y);if(P&&R)return P==y&&R==g;var $=!0;v.set(g,y),v.set(y,g);for(var F=h;++_<O;){var j=g[M=a[_]],X=y[M];if(E)var W=h?E(X,j,M,y,g,v):E(j,X,M,g,y,v);if(!(W===void 0?j===X||C(j,X,k,E,v):W)){$=!1;break}F||(F=M=="constructor")}if($&&!F){var V=g.constructor,K=y.constructor;V==K||!("constructor"in g)||!("constructor"in y)||typeof V=="function"&&V instanceof V&&typeof K=="function"&&K instanceof K||($=!1)}return v.delete(g),v.delete(y),$}},9021:(d,u,s)=>{var n=s(5564),m=s(5357),g=s(61);d.exports=function(y){return g(m(y,void 0,n),y+"")}},1957:(d,u,s)=>{var n=typeof s.g=="object"&&s.g&&s.g.Object===Object&&s.g;d.exports=n},8234:(d,u,s)=>{var n=s(8866),m=s(9551),g=s(3674);d.exports=function(y){return n(y,g,m)}},6904:(d,u,s)=>{var n=s(8866),m=s(1442),g=s(1704);d.exports=function(y){return n(y,g,m)}},5050:(d,u,s)=>{var n=s(7019);d.exports=function(m,g){var y=m.__data__;return n(g)?y[typeof g=="string"?"string":"hash"]:y.map}},1499:(d,u,s)=>{var n=s(9162),m=s(3674);d.exports=function(g){for(var y=m(g),k=y.length;k--;){var E=y[k],C=g[E];y[k]=[E,C,n(C)]}return y}},852:(d,u,s)=>{var n=s(8458),m=s(7801);d.exports=function(g,y){var k=m(g,y);return n(k)?k:void 0}},5924:(d,u,s)=>{var n=s(5569)(Object.getPrototypeOf,Object);d.exports=n},9607:(d,u,s)=>{var n=s(2705),m=Object.prototype,g=m.hasOwnProperty,y=m.toString,k=n?n.toStringTag:void 0;d.exports=function(E){var C=g.call(E,k),v=E[k];try{E[k]=void 0;var h=!0}catch(O){}var a=y.call(E);return h&&(C?E[k]=v:delete E[k]),a}},9551:(d,u,s)=>{var n=s(4963),m=s(479),g=Object.prototype.propertyIsEnumerable,y=Object.getOwnPropertySymbols,k=y?function(E){return E==null?[]:(E=Object(E),n(y(E),function(C){return g.call(E,C)}))}:m;d.exports=k},1442:(d,u,s)=>{var n=s(2488),m=s(5924),g=s(9551),y=s(479),k=Object.getOwnPropertySymbols?function(E){for(var C=[];E;)n(C,g(E)),E=m(E);return C}:y;d.exports=k},4160:(d,u,s)=>{var n=s(8552),m=s(7071),g=s(3818),y=s(8525),k=s(577),E=s(4239),C=s(346),v="[object Map]",h="[object Promise]",a="[object Set]",O="[object WeakMap]",_="[object DataView]",M=C(n),P=C(m),R=C(g),$=C(y),F=C(k),j=E;(n&&j(new n(new ArrayBuffer(1)))!=_||m&&j(new m)!=v||g&&j(g.resolve())!=h||y&&j(new y)!=a||k&&j(new k)!=O)&&(j=function(X){var W=E(X),V=W=="[object Object]"?X.constructor:void 0,K=V?C(V):"";if(K)switch(K){case M:return _;case P:return v;case R:return h;case $:return a;case F:return O}return W}),d.exports=j},7801:d=>{d.exports=function(u,s){return u==null?void 0:u[s]}},222:(d,u,s)=>{var n=s(1811),m=s(5694),g=s(1469),y=s(5776),k=s(1780),E=s(327);d.exports=function(C,v,h){for(var a=-1,O=(v=n(v,C)).length,_=!1;++a<O;){var M=E(v[a]);if(!(_=C!=null&&h(C,M)))break;C=C[M]}return _||++a!=O?_:!!(O=C==null?0:C.length)&&k(O)&&y(M,O)&&(g(C)||m(C))}},2689:d=>{var u=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");d.exports=function(s){return u.test(s)}},1789:(d,u,s)=>{var n=s(4536);d.exports=function(){this.__data__=n?n(null):{},this.size=0}},401:d=>{d.exports=function(u){var s=this.has(u)&&delete this.__data__[u];return this.size-=s?1:0,s}},7667:(d,u,s)=>{var n=s(4536),m=Object.prototype.hasOwnProperty;d.exports=function(g){var y=this.__data__;if(n){var k=y[g];return k==="__lodash_hash_undefined__"?void 0:k}return m.call(y,g)?y[g]:void 0}},1327:(d,u,s)=>{var n=s(4536),m=Object.prototype.hasOwnProperty;d.exports=function(g){var y=this.__data__;return n?y[g]!==void 0:m.call(y,g)}},1866:(d,u,s)=>{var n=s(4536);d.exports=function(m,g){var y=this.__data__;return this.size+=this.has(m)?0:1,y[m]=n&&g===void 0?"__lodash_hash_undefined__":g,this}},3824:d=>{var u=Object.prototype.hasOwnProperty;d.exports=function(s){var n=s.length,m=new s.constructor(n);return n&&typeof s[0]=="string"&&u.call(s,"index")&&(m.index=s.index,m.input=s.input),m}},9148:(d,u,s)=>{var n=s(4318),m=s(7157),g=s(3147),y=s(419),k=s(7133);d.exports=function(E,C,v){var h=E.constructor;switch(C){case"[object ArrayBuffer]":return n(E);case"[object Boolean]":case"[object Date]":return new h(+E);case"[object DataView]":return m(E,v);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return k(E,v);case"[object Map]":case"[object Set]":return new h;case"[object Number]":case"[object String]":return new h(E);case"[object RegExp]":return g(E);case"[object Symbol]":return y(E)}}},8517:(d,u,s)=>{var n=s(3118),m=s(5924),g=s(5726);d.exports=function(y){return typeof y.constructor!="function"||g(y)?{}:n(m(y))}},7285:(d,u,s)=>{var n=s(2705),m=s(5694),g=s(1469),y=n?n.isConcatSpreadable:void 0;d.exports=function(k){return g(k)||m(k)||!!(y&&k&&k[y])}},5776:d=>{var u=/^(?:0|[1-9]\d*)$/;d.exports=function(s,n){var m=typeof s;return!!(n=n==null?9007199254740991:n)&&(m=="number"||m!="symbol"&&u.test(s))&&s>-1&&s%1==0&&s<n}},6612:(d,u,s)=>{var n=s(7813),m=s(8612),g=s(5776),y=s(3218);d.exports=function(k,E,C){if(!y(C))return!1;var v=typeof E;return!!(v=="number"?m(C)&&g(E,C.length):v=="string"&&E in C)&&n(C[E],k)}},5403:(d,u,s)=>{var n=s(1469),m=s(3448),g=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,y=/^\w*$/;d.exports=function(k,E){if(n(k))return!1;var C=typeof k;return!(C!="number"&&C!="symbol"&&C!="boolean"&&k!=null&&!m(k))||y.test(k)||!g.test(k)||E!=null&&k in Object(E)}},7019:d=>{d.exports=function(u){var s=typeof u;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?u!=="__proto__":u===null}},5346:(d,u,s)=>{var n,m=s(4429),g=(n=/[^.]+$/.exec(m&&m.keys&&m.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";d.exports=function(y){return!!g&&g in y}},5726:d=>{var u=Object.prototype;d.exports=function(s){var n=s&&s.constructor;return s===(typeof n=="function"&&n.prototype||u)}},9162:(d,u,s)=>{var n=s(3218);d.exports=function(m){return m==m&&!n(m)}},7040:d=>{d.exports=function(){this.__data__=[],this.size=0}},4125:(d,u,s)=>{var n=s(8470),m=Array.prototype.splice;d.exports=function(g){var y=this.__data__,k=n(y,g);return!(k<0||(k==y.length-1?y.pop():m.call(y,k,1),--this.size,0))}},2117:(d,u,s)=>{var n=s(8470);d.exports=function(m){var g=this.__data__,y=n(g,m);return y<0?void 0:g[y][1]}},7518:(d,u,s)=>{var n=s(8470);d.exports=function(m){return n(this.__data__,m)>-1}},4705:(d,u,s)=>{var n=s(8470);d.exports=function(m,g){var y=this.__data__,k=n(y,m);return k<0?(++this.size,y.push([m,g])):y[k][1]=g,this}},4785:(d,u,s)=>{var n=s(1989),m=s(8407),g=s(7071);d.exports=function(){this.size=0,this.__data__={hash:new n,map:new(g||m),string:new n}}},1285:(d,u,s)=>{var n=s(5050);d.exports=function(m){var g=n(this,m).delete(m);return this.size-=g?1:0,g}},6e3:(d,u,s)=>{var n=s(5050);d.exports=function(m){return n(this,m).get(m)}},9916:(d,u,s)=>{var n=s(5050);d.exports=function(m){return n(this,m).has(m)}},5265:(d,u,s)=>{var n=s(5050);d.exports=function(m,g){var y=n(this,m),k=y.size;return y.set(m,g),this.size+=y.size==k?0:1,this}},8776:d=>{d.exports=function(u){var s=-1,n=Array(u.size);return u.forEach(function(m,g){n[++s]=[g,m]}),n}},2634:d=>{d.exports=function(u,s){return function(n){return n!=null&&n[u]===s&&(s!==void 0||u in Object(n))}}},4523:(d,u,s)=>{var n=s(8306);d.exports=function(m){var g=n(m,function(k){return y.size===500&&y.clear(),k}),y=g.cache;return g}},4536:(d,u,s)=>{var n=s(852)(Object,"create");d.exports=n},6916:(d,u,s)=>{var n=s(5569)(Object.keys,Object);d.exports=n},3498:d=>{d.exports=function(u){var s=[];if(u!=null)for(var n in Object(u))s.push(n);return s}},1167:(d,u,s)=>{d=s.nmd(d);var n=s(1957),m=u&&!u.nodeType&&u,g=m&&d&&!d.nodeType&&d,y=g&&g.exports===m&&n.process,k=function(){try{return g&&g.require&&g.require("util").types||y&&y.binding&&y.binding("util")}catch(E){}}();d.exports=k},2333:d=>{var u=Object.prototype.toString;d.exports=function(s){return u.call(s)}},5569:d=>{d.exports=function(u,s){return function(n){return u(s(n))}}},5357:(d,u,s)=>{var n=s(6874),m=Math.max;d.exports=function(g,y,k){return y=m(y===void 0?g.length-1:y,0),function(){for(var E=arguments,C=-1,v=m(E.length-y,0),h=Array(v);++C<v;)h[C]=E[y+C];C=-1;for(var a=Array(y+1);++C<y;)a[C]=E[C];return a[y]=k(h),n(g,this,a)}}},5639:(d,u,s)=>{var n=s(1957),m=typeof self=="object"&&self&&self.Object===Object&&self,g=n||m||Function("return this")();d.exports=g},6390:d=>{d.exports=function(u,s){if((s!=="constructor"||typeof u[s]!="function")&&s!="__proto__")return u[s]}},619:d=>{d.exports=function(u){return this.__data__.set(u,"__lodash_hash_undefined__"),this}},2385:d=>{d.exports=function(u){return this.__data__.has(u)}},1814:d=>{d.exports=function(u){var s=-1,n=Array(u.size);return u.forEach(function(m){n[++s]=m}),n}},61:(d,u,s)=>{var n=s(6560),m=s(1275)(n);d.exports=m},1275:d=>{var u=Date.now;d.exports=function(s){var n=0,m=0;return function(){var g=u(),y=16-(g-m);if(m=g,y>0){if(++n>=800)return arguments[0]}else n=0;return s.apply(void 0,arguments)}}},7465:(d,u,s)=>{var n=s(8407);d.exports=function(){this.__data__=new n,this.size=0}},3779:d=>{d.exports=function(u){var s=this.__data__,n=s.delete(u);return this.size=s.size,n}},7599:d=>{d.exports=function(u){return this.__data__.get(u)}},4758:d=>{d.exports=function(u){return this.__data__.has(u)}},4309:(d,u,s)=>{var n=s(8407),m=s(7071),g=s(3369);d.exports=function(y,k){var E=this.__data__;if(E instanceof n){var C=E.__data__;if(!m||C.length<199)return C.push([y,k]),this.size=++E.size,this;E=this.__data__=new g(C)}return E.set(y,k),this.size=E.size,this}},2351:d=>{d.exports=function(u,s,n){for(var m=n-1,g=u.length;++m<g;)if(u[m]===s)return m;return-1}},8016:(d,u,s)=>{var n=s(8983),m=s(2689),g=s(1903);d.exports=function(y){return m(y)?g(y):n(y)}},5514:(d,u,s)=>{var n=s(4523),m=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,g=/\\(\\)?/g,y=n(function(k){var E=[];return k.charCodeAt(0)===46&&E.push(""),k.replace(m,function(C,v,h,a){E.push(h?a.replace(g,"$1"):v||C)}),E});d.exports=y},327:(d,u,s)=>{var n=s(3448);d.exports=function(m){if(typeof m=="string"||n(m))return m;var g=m+"";return g=="0"&&1/m==-1/0?"-0":g}},346:d=>{var u=Function.prototype.toString;d.exports=function(s){if(s!=null){try{return u.call(s)}catch(n){}try{return s+""}catch(n){}}return""}},7990:d=>{var u=/\s/;d.exports=function(s){for(var n=s.length;n--&&u.test(s.charAt(n)););return n}},1903:d=>{var u="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",s="\\ud83c[\\udffb-\\udfff]",n="[^\\ud800-\\udfff]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",y="(?:"+u+"|"+s+")?",k="[\\ufe0e\\ufe0f]?",E=k+y+"(?:\\u200d(?:"+[n,m,g].join("|")+")"+k+y+")*",C="(?:"+[n+u+"?",u,m,g,"[\\ud800-\\udfff]"].join("|")+")",v=RegExp(s+"(?="+s+")|"+C+E,"g");d.exports=function(h){for(var a=v.lastIndex=0;v.test(h);)++a;return a}},6678:(d,u,s)=>{var n=s(5990);d.exports=function(m){return n(m,4)}},361:(d,u,s)=>{var n=s(5990);d.exports=function(m){return n(m,5)}},5703:d=>{d.exports=function(u){return function(){return u}}},1747:(d,u,s)=>{var n=s(5976),m=s(7813),g=s(6612),y=s(1704),k=Object.prototype,E=k.hasOwnProperty,C=n(function(v,h){v=Object(v);var a=-1,O=h.length,_=O>2?h[2]:void 0;for(_&&g(h[0],h[1],_)&&(O=1);++a<O;)for(var M=h[a],P=y(M),R=-1,$=P.length;++R<$;){var F=P[R],j=v[F];(j===void 0||m(j,k[F])&&!E.call(v,F))&&(v[F]=M[F])}return v});d.exports=C},6073:(d,u,s)=>{d.exports=s(4486)},7813:d=>{d.exports=function(u,s){return u===s||u!=u&&s!=s}},3105:(d,u,s)=>{var n=s(4963),m=s(760),g=s(7206),y=s(1469);d.exports=function(k,E){return(y(k)?n:m)(k,g(E,3))}},3311:(d,u,s)=>{var n=s(7740)(s(998));d.exports=n},998:(d,u,s)=>{var n=s(1848),m=s(7206),g=s(554),y=Math.max;d.exports=function(k,E,C){var v=k==null?0:k.length;if(!v)return-1;var h=C==null?0:g(C);return h<0&&(h=y(v+h,0)),n(k,m(E,3),h)}},5564:(d,u,s)=>{var n=s(1078);d.exports=function(m){return m!=null&&m.length?n(m,1):[]}},4486:(d,u,s)=>{var n=s(7412),m=s(9881),g=s(4290),y=s(1469);d.exports=function(k,E){return(y(k)?n:m)(k,g(E))}},2620:(d,u,s)=>{var n=s(8483),m=s(4290),g=s(1704);d.exports=function(y,k){return y==null?y:n(y,m(k),g)}},7361:(d,u,s)=>{var n=s(7786);d.exports=function(m,g,y){var k=m==null?void 0:n(m,g);return k===void 0?y:k}},8721:(d,u,s)=>{var n=s(8565),m=s(222);d.exports=function(g,y){return g!=null&&m(g,y,n)}},9095:(d,u,s)=>{var n=s(13),m=s(222);d.exports=function(g,y){return g!=null&&m(g,y,n)}},6557:d=>{d.exports=function(u){return u}},5694:(d,u,s)=>{var n=s(9454),m=s(7005),g=Object.prototype,y=g.hasOwnProperty,k=g.propertyIsEnumerable,E=n(function(){return arguments}())?n:function(C){return m(C)&&y.call(C,"callee")&&!k.call(C,"callee")};d.exports=E},1469:d=>{var u=Array.isArray;d.exports=u},8612:(d,u,s)=>{var n=s(3560),m=s(1780);d.exports=function(g){return g!=null&&m(g.length)&&!n(g)}},9246:(d,u,s)=>{var n=s(8612),m=s(7005);d.exports=function(g){return m(g)&&n(g)}},4144:(d,u,s)=>{d=s.nmd(d);var n=s(5639),m=s(5062),g=u&&!u.nodeType&&u,y=g&&d&&!d.nodeType&&d,k=y&&y.exports===g?n.Buffer:void 0,E=(k?k.isBuffer:void 0)||m;d.exports=E},1609:(d,u,s)=>{var n=s(280),m=s(4160),g=s(5694),y=s(1469),k=s(8612),E=s(4144),C=s(5726),v=s(6719),h=Object.prototype.hasOwnProperty;d.exports=function(a){if(a==null)return!0;if(k(a)&&(y(a)||typeof a=="string"||typeof a.splice=="function"||E(a)||v(a)||g(a)))return!a.length;var O=m(a);if(O=="[object Map]"||O=="[object Set]")return!a.size;if(C(a))return!n(a).length;for(var _ in a)if(h.call(a,_))return!1;return!0}},3560:(d,u,s)=>{var n=s(4239),m=s(3218);d.exports=function(g){if(!m(g))return!1;var y=n(g);return y=="[object Function]"||y=="[object GeneratorFunction]"||y=="[object AsyncFunction]"||y=="[object Proxy]"}},1780:d=>{d.exports=function(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=9007199254740991}},6688:(d,u,s)=>{var n=s(5588),m=s(1717),g=s(1167),y=g&&g.isMap,k=y?m(y):n;d.exports=k},3218:d=>{d.exports=function(u){var s=typeof u;return u!=null&&(s=="object"||s=="function")}},7005:d=>{d.exports=function(u){return u!=null&&typeof u=="object"}},8630:(d,u,s)=>{var n=s(4239),m=s(5924),g=s(7005),y=Function.prototype,k=Object.prototype,E=y.toString,C=k.hasOwnProperty,v=E.call(Object);d.exports=function(h){if(!g(h)||n(h)!="[object Object]")return!1;var a=m(h);if(a===null)return!0;var O=C.call(a,"constructor")&&a.constructor;return typeof O=="function"&&O instanceof O&&E.call(O)==v}},2928:(d,u,s)=>{var n=s(9221),m=s(1717),g=s(1167),y=g&&g.isSet,k=y?m(y):n;d.exports=k},7037:(d,u,s)=>{var n=s(4239),m=s(1469),g=s(7005);d.exports=function(y){return typeof y=="string"||!m(y)&&g(y)&&n(y)=="[object String]"}},3448:(d,u,s)=>{var n=s(4239),m=s(7005);d.exports=function(g){return typeof g=="symbol"||m(g)&&n(g)=="[object Symbol]"}},6719:(d,u,s)=>{var n=s(8749),m=s(1717),g=s(1167),y=g&&g.isTypedArray,k=y?m(y):n;d.exports=k},2353:d=>{d.exports=function(u){return u===void 0}},3674:(d,u,s)=>{var n=s(4636),m=s(280),g=s(8612);d.exports=function(y){return g(y)?n(y):m(y)}},1704:(d,u,s)=>{var n=s(4636),m=s(313),g=s(8612);d.exports=function(y){return g(y)?n(y,!0):m(y)}},928:d=>{d.exports=function(u){var s=u==null?0:u.length;return s?u[s-1]:void 0}},5161:(d,u,s)=>{var n=s(9932),m=s(7206),g=s(9199),y=s(1469);d.exports=function(k,E){return(y(k)?n:g)(k,m(E,3))}},6604:(d,u,s)=>{var n=s(9465),m=s(7816),g=s(7206);d.exports=function(y,k){var E={};return k=g(k,3),m(y,function(C,v,h){n(E,v,k(C,v,h))}),E}},6162:(d,u,s)=>{var n=s(6029),m=s(3325),g=s(6557);d.exports=function(y){return y&&y.length?n(y,g,m):void 0}},8306:(d,u,s)=>{var n=s(3369);function m(g,y){if(typeof g!="function"||y!=null&&typeof y!="function")throw new TypeError("Expected a function");var k=function(){var E=arguments,C=y?y.apply(this,E):E[0],v=k.cache;if(v.has(C))return v.get(C);var h=g.apply(this,E);return k.cache=v.set(C,h)||v,h};return k.cache=new(m.Cache||n),k}m.Cache=n,d.exports=m},3857:(d,u,s)=>{var n=s(2980),m=s(1463)(function(g,y,k){n(g,y,k)});d.exports=m},3632:(d,u,s)=>{var n=s(6029),m=s(433),g=s(6557);d.exports=function(y){return y&&y.length?n(y,g,m):void 0}},2762:(d,u,s)=>{var n=s(6029),m=s(7206),g=s(433);d.exports=function(y,k){return y&&y.length?n(y,m(k,2),g):void 0}},308:d=>{d.exports=function(){}},7771:(d,u,s)=>{var n=s(5639);d.exports=function(){return n.Date.now()}},9722:(d,u,s)=>{var n=s(5970),m=s(9021)(function(g,y){return g==null?{}:n(g,y)});d.exports=m},9601:(d,u,s)=>{var n=s(371),m=s(9152),g=s(5403),y=s(327);d.exports=function(k){return g(k)?n(y(k)):m(k)}},6026:(d,u,s)=>{var n=s(7445)();d.exports=n},4061:(d,u,s)=>{var n=s(2663),m=s(9881),g=s(7206),y=s(107),k=s(1469);d.exports=function(E,C,v){var h=k(E)?n:y,a=arguments.length<3;return h(E,g(C,4),v,a,m)}},4238:(d,u,s)=>{var n=s(280),m=s(4160),g=s(8612),y=s(7037),k=s(8016);d.exports=function(E){if(E==null)return 0;if(g(E))return y(E)?k(E):E.length;var C=m(E);return C=="[object Map]"||C=="[object Set]"?E.size:n(E).length}},9734:(d,u,s)=>{var n=s(1078),m=s(9556),g=s(5976),y=s(6612),k=g(function(E,C){if(E==null)return[];var v=C.length;return v>1&&y(E,C[0],C[1])?C=[]:v>2&&y(C[0],C[1],C[2])&&(C=[C[0]]),m(E,n(C,1),[])});d.exports=k},479:d=>{d.exports=function(){return[]}},5062:d=>{d.exports=function(){return!1}},8601:(d,u,s)=>{var n=s(4841);d.exports=function(m){return m?(m=n(m))===1/0||m===-1/0?17976931348623157e292*(m<0?-1:1):m==m?m:0:m===0?m:0}},554:(d,u,s)=>{var n=s(8601);d.exports=function(m){var g=n(m),y=g%1;return g==g?y?g-y:g:0}},4841:(d,u,s)=>{var n=s(7561),m=s(3218),g=s(3448),y=/^[-+]0x[0-9a-f]+$/i,k=/^0b[01]+$/i,E=/^0o[0-7]+$/i,C=parseInt;d.exports=function(v){if(typeof v=="number")return v;if(g(v))return NaN;if(m(v)){var h=typeof v.valueOf=="function"?v.valueOf():v;v=m(h)?h+"":h}if(typeof v!="string")return v===0?v:+v;v=n(v);var a=k.test(v);return a||E.test(v)?C(v.slice(2),a?2:8):y.test(v)?NaN:+v}},3678:(d,u,s)=>{var n=s(8363),m=s(1704);d.exports=function(g){return n(g,m(g))}},9833:(d,u,s)=>{var n=s(531);d.exports=function(m){return m==null?"":n(m)}},8718:(d,u,s)=>{var n=s(7412),m=s(3118),g=s(7816),y=s(7206),k=s(5924),E=s(1469),C=s(4144),v=s(3560),h=s(3218),a=s(6719);d.exports=function(O,_,M){var P=E(O),R=P||C(O)||a(O);if(_=y(_,4),M==null){var $=O&&O.constructor;M=R?P?new $:[]:h(O)&&v($)?m(k(O)):{}}return(R?n:g)(O,function(F,j,X){return _(M,F,j,X)}),M}},3386:(d,u,s)=>{var n=s(1078),m=s(5976),g=s(5652),y=s(9246),k=m(function(E){return g(n(E,1,y,!0))});d.exports=k},3955:(d,u,s)=>{var n=s(9833),m=0;d.exports=function(g){var y=++m;return n(g)+y}},2628:(d,u,s)=>{var n=s(7415),m=s(3674);d.exports=function(g){return g==null?[]:n(g,m(g))}},7287:(d,u,s)=>{var n=s(4865),m=s(1757);d.exports=function(g,y){return m(g||[],y||[],n)}},1140:function(d,u,s){var n;n=()=>(()=>{var m={"./src/diagrams/c4/parser/c4Diagram.jison":(E,C,v)=>{E=v.nmd(E);var h=function(){var a=function(on,yn,Sn,Ge){for(Sn=Sn||{},Ge=on.length;Ge--;Sn[on[Ge]]=yn);return Sn},O=[1,6],_=[1,7],M=[1,8],P=[1,9],R=[1,16],$=[1,11],F=[1,12],j=[1,13],X=[1,14],W=[1,15],V=[1,27],K=[1,33],st=[1,34],it=[1,35],pt=[1,36],ct=[1,37],lt=[1,72],J=[1,73],Bt=[1,74],Tt=[1,75],Ct=[1,76],St=[1,77],at=[1,78],yt=[1,38],kt=[1,39],xt=[1,40],Pt=[1,41],mt=[1,42],Yt=[1,43],ne=[1,44],Qt=[1,45],Kt=[1,46],Xt=[1,47],se=[1,48],ue=[1,49],re=[1,50],_t=[1,51],ut=[1,52],Mt=[1,53],qt=[1,54],Nt=[1,55],Vt=[1,56],Ut=[1,57],Wt=[1,59],Ft=[1,60],jt=[1,61],ee=[1,62],Lt=[1,63],he=[1,64],Ht=[1,65],Se=[1,66],Te=[1,67],we=[1,68],Ue=[1,69],We=[24,52],De=[24,44,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],me=[15,24,44,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],Oe=[1,94],Pe=[1,95],ze=[1,96],He=[1,97],dn=[15,24,52],Mn=[7,8,9,10,18,22,25,26,27,28],Kn=[15,24,43,52],an=[15,24,43,52,86,87,89,90],mn=[15,43],Bn=[44,46,47,48,49,50,51,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],Rn={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,directive:6,direction_tb:7,direction_bt:8,direction_rl:9,direction_lr:10,graphConfig:11,openDirective:12,typeDirective:13,closeDirective:14,NEWLINE:15,":":16,argDirective:17,open_directive:18,type_directive:19,arg_directive:20,close_directive:21,C4_CONTEXT:22,statements:23,EOF:24,C4_CONTAINER:25,C4_COMPONENT:26,C4_DYNAMIC:27,C4_DEPLOYMENT:28,otherStatements:29,diagramStatements:30,otherStatement:31,title:32,accDescription:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,boundaryStatement:39,boundaryStartStatement:40,boundaryStopStatement:41,boundaryStart:42,LBRACE:43,ENTERPRISE_BOUNDARY:44,attributes:45,SYSTEM_BOUNDARY:46,BOUNDARY:47,CONTAINER_BOUNDARY:48,NODE:49,NODE_L:50,NODE_R:51,RBRACE:52,diagramStatement:53,PERSON:54,PERSON_EXT:55,SYSTEM:56,SYSTEM_DB:57,SYSTEM_QUEUE:58,SYSTEM_EXT:59,SYSTEM_EXT_DB:60,SYSTEM_EXT_QUEUE:61,CONTAINER:62,CONTAINER_DB:63,CONTAINER_QUEUE:64,CONTAINER_EXT:65,CONTAINER_EXT_DB:66,CONTAINER_EXT_QUEUE:67,COMPONENT:68,COMPONENT_DB:69,COMPONENT_QUEUE:70,COMPONENT_EXT:71,COMPONENT_EXT_DB:72,COMPONENT_EXT_QUEUE:73,REL:74,BIREL:75,REL_U:76,REL_D:77,REL_L:78,REL_R:79,REL_B:80,REL_INDEX:81,UPDATE_EL_STYLE:82,UPDATE_REL_STYLE:83,UPDATE_LAYOUT_CONFIG:84,attribute:85,STR:86,STR_KEY:87,STR_VALUE:88,ATTRIBUTE:89,ATTRIBUTE_EMPTY:90,$accept:0,$end:1},terminals_:{2:"error",7:"direction_tb",8:"direction_bt",9:"direction_rl",10:"direction_lr",15:"NEWLINE",16:":",18:"open_directive",19:"type_directive",20:"arg_directive",21:"close_directive",22:"C4_CONTEXT",24:"EOF",25:"C4_CONTAINER",26:"C4_COMPONENT",27:"C4_DYNAMIC",28:"C4_DEPLOYMENT",32:"title",33:"accDescription",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",43:"LBRACE",44:"ENTERPRISE_BOUNDARY",46:"SYSTEM_BOUNDARY",47:"BOUNDARY",48:"CONTAINER_BOUNDARY",49:"NODE",50:"NODE_L",51:"NODE_R",52:"RBRACE",54:"PERSON",55:"PERSON_EXT",56:"SYSTEM",57:"SYSTEM_DB",58:"SYSTEM_QUEUE",59:"SYSTEM_EXT",60:"SYSTEM_EXT_DB",61:"SYSTEM_EXT_QUEUE",62:"CONTAINER",63:"CONTAINER_DB",64:"CONTAINER_QUEUE",65:"CONTAINER_EXT",66:"CONTAINER_EXT_DB",67:"CONTAINER_EXT_QUEUE",68:"COMPONENT",69:"COMPONENT_DB",70:"COMPONENT_QUEUE",71:"COMPONENT_EXT",72:"COMPONENT_EXT_DB",73:"COMPONENT_EXT_QUEUE",74:"REL",75:"BIREL",76:"REL_U",77:"REL_D",78:"REL_L",79:"REL_R",80:"REL_B",81:"REL_INDEX",82:"UPDATE_EL_STYLE",83:"UPDATE_REL_STYLE",84:"UPDATE_LAYOUT_CONFIG",86:"STR",87:"STR_KEY",88:"STR_VALUE",89:"ATTRIBUTE",90:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[3,2],[5,1],[5,1],[5,1],[5,1],[4,1],[6,4],[6,6],[12,1],[13,1],[17,1],[14,1],[11,4],[11,4],[11,4],[11,4],[11,4],[23,1],[23,1],[23,2],[29,1],[29,2],[29,3],[31,1],[31,1],[31,2],[31,2],[31,1],[39,3],[40,3],[40,3],[40,4],[42,2],[42,2],[42,2],[42,2],[42,2],[42,2],[42,2],[41,1],[30,1],[30,2],[30,3],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,1],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[45,1],[45,2],[85,1],[85,2],[85,1],[85,1]],performAction:function(on,yn,Sn,Ge,Fn,ke,Fr){var Ye=ke.length-1;switch(Fn){case 4:Ge.setDirection("TB");break;case 5:Ge.setDirection("BT");break;case 6:Ge.setDirection("RL");break;case 7:Ge.setDirection("LR");break;case 11:console.log("open_directive: ",ke[Ye]),Ge.parseDirective("%%{","open_directive");break;case 12:break;case 13:ke[Ye]=ke[Ye].trim().replace(/'/g,'"'),console.log("arg_directive: ",ke[Ye]),Ge.parseDirective(ke[Ye],"arg_directive");break;case 14:console.log("close_directive: ",ke[Ye]),Ge.parseDirective("}%%","close_directive","c4Context");break;case 15:case 16:case 17:case 18:case 19:Ge.setC4Type(ke[Ye-3]);break;case 26:Ge.setTitle(ke[Ye].substring(6)),this.$=ke[Ye].substring(6);break;case 27:Ge.setAccDescription(ke[Ye].substring(15)),this.$=ke[Ye].substring(15);break;case 28:this.$=ke[Ye].trim(),Ge.setTitle(this.$);break;case 29:case 30:this.$=ke[Ye].trim(),Ge.setAccDescription(this.$);break;case 35:case 36:console.log(ke[Ye-1],JSON.stringify(ke[Ye])),ke[Ye].splice(2,0,"ENTERPRISE"),Ge.addPersonOrSystemBoundary(...ke[Ye]),this.$=ke[Ye];break;case 37:console.log(ke[Ye-1],JSON.stringify(ke[Ye])),Ge.addPersonOrSystemBoundary(...ke[Ye]),this.$=ke[Ye];break;case 38:console.log(ke[Ye-1],JSON.stringify(ke[Ye])),ke[Ye].splice(2,0,"CONTAINER"),Ge.addContainerBoundary(...ke[Ye]),this.$=ke[Ye];break;case 39:console.log(ke[Ye-1],JSON.stringify(ke[Ye])),Ge.addDeploymentNode("node",...ke[Ye]),this.$=ke[Ye];break;case 40:console.log(ke[Ye-1],JSON.stringify(ke[Ye])),Ge.addDeploymentNode("nodeL",...ke[Ye]),this.$=ke[Ye];break;case 41:console.log(ke[Ye-1],JSON.stringify(ke[Ye])),Ge.addDeploymentNode("nodeR",...ke[Ye]),this.$=ke[Ye];break;case 42:Ge.popBoundaryParseStack();break;case 46:console.log(ke[Ye-1],JSON.stringify(ke[Ye])),Ge.addPersonOrSystem("person",...ke[Ye]),this.$=ke[Ye];break;case 47:console.log(ke[Ye-1],JSON.stringify(ke[Ye])),Ge.addPersonOrSystem("external_person",...ke[Ye]),this.$=ke[Ye];break;case 48:console.log(ke[Ye-1],JSON.stringify(ke[Ye])),Ge.addPersonOrSystem("system",...ke[Ye]),this.$=ke[Ye];break;case 49:console.log(ke[Ye-1],JSON.stringify(ke[Ye])),Ge.addPersonOrSystem("system_db",...ke[Ye]),this.$=ke[Ye];break;case 50:console.log(ke[Ye-1],JSON.stringify(ke[Ye])),Ge.addPersonOrSystem("system_queue",...ke[Ye]),this.$=ke[Ye];break;case 51:console.log(ke[Ye-1],JSON.stringify(ke[Ye])),Ge.addPersonOrSystem("external_system",...ke[Ye]),this.$=ke[Ye];break;case 52:console.log(ke[Ye-1],JSON.stringify(ke[Ye])),Ge.addPersonOrSystem("external_system_db",...ke[Ye]),this.$=ke[Ye];break;case 53:console.log(ke[Ye-1],JSON.stringify(ke[Ye])),Ge.addPersonOrSystem("external_system_queue",...ke[Ye]),this.$=ke[Ye];break;case 54:console.log(ke[Ye-1],JSON.stringify(ke[Ye])),Ge.addContainer("container",...ke[Ye]),this.$=ke[Ye];break;case 55:console.log(ke[Ye-1],JSON.stringify(ke[Ye])),Ge.addContainer("container_db",...ke[Ye]),this.$=ke[Ye];break;case 56:console.log(ke[Ye-1],JSON.stringify(ke[Ye])),Ge.addContainer("container_queue",...ke[Ye]),this.$=ke[Ye];break;case 57:console.log(ke[Ye-1],JSON.stringify(ke[Ye])),Ge.addContainer("external_container",...ke[Ye]),this.$=ke[Ye];break;case 58:console.log(ke[Ye-1],JSON.stringify(ke[Ye])),Ge.addContainer("external_container_db",...ke[Ye]),this.$=ke[Ye];break;case 59:console.log(ke[Ye-1],JSON.stringify(ke[Ye])),Ge.addContainer("external_container_queue",...ke[Ye]),this.$=ke[Ye];break;case 60:console.log(ke[Ye-1],JSON.stringify(ke[Ye])),Ge.addComponent("component",...ke[Ye]),this.$=ke[Ye];break;case 61:console.log(ke[Ye-1],JSON.stringify(ke[Ye])),Ge.addComponent("component_db",...ke[Ye]),this.$=ke[Ye];break;case 62:console.log(ke[Ye-1],JSON.stringify(ke[Ye])),Ge.addComponent("component_queue",...ke[Ye]),this.$=ke[Ye];break;case 63:console.log(ke[Ye-1],JSON.stringify(ke[Ye])),Ge.addComponent("external_component",...ke[Ye]),this.$=ke[Ye];break;case 64:console.log(ke[Ye-1],JSON.stringify(ke[Ye])),Ge.addComponent("external_component_db",...ke[Ye]),this.$=ke[Ye];break;case 65:console.log(ke[Ye-1],JSON.stringify(ke[Ye])),Ge.addComponent("external_component_queue",...ke[Ye]),this.$=ke[Ye];break;case 67:console.log(ke[Ye-1],JSON.stringify(ke[Ye])),Ge.addRel("rel",...ke[Ye]),this.$=ke[Ye];break;case 68:console.log(ke[Ye-1],JSON.stringify(ke[Ye])),Ge.addRel("birel",...ke[Ye]),this.$=ke[Ye];break;case 69:console.log(ke[Ye-1],JSON.stringify(ke[Ye])),Ge.addRel("rel_u",...ke[Ye]),this.$=ke[Ye];break;case 70:console.log(ke[Ye-1],JSON.stringify(ke[Ye])),Ge.addRel("rel_d",...ke[Ye]),this.$=ke[Ye];break;case 71:console.log(ke[Ye-1],JSON.stringify(ke[Ye])),Ge.addRel("rel_l",...ke[Ye]),this.$=ke[Ye];break;case 72:console.log(ke[Ye-1],JSON.stringify(ke[Ye])),Ge.addRel("rel_r",...ke[Ye]),this.$=ke[Ye];break;case 73:console.log(ke[Ye-1],JSON.stringify(ke[Ye])),Ge.addRel("rel_b",...ke[Ye]),this.$=ke[Ye];break;case 74:console.log(ke[Ye-1],JSON.stringify(ke[Ye])),ke[Ye].splice(0,1),Ge.addRel("rel",...ke[Ye]),this.$=ke[Ye];break;case 75:console.log(ke[Ye-1],JSON.stringify(ke[Ye])),Ge.updateElStyle("update_el_style",...ke[Ye]),this.$=ke[Ye];break;case 76:console.log(ke[Ye-1],JSON.stringify(ke[Ye])),Ge.updateRelStyle("update_rel_style",...ke[Ye]),this.$=ke[Ye];break;case 77:console.log(ke[Ye-1],JSON.stringify(ke[Ye])),Ge.updateLayoutConfig("update_layout_config",...ke[Ye]),this.$=ke[Ye];break;case 78:console.log("PUSH ATTRIBUTE: ",ke[Ye]),this.$=[ke[Ye]];break;case 79:console.log("PUSH ATTRIBUTE: ",ke[Ye-1]),ke[Ye].unshift(ke[Ye-1]),this.$=ke[Ye];break;case 80:case 82:this.$=ke[Ye].trim();break;case 81:console.log("kv: ",ke[Ye-1],ke[Ye]);let vr={};vr[ke[Ye-1].trim()]=ke[Ye].trim(),this.$=vr;break;case 83:this.$=""}},table:[{3:1,4:2,5:3,6:4,7:O,8:_,9:M,10:P,11:5,12:10,18:R,22:$,25:F,26:j,27:X,28:W},{1:[3]},{1:[2,1]},{1:[2,2]},{3:17,4:2,5:3,6:4,7:O,8:_,9:M,10:P,11:5,12:10,18:R,22:$,25:F,26:j,27:X,28:W},{1:[2,8]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{1:[2,7]},{13:18,19:[1,19]},{15:[1,20]},{15:[1,21]},{15:[1,22]},{15:[1,23]},{15:[1,24]},{19:[2,11]},{1:[2,3]},{14:25,16:[1,26],21:V},a([16,21],[2,12]),{23:28,29:29,30:30,31:31,32:K,33:st,34:it,36:pt,38:ct,39:58,40:70,42:71,44:lt,46:J,47:Bt,48:Tt,49:Ct,50:St,51:at,53:32,54:yt,55:kt,56:xt,57:Pt,58:mt,59:Yt,60:ne,61:Qt,62:Kt,63:Xt,64:se,65:ue,66:re,67:_t,68:ut,69:Mt,70:qt,71:Nt,72:Vt,73:Ut,74:Wt,75:Ft,76:jt,77:ee,78:Lt,79:he,80:Ht,81:Se,82:Te,83:we,84:Ue},{23:79,29:29,30:30,31:31,32:K,33:st,34:it,36:pt,38:ct,39:58,40:70,42:71,44:lt,46:J,47:Bt,48:Tt,49:Ct,50:St,51:at,53:32,54:yt,55:kt,56:xt,57:Pt,58:mt,59:Yt,60:ne,61:Qt,62:Kt,63:Xt,64:se,65:ue,66:re,67:_t,68:ut,69:Mt,70:qt,71:Nt,72:Vt,73:Ut,74:Wt,75:Ft,76:jt,77:ee,78:Lt,79:he,80:Ht,81:Se,82:Te,83:we,84:Ue},{23:80,29:29,30:30,31:31,32:K,33:st,34:it,36:pt,38:ct,39:58,40:70,42:71,44:lt,46:J,47:Bt,48:Tt,49:Ct,50:St,51:at,53:32,54:yt,55:kt,56:xt,57:Pt,58:mt,59:Yt,60:ne,61:Qt,62:Kt,63:Xt,64:se,65:ue,66:re,67:_t,68:ut,69:Mt,70:qt,71:Nt,72:Vt,73:Ut,74:Wt,75:Ft,76:jt,77:ee,78:Lt,79:he,80:Ht,81:Se,82:Te,83:we,84:Ue},{23:81,29:29,30:30,31:31,32:K,33:st,34:it,36:pt,38:ct,39:58,40:70,42:71,44:lt,46:J,47:Bt,48:Tt,49:Ct,50:St,51:at,53:32,54:yt,55:kt,56:xt,57:Pt,58:mt,59:Yt,60:ne,61:Qt,62:Kt,63:Xt,64:se,65:ue,66:re,67:_t,68:ut,69:Mt,70:qt,71:Nt,72:Vt,73:Ut,74:Wt,75:Ft,76:jt,77:ee,78:Lt,79:he,80:Ht,81:Se,82:Te,83:we,84:Ue},{23:82,29:29,30:30,31:31,32:K,33:st,34:it,36:pt,38:ct,39:58,40:70,42:71,44:lt,46:J,47:Bt,48:Tt,49:Ct,50:St,51:at,53:32,54:yt,55:kt,56:xt,57:Pt,58:mt,59:Yt,60:ne,61:Qt,62:Kt,63:Xt,64:se,65:ue,66:re,67:_t,68:ut,69:Mt,70:qt,71:Nt,72:Vt,73:Ut,74:Wt,75:Ft,76:jt,77:ee,78:Lt,79:he,80:Ht,81:Se,82:Te,83:we,84:Ue},{15:[1,83]},{17:84,20:[1,85]},{15:[2,14]},{24:[1,86]},a(We,[2,20],{53:32,39:58,40:70,42:71,30:87,44:lt,46:J,47:Bt,48:Tt,49:Ct,50:St,51:at,54:yt,55:kt,56:xt,57:Pt,58:mt,59:Yt,60:ne,61:Qt,62:Kt,63:Xt,64:se,65:ue,66:re,67:_t,68:ut,69:Mt,70:qt,71:Nt,72:Vt,73:Ut,74:Wt,75:Ft,76:jt,77:ee,78:Lt,79:he,80:Ht,81:Se,82:Te,83:we,84:Ue}),a(We,[2,21]),a(De,[2,23],{15:[1,88]}),a(We,[2,43],{15:[1,89]}),a(me,[2,26]),a(me,[2,27]),{35:[1,90]},{37:[1,91]},a(me,[2,30]),{45:92,85:93,86:Oe,87:Pe,89:ze,90:He},{45:98,85:93,86:Oe,87:Pe,89:ze,90:He},{45:99,85:93,86:Oe,87:Pe,89:ze,90:He},{45:100,85:93,86:Oe,87:Pe,89:ze,90:He},{45:101,85:93,86:Oe,87:Pe,89:ze,90:He},{45:102,85:93,86:Oe,87:Pe,89:ze,90:He},{45:103,85:93,86:Oe,87:Pe,89:ze,90:He},{45:104,85:93,86:Oe,87:Pe,89:ze,90:He},{45:105,85:93,86:Oe,87:Pe,89:ze,90:He},{45:106,85:93,86:Oe,87:Pe,89:ze,90:He},{45:107,85:93,86:Oe,87:Pe,89:ze,90:He},{45:108,85:93,86:Oe,87:Pe,89:ze,90:He},{45:109,85:93,86:Oe,87:Pe,89:ze,90:He},{45:110,85:93,86:Oe,87:Pe,89:ze,90:He},{45:111,85:93,86:Oe,87:Pe,89:ze,90:He},{45:112,85:93,86:Oe,87:Pe,89:ze,90:He},{45:113,85:93,86:Oe,87:Pe,89:ze,90:He},{45:114,85:93,86:Oe,87:Pe,89:ze,90:He},{45:115,85:93,86:Oe,87:Pe,89:ze,90:He},{45:116,85:93,86:Oe,87:Pe,89:ze,90:He},a(dn,[2,66]),{45:117,85:93,86:Oe,87:Pe,89:ze,90:He},{45:118,85:93,86:Oe,87:Pe,89:ze,90:He},{45:119,85:93,86:Oe,87:Pe,89:ze,90:He},{45:120,85:93,86:Oe,87:Pe,89:ze,90:He},{45:121,85:93,86:Oe,87:Pe,89:ze,90:He},{45:122,85:93,86:Oe,87:Pe,89:ze,90:He},{45:123,85:93,86:Oe,87:Pe,89:ze,90:He},{45:124,85:93,86:Oe,87:Pe,89:ze,90:He},{45:125,85:93,86:Oe,87:Pe,89:ze,90:He},{45:126,85:93,86:Oe,87:Pe,89:ze,90:He},{45:127,85:93,86:Oe,87:Pe,89:ze,90:He},{30:128,39:58,40:70,42:71,44:lt,46:J,47:Bt,48:Tt,49:Ct,50:St,51:at,53:32,54:yt,55:kt,56:xt,57:Pt,58:mt,59:Yt,60:ne,61:Qt,62:Kt,63:Xt,64:se,65:ue,66:re,67:_t,68:ut,69:Mt,70:qt,71:Nt,72:Vt,73:Ut,74:Wt,75:Ft,76:jt,77:ee,78:Lt,79:he,80:Ht,81:Se,82:Te,83:we,84:Ue},{15:[1,130],43:[1,129]},{45:131,85:93,86:Oe,87:Pe,89:ze,90:He},{45:132,85:93,86:Oe,87:Pe,89:ze,90:He},{45:133,85:93,86:Oe,87:Pe,89:ze,90:He},{45:134,85:93,86:Oe,87:Pe,89:ze,90:He},{45:135,85:93,86:Oe,87:Pe,89:ze,90:He},{45:136,85:93,86:Oe,87:Pe,89:ze,90:He},{45:137,85:93,86:Oe,87:Pe,89:ze,90:He},{24:[1,138]},{24:[1,139]},{24:[1,140]},{24:[1,141]},a(Mn,[2,9]),{14:142,21:V},{21:[2,13]},{1:[2,15]},a(We,[2,22]),a(De,[2,24],{31:31,29:143,32:K,33:st,34:it,36:pt,38:ct}),a(We,[2,44],{29:29,30:30,31:31,53:32,39:58,40:70,42:71,23:144,32:K,33:st,34:it,36:pt,38:ct,44:lt,46:J,47:Bt,48:Tt,49:Ct,50:St,51:at,54:yt,55:kt,56:xt,57:Pt,58:mt,59:Yt,60:ne,61:Qt,62:Kt,63:Xt,64:se,65:ue,66:re,67:_t,68:ut,69:Mt,70:qt,71:Nt,72:Vt,73:Ut,74:Wt,75:Ft,76:jt,77:ee,78:Lt,79:he,80:Ht,81:Se,82:Te,83:we,84:Ue}),a(me,[2,28]),a(me,[2,29]),a(dn,[2,46]),a(Kn,[2,78],{85:93,45:145,86:Oe,87:Pe,89:ze,90:He}),a(an,[2,80]),{88:[1,146]},a(an,[2,82]),a(an,[2,83]),a(dn,[2,47]),a(dn,[2,48]),a(dn,[2,49]),a(dn,[2,50]),a(dn,[2,51]),a(dn,[2,52]),a(dn,[2,53]),a(dn,[2,54]),a(dn,[2,55]),a(dn,[2,56]),a(dn,[2,57]),a(dn,[2,58]),a(dn,[2,59]),a(dn,[2,60]),a(dn,[2,61]),a(dn,[2,62]),a(dn,[2,63]),a(dn,[2,64]),a(dn,[2,65]),a(dn,[2,67]),a(dn,[2,68]),a(dn,[2,69]),a(dn,[2,70]),a(dn,[2,71]),a(dn,[2,72]),a(dn,[2,73]),a(dn,[2,74]),a(dn,[2,75]),a(dn,[2,76]),a(dn,[2,77]),{41:147,52:[1,148]},{15:[1,149]},{43:[1,150]},a(mn,[2,35]),a(mn,[2,36]),a(mn,[2,37]),a(mn,[2,38]),a(mn,[2,39]),a(mn,[2,40]),a(mn,[2,41]),{1:[2,16]},{1:[2,17]},{1:[2,18]},{1:[2,19]},{15:[1,151]},a(De,[2,25]),a(We,[2,45]),a(Kn,[2,79]),a(an,[2,81]),a(dn,[2,31]),a(dn,[2,42]),a(Bn,[2,32]),a(Bn,[2,33],{15:[1,152]}),a(Mn,[2,10]),a(Bn,[2,34])],defaultActions:{2:[2,1],3:[2,2],5:[2,8],6:[2,4],7:[2,5],8:[2,6],9:[2,7],16:[2,11],17:[2,3],27:[2,14],85:[2,13],86:[2,15],138:[2,16],139:[2,17],140:[2,18],141:[2,19]},parseError:function(on,yn){if(!yn.recoverable){var Sn=new Error(on);throw Sn.hash=yn,Sn}this.trace(on)},parse:function(on){var yn=this,Sn=[0],Ge=[],Fn=[null],ke=[],Fr=this.table,Ye="",vr=0,Zr=0,jr=0,_r=2,Hr=1,Tr=ke.slice.call(arguments,1),br=Object.create(this.lexer),mr={yy:{}};for(var xr in this.yy)Object.prototype.hasOwnProperty.call(this.yy,xr)&&(mr.yy[xr]=this.yy[xr]);br.setInput(on,mr.yy),mr.yy.lexer=br,mr.yy.parser=this,br.yylloc===void 0&&(br.yylloc={});var kr=br.yylloc;ke.push(kr);var En=br.options&&br.options.ranges;function Yn(){var xi;return typeof(xi=Ge.pop()||br.lex()||Hr)!="number"&&(xi instanceof Array&&(xi=(Ge=xi).pop()),xi=yn.symbols_[xi]||xi),xi}typeof mr.yy.parseError=="function"?this.parseError=mr.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var Un,qn,Lr,Ar,wr,ei,vi,bi,oo,ci={};;){if(Lr=Sn[Sn.length-1],this.defaultActions[Lr]?Ar=this.defaultActions[Lr]:(Un==null&&(Un=Yn()),Ar=Fr[Lr]&&Fr[Lr][Un]),Ar===void 0||!Ar.length||!Ar[0]){var Eo="";for(ei in oo=[],Fr[Lr])this.terminals_[ei]&&ei>_r&&oo.push("'"+this.terminals_[ei]+"'");Eo=br.showPosition?"Parse error on line "+(vr+1)+`:
`+br.showPosition()+`
Expecting `+oo.join(", ")+", got '"+(this.terminals_[Un]||Un)+"'":"Parse error on line "+(vr+1)+": Unexpected "+(Un==Hr?"end of input":"'"+(this.terminals_[Un]||Un)+"'"),this.parseError(Eo,{text:br.match,token:this.terminals_[Un]||Un,line:br.yylineno,loc:kr,expected:oo})}if(Ar[0]instanceof Array&&Ar.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Lr+", token: "+Un);switch(Ar[0]){case 1:Sn.push(Un),Fn.push(br.yytext),ke.push(br.yylloc),Sn.push(Ar[1]),Un=null,qn?(Un=qn,qn=null):(Zr=br.yyleng,Ye=br.yytext,vr=br.yylineno,kr=br.yylloc,jr>0);break;case 2:if(vi=this.productions_[Ar[1]][1],ci.$=Fn[Fn.length-vi],ci._$={first_line:ke[ke.length-(vi||1)].first_line,last_line:ke[ke.length-1].last_line,first_column:ke[ke.length-(vi||1)].first_column,last_column:ke[ke.length-1].last_column},En&&(ci._$.range=[ke[ke.length-(vi||1)].range[0],ke[ke.length-1].range[1]]),(wr=this.performAction.apply(ci,[Ye,Zr,vr,mr.yy,Ar[1],Fn,ke].concat(Tr)))!==void 0)return wr;vi&&(Sn=Sn.slice(0,-1*vi*2),Fn=Fn.slice(0,-1*vi),ke=ke.slice(0,-1*vi)),Sn.push(this.productions_[Ar[1]][0]),Fn.push(ci.$),ke.push(ci._$),bi=Fr[Sn[Sn.length-2]][Sn[Sn.length-1]],Sn.push(bi);break;case 3:return!0}}return!0}},$n={EOF:1,parseError:function(on,yn){if(!this.yy.parser)throw new Error(on);this.yy.parser.parseError(on,yn)},setInput:function(on,yn){return this.yy=yn||this.yy||{},this._input=on,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var on=this._input[0];return this.yytext+=on,this.yyleng++,this.offset++,this.match+=on,this.matched+=on,on.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),on},unput:function(on){var yn=on.length,Sn=on.split(/(?:\r\n?|\n)/g);this._input=on+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-yn),this.offset-=yn;var Ge=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Sn.length-1&&(this.yylineno-=Sn.length-1);var Fn=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Sn?(Sn.length===Ge.length?this.yylloc.first_column:0)+Ge[Ge.length-Sn.length].length-Sn[0].length:this.yylloc.first_column-yn},this.options.ranges&&(this.yylloc.range=[Fn[0],Fn[0]+this.yyleng-yn]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(on){this.unput(this.match.slice(on))},pastInput:function(){var on=this.matched.substr(0,this.matched.length-this.match.length);return(on.length>20?"...":"")+on.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var on=this.match;return on.length<20&&(on+=this._input.substr(0,20-on.length)),(on.substr(0,20)+(on.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var on=this.pastInput(),yn=new Array(on.length+1).join("-");return on+this.upcomingInput()+`
`+yn+"^"},test_match:function(on,yn){var Sn,Ge,Fn;if(this.options.backtrack_lexer&&(Fn={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Fn.yylloc.range=this.yylloc.range.slice(0))),(Ge=on[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=Ge.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Ge?Ge[Ge.length-1].length-Ge[Ge.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+on[0].length},this.yytext+=on[0],this.match+=on[0],this.matches=on,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(on[0].length),this.matched+=on[0],Sn=this.performAction.call(this,this.yy,this,yn,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Sn)return Sn;if(this._backtrack){for(var ke in Fn)this[ke]=Fn[ke];return!1}return!1},next:function(){if(this.done)return this.EOF;var on,yn,Sn,Ge;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var Fn=this._currentRules(),ke=0;ke<Fn.length;ke++)if((Sn=this._input.match(this.rules[Fn[ke]]))&&(!yn||Sn[0].length>yn[0].length)){if(yn=Sn,Ge=ke,this.options.backtrack_lexer){if((on=this.test_match(Sn,Fn[ke]))!==!1)return on;if(this._backtrack){yn=!1;continue}return!1}if(!this.options.flex)break}return yn?(on=this.test_match(yn,Fn[Ge]))!==!1&&on:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(on){this.conditionStack.push(on)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(on){return(on=this.conditionStack.length-1-Math.abs(on||0))>=0?this.conditionStack[on]:"INITIAL"},pushState:function(on){this.begin(on)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(on,yn,Sn,Ge){switch(Sn){case 0:return this.begin("open_directive"),18;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 10;case 5:return this.begin("type_directive"),19;case 6:return this.popState(),this.begin("arg_directive"),16;case 7:return this.popState(),this.popState(),21;case 8:return 20;case 9:return 32;case 10:return 33;case 11:return this.begin("acc_title"),34;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),36;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:case 21:break;case 19:c;break;case 20:return 15;case 22:return 22;case 23:return 25;case 24:return 26;case 25:return 27;case 26:return 28;case 27:return this.begin("person_ext"),console.log("begin person_ext"),55;case 28:return this.begin("person"),console.log("begin person"),54;case 29:return this.begin("system_ext_queue"),console.log("begin system_ext_queue"),61;case 30:return this.begin("system_ext_db"),console.log("begin system_ext_db"),60;case 31:return this.begin("system_ext"),console.log("begin system_ext"),59;case 32:return this.begin("system_queue"),console.log("begin system_queue"),58;case 33:return this.begin("system_db"),console.log("begin system_db"),57;case 34:return this.begin("system"),console.log("begin system"),56;case 35:return this.begin("boundary"),console.log("begin boundary"),47;case 36:return this.begin("enterprise_boundary"),console.log("begin enterprise_boundary"),44;case 37:return this.begin("system_boundary"),console.log("begin system_boundary"),46;case 38:return this.begin("container_ext_queue"),console.log("begin container_ext_queue"),67;case 39:return this.begin("container_ext_db"),console.log("begin container_ext_db"),66;case 40:return this.begin("container_ext"),console.log("begin container_ext"),65;case 41:return this.begin("container_queue"),console.log("begin container_queue"),64;case 42:return this.begin("container_db"),console.log("begin container_db"),63;case 43:return this.begin("container"),console.log("begin container"),62;case 44:return this.begin("container_boundary"),console.log("begin container_boundary"),48;case 45:return this.begin("component_ext_queue"),console.log("begin component_ext_queue"),73;case 46:return this.begin("component_ext_db"),console.log("begin component_ext_db"),72;case 47:return this.begin("component_ext"),console.log("begin component_ext"),71;case 48:return this.begin("component_queue"),console.log("begin component_queue"),70;case 49:return this.begin("component_db"),console.log("begin component_db"),69;case 50:return this.begin("component"),console.log("begin component"),68;case 51:case 52:return this.begin("node"),console.log("begin node"),49;case 53:return this.begin("node_l"),console.log("begin node_l"),50;case 54:return this.begin("node_r"),console.log("begin node_r"),51;case 55:return this.begin("rel"),console.log("begin rel"),74;case 56:return this.begin("birel"),console.log("begin birel"),75;case 57:case 58:return this.begin("rel_u"),console.log("begin rel_u"),76;case 59:case 60:return this.begin("rel_d"),console.log("begin rel_d"),77;case 61:case 62:return this.begin("rel_l"),console.log("begin rel_l"),78;case 63:case 64:return this.begin("rel_r"),console.log("begin rel_r"),79;case 65:return this.begin("rel_b"),console.log("begin rel_b"),80;case 66:return this.begin("rel_index"),console.log("begin rel_index"),81;case 67:return this.begin("update_el_style"),console.log("begin update_el_style"),82;case 68:return this.begin("update_rel_style"),console.log("begin update_rel_style"),83;case 69:return this.begin("update_layout_config"),console.log("begin update_layout_config"),84;case 70:return"EOF_IN_STRUCT";case 71:return console.log("begin attribute with ATTRIBUTE_EMPTY"),this.begin("attribute"),"ATTRIBUTE_EMPTY";case 72:console.log("begin attribute"),this.begin("attribute");break;case 73:console.log("STOP attribute"),this.popState(),console.log("STOP diagram"),this.popState();break;case 74:return console.log(",,"),90;case 75:console.log(",");break;case 76:return console.log("ATTRIBUTE_EMPTY"),90;case 77:console.log("begin string"),this.begin("string");break;case 78:console.log("STOP string"),this.popState();break;case 79:return console.log("STR"),"STR";case 80:console.log("begin string_kv"),this.begin("string_kv");break;case 81:return console.log("STR_KEY"),this.begin("string_kv_key"),"STR_KEY";case 82:console.log("begin string_kv_value"),this.popState(),this.begin("string_kv_value");break;case 83:return console.log("STR_VALUE"),"STR_VALUE";case 84:console.log("STOP string_kv_value"),this.popState(),this.popState();break;case 85:return console.log("not STR"),"STR";case 86:return console.log("begin boundary block"),"LBRACE";case 87:return console.log("STOP boundary block"),"RBRACE";case 88:return"SPACE";case 89:return"EOL";case 90:return 24}},rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[\$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},string_kv_value:{rules:[83,84],inclusive:!1},string_kv_key:{rules:[82],inclusive:!1},string_kv:{rules:[81],inclusive:!1},string:{rules:[78,79],inclusive:!1},attribute:{rules:[73,74,75,76,77,80,85],inclusive:!1},update_layout_config:{rules:[70,71,72,73],inclusive:!1},update_rel_style:{rules:[70,71,72,73],inclusive:!1},update_el_style:{rules:[70,71,72,73],inclusive:!1},rel_b:{rules:[70,71,72,73],inclusive:!1},rel_r:{rules:[70,71,72,73],inclusive:!1},rel_l:{rules:[70,71,72,73],inclusive:!1},rel_d:{rules:[70,71,72,73],inclusive:!1},rel_u:{rules:[70,71,72,73],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[70,71,72,73],inclusive:!1},node_r:{rules:[70,71,72,73],inclusive:!1},node_l:{rules:[70,71,72,73],inclusive:!1},node:{rules:[70,71,72,73],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[70,71,72,73],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[70,71,72,73],inclusive:!1},component_ext:{rules:[70,71,72,73],inclusive:!1},component_queue:{rules:[70,71,72,73],inclusive:!1},component_db:{rules:[70,71,72,73],inclusive:!1},component:{rules:[70,71,72,73],inclusive:!1},container_boundary:{rules:[70,71,72,73],inclusive:!1},container_ext_queue:{rules:[],inclusive:!1},container_ext_db:{rules:[70,71,72,73],inclusive:!1},container_ext:{rules:[70,71,72,73],inclusive:!1},container_queue:{rules:[70,71,72,73],inclusive:!1},container_db:{rules:[70,71,72,73],inclusive:!1},container:{rules:[70,71,72,73],inclusive:!1},birel:{rules:[70,71,72,73],inclusive:!1},system_boundary:{rules:[70,71,72,73],inclusive:!1},enterprise_boundary:{rules:[70,71,72,73],inclusive:!1},boundary:{rules:[70,71,72,73],inclusive:!1},system_ext_queue:{rules:[70,71,72,73],inclusive:!1},system_ext_db:{rules:[70,71,72,73],inclusive:!1},system_ext:{rules:[70,71,72,73],inclusive:!1},system_queue:{rules:[70,71,72,73],inclusive:!1},system_db:{rules:[70,71,72,73],inclusive:!1},system:{rules:[70,71,72,73],inclusive:!1},person_ext:{rules:[70,71,72,73],inclusive:!1},person:{rules:[70,71,72,73],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,13,15,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,86,87,88,89,90],inclusive:!0}}};function sn(){this.yy={}}return Rn.lexer=$n,sn.prototype=Rn,Rn.Parser=sn,new sn}();C.parser=h,C.Parser=h.Parser,C.parse=function(){return h.parse.apply(h,arguments)},C.main=function(a){a[1]||(console.log("Usage: "+a[0]+" FILE"),process.exit(1));var O=v("?1da1").readFileSync(v("./node_modules/path-browserify/index.js").normalize(a[1]),"utf8");return C.parser.parse(O)},v.c[v.s]===E&&C.main(process.argv.slice(1))},"./src/diagrams/class/parser/classDiagram.jison":(E,C,v)=>{E=v.nmd(E);var h=function(){var a=function(Ut,Wt,Ft,jt){for(Ft=Ft||{},jt=Ut.length;jt--;Ft[Ut[jt]]=Wt);return Ft},O=[1,3],_=[1,7],M=[1,8],P=[1,9],R=[1,10],$=[1,13],F=[1,12],j=[1,16,25],X=[1,20],W=[1,31],V=[1,32],K=[1,33],st=[1,35],it=[1,38],pt=[1,36],ct=[1,37],lt=[1,39],J=[1,40],Bt=[1,41],Tt=[1,42],Ct=[1,45],St=[1,46],at=[1,47],yt=[1,48],kt=[16,25],xt=[1,62],Pt=[1,63],mt=[1,64],Yt=[1,65],ne=[1,66],Qt=[1,67],Kt=[16,25,32,44,45,53,56,57,58,59,60,61,66,68],Xt=[16,25,30,32,44,45,49,53,56,57,58,59,60,61,66,68,83,84,85,86],se=[5,8,9,10,11,16,19,23,25],ue=[53,83,84,85,86],re=[53,60,61,83,84,85,86],_t=[53,56,57,58,59,83,84,85,86],ut=[16,25,32],Mt=[1,99],qt={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statments:5,direction:6,directive:7,direction_tb:8,direction_bt:9,direction_rl:10,direction_lr:11,graphConfig:12,openDirective:13,typeDirective:14,closeDirective:15,NEWLINE:16,":":17,argDirective:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,CLASS_DIAGRAM:23,statements:24,EOF:25,statement:26,className:27,alphaNumToken:28,classLiteralName:29,GENERICTYPE:30,relationStatement:31,LABEL:32,classStatement:33,methodStatement:34,annotationStatement:35,clickStatement:36,cssClassStatement:37,acc_title:38,acc_title_value:39,acc_descr:40,acc_descr_value:41,acc_descr_multiline_value:42,CLASS:43,STYLE_SEPARATOR:44,STRUCT_START:45,members:46,STRUCT_STOP:47,ANNOTATION_START:48,ANNOTATION_END:49,MEMBER:50,SEPARATOR:51,relation:52,STR:53,relationType:54,lineType:55,AGGREGATION:56,EXTENSION:57,COMPOSITION:58,DEPENDENCY:59,LINE:60,DOTTED_LINE:61,CALLBACK:62,LINK:63,LINK_TARGET:64,CLICK:65,CALLBACK_NAME:66,CALLBACK_ARGS:67,HREF:68,CSSCLASS:69,commentToken:70,textToken:71,graphCodeTokens:72,textNoTagsToken:73,TAGSTART:74,TAGEND:75,"==":76,"--":77,PCT:78,DEFAULT:79,SPACE:80,MINUS:81,keywords:82,UNICODE_TEXT:83,NUM:84,ALPHA:85,BQUOTE_STR:86,$accept:0,$end:1},terminals_:{2:"error",5:"statments",8:"direction_tb",9:"direction_bt",10:"direction_rl",11:"direction_lr",16:"NEWLINE",17:":",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",23:"CLASS_DIAGRAM",25:"EOF",30:"GENERICTYPE",32:"LABEL",38:"acc_title",39:"acc_title_value",40:"acc_descr",41:"acc_descr_value",42:"acc_descr_multiline_value",43:"CLASS",44:"STYLE_SEPARATOR",45:"STRUCT_START",47:"STRUCT_STOP",48:"ANNOTATION_START",49:"ANNOTATION_END",50:"MEMBER",51:"SEPARATOR",53:"STR",56:"AGGREGATION",57:"EXTENSION",58:"COMPOSITION",59:"DEPENDENCY",60:"LINE",61:"DOTTED_LINE",62:"CALLBACK",63:"LINK",64:"LINK_TARGET",65:"CLICK",66:"CALLBACK_NAME",67:"CALLBACK_ARGS",68:"HREF",69:"CSSCLASS",72:"graphCodeTokens",74:"TAGSTART",75:"TAGEND",76:"==",77:"--",78:"PCT",79:"DEFAULT",80:"SPACE",81:"MINUS",82:"keywords",83:"UNICODE_TEXT",84:"NUM",85:"ALPHA",86:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[3,1],[3,2],[6,1],[6,1],[6,1],[6,1],[4,1],[7,4],[7,6],[13,1],[14,1],[18,1],[15,1],[12,4],[24,1],[24,2],[24,3],[27,1],[27,1],[27,2],[27,2],[27,2],[26,1],[26,2],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,2],[26,2],[26,1],[33,2],[33,4],[33,5],[33,7],[35,4],[46,1],[46,2],[34,1],[34,2],[34,1],[34,1],[31,3],[31,4],[31,4],[31,5],[52,3],[52,2],[52,2],[52,1],[54,1],[54,1],[54,1],[54,1],[55,1],[55,1],[36,3],[36,4],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[37,3],[70,1],[70,1],[71,1],[71,1],[71,1],[71,1],[71,1],[71,1],[71,1],[73,1],[73,1],[73,1],[73,1],[28,1],[28,1],[28,1],[29,1]],performAction:function(Ut,Wt,Ft,jt,ee,Lt,he){var Ht=Lt.length-1;switch(ee){case 5:jt.setDirection("TB");break;case 6:jt.setDirection("BT");break;case 7:jt.setDirection("RL");break;case 8:jt.setDirection("LR");break;case 12:jt.parseDirective("%%{","open_directive");break;case 13:jt.parseDirective(Lt[Ht],"type_directive");break;case 14:Lt[Ht]=Lt[Ht].trim().replace(/'/g,'"'),jt.parseDirective(Lt[Ht],"arg_directive");break;case 15:jt.parseDirective("}%%","close_directive","class");break;case 20:case 21:this.$=Lt[Ht];break;case 22:this.$=Lt[Ht-1]+Lt[Ht];break;case 23:case 24:this.$=Lt[Ht-1]+"~"+Lt[Ht];break;case 25:jt.addRelation(Lt[Ht]);break;case 26:Lt[Ht-1].title=jt.cleanupLabel(Lt[Ht]),jt.addRelation(Lt[Ht-1]);break;case 34:this.$=Lt[Ht].trim(),jt.setAccTitle(this.$);break;case 35:case 36:this.$=Lt[Ht].trim(),jt.setAccDescription(this.$);break;case 37:jt.addClass(Lt[Ht]);break;case 38:jt.addClass(Lt[Ht-2]),jt.setCssClass(Lt[Ht-2],Lt[Ht]);break;case 39:jt.addClass(Lt[Ht-3]),jt.addMembers(Lt[Ht-3],Lt[Ht-1]);break;case 40:jt.addClass(Lt[Ht-5]),jt.setCssClass(Lt[Ht-5],Lt[Ht-3]),jt.addMembers(Lt[Ht-5],Lt[Ht-1]);break;case 41:jt.addAnnotation(Lt[Ht],Lt[Ht-2]);break;case 42:this.$=[Lt[Ht]];break;case 43:Lt[Ht].push(Lt[Ht-1]),this.$=Lt[Ht];break;case 44:case 46:case 47:break;case 45:jt.addMember(Lt[Ht-1],jt.cleanupLabel(Lt[Ht]));break;case 48:this.$={id1:Lt[Ht-2],id2:Lt[Ht],relation:Lt[Ht-1],relationTitle1:"none",relationTitle2:"none"};break;case 49:this.$={id1:Lt[Ht-3],id2:Lt[Ht],relation:Lt[Ht-1],relationTitle1:Lt[Ht-2],relationTitle2:"none"};break;case 50:this.$={id1:Lt[Ht-3],id2:Lt[Ht],relation:Lt[Ht-2],relationTitle1:"none",relationTitle2:Lt[Ht-1]};break;case 51:this.$={id1:Lt[Ht-4],id2:Lt[Ht],relation:Lt[Ht-2],relationTitle1:Lt[Ht-3],relationTitle2:Lt[Ht-1]};break;case 52:this.$={type1:Lt[Ht-2],type2:Lt[Ht],lineType:Lt[Ht-1]};break;case 53:this.$={type1:"none",type2:Lt[Ht],lineType:Lt[Ht-1]};break;case 54:this.$={type1:Lt[Ht-1],type2:"none",lineType:Lt[Ht]};break;case 55:this.$={type1:"none",type2:"none",lineType:Lt[Ht]};break;case 56:this.$=jt.relationType.AGGREGATION;break;case 57:this.$=jt.relationType.EXTENSION;break;case 58:this.$=jt.relationType.COMPOSITION;break;case 59:this.$=jt.relationType.DEPENDENCY;break;case 60:this.$=jt.lineType.LINE;break;case 61:this.$=jt.lineType.DOTTED_LINE;break;case 62:case 68:this.$=Lt[Ht-2],jt.setClickEvent(Lt[Ht-1],Lt[Ht]);break;case 63:case 69:this.$=Lt[Ht-3],jt.setClickEvent(Lt[Ht-2],Lt[Ht-1]),jt.setTooltip(Lt[Ht-2],Lt[Ht]);break;case 64:case 72:this.$=Lt[Ht-2],jt.setLink(Lt[Ht-1],Lt[Ht]);break;case 65:case 73:this.$=Lt[Ht-3],jt.setLink(Lt[Ht-2],Lt[Ht-1],Lt[Ht]);break;case 66:case 74:this.$=Lt[Ht-3],jt.setLink(Lt[Ht-2],Lt[Ht-1]),jt.setTooltip(Lt[Ht-2],Lt[Ht]);break;case 67:case 75:this.$=Lt[Ht-4],jt.setLink(Lt[Ht-3],Lt[Ht-2],Lt[Ht]),jt.setTooltip(Lt[Ht-3],Lt[Ht-1]);break;case 70:this.$=Lt[Ht-3],jt.setClickEvent(Lt[Ht-2],Lt[Ht-1],Lt[Ht]);break;case 71:this.$=Lt[Ht-4],jt.setClickEvent(Lt[Ht-3],Lt[Ht-2],Lt[Ht-1]),jt.setTooltip(Lt[Ht-3],Lt[Ht]);break;case 76:jt.setCssClass(Lt[Ht-1],Lt[Ht])}},table:[{3:1,4:2,5:O,6:4,7:5,8:_,9:M,10:P,11:R,12:6,13:11,19:$,23:F},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{3:14,4:2,5:O,6:4,7:5,8:_,9:M,10:P,11:R,12:6,13:11,19:$,23:F},{1:[2,9]},a(j,[2,5]),a(j,[2,6]),a(j,[2,7]),a(j,[2,8]),{14:15,20:[1,16]},{16:[1,17]},{20:[2,12]},{1:[2,4]},{15:18,17:[1,19],22:X},a([17,22],[2,13]),{6:30,7:29,8:_,9:M,10:P,11:R,13:11,19:$,24:21,26:22,27:34,28:43,29:44,31:23,33:24,34:25,35:26,36:27,37:28,38:W,40:V,42:K,43:st,48:it,50:pt,51:ct,62:lt,63:J,65:Bt,69:Tt,83:Ct,84:St,85:at,86:yt},{16:[1,49]},{18:50,21:[1,51]},{16:[2,15]},{25:[1,52]},{16:[1,53],25:[2,17]},a(kt,[2,25],{32:[1,54]}),a(kt,[2,27]),a(kt,[2,28]),a(kt,[2,29]),a(kt,[2,30]),a(kt,[2,31]),a(kt,[2,32]),a(kt,[2,33]),{39:[1,55]},{41:[1,56]},a(kt,[2,36]),a(kt,[2,44],{52:57,54:60,55:61,32:[1,59],53:[1,58],56:xt,57:Pt,58:mt,59:Yt,60:ne,61:Qt}),{27:68,28:43,29:44,83:Ct,84:St,85:at,86:yt},a(kt,[2,46]),a(kt,[2,47]),{28:69,83:Ct,84:St,85:at},{27:70,28:43,29:44,83:Ct,84:St,85:at,86:yt},{27:71,28:43,29:44,83:Ct,84:St,85:at,86:yt},{27:72,28:43,29:44,83:Ct,84:St,85:at,86:yt},{53:[1,73]},a(Kt,[2,20],{28:43,29:44,27:74,30:[1,75],83:Ct,84:St,85:at,86:yt}),a(Kt,[2,21],{30:[1,76]}),a(Xt,[2,90]),a(Xt,[2,91]),a(Xt,[2,92]),a([16,25,30,32,44,45,53,56,57,58,59,60,61,66,68],[2,93]),a(se,[2,10]),{15:77,22:X},{22:[2,14]},{1:[2,16]},{6:30,7:29,8:_,9:M,10:P,11:R,13:11,19:$,24:78,25:[2,18],26:22,27:34,28:43,29:44,31:23,33:24,34:25,35:26,36:27,37:28,38:W,40:V,42:K,43:st,48:it,50:pt,51:ct,62:lt,63:J,65:Bt,69:Tt,83:Ct,84:St,85:at,86:yt},a(kt,[2,26]),a(kt,[2,34]),a(kt,[2,35]),{27:79,28:43,29:44,53:[1,80],83:Ct,84:St,85:at,86:yt},{52:81,54:60,55:61,56:xt,57:Pt,58:mt,59:Yt,60:ne,61:Qt},a(kt,[2,45]),{55:82,60:ne,61:Qt},a(ue,[2,55],{54:83,56:xt,57:Pt,58:mt,59:Yt}),a(re,[2,56]),a(re,[2,57]),a(re,[2,58]),a(re,[2,59]),a(_t,[2,60]),a(_t,[2,61]),a(kt,[2,37],{44:[1,84],45:[1,85]}),{49:[1,86]},{53:[1,87]},{53:[1,88]},{66:[1,89],68:[1,90]},{28:91,83:Ct,84:St,85:at},a(Kt,[2,22]),a(Kt,[2,23]),a(Kt,[2,24]),{16:[1,92]},{25:[2,19]},a(ut,[2,48]),{27:93,28:43,29:44,83:Ct,84:St,85:at,86:yt},{27:94,28:43,29:44,53:[1,95],83:Ct,84:St,85:at,86:yt},a(ue,[2,54],{54:96,56:xt,57:Pt,58:mt,59:Yt}),a(ue,[2,53]),{28:97,83:Ct,84:St,85:at},{46:98,50:Mt},{27:100,28:43,29:44,83:Ct,84:St,85:at,86:yt},a(kt,[2,62],{53:[1,101]}),a(kt,[2,64],{53:[1,103],64:[1,102]}),a(kt,[2,68],{53:[1,104],67:[1,105]}),a(kt,[2,72],{53:[1,107],64:[1,106]}),a(kt,[2,76]),a(se,[2,11]),a(ut,[2,50]),a(ut,[2,49]),{27:108,28:43,29:44,83:Ct,84:St,85:at,86:yt},a(ue,[2,52]),a(kt,[2,38],{45:[1,109]}),{47:[1,110]},{46:111,47:[2,42],50:Mt},a(kt,[2,41]),a(kt,[2,63]),a(kt,[2,65]),a(kt,[2,66],{64:[1,112]}),a(kt,[2,69]),a(kt,[2,70],{53:[1,113]}),a(kt,[2,73]),a(kt,[2,74],{64:[1,114]}),a(ut,[2,51]),{46:115,50:Mt},a(kt,[2,39]),{47:[2,43]},a(kt,[2,67]),a(kt,[2,71]),a(kt,[2,75]),{47:[1,116]},a(kt,[2,40])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],6:[2,9],13:[2,12],14:[2,4],20:[2,15],51:[2,14],52:[2,16],78:[2,19],111:[2,43]},parseError:function(Ut,Wt){if(!Wt.recoverable){var Ft=new Error(Ut);throw Ft.hash=Wt,Ft}this.trace(Ut)},parse:function(Ut){var Wt=this,Ft=[0],jt=[],ee=[null],Lt=[],he=this.table,Ht="",Se=0,Te=0,we=0,Ue=2,We=1,De=Lt.slice.call(arguments,1),me=Object.create(this.lexer),Oe={yy:{}};for(var Pe in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Pe)&&(Oe.yy[Pe]=this.yy[Pe]);me.setInput(Ut,Oe.yy),Oe.yy.lexer=me,Oe.yy.parser=this,me.yylloc===void 0&&(me.yylloc={});var ze=me.yylloc;Lt.push(ze);var He=me.options&&me.options.ranges;function dn(){var Ge;return typeof(Ge=jt.pop()||me.lex()||We)!="number"&&(Ge instanceof Array&&(Ge=(jt=Ge).pop()),Ge=Wt.symbols_[Ge]||Ge),Ge}typeof Oe.yy.parseError=="function"?this.parseError=Oe.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var Mn,Kn,an,mn,Bn,Rn,$n,sn,on,yn={};;){if(an=Ft[Ft.length-1],this.defaultActions[an]?mn=this.defaultActions[an]:(Mn==null&&(Mn=dn()),mn=he[an]&&he[an][Mn]),mn===void 0||!mn.length||!mn[0]){var Sn="";for(Rn in on=[],he[an])this.terminals_[Rn]&&Rn>Ue&&on.push("'"+this.terminals_[Rn]+"'");Sn=me.showPosition?"Parse error on line "+(Se+1)+`:
`+me.showPosition()+`
Expecting `+on.join(", ")+", got '"+(this.terminals_[Mn]||Mn)+"'":"Parse error on line "+(Se+1)+": Unexpected "+(Mn==We?"end of input":"'"+(this.terminals_[Mn]||Mn)+"'"),this.parseError(Sn,{text:me.match,token:this.terminals_[Mn]||Mn,line:me.yylineno,loc:ze,expected:on})}if(mn[0]instanceof Array&&mn.length>1)throw new Error("Parse Error: multiple actions possible at state: "+an+", token: "+Mn);switch(mn[0]){case 1:Ft.push(Mn),ee.push(me.yytext),Lt.push(me.yylloc),Ft.push(mn[1]),Mn=null,Kn?(Mn=Kn,Kn=null):(Te=me.yyleng,Ht=me.yytext,Se=me.yylineno,ze=me.yylloc,we>0);break;case 2:if($n=this.productions_[mn[1]][1],yn.$=ee[ee.length-$n],yn._$={first_line:Lt[Lt.length-($n||1)].first_line,last_line:Lt[Lt.length-1].last_line,first_column:Lt[Lt.length-($n||1)].first_column,last_column:Lt[Lt.length-1].last_column},He&&(yn._$.range=[Lt[Lt.length-($n||1)].range[0],Lt[Lt.length-1].range[1]]),(Bn=this.performAction.apply(yn,[Ht,Te,Se,Oe.yy,mn[1],ee,Lt].concat(De)))!==void 0)return Bn;$n&&(Ft=Ft.slice(0,-1*$n*2),ee=ee.slice(0,-1*$n),Lt=Lt.slice(0,-1*$n)),Ft.push(this.productions_[mn[1]][0]),ee.push(yn.$),Lt.push(yn._$),sn=he[Ft[Ft.length-2]][Ft[Ft.length-1]],Ft.push(sn);break;case 3:return!0}}return!0}},Nt={EOF:1,parseError:function(Ut,Wt){if(!this.yy.parser)throw new Error(Ut);this.yy.parser.parseError(Ut,Wt)},setInput:function(Ut,Wt){return this.yy=Wt||this.yy||{},this._input=Ut,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Ut=this._input[0];return this.yytext+=Ut,this.yyleng++,this.offset++,this.match+=Ut,this.matched+=Ut,Ut.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Ut},unput:function(Ut){var Wt=Ut.length,Ft=Ut.split(/(?:\r\n?|\n)/g);this._input=Ut+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Wt),this.offset-=Wt;var jt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Ft.length-1&&(this.yylineno-=Ft.length-1);var ee=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Ft?(Ft.length===jt.length?this.yylloc.first_column:0)+jt[jt.length-Ft.length].length-Ft[0].length:this.yylloc.first_column-Wt},this.options.ranges&&(this.yylloc.range=[ee[0],ee[0]+this.yyleng-Wt]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(Ut){this.unput(this.match.slice(Ut))},pastInput:function(){var Ut=this.matched.substr(0,this.matched.length-this.match.length);return(Ut.length>20?"...":"")+Ut.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Ut=this.match;return Ut.length<20&&(Ut+=this._input.substr(0,20-Ut.length)),(Ut.substr(0,20)+(Ut.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Ut=this.pastInput(),Wt=new Array(Ut.length+1).join("-");return Ut+this.upcomingInput()+`
`+Wt+"^"},test_match:function(Ut,Wt){var Ft,jt,ee;if(this.options.backtrack_lexer&&(ee={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ee.yylloc.range=this.yylloc.range.slice(0))),(jt=Ut[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=jt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:jt?jt[jt.length-1].length-jt[jt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Ut[0].length},this.yytext+=Ut[0],this.match+=Ut[0],this.matches=Ut,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Ut[0].length),this.matched+=Ut[0],Ft=this.performAction.call(this,this.yy,this,Wt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Ft)return Ft;if(this._backtrack){for(var Lt in ee)this[Lt]=ee[Lt];return!1}return!1},next:function(){if(this.done)return this.EOF;var Ut,Wt,Ft,jt;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var ee=this._currentRules(),Lt=0;Lt<ee.length;Lt++)if((Ft=this._input.match(this.rules[ee[Lt]]))&&(!Wt||Ft[0].length>Wt[0].length)){if(Wt=Ft,jt=Lt,this.options.backtrack_lexer){if((Ut=this.test_match(Ft,ee[Lt]))!==!1)return Ut;if(this._backtrack){Wt=!1;continue}return!1}if(!this.options.flex)break}return Wt?(Ut=this.test_match(Wt,ee[jt]))!==!1&&Ut:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(Ut){this.conditionStack.push(Ut)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Ut){return(Ut=this.conditionStack.length-1-Math.abs(Ut||0))>=0?this.conditionStack[Ut]:"INITIAL"},pushState:function(Ut){this.begin(Ut)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(Ut,Wt,Ft,jt){switch(Ft){case 0:return this.begin("open_directive"),19;case 1:return 8;case 2:return 9;case 3:return 10;case 4:return 11;case 5:return this.begin("type_directive"),20;case 6:return this.popState(),this.begin("arg_directive"),17;case 7:return this.popState(),this.popState(),22;case 8:return 21;case 9:case 10:case 19:case 26:break;case 11:return this.begin("acc_title"),38;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),40;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:case 36:case 39:case 42:case 45:case 48:case 51:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:return 16;case 20:case 21:return 23;case 22:return this.begin("struct"),45;case 23:return"EOF_IN_STRUCT";case 24:return"OPEN_IN_STRUCT";case 25:return this.popState(),47;case 27:return"MEMBER";case 28:return 43;case 29:return 69;case 30:return 62;case 31:return 63;case 32:return 65;case 33:return 48;case 34:return 49;case 35:this.begin("generic");break;case 37:return"GENERICTYPE";case 38:this.begin("string");break;case 40:return"STR";case 41:this.begin("bqstring");break;case 43:return"BQUOTE_STR";case 44:this.begin("href");break;case 46:return 68;case 47:this.begin("callback_name");break;case 49:this.popState(),this.begin("callback_args");break;case 50:return 66;case 52:return 67;case 53:case 54:case 55:case 56:return 64;case 57:case 58:return 57;case 59:case 60:return 59;case 61:return 58;case 62:return 56;case 63:return 60;case 64:return 61;case 65:return 32;case 66:return 44;case 67:return 81;case 68:return"DOT";case 69:return"PLUS";case 70:return 78;case 71:case 72:return"EQUALS";case 73:return 85;case 74:return"PUNCTUATION";case 75:return 84;case 76:return 83;case 77:return 80;case 78:return 25}},rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:[{])/,/^(?:$)/,/^(?:[{])/,/^(?:[}])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:class\b)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:[~])/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[`])/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},callback_args:{rules:[51,52],inclusive:!1},callback_name:{rules:[48,49,50],inclusive:!1},href:{rules:[45,46],inclusive:!1},struct:{rules:[23,24,25,26,27],inclusive:!1},generic:{rules:[36,37],inclusive:!1},bqstring:{rules:[42,43],inclusive:!1},string:{rules:[39,40],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,13,15,18,19,20,21,22,28,29,30,31,32,33,34,35,38,41,44,47,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78],inclusive:!0}}};function Vt(){this.yy={}}return qt.lexer=Nt,Vt.prototype=qt,qt.Parser=Vt,new Vt}();C.parser=h,C.Parser=h.Parser,C.parse=function(){return h.parse.apply(h,arguments)},C.main=function(a){a[1]||(console.log("Usage: "+a[0]+" FILE"),process.exit(1));var O=v("?35ed").readFileSync(v("./node_modules/path-browserify/index.js").normalize(a[1]),"utf8");return C.parser.parse(O)},v.c[v.s]===E&&C.main(process.argv.slice(1))},"./src/diagrams/er/parser/erDiagram.jison":(E,C,v)=>{E=v.nmd(E);var h=function(){var a=function(yt,kt,xt,Pt){for(xt=xt||{},Pt=yt.length;Pt--;xt[yt[Pt]]=kt);return xt},O=[1,2],_=[1,5],M=[6,9,11,23,25,27,29,30,49],P=[1,17],R=[1,18],$=[1,19],F=[1,20],j=[1,21],X=[1,24],W=[1,29],V=[1,30],K=[1,31],st=[1,32],it=[6,9,11,15,20,23,25,27,29,30,42,43,44,45,49],pt=[1,45],ct=[30,46,47],lt=[4,6,9,11,23,25,27,29,30,49],J=[42,43,44,45],Bt=[22,37],Tt=[1,64],Ct={trace:function(){},yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,entityName:17,relSpec:18,role:19,BLOCK_START:20,attributes:21,BLOCK_STOP:22,title:23,title_value:24,acc_title:25,acc_title_value:26,acc_descr:27,acc_descr_value:28,acc_descr_multiline_value:29,ALPHANUM:30,".":31,attribute:32,attributeType:33,attributeName:34,attributeKeyType:35,attributeComment:36,ATTRIBUTE_WORD:37,ATTRIBUTE_KEY:38,COMMENT:39,cardinality:40,relType:41,ZERO_OR_ONE:42,ZERO_OR_MORE:43,ONE_OR_MORE:44,ONLY_ONE:45,NON_IDENTIFYING:46,IDENTIFYING:47,WORD:48,open_directive:49,type_directive:50,arg_directive:51,close_directive:52,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",20:"BLOCK_START",22:"BLOCK_STOP",23:"title",24:"title_value",25:"acc_title",26:"acc_title_value",27:"acc_descr",28:"acc_descr_value",29:"acc_descr_multiline_value",30:"ALPHANUM",31:".",37:"ATTRIBUTE_WORD",38:"ATTRIBUTE_KEY",39:"COMMENT",42:"ZERO_OR_ONE",43:"ZERO_OR_MORE",44:"ONE_OR_MORE",45:"ONLY_ONE",46:"NON_IDENTIFYING",47:"IDENTIFYING",48:"WORD",49:"open_directive",50:"type_directive",51:"arg_directive",52:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,5],[10,4],[10,3],[10,1],[10,2],[10,2],[10,2],[10,1],[17,1],[17,3],[21,1],[21,2],[32,2],[32,3],[32,3],[32,4],[33,1],[34,1],[35,1],[36,1],[18,3],[40,1],[40,1],[40,1],[40,1],[41,1],[41,1],[19,1],[19,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(yt,kt,xt,Pt,mt,Yt,ne){var Qt=Yt.length-1;switch(mt){case 1:break;case 3:case 7:case 8:this.$=[];break;case 4:Yt[Qt-1].push(Yt[Qt]),this.$=Yt[Qt-1];break;case 5:case 6:case 20:case 28:case 29:case 30:case 40:this.$=Yt[Qt];break;case 12:Pt.addEntity(Yt[Qt-4]),Pt.addEntity(Yt[Qt-2]),Pt.addRelationship(Yt[Qt-4],Yt[Qt],Yt[Qt-2],Yt[Qt-3]);break;case 13:Pt.addEntity(Yt[Qt-3]),Pt.addAttributes(Yt[Qt-3],Yt[Qt-1]);break;case 14:Pt.addEntity(Yt[Qt-2]);break;case 15:Pt.addEntity(Yt[Qt]);break;case 16:case 17:this.$=Yt[Qt].trim(),Pt.setAccTitle(this.$);break;case 18:case 19:this.$=Yt[Qt].trim(),Pt.setAccDescription(this.$);break;case 21:this.$=Yt[Qt-2]+Yt[Qt-1]+Yt[Qt];break;case 22:this.$=[Yt[Qt]];break;case 23:Yt[Qt].push(Yt[Qt-1]),this.$=Yt[Qt];break;case 24:this.$={attributeType:Yt[Qt-1],attributeName:Yt[Qt]};break;case 25:this.$={attributeType:Yt[Qt-2],attributeName:Yt[Qt-1],attributeKeyType:Yt[Qt]};break;case 26:this.$={attributeType:Yt[Qt-2],attributeName:Yt[Qt-1],attributeComment:Yt[Qt]};break;case 27:this.$={attributeType:Yt[Qt-3],attributeName:Yt[Qt-2],attributeKeyType:Yt[Qt-1],attributeComment:Yt[Qt]};break;case 31:case 39:this.$=Yt[Qt].replace(/"/g,"");break;case 32:this.$={cardA:Yt[Qt],relType:Yt[Qt-1],cardB:Yt[Qt-2]};break;case 33:this.$=Pt.Cardinality.ZERO_OR_ONE;break;case 34:this.$=Pt.Cardinality.ZERO_OR_MORE;break;case 35:this.$=Pt.Cardinality.ONE_OR_MORE;break;case 36:this.$=Pt.Cardinality.ONLY_ONE;break;case 37:this.$=Pt.Identification.NON_IDENTIFYING;break;case 38:this.$=Pt.Identification.IDENTIFYING;break;case 41:Pt.parseDirective("%%{","open_directive");break;case 42:Pt.parseDirective(Yt[Qt],"type_directive");break;case 43:Yt[Qt]=Yt[Qt].trim().replace(/'/g,'"'),Pt.parseDirective(Yt[Qt],"arg_directive");break;case 44:Pt.parseDirective("}%%","close_directive","er")}},table:[{3:1,4:O,7:3,12:4,49:_},{1:[3]},a(M,[2,3],{5:6}),{3:7,4:O,7:3,12:4,49:_},{13:8,50:[1,9]},{50:[2,41]},{6:[1,10],7:15,8:11,9:[1,12],10:13,11:[1,14],12:4,17:16,23:P,25:R,27:$,29:F,30:j,49:_},{1:[2,2]},{14:22,15:[1,23],52:X},a([15,52],[2,42]),a(M,[2,8],{1:[2,1]}),a(M,[2,4]),{7:15,10:25,12:4,17:16,23:P,25:R,27:$,29:F,30:j,49:_},a(M,[2,6]),a(M,[2,7]),a(M,[2,11]),a(M,[2,15],{18:26,40:28,20:[1,27],42:W,43:V,44:K,45:st}),{24:[1,33]},{26:[1,34]},{28:[1,35]},a(M,[2,19]),a(it,[2,20],{31:[1,36]}),{11:[1,37]},{16:38,51:[1,39]},{11:[2,44]},a(M,[2,5]),{17:40,30:j},{21:41,22:[1,42],32:43,33:44,37:pt},{41:46,46:[1,47],47:[1,48]},a(ct,[2,33]),a(ct,[2,34]),a(ct,[2,35]),a(ct,[2,36]),a(M,[2,16]),a(M,[2,17]),a(M,[2,18]),{17:49,30:j},a(lt,[2,9]),{14:50,52:X},{52:[2,43]},{15:[1,51]},{22:[1,52]},a(M,[2,14]),{21:53,22:[2,22],32:43,33:44,37:pt},{34:54,37:[1,55]},{37:[2,28]},{40:56,42:W,43:V,44:K,45:st},a(J,[2,37]),a(J,[2,38]),a(it,[2,21]),{11:[1,57]},{19:58,30:[1,60],48:[1,59]},a(M,[2,13]),{22:[2,23]},a(Bt,[2,24],{35:61,36:62,38:[1,63],39:Tt}),a([22,37,38,39],[2,29]),{30:[2,32]},a(lt,[2,10]),a(M,[2,12]),a(M,[2,39]),a(M,[2,40]),a(Bt,[2,25],{36:65,39:Tt}),a(Bt,[2,26]),a([22,37,39],[2,30]),a(Bt,[2,31]),a(Bt,[2,27])],defaultActions:{5:[2,41],7:[2,2],24:[2,44],39:[2,43],45:[2,28],53:[2,23],56:[2,32]},parseError:function(yt,kt){if(!kt.recoverable){var xt=new Error(yt);throw xt.hash=kt,xt}this.trace(yt)},parse:function(yt){var kt=this,xt=[0],Pt=[],mt=[null],Yt=[],ne=this.table,Qt="",Kt=0,Xt=0,se=0,ue=2,re=1,_t=Yt.slice.call(arguments,1),ut=Object.create(this.lexer),Mt={yy:{}};for(var qt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,qt)&&(Mt.yy[qt]=this.yy[qt]);ut.setInput(yt,Mt.yy),Mt.yy.lexer=ut,Mt.yy.parser=this,ut.yylloc===void 0&&(ut.yylloc={});var Nt=ut.yylloc;Yt.push(Nt);var Vt=ut.options&&ut.options.ranges;function Ut(){var We;return typeof(We=Pt.pop()||ut.lex()||re)!="number"&&(We instanceof Array&&(We=(Pt=We).pop()),We=kt.symbols_[We]||We),We}typeof Mt.yy.parseError=="function"?this.parseError=Mt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var Wt,Ft,jt,ee,Lt,he,Ht,Se,Te,we={};;){if(jt=xt[xt.length-1],this.defaultActions[jt]?ee=this.defaultActions[jt]:(Wt==null&&(Wt=Ut()),ee=ne[jt]&&ne[jt][Wt]),ee===void 0||!ee.length||!ee[0]){var Ue="";for(he in Te=[],ne[jt])this.terminals_[he]&&he>ue&&Te.push("'"+this.terminals_[he]+"'");Ue=ut.showPosition?"Parse error on line "+(Kt+1)+`:
`+ut.showPosition()+`
Expecting `+Te.join(", ")+", got '"+(this.terminals_[Wt]||Wt)+"'":"Parse error on line "+(Kt+1)+": Unexpected "+(Wt==re?"end of input":"'"+(this.terminals_[Wt]||Wt)+"'"),this.parseError(Ue,{text:ut.match,token:this.terminals_[Wt]||Wt,line:ut.yylineno,loc:Nt,expected:Te})}if(ee[0]instanceof Array&&ee.length>1)throw new Error("Parse Error: multiple actions possible at state: "+jt+", token: "+Wt);switch(ee[0]){case 1:xt.push(Wt),mt.push(ut.yytext),Yt.push(ut.yylloc),xt.push(ee[1]),Wt=null,Ft?(Wt=Ft,Ft=null):(Xt=ut.yyleng,Qt=ut.yytext,Kt=ut.yylineno,Nt=ut.yylloc,se>0);break;case 2:if(Ht=this.productions_[ee[1]][1],we.$=mt[mt.length-Ht],we._$={first_line:Yt[Yt.length-(Ht||1)].first_line,last_line:Yt[Yt.length-1].last_line,first_column:Yt[Yt.length-(Ht||1)].first_column,last_column:Yt[Yt.length-1].last_column},Vt&&(we._$.range=[Yt[Yt.length-(Ht||1)].range[0],Yt[Yt.length-1].range[1]]),(Lt=this.performAction.apply(we,[Qt,Xt,Kt,Mt.yy,ee[1],mt,Yt].concat(_t)))!==void 0)return Lt;Ht&&(xt=xt.slice(0,-1*Ht*2),mt=mt.slice(0,-1*Ht),Yt=Yt.slice(0,-1*Ht)),xt.push(this.productions_[ee[1]][0]),mt.push(we.$),Yt.push(we._$),Se=ne[xt[xt.length-2]][xt[xt.length-1]],xt.push(Se);break;case 3:return!0}}return!0}},St={EOF:1,parseError:function(yt,kt){if(!this.yy.parser)throw new Error(yt);this.yy.parser.parseError(yt,kt)},setInput:function(yt,kt){return this.yy=kt||this.yy||{},this._input=yt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var yt=this._input[0];return this.yytext+=yt,this.yyleng++,this.offset++,this.match+=yt,this.matched+=yt,yt.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),yt},unput:function(yt){var kt=yt.length,xt=yt.split(/(?:\r\n?|\n)/g);this._input=yt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-kt),this.offset-=kt;var Pt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),xt.length-1&&(this.yylineno-=xt.length-1);var mt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:xt?(xt.length===Pt.length?this.yylloc.first_column:0)+Pt[Pt.length-xt.length].length-xt[0].length:this.yylloc.first_column-kt},this.options.ranges&&(this.yylloc.range=[mt[0],mt[0]+this.yyleng-kt]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(yt){this.unput(this.match.slice(yt))},pastInput:function(){var yt=this.matched.substr(0,this.matched.length-this.match.length);return(yt.length>20?"...":"")+yt.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var yt=this.match;return yt.length<20&&(yt+=this._input.substr(0,20-yt.length)),(yt.substr(0,20)+(yt.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var yt=this.pastInput(),kt=new Array(yt.length+1).join("-");return yt+this.upcomingInput()+`
`+kt+"^"},test_match:function(yt,kt){var xt,Pt,mt;if(this.options.backtrack_lexer&&(mt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(mt.yylloc.range=this.yylloc.range.slice(0))),(Pt=yt[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=Pt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Pt?Pt[Pt.length-1].length-Pt[Pt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+yt[0].length},this.yytext+=yt[0],this.match+=yt[0],this.matches=yt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(yt[0].length),this.matched+=yt[0],xt=this.performAction.call(this,this.yy,this,kt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),xt)return xt;if(this._backtrack){for(var Yt in mt)this[Yt]=mt[Yt];return!1}return!1},next:function(){if(this.done)return this.EOF;var yt,kt,xt,Pt;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var mt=this._currentRules(),Yt=0;Yt<mt.length;Yt++)if((xt=this._input.match(this.rules[mt[Yt]]))&&(!kt||xt[0].length>kt[0].length)){if(kt=xt,Pt=Yt,this.options.backtrack_lexer){if((yt=this.test_match(xt,mt[Yt]))!==!1)return yt;if(this._backtrack){kt=!1;continue}return!1}if(!this.options.flex)break}return kt?(yt=this.test_match(kt,mt[Pt]))!==!1&&yt:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(yt){this.conditionStack.push(yt)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(yt){return(yt=this.conditionStack.length-1-Math.abs(yt||0))>=0?this.conditionStack[yt]:"INITIAL"},pushState:function(yt){this.begin(yt)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(yt,kt,xt,Pt){switch(xt){case 0:return this.begin("acc_title"),25;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),27;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.begin("open_directive"),49;case 8:return this.begin("type_directive"),50;case 9:return this.popState(),this.begin("arg_directive"),15;case 10:return this.popState(),this.popState(),52;case 11:return 51;case 12:case 13:case 15:case 20:case 24:break;case 14:return 11;case 16:return 9;case 17:return 48;case 18:return 4;case 19:return this.begin("block"),20;case 21:return 38;case 22:return 37;case 23:return 39;case 25:return this.popState(),22;case 26:case 39:return kt.yytext[0];case 27:case 31:return 42;case 28:case 32:return 43;case 29:case 33:return 44;case 30:return 45;case 34:case 36:case 37:return 46;case 35:return 47;case 38:return 30;case 40:return 6}},rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK))\b)/i,/^(?:[A-Za-z][A-Za-z0-9\-_]*)/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:\|o\b)/i,/^(?:\}o\b)/i,/^(?:\}\|)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:[A-Za-z][A-Za-z0-9\-_]*)/i,/^(?:.)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},open_directive:{rules:[8],inclusive:!1},type_directive:{rules:[9,10],inclusive:!1},arg_directive:{rules:[10,11],inclusive:!1},block:{rules:[20,21,22,23,24,25,26],inclusive:!1},INITIAL:{rules:[0,2,4,7,12,13,14,15,16,17,18,19,27,28,29,30,31,32,33,34,35,36,37,38,39,40],inclusive:!0}}};function at(){this.yy={}}return Ct.lexer=St,at.prototype=Ct,Ct.Parser=at,new at}();C.parser=h,C.Parser=h.Parser,C.parse=function(){return h.parse.apply(h,arguments)},C.main=function(a){a[1]||(console.log("Usage: "+a[0]+" FILE"),process.exit(1));var O=v("?3c87").readFileSync(v("./node_modules/path-browserify/index.js").normalize(a[1]),"utf8");return C.parser.parse(O)},v.c[v.s]===E&&C.main(process.argv.slice(1))},"./src/diagrams/flowchart/parser/flow.jison":(E,C,v)=>{E=v.nmd(E);var h=function(){var a=function(Cr,ki,ii,cr){for(ii=ii||{},cr=Cr.length;cr--;ii[Cr[cr]]=ki);return ii},O=[1,9],_=[1,7],M=[1,6],P=[1,8],R=[1,20,21,22,23,38,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],$=[2,10],F=[1,20],j=[1,21],X=[1,22],W=[1,23],V=[1,30],K=[1,32],st=[1,33],it=[1,34],pt=[1,62],ct=[1,48],lt=[1,52],J=[1,36],Bt=[1,37],Tt=[1,38],Ct=[1,39],St=[1,40],at=[1,56],yt=[1,63],kt=[1,51],xt=[1,53],Pt=[1,55],mt=[1,59],Yt=[1,60],ne=[1,41],Qt=[1,42],Kt=[1,43],Xt=[1,44],se=[1,61],ue=[1,50],re=[1,54],_t=[1,57],ut=[1,58],Mt=[1,49],qt=[1,66],Nt=[1,71],Vt=[1,20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],Ut=[1,75],Wt=[1,74],Ft=[1,76],jt=[20,21,23,81,82],ee=[1,99],Lt=[1,104],he=[1,107],Ht=[1,108],Se=[1,101],Te=[1,106],we=[1,109],Ue=[1,102],We=[1,114],De=[1,113],me=[1,103],Oe=[1,105],Pe=[1,110],ze=[1,111],He=[1,112],dn=[1,115],Mn=[20,21,22,23,81,82],Kn=[20,21,22,23,53,81,82],an=[20,21,22,23,40,52,53,55,57,59,61,63,65,66,67,69,71,73,74,76,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],mn=[20,21,23],Bn=[20,21,23,52,66,67,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],Rn=[1,12,20,21,22,23,24,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],$n=[52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],sn=[1,149],on=[1,157],yn=[1,158],Sn=[1,159],Ge=[1,160],Fn=[1,144],ke=[1,145],Fr=[1,141],Ye=[1,152],vr=[1,153],Zr=[1,154],jr=[1,155],_r=[1,156],Hr=[1,161],Tr=[1,162],br=[1,147],mr=[1,150],xr=[1,146],kr=[1,143],En=[20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],Yn=[1,165],Un=[20,21,22,23,26,52,66,67,91,105,106,109,111,112,122,123,124,125,126,127],qn=[20,21,22,23,24,26,38,40,41,42,52,56,58,60,62,64,66,67,68,70,72,73,75,77,81,82,86,87,88,89,90,91,92,95,105,106,109,111,112,113,114,122,123,124,125,126,127],Lr=[12,21,22,24],Ar=[22,106],wr=[1,250],ei=[1,245],vi=[1,246],bi=[1,254],oo=[1,251],ci=[1,248],Eo=[1,247],xi=[1,249],Ro=[1,252],To=[1,253],wa=[1,255],sr=[1,273],Ss=[20,21,23,106],lo=[20,21,22,23,66,67,86,102,105,106,109,110,111,112,113],ul={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,directive:5,openDirective:6,typeDirective:7,closeDirective:8,separator:9,":":10,argDirective:11,open_directive:12,type_directive:13,arg_directive:14,close_directive:15,graphConfig:16,document:17,line:18,statement:19,SEMI:20,NEWLINE:21,SPACE:22,EOF:23,GRAPH:24,NODIR:25,DIR:26,FirstStmtSeperator:27,ending:28,endToken:29,spaceList:30,spaceListNewline:31,verticeStatement:32,styleStatement:33,linkStyleStatement:34,classDefStatement:35,classStatement:36,clickStatement:37,subgraph:38,text:39,SQS:40,SQE:41,end:42,direction:43,acc_title:44,acc_title_value:45,acc_descr:46,acc_descr_value:47,acc_descr_multiline_value:48,link:49,node:50,vertex:51,AMP:52,STYLE_SEPARATOR:53,idString:54,DOUBLECIRCLESTART:55,DOUBLECIRCLEEND:56,PS:57,PE:58,"(-":59,"-)":60,STADIUMSTART:61,STADIUMEND:62,SUBROUTINESTART:63,SUBROUTINEEND:64,VERTEX_WITH_PROPS_START:65,ALPHA:66,COLON:67,PIPE:68,CYLINDERSTART:69,CYLINDEREND:70,DIAMOND_START:71,DIAMOND_STOP:72,TAGEND:73,TRAPSTART:74,TRAPEND:75,INVTRAPSTART:76,INVTRAPEND:77,linkStatement:78,arrowText:79,TESTSTR:80,START_LINK:81,LINK:82,textToken:83,STR:84,keywords:85,STYLE:86,LINKSTYLE:87,CLASSDEF:88,CLASS:89,CLICK:90,DOWN:91,UP:92,textNoTags:93,textNoTagsToken:94,DEFAULT:95,stylesOpt:96,alphaNum:97,CALLBACKNAME:98,CALLBACKARGS:99,HREF:100,LINK_TARGET:101,HEX:102,numList:103,INTERPOLATE:104,NUM:105,COMMA:106,style:107,styleComponent:108,MINUS:109,UNIT:110,BRKT:111,DOT:112,PCT:113,TAGSTART:114,alphaNumToken:115,idStringToken:116,alphaNumStatement:117,direction_tb:118,direction_bt:119,direction_rl:120,direction_lr:121,PUNCTUATION:122,UNICODE_TEXT:123,PLUS:124,EQUALS:125,MULT:126,UNDERSCORE:127,graphCodeTokens:128,ARROW_CROSS:129,ARROW_POINT:130,ARROW_CIRCLE:131,ARROW_OPEN:132,QUOTE:133,$accept:0,$end:1},terminals_:{2:"error",10:":",12:"open_directive",13:"type_directive",14:"arg_directive",15:"close_directive",20:"SEMI",21:"NEWLINE",22:"SPACE",23:"EOF",24:"GRAPH",25:"NODIR",26:"DIR",38:"subgraph",40:"SQS",41:"SQE",42:"end",44:"acc_title",45:"acc_title_value",46:"acc_descr",47:"acc_descr_value",48:"acc_descr_multiline_value",52:"AMP",53:"STYLE_SEPARATOR",55:"DOUBLECIRCLESTART",56:"DOUBLECIRCLEEND",57:"PS",58:"PE",59:"(-",60:"-)",61:"STADIUMSTART",62:"STADIUMEND",63:"SUBROUTINESTART",64:"SUBROUTINEEND",65:"VERTEX_WITH_PROPS_START",66:"ALPHA",67:"COLON",68:"PIPE",69:"CYLINDERSTART",70:"CYLINDEREND",71:"DIAMOND_START",72:"DIAMOND_STOP",73:"TAGEND",74:"TRAPSTART",75:"TRAPEND",76:"INVTRAPSTART",77:"INVTRAPEND",80:"TESTSTR",81:"START_LINK",82:"LINK",84:"STR",86:"STYLE",87:"LINKSTYLE",88:"CLASSDEF",89:"CLASS",90:"CLICK",91:"DOWN",92:"UP",95:"DEFAULT",98:"CALLBACKNAME",99:"CALLBACKARGS",100:"HREF",101:"LINK_TARGET",102:"HEX",104:"INTERPOLATE",105:"NUM",106:"COMMA",109:"MINUS",110:"UNIT",111:"BRKT",112:"DOT",113:"PCT",114:"TAGSTART",118:"direction_tb",119:"direction_bt",120:"direction_rl",121:"direction_lr",122:"PUNCTUATION",123:"UNICODE_TEXT",124:"PLUS",125:"EQUALS",126:"MULT",127:"UNDERSCORE",129:"ARROW_CROSS",130:"ARROW_POINT",131:"ARROW_CIRCLE",132:"ARROW_OPEN",133:"QUOTE"},productions_:[0,[3,1],[3,2],[5,4],[5,6],[6,1],[7,1],[11,1],[8,1],[4,2],[17,0],[17,2],[18,1],[18,1],[18,1],[18,1],[18,1],[16,2],[16,2],[16,2],[16,3],[28,2],[28,1],[29,1],[29,1],[29,1],[27,1],[27,1],[27,2],[31,2],[31,2],[31,1],[31,1],[30,2],[30,1],[19,2],[19,2],[19,2],[19,2],[19,2],[19,2],[19,9],[19,6],[19,4],[19,1],[19,2],[19,2],[19,1],[9,1],[9,1],[9,1],[32,3],[32,4],[32,2],[32,1],[50,1],[50,5],[50,3],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,8],[51,4],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,4],[51,4],[51,1],[49,2],[49,3],[49,3],[49,1],[49,3],[78,1],[79,3],[39,1],[39,2],[39,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[93,1],[93,2],[35,5],[35,5],[36,5],[37,2],[37,4],[37,3],[37,5],[37,2],[37,4],[37,4],[37,6],[37,2],[37,4],[37,2],[37,4],[37,4],[37,6],[33,5],[33,5],[34,5],[34,5],[34,9],[34,9],[34,7],[34,7],[103,1],[103,3],[96,1],[96,3],[107,1],[107,2],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[94,1],[94,1],[94,1],[94,1],[54,1],[54,2],[97,1],[97,2],[117,1],[117,1],[117,1],[117,1],[43,1],[43,1],[43,1],[43,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1]],performAction:function(Cr,ki,ii,cr,Oi,$e,Es){var fn=$e.length-1;switch(Oi){case 5:cr.parseDirective("%%{","open_directive");break;case 6:cr.parseDirective($e[fn],"type_directive");break;case 7:$e[fn]=$e[fn].trim().replace(/'/g,'"'),cr.parseDirective($e[fn],"arg_directive");break;case 8:cr.parseDirective("}%%","close_directive","flowchart");break;case 10:case 36:case 37:case 38:case 39:case 40:this.$=[];break;case 11:$e[fn]!==[]&&$e[fn-1].push($e[fn]),this.$=$e[fn-1];break;case 12:case 82:case 84:case 96:case 152:case 154:case 155:case 78:case 150:this.$=$e[fn];break;case 19:cr.setDirection("TB"),this.$="TB";break;case 20:cr.setDirection($e[fn-1]),this.$=$e[fn-1];break;case 35:this.$=$e[fn-1].nodes;break;case 41:this.$=cr.addSubGraph($e[fn-6],$e[fn-1],$e[fn-4]);break;case 42:this.$=cr.addSubGraph($e[fn-3],$e[fn-1],$e[fn-3]);break;case 43:this.$=cr.addSubGraph(void 0,$e[fn-1],void 0);break;case 45:this.$=$e[fn].trim(),cr.setAccTitle(this.$);break;case 46:case 47:this.$=$e[fn].trim(),cr.setAccDescription(this.$);break;case 51:cr.addLink($e[fn-2].stmt,$e[fn],$e[fn-1]),this.$={stmt:$e[fn],nodes:$e[fn].concat($e[fn-2].nodes)};break;case 52:cr.addLink($e[fn-3].stmt,$e[fn-1],$e[fn-2]),this.$={stmt:$e[fn-1],nodes:$e[fn-1].concat($e[fn-3].nodes)};break;case 53:this.$={stmt:$e[fn-1],nodes:$e[fn-1]};break;case 54:this.$={stmt:$e[fn],nodes:$e[fn]};break;case 55:case 123:case 125:this.$=[$e[fn]];break;case 56:this.$=$e[fn-4].concat($e[fn]);break;case 57:this.$=[$e[fn-2]],cr.setClass($e[fn-2],$e[fn]);break;case 58:this.$=$e[fn-3],cr.addVertex($e[fn-3],$e[fn-1],"square");break;case 59:this.$=$e[fn-3],cr.addVertex($e[fn-3],$e[fn-1],"doublecircle");break;case 60:this.$=$e[fn-5],cr.addVertex($e[fn-5],$e[fn-2],"circle");break;case 61:this.$=$e[fn-3],cr.addVertex($e[fn-3],$e[fn-1],"ellipse");break;case 62:this.$=$e[fn-3],cr.addVertex($e[fn-3],$e[fn-1],"stadium");break;case 63:this.$=$e[fn-3],cr.addVertex($e[fn-3],$e[fn-1],"subroutine");break;case 64:this.$=$e[fn-7],cr.addVertex($e[fn-7],$e[fn-1],"rect",void 0,void 0,void 0,Object.fromEntries([[$e[fn-5],$e[fn-3]]]));break;case 65:this.$=$e[fn-3],cr.addVertex($e[fn-3],$e[fn-1],"cylinder");break;case 66:this.$=$e[fn-3],cr.addVertex($e[fn-3],$e[fn-1],"round");break;case 67:this.$=$e[fn-3],cr.addVertex($e[fn-3],$e[fn-1],"diamond");break;case 68:this.$=$e[fn-5],cr.addVertex($e[fn-5],$e[fn-2],"hexagon");break;case 69:this.$=$e[fn-3],cr.addVertex($e[fn-3],$e[fn-1],"odd");break;case 70:this.$=$e[fn-3],cr.addVertex($e[fn-3],$e[fn-1],"trapezoid");break;case 71:this.$=$e[fn-3],cr.addVertex($e[fn-3],$e[fn-1],"inv_trapezoid");break;case 72:this.$=$e[fn-3],cr.addVertex($e[fn-3],$e[fn-1],"lean_right");break;case 73:this.$=$e[fn-3],cr.addVertex($e[fn-3],$e[fn-1],"lean_left");break;case 74:this.$=$e[fn],cr.addVertex($e[fn]);break;case 75:$e[fn-1].text=$e[fn],this.$=$e[fn-1];break;case 76:case 77:$e[fn-2].text=$e[fn-1],this.$=$e[fn-2];break;case 79:var ao=cr.destructLink($e[fn],$e[fn-2]);this.$={type:ao.type,stroke:ao.stroke,length:ao.length,text:$e[fn-1]};break;case 80:ao=cr.destructLink($e[fn]),this.$={type:ao.type,stroke:ao.stroke,length:ao.length};break;case 81:this.$=$e[fn-1];break;case 83:case 97:case 153:case 151:this.$=$e[fn-1]+""+$e[fn];break;case 98:case 99:this.$=$e[fn-4],cr.addClass($e[fn-2],$e[fn]);break;case 100:this.$=$e[fn-4],cr.setClass($e[fn-2],$e[fn]);break;case 101:case 109:this.$=$e[fn-1],cr.setClickEvent($e[fn-1],$e[fn]);break;case 102:case 110:this.$=$e[fn-3],cr.setClickEvent($e[fn-3],$e[fn-2]),cr.setTooltip($e[fn-3],$e[fn]);break;case 103:this.$=$e[fn-2],cr.setClickEvent($e[fn-2],$e[fn-1],$e[fn]);break;case 104:this.$=$e[fn-4],cr.setClickEvent($e[fn-4],$e[fn-3],$e[fn-2]),cr.setTooltip($e[fn-4],$e[fn]);break;case 105:case 111:this.$=$e[fn-1],cr.setLink($e[fn-1],$e[fn]);break;case 106:case 112:this.$=$e[fn-3],cr.setLink($e[fn-3],$e[fn-2]),cr.setTooltip($e[fn-3],$e[fn]);break;case 107:case 113:this.$=$e[fn-3],cr.setLink($e[fn-3],$e[fn-2],$e[fn]);break;case 108:case 114:this.$=$e[fn-5],cr.setLink($e[fn-5],$e[fn-4],$e[fn]),cr.setTooltip($e[fn-5],$e[fn-2]);break;case 115:this.$=$e[fn-4],cr.addVertex($e[fn-2],void 0,void 0,$e[fn]);break;case 116:case 118:this.$=$e[fn-4],cr.updateLink($e[fn-2],$e[fn]);break;case 117:this.$=$e[fn-4],cr.updateLink([$e[fn-2]],$e[fn]);break;case 119:this.$=$e[fn-8],cr.updateLinkInterpolate([$e[fn-6]],$e[fn-2]),cr.updateLink([$e[fn-6]],$e[fn]);break;case 120:this.$=$e[fn-8],cr.updateLinkInterpolate($e[fn-6],$e[fn-2]),cr.updateLink($e[fn-6],$e[fn]);break;case 121:this.$=$e[fn-6],cr.updateLinkInterpolate([$e[fn-4]],$e[fn]);break;case 122:this.$=$e[fn-6],cr.updateLinkInterpolate($e[fn-4],$e[fn]);break;case 124:case 126:$e[fn-2].push($e[fn]),this.$=$e[fn-2];break;case 128:this.$=$e[fn-1]+$e[fn];break;case 156:this.$="v";break;case 157:this.$="-";break;case 158:this.$={stmt:"dir",value:"TB"};break;case 159:this.$={stmt:"dir",value:"BT"};break;case 160:this.$={stmt:"dir",value:"RL"};break;case 161:this.$={stmt:"dir",value:"LR"}}},table:[{3:1,4:2,5:3,6:5,12:O,16:4,21:_,22:M,24:P},{1:[3]},{1:[2,1]},{3:10,4:2,5:3,6:5,12:O,16:4,21:_,22:M,24:P},a(R,$,{17:11}),{7:12,13:[1,13]},{16:14,21:_,22:M,24:P},{16:15,21:_,22:M,24:P},{25:[1,16],26:[1,17]},{13:[2,5]},{1:[2,2]},{1:[2,9],18:18,19:19,20:F,21:j,22:X,23:W,32:24,33:25,34:26,35:27,36:28,37:29,38:V,43:31,44:K,46:st,48:it,50:35,51:45,52:pt,54:46,66:ct,67:lt,86:J,87:Bt,88:Tt,89:Ct,90:St,91:at,95:yt,105:kt,106:xt,109:Pt,111:mt,112:Yt,116:47,118:ne,119:Qt,120:Kt,121:Xt,122:se,123:ue,124:re,125:_t,126:ut,127:Mt},{8:64,10:[1,65],15:qt},a([10,15],[2,6]),a(R,[2,17]),a(R,[2,18]),a(R,[2,19]),{20:[1,68],21:[1,69],22:Nt,27:67,30:70},a(Vt,[2,11]),a(Vt,[2,12]),a(Vt,[2,13]),a(Vt,[2,14]),a(Vt,[2,15]),a(Vt,[2,16]),{9:72,20:Ut,21:Wt,23:Ft,49:73,78:77,81:[1,78],82:[1,79]},{9:80,20:Ut,21:Wt,23:Ft},{9:81,20:Ut,21:Wt,23:Ft},{9:82,20:Ut,21:Wt,23:Ft},{9:83,20:Ut,21:Wt,23:Ft},{9:84,20:Ut,21:Wt,23:Ft},{9:86,20:Ut,21:Wt,22:[1,85],23:Ft},a(Vt,[2,44]),{45:[1,87]},{47:[1,88]},a(Vt,[2,47]),a(jt,[2,54],{30:89,22:Nt}),{22:[1,90]},{22:[1,91]},{22:[1,92]},{22:[1,93]},{26:ee,52:Lt,66:he,67:Ht,84:[1,97],91:Se,97:96,98:[1,94],100:[1,95],105:Te,106:we,109:Ue,111:We,112:De,115:100,117:98,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},a(Vt,[2,158]),a(Vt,[2,159]),a(Vt,[2,160]),a(Vt,[2,161]),a(Mn,[2,55],{53:[1,116]}),a(Kn,[2,74],{116:129,40:[1,117],52:pt,55:[1,118],57:[1,119],59:[1,120],61:[1,121],63:[1,122],65:[1,123],66:ct,67:lt,69:[1,124],71:[1,125],73:[1,126],74:[1,127],76:[1,128],91:at,95:yt,105:kt,106:xt,109:Pt,111:mt,112:Yt,122:se,123:ue,124:re,125:_t,126:ut,127:Mt}),a(an,[2,150]),a(an,[2,175]),a(an,[2,176]),a(an,[2,177]),a(an,[2,178]),a(an,[2,179]),a(an,[2,180]),a(an,[2,181]),a(an,[2,182]),a(an,[2,183]),a(an,[2,184]),a(an,[2,185]),a(an,[2,186]),a(an,[2,187]),a(an,[2,188]),a(an,[2,189]),a(an,[2,190]),{9:130,20:Ut,21:Wt,23:Ft},{11:131,14:[1,132]},a(mn,[2,8]),a(R,[2,20]),a(R,[2,26]),a(R,[2,27]),{21:[1,133]},a(Bn,[2,34],{30:134,22:Nt}),a(Vt,[2,35]),{50:135,51:45,52:pt,54:46,66:ct,67:lt,91:at,95:yt,105:kt,106:xt,109:Pt,111:mt,112:Yt,116:47,122:se,123:ue,124:re,125:_t,126:ut,127:Mt},a(Rn,[2,48]),a(Rn,[2,49]),a(Rn,[2,50]),a($n,[2,78],{79:136,68:[1,138],80:[1,137]}),{22:sn,24:on,26:yn,38:Sn,39:139,42:Ge,52:Lt,66:he,67:Ht,73:Fn,81:ke,83:140,84:Fr,85:151,86:Ye,87:vr,88:Zr,89:jr,90:_r,91:Hr,92:Tr,94:142,95:br,105:Te,106:we,109:mr,111:We,112:De,113:xr,114:kr,115:148,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},a([52,66,67,68,80,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,80]),a(Vt,[2,36]),a(Vt,[2,37]),a(Vt,[2,38]),a(Vt,[2,39]),a(Vt,[2,40]),{22:sn,24:on,26:yn,38:Sn,39:163,42:Ge,52:Lt,66:he,67:Ht,73:Fn,81:ke,83:140,84:Fr,85:151,86:Ye,87:vr,88:Zr,89:jr,90:_r,91:Hr,92:Tr,94:142,95:br,105:Te,106:we,109:mr,111:We,112:De,113:xr,114:kr,115:148,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},a(En,$,{17:164}),a(Vt,[2,45]),a(Vt,[2,46]),a(jt,[2,53],{52:Yn}),{26:ee,52:Lt,66:he,67:Ht,91:Se,97:166,102:[1,167],105:Te,106:we,109:Ue,111:We,112:De,115:100,117:98,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},{95:[1,168],103:169,105:[1,170]},{26:ee,52:Lt,66:he,67:Ht,91:Se,95:[1,171],97:172,105:Te,106:we,109:Ue,111:We,112:De,115:100,117:98,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},{26:ee,52:Lt,66:he,67:Ht,91:Se,97:173,105:Te,106:we,109:Ue,111:We,112:De,115:100,117:98,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},a(mn,[2,101],{22:[1,174],99:[1,175]}),a(mn,[2,105],{22:[1,176]}),a(mn,[2,109],{115:100,117:178,22:[1,177],26:ee,52:Lt,66:he,67:Ht,91:Se,105:Te,106:we,109:Ue,111:We,112:De,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn}),a(mn,[2,111],{22:[1,179]}),a(Un,[2,152]),a(Un,[2,154]),a(Un,[2,155]),a(Un,[2,156]),a(Un,[2,157]),a(qn,[2,162]),a(qn,[2,163]),a(qn,[2,164]),a(qn,[2,165]),a(qn,[2,166]),a(qn,[2,167]),a(qn,[2,168]),a(qn,[2,169]),a(qn,[2,170]),a(qn,[2,171]),a(qn,[2,172]),a(qn,[2,173]),a(qn,[2,174]),{52:pt,54:180,66:ct,67:lt,91:at,95:yt,105:kt,106:xt,109:Pt,111:mt,112:Yt,116:47,122:se,123:ue,124:re,125:_t,126:ut,127:Mt},{22:sn,24:on,26:yn,38:Sn,39:181,42:Ge,52:Lt,66:he,67:Ht,73:Fn,81:ke,83:140,84:Fr,85:151,86:Ye,87:vr,88:Zr,89:jr,90:_r,91:Hr,92:Tr,94:142,95:br,105:Te,106:we,109:mr,111:We,112:De,113:xr,114:kr,115:148,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},{22:sn,24:on,26:yn,38:Sn,39:182,42:Ge,52:Lt,66:he,67:Ht,73:Fn,81:ke,83:140,84:Fr,85:151,86:Ye,87:vr,88:Zr,89:jr,90:_r,91:Hr,92:Tr,94:142,95:br,105:Te,106:we,109:mr,111:We,112:De,113:xr,114:kr,115:148,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},{22:sn,24:on,26:yn,38:Sn,39:184,42:Ge,52:Lt,57:[1,183],66:he,67:Ht,73:Fn,81:ke,83:140,84:Fr,85:151,86:Ye,87:vr,88:Zr,89:jr,90:_r,91:Hr,92:Tr,94:142,95:br,105:Te,106:we,109:mr,111:We,112:De,113:xr,114:kr,115:148,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},{22:sn,24:on,26:yn,38:Sn,39:185,42:Ge,52:Lt,66:he,67:Ht,73:Fn,81:ke,83:140,84:Fr,85:151,86:Ye,87:vr,88:Zr,89:jr,90:_r,91:Hr,92:Tr,94:142,95:br,105:Te,106:we,109:mr,111:We,112:De,113:xr,114:kr,115:148,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},{22:sn,24:on,26:yn,38:Sn,39:186,42:Ge,52:Lt,66:he,67:Ht,73:Fn,81:ke,83:140,84:Fr,85:151,86:Ye,87:vr,88:Zr,89:jr,90:_r,91:Hr,92:Tr,94:142,95:br,105:Te,106:we,109:mr,111:We,112:De,113:xr,114:kr,115:148,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},{22:sn,24:on,26:yn,38:Sn,39:187,42:Ge,52:Lt,66:he,67:Ht,73:Fn,81:ke,83:140,84:Fr,85:151,86:Ye,87:vr,88:Zr,89:jr,90:_r,91:Hr,92:Tr,94:142,95:br,105:Te,106:we,109:mr,111:We,112:De,113:xr,114:kr,115:148,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},{66:[1,188]},{22:sn,24:on,26:yn,38:Sn,39:189,42:Ge,52:Lt,66:he,67:Ht,73:Fn,81:ke,83:140,84:Fr,85:151,86:Ye,87:vr,88:Zr,89:jr,90:_r,91:Hr,92:Tr,94:142,95:br,105:Te,106:we,109:mr,111:We,112:De,113:xr,114:kr,115:148,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},{22:sn,24:on,26:yn,38:Sn,39:190,42:Ge,52:Lt,66:he,67:Ht,71:[1,191],73:Fn,81:ke,83:140,84:Fr,85:151,86:Ye,87:vr,88:Zr,89:jr,90:_r,91:Hr,92:Tr,94:142,95:br,105:Te,106:we,109:mr,111:We,112:De,113:xr,114:kr,115:148,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},{22:sn,24:on,26:yn,38:Sn,39:192,42:Ge,52:Lt,66:he,67:Ht,73:Fn,81:ke,83:140,84:Fr,85:151,86:Ye,87:vr,88:Zr,89:jr,90:_r,91:Hr,92:Tr,94:142,95:br,105:Te,106:we,109:mr,111:We,112:De,113:xr,114:kr,115:148,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},{22:sn,24:on,26:yn,38:Sn,39:193,42:Ge,52:Lt,66:he,67:Ht,73:Fn,81:ke,83:140,84:Fr,85:151,86:Ye,87:vr,88:Zr,89:jr,90:_r,91:Hr,92:Tr,94:142,95:br,105:Te,106:we,109:mr,111:We,112:De,113:xr,114:kr,115:148,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},{22:sn,24:on,26:yn,38:Sn,39:194,42:Ge,52:Lt,66:he,67:Ht,73:Fn,81:ke,83:140,84:Fr,85:151,86:Ye,87:vr,88:Zr,89:jr,90:_r,91:Hr,92:Tr,94:142,95:br,105:Te,106:we,109:mr,111:We,112:De,113:xr,114:kr,115:148,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},a(an,[2,151]),a(Lr,[2,3]),{8:195,15:qt},{15:[2,7]},a(R,[2,28]),a(Bn,[2,33]),a(jt,[2,51],{30:196,22:Nt}),a($n,[2,75],{22:[1,197]}),{22:[1,198]},{22:sn,24:on,26:yn,38:Sn,39:199,42:Ge,52:Lt,66:he,67:Ht,73:Fn,81:ke,83:140,84:Fr,85:151,86:Ye,87:vr,88:Zr,89:jr,90:_r,91:Hr,92:Tr,94:142,95:br,105:Te,106:we,109:mr,111:We,112:De,113:xr,114:kr,115:148,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},{22:sn,24:on,26:yn,38:Sn,42:Ge,52:Lt,66:he,67:Ht,73:Fn,81:ke,82:[1,200],83:201,85:151,86:Ye,87:vr,88:Zr,89:jr,90:_r,91:Hr,92:Tr,94:142,95:br,105:Te,106:we,109:mr,111:We,112:De,113:xr,114:kr,115:148,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},a(qn,[2,82]),a(qn,[2,84]),a(qn,[2,140]),a(qn,[2,141]),a(qn,[2,142]),a(qn,[2,143]),a(qn,[2,144]),a(qn,[2,145]),a(qn,[2,146]),a(qn,[2,147]),a(qn,[2,148]),a(qn,[2,149]),a(qn,[2,85]),a(qn,[2,86]),a(qn,[2,87]),a(qn,[2,88]),a(qn,[2,89]),a(qn,[2,90]),a(qn,[2,91]),a(qn,[2,92]),a(qn,[2,93]),a(qn,[2,94]),a(qn,[2,95]),{9:203,20:Ut,21:Wt,22:sn,23:Ft,24:on,26:yn,38:Sn,40:[1,202],42:Ge,52:Lt,66:he,67:Ht,73:Fn,81:ke,83:201,85:151,86:Ye,87:vr,88:Zr,89:jr,90:_r,91:Hr,92:Tr,94:142,95:br,105:Te,106:we,109:mr,111:We,112:De,113:xr,114:kr,115:148,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},{18:18,19:19,20:F,21:j,22:X,23:W,32:24,33:25,34:26,35:27,36:28,37:29,38:V,42:[1,204],43:31,44:K,46:st,48:it,50:35,51:45,52:pt,54:46,66:ct,67:lt,86:J,87:Bt,88:Tt,89:Ct,90:St,91:at,95:yt,105:kt,106:xt,109:Pt,111:mt,112:Yt,116:47,118:ne,119:Qt,120:Kt,121:Xt,122:se,123:ue,124:re,125:_t,126:ut,127:Mt},{22:Nt,30:205},{22:[1,206],26:ee,52:Lt,66:he,67:Ht,91:Se,105:Te,106:we,109:Ue,111:We,112:De,115:100,117:178,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},{22:[1,207]},{22:[1,208]},{22:[1,209],106:[1,210]},a(Ar,[2,123]),{22:[1,211]},{22:[1,212],26:ee,52:Lt,66:he,67:Ht,91:Se,105:Te,106:we,109:Ue,111:We,112:De,115:100,117:178,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},{22:[1,213],26:ee,52:Lt,66:he,67:Ht,91:Se,105:Te,106:we,109:Ue,111:We,112:De,115:100,117:178,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},{84:[1,214]},a(mn,[2,103],{22:[1,215]}),{84:[1,216],101:[1,217]},{84:[1,218]},a(Un,[2,153]),{84:[1,219],101:[1,220]},a(Mn,[2,57],{116:129,52:pt,66:ct,67:lt,91:at,95:yt,105:kt,106:xt,109:Pt,111:mt,112:Yt,122:se,123:ue,124:re,125:_t,126:ut,127:Mt}),{22:sn,24:on,26:yn,38:Sn,41:[1,221],42:Ge,52:Lt,66:he,67:Ht,73:Fn,81:ke,83:201,85:151,86:Ye,87:vr,88:Zr,89:jr,90:_r,91:Hr,92:Tr,94:142,95:br,105:Te,106:we,109:mr,111:We,112:De,113:xr,114:kr,115:148,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},{22:sn,24:on,26:yn,38:Sn,42:Ge,52:Lt,56:[1,222],66:he,67:Ht,73:Fn,81:ke,83:201,85:151,86:Ye,87:vr,88:Zr,89:jr,90:_r,91:Hr,92:Tr,94:142,95:br,105:Te,106:we,109:mr,111:We,112:De,113:xr,114:kr,115:148,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},{22:sn,24:on,26:yn,38:Sn,39:223,42:Ge,52:Lt,66:he,67:Ht,73:Fn,81:ke,83:140,84:Fr,85:151,86:Ye,87:vr,88:Zr,89:jr,90:_r,91:Hr,92:Tr,94:142,95:br,105:Te,106:we,109:mr,111:We,112:De,113:xr,114:kr,115:148,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},{22:sn,24:on,26:yn,38:Sn,42:Ge,52:Lt,58:[1,224],66:he,67:Ht,73:Fn,81:ke,83:201,85:151,86:Ye,87:vr,88:Zr,89:jr,90:_r,91:Hr,92:Tr,94:142,95:br,105:Te,106:we,109:mr,111:We,112:De,113:xr,114:kr,115:148,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},{22:sn,24:on,26:yn,38:Sn,42:Ge,52:Lt,60:[1,225],66:he,67:Ht,73:Fn,81:ke,83:201,85:151,86:Ye,87:vr,88:Zr,89:jr,90:_r,91:Hr,92:Tr,94:142,95:br,105:Te,106:we,109:mr,111:We,112:De,113:xr,114:kr,115:148,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},{22:sn,24:on,26:yn,38:Sn,42:Ge,52:Lt,62:[1,226],66:he,67:Ht,73:Fn,81:ke,83:201,85:151,86:Ye,87:vr,88:Zr,89:jr,90:_r,91:Hr,92:Tr,94:142,95:br,105:Te,106:we,109:mr,111:We,112:De,113:xr,114:kr,115:148,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},{22:sn,24:on,26:yn,38:Sn,42:Ge,52:Lt,64:[1,227],66:he,67:Ht,73:Fn,81:ke,83:201,85:151,86:Ye,87:vr,88:Zr,89:jr,90:_r,91:Hr,92:Tr,94:142,95:br,105:Te,106:we,109:mr,111:We,112:De,113:xr,114:kr,115:148,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},{67:[1,228]},{22:sn,24:on,26:yn,38:Sn,42:Ge,52:Lt,66:he,67:Ht,70:[1,229],73:Fn,81:ke,83:201,85:151,86:Ye,87:vr,88:Zr,89:jr,90:_r,91:Hr,92:Tr,94:142,95:br,105:Te,106:we,109:mr,111:We,112:De,113:xr,114:kr,115:148,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},{22:sn,24:on,26:yn,38:Sn,42:Ge,52:Lt,66:he,67:Ht,72:[1,230],73:Fn,81:ke,83:201,85:151,86:Ye,87:vr,88:Zr,89:jr,90:_r,91:Hr,92:Tr,94:142,95:br,105:Te,106:we,109:mr,111:We,112:De,113:xr,114:kr,115:148,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},{22:sn,24:on,26:yn,38:Sn,39:231,42:Ge,52:Lt,66:he,67:Ht,73:Fn,81:ke,83:140,84:Fr,85:151,86:Ye,87:vr,88:Zr,89:jr,90:_r,91:Hr,92:Tr,94:142,95:br,105:Te,106:we,109:mr,111:We,112:De,113:xr,114:kr,115:148,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},{22:sn,24:on,26:yn,38:Sn,41:[1,232],42:Ge,52:Lt,66:he,67:Ht,73:Fn,81:ke,83:201,85:151,86:Ye,87:vr,88:Zr,89:jr,90:_r,91:Hr,92:Tr,94:142,95:br,105:Te,106:we,109:mr,111:We,112:De,113:xr,114:kr,115:148,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},{22:sn,24:on,26:yn,38:Sn,42:Ge,52:Lt,66:he,67:Ht,73:Fn,75:[1,233],77:[1,234],81:ke,83:201,85:151,86:Ye,87:vr,88:Zr,89:jr,90:_r,91:Hr,92:Tr,94:142,95:br,105:Te,106:we,109:mr,111:We,112:De,113:xr,114:kr,115:148,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},{22:sn,24:on,26:yn,38:Sn,42:Ge,52:Lt,66:he,67:Ht,73:Fn,75:[1,236],77:[1,235],81:ke,83:201,85:151,86:Ye,87:vr,88:Zr,89:jr,90:_r,91:Hr,92:Tr,94:142,95:br,105:Te,106:we,109:mr,111:We,112:De,113:xr,114:kr,115:148,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},{9:237,20:Ut,21:Wt,23:Ft},a(jt,[2,52],{52:Yn}),a($n,[2,77]),a($n,[2,76]),{22:sn,24:on,26:yn,38:Sn,42:Ge,52:Lt,66:he,67:Ht,68:[1,238],73:Fn,81:ke,83:201,85:151,86:Ye,87:vr,88:Zr,89:jr,90:_r,91:Hr,92:Tr,94:142,95:br,105:Te,106:we,109:mr,111:We,112:De,113:xr,114:kr,115:148,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},a($n,[2,79]),a(qn,[2,83]),{22:sn,24:on,26:yn,38:Sn,39:239,42:Ge,52:Lt,66:he,67:Ht,73:Fn,81:ke,83:140,84:Fr,85:151,86:Ye,87:vr,88:Zr,89:jr,90:_r,91:Hr,92:Tr,94:142,95:br,105:Te,106:we,109:mr,111:We,112:De,113:xr,114:kr,115:148,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},a(En,$,{17:240}),a(Vt,[2,43]),{51:241,52:pt,54:46,66:ct,67:lt,91:at,95:yt,105:kt,106:xt,109:Pt,111:mt,112:Yt,116:47,122:se,123:ue,124:re,125:_t,126:ut,127:Mt},{22:wr,66:ei,67:vi,86:bi,96:242,102:oo,105:ci,107:243,108:244,109:Eo,110:xi,111:Ro,112:To,113:wa},{22:wr,66:ei,67:vi,86:bi,96:256,102:oo,105:ci,107:243,108:244,109:Eo,110:xi,111:Ro,112:To,113:wa},{22:wr,66:ei,67:vi,86:bi,96:257,102:oo,104:[1,258],105:ci,107:243,108:244,109:Eo,110:xi,111:Ro,112:To,113:wa},{22:wr,66:ei,67:vi,86:bi,96:259,102:oo,104:[1,260],105:ci,107:243,108:244,109:Eo,110:xi,111:Ro,112:To,113:wa},{105:[1,261]},{22:wr,66:ei,67:vi,86:bi,96:262,102:oo,105:ci,107:243,108:244,109:Eo,110:xi,111:Ro,112:To,113:wa},{22:wr,66:ei,67:vi,86:bi,96:263,102:oo,105:ci,107:243,108:244,109:Eo,110:xi,111:Ro,112:To,113:wa},{26:ee,52:Lt,66:he,67:Ht,91:Se,97:264,105:Te,106:we,109:Ue,111:We,112:De,115:100,117:98,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},a(mn,[2,102]),{84:[1,265]},a(mn,[2,106],{22:[1,266]}),a(mn,[2,107]),a(mn,[2,110]),a(mn,[2,112],{22:[1,267]}),a(mn,[2,113]),a(Kn,[2,58]),a(Kn,[2,59]),{22:sn,24:on,26:yn,38:Sn,42:Ge,52:Lt,58:[1,268],66:he,67:Ht,73:Fn,81:ke,83:201,85:151,86:Ye,87:vr,88:Zr,89:jr,90:_r,91:Hr,92:Tr,94:142,95:br,105:Te,106:we,109:mr,111:We,112:De,113:xr,114:kr,115:148,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},a(Kn,[2,66]),a(Kn,[2,61]),a(Kn,[2,62]),a(Kn,[2,63]),{66:[1,269]},a(Kn,[2,65]),a(Kn,[2,67]),{22:sn,24:on,26:yn,38:Sn,42:Ge,52:Lt,66:he,67:Ht,72:[1,270],73:Fn,81:ke,83:201,85:151,86:Ye,87:vr,88:Zr,89:jr,90:_r,91:Hr,92:Tr,94:142,95:br,105:Te,106:we,109:mr,111:We,112:De,113:xr,114:kr,115:148,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},a(Kn,[2,69]),a(Kn,[2,70]),a(Kn,[2,72]),a(Kn,[2,71]),a(Kn,[2,73]),a(Lr,[2,4]),a([22,52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,81]),{22:sn,24:on,26:yn,38:Sn,41:[1,271],42:Ge,52:Lt,66:he,67:Ht,73:Fn,81:ke,83:201,85:151,86:Ye,87:vr,88:Zr,89:jr,90:_r,91:Hr,92:Tr,94:142,95:br,105:Te,106:we,109:mr,111:We,112:De,113:xr,114:kr,115:148,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},{18:18,19:19,20:F,21:j,22:X,23:W,32:24,33:25,34:26,35:27,36:28,37:29,38:V,42:[1,272],43:31,44:K,46:st,48:it,50:35,51:45,52:pt,54:46,66:ct,67:lt,86:J,87:Bt,88:Tt,89:Ct,90:St,91:at,95:yt,105:kt,106:xt,109:Pt,111:mt,112:Yt,116:47,118:ne,119:Qt,120:Kt,121:Xt,122:se,123:ue,124:re,125:_t,126:ut,127:Mt},a(Mn,[2,56]),a(mn,[2,115],{106:sr}),a(Ss,[2,125],{108:274,22:wr,66:ei,67:vi,86:bi,102:oo,105:ci,109:Eo,110:xi,111:Ro,112:To,113:wa}),a(lo,[2,127]),a(lo,[2,129]),a(lo,[2,130]),a(lo,[2,131]),a(lo,[2,132]),a(lo,[2,133]),a(lo,[2,134]),a(lo,[2,135]),a(lo,[2,136]),a(lo,[2,137]),a(lo,[2,138]),a(lo,[2,139]),a(mn,[2,116],{106:sr}),a(mn,[2,117],{106:sr}),{22:[1,275]},a(mn,[2,118],{106:sr}),{22:[1,276]},a(Ar,[2,124]),a(mn,[2,98],{106:sr}),a(mn,[2,99],{106:sr}),a(mn,[2,100],{115:100,117:178,26:ee,52:Lt,66:he,67:Ht,91:Se,105:Te,106:we,109:Ue,111:We,112:De,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn}),a(mn,[2,104]),{101:[1,277]},{101:[1,278]},{58:[1,279]},{68:[1,280]},{72:[1,281]},{9:282,20:Ut,21:Wt,23:Ft},a(Vt,[2,42]),{22:wr,66:ei,67:vi,86:bi,102:oo,105:ci,107:283,108:244,109:Eo,110:xi,111:Ro,112:To,113:wa},a(lo,[2,128]),{26:ee,52:Lt,66:he,67:Ht,91:Se,97:284,105:Te,106:we,109:Ue,111:We,112:De,115:100,117:98,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},{26:ee,52:Lt,66:he,67:Ht,91:Se,97:285,105:Te,106:we,109:Ue,111:We,112:De,115:100,117:98,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},a(mn,[2,108]),a(mn,[2,114]),a(Kn,[2,60]),{22:sn,24:on,26:yn,38:Sn,39:286,42:Ge,52:Lt,66:he,67:Ht,73:Fn,81:ke,83:140,84:Fr,85:151,86:Ye,87:vr,88:Zr,89:jr,90:_r,91:Hr,92:Tr,94:142,95:br,105:Te,106:we,109:mr,111:We,112:De,113:xr,114:kr,115:148,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},a(Kn,[2,68]),a(En,$,{17:287}),a(Ss,[2,126],{108:274,22:wr,66:ei,67:vi,86:bi,102:oo,105:ci,109:Eo,110:xi,111:Ro,112:To,113:wa}),a(mn,[2,121],{115:100,117:178,22:[1,288],26:ee,52:Lt,66:he,67:Ht,91:Se,105:Te,106:we,109:Ue,111:We,112:De,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn}),a(mn,[2,122],{115:100,117:178,22:[1,289],26:ee,52:Lt,66:he,67:Ht,91:Se,105:Te,106:we,109:Ue,111:We,112:De,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn}),{22:sn,24:on,26:yn,38:Sn,41:[1,290],42:Ge,52:Lt,66:he,67:Ht,73:Fn,81:ke,83:201,85:151,86:Ye,87:vr,88:Zr,89:jr,90:_r,91:Hr,92:Tr,94:142,95:br,105:Te,106:we,109:mr,111:We,112:De,113:xr,114:kr,115:148,122:me,123:Oe,124:Pe,125:ze,126:He,127:dn},{18:18,19:19,20:F,21:j,22:X,23:W,32:24,33:25,34:26,35:27,36:28,37:29,38:V,42:[1,291],43:31,44:K,46:st,48:it,50:35,51:45,52:pt,54:46,66:ct,67:lt,86:J,87:Bt,88:Tt,89:Ct,90:St,91:at,95:yt,105:kt,106:xt,109:Pt,111:mt,112:Yt,116:47,118:ne,119:Qt,120:Kt,121:Xt,122:se,123:ue,124:re,125:_t,126:ut,127:Mt},{22:wr,66:ei,67:vi,86:bi,96:292,102:oo,105:ci,107:243,108:244,109:Eo,110:xi,111:Ro,112:To,113:wa},{22:wr,66:ei,67:vi,86:bi,96:293,102:oo,105:ci,107:243,108:244,109:Eo,110:xi,111:Ro,112:To,113:wa},a(Kn,[2,64]),a(Vt,[2,41]),a(mn,[2,119],{106:sr}),a(mn,[2,120],{106:sr})],defaultActions:{2:[2,1],9:[2,5],10:[2,2],132:[2,7]},parseError:function(Cr,ki){if(!ki.recoverable){var ii=new Error(Cr);throw ii.hash=ki,ii}this.trace(Cr)},parse:function(Cr){var ki=this,ii=[0],cr=[],Oi=[null],$e=[],Es=this.table,fn="",ao=0,_a=0,Na=0,ds=2,ra=1,Us=$e.slice.call(arguments,1),Ni=Object.create(this.lexer),Do={yy:{}};for(var Zo in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Zo)&&(Do.yy[Zo]=this.yy[Zo]);Ni.setInput(Cr,Do.yy),Do.yy.lexer=Ni,Do.yy.parser=this,Ni.yylloc===void 0&&(Ni.yylloc={});var fs=Ni.yylloc;$e.push(fs);var es=Ni.options&&Ni.options.ranges;function Ts(){var Xr;return typeof(Xr=cr.pop()||Ni.lex()||ra)!="number"&&(Xr instanceof Array&&(Xr=(cr=Xr).pop()),Xr=ki.symbols_[Xr]||Xr),Xr}typeof Do.yy.parseError=="function"?this.parseError=Do.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var ui,Ko,mo,Pa,Tl,hl,rn,er,Vn,wi={};;){if(mo=ii[ii.length-1],this.defaultActions[mo]?Pa=this.defaultActions[mo]:(ui==null&&(ui=Ts()),Pa=Es[mo]&&Es[mo][ui]),Pa===void 0||!Pa.length||!Pa[0]){var no="";for(hl in Vn=[],Es[mo])this.terminals_[hl]&&hl>ds&&Vn.push("'"+this.terminals_[hl]+"'");no=Ni.showPosition?"Parse error on line "+(ao+1)+`:
`+Ni.showPosition()+`
Expecting `+Vn.join(", ")+", got '"+(this.terminals_[ui]||ui)+"'":"Parse error on line "+(ao+1)+": Unexpected "+(ui==ra?"end of input":"'"+(this.terminals_[ui]||ui)+"'"),this.parseError(no,{text:Ni.match,token:this.terminals_[ui]||ui,line:Ni.yylineno,loc:fs,expected:Vn})}if(Pa[0]instanceof Array&&Pa.length>1)throw new Error("Parse Error: multiple actions possible at state: "+mo+", token: "+ui);switch(Pa[0]){case 1:ii.push(ui),Oi.push(Ni.yytext),$e.push(Ni.yylloc),ii.push(Pa[1]),ui=null,Ko?(ui=Ko,Ko=null):(_a=Ni.yyleng,fn=Ni.yytext,ao=Ni.yylineno,fs=Ni.yylloc,Na>0);break;case 2:if(rn=this.productions_[Pa[1]][1],wi.$=Oi[Oi.length-rn],wi._$={first_line:$e[$e.length-(rn||1)].first_line,last_line:$e[$e.length-1].last_line,first_column:$e[$e.length-(rn||1)].first_column,last_column:$e[$e.length-1].last_column},es&&(wi._$.range=[$e[$e.length-(rn||1)].range[0],$e[$e.length-1].range[1]]),(Tl=this.performAction.apply(wi,[fn,_a,ao,Do.yy,Pa[1],Oi,$e].concat(Us)))!==void 0)return Tl;rn&&(ii=ii.slice(0,-1*rn*2),Oi=Oi.slice(0,-1*rn),$e=$e.slice(0,-1*rn)),ii.push(this.productions_[Pa[1]][0]),Oi.push(wi.$),$e.push(wi._$),er=Es[ii[ii.length-2]][ii[ii.length-1]],ii.push(er);break;case 3:return!0}}return!0}},vc={EOF:1,parseError:function(Cr,ki){if(!this.yy.parser)throw new Error(Cr);this.yy.parser.parseError(Cr,ki)},setInput:function(Cr,ki){return this.yy=ki||this.yy||{},this._input=Cr,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Cr=this._input[0];return this.yytext+=Cr,this.yyleng++,this.offset++,this.match+=Cr,this.matched+=Cr,Cr.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Cr},unput:function(Cr){var ki=Cr.length,ii=Cr.split(/(?:\r\n?|\n)/g);this._input=Cr+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-ki),this.offset-=ki;var cr=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ii.length-1&&(this.yylineno-=ii.length-1);var Oi=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ii?(ii.length===cr.length?this.yylloc.first_column:0)+cr[cr.length-ii.length].length-ii[0].length:this.yylloc.first_column-ki},this.options.ranges&&(this.yylloc.range=[Oi[0],Oi[0]+this.yyleng-ki]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(Cr){this.unput(this.match.slice(Cr))},pastInput:function(){var Cr=this.matched.substr(0,this.matched.length-this.match.length);return(Cr.length>20?"...":"")+Cr.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Cr=this.match;return Cr.length<20&&(Cr+=this._input.substr(0,20-Cr.length)),(Cr.substr(0,20)+(Cr.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Cr=this.pastInput(),ki=new Array(Cr.length+1).join("-");return Cr+this.upcomingInput()+`
`+ki+"^"},test_match:function(Cr,ki){var ii,cr,Oi;if(this.options.backtrack_lexer&&(Oi={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Oi.yylloc.range=this.yylloc.range.slice(0))),(cr=Cr[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=cr.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:cr?cr[cr.length-1].length-cr[cr.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Cr[0].length},this.yytext+=Cr[0],this.match+=Cr[0],this.matches=Cr,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Cr[0].length),this.matched+=Cr[0],ii=this.performAction.call(this,this.yy,this,ki,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ii)return ii;if(this._backtrack){for(var $e in Oi)this[$e]=Oi[$e];return!1}return!1},next:function(){if(this.done)return this.EOF;var Cr,ki,ii,cr;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var Oi=this._currentRules(),$e=0;$e<Oi.length;$e++)if((ii=this._input.match(this.rules[Oi[$e]]))&&(!ki||ii[0].length>ki[0].length)){if(ki=ii,cr=$e,this.options.backtrack_lexer){if((Cr=this.test_match(ii,Oi[$e]))!==!1)return Cr;if(this._backtrack){ki=!1;continue}return!1}if(!this.options.flex)break}return ki?(Cr=this.test_match(ki,Oi[cr]))!==!1&&Cr:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(Cr){this.conditionStack.push(Cr)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Cr){return(Cr=this.conditionStack.length-1-Math.abs(Cr||0))>=0?this.conditionStack[Cr]:"INITIAL"},pushState:function(Cr){this.begin(Cr)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(Cr,ki,ii,cr){switch(ii){case 0:return this.begin("open_directive"),12;case 1:return this.begin("type_directive"),13;case 2:return this.popState(),this.begin("arg_directive"),10;case 3:return this.popState(),this.popState(),15;case 4:return 14;case 5:case 6:break;case 7:return this.begin("acc_title"),44;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),46;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:case 15:case 24:case 27:case 30:case 33:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:this.begin("string");break;case 16:return"STR";case 17:return 86;case 18:return 95;case 19:return 87;case 20:return 104;case 21:return 88;case 22:return 89;case 23:this.begin("href");break;case 25:return 100;case 26:this.begin("callbackname");break;case 28:this.popState(),this.begin("callbackargs");break;case 29:return 98;case 31:return 99;case 32:this.begin("click");break;case 34:return 90;case 35:case 36:return Cr.lex.firstGraph()&&this.begin("dir"),24;case 37:return 38;case 38:return 42;case 39:case 40:case 41:case 42:return 101;case 43:return this.popState(),25;case 44:case 45:case 46:case 47:case 48:case 49:case 50:case 51:case 52:case 53:return this.popState(),26;case 54:return 118;case 55:return 119;case 56:return 120;case 57:return 121;case 58:return 105;case 59:return 111;case 60:return 53;case 61:return 67;case 62:return 52;case 63:return 20;case 64:return 106;case 65:return 126;case 66:case 67:case 68:return 82;case 69:case 70:case 71:return 81;case 72:return 59;case 73:return 60;case 74:return 61;case 75:return 62;case 76:return 63;case 77:return 64;case 78:return 65;case 79:return 69;case 80:return 70;case 81:return 55;case 82:return 56;case 83:return 109;case 84:return 112;case 85:return 127;case 86:return 124;case 87:return 113;case 88:case 89:return 125;case 90:return 114;case 91:return 73;case 92:return 92;case 93:return"SEP";case 94:return 91;case 95:return 66;case 96:return 75;case 97:return 74;case 98:return 77;case 99:return 76;case 100:return 122;case 101:return 123;case 102:return 68;case 103:return 57;case 104:return 58;case 105:return 40;case 106:return 41;case 107:return 71;case 108:return 72;case 109:return 133;case 110:return 21;case 111:return 22;case 112:return 23}},rules:[/^(?:%%\{)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)[^\n]*)/,/^(?:[^\}]%%[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\[)/,/^(?:\]\))/,/^(?:\[\[)/,/^(?:\]\])/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\])/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:-)/,/^(?:\.)/,/^(?:[\_])/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:[A-Za-z]+)/,/^(?:\\\])/,/^(?:\[\/)/,/^(?:\/\])/,/^(?:\[\\)/,/^(?:[!"#$%&'*+,-.`?\\_/])/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:\{)/,/^(?:\})/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[30,31],inclusive:!1},callbackname:{rules:[27,28,29],inclusive:!1},href:{rules:[24,25],inclusive:!1},click:{rules:[33,34],inclusive:!1},vertex:{rules:[],inclusive:!1},dir:{rules:[43,44,45,46,47,48,49,50,51,52,53],inclusive:!1},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},string:{rules:[15,16],inclusive:!1},INITIAL:{rules:[0,5,6,7,9,11,14,17,18,19,20,21,22,23,26,32,35,36,37,38,39,40,41,42,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112],inclusive:!0}}};function Ia(){this.yy={}}return ul.lexer=vc,Ia.prototype=ul,ul.Parser=Ia,new Ia}();C.parser=h,C.Parser=h.Parser,C.parse=function(){return h.parse.apply(h,arguments)},C.main=function(a){a[1]||(console.log("Usage: "+a[0]+" FILE"),process.exit(1));var O=v("?dbae").readFileSync(v("./node_modules/path-browserify/index.js").normalize(a[1]),"utf8");return C.parser.parse(O)},v.c[v.s]===E&&C.main(process.argv.slice(1))},"./src/diagrams/gantt/parser/gantt.jison":(E,C,v)=>{E=v.nmd(E);var h=function(){var a=function(at,yt,kt,xt){for(kt=kt||{},xt=at.length;xt--;kt[at[xt]]=yt);return kt},O=[1,3],_=[1,5],M=[7,9,11,12,13,14,15,16,17,18,19,20,22,24,25,27,34,39],P=[1,15],R=[1,16],$=[1,17],F=[1,18],j=[1,19],X=[1,20],W=[1,21],V=[1,22],K=[1,23],st=[1,24],it=[1,25],pt=[1,26],ct=[1,28],lt=[1,30],J=[1,33],Bt=[5,7,9,11,12,13,14,15,16,17,18,19,20,22,24,25,27,34,39],Tt={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,gantt:5,document:6,EOF:7,line:8,SPACE:9,statement:10,NL:11,dateFormat:12,inclusiveEndDates:13,topAxis:14,axisFormat:15,excludes:16,includes:17,todayMarker:18,title:19,acc_title:20,acc_title_value:21,acc_descr:22,acc_descr_value:23,acc_descr_multiline_value:24,section:25,clickStatement:26,taskTxt:27,taskData:28,openDirective:29,typeDirective:30,closeDirective:31,":":32,argDirective:33,click:34,callbackname:35,callbackargs:36,href:37,clickStatementDebug:38,open_directive:39,type_directive:40,arg_directive:41,close_directive:42,$accept:0,$end:1},terminals_:{2:"error",5:"gantt",7:"EOF",9:"SPACE",11:"NL",12:"dateFormat",13:"inclusiveEndDates",14:"topAxis",15:"axisFormat",16:"excludes",17:"includes",18:"todayMarker",19:"title",20:"acc_title",21:"acc_title_value",22:"acc_descr",23:"acc_descr_value",24:"acc_descr_multiline_value",25:"section",27:"taskTxt",28:"taskData",32:":",34:"click",35:"callbackname",36:"callbackargs",37:"href",39:"open_directive",40:"type_directive",41:"arg_directive",42:"close_directive"},productions_:[0,[3,2],[3,3],[6,0],[6,2],[8,2],[8,1],[8,1],[8,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[10,1],[10,1],[10,2],[10,1],[4,4],[4,6],[26,2],[26,3],[26,3],[26,4],[26,3],[26,4],[26,2],[38,2],[38,3],[38,3],[38,4],[38,3],[38,4],[38,2],[29,1],[30,1],[33,1],[31,1]],performAction:function(at,yt,kt,xt,Pt,mt,Yt){var ne=mt.length-1;switch(Pt){case 2:return mt[ne-1];case 3:case 7:case 8:this.$=[];break;case 4:mt[ne-1].push(mt[ne]),this.$=mt[ne-1];break;case 5:case 6:this.$=mt[ne];break;case 9:xt.setDateFormat(mt[ne].substr(11)),this.$=mt[ne].substr(11);break;case 10:xt.enableInclusiveEndDates(),this.$=mt[ne].substr(18);break;case 11:xt.TopAxis(),this.$=mt[ne].substr(8);break;case 12:xt.setAxisFormat(mt[ne].substr(11)),this.$=mt[ne].substr(11);break;case 13:xt.setExcludes(mt[ne].substr(9)),this.$=mt[ne].substr(9);break;case 14:xt.setIncludes(mt[ne].substr(9)),this.$=mt[ne].substr(9);break;case 15:xt.setTodayMarker(mt[ne].substr(12)),this.$=mt[ne].substr(12);break;case 16:xt.setDiagramTitle(mt[ne].substr(6)),this.$=mt[ne].substr(6);break;case 17:this.$=mt[ne].trim(),xt.setAccTitle(this.$);break;case 18:case 19:this.$=mt[ne].trim(),xt.setAccDescription(this.$);break;case 20:xt.addSection(mt[ne].substr(8)),this.$=mt[ne].substr(8);break;case 22:xt.addTask(mt[ne-1],mt[ne]),this.$="task";break;case 26:this.$=mt[ne-1],xt.setClickEvent(mt[ne-1],mt[ne],null);break;case 27:this.$=mt[ne-2],xt.setClickEvent(mt[ne-2],mt[ne-1],mt[ne]);break;case 28:this.$=mt[ne-2],xt.setClickEvent(mt[ne-2],mt[ne-1],null),xt.setLink(mt[ne-2],mt[ne]);break;case 29:this.$=mt[ne-3],xt.setClickEvent(mt[ne-3],mt[ne-2],mt[ne-1]),xt.setLink(mt[ne-3],mt[ne]);break;case 30:this.$=mt[ne-2],xt.setClickEvent(mt[ne-2],mt[ne],null),xt.setLink(mt[ne-2],mt[ne-1]);break;case 31:this.$=mt[ne-3],xt.setClickEvent(mt[ne-3],mt[ne-1],mt[ne]),xt.setLink(mt[ne-3],mt[ne-2]);break;case 32:this.$=mt[ne-1],xt.setLink(mt[ne-1],mt[ne]);break;case 33:case 39:this.$=mt[ne-1]+" "+mt[ne];break;case 34:case 35:case 37:this.$=mt[ne-2]+" "+mt[ne-1]+" "+mt[ne];break;case 36:case 38:this.$=mt[ne-3]+" "+mt[ne-2]+" "+mt[ne-1]+" "+mt[ne];break;case 40:xt.parseDirective("%%{","open_directive");break;case 41:xt.parseDirective(mt[ne],"type_directive");break;case 42:mt[ne]=mt[ne].trim().replace(/'/g,'"'),xt.parseDirective(mt[ne],"arg_directive");break;case 43:xt.parseDirective("}%%","close_directive","gantt")}},table:[{3:1,4:2,5:O,29:4,39:_},{1:[3]},{3:6,4:2,5:O,29:4,39:_},a(M,[2,3],{6:7}),{30:8,40:[1,9]},{40:[2,40]},{1:[2,1]},{4:29,7:[1,10],8:11,9:[1,12],10:13,11:[1,14],12:P,13:R,14:$,15:F,16:j,17:X,18:W,19:V,20:K,22:st,24:it,25:pt,26:27,27:ct,29:4,34:lt,39:_},{31:31,32:[1,32],42:J},a([32,42],[2,41]),a(M,[2,8],{1:[2,2]}),a(M,[2,4]),{4:29,10:34,12:P,13:R,14:$,15:F,16:j,17:X,18:W,19:V,20:K,22:st,24:it,25:pt,26:27,27:ct,29:4,34:lt,39:_},a(M,[2,6]),a(M,[2,7]),a(M,[2,9]),a(M,[2,10]),a(M,[2,11]),a(M,[2,12]),a(M,[2,13]),a(M,[2,14]),a(M,[2,15]),a(M,[2,16]),{21:[1,35]},{23:[1,36]},a(M,[2,19]),a(M,[2,20]),a(M,[2,21]),{28:[1,37]},a(M,[2,23]),{35:[1,38],37:[1,39]},{11:[1,40]},{33:41,41:[1,42]},{11:[2,43]},a(M,[2,5]),a(M,[2,17]),a(M,[2,18]),a(M,[2,22]),a(M,[2,26],{36:[1,43],37:[1,44]}),a(M,[2,32],{35:[1,45]}),a(Bt,[2,24]),{31:46,42:J},{42:[2,42]},a(M,[2,27],{37:[1,47]}),a(M,[2,28]),a(M,[2,30],{36:[1,48]}),{11:[1,49]},a(M,[2,29]),a(M,[2,31]),a(Bt,[2,25])],defaultActions:{5:[2,40],6:[2,1],33:[2,43],42:[2,42]},parseError:function(at,yt){if(!yt.recoverable){var kt=new Error(at);throw kt.hash=yt,kt}this.trace(at)},parse:function(at){var yt=this,kt=[0],xt=[],Pt=[null],mt=[],Yt=this.table,ne="",Qt=0,Kt=0,Xt=0,se=2,ue=1,re=mt.slice.call(arguments,1),_t=Object.create(this.lexer),ut={yy:{}};for(var Mt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Mt)&&(ut.yy[Mt]=this.yy[Mt]);_t.setInput(at,ut.yy),ut.yy.lexer=_t,ut.yy.parser=this,_t.yylloc===void 0&&(_t.yylloc={});var qt=_t.yylloc;mt.push(qt);var Nt=_t.options&&_t.options.ranges;function Vt(){var Ue;return typeof(Ue=xt.pop()||_t.lex()||ue)!="number"&&(Ue instanceof Array&&(Ue=(xt=Ue).pop()),Ue=yt.symbols_[Ue]||Ue),Ue}typeof ut.yy.parseError=="function"?this.parseError=ut.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var Ut,Wt,Ft,jt,ee,Lt,he,Ht,Se,Te={};;){if(Ft=kt[kt.length-1],this.defaultActions[Ft]?jt=this.defaultActions[Ft]:(Ut==null&&(Ut=Vt()),jt=Yt[Ft]&&Yt[Ft][Ut]),jt===void 0||!jt.length||!jt[0]){var we="";for(Lt in Se=[],Yt[Ft])this.terminals_[Lt]&&Lt>se&&Se.push("'"+this.terminals_[Lt]+"'");we=_t.showPosition?"Parse error on line "+(Qt+1)+`:
`+_t.showPosition()+`
Expecting `+Se.join(", ")+", got '"+(this.terminals_[Ut]||Ut)+"'":"Parse error on line "+(Qt+1)+": Unexpected "+(Ut==ue?"end of input":"'"+(this.terminals_[Ut]||Ut)+"'"),this.parseError(we,{text:_t.match,token:this.terminals_[Ut]||Ut,line:_t.yylineno,loc:qt,expected:Se})}if(jt[0]instanceof Array&&jt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ft+", token: "+Ut);switch(jt[0]){case 1:kt.push(Ut),Pt.push(_t.yytext),mt.push(_t.yylloc),kt.push(jt[1]),Ut=null,Wt?(Ut=Wt,Wt=null):(Kt=_t.yyleng,ne=_t.yytext,Qt=_t.yylineno,qt=_t.yylloc,Xt>0);break;case 2:if(he=this.productions_[jt[1]][1],Te.$=Pt[Pt.length-he],Te._$={first_line:mt[mt.length-(he||1)].first_line,last_line:mt[mt.length-1].last_line,first_column:mt[mt.length-(he||1)].first_column,last_column:mt[mt.length-1].last_column},Nt&&(Te._$.range=[mt[mt.length-(he||1)].range[0],mt[mt.length-1].range[1]]),(ee=this.performAction.apply(Te,[ne,Kt,Qt,ut.yy,jt[1],Pt,mt].concat(re)))!==void 0)return ee;he&&(kt=kt.slice(0,-1*he*2),Pt=Pt.slice(0,-1*he),mt=mt.slice(0,-1*he)),kt.push(this.productions_[jt[1]][0]),Pt.push(Te.$),mt.push(Te._$),Ht=Yt[kt[kt.length-2]][kt[kt.length-1]],kt.push(Ht);break;case 3:return!0}}return!0}},Ct={EOF:1,parseError:function(at,yt){if(!this.yy.parser)throw new Error(at);this.yy.parser.parseError(at,yt)},setInput:function(at,yt){return this.yy=yt||this.yy||{},this._input=at,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var at=this._input[0];return this.yytext+=at,this.yyleng++,this.offset++,this.match+=at,this.matched+=at,at.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),at},unput:function(at){var yt=at.length,kt=at.split(/(?:\r\n?|\n)/g);this._input=at+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-yt),this.offset-=yt;var xt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),kt.length-1&&(this.yylineno-=kt.length-1);var Pt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:kt?(kt.length===xt.length?this.yylloc.first_column:0)+xt[xt.length-kt.length].length-kt[0].length:this.yylloc.first_column-yt},this.options.ranges&&(this.yylloc.range=[Pt[0],Pt[0]+this.yyleng-yt]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(at){this.unput(this.match.slice(at))},pastInput:function(){var at=this.matched.substr(0,this.matched.length-this.match.length);return(at.length>20?"...":"")+at.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var at=this.match;return at.length<20&&(at+=this._input.substr(0,20-at.length)),(at.substr(0,20)+(at.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var at=this.pastInput(),yt=new Array(at.length+1).join("-");return at+this.upcomingInput()+`
`+yt+"^"},test_match:function(at,yt){var kt,xt,Pt;if(this.options.backtrack_lexer&&(Pt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Pt.yylloc.range=this.yylloc.range.slice(0))),(xt=at[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=xt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:xt?xt[xt.length-1].length-xt[xt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+at[0].length},this.yytext+=at[0],this.match+=at[0],this.matches=at,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(at[0].length),this.matched+=at[0],kt=this.performAction.call(this,this.yy,this,yt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),kt)return kt;if(this._backtrack){for(var mt in Pt)this[mt]=Pt[mt];return!1}return!1},next:function(){if(this.done)return this.EOF;var at,yt,kt,xt;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var Pt=this._currentRules(),mt=0;mt<Pt.length;mt++)if((kt=this._input.match(this.rules[Pt[mt]]))&&(!yt||kt[0].length>yt[0].length)){if(yt=kt,xt=mt,this.options.backtrack_lexer){if((at=this.test_match(kt,Pt[mt]))!==!1)return at;if(this._backtrack){yt=!1;continue}return!1}if(!this.options.flex)break}return yt?(at=this.test_match(yt,Pt[xt]))!==!1&&at:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(at){this.conditionStack.push(at)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(at){return(at=this.conditionStack.length-1-Math.abs(at||0))>=0?this.conditionStack[at]:"INITIAL"},pushState:function(at){this.begin(at)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(at,yt,kt,xt){switch(kt){case 0:return this.begin("open_directive"),39;case 1:return this.begin("type_directive"),40;case 2:return this.popState(),this.begin("arg_directive"),32;case 3:return this.popState(),this.popState(),42;case 4:return 41;case 5:return this.begin("acc_title"),20;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),22;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:case 20:case 23:case 26:case 29:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:case 13:case 14:case 16:case 17:case 18:break;case 15:return 11;case 19:this.begin("href");break;case 21:return 37;case 22:this.begin("callbackname");break;case 24:this.popState(),this.begin("callbackargs");break;case 25:return 35;case 27:return 36;case 28:this.begin("click");break;case 30:return 34;case 31:return 5;case 32:return 12;case 33:return 13;case 34:return 14;case 35:return 15;case 36:return 17;case 37:return 16;case 38:return 18;case 39:return"date";case 40:return 19;case 41:return"accDescription";case 42:return 25;case 43:return 27;case 44:return 28;case 45:return 32;case 46:return 7;case 47:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[26,27],inclusive:!1},callbackname:{rules:[23,24,25],inclusive:!1},href:{rules:[20,21],inclusive:!1},click:{rules:[29,30],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,22,28,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47],inclusive:!0}}};function St(){this.yy={}}return Tt.lexer=Ct,St.prototype=Tt,Tt.Parser=St,new St}();C.parser=h,C.Parser=h.Parser,C.parse=function(){return h.parse.apply(h,arguments)},C.main=function(a){a[1]||(console.log("Usage: "+a[0]+" FILE"),process.exit(1));var O=v("?8ed1").readFileSync(v("./node_modules/path-browserify/index.js").normalize(a[1]),"utf8");return C.parser.parse(O)},v.c[v.s]===E&&C.main(process.argv.slice(1))},"./src/diagrams/git/parser/gitGraph.jison":(E,C,v)=>{E=v.nmd(E);var h=function(){var a=function(Ct,St,at,yt){for(at=at||{},yt=Ct.length;yt--;at[Ct[yt]]=St);return at},O=[1,4],_=[1,7],M=[1,5],P=[1,9],R=[1,6],$=[2,6],F=[1,16],j=[6,8,14,20,22,24,25,27,29,32,35,37,49,53],X=[8,14,20,22,24,25,27,29,32,35,37],W=[8,13,14,20,22,24,25,27,29,32,35,37],V=[1,26],K=[6,8,14,49,53],st=[8,14,53],it=[1,64],pt=[1,65],ct=[1,66],lt=[8,14,33,36,41,53],J={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,GG:6,document:7,EOF:8,":":9,DIR:10,options:11,body:12,OPT:13,NL:14,line:15,statement:16,commitStatement:17,mergeStatement:18,cherryPickStatement:19,acc_title:20,acc_title_value:21,acc_descr:22,acc_descr_value:23,acc_descr_multiline_value:24,section:25,branchStatement:26,CHECKOUT:27,ID:28,BRANCH:29,ORDER:30,NUM:31,CHERRY_PICK:32,COMMIT_ID:33,STR:34,MERGE:35,COMMIT_TAG:36,COMMIT:37,commit_arg:38,COMMIT_TYPE:39,commitType:40,COMMIT_MSG:41,NORMAL:42,REVERSE:43,HIGHLIGHT:44,openDirective:45,typeDirective:46,closeDirective:47,argDirective:48,open_directive:49,type_directive:50,arg_directive:51,close_directive:52,";":53,$accept:0,$end:1},terminals_:{2:"error",6:"GG",8:"EOF",9:":",10:"DIR",13:"OPT",14:"NL",20:"acc_title",21:"acc_title_value",22:"acc_descr",23:"acc_descr_value",24:"acc_descr_multiline_value",25:"section",27:"CHECKOUT",28:"ID",29:"BRANCH",30:"ORDER",31:"NUM",32:"CHERRY_PICK",33:"COMMIT_ID",34:"STR",35:"MERGE",36:"COMMIT_TAG",37:"COMMIT",39:"COMMIT_TYPE",41:"COMMIT_MSG",42:"NORMAL",43:"REVERSE",44:"HIGHLIGHT",49:"open_directive",50:"type_directive",51:"arg_directive",52:"close_directive",53:";"},productions_:[0,[3,2],[3,2],[3,3],[3,4],[3,5],[7,0],[7,2],[11,2],[11,1],[12,0],[12,2],[15,2],[15,1],[16,1],[16,1],[16,1],[16,2],[16,2],[16,1],[16,1],[16,1],[16,2],[26,2],[26,4],[19,3],[18,2],[18,4],[17,2],[17,3],[17,3],[17,5],[17,5],[17,3],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,3],[17,5],[17,5],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[38,0],[38,1],[40,1],[40,1],[40,1],[5,3],[5,5],[45,1],[46,1],[48,1],[47,1],[4,1],[4,1],[4,1]],performAction:function(Ct,St,at,yt,kt,xt,Pt){var mt=xt.length-1;switch(kt){case 3:return xt[mt];case 4:return xt[mt-1];case 5:return yt.setDirection(xt[mt-3]),xt[mt-1];case 7:yt.setOptions(xt[mt-1]),this.$=xt[mt];break;case 8:xt[mt-1]+=xt[mt],this.$=xt[mt-1];break;case 10:this.$=[];break;case 11:xt[mt-1].push(xt[mt]),this.$=xt[mt-1];break;case 12:this.$=xt[mt-1];break;case 17:this.$=xt[mt].trim(),yt.setAccTitle(this.$);break;case 18:case 19:this.$=xt[mt].trim(),yt.setAccDescription(this.$);break;case 20:yt.addSection(xt[mt].substr(8)),this.$=xt[mt].substr(8);break;case 22:yt.checkout(xt[mt]);break;case 23:yt.branch(xt[mt]);break;case 24:yt.branch(xt[mt-2],xt[mt]);break;case 25:yt.cherryPick(xt[mt]);break;case 26:yt.merge(xt[mt]);break;case 27:yt.merge(xt[mt-2],xt[mt]);break;case 28:yt.commit(xt[mt]);break;case 29:yt.commit("","",yt.commitType.NORMAL,xt[mt]);break;case 30:yt.commit("","",xt[mt],"");break;case 31:yt.commit("","",xt[mt],xt[mt-2]);break;case 32:yt.commit("","",xt[mt-2],xt[mt]);break;case 33:yt.commit("",xt[mt],yt.commitType.NORMAL,"");break;case 34:yt.commit("",xt[mt-2],yt.commitType.NORMAL,xt[mt]);break;case 35:yt.commit("",xt[mt],yt.commitType.NORMAL,xt[mt-2]);break;case 36:yt.commit("",xt[mt-2],xt[mt],"");break;case 37:yt.commit("",xt[mt],xt[mt-2],"");break;case 38:yt.commit("",xt[mt-4],xt[mt-2],xt[mt]);break;case 39:yt.commit("",xt[mt-4],xt[mt],xt[mt-2]);break;case 40:yt.commit("",xt[mt-2],xt[mt-4],xt[mt]);break;case 41:yt.commit("",xt[mt],xt[mt-4],xt[mt-2]);break;case 42:yt.commit("",xt[mt],xt[mt-2],xt[mt-4]);break;case 43:yt.commit("",xt[mt-2],xt[mt],xt[mt-4]);break;case 44:yt.commit(xt[mt],"",yt.commitType.NORMAL,"");break;case 45:yt.commit(xt[mt],"",yt.commitType.NORMAL,xt[mt-2]);break;case 46:yt.commit(xt[mt-2],"",yt.commitType.NORMAL,xt[mt]);break;case 47:yt.commit(xt[mt-2],"",xt[mt],"");break;case 48:yt.commit(xt[mt],"",xt[mt-2],"");break;case 49:yt.commit(xt[mt],xt[mt-2],yt.commitType.NORMAL,"");break;case 50:yt.commit(xt[mt-2],xt[mt],yt.commitType.NORMAL,"");break;case 51:yt.commit(xt[mt-4],"",xt[mt-2],xt[mt]);break;case 52:yt.commit(xt[mt-4],"",xt[mt],xt[mt-2]);break;case 53:yt.commit(xt[mt-2],"",xt[mt-4],xt[mt]);break;case 54:yt.commit(xt[mt],"",xt[mt-4],xt[mt-2]);break;case 55:yt.commit(xt[mt],"",xt[mt-2],xt[mt-4]);break;case 56:yt.commit(xt[mt-2],"",xt[mt],xt[mt-4]);break;case 57:yt.commit(xt[mt-4],xt[mt],xt[mt-2],"");break;case 58:yt.commit(xt[mt-4],xt[mt-2],xt[mt],"");break;case 59:yt.commit(xt[mt-2],xt[mt],xt[mt-4],"");break;case 60:yt.commit(xt[mt],xt[mt-2],xt[mt-4],"");break;case 61:yt.commit(xt[mt],xt[mt-4],xt[mt-2],"");break;case 62:yt.commit(xt[mt-2],xt[mt-4],xt[mt],"");break;case 63:yt.commit(xt[mt-4],xt[mt],yt.commitType.NORMAL,xt[mt-2]);break;case 64:yt.commit(xt[mt-4],xt[mt-2],yt.commitType.NORMAL,xt[mt]);break;case 65:yt.commit(xt[mt-2],xt[mt],yt.commitType.NORMAL,xt[mt-4]);break;case 66:yt.commit(xt[mt],xt[mt-2],yt.commitType.NORMAL,xt[mt-4]);break;case 67:yt.commit(xt[mt],xt[mt-4],yt.commitType.NORMAL,xt[mt-2]);break;case 68:yt.commit(xt[mt-2],xt[mt-4],yt.commitType.NORMAL,xt[mt]);break;case 69:yt.commit(xt[mt-6],xt[mt-4],xt[mt-2],xt[mt]);break;case 70:yt.commit(xt[mt-6],xt[mt-4],xt[mt],xt[mt-2]);break;case 71:yt.commit(xt[mt-6],xt[mt-2],xt[mt-4],xt[mt]);break;case 72:yt.commit(xt[mt-6],xt[mt],xt[mt-4],xt[mt-2]);break;case 73:yt.commit(xt[mt-6],xt[mt-2],xt[mt],xt[mt-4]);break;case 74:yt.commit(xt[mt-6],xt[mt],xt[mt-2],xt[mt-4]);break;case 75:yt.commit(xt[mt-4],xt[mt-6],xt[mt-2],xt[mt]);break;case 76:yt.commit(xt[mt-4],xt[mt-6],xt[mt],xt[mt-2]);break;case 77:yt.commit(xt[mt-2],xt[mt-6],xt[mt-4],xt[mt]);break;case 78:yt.commit(xt[mt],xt[mt-6],xt[mt-4],xt[mt-2]);break;case 79:yt.commit(xt[mt-2],xt[mt-6],xt[mt],xt[mt-4]);break;case 80:yt.commit(xt[mt],xt[mt-6],xt[mt-2],xt[mt-4]);break;case 81:yt.commit(xt[mt],xt[mt-4],xt[mt-2],xt[mt-6]);break;case 82:yt.commit(xt[mt-2],xt[mt-4],xt[mt],xt[mt-6]);break;case 83:yt.commit(xt[mt],xt[mt-2],xt[mt-4],xt[mt-6]);break;case 84:yt.commit(xt[mt-2],xt[mt],xt[mt-4],xt[mt-6]);break;case 85:yt.commit(xt[mt-4],xt[mt-2],xt[mt],xt[mt-6]);break;case 86:yt.commit(xt[mt-4],xt[mt],xt[mt-2],xt[mt-6]);break;case 87:yt.commit(xt[mt-2],xt[mt-4],xt[mt-6],xt[mt]);break;case 88:yt.commit(xt[mt],xt[mt-4],xt[mt-6],xt[mt-2]);break;case 89:yt.commit(xt[mt-2],xt[mt],xt[mt-6],xt[mt-4]);break;case 90:yt.commit(xt[mt],xt[mt-2],xt[mt-6],xt[mt-4]);break;case 91:yt.commit(xt[mt-4],xt[mt-2],xt[mt-6],xt[mt]);break;case 92:yt.commit(xt[mt-4],xt[mt],xt[mt-6],xt[mt-2]);break;case 93:this.$="";break;case 94:this.$=xt[mt];break;case 95:this.$=yt.commitType.NORMAL;break;case 96:this.$=yt.commitType.REVERSE;break;case 97:this.$=yt.commitType.HIGHLIGHT;break;case 100:yt.parseDirective("%%{","open_directive");break;case 101:yt.parseDirective(xt[mt],"type_directive");break;case 102:xt[mt]=xt[mt].trim().replace(/'/g,'"'),yt.parseDirective(xt[mt],"arg_directive");break;case 103:yt.parseDirective("}%%","close_directive","gitGraph")}},table:[{3:1,4:2,5:3,6:O,8:_,14:M,45:8,49:P,53:R},{1:[3]},{3:10,4:2,5:3,6:O,8:_,14:M,45:8,49:P,53:R},{3:11,4:2,5:3,6:O,8:_,14:M,45:8,49:P,53:R},{7:12,8:$,9:[1,13],10:[1,14],11:15,14:F},a(j,[2,104]),a(j,[2,105]),a(j,[2,106]),{46:17,50:[1,18]},{50:[2,100]},{1:[2,1]},{1:[2,2]},{8:[1,19]},{7:20,8:$,11:15,14:F},{9:[1,21]},a(X,[2,10],{12:22,13:[1,23]}),a(W,[2,9]),{9:[1,25],47:24,52:V},a([9,52],[2,101]),{1:[2,3]},{8:[1,27]},{7:28,8:$,11:15,14:F},{8:[2,7],14:[1,31],15:29,16:30,17:32,18:33,19:34,20:[1,35],22:[1,36],24:[1,37],25:[1,38],26:39,27:[1,40],29:[1,44],32:[1,43],35:[1,42],37:[1,41]},a(W,[2,8]),a(K,[2,98]),{48:45,51:[1,46]},a(K,[2,103]),{1:[2,4]},{8:[1,47]},a(X,[2,11]),{4:48,8:_,14:M,53:R},a(X,[2,13]),a(st,[2,14]),a(st,[2,15]),a(st,[2,16]),{21:[1,49]},{23:[1,50]},a(st,[2,19]),a(st,[2,20]),a(st,[2,21]),{28:[1,51]},a(st,[2,93],{38:52,33:[1,55],34:[1,57],36:[1,53],39:[1,54],41:[1,56]}),{28:[1,58]},{33:[1,59]},{28:[1,60]},{47:61,52:V},{52:[2,102]},{1:[2,5]},a(X,[2,12]),a(st,[2,17]),a(st,[2,18]),a(st,[2,22]),a(st,[2,28]),{34:[1,62]},{40:63,42:it,43:pt,44:ct},{34:[1,67]},{34:[1,68]},a(st,[2,94]),a(st,[2,26],{36:[1,69]}),{34:[1,70]},a(st,[2,23],{30:[1,71]}),a(K,[2,99]),a(st,[2,29],{33:[1,73],39:[1,72],41:[1,74]}),a(st,[2,30],{33:[1,76],36:[1,75],41:[1,77]}),a(lt,[2,95]),a(lt,[2,96]),a(lt,[2,97]),a(st,[2,33],{36:[1,78],39:[1,79],41:[1,80]}),a(st,[2,44],{33:[1,83],36:[1,81],39:[1,82]}),{34:[1,84]},a(st,[2,25]),{31:[1,85]},{40:86,42:it,43:pt,44:ct},{34:[1,87]},{34:[1,88]},{34:[1,89]},{34:[1,90]},{34:[1,91]},{34:[1,92]},{40:93,42:it,43:pt,44:ct},{34:[1,94]},{34:[1,95]},{40:96,42:it,43:pt,44:ct},{34:[1,97]},a(st,[2,27]),a(st,[2,24]),a(st,[2,31],{33:[1,98],41:[1,99]}),a(st,[2,35],{39:[1,100],41:[1,101]}),a(st,[2,45],{33:[1,103],39:[1,102]}),a(st,[2,32],{33:[1,104],41:[1,105]}),a(st,[2,37],{36:[1,106],41:[1,107]}),a(st,[2,48],{33:[1,109],36:[1,108]}),a(st,[2,34],{39:[1,110],41:[1,111]}),a(st,[2,36],{36:[1,112],41:[1,113]}),a(st,[2,49],{36:[1,115],39:[1,114]}),a(st,[2,46],{33:[1,117],39:[1,116]}),a(st,[2,47],{33:[1,119],36:[1,118]}),a(st,[2,50],{36:[1,121],39:[1,120]}),{34:[1,122]},{34:[1,123]},{40:124,42:it,43:pt,44:ct},{34:[1,125]},{40:126,42:it,43:pt,44:ct},{34:[1,127]},{34:[1,128]},{34:[1,129]},{34:[1,130]},{34:[1,131]},{34:[1,132]},{34:[1,133]},{40:134,42:it,43:pt,44:ct},{34:[1,135]},{34:[1,136]},{34:[1,137]},{40:138,42:it,43:pt,44:ct},{34:[1,139]},{40:140,42:it,43:pt,44:ct},{34:[1,141]},{34:[1,142]},{34:[1,143]},{40:144,42:it,43:pt,44:ct},{34:[1,145]},a(st,[2,42],{41:[1,146]}),a(st,[2,55],{33:[1,147]}),a(st,[2,43],{41:[1,148]}),a(st,[2,66],{39:[1,149]}),a(st,[2,56],{33:[1,150]}),a(st,[2,65],{39:[1,151]}),a(st,[2,41],{41:[1,152]}),a(st,[2,54],{33:[1,153]}),a(st,[2,40],{41:[1,154]}),a(st,[2,60],{36:[1,155]}),a(st,[2,53],{33:[1,156]}),a(st,[2,59],{36:[1,157]}),a(st,[2,39],{41:[1,158]}),a(st,[2,67],{39:[1,159]}),a(st,[2,38],{41:[1,160]}),a(st,[2,61],{36:[1,161]}),a(st,[2,62],{36:[1,162]}),a(st,[2,68],{39:[1,163]}),a(st,[2,52],{33:[1,164]}),a(st,[2,63],{39:[1,165]}),a(st,[2,51],{33:[1,166]}),a(st,[2,57],{36:[1,167]}),a(st,[2,58],{36:[1,168]}),a(st,[2,64],{39:[1,169]}),{34:[1,170]},{34:[1,171]},{34:[1,172]},{40:173,42:it,43:pt,44:ct},{34:[1,174]},{40:175,42:it,43:pt,44:ct},{34:[1,176]},{34:[1,177]},{34:[1,178]},{34:[1,179]},{34:[1,180]},{34:[1,181]},{34:[1,182]},{40:183,42:it,43:pt,44:ct},{34:[1,184]},{34:[1,185]},{34:[1,186]},{40:187,42:it,43:pt,44:ct},{34:[1,188]},{40:189,42:it,43:pt,44:ct},{34:[1,190]},{34:[1,191]},{34:[1,192]},{40:193,42:it,43:pt,44:ct},a(st,[2,83]),a(st,[2,84]),a(st,[2,81]),a(st,[2,82]),a(st,[2,86]),a(st,[2,85]),a(st,[2,90]),a(st,[2,89]),a(st,[2,88]),a(st,[2,87]),a(st,[2,92]),a(st,[2,91]),a(st,[2,80]),a(st,[2,79]),a(st,[2,78]),a(st,[2,77]),a(st,[2,75]),a(st,[2,76]),a(st,[2,74]),a(st,[2,73]),a(st,[2,72]),a(st,[2,71]),a(st,[2,69]),a(st,[2,70])],defaultActions:{9:[2,100],10:[2,1],11:[2,2],19:[2,3],27:[2,4],46:[2,102],47:[2,5]},parseError:function(Ct,St){if(!St.recoverable){var at=new Error(Ct);throw at.hash=St,at}this.trace(Ct)},parse:function(Ct){var St=this,at=[0],yt=[],kt=[null],xt=[],Pt=this.table,mt="",Yt=0,ne=0,Qt=0,Kt=2,Xt=1,se=xt.slice.call(arguments,1),ue=Object.create(this.lexer),re={yy:{}};for(var _t in this.yy)Object.prototype.hasOwnProperty.call(this.yy,_t)&&(re.yy[_t]=this.yy[_t]);ue.setInput(Ct,re.yy),re.yy.lexer=ue,re.yy.parser=this,ue.yylloc===void 0&&(ue.yylloc={});var ut=ue.yylloc;xt.push(ut);var Mt=ue.options&&ue.options.ranges;function qt(){var Te;return typeof(Te=yt.pop()||ue.lex()||Xt)!="number"&&(Te instanceof Array&&(Te=(yt=Te).pop()),Te=St.symbols_[Te]||Te),Te}typeof re.yy.parseError=="function"?this.parseError=re.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var Nt,Vt,Ut,Wt,Ft,jt,ee,Lt,he,Ht={};;){if(Ut=at[at.length-1],this.defaultActions[Ut]?Wt=this.defaultActions[Ut]:(Nt==null&&(Nt=qt()),Wt=Pt[Ut]&&Pt[Ut][Nt]),Wt===void 0||!Wt.length||!Wt[0]){var Se="";for(jt in he=[],Pt[Ut])this.terminals_[jt]&&jt>Kt&&he.push("'"+this.terminals_[jt]+"'");Se=ue.showPosition?"Parse error on line "+(Yt+1)+`:
`+ue.showPosition()+`
Expecting `+he.join(", ")+", got '"+(this.terminals_[Nt]||Nt)+"'":"Parse error on line "+(Yt+1)+": Unexpected "+(Nt==Xt?"end of input":"'"+(this.terminals_[Nt]||Nt)+"'"),this.parseError(Se,{text:ue.match,token:this.terminals_[Nt]||Nt,line:ue.yylineno,loc:ut,expected:he})}if(Wt[0]instanceof Array&&Wt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ut+", token: "+Nt);switch(Wt[0]){case 1:at.push(Nt),kt.push(ue.yytext),xt.push(ue.yylloc),at.push(Wt[1]),Nt=null,Vt?(Nt=Vt,Vt=null):(ne=ue.yyleng,mt=ue.yytext,Yt=ue.yylineno,ut=ue.yylloc,Qt>0);break;case 2:if(ee=this.productions_[Wt[1]][1],Ht.$=kt[kt.length-ee],Ht._$={first_line:xt[xt.length-(ee||1)].first_line,last_line:xt[xt.length-1].last_line,first_column:xt[xt.length-(ee||1)].first_column,last_column:xt[xt.length-1].last_column},Mt&&(Ht._$.range=[xt[xt.length-(ee||1)].range[0],xt[xt.length-1].range[1]]),(Ft=this.performAction.apply(Ht,[mt,ne,Yt,re.yy,Wt[1],kt,xt].concat(se)))!==void 0)return Ft;ee&&(at=at.slice(0,-1*ee*2),kt=kt.slice(0,-1*ee),xt=xt.slice(0,-1*ee)),at.push(this.productions_[Wt[1]][0]),kt.push(Ht.$),xt.push(Ht._$),Lt=Pt[at[at.length-2]][at[at.length-1]],at.push(Lt);break;case 3:return!0}}return!0}},Bt={EOF:1,parseError:function(Ct,St){if(!this.yy.parser)throw new Error(Ct);this.yy.parser.parseError(Ct,St)},setInput:function(Ct,St){return this.yy=St||this.yy||{},this._input=Ct,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Ct=this._input[0];return this.yytext+=Ct,this.yyleng++,this.offset++,this.match+=Ct,this.matched+=Ct,Ct.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Ct},unput:function(Ct){var St=Ct.length,at=Ct.split(/(?:\r\n?|\n)/g);this._input=Ct+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-St),this.offset-=St;var yt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),at.length-1&&(this.yylineno-=at.length-1);var kt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:at?(at.length===yt.length?this.yylloc.first_column:0)+yt[yt.length-at.length].length-at[0].length:this.yylloc.first_column-St},this.options.ranges&&(this.yylloc.range=[kt[0],kt[0]+this.yyleng-St]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(Ct){this.unput(this.match.slice(Ct))},pastInput:function(){var Ct=this.matched.substr(0,this.matched.length-this.match.length);return(Ct.length>20?"...":"")+Ct.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Ct=this.match;return Ct.length<20&&(Ct+=this._input.substr(0,20-Ct.length)),(Ct.substr(0,20)+(Ct.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Ct=this.pastInput(),St=new Array(Ct.length+1).join("-");return Ct+this.upcomingInput()+`
`+St+"^"},test_match:function(Ct,St){var at,yt,kt;if(this.options.backtrack_lexer&&(kt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(kt.yylloc.range=this.yylloc.range.slice(0))),(yt=Ct[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=yt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:yt?yt[yt.length-1].length-yt[yt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Ct[0].length},this.yytext+=Ct[0],this.match+=Ct[0],this.matches=Ct,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Ct[0].length),this.matched+=Ct[0],at=this.performAction.call(this,this.yy,this,St,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),at)return at;if(this._backtrack){for(var xt in kt)this[xt]=kt[xt];return!1}return!1},next:function(){if(this.done)return this.EOF;var Ct,St,at,yt;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var kt=this._currentRules(),xt=0;xt<kt.length;xt++)if((at=this._input.match(this.rules[kt[xt]]))&&(!St||at[0].length>St[0].length)){if(St=at,yt=xt,this.options.backtrack_lexer){if((Ct=this.test_match(at,kt[xt]))!==!1)return Ct;if(this._backtrack){St=!1;continue}return!1}if(!this.options.flex)break}return St?(Ct=this.test_match(St,kt[yt]))!==!1&&Ct:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(Ct){this.conditionStack.push(Ct)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Ct){return(Ct=this.conditionStack.length-1-Math.abs(Ct||0))>=0?this.conditionStack[Ct]:"INITIAL"},pushState:function(Ct){this.begin(Ct)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(Ct,St,at,yt){switch(at){case 0:return this.begin("open_directive"),49;case 1:return this.begin("type_directive"),50;case 2:return this.popState(),this.begin("arg_directive"),9;case 3:return this.popState(),this.popState(),52;case 4:return 51;case 5:return this.begin("acc_title"),20;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),22;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:case 35:case 38:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:return 14;case 13:case 14:case 15:break;case 16:return 6;case 17:return 37;case 18:return 33;case 19:return 39;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 36;case 25:return 29;case 26:return 30;case 27:return 35;case 28:return 32;case 29:return 27;case 30:case 31:return 10;case 32:return 9;case 33:return"CARET";case 34:this.begin("options");break;case 36:return 13;case 37:this.begin("string");break;case 39:return 34;case 40:return 31;case 41:return 28;case 42:return 8}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:gitGraph\b)/i,/^(?:commit\b)/i,/^(?:id:)/i,/^(?:type:)/i,/^(?:msg:)/i,/^(?:NORMAL\b)/i,/^(?:REVERSE\b)/i,/^(?:HIGHLIGHT\b)/i,/^(?:tag:)/i,/^(?:branch\b)/i,/^(?:order:)/i,/^(?:merge\b)/i,/^(?:cherry-pick\b)/i,/^(?:checkout\b)/i,/^(?:LR\b)/i,/^(?:BT\b)/i,/^(?::)/i,/^(?:\^)/i,/^(?:options\r?\n)/i,/^(?:[ \r\n\t]+end\b)/i,/^(?:[\s\S]+(?=[ \r\n\t]+end))/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[0-9]+)/i,/^(?:[a-zA-Z][-_\./a-zA-Z0-9]*[-_a-zA-Z0-9])/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},options:{rules:[35,36],inclusive:!1},string:{rules:[38,39],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,37,40,41,42],inclusive:!0}}};function Tt(){this.yy={}}return J.lexer=Bt,Tt.prototype=J,J.Parser=Tt,new Tt}();C.parser=h,C.Parser=h.Parser,C.parse=function(){return h.parse.apply(h,arguments)},C.main=function(a){a[1]||(console.log("Usage: "+a[0]+" FILE"),process.exit(1));var O=v("?2b40").readFileSync(v("./node_modules/path-browserify/index.js").normalize(a[1]),"utf8");return C.parser.parse(O)},v.c[v.s]===E&&C.main(process.argv.slice(1))},"./src/diagrams/info/parser/info.jison":(E,C,v)=>{E=v.nmd(E);var h=function(){var a=function(R,$,F,j){for(F=F||{},j=R.length;j--;F[R[j]]=$);return F},O=[6,9,10],_={trace:function(){},yy:{},symbols_:{error:2,start:3,info:4,document:5,EOF:6,line:7,statement:8,NL:9,showInfo:10,$accept:0,$end:1},terminals_:{2:"error",4:"info",6:"EOF",9:"NL",10:"showInfo"},productions_:[0,[3,3],[5,0],[5,2],[7,1],[7,1],[8,1]],performAction:function(R,$,F,j,X,W,V){switch(W.length,X){case 1:return j;case 4:break;case 6:j.setInfo(!0)}},table:[{3:1,4:[1,2]},{1:[3]},a(O,[2,2],{5:3}),{6:[1,4],7:5,8:6,9:[1,7],10:[1,8]},{1:[2,1]},a(O,[2,3]),a(O,[2,4]),a(O,[2,5]),a(O,[2,6])],defaultActions:{4:[2,1]},parseError:function(R,$){if(!$.recoverable){var F=new Error(R);throw F.hash=$,F}this.trace(R)},parse:function(R){var $=this,F=[0],j=[],X=[null],W=[],V=this.table,K="",st=0,it=0,pt=0,ct=2,lt=1,J=W.slice.call(arguments,1),Bt=Object.create(this.lexer),Tt={yy:{}};for(var Ct in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ct)&&(Tt.yy[Ct]=this.yy[Ct]);Bt.setInput(R,Tt.yy),Tt.yy.lexer=Bt,Tt.yy.parser=this,Bt.yylloc===void 0&&(Bt.yylloc={});var St=Bt.yylloc;W.push(St);var at=Bt.options&&Bt.options.ranges;function yt(){var re;return typeof(re=j.pop()||Bt.lex()||lt)!="number"&&(re instanceof Array&&(re=(j=re).pop()),re=$.symbols_[re]||re),re}typeof Tt.yy.parseError=="function"?this.parseError=Tt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var kt,xt,Pt,mt,Yt,ne,Qt,Kt,Xt,se={};;){if(Pt=F[F.length-1],this.defaultActions[Pt]?mt=this.defaultActions[Pt]:(kt==null&&(kt=yt()),mt=V[Pt]&&V[Pt][kt]),mt===void 0||!mt.length||!mt[0]){var ue="";for(ne in Xt=[],V[Pt])this.terminals_[ne]&&ne>ct&&Xt.push("'"+this.terminals_[ne]+"'");ue=Bt.showPosition?"Parse error on line "+(st+1)+`:
`+Bt.showPosition()+`
Expecting `+Xt.join(", ")+", got '"+(this.terminals_[kt]||kt)+"'":"Parse error on line "+(st+1)+": Unexpected "+(kt==lt?"end of input":"'"+(this.terminals_[kt]||kt)+"'"),this.parseError(ue,{text:Bt.match,token:this.terminals_[kt]||kt,line:Bt.yylineno,loc:St,expected:Xt})}if(mt[0]instanceof Array&&mt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Pt+", token: "+kt);switch(mt[0]){case 1:F.push(kt),X.push(Bt.yytext),W.push(Bt.yylloc),F.push(mt[1]),kt=null,xt?(kt=xt,xt=null):(it=Bt.yyleng,K=Bt.yytext,st=Bt.yylineno,St=Bt.yylloc,pt>0);break;case 2:if(Qt=this.productions_[mt[1]][1],se.$=X[X.length-Qt],se._$={first_line:W[W.length-(Qt||1)].first_line,last_line:W[W.length-1].last_line,first_column:W[W.length-(Qt||1)].first_column,last_column:W[W.length-1].last_column},at&&(se._$.range=[W[W.length-(Qt||1)].range[0],W[W.length-1].range[1]]),(Yt=this.performAction.apply(se,[K,it,st,Tt.yy,mt[1],X,W].concat(J)))!==void 0)return Yt;Qt&&(F=F.slice(0,-1*Qt*2),X=X.slice(0,-1*Qt),W=W.slice(0,-1*Qt)),F.push(this.productions_[mt[1]][0]),X.push(se.$),W.push(se._$),Kt=V[F[F.length-2]][F[F.length-1]],F.push(Kt);break;case 3:return!0}}return!0}},M={EOF:1,parseError:function(R,$){if(!this.yy.parser)throw new Error(R);this.yy.parser.parseError(R,$)},setInput:function(R,$){return this.yy=$||this.yy||{},this._input=R,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var R=this._input[0];return this.yytext+=R,this.yyleng++,this.offset++,this.match+=R,this.matched+=R,R.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),R},unput:function(R){var $=R.length,F=R.split(/(?:\r\n?|\n)/g);this._input=R+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-$),this.offset-=$;var j=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),F.length-1&&(this.yylineno-=F.length-1);var X=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:F?(F.length===j.length?this.yylloc.first_column:0)+j[j.length-F.length].length-F[0].length:this.yylloc.first_column-$},this.options.ranges&&(this.yylloc.range=[X[0],X[0]+this.yyleng-$]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(R){this.unput(this.match.slice(R))},pastInput:function(){var R=this.matched.substr(0,this.matched.length-this.match.length);return(R.length>20?"...":"")+R.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var R=this.match;return R.length<20&&(R+=this._input.substr(0,20-R.length)),(R.substr(0,20)+(R.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var R=this.pastInput(),$=new Array(R.length+1).join("-");return R+this.upcomingInput()+`
`+$+"^"},test_match:function(R,$){var F,j,X;if(this.options.backtrack_lexer&&(X={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(X.yylloc.range=this.yylloc.range.slice(0))),(j=R[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=j.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:j?j[j.length-1].length-j[j.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+R[0].length},this.yytext+=R[0],this.match+=R[0],this.matches=R,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(R[0].length),this.matched+=R[0],F=this.performAction.call(this,this.yy,this,$,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),F)return F;if(this._backtrack){for(var W in X)this[W]=X[W];return!1}return!1},next:function(){if(this.done)return this.EOF;var R,$,F,j;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var X=this._currentRules(),W=0;W<X.length;W++)if((F=this._input.match(this.rules[X[W]]))&&(!$||F[0].length>$[0].length)){if($=F,j=W,this.options.backtrack_lexer){if((R=this.test_match(F,X[W]))!==!1)return R;if(this._backtrack){$=!1;continue}return!1}if(!this.options.flex)break}return $?(R=this.test_match($,X[j]))!==!1&&R:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(R){this.conditionStack.push(R)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(R){return(R=this.conditionStack.length-1-Math.abs(R||0))>=0?this.conditionStack[R]:"INITIAL"},pushState:function(R){this.begin(R)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(R,$,F,j){switch(F){case 0:return 4;case 1:return 9;case 2:return"space";case 3:return 10;case 4:return 6;case 5:return"TXT"}},rules:[/^(?:info\b)/i,/^(?:[\s\n\r]+)/i,/^(?:[\s]+)/i,/^(?:showInfo\b)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5],inclusive:!0}}};function P(){this.yy={}}return _.lexer=M,P.prototype=_,_.Parser=P,new P}();C.parser=h,C.Parser=h.Parser,C.parse=function(){return h.parse.apply(h,arguments)},C.main=function(a){a[1]||(console.log("Usage: "+a[0]+" FILE"),process.exit(1));var O=v("?c5f1").readFileSync(v("./node_modules/path-browserify/index.js").normalize(a[1]),"utf8");return C.parser.parse(O)},v.c[v.s]===E&&C.main(process.argv.slice(1))},"./src/diagrams/pie/parser/pie.jison":(E,C,v)=>{E=v.nmd(E);var h=function(){var a=function(St,at,yt,kt){for(yt=yt||{},kt=St.length;kt--;yt[St[kt]]=at);return yt},O=[1,4],_=[1,5],M=[1,6],P=[1,7],R=[1,9],$=[1,11,13,15,17,19,20,26,27,28,29],F=[2,5],j=[1,6,11,13,15,17,19,20,26,27,28,29],X=[26,27,28],W=[2,8],V=[1,18],K=[1,19],st=[1,20],it=[1,21],pt=[1,22],ct=[1,23],lt=[1,28],J=[6,26,27,28,29],Bt={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,PIE:6,document:7,showData:8,line:9,statement:10,txt:11,value:12,title:13,title_value:14,acc_title:15,acc_title_value:16,acc_descr:17,acc_descr_value:18,acc_descr_multiline_value:19,section:20,openDirective:21,typeDirective:22,closeDirective:23,":":24,argDirective:25,NEWLINE:26,";":27,EOF:28,open_directive:29,type_directive:30,arg_directive:31,close_directive:32,$accept:0,$end:1},terminals_:{2:"error",6:"PIE",8:"showData",11:"txt",12:"value",13:"title",14:"title_value",15:"acc_title",16:"acc_title_value",17:"acc_descr",18:"acc_descr_value",19:"acc_descr_multiline_value",20:"section",24:":",26:"NEWLINE",27:";",28:"EOF",29:"open_directive",30:"type_directive",31:"arg_directive",32:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,3],[7,0],[7,2],[9,2],[10,0],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,1],[5,3],[5,5],[4,1],[4,1],[4,1],[21,1],[22,1],[25,1],[23,1]],performAction:function(St,at,yt,kt,xt,Pt,mt){var Yt=Pt.length-1;switch(xt){case 4:kt.setShowData(!0);break;case 7:this.$=Pt[Yt-1];break;case 9:kt.addSection(Pt[Yt-1],kt.cleanupValue(Pt[Yt]));break;case 10:this.$=Pt[Yt].trim(),kt.setDiagramTitle(this.$);break;case 11:this.$=Pt[Yt].trim(),kt.setAccTitle(this.$);break;case 12:case 13:this.$=Pt[Yt].trim(),kt.setAccDescription(this.$);break;case 14:kt.addSection(Pt[Yt].substr(8)),this.$=Pt[Yt].substr(8);break;case 21:kt.parseDirective("%%{","open_directive");break;case 22:kt.parseDirective(Pt[Yt],"type_directive");break;case 23:Pt[Yt]=Pt[Yt].trim().replace(/'/g,'"'),kt.parseDirective(Pt[Yt],"arg_directive");break;case 24:kt.parseDirective("}%%","close_directive","pie")}},table:[{3:1,4:2,5:3,6:O,21:8,26:_,27:M,28:P,29:R},{1:[3]},{3:10,4:2,5:3,6:O,21:8,26:_,27:M,28:P,29:R},{3:11,4:2,5:3,6:O,21:8,26:_,27:M,28:P,29:R},a($,F,{7:12,8:[1,13]}),a(j,[2,18]),a(j,[2,19]),a(j,[2,20]),{22:14,30:[1,15]},{30:[2,21]},{1:[2,1]},{1:[2,2]},a(X,W,{21:8,9:16,10:17,5:24,1:[2,3],11:V,13:K,15:st,17:it,19:pt,20:ct,29:R}),a($,F,{7:25}),{23:26,24:[1,27],32:lt},a([24,32],[2,22]),a($,[2,6]),{4:29,26:_,27:M,28:P},{12:[1,30]},{14:[1,31]},{16:[1,32]},{18:[1,33]},a(X,[2,13]),a(X,[2,14]),a(X,[2,15]),a(X,W,{21:8,9:16,10:17,5:24,1:[2,4],11:V,13:K,15:st,17:it,19:pt,20:ct,29:R}),a(J,[2,16]),{25:34,31:[1,35]},a(J,[2,24]),a($,[2,7]),a(X,[2,9]),a(X,[2,10]),a(X,[2,11]),a(X,[2,12]),{23:36,32:lt},{32:[2,23]},a(J,[2,17])],defaultActions:{9:[2,21],10:[2,1],11:[2,2],35:[2,23]},parseError:function(St,at){if(!at.recoverable){var yt=new Error(St);throw yt.hash=at,yt}this.trace(St)},parse:function(St){var at=this,yt=[0],kt=[],xt=[null],Pt=[],mt=this.table,Yt="",ne=0,Qt=0,Kt=0,Xt=2,se=1,ue=Pt.slice.call(arguments,1),re=Object.create(this.lexer),_t={yy:{}};for(var ut in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ut)&&(_t.yy[ut]=this.yy[ut]);re.setInput(St,_t.yy),_t.yy.lexer=re,_t.yy.parser=this,re.yylloc===void 0&&(re.yylloc={});var Mt=re.yylloc;Pt.push(Mt);var qt=re.options&&re.options.ranges;function Nt(){var we;return typeof(we=kt.pop()||re.lex()||se)!="number"&&(we instanceof Array&&(we=(kt=we).pop()),we=at.symbols_[we]||we),we}typeof _t.yy.parseError=="function"?this.parseError=_t.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var Vt,Ut,Wt,Ft,jt,ee,Lt,he,Ht,Se={};;){if(Wt=yt[yt.length-1],this.defaultActions[Wt]?Ft=this.defaultActions[Wt]:(Vt==null&&(Vt=Nt()),Ft=mt[Wt]&&mt[Wt][Vt]),Ft===void 0||!Ft.length||!Ft[0]){var Te="";for(ee in Ht=[],mt[Wt])this.terminals_[ee]&&ee>Xt&&Ht.push("'"+this.terminals_[ee]+"'");Te=re.showPosition?"Parse error on line "+(ne+1)+`:
`+re.showPosition()+`
Expecting `+Ht.join(", ")+", got '"+(this.terminals_[Vt]||Vt)+"'":"Parse error on line "+(ne+1)+": Unexpected "+(Vt==se?"end of input":"'"+(this.terminals_[Vt]||Vt)+"'"),this.parseError(Te,{text:re.match,token:this.terminals_[Vt]||Vt,line:re.yylineno,loc:Mt,expected:Ht})}if(Ft[0]instanceof Array&&Ft.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Wt+", token: "+Vt);switch(Ft[0]){case 1:yt.push(Vt),xt.push(re.yytext),Pt.push(re.yylloc),yt.push(Ft[1]),Vt=null,Ut?(Vt=Ut,Ut=null):(Qt=re.yyleng,Yt=re.yytext,ne=re.yylineno,Mt=re.yylloc,Kt>0);break;case 2:if(Lt=this.productions_[Ft[1]][1],Se.$=xt[xt.length-Lt],Se._$={first_line:Pt[Pt.length-(Lt||1)].first_line,last_line:Pt[Pt.length-1].last_line,first_column:Pt[Pt.length-(Lt||1)].first_column,last_column:Pt[Pt.length-1].last_column},qt&&(Se._$.range=[Pt[Pt.length-(Lt||1)].range[0],Pt[Pt.length-1].range[1]]),(jt=this.performAction.apply(Se,[Yt,Qt,ne,_t.yy,Ft[1],xt,Pt].concat(ue)))!==void 0)return jt;Lt&&(yt=yt.slice(0,-1*Lt*2),xt=xt.slice(0,-1*Lt),Pt=Pt.slice(0,-1*Lt)),yt.push(this.productions_[Ft[1]][0]),xt.push(Se.$),Pt.push(Se._$),he=mt[yt[yt.length-2]][yt[yt.length-1]],yt.push(he);break;case 3:return!0}}return!0}},Tt={EOF:1,parseError:function(St,at){if(!this.yy.parser)throw new Error(St);this.yy.parser.parseError(St,at)},setInput:function(St,at){return this.yy=at||this.yy||{},this._input=St,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var St=this._input[0];return this.yytext+=St,this.yyleng++,this.offset++,this.match+=St,this.matched+=St,St.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),St},unput:function(St){var at=St.length,yt=St.split(/(?:\r\n?|\n)/g);this._input=St+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-at),this.offset-=at;var kt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),yt.length-1&&(this.yylineno-=yt.length-1);var xt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:yt?(yt.length===kt.length?this.yylloc.first_column:0)+kt[kt.length-yt.length].length-yt[0].length:this.yylloc.first_column-at},this.options.ranges&&(this.yylloc.range=[xt[0],xt[0]+this.yyleng-at]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(St){this.unput(this.match.slice(St))},pastInput:function(){var St=this.matched.substr(0,this.matched.length-this.match.length);return(St.length>20?"...":"")+St.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var St=this.match;return St.length<20&&(St+=this._input.substr(0,20-St.length)),(St.substr(0,20)+(St.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var St=this.pastInput(),at=new Array(St.length+1).join("-");return St+this.upcomingInput()+`
`+at+"^"},test_match:function(St,at){var yt,kt,xt;if(this.options.backtrack_lexer&&(xt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(xt.yylloc.range=this.yylloc.range.slice(0))),(kt=St[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=kt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:kt?kt[kt.length-1].length-kt[kt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+St[0].length},this.yytext+=St[0],this.match+=St[0],this.matches=St,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(St[0].length),this.matched+=St[0],yt=this.performAction.call(this,this.yy,this,at,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),yt)return yt;if(this._backtrack){for(var Pt in xt)this[Pt]=xt[Pt];return!1}return!1},next:function(){if(this.done)return this.EOF;var St,at,yt,kt;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var xt=this._currentRules(),Pt=0;Pt<xt.length;Pt++)if((yt=this._input.match(this.rules[xt[Pt]]))&&(!at||yt[0].length>at[0].length)){if(at=yt,kt=Pt,this.options.backtrack_lexer){if((St=this.test_match(yt,xt[Pt]))!==!1)return St;if(this._backtrack){at=!1;continue}return!1}if(!this.options.flex)break}return at?(St=this.test_match(at,xt[kt]))!==!1&&St:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(St){this.conditionStack.push(St)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(St){return(St=this.conditionStack.length-1-Math.abs(St||0))>=0?this.conditionStack[St]:"INITIAL"},pushState:function(St){this.begin(St)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(St,at,yt,kt){switch(yt){case 0:return this.begin("open_directive"),29;case 1:return this.begin("type_directive"),30;case 2:return this.popState(),this.begin("arg_directive"),24;case 3:return this.popState(),this.popState(),32;case 4:return 31;case 5:case 6:case 8:case 9:break;case 7:return 26;case 10:return this.begin("title"),13;case 11:return this.popState(),"title_value";case 12:return this.begin("acc_title"),15;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),17;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:case 20:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:this.begin("string");break;case 21:return"txt";case 22:return 6;case 23:return 8;case 24:return"value";case 25:return 28}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:[\s]+)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:pie\b)/i,/^(?:showData\b)/i,/^(?::[\s]*[\d]+(?:\.[\d]+)?)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},title:{rules:[11],inclusive:!1},string:{rules:[20,21],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,12,14,16,19,22,23,24,25],inclusive:!0}}};function Ct(){this.yy={}}return Bt.lexer=Tt,Ct.prototype=Bt,Bt.Parser=Ct,new Ct}();C.parser=h,C.Parser=h.Parser,C.parse=function(){return h.parse.apply(h,arguments)},C.main=function(a){a[1]||(console.log("Usage: "+a[0]+" FILE"),process.exit(1));var O=v("?a3fa").readFileSync(v("./node_modules/path-browserify/index.js").normalize(a[1]),"utf8");return C.parser.parse(O)},v.c[v.s]===E&&C.main(process.argv.slice(1))},"./src/diagrams/requirement/parser/requirementDiagram.jison":(E,C,v)=>{E=v.nmd(E);var h=function(){var a=function(Ut,Wt,Ft,jt){for(Ft=Ft||{},jt=Ut.length;jt--;Ft[Ut[jt]]=Wt);return Ft},O=[1,3],_=[1,5],M=[1,6],P=[1,7],R=[1,8],$=[5,6,8,14,16,18,19,40,41,42,43,44,45,53,71,72],F=[1,22],j=[2,13],X=[1,26],W=[1,27],V=[1,28],K=[1,29],st=[1,30],it=[1,31],pt=[1,24],ct=[1,32],lt=[1,33],J=[1,36],Bt=[71,72],Tt=[5,8,14,16,18,19,40,41,42,43,44,45,53,60,62,71,72],Ct=[1,56],St=[1,57],at=[1,58],yt=[1,59],kt=[1,60],xt=[1,61],Pt=[1,62],mt=[62,63],Yt=[1,74],ne=[1,70],Qt=[1,71],Kt=[1,72],Xt=[1,73],se=[1,75],ue=[1,79],re=[1,80],_t=[1,77],ut=[1,78],Mt=[5,8,14,16,18,19,40,41,42,43,44,45,53,71,72],qt={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,openDirective:9,typeDirective:10,closeDirective:11,":":12,argDirective:13,acc_title:14,acc_title_value:15,acc_descr:16,acc_descr_value:17,acc_descr_multiline_value:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,requirementDef:23,elementDef:24,relationshipDef:25,requirementType:26,requirementName:27,STRUCT_START:28,requirementBody:29,ID:30,COLONSEP:31,id:32,TEXT:33,text:34,RISK:35,riskLevel:36,VERIFYMTHD:37,verifyType:38,STRUCT_STOP:39,REQUIREMENT:40,FUNCTIONAL_REQUIREMENT:41,INTERFACE_REQUIREMENT:42,PERFORMANCE_REQUIREMENT:43,PHYSICAL_REQUIREMENT:44,DESIGN_CONSTRAINT:45,LOW_RISK:46,MED_RISK:47,HIGH_RISK:48,VERIFY_ANALYSIS:49,VERIFY_DEMONSTRATION:50,VERIFY_INSPECTION:51,VERIFY_TEST:52,ELEMENT:53,elementName:54,elementBody:55,TYPE:56,type:57,DOCREF:58,ref:59,END_ARROW_L:60,relationship:61,LINE:62,END_ARROW_R:63,CONTAINS:64,COPIES:65,DERIVES:66,SATISFIES:67,VERIFIES:68,REFINES:69,TRACES:70,unqString:71,qString:72,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",12:":",14:"acc_title",15:"acc_title_value",16:"acc_descr",17:"acc_descr_value",18:"acc_descr_multiline_value",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",28:"STRUCT_START",30:"ID",31:"COLONSEP",33:"TEXT",35:"RISK",37:"VERIFYMTHD",39:"STRUCT_STOP",40:"REQUIREMENT",41:"FUNCTIONAL_REQUIREMENT",42:"INTERFACE_REQUIREMENT",43:"PERFORMANCE_REQUIREMENT",44:"PHYSICAL_REQUIREMENT",45:"DESIGN_CONSTRAINT",46:"LOW_RISK",47:"MED_RISK",48:"HIGH_RISK",49:"VERIFY_ANALYSIS",50:"VERIFY_DEMONSTRATION",51:"VERIFY_INSPECTION",52:"VERIFY_TEST",53:"ELEMENT",56:"TYPE",58:"DOCREF",60:"END_ARROW_L",62:"LINE",63:"END_ARROW_R",64:"CONTAINS",65:"COPIES",66:"DERIVES",67:"SATISFIES",68:"VERIFIES",69:"REFINES",70:"TRACES",71:"unqString",72:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,3],[4,5],[4,2],[4,2],[4,1],[9,1],[10,1],[13,1],[11,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[23,5],[29,5],[29,5],[29,5],[29,5],[29,2],[29,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[36,1],[36,1],[36,1],[38,1],[38,1],[38,1],[38,1],[24,5],[55,5],[55,5],[55,2],[55,1],[25,5],[25,5],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[27,1],[27,1],[32,1],[32,1],[34,1],[34,1],[54,1],[54,1],[57,1],[57,1],[59,1],[59,1]],performAction:function(Ut,Wt,Ft,jt,ee,Lt,he){var Ht=Lt.length-1;switch(ee){case 6:this.$=Lt[Ht].trim(),jt.setAccTitle(this.$);break;case 7:case 8:this.$=Lt[Ht].trim(),jt.setAccDescription(this.$);break;case 9:jt.parseDirective("%%{","open_directive");break;case 10:jt.parseDirective(Lt[Ht],"type_directive");break;case 11:Lt[Ht]=Lt[Ht].trim().replace(/'/g,'"'),jt.parseDirective(Lt[Ht],"arg_directive");break;case 12:jt.parseDirective("}%%","close_directive","pie");break;case 13:this.$=[];break;case 19:jt.addRequirement(Lt[Ht-3],Lt[Ht-4]);break;case 20:jt.setNewReqId(Lt[Ht-2]);break;case 21:jt.setNewReqText(Lt[Ht-2]);break;case 22:jt.setNewReqRisk(Lt[Ht-2]);break;case 23:jt.setNewReqVerifyMethod(Lt[Ht-2]);break;case 26:this.$=jt.RequirementType.REQUIREMENT;break;case 27:this.$=jt.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 28:this.$=jt.RequirementType.INTERFACE_REQUIREMENT;break;case 29:this.$=jt.RequirementType.PERFORMANCE_REQUIREMENT;break;case 30:this.$=jt.RequirementType.PHYSICAL_REQUIREMENT;break;case 31:this.$=jt.RequirementType.DESIGN_CONSTRAINT;break;case 32:this.$=jt.RiskLevel.LOW_RISK;break;case 33:this.$=jt.RiskLevel.MED_RISK;break;case 34:this.$=jt.RiskLevel.HIGH_RISK;break;case 35:this.$=jt.VerifyType.VERIFY_ANALYSIS;break;case 36:this.$=jt.VerifyType.VERIFY_DEMONSTRATION;break;case 37:this.$=jt.VerifyType.VERIFY_INSPECTION;break;case 38:this.$=jt.VerifyType.VERIFY_TEST;break;case 39:jt.addElement(Lt[Ht-3]);break;case 40:jt.setNewElementType(Lt[Ht-2]);break;case 41:jt.setNewElementDocRef(Lt[Ht-2]);break;case 44:jt.addRelationship(Lt[Ht-2],Lt[Ht],Lt[Ht-4]);break;case 45:jt.addRelationship(Lt[Ht-2],Lt[Ht-4],Lt[Ht]);break;case 46:this.$=jt.Relationships.CONTAINS;break;case 47:this.$=jt.Relationships.COPIES;break;case 48:this.$=jt.Relationships.DERIVES;break;case 49:this.$=jt.Relationships.SATISFIES;break;case 50:this.$=jt.Relationships.VERIFIES;break;case 51:this.$=jt.Relationships.REFINES;break;case 52:this.$=jt.Relationships.TRACES}},table:[{3:1,4:2,6:O,9:4,14:_,16:M,18:P,19:R},{1:[3]},{3:10,4:2,5:[1,9],6:O,9:4,14:_,16:M,18:P,19:R},{5:[1,11]},{10:12,20:[1,13]},{15:[1,14]},{17:[1,15]},a($,[2,8]),{20:[2,9]},{3:16,4:2,6:O,9:4,14:_,16:M,18:P,19:R},{1:[2,2]},{4:21,5:F,7:17,8:j,9:4,14:_,16:M,18:P,19:R,23:18,24:19,25:20,26:23,32:25,40:X,41:W,42:V,43:K,44:st,45:it,53:pt,71:ct,72:lt},{11:34,12:[1,35],22:J},a([12,22],[2,10]),a($,[2,6]),a($,[2,7]),{1:[2,1]},{8:[1,37]},{4:21,5:F,7:38,8:j,9:4,14:_,16:M,18:P,19:R,23:18,24:19,25:20,26:23,32:25,40:X,41:W,42:V,43:K,44:st,45:it,53:pt,71:ct,72:lt},{4:21,5:F,7:39,8:j,9:4,14:_,16:M,18:P,19:R,23:18,24:19,25:20,26:23,32:25,40:X,41:W,42:V,43:K,44:st,45:it,53:pt,71:ct,72:lt},{4:21,5:F,7:40,8:j,9:4,14:_,16:M,18:P,19:R,23:18,24:19,25:20,26:23,32:25,40:X,41:W,42:V,43:K,44:st,45:it,53:pt,71:ct,72:lt},{4:21,5:F,7:41,8:j,9:4,14:_,16:M,18:P,19:R,23:18,24:19,25:20,26:23,32:25,40:X,41:W,42:V,43:K,44:st,45:it,53:pt,71:ct,72:lt},{4:21,5:F,7:42,8:j,9:4,14:_,16:M,18:P,19:R,23:18,24:19,25:20,26:23,32:25,40:X,41:W,42:V,43:K,44:st,45:it,53:pt,71:ct,72:lt},{27:43,71:[1,44],72:[1,45]},{54:46,71:[1,47],72:[1,48]},{60:[1,49],62:[1,50]},a(Bt,[2,26]),a(Bt,[2,27]),a(Bt,[2,28]),a(Bt,[2,29]),a(Bt,[2,30]),a(Bt,[2,31]),a(Tt,[2,55]),a(Tt,[2,56]),a($,[2,4]),{13:51,21:[1,52]},a($,[2,12]),{1:[2,3]},{8:[2,14]},{8:[2,15]},{8:[2,16]},{8:[2,17]},{8:[2,18]},{28:[1,53]},{28:[2,53]},{28:[2,54]},{28:[1,54]},{28:[2,59]},{28:[2,60]},{61:55,64:Ct,65:St,66:at,67:yt,68:kt,69:xt,70:Pt},{61:63,64:Ct,65:St,66:at,67:yt,68:kt,69:xt,70:Pt},{11:64,22:J},{22:[2,11]},{5:[1,65]},{5:[1,66]},{62:[1,67]},a(mt,[2,46]),a(mt,[2,47]),a(mt,[2,48]),a(mt,[2,49]),a(mt,[2,50]),a(mt,[2,51]),a(mt,[2,52]),{63:[1,68]},a($,[2,5]),{5:Yt,29:69,30:ne,33:Qt,35:Kt,37:Xt,39:se},{5:ue,39:re,55:76,56:_t,58:ut},{32:81,71:ct,72:lt},{32:82,71:ct,72:lt},a(Mt,[2,19]),{31:[1,83]},{31:[1,84]},{31:[1,85]},{31:[1,86]},{5:Yt,29:87,30:ne,33:Qt,35:Kt,37:Xt,39:se},a(Mt,[2,25]),a(Mt,[2,39]),{31:[1,88]},{31:[1,89]},{5:ue,39:re,55:90,56:_t,58:ut},a(Mt,[2,43]),a(Mt,[2,44]),a(Mt,[2,45]),{32:91,71:ct,72:lt},{34:92,71:[1,93],72:[1,94]},{36:95,46:[1,96],47:[1,97],48:[1,98]},{38:99,49:[1,100],50:[1,101],51:[1,102],52:[1,103]},a(Mt,[2,24]),{57:104,71:[1,105],72:[1,106]},{59:107,71:[1,108],72:[1,109]},a(Mt,[2,42]),{5:[1,110]},{5:[1,111]},{5:[2,57]},{5:[2,58]},{5:[1,112]},{5:[2,32]},{5:[2,33]},{5:[2,34]},{5:[1,113]},{5:[2,35]},{5:[2,36]},{5:[2,37]},{5:[2,38]},{5:[1,114]},{5:[2,61]},{5:[2,62]},{5:[1,115]},{5:[2,63]},{5:[2,64]},{5:Yt,29:116,30:ne,33:Qt,35:Kt,37:Xt,39:se},{5:Yt,29:117,30:ne,33:Qt,35:Kt,37:Xt,39:se},{5:Yt,29:118,30:ne,33:Qt,35:Kt,37:Xt,39:se},{5:Yt,29:119,30:ne,33:Qt,35:Kt,37:Xt,39:se},{5:ue,39:re,55:120,56:_t,58:ut},{5:ue,39:re,55:121,56:_t,58:ut},a(Mt,[2,20]),a(Mt,[2,21]),a(Mt,[2,22]),a(Mt,[2,23]),a(Mt,[2,40]),a(Mt,[2,41])],defaultActions:{8:[2,9],10:[2,2],16:[2,1],37:[2,3],38:[2,14],39:[2,15],40:[2,16],41:[2,17],42:[2,18],44:[2,53],45:[2,54],47:[2,59],48:[2,60],52:[2,11],93:[2,57],94:[2,58],96:[2,32],97:[2,33],98:[2,34],100:[2,35],101:[2,36],102:[2,37],103:[2,38],105:[2,61],106:[2,62],108:[2,63],109:[2,64]},parseError:function(Ut,Wt){if(!Wt.recoverable){var Ft=new Error(Ut);throw Ft.hash=Wt,Ft}this.trace(Ut)},parse:function(Ut){var Wt=this,Ft=[0],jt=[],ee=[null],Lt=[],he=this.table,Ht="",Se=0,Te=0,we=0,Ue=2,We=1,De=Lt.slice.call(arguments,1),me=Object.create(this.lexer),Oe={yy:{}};for(var Pe in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Pe)&&(Oe.yy[Pe]=this.yy[Pe]);me.setInput(Ut,Oe.yy),Oe.yy.lexer=me,Oe.yy.parser=this,me.yylloc===void 0&&(me.yylloc={});var ze=me.yylloc;Lt.push(ze);var He=me.options&&me.options.ranges;function dn(){var Ge;return typeof(Ge=jt.pop()||me.lex()||We)!="number"&&(Ge instanceof Array&&(Ge=(jt=Ge).pop()),Ge=Wt.symbols_[Ge]||Ge),Ge}typeof Oe.yy.parseError=="function"?this.parseError=Oe.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var Mn,Kn,an,mn,Bn,Rn,$n,sn,on,yn={};;){if(an=Ft[Ft.length-1],this.defaultActions[an]?mn=this.defaultActions[an]:(Mn==null&&(Mn=dn()),mn=he[an]&&he[an][Mn]),mn===void 0||!mn.length||!mn[0]){var Sn="";for(Rn in on=[],he[an])this.terminals_[Rn]&&Rn>Ue&&on.push("'"+this.terminals_[Rn]+"'");Sn=me.showPosition?"Parse error on line "+(Se+1)+`:
`+me.showPosition()+`
Expecting `+on.join(", ")+", got '"+(this.terminals_[Mn]||Mn)+"'":"Parse error on line "+(Se+1)+": Unexpected "+(Mn==We?"end of input":"'"+(this.terminals_[Mn]||Mn)+"'"),this.parseError(Sn,{text:me.match,token:this.terminals_[Mn]||Mn,line:me.yylineno,loc:ze,expected:on})}if(mn[0]instanceof Array&&mn.length>1)throw new Error("Parse Error: multiple actions possible at state: "+an+", token: "+Mn);switch(mn[0]){case 1:Ft.push(Mn),ee.push(me.yytext),Lt.push(me.yylloc),Ft.push(mn[1]),Mn=null,Kn?(Mn=Kn,Kn=null):(Te=me.yyleng,Ht=me.yytext,Se=me.yylineno,ze=me.yylloc,we>0);break;case 2:if($n=this.productions_[mn[1]][1],yn.$=ee[ee.length-$n],yn._$={first_line:Lt[Lt.length-($n||1)].first_line,last_line:Lt[Lt.length-1].last_line,first_column:Lt[Lt.length-($n||1)].first_column,last_column:Lt[Lt.length-1].last_column},He&&(yn._$.range=[Lt[Lt.length-($n||1)].range[0],Lt[Lt.length-1].range[1]]),(Bn=this.performAction.apply(yn,[Ht,Te,Se,Oe.yy,mn[1],ee,Lt].concat(De)))!==void 0)return Bn;$n&&(Ft=Ft.slice(0,-1*$n*2),ee=ee.slice(0,-1*$n),Lt=Lt.slice(0,-1*$n)),Ft.push(this.productions_[mn[1]][0]),ee.push(yn.$),Lt.push(yn._$),sn=he[Ft[Ft.length-2]][Ft[Ft.length-1]],Ft.push(sn);break;case 3:return!0}}return!0}},Nt={EOF:1,parseError:function(Ut,Wt){if(!this.yy.parser)throw new Error(Ut);this.yy.parser.parseError(Ut,Wt)},setInput:function(Ut,Wt){return this.yy=Wt||this.yy||{},this._input=Ut,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Ut=this._input[0];return this.yytext+=Ut,this.yyleng++,this.offset++,this.match+=Ut,this.matched+=Ut,Ut.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Ut},unput:function(Ut){var Wt=Ut.length,Ft=Ut.split(/(?:\r\n?|\n)/g);this._input=Ut+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Wt),this.offset-=Wt;var jt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Ft.length-1&&(this.yylineno-=Ft.length-1);var ee=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Ft?(Ft.length===jt.length?this.yylloc.first_column:0)+jt[jt.length-Ft.length].length-Ft[0].length:this.yylloc.first_column-Wt},this.options.ranges&&(this.yylloc.range=[ee[0],ee[0]+this.yyleng-Wt]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(Ut){this.unput(this.match.slice(Ut))},pastInput:function(){var Ut=this.matched.substr(0,this.matched.length-this.match.length);return(Ut.length>20?"...":"")+Ut.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Ut=this.match;return Ut.length<20&&(Ut+=this._input.substr(0,20-Ut.length)),(Ut.substr(0,20)+(Ut.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Ut=this.pastInput(),Wt=new Array(Ut.length+1).join("-");return Ut+this.upcomingInput()+`
`+Wt+"^"},test_match:function(Ut,Wt){var Ft,jt,ee;if(this.options.backtrack_lexer&&(ee={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ee.yylloc.range=this.yylloc.range.slice(0))),(jt=Ut[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=jt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:jt?jt[jt.length-1].length-jt[jt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Ut[0].length},this.yytext+=Ut[0],this.match+=Ut[0],this.matches=Ut,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Ut[0].length),this.matched+=Ut[0],Ft=this.performAction.call(this,this.yy,this,Wt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Ft)return Ft;if(this._backtrack){for(var Lt in ee)this[Lt]=ee[Lt];return!1}return!1},next:function(){if(this.done)return this.EOF;var Ut,Wt,Ft,jt;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var ee=this._currentRules(),Lt=0;Lt<ee.length;Lt++)if((Ft=this._input.match(this.rules[ee[Lt]]))&&(!Wt||Ft[0].length>Wt[0].length)){if(Wt=Ft,jt=Lt,this.options.backtrack_lexer){if((Ut=this.test_match(Ft,ee[Lt]))!==!1)return Ut;if(this._backtrack){Wt=!1;continue}return!1}if(!this.options.flex)break}return Wt?(Ut=this.test_match(Wt,ee[jt]))!==!1&&Ut:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(Ut){this.conditionStack.push(Ut)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Ut){return(Ut=this.conditionStack.length-1-Math.abs(Ut||0))>=0?this.conditionStack[Ut]:"INITIAL"},pushState:function(Ut){this.begin(Ut)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(Ut,Wt,Ft,jt){switch(Ft){case 0:return this.begin("open_directive"),19;case 1:return this.begin("type_directive"),20;case 2:return this.popState(),this.begin("arg_directive"),12;case 3:return this.popState(),this.popState(),22;case 4:return 21;case 5:return"title";case 6:return this.begin("acc_title"),14;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),16;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:case 53:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 5;case 14:case 15:case 16:break;case 17:return 8;case 18:return 6;case 19:return 28;case 20:return 39;case 21:return 31;case 22:return 30;case 23:return 33;case 24:return 35;case 25:return 37;case 26:return 40;case 27:return 41;case 28:return 42;case 29:return 43;case 30:return 44;case 31:return 45;case 32:return 46;case 33:return 47;case 34:return 48;case 35:return 49;case 36:return 50;case 37:return 51;case 38:return 52;case 39:return 53;case 40:return 64;case 41:return 65;case 42:return 66;case 43:return 67;case 44:return 68;case 45:return 69;case 46:return 70;case 47:return 56;case 48:return 58;case 49:return 60;case 50:return 63;case 51:return 62;case 52:this.begin("string");break;case 54:return"qString";case 55:return Wt.yytext=Wt.yytext.trim(),71}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^\r\n\{\<\>\-\=]*)/i],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},unqString:{rules:[],inclusive:!1},token:{rules:[],inclusive:!1},string:{rules:[53,54],inclusive:!1},INITIAL:{rules:[0,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,55],inclusive:!0}}};function Vt(){this.yy={}}return qt.lexer=Nt,Vt.prototype=qt,qt.Parser=Vt,new Vt}();C.parser=h,C.Parser=h.Parser,C.parse=function(){return h.parse.apply(h,arguments)},C.main=function(a){a[1]||(console.log("Usage: "+a[0]+" FILE"),process.exit(1));var O=v("?ebf4").readFileSync(v("./node_modules/path-browserify/index.js").normalize(a[1]),"utf8");return C.parser.parse(O)},v.c[v.s]===E&&C.main(process.argv.slice(1))},"./src/diagrams/sequence/parser/sequenceDiagram.jison":(E,C,v)=>{E=v.nmd(E);var h=function(){var a=function(Ut,Wt,Ft,jt){for(Ft=Ft||{},jt=Ut.length;jt--;Ft[Ut[jt]]=Wt);return Ft},O=[1,2],_=[1,3],M=[1,5],P=[1,7],R=[2,5],$=[1,15],F=[1,17],j=[1,18],X=[1,19],W=[1,21],V=[1,22],K=[1,23],st=[1,29],it=[1,30],pt=[1,31],ct=[1,32],lt=[1,33],J=[1,34],Bt=[1,35],Tt=[1,36],Ct=[1,37],St=[1,38],at=[1,39],yt=[1,40],kt=[1,43],xt=[1,44],Pt=[1,45],mt=[1,46],Yt=[1,47],ne=[1,48],Qt=[1,51],Kt=[1,4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,51,52,53,58,59,60,61,69,79],Xt=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,53,58,59,60,61,69,79],se=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,52,53,58,59,60,61,69,79],ue=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,51,53,58,59,60,61,69,79],re=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,53,58,59,60,61,69,79],_t=[67,68,69],ut=[1,121],Mt=[1,4,5,7,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,51,52,53,58,59,60,61,69,79],qt={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,directive:6,SD:7,document:8,line:9,statement:10,openDirective:11,typeDirective:12,closeDirective:13,":":14,argDirective:15,participant:16,actor:17,AS:18,restOfLine:19,participant_actor:20,signal:21,autonumber:22,NUM:23,off:24,activate:25,deactivate:26,note_statement:27,links_statement:28,link_statement:29,properties_statement:30,details_statement:31,title:32,legacy_title:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,loop:39,end:40,rect:41,opt:42,alt:43,else_sections:44,par:45,par_sections:46,critical:47,option_sections:48,break:49,option:50,and:51,else:52,note:53,placement:54,text2:55,over:56,actor_pair:57,links:58,link:59,properties:60,details:61,spaceList:62,",":63,left_of:64,right_of:65,signaltype:66,"+":67,"-":68,ACTOR:69,SOLID_OPEN_ARROW:70,DOTTED_OPEN_ARROW:71,SOLID_ARROW:72,DOTTED_ARROW:73,SOLID_CROSS:74,DOTTED_CROSS:75,SOLID_POINT:76,DOTTED_POINT:77,TXT:78,open_directive:79,type_directive:80,arg_directive:81,close_directive:82,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",7:"SD",14:":",16:"participant",18:"AS",19:"restOfLine",20:"participant_actor",22:"autonumber",23:"NUM",24:"off",25:"activate",26:"deactivate",32:"title",33:"legacy_title",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",39:"loop",40:"end",41:"rect",42:"opt",43:"alt",45:"par",47:"critical",49:"break",50:"option",51:"and",52:"else",53:"note",56:"over",58:"links",59:"link",60:"properties",61:"details",63:",",64:"left_of",65:"right_of",67:"+",68:"-",69:"ACTOR",70:"SOLID_OPEN_ARROW",71:"DOTTED_OPEN_ARROW",72:"SOLID_ARROW",73:"DOTTED_ARROW",74:"SOLID_CROSS",75:"DOTTED_CROSS",76:"SOLID_POINT",77:"DOTTED_POINT",78:"TXT",79:"open_directive",80:"type_directive",81:"arg_directive",82:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[6,4],[6,6],[10,5],[10,3],[10,5],[10,3],[10,2],[10,4],[10,3],[10,3],[10,2],[10,3],[10,3],[10,2],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,2],[10,2],[10,1],[10,4],[10,4],[10,4],[10,4],[10,4],[10,4],[10,4],[10,1],[48,1],[48,4],[46,1],[46,4],[44,1],[44,4],[27,4],[27,4],[28,3],[29,3],[30,3],[31,3],[62,2],[62,1],[57,3],[57,1],[54,1],[54,1],[21,5],[21,5],[21,4],[17,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[55,1],[11,1],[12,1],[15,1],[13,1]],performAction:function(Ut,Wt,Ft,jt,ee,Lt,he){var Ht=Lt.length-1;switch(ee){case 4:return jt.apply(Lt[Ht]),Lt[Ht];case 5:case 9:this.$=[];break;case 6:Lt[Ht-1].push(Lt[Ht]),this.$=Lt[Ht-1];break;case 7:case 8:case 56:this.$=Lt[Ht];break;case 12:Lt[Ht-3].type="addParticipant",Lt[Ht-3].description=jt.parseMessage(Lt[Ht-1]),this.$=Lt[Ht-3];break;case 13:Lt[Ht-1].type="addParticipant",this.$=Lt[Ht-1];break;case 14:Lt[Ht-3].type="addActor",Lt[Ht-3].description=jt.parseMessage(Lt[Ht-1]),this.$=Lt[Ht-3];break;case 15:Lt[Ht-1].type="addActor",this.$=Lt[Ht-1];break;case 17:this.$={type:"sequenceIndex",sequenceIndex:Number(Lt[Ht-2]),sequenceIndexStep:Number(Lt[Ht-1]),sequenceVisible:!0,signalType:jt.LINETYPE.AUTONUMBER};break;case 18:this.$={type:"sequenceIndex",sequenceIndex:Number(Lt[Ht-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:jt.LINETYPE.AUTONUMBER};break;case 19:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:jt.LINETYPE.AUTONUMBER};break;case 20:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:jt.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"activeStart",signalType:jt.LINETYPE.ACTIVE_START,actor:Lt[Ht-1]};break;case 22:this.$={type:"activeEnd",signalType:jt.LINETYPE.ACTIVE_END,actor:Lt[Ht-1]};break;case 28:jt.setDiagramTitle(Lt[Ht].substring(6)),this.$=Lt[Ht].substring(6);break;case 29:jt.setDiagramTitle(Lt[Ht].substring(7)),this.$=Lt[Ht].substring(7);break;case 30:this.$=Lt[Ht].trim(),jt.setAccTitle(this.$);break;case 31:case 32:this.$=Lt[Ht].trim(),jt.setAccDescription(this.$);break;case 33:Lt[Ht-1].unshift({type:"loopStart",loopText:jt.parseMessage(Lt[Ht-2]),signalType:jt.LINETYPE.LOOP_START}),Lt[Ht-1].push({type:"loopEnd",loopText:Lt[Ht-2],signalType:jt.LINETYPE.LOOP_END}),this.$=Lt[Ht-1];break;case 34:Lt[Ht-1].unshift({type:"rectStart",color:jt.parseMessage(Lt[Ht-2]),signalType:jt.LINETYPE.RECT_START}),Lt[Ht-1].push({type:"rectEnd",color:jt.parseMessage(Lt[Ht-2]),signalType:jt.LINETYPE.RECT_END}),this.$=Lt[Ht-1];break;case 35:Lt[Ht-1].unshift({type:"optStart",optText:jt.parseMessage(Lt[Ht-2]),signalType:jt.LINETYPE.OPT_START}),Lt[Ht-1].push({type:"optEnd",optText:jt.parseMessage(Lt[Ht-2]),signalType:jt.LINETYPE.OPT_END}),this.$=Lt[Ht-1];break;case 36:Lt[Ht-1].unshift({type:"altStart",altText:jt.parseMessage(Lt[Ht-2]),signalType:jt.LINETYPE.ALT_START}),Lt[Ht-1].push({type:"altEnd",signalType:jt.LINETYPE.ALT_END}),this.$=Lt[Ht-1];break;case 37:Lt[Ht-1].unshift({type:"parStart",parText:jt.parseMessage(Lt[Ht-2]),signalType:jt.LINETYPE.PAR_START}),Lt[Ht-1].push({type:"parEnd",signalType:jt.LINETYPE.PAR_END}),this.$=Lt[Ht-1];break;case 38:Lt[Ht-1].unshift({type:"criticalStart",criticalText:jt.parseMessage(Lt[Ht-2]),signalType:jt.LINETYPE.CRITICAL_START}),Lt[Ht-1].push({type:"criticalEnd",signalType:jt.LINETYPE.CRITICAL_END}),this.$=Lt[Ht-1];break;case 39:Lt[Ht-1].unshift({type:"breakStart",breakText:jt.parseMessage(Lt[Ht-2]),signalType:jt.LINETYPE.BREAK_START}),Lt[Ht-1].push({type:"breakEnd",optText:jt.parseMessage(Lt[Ht-2]),signalType:jt.LINETYPE.BREAK_END}),this.$=Lt[Ht-1];break;case 42:this.$=Lt[Ht-3].concat([{type:"option",optionText:jt.parseMessage(Lt[Ht-1]),signalType:jt.LINETYPE.CRITICAL_OPTION},Lt[Ht]]);break;case 44:this.$=Lt[Ht-3].concat([{type:"and",parText:jt.parseMessage(Lt[Ht-1]),signalType:jt.LINETYPE.PAR_AND},Lt[Ht]]);break;case 46:this.$=Lt[Ht-3].concat([{type:"else",altText:jt.parseMessage(Lt[Ht-1]),signalType:jt.LINETYPE.ALT_ELSE},Lt[Ht]]);break;case 47:this.$=[Lt[Ht-1],{type:"addNote",placement:Lt[Ht-2],actor:Lt[Ht-1].actor,text:Lt[Ht]}];break;case 48:Lt[Ht-2]=[].concat(Lt[Ht-1],Lt[Ht-1]).slice(0,2),Lt[Ht-2][0]=Lt[Ht-2][0].actor,Lt[Ht-2][1]=Lt[Ht-2][1].actor,this.$=[Lt[Ht-1],{type:"addNote",placement:jt.PLACEMENT.OVER,actor:Lt[Ht-2].slice(0,2),text:Lt[Ht]}];break;case 49:this.$=[Lt[Ht-1],{type:"addLinks",actor:Lt[Ht-1].actor,text:Lt[Ht]}];break;case 50:this.$=[Lt[Ht-1],{type:"addALink",actor:Lt[Ht-1].actor,text:Lt[Ht]}];break;case 51:this.$=[Lt[Ht-1],{type:"addProperties",actor:Lt[Ht-1].actor,text:Lt[Ht]}];break;case 52:this.$=[Lt[Ht-1],{type:"addDetails",actor:Lt[Ht-1].actor,text:Lt[Ht]}];break;case 55:this.$=[Lt[Ht-2],Lt[Ht]];break;case 57:this.$=jt.PLACEMENT.LEFTOF;break;case 58:this.$=jt.PLACEMENT.RIGHTOF;break;case 59:this.$=[Lt[Ht-4],Lt[Ht-1],{type:"addMessage",from:Lt[Ht-4].actor,to:Lt[Ht-1].actor,signalType:Lt[Ht-3],msg:Lt[Ht]},{type:"activeStart",signalType:jt.LINETYPE.ACTIVE_START,actor:Lt[Ht-1]}];break;case 60:this.$=[Lt[Ht-4],Lt[Ht-1],{type:"addMessage",from:Lt[Ht-4].actor,to:Lt[Ht-1].actor,signalType:Lt[Ht-3],msg:Lt[Ht]},{type:"activeEnd",signalType:jt.LINETYPE.ACTIVE_END,actor:Lt[Ht-4]}];break;case 61:this.$=[Lt[Ht-3],Lt[Ht-1],{type:"addMessage",from:Lt[Ht-3].actor,to:Lt[Ht-1].actor,signalType:Lt[Ht-2],msg:Lt[Ht]}];break;case 62:this.$={type:"addParticipant",actor:Lt[Ht]};break;case 63:this.$=jt.LINETYPE.SOLID_OPEN;break;case 64:this.$=jt.LINETYPE.DOTTED_OPEN;break;case 65:this.$=jt.LINETYPE.SOLID;break;case 66:this.$=jt.LINETYPE.DOTTED;break;case 67:this.$=jt.LINETYPE.SOLID_CROSS;break;case 68:this.$=jt.LINETYPE.DOTTED_CROSS;break;case 69:this.$=jt.LINETYPE.SOLID_POINT;break;case 70:this.$=jt.LINETYPE.DOTTED_POINT;break;case 71:this.$=jt.parseMessage(Lt[Ht].trim().substring(1));break;case 72:jt.parseDirective("%%{","open_directive");break;case 73:jt.parseDirective(Lt[Ht],"type_directive");break;case 74:Lt[Ht]=Lt[Ht].trim().replace(/'/g,'"'),jt.parseDirective(Lt[Ht],"arg_directive");break;case 75:jt.parseDirective("}%%","close_directive","sequence")}},table:[{3:1,4:O,5:_,6:4,7:M,11:6,79:P},{1:[3]},{3:8,4:O,5:_,6:4,7:M,11:6,79:P},{3:9,4:O,5:_,6:4,7:M,11:6,79:P},{3:10,4:O,5:_,6:4,7:M,11:6,79:P},a([1,4,5,16,20,22,25,26,32,33,34,36,38,39,41,42,43,45,47,49,53,58,59,60,61,69,79],R,{8:11}),{12:12,80:[1,13]},{80:[2,72]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:$,5:F,6:41,9:14,10:16,11:6,16:j,17:42,20:X,21:20,22:W,25:V,26:K,27:24,28:25,29:26,30:27,31:28,32:st,33:it,34:pt,36:ct,38:lt,39:J,41:Bt,42:Tt,43:Ct,45:St,47:at,49:yt,53:kt,58:xt,59:Pt,60:mt,61:Yt,69:ne,79:P},{13:49,14:[1,50],82:Qt},a([14,82],[2,73]),a(Kt,[2,6]),{6:41,10:52,11:6,16:j,17:42,20:X,21:20,22:W,25:V,26:K,27:24,28:25,29:26,30:27,31:28,32:st,33:it,34:pt,36:ct,38:lt,39:J,41:Bt,42:Tt,43:Ct,45:St,47:at,49:yt,53:kt,58:xt,59:Pt,60:mt,61:Yt,69:ne,79:P},a(Kt,[2,8]),a(Kt,[2,9]),{17:53,69:ne},{17:54,69:ne},{5:[1,55]},{5:[1,58],23:[1,56],24:[1,57]},{17:59,69:ne},{17:60,69:ne},{5:[1,61]},{5:[1,62]},{5:[1,63]},{5:[1,64]},{5:[1,65]},a(Kt,[2,28]),a(Kt,[2,29]),{35:[1,66]},{37:[1,67]},a(Kt,[2,32]),{19:[1,68]},{19:[1,69]},{19:[1,70]},{19:[1,71]},{19:[1,72]},{19:[1,73]},{19:[1,74]},a(Kt,[2,40]),{66:75,70:[1,76],71:[1,77],72:[1,78],73:[1,79],74:[1,80],75:[1,81],76:[1,82],77:[1,83]},{54:84,56:[1,85],64:[1,86],65:[1,87]},{17:88,69:ne},{17:89,69:ne},{17:90,69:ne},{17:91,69:ne},a([5,18,63,70,71,72,73,74,75,76,77,78],[2,62]),{5:[1,92]},{15:93,81:[1,94]},{5:[2,75]},a(Kt,[2,7]),{5:[1,96],18:[1,95]},{5:[1,98],18:[1,97]},a(Kt,[2,16]),{5:[1,100],23:[1,99]},{5:[1,101]},a(Kt,[2,20]),{5:[1,102]},{5:[1,103]},a(Kt,[2,23]),a(Kt,[2,24]),a(Kt,[2,25]),a(Kt,[2,26]),a(Kt,[2,27]),a(Kt,[2,30]),a(Kt,[2,31]),a(Xt,R,{8:104}),a(Xt,R,{8:105}),a(Xt,R,{8:106}),a(se,R,{44:107,8:108}),a(ue,R,{46:109,8:110}),a(re,R,{48:111,8:112}),a(Xt,R,{8:113}),{17:116,67:[1,114],68:[1,115],69:ne},a(_t,[2,63]),a(_t,[2,64]),a(_t,[2,65]),a(_t,[2,66]),a(_t,[2,67]),a(_t,[2,68]),a(_t,[2,69]),a(_t,[2,70]),{17:117,69:ne},{17:119,57:118,69:ne},{69:[2,57]},{69:[2,58]},{55:120,78:ut},{55:122,78:ut},{55:123,78:ut},{55:124,78:ut},a(Mt,[2,10]),{13:125,82:Qt},{82:[2,74]},{19:[1,126]},a(Kt,[2,13]),{19:[1,127]},a(Kt,[2,15]),{5:[1,128]},a(Kt,[2,18]),a(Kt,[2,19]),a(Kt,[2,21]),a(Kt,[2,22]),{4:$,5:F,6:41,9:14,10:16,11:6,16:j,17:42,20:X,21:20,22:W,25:V,26:K,27:24,28:25,29:26,30:27,31:28,32:st,33:it,34:pt,36:ct,38:lt,39:J,40:[1,129],41:Bt,42:Tt,43:Ct,45:St,47:at,49:yt,53:kt,58:xt,59:Pt,60:mt,61:Yt,69:ne,79:P},{4:$,5:F,6:41,9:14,10:16,11:6,16:j,17:42,20:X,21:20,22:W,25:V,26:K,27:24,28:25,29:26,30:27,31:28,32:st,33:it,34:pt,36:ct,38:lt,39:J,40:[1,130],41:Bt,42:Tt,43:Ct,45:St,47:at,49:yt,53:kt,58:xt,59:Pt,60:mt,61:Yt,69:ne,79:P},{4:$,5:F,6:41,9:14,10:16,11:6,16:j,17:42,20:X,21:20,22:W,25:V,26:K,27:24,28:25,29:26,30:27,31:28,32:st,33:it,34:pt,36:ct,38:lt,39:J,40:[1,131],41:Bt,42:Tt,43:Ct,45:St,47:at,49:yt,53:kt,58:xt,59:Pt,60:mt,61:Yt,69:ne,79:P},{40:[1,132]},{4:$,5:F,6:41,9:14,10:16,11:6,16:j,17:42,20:X,21:20,22:W,25:V,26:K,27:24,28:25,29:26,30:27,31:28,32:st,33:it,34:pt,36:ct,38:lt,39:J,40:[2,45],41:Bt,42:Tt,43:Ct,45:St,47:at,49:yt,52:[1,133],53:kt,58:xt,59:Pt,60:mt,61:Yt,69:ne,79:P},{40:[1,134]},{4:$,5:F,6:41,9:14,10:16,11:6,16:j,17:42,20:X,21:20,22:W,25:V,26:K,27:24,28:25,29:26,30:27,31:28,32:st,33:it,34:pt,36:ct,38:lt,39:J,40:[2,43],41:Bt,42:Tt,43:Ct,45:St,47:at,49:yt,51:[1,135],53:kt,58:xt,59:Pt,60:mt,61:Yt,69:ne,79:P},{40:[1,136]},{4:$,5:F,6:41,9:14,10:16,11:6,16:j,17:42,20:X,21:20,22:W,25:V,26:K,27:24,28:25,29:26,30:27,31:28,32:st,33:it,34:pt,36:ct,38:lt,39:J,40:[2,41],41:Bt,42:Tt,43:Ct,45:St,47:at,49:yt,50:[1,137],53:kt,58:xt,59:Pt,60:mt,61:Yt,69:ne,79:P},{4:$,5:F,6:41,9:14,10:16,11:6,16:j,17:42,20:X,21:20,22:W,25:V,26:K,27:24,28:25,29:26,30:27,31:28,32:st,33:it,34:pt,36:ct,38:lt,39:J,40:[1,138],41:Bt,42:Tt,43:Ct,45:St,47:at,49:yt,53:kt,58:xt,59:Pt,60:mt,61:Yt,69:ne,79:P},{17:139,69:ne},{17:140,69:ne},{55:141,78:ut},{55:142,78:ut},{55:143,78:ut},{63:[1,144],78:[2,56]},{5:[2,49]},{5:[2,71]},{5:[2,50]},{5:[2,51]},{5:[2,52]},{5:[1,145]},{5:[1,146]},{5:[1,147]},a(Kt,[2,17]),a(Kt,[2,33]),a(Kt,[2,34]),a(Kt,[2,35]),a(Kt,[2,36]),{19:[1,148]},a(Kt,[2,37]),{19:[1,149]},a(Kt,[2,38]),{19:[1,150]},a(Kt,[2,39]),{55:151,78:ut},{55:152,78:ut},{5:[2,61]},{5:[2,47]},{5:[2,48]},{17:153,69:ne},a(Mt,[2,11]),a(Kt,[2,12]),a(Kt,[2,14]),a(se,R,{8:108,44:154}),a(ue,R,{8:110,46:155}),a(re,R,{8:112,48:156}),{5:[2,59]},{5:[2,60]},{78:[2,55]},{40:[2,46]},{40:[2,44]},{40:[2,42]}],defaultActions:{7:[2,72],8:[2,1],9:[2,2],10:[2,3],51:[2,75],86:[2,57],87:[2,58],94:[2,74],120:[2,49],121:[2,71],122:[2,50],123:[2,51],124:[2,52],141:[2,61],142:[2,47],143:[2,48],151:[2,59],152:[2,60],153:[2,55],154:[2,46],155:[2,44],156:[2,42]},parseError:function(Ut,Wt){if(!Wt.recoverable){var Ft=new Error(Ut);throw Ft.hash=Wt,Ft}this.trace(Ut)},parse:function(Ut){var Wt=this,Ft=[0],jt=[],ee=[null],Lt=[],he=this.table,Ht="",Se=0,Te=0,we=0,Ue=2,We=1,De=Lt.slice.call(arguments,1),me=Object.create(this.lexer),Oe={yy:{}};for(var Pe in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Pe)&&(Oe.yy[Pe]=this.yy[Pe]);me.setInput(Ut,Oe.yy),Oe.yy.lexer=me,Oe.yy.parser=this,me.yylloc===void 0&&(me.yylloc={});var ze=me.yylloc;Lt.push(ze);var He=me.options&&me.options.ranges;function dn(){var Ge;return typeof(Ge=jt.pop()||me.lex()||We)!="number"&&(Ge instanceof Array&&(Ge=(jt=Ge).pop()),Ge=Wt.symbols_[Ge]||Ge),Ge}typeof Oe.yy.parseError=="function"?this.parseError=Oe.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var Mn,Kn,an,mn,Bn,Rn,$n,sn,on,yn={};;){if(an=Ft[Ft.length-1],this.defaultActions[an]?mn=this.defaultActions[an]:(Mn==null&&(Mn=dn()),mn=he[an]&&he[an][Mn]),mn===void 0||!mn.length||!mn[0]){var Sn="";for(Rn in on=[],he[an])this.terminals_[Rn]&&Rn>Ue&&on.push("'"+this.terminals_[Rn]+"'");Sn=me.showPosition?"Parse error on line "+(Se+1)+`:
`+me.showPosition()+`
Expecting `+on.join(", ")+", got '"+(this.terminals_[Mn]||Mn)+"'":"Parse error on line "+(Se+1)+": Unexpected "+(Mn==We?"end of input":"'"+(this.terminals_[Mn]||Mn)+"'"),this.parseError(Sn,{text:me.match,token:this.terminals_[Mn]||Mn,line:me.yylineno,loc:ze,expected:on})}if(mn[0]instanceof Array&&mn.length>1)throw new Error("Parse Error: multiple actions possible at state: "+an+", token: "+Mn);switch(mn[0]){case 1:Ft.push(Mn),ee.push(me.yytext),Lt.push(me.yylloc),Ft.push(mn[1]),Mn=null,Kn?(Mn=Kn,Kn=null):(Te=me.yyleng,Ht=me.yytext,Se=me.yylineno,ze=me.yylloc,we>0);break;case 2:if($n=this.productions_[mn[1]][1],yn.$=ee[ee.length-$n],yn._$={first_line:Lt[Lt.length-($n||1)].first_line,last_line:Lt[Lt.length-1].last_line,first_column:Lt[Lt.length-($n||1)].first_column,last_column:Lt[Lt.length-1].last_column},He&&(yn._$.range=[Lt[Lt.length-($n||1)].range[0],Lt[Lt.length-1].range[1]]),(Bn=this.performAction.apply(yn,[Ht,Te,Se,Oe.yy,mn[1],ee,Lt].concat(De)))!==void 0)return Bn;$n&&(Ft=Ft.slice(0,-1*$n*2),ee=ee.slice(0,-1*$n),Lt=Lt.slice(0,-1*$n)),Ft.push(this.productions_[mn[1]][0]),ee.push(yn.$),Lt.push(yn._$),sn=he[Ft[Ft.length-2]][Ft[Ft.length-1]],Ft.push(sn);break;case 3:return!0}}return!0}},Nt={EOF:1,parseError:function(Ut,Wt){if(!this.yy.parser)throw new Error(Ut);this.yy.parser.parseError(Ut,Wt)},setInput:function(Ut,Wt){return this.yy=Wt||this.yy||{},this._input=Ut,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Ut=this._input[0];return this.yytext+=Ut,this.yyleng++,this.offset++,this.match+=Ut,this.matched+=Ut,Ut.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Ut},unput:function(Ut){var Wt=Ut.length,Ft=Ut.split(/(?:\r\n?|\n)/g);this._input=Ut+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Wt),this.offset-=Wt;var jt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Ft.length-1&&(this.yylineno-=Ft.length-1);var ee=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Ft?(Ft.length===jt.length?this.yylloc.first_column:0)+jt[jt.length-Ft.length].length-Ft[0].length:this.yylloc.first_column-Wt},this.options.ranges&&(this.yylloc.range=[ee[0],ee[0]+this.yyleng-Wt]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(Ut){this.unput(this.match.slice(Ut))},pastInput:function(){var Ut=this.matched.substr(0,this.matched.length-this.match.length);return(Ut.length>20?"...":"")+Ut.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Ut=this.match;return Ut.length<20&&(Ut+=this._input.substr(0,20-Ut.length)),(Ut.substr(0,20)+(Ut.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Ut=this.pastInput(),Wt=new Array(Ut.length+1).join("-");return Ut+this.upcomingInput()+`
`+Wt+"^"},test_match:function(Ut,Wt){var Ft,jt,ee;if(this.options.backtrack_lexer&&(ee={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ee.yylloc.range=this.yylloc.range.slice(0))),(jt=Ut[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=jt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:jt?jt[jt.length-1].length-jt[jt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Ut[0].length},this.yytext+=Ut[0],this.match+=Ut[0],this.matches=Ut,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Ut[0].length),this.matched+=Ut[0],Ft=this.performAction.call(this,this.yy,this,Wt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Ft)return Ft;if(this._backtrack){for(var Lt in ee)this[Lt]=ee[Lt];return!1}return!1},next:function(){if(this.done)return this.EOF;var Ut,Wt,Ft,jt;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var ee=this._currentRules(),Lt=0;Lt<ee.length;Lt++)if((Ft=this._input.match(this.rules[ee[Lt]]))&&(!Wt||Ft[0].length>Wt[0].length)){if(Wt=Ft,jt=Lt,this.options.backtrack_lexer){if((Ut=this.test_match(Ft,ee[Lt]))!==!1)return Ut;if(this._backtrack){Wt=!1;continue}return!1}if(!this.options.flex)break}return Wt?(Ut=this.test_match(Wt,ee[jt]))!==!1&&Ut:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(Ut){this.conditionStack.push(Ut)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Ut){return(Ut=this.conditionStack.length-1-Math.abs(Ut||0))>=0?this.conditionStack[Ut]:"INITIAL"},pushState:function(Ut){this.begin(Ut)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(Ut,Wt,Ft,jt){switch(Ft){case 0:return this.begin("open_directive"),79;case 1:return this.begin("type_directive"),80;case 2:return this.popState(),this.begin("arg_directive"),14;case 3:return this.popState(),this.popState(),82;case 4:return 81;case 5:case 52:case 65:return 5;case 6:case 7:case 8:case 9:case 10:break;case 11:return 23;case 12:return this.begin("ID"),16;case 13:return this.begin("ID"),20;case 14:return Wt.yytext=Wt.yytext.trim(),this.begin("ALIAS"),69;case 15:return this.popState(),this.popState(),this.begin("LINE"),18;case 16:return this.popState(),this.popState(),5;case 17:return this.begin("LINE"),39;case 18:return this.begin("LINE"),41;case 19:return this.begin("LINE"),42;case 20:return this.begin("LINE"),43;case 21:return this.begin("LINE"),52;case 22:return this.begin("LINE"),45;case 23:return this.begin("LINE"),51;case 24:return this.begin("LINE"),47;case 25:return this.begin("LINE"),50;case 26:return this.begin("LINE"),49;case 27:return this.popState(),19;case 28:return 40;case 29:return 64;case 30:return 65;case 31:return 58;case 32:return 59;case 33:return 60;case 34:return 61;case 35:return 56;case 36:return 53;case 37:return this.begin("ID"),25;case 38:return this.begin("ID"),26;case 39:return 32;case 40:return 33;case 41:return this.begin("acc_title"),34;case 42:return this.popState(),"acc_title_value";case 43:return this.begin("acc_descr"),36;case 44:return this.popState(),"acc_descr_value";case 45:this.begin("acc_descr_multiline");break;case 46:this.popState();break;case 47:return"acc_descr_multiline_value";case 48:return 7;case 49:return 22;case 50:return 24;case 51:return 63;case 53:return Wt.yytext=Wt.yytext.trim(),69;case 54:return 72;case 55:return 73;case 56:return 70;case 57:return 71;case 58:return 74;case 59:return 75;case 60:return 76;case 61:return 77;case 62:return 78;case 63:return 67;case 64:return 68;case 66:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:[^\->:\n,;]+?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^\+\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]+)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[46,47],inclusive:!1},acc_descr:{rules:[44],inclusive:!1},acc_title:{rules:[42],inclusive:!1},open_directive:{rules:[1,8],inclusive:!1},type_directive:{rules:[2,3,8],inclusive:!1},arg_directive:{rules:[3,4,8],inclusive:!1},ID:{rules:[7,8,14],inclusive:!1},ALIAS:{rules:[7,8,15,16],inclusive:!1},LINE:{rules:[7,8,27],inclusive:!1},INITIAL:{rules:[0,5,6,8,9,10,11,12,13,17,18,19,20,21,22,23,24,25,26,28,29,30,31,32,33,34,35,36,37,38,39,40,41,43,45,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66],inclusive:!0}}};function Vt(){this.yy={}}return qt.lexer=Nt,Vt.prototype=qt,qt.Parser=Vt,new Vt}();C.parser=h,C.Parser=h.Parser,C.parse=function(){return h.parse.apply(h,arguments)},C.main=function(a){a[1]||(console.log("Usage: "+a[0]+" FILE"),process.exit(1));var O=v("?e940").readFileSync(v("./node_modules/path-browserify/index.js").normalize(a[1]),"utf8");return C.parser.parse(O)},v.c[v.s]===E&&C.main(process.argv.slice(1))},"./src/diagrams/state/parser/stateDiagram.jison":(E,C,v)=>{E=v.nmd(E);var h=function(){var a=function(se,ue,re,_t){for(re=re||{},_t=se.length;_t--;re[se[_t]]=ue);return re},O=[1,2],_=[1,3],M=[1,5],P=[1,7],R=[2,5],$=[1,15],F=[1,17],j=[1,19],X=[1,20],W=[1,21],V=[1,22],K=[1,33],st=[1,23],it=[1,24],pt=[1,25],ct=[1,26],lt=[1,27],J=[1,30],Bt=[1,31],Tt=[1,32],Ct=[1,35],St=[1,36],at=[1,37],yt=[1,38],kt=[1,34],xt=[1,41],Pt=[1,4,5,14,15,17,19,20,22,23,24,25,26,27,31,33,35,41,42,43,44,47,50],mt=[1,4,5,12,13,14,15,17,19,20,22,23,24,25,26,27,31,33,35,41,42,43,44,47,50],Yt=[1,4,5,7,14,15,17,19,20,22,23,24,25,26,27,31,33,35,41,42,43,44,47,50],ne=[4,5,14,15,17,19,20,22,23,24,25,26,27,31,33,35,41,42,43,44,47,50],Qt={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,directive:6,SD:7,document:8,line:9,statement:10,idStatement:11,DESCR:12,"-->":13,HIDE_EMPTY:14,scale:15,WIDTH:16,COMPOSIT_STATE:17,STRUCT_START:18,STRUCT_STOP:19,STATE_DESCR:20,AS:21,ID:22,FORK:23,JOIN:24,CHOICE:25,CONCURRENT:26,note:27,notePosition:28,NOTE_TEXT:29,direction:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,openDirective:36,typeDirective:37,closeDirective:38,":":39,argDirective:40,direction_tb:41,direction_bt:42,direction_rl:43,direction_lr:44,eol:45,";":46,EDGE_STATE:47,left_of:48,right_of:49,open_directive:50,type_directive:51,arg_directive:52,close_directive:53,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",7:"SD",12:"DESCR",13:"-->",14:"HIDE_EMPTY",15:"scale",16:"WIDTH",17:"COMPOSIT_STATE",18:"STRUCT_START",19:"STRUCT_STOP",20:"STATE_DESCR",21:"AS",22:"ID",23:"FORK",24:"JOIN",25:"CHOICE",26:"CONCURRENT",27:"note",29:"NOTE_TEXT",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",39:":",41:"direction_tb",42:"direction_bt",43:"direction_rl",44:"direction_lr",46:";",47:"EDGE_STATE",48:"left_of",49:"right_of",50:"open_directive",51:"type_directive",52:"arg_directive",53:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[10,1],[10,2],[10,3],[10,4],[10,1],[10,2],[10,1],[10,4],[10,3],[10,6],[10,1],[10,1],[10,1],[10,1],[10,4],[10,4],[10,1],[10,1],[10,2],[10,2],[10,1],[6,3],[6,5],[30,1],[30,1],[30,1],[30,1],[45,1],[45,1],[11,1],[11,1],[28,1],[28,1],[36,1],[37,1],[40,1],[38,1]],performAction:function(se,ue,re,_t,ut,Mt,qt){var Nt=Mt.length-1;switch(ut){case 4:return _t.setRootDoc(Mt[Nt]),Mt[Nt];case 5:this.$=[];break;case 6:Mt[Nt]!="nl"&&(Mt[Nt-1].push(Mt[Nt]),this.$=Mt[Nt-1]);break;case 7:case 8:case 39:case 40:this.$=Mt[Nt];break;case 9:this.$="nl";break;case 10:this.$={stmt:"state",id:Mt[Nt],type:"default",description:""};break;case 11:this.$={stmt:"state",id:Mt[Nt-1],type:"default",description:_t.trimColon(Mt[Nt])};break;case 12:this.$={stmt:"relation",state1:{stmt:"state",id:Mt[Nt-2],type:"default",description:""},state2:{stmt:"state",id:Mt[Nt],type:"default",description:""}};break;case 13:this.$={stmt:"relation",state1:{stmt:"state",id:Mt[Nt-3],type:"default",description:""},state2:{stmt:"state",id:Mt[Nt-1],type:"default",description:""},description:Mt[Nt].substr(1).trim()};break;case 17:this.$={stmt:"state",id:Mt[Nt-3],type:"default",description:"",doc:Mt[Nt-1]};break;case 18:var Vt=Mt[Nt],Ut=Mt[Nt-2].trim();if(Mt[Nt].match(":")){var Wt=Mt[Nt].split(":");Vt=Wt[0],Ut=[Ut,Wt[1]]}this.$={stmt:"state",id:Vt,type:"default",description:Ut};break;case 19:this.$={stmt:"state",id:Mt[Nt-3],type:"default",description:Mt[Nt-5],doc:Mt[Nt-1]};break;case 20:this.$={stmt:"state",id:Mt[Nt],type:"fork"};break;case 21:this.$={stmt:"state",id:Mt[Nt],type:"join"};break;case 22:this.$={stmt:"state",id:Mt[Nt],type:"choice"};break;case 23:this.$={stmt:"state",id:_t.getDividerId(),type:"divider"};break;case 24:this.$={stmt:"state",id:Mt[Nt-1].trim(),note:{position:Mt[Nt-2].trim(),text:Mt[Nt].trim()}};break;case 28:this.$=Mt[Nt].trim(),_t.setAccTitle(this.$);break;case 29:case 30:this.$=Mt[Nt].trim(),_t.setAccDescription(this.$);break;case 33:_t.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 34:_t.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 35:_t.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 36:_t.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 43:_t.parseDirective("%%{","open_directive");break;case 44:_t.parseDirective(Mt[Nt],"type_directive");break;case 45:Mt[Nt]=Mt[Nt].trim().replace(/'/g,'"'),_t.parseDirective(Mt[Nt],"arg_directive");break;case 46:_t.parseDirective("}%%","close_directive","state")}},table:[{3:1,4:O,5:_,6:4,7:M,36:6,50:P},{1:[3]},{3:8,4:O,5:_,6:4,7:M,36:6,50:P},{3:9,4:O,5:_,6:4,7:M,36:6,50:P},{3:10,4:O,5:_,6:4,7:M,36:6,50:P},a([1,4,5,14,15,17,20,22,23,24,25,26,27,31,33,35,41,42,43,44,47,50],R,{8:11}),{37:12,51:[1,13]},{51:[2,43]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:$,5:F,6:28,9:14,10:16,11:18,14:j,15:X,17:W,20:V,22:K,23:st,24:it,25:pt,26:ct,27:lt,30:29,31:J,33:Bt,35:Tt,36:6,41:Ct,42:St,43:at,44:yt,47:kt,50:P},{38:39,39:[1,40],53:xt},a([39,53],[2,44]),a(Pt,[2,6]),{6:28,10:42,11:18,14:j,15:X,17:W,20:V,22:K,23:st,24:it,25:pt,26:ct,27:lt,30:29,31:J,33:Bt,35:Tt,36:6,41:Ct,42:St,43:at,44:yt,47:kt,50:P},a(Pt,[2,8]),a(Pt,[2,9]),a(Pt,[2,10],{12:[1,43],13:[1,44]}),a(Pt,[2,14]),{16:[1,45]},a(Pt,[2,16],{18:[1,46]}),{21:[1,47]},a(Pt,[2,20]),a(Pt,[2,21]),a(Pt,[2,22]),a(Pt,[2,23]),{28:48,29:[1,49],48:[1,50],49:[1,51]},a(Pt,[2,26]),a(Pt,[2,27]),{32:[1,52]},{34:[1,53]},a(Pt,[2,30]),a(mt,[2,39]),a(mt,[2,40]),a(Pt,[2,33]),a(Pt,[2,34]),a(Pt,[2,35]),a(Pt,[2,36]),a(Yt,[2,31]),{40:54,52:[1,55]},a(Yt,[2,46]),a(Pt,[2,7]),a(Pt,[2,11]),{11:56,22:K,47:kt},a(Pt,[2,15]),a(ne,R,{8:57}),{22:[1,58]},{22:[1,59]},{21:[1,60]},{22:[2,41]},{22:[2,42]},a(Pt,[2,28]),a(Pt,[2,29]),{38:61,53:xt},{53:[2,45]},a(Pt,[2,12],{12:[1,62]}),{4:$,5:F,6:28,9:14,10:16,11:18,14:j,15:X,17:W,19:[1,63],20:V,22:K,23:st,24:it,25:pt,26:ct,27:lt,30:29,31:J,33:Bt,35:Tt,36:6,41:Ct,42:St,43:at,44:yt,47:kt,50:P},a(Pt,[2,18],{18:[1,64]}),{29:[1,65]},{22:[1,66]},a(Yt,[2,32]),a(Pt,[2,13]),a(Pt,[2,17]),a(ne,R,{8:67}),a(Pt,[2,24]),a(Pt,[2,25]),{4:$,5:F,6:28,9:14,10:16,11:18,14:j,15:X,17:W,19:[1,68],20:V,22:K,23:st,24:it,25:pt,26:ct,27:lt,30:29,31:J,33:Bt,35:Tt,36:6,41:Ct,42:St,43:at,44:yt,47:kt,50:P},a(Pt,[2,19])],defaultActions:{7:[2,43],8:[2,1],9:[2,2],10:[2,3],50:[2,41],51:[2,42],55:[2,45]},parseError:function(se,ue){if(!ue.recoverable){var re=new Error(se);throw re.hash=ue,re}this.trace(se)},parse:function(se){var ue=this,re=[0],_t=[],ut=[null],Mt=[],qt=this.table,Nt="",Vt=0,Ut=0,Wt=0,Ft=2,jt=1,ee=Mt.slice.call(arguments,1),Lt=Object.create(this.lexer),he={yy:{}};for(var Ht in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ht)&&(he.yy[Ht]=this.yy[Ht]);Lt.setInput(se,he.yy),he.yy.lexer=Lt,he.yy.parser=this,Lt.yylloc===void 0&&(Lt.yylloc={});var Se=Lt.yylloc;Mt.push(Se);var Te=Lt.options&&Lt.options.ranges;function we(){var an;return typeof(an=_t.pop()||Lt.lex()||jt)!="number"&&(an instanceof Array&&(an=(_t=an).pop()),an=ue.symbols_[an]||an),an}typeof he.yy.parseError=="function"?this.parseError=he.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var Ue,We,De,me,Oe,Pe,ze,He,dn,Mn={};;){if(De=re[re.length-1],this.defaultActions[De]?me=this.defaultActions[De]:(Ue==null&&(Ue=we()),me=qt[De]&&qt[De][Ue]),me===void 0||!me.length||!me[0]){var Kn="";for(Pe in dn=[],qt[De])this.terminals_[Pe]&&Pe>Ft&&dn.push("'"+this.terminals_[Pe]+"'");Kn=Lt.showPosition?"Parse error on line "+(Vt+1)+`:
`+Lt.showPosition()+`
Expecting `+dn.join(", ")+", got '"+(this.terminals_[Ue]||Ue)+"'":"Parse error on line "+(Vt+1)+": Unexpected "+(Ue==jt?"end of input":"'"+(this.terminals_[Ue]||Ue)+"'"),this.parseError(Kn,{text:Lt.match,token:this.terminals_[Ue]||Ue,line:Lt.yylineno,loc:Se,expected:dn})}if(me[0]instanceof Array&&me.length>1)throw new Error("Parse Error: multiple actions possible at state: "+De+", token: "+Ue);switch(me[0]){case 1:re.push(Ue),ut.push(Lt.yytext),Mt.push(Lt.yylloc),re.push(me[1]),Ue=null,We?(Ue=We,We=null):(Ut=Lt.yyleng,Nt=Lt.yytext,Vt=Lt.yylineno,Se=Lt.yylloc,Wt>0);break;case 2:if(ze=this.productions_[me[1]][1],Mn.$=ut[ut.length-ze],Mn._$={first_line:Mt[Mt.length-(ze||1)].first_line,last_line:Mt[Mt.length-1].last_line,first_column:Mt[Mt.length-(ze||1)].first_column,last_column:Mt[Mt.length-1].last_column},Te&&(Mn._$.range=[Mt[Mt.length-(ze||1)].range[0],Mt[Mt.length-1].range[1]]),(Oe=this.performAction.apply(Mn,[Nt,Ut,Vt,he.yy,me[1],ut,Mt].concat(ee)))!==void 0)return Oe;ze&&(re=re.slice(0,-1*ze*2),ut=ut.slice(0,-1*ze),Mt=Mt.slice(0,-1*ze)),re.push(this.productions_[me[1]][0]),ut.push(Mn.$),Mt.push(Mn._$),He=qt[re[re.length-2]][re[re.length-1]],re.push(He);break;case 3:return!0}}return!0}},Kt={EOF:1,parseError:function(se,ue){if(!this.yy.parser)throw new Error(se);this.yy.parser.parseError(se,ue)},setInput:function(se,ue){return this.yy=ue||this.yy||{},this._input=se,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var se=this._input[0];return this.yytext+=se,this.yyleng++,this.offset++,this.match+=se,this.matched+=se,se.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),se},unput:function(se){var ue=se.length,re=se.split(/(?:\r\n?|\n)/g);this._input=se+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-ue),this.offset-=ue;var _t=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),re.length-1&&(this.yylineno-=re.length-1);var ut=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:re?(re.length===_t.length?this.yylloc.first_column:0)+_t[_t.length-re.length].length-re[0].length:this.yylloc.first_column-ue},this.options.ranges&&(this.yylloc.range=[ut[0],ut[0]+this.yyleng-ue]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(se){this.unput(this.match.slice(se))},pastInput:function(){var se=this.matched.substr(0,this.matched.length-this.match.length);return(se.length>20?"...":"")+se.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var se=this.match;return se.length<20&&(se+=this._input.substr(0,20-se.length)),(se.substr(0,20)+(se.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var se=this.pastInput(),ue=new Array(se.length+1).join("-");return se+this.upcomingInput()+`
`+ue+"^"},test_match:function(se,ue){var re,_t,ut;if(this.options.backtrack_lexer&&(ut={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ut.yylloc.range=this.yylloc.range.slice(0))),(_t=se[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=_t.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:_t?_t[_t.length-1].length-_t[_t.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+se[0].length},this.yytext+=se[0],this.match+=se[0],this.matches=se,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(se[0].length),this.matched+=se[0],re=this.performAction.call(this,this.yy,this,ue,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),re)return re;if(this._backtrack){for(var Mt in ut)this[Mt]=ut[Mt];return!1}return!1},next:function(){if(this.done)return this.EOF;var se,ue,re,_t;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var ut=this._currentRules(),Mt=0;Mt<ut.length;Mt++)if((re=this._input.match(this.rules[ut[Mt]]))&&(!ue||re[0].length>ue[0].length)){if(ue=re,_t=Mt,this.options.backtrack_lexer){if((se=this.test_match(re,ut[Mt]))!==!1)return se;if(this._backtrack){ue=!1;continue}return!1}if(!this.options.flex)break}return ue?(se=this.test_match(ue,ut[_t]))!==!1&&se:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(se){this.conditionStack.push(se)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(se){return(se=this.conditionStack.length-1-Math.abs(se||0))>=0?this.conditionStack[se]:"INITIAL"},pushState:function(se){this.begin(se)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(se,ue,re,_t){switch(re){case 0:case 33:return 41;case 1:case 34:return 42;case 2:case 35:return 43;case 3:case 36:return 44;case 4:return this.begin("open_directive"),50;case 5:return this.begin("type_directive"),51;case 6:return this.popState(),this.begin("arg_directive"),39;case 7:return this.popState(),this.popState(),53;case 8:return 52;case 9:case 10:case 12:case 13:case 14:case 15:case 46:case 52:break;case 11:case 66:return 5;case 16:return this.pushState("SCALE"),15;case 17:return 16;case 18:case 24:case 40:case 43:this.popState();break;case 19:return this.begin("acc_title"),31;case 20:return this.popState(),"acc_title_value";case 21:return this.begin("acc_descr"),33;case 22:return this.popState(),"acc_descr_value";case 23:this.begin("acc_descr_multiline");break;case 25:return"acc_descr_multiline_value";case 26:this.pushState("STATE");break;case 27:case 30:return this.popState(),ue.yytext=ue.yytext.slice(0,-8).trim(),23;case 28:case 31:return this.popState(),ue.yytext=ue.yytext.slice(0,-8).trim(),24;case 29:case 32:return this.popState(),ue.yytext=ue.yytext.slice(0,-10).trim(),25;case 37:this.begin("STATE_STRING");break;case 38:return this.popState(),this.pushState("STATE_ID"),"AS";case 39:case 54:return this.popState(),"ID";case 41:return"STATE_DESCR";case 42:return 17;case 44:return this.popState(),this.pushState("struct"),18;case 45:return this.popState(),19;case 47:return this.begin("NOTE"),27;case 48:return this.popState(),this.pushState("NOTE_ID"),48;case 49:return this.popState(),this.pushState("NOTE_ID"),49;case 50:this.popState(),this.pushState("FLOATING_NOTE");break;case 51:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 53:return"NOTE_TEXT";case 55:return this.popState(),this.pushState("NOTE_TEXT"),22;case 56:return this.popState(),ue.yytext=ue.yytext.substr(2).trim(),29;case 57:return this.popState(),ue.yytext=ue.yytext.slice(0,-8).trim(),29;case 58:case 59:return 7;case 60:return 14;case 61:return 47;case 62:return 22;case 63:return ue.yytext=ue.yytext.trim(),12;case 64:return 13;case 65:return 26;case 67:return"INVALID"}},rules:[/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[13,14],inclusive:!1},close_directive:{rules:[13,14],inclusive:!1},arg_directive:{rules:[7,8,13,14],inclusive:!1},type_directive:{rules:[6,7,13,14],inclusive:!1},open_directive:{rules:[5,13,14],inclusive:!1},struct:{rules:[13,14,26,33,34,35,36,45,46,47,61,62,63,64,65],inclusive:!1},FLOATING_NOTE_ID:{rules:[54],inclusive:!1},FLOATING_NOTE:{rules:[51,52,53],inclusive:!1},NOTE_TEXT:{rules:[56,57],inclusive:!1},NOTE_ID:{rules:[55],inclusive:!1},NOTE:{rules:[48,49,50],inclusive:!1},acc_descr_multiline:{rules:[24,25],inclusive:!1},acc_descr:{rules:[22],inclusive:!1},acc_title:{rules:[20],inclusive:!1},SCALE:{rules:[17,18],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[39],inclusive:!1},STATE_STRING:{rules:[40,41],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[13,14,27,28,29,30,31,32,37,38,42,43,44],inclusive:!1},ID:{rules:[13,14],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,12,14,15,16,19,21,23,26,44,47,58,59,60,61,62,63,64,66,67],inclusive:!0}}};function Xt(){this.yy={}}return Qt.lexer=Kt,Xt.prototype=Qt,Qt.Parser=Xt,new Xt}();C.parser=h,C.Parser=h.Parser,C.parse=function(){return h.parse.apply(h,arguments)},C.main=function(a){a[1]||(console.log("Usage: "+a[0]+" FILE"),process.exit(1));var O=v("?a3b8").readFileSync(v("./node_modules/path-browserify/index.js").normalize(a[1]),"utf8");return C.parser.parse(O)},v.c[v.s]===E&&C.main(process.argv.slice(1))},"./src/diagrams/user-journey/parser/journey.jison":(E,C,v)=>{E=v.nmd(E);var h=function(){var a=function(pt,ct,lt,J){for(lt=lt||{},J=pt.length;J--;lt[pt[J]]=ct);return lt},O=[1,2],_=[1,5],M=[6,9,11,17,18,20,22,23,24,26],P=[1,15],R=[1,16],$=[1,17],F=[1,18],j=[1,19],X=[1,20],W=[1,24],V=[4,6,9,11,17,18,20,22,23,24,26],K={trace:function(){},yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,title:17,acc_title:18,acc_title_value:19,acc_descr:20,acc_descr_value:21,acc_descr_multiline_value:22,section:23,taskName:24,taskData:25,open_directive:26,type_directive:27,arg_directive:28,close_directive:29,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",17:"title",18:"acc_title",19:"acc_title_value",20:"acc_descr",21:"acc_descr_value",22:"acc_descr_multiline_value",23:"section",24:"taskName",25:"taskData",26:"open_directive",27:"type_directive",28:"arg_directive",29:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,2],[10,2],[10,1],[10,1],[10,2],[10,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(pt,ct,lt,J,Bt,Tt,Ct){var St=Tt.length-1;switch(Bt){case 1:return Tt[St-1];case 3:case 7:case 8:this.$=[];break;case 4:Tt[St-1].push(Tt[St]),this.$=Tt[St-1];break;case 5:case 6:this.$=Tt[St];break;case 11:J.setDiagramTitle(Tt[St].substr(6)),this.$=Tt[St].substr(6);break;case 12:this.$=Tt[St].trim(),J.setAccTitle(this.$);break;case 13:case 14:this.$=Tt[St].trim(),J.setAccDescription(this.$);break;case 15:J.addSection(Tt[St].substr(8)),this.$=Tt[St].substr(8);break;case 16:J.addTask(Tt[St-1],Tt[St]),this.$="task";break;case 18:J.parseDirective("%%{","open_directive");break;case 19:J.parseDirective(Tt[St],"type_directive");break;case 20:Tt[St]=Tt[St].trim().replace(/'/g,'"'),J.parseDirective(Tt[St],"arg_directive");break;case 21:J.parseDirective("}%%","close_directive","journey")}},table:[{3:1,4:O,7:3,12:4,26:_},{1:[3]},a(M,[2,3],{5:6}),{3:7,4:O,7:3,12:4,26:_},{13:8,27:[1,9]},{27:[2,18]},{6:[1,10],7:21,8:11,9:[1,12],10:13,11:[1,14],12:4,17:P,18:R,20:$,22:F,23:j,24:X,26:_},{1:[2,2]},{14:22,15:[1,23],29:W},a([15,29],[2,19]),a(M,[2,8],{1:[2,1]}),a(M,[2,4]),{7:21,10:25,12:4,17:P,18:R,20:$,22:F,23:j,24:X,26:_},a(M,[2,6]),a(M,[2,7]),a(M,[2,11]),{19:[1,26]},{21:[1,27]},a(M,[2,14]),a(M,[2,15]),{25:[1,28]},a(M,[2,17]),{11:[1,29]},{16:30,28:[1,31]},{11:[2,21]},a(M,[2,5]),a(M,[2,12]),a(M,[2,13]),a(M,[2,16]),a(V,[2,9]),{14:32,29:W},{29:[2,20]},{11:[1,33]},a(V,[2,10])],defaultActions:{5:[2,18],7:[2,2],24:[2,21],31:[2,20]},parseError:function(pt,ct){if(!ct.recoverable){var lt=new Error(pt);throw lt.hash=ct,lt}this.trace(pt)},parse:function(pt){var ct=this,lt=[0],J=[],Bt=[null],Tt=[],Ct=this.table,St="",at=0,yt=0,kt=0,xt=2,Pt=1,mt=Tt.slice.call(arguments,1),Yt=Object.create(this.lexer),ne={yy:{}};for(var Qt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Qt)&&(ne.yy[Qt]=this.yy[Qt]);Yt.setInput(pt,ne.yy),ne.yy.lexer=Yt,ne.yy.parser=this,Yt.yylloc===void 0&&(Yt.yylloc={});var Kt=Yt.yylloc;Tt.push(Kt);var Xt=Yt.options&&Yt.options.ranges;function se(){var jt;return typeof(jt=J.pop()||Yt.lex()||Pt)!="number"&&(jt instanceof Array&&(jt=(J=jt).pop()),jt=ct.symbols_[jt]||jt),jt}typeof ne.yy.parseError=="function"?this.parseError=ne.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var ue,re,_t,ut,Mt,qt,Nt,Vt,Ut,Wt={};;){if(_t=lt[lt.length-1],this.defaultActions[_t]?ut=this.defaultActions[_t]:(ue==null&&(ue=se()),ut=Ct[_t]&&Ct[_t][ue]),ut===void 0||!ut.length||!ut[0]){var Ft="";for(qt in Ut=[],Ct[_t])this.terminals_[qt]&&qt>xt&&Ut.push("'"+this.terminals_[qt]+"'");Ft=Yt.showPosition?"Parse error on line "+(at+1)+`:
`+Yt.showPosition()+`
Expecting `+Ut.join(", ")+", got '"+(this.terminals_[ue]||ue)+"'":"Parse error on line "+(at+1)+": Unexpected "+(ue==Pt?"end of input":"'"+(this.terminals_[ue]||ue)+"'"),this.parseError(Ft,{text:Yt.match,token:this.terminals_[ue]||ue,line:Yt.yylineno,loc:Kt,expected:Ut})}if(ut[0]instanceof Array&&ut.length>1)throw new Error("Parse Error: multiple actions possible at state: "+_t+", token: "+ue);switch(ut[0]){case 1:lt.push(ue),Bt.push(Yt.yytext),Tt.push(Yt.yylloc),lt.push(ut[1]),ue=null,re?(ue=re,re=null):(yt=Yt.yyleng,St=Yt.yytext,at=Yt.yylineno,Kt=Yt.yylloc,kt>0);break;case 2:if(Nt=this.productions_[ut[1]][1],Wt.$=Bt[Bt.length-Nt],Wt._$={first_line:Tt[Tt.length-(Nt||1)].first_line,last_line:Tt[Tt.length-1].last_line,first_column:Tt[Tt.length-(Nt||1)].first_column,last_column:Tt[Tt.length-1].last_column},Xt&&(Wt._$.range=[Tt[Tt.length-(Nt||1)].range[0],Tt[Tt.length-1].range[1]]),(Mt=this.performAction.apply(Wt,[St,yt,at,ne.yy,ut[1],Bt,Tt].concat(mt)))!==void 0)return Mt;Nt&&(lt=lt.slice(0,-1*Nt*2),Bt=Bt.slice(0,-1*Nt),Tt=Tt.slice(0,-1*Nt)),lt.push(this.productions_[ut[1]][0]),Bt.push(Wt.$),Tt.push(Wt._$),Vt=Ct[lt[lt.length-2]][lt[lt.length-1]],lt.push(Vt);break;case 3:return!0}}return!0}},st={EOF:1,parseError:function(pt,ct){if(!this.yy.parser)throw new Error(pt);this.yy.parser.parseError(pt,ct)},setInput:function(pt,ct){return this.yy=ct||this.yy||{},this._input=pt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var pt=this._input[0];return this.yytext+=pt,this.yyleng++,this.offset++,this.match+=pt,this.matched+=pt,pt.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),pt},unput:function(pt){var ct=pt.length,lt=pt.split(/(?:\r\n?|\n)/g);this._input=pt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-ct),this.offset-=ct;var J=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),lt.length-1&&(this.yylineno-=lt.length-1);var Bt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:lt?(lt.length===J.length?this.yylloc.first_column:0)+J[J.length-lt.length].length-lt[0].length:this.yylloc.first_column-ct},this.options.ranges&&(this.yylloc.range=[Bt[0],Bt[0]+this.yyleng-ct]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(pt){this.unput(this.match.slice(pt))},pastInput:function(){var pt=this.matched.substr(0,this.matched.length-this.match.length);return(pt.length>20?"...":"")+pt.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var pt=this.match;return pt.length<20&&(pt+=this._input.substr(0,20-pt.length)),(pt.substr(0,20)+(pt.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var pt=this.pastInput(),ct=new Array(pt.length+1).join("-");return pt+this.upcomingInput()+`
`+ct+"^"},test_match:function(pt,ct){var lt,J,Bt;if(this.options.backtrack_lexer&&(Bt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Bt.yylloc.range=this.yylloc.range.slice(0))),(J=pt[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=J.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:J?J[J.length-1].length-J[J.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+pt[0].length},this.yytext+=pt[0],this.match+=pt[0],this.matches=pt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(pt[0].length),this.matched+=pt[0],lt=this.performAction.call(this,this.yy,this,ct,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),lt)return lt;if(this._backtrack){for(var Tt in Bt)this[Tt]=Bt[Tt];return!1}return!1},next:function(){if(this.done)return this.EOF;var pt,ct,lt,J;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var Bt=this._currentRules(),Tt=0;Tt<Bt.length;Tt++)if((lt=this._input.match(this.rules[Bt[Tt]]))&&(!ct||lt[0].length>ct[0].length)){if(ct=lt,J=Tt,this.options.backtrack_lexer){if((pt=this.test_match(lt,Bt[Tt]))!==!1)return pt;if(this._backtrack){ct=!1;continue}return!1}if(!this.options.flex)break}return ct?(pt=this.test_match(ct,Bt[J]))!==!1&&pt:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(pt){this.conditionStack.push(pt)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(pt){return(pt=this.conditionStack.length-1-Math.abs(pt||0))>=0?this.conditionStack[pt]:"INITIAL"},pushState:function(pt){this.begin(pt)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(pt,ct,lt,J){switch(lt){case 0:return this.begin("open_directive"),26;case 1:return this.begin("type_directive"),27;case 2:return this.popState(),this.begin("arg_directive"),15;case 3:return this.popState(),this.popState(),29;case 4:return 28;case 5:case 6:case 8:case 9:break;case 7:return 11;case 10:return 4;case 11:return 17;case 12:return this.begin("acc_title"),18;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),20;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:return 23;case 20:return 24;case 21:return 25;case 22:return 15;case 23:return 6;case 24:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{open_directive:{rules:[1],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,11,12,14,16,19,20,21,22,23,24],inclusive:!0}}};function it(){this.yy={}}return K.lexer=st,it.prototype=K,K.Parser=it,new it}();C.parser=h,C.Parser=h.Parser,C.parse=function(){return h.parse.apply(h,arguments)},C.main=function(a){a[1]||(console.log("Usage: "+a[0]+" FILE"),process.exit(1));var O=v("?0f62").readFileSync(v("./node_modules/path-browserify/index.js").normalize(a[1]),"utf8");return C.parser.parse(O)},v.c[v.s]===E&&C.main(process.argv.slice(1))},"./src/accessibility.js":(E,C,v)=>{function h(a,O,_){if(O.insert!==void 0){var M=a.getAccTitle(),P=a.getAccDescription();O.attr("role","img").attr("aria-labelledby","chart-title-"+_+" chart-desc-"+_),O.insert("desc",":first-child").attr("id","chart-desc-"+_).text(P),O.insert("title",":first-child").attr("id","chart-title-"+_).text(M)}}v.r(C),v.d(C,{default:()=>h})},"./src/commonDb.js":(E,C,v)=>{v.r(C),v.d(C,{clear:()=>R,default:()=>K,getAccDescription:()=>X,getAccTitle:()=>F,getDiagramTitle:()=>V,setAccDescription:()=>j,setAccTitle:()=>$,setDiagramTitle:()=>W});var h=v("./src/diagrams/common/common.js"),a=v("./src/config.js"),O="",_="",M="",P=function(st){return(0,h.sanitizeText)(st,(0,a.getConfig)())},R=function(){O="",M="",_=""},$=function(st){O=P(st).replace(/^\s+/g,"")},F=function(){return O||_},j=function(st){M=P(st).replace(/\n\s+/g,`
`)},X=function(){return M},W=function(st){_=P(st)},V=function(){return _};const K={setAccTitle:$,getAccTitle:F,setDiagramTitle:W,getDiagramTitle:V,getAccDescription:X,setAccDescription:j,clear:R}},"./src/config.js":(E,C,v)=>{v.r(C),v.d(C,{addDirective:()=>lt,defaultConfig:()=>R,getConfig:()=>pt,getSiteConfig:()=>st,reset:()=>J,sanitize:()=>ct,saveConfigFromInitialize:()=>V,setConfig:()=>it,setSiteConfig:()=>W,updateCurrentConfig:()=>X,updateSiteConfig:()=>K});var h=v("./src/utils.js"),a=v("./src/logger.js"),O=v("./src/themes/index.js"),_=v("./src/defaultConfig.js");function M(Bt){return M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Tt){return typeof Tt}:function(Tt){return Tt&&typeof Symbol=="function"&&Tt.constructor===Symbol&&Tt!==Symbol.prototype?"symbol":typeof Tt},M(Bt)}var P,R=Object.freeze(_.default),$=(0,h.assignWithDepth)({},R),F=[],j=(0,h.assignWithDepth)({},R),X=function(Bt,Tt){for(var Ct=(0,h.assignWithDepth)({},Bt),St={},at=0;at<Tt.length;at++){var yt=Tt[at];ct(yt),St=(0,h.assignWithDepth)(St,yt)}if(Ct=(0,h.assignWithDepth)(Ct,St),St.theme&&O.default[St.theme]){var kt=(0,h.assignWithDepth)({},P),xt=(0,h.assignWithDepth)(kt.themeVariables||{},St.themeVariables);Ct.themeVariables=O.default[Ct.theme].getThemeVariables(xt)}return j=Ct,Ct},W=function(Bt){return $=(0,h.assignWithDepth)({},R),$=(0,h.assignWithDepth)($,Bt),Bt.theme&&O.default[Bt.theme]&&($.themeVariables=O.default[Bt.theme].getThemeVariables(Bt.themeVariables)),j=X($,F),$},V=function(Bt){P=(0,h.assignWithDepth)({},Bt)},K=function(Bt){return $=(0,h.assignWithDepth)($,Bt),X($,F),$},st=function(){return(0,h.assignWithDepth)({},$)},it=function(Bt){return(0,h.assignWithDepth)(j,Bt),pt()},pt=function(){return(0,h.assignWithDepth)({},j)},ct=function Bt(Tt){Object.keys($.secure).forEach(function(Ct){Tt[$.secure[Ct]]!==void 0&&(a.log.debug("Denied attempt to modify a secure key ".concat($.secure[Ct]),Tt[$.secure[Ct]]),delete Tt[$.secure[Ct]])}),Object.keys(Tt).forEach(function(Ct){Ct.indexOf("__")===0&&delete Tt[Ct]}),Object.keys(Tt).forEach(function(Ct){typeof Tt[Ct]=="string"&&(Tt[Ct].indexOf("<")>-1||Tt[Ct].indexOf(">")>-1||Tt[Ct].indexOf("url(data:")>-1)&&delete Tt[Ct],M(Tt[Ct])==="object"&&Bt(Tt[Ct])})},lt=function(Bt){Bt.fontFamily&&(Bt.themeVariables&&Bt.themeVariables.fontFamily||(Bt.themeVariables={fontFamily:Bt.fontFamily})),F.push(Bt),X($,F)},J=function(){X($,F=[])}},"./src/dagre-wrapper/clusters.js":(E,C,v)=>{v.r(C),v.d(C,{clear:()=>X,getClusterTitleWidth:()=>j,insertCluster:()=>F,positionCluster:()=>W});var h=v("./src/dagre-wrapper/intersect/intersect-rect.js"),a=v("./src/logger.js"),O=v("./src/dagre-wrapper/createLabel.js"),_=v("d3"),M=v("./src/config.js"),P=v("./src/diagrams/common/common.js"),R={rect:function(V,K){a.log.trace("Creating subgraph rect for ",K.id,K);var st=V.insert("g").attr("class","cluster"+(K.class?" "+K.class:"")).attr("id",K.id),it=st.insert("rect",":first-child"),pt=st.insert("g").attr("class","cluster-label"),ct=pt.node().appendChild((0,O.default)(K.labelText,K.labelStyle,void 0,!0)),lt=ct.getBBox();if((0,P.evaluate)((0,M.getConfig)().flowchart.htmlLabels)){var J=ct.children[0],Bt=(0,_.select)(ct);lt=J.getBoundingClientRect(),Bt.attr("width",lt.width),Bt.attr("height",lt.height)}var Tt=0*K.padding,Ct=Tt/2,St=K.width<=lt.width+Tt?lt.width+Tt:K.width;K.width<=lt.width+Tt?K.diff=(lt.width-K.width)/2-K.padding/2:K.diff=-K.padding/2,a.log.trace("Data ",K,JSON.stringify(K)),it.attr("style",K.style).attr("rx",K.rx).attr("ry",K.ry).attr("x",K.x-St/2).attr("y",K.y-K.height/2-Ct).attr("width",St).attr("height",K.height+Tt),pt.attr("transform","translate("+(K.x-lt.width/2)+", "+(K.y-K.height/2+K.padding/3)+")");var at=it.node().getBBox();return K.width=at.width,K.height=at.height,K.intersect=function(yt){return(0,h.default)(K,yt)},st},roundedWithTitle:function(V,K){var st=V.insert("g").attr("class",K.classes).attr("id",K.id),it=st.insert("rect",":first-child"),pt=st.insert("g").attr("class","cluster-label"),ct=st.append("rect"),lt=pt.node().appendChild((0,O.default)(K.labelText,K.labelStyle,void 0,!0)),J=lt.getBBox();if((0,P.evaluate)((0,M.getConfig)().flowchart.htmlLabels)){var Bt=lt.children[0],Tt=(0,_.select)(lt);J=Bt.getBoundingClientRect(),Tt.attr("width",J.width),Tt.attr("height",J.height)}J=lt.getBBox();var Ct=0*K.padding,St=Ct/2,at=K.width<=J.width+K.padding?J.width+K.padding:K.width;K.width<=J.width+K.padding?K.diff=(J.width+0*K.padding-K.width)/2:K.diff=-K.padding/2,it.attr("class","outer").attr("x",K.x-at/2-St).attr("y",K.y-K.height/2-St).attr("width",at+Ct).attr("height",K.height+Ct),ct.attr("class","inner").attr("x",K.x-at/2-St).attr("y",K.y-K.height/2-St+J.height-1).attr("width",at+Ct).attr("height",K.height+Ct-J.height-3),pt.attr("transform","translate("+(K.x-J.width/2)+", "+(K.y-K.height/2-K.padding/3+((0,P.evaluate)((0,M.getConfig)().flowchart.htmlLabels)?5:3))+")");var yt=it.node().getBBox();return K.height=yt.height,K.intersect=function(kt){return(0,h.default)(K,kt)},st},noteGroup:function(V,K){var st=V.insert("g").attr("class","note-cluster").attr("id",K.id),it=st.insert("rect",":first-child"),pt=0*K.padding,ct=pt/2;it.attr("rx",K.rx).attr("ry",K.ry).attr("x",K.x-K.width/2-ct).attr("y",K.y-K.height/2-ct).attr("width",K.width+pt).attr("height",K.height+pt).attr("fill","none");var lt=it.node().getBBox();return K.width=lt.width,K.height=lt.height,K.intersect=function(J){return(0,h.default)(K,J)},st},divider:function(V,K){var st=V.insert("g").attr("class",K.classes).attr("id",K.id),it=st.insert("rect",":first-child"),pt=0*K.padding,ct=pt/2;it.attr("class","divider").attr("x",K.x-K.width/2-ct).attr("y",K.y-K.height/2).attr("width",K.width+pt).attr("height",K.height+pt);var lt=it.node().getBBox();return K.width=lt.width,K.height=lt.height,K.diff=-K.padding/2,K.intersect=function(J){return(0,h.default)(K,J)},st}},$={},F=function(V,K){a.log.trace("Inserting cluster");var st=K.shape||"rect";$[K.id]=R[st](V,K)},j=function(V,K){var st=(0,O.default)(K.labelText,K.labelStyle,void 0,!0);V.node().appendChild(st);var it=st.getBBox().width;return V.node().removeChild(st),it},X=function(){$={}},W=function(V){a.log.info("Position cluster ("+V.id+", "+V.x+", "+V.y+")"),$[V.id].attr("transform","translate("+V.x+", "+V.y+")")}},"./src/dagre-wrapper/createLabel.js":(E,C,v)=>{v.r(C),v.d(C,{default:()=>P});var h=v("d3"),a=v("./src/logger.js"),O=v("./src/config.js"),_=v("./src/diagrams/common/common.js");function M(R){return M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},M(R)}const P=function(R,$,F,j){var X,W,V,K,st,it,pt=R||"";if(M(pt)==="object"&&(pt=pt[0]),(0,_.evaluate)((0,O.getConfig)().flowchart.htmlLabels))return pt=pt.replace(/\\n|\n/g,"<br />"),a.log.info("vertexText"+pt),X={isNode:j,label:pt.replace(/fa[lrsb]?:fa-[\w-]+/g,function(Tt){return"<i class='".concat(Tt.replace(":"," "),"'></i>")}),labelStyle:$.replace("fill:","color:")},V=(0,h.select)(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),K=V.append("xhtml:div"),st=X.label,it=X.isNode?"nodeLabel":"edgeLabel",K.html('<span class="'+it+'" '+(X.labelStyle?'style="'+X.labelStyle+'"':"")+">"+st+"</span>"),(W=X.labelStyle)&&K.attr("style",W),K.style("display","inline-block"),K.style("white-space","nowrap"),K.attr("xmlns","http://www.w3.org/1999/xhtml"),V.node();var ct=document.createElementNS("http://www.w3.org/2000/svg","text");ct.setAttribute("style",$.replace("color:","fill:"));var lt=[];lt=typeof pt=="string"?pt.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(pt)?pt:[];for(var J=0;J<lt.length;J++){var Bt=document.createElementNS("http://www.w3.org/2000/svg","tspan");Bt.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),Bt.setAttribute("dy","1em"),Bt.setAttribute("x","0"),F?Bt.setAttribute("class","title-row"):Bt.setAttribute("class","row"),Bt.textContent=lt[J].trim(),ct.appendChild(Bt)}return ct}},"./src/dagre-wrapper/edges.js":(E,C,v)=>{v.r(C),v.d(C,{clear:()=>F,insertEdge:()=>st,insertEdgeLabel:()=>j,intersection:()=>V,positionEdgeLabel:()=>W});var h=v("./src/logger.js"),a=v("./src/dagre-wrapper/createLabel.js"),O=v("d3"),_=v("./src/config.js"),M=v("./src/utils.js"),P=v("./src/diagrams/common/common.js"),R={},$={},F=function(){R={},$={}},j=function(it,pt){var ct=(0,a.default)(pt.label,pt.labelStyle),lt=it.insert("g").attr("class","edgeLabel"),J=lt.insert("g").attr("class","label");J.node().appendChild(ct);var Bt,Tt=ct.getBBox();if((0,P.evaluate)((0,_.getConfig)().flowchart.htmlLabels)){var Ct=ct.children[0],St=(0,O.select)(ct);Tt=Ct.getBoundingClientRect(),St.attr("width",Tt.width),St.attr("height",Tt.height)}if(J.attr("transform","translate("+-Tt.width/2+", "+-Tt.height/2+")"),R[pt.id]=lt,pt.width=Tt.width,pt.height=Tt.height,pt.startLabelLeft){var at=(0,a.default)(pt.startLabelLeft,pt.labelStyle),yt=it.insert("g").attr("class","edgeTerminals"),kt=yt.insert("g").attr("class","inner");Bt=kt.node().appendChild(at);var xt=at.getBBox();kt.attr("transform","translate("+-xt.width/2+", "+-xt.height/2+")"),$[pt.id]||($[pt.id]={}),$[pt.id].startLeft=yt,X(Bt,pt.startLabelLeft)}if(pt.startLabelRight){var Pt=(0,a.default)(pt.startLabelRight,pt.labelStyle),mt=it.insert("g").attr("class","edgeTerminals"),Yt=mt.insert("g").attr("class","inner");Bt=mt.node().appendChild(Pt),Yt.node().appendChild(Pt);var ne=Pt.getBBox();Yt.attr("transform","translate("+-ne.width/2+", "+-ne.height/2+")"),$[pt.id]||($[pt.id]={}),$[pt.id].startRight=mt,X(Bt,pt.startLabelRight)}if(pt.endLabelLeft){var Qt=(0,a.default)(pt.endLabelLeft,pt.labelStyle),Kt=it.insert("g").attr("class","edgeTerminals"),Xt=Kt.insert("g").attr("class","inner");Bt=Xt.node().appendChild(Qt);var se=Qt.getBBox();Xt.attr("transform","translate("+-se.width/2+", "+-se.height/2+")"),Kt.node().appendChild(Qt),$[pt.id]||($[pt.id]={}),$[pt.id].endLeft=Kt,X(Bt,pt.endLabelLeft)}if(pt.endLabelRight){var ue=(0,a.default)(pt.endLabelRight,pt.labelStyle),re=it.insert("g").attr("class","edgeTerminals"),_t=re.insert("g").attr("class","inner");Bt=_t.node().appendChild(ue);var ut=ue.getBBox();_t.attr("transform","translate("+-ut.width/2+", "+-ut.height/2+")"),re.node().appendChild(ue),$[pt.id]||($[pt.id]={}),$[pt.id].endRight=re,X(Bt,pt.endLabelRight)}};function X(it,pt){(0,_.getConfig)().flowchart.htmlLabels&&it&&(it.style.width=9*pt.length+"px",it.style.height="12px")}var W=function(it,pt){h.log.info("Moving label abc78 ",it.id,it.label,R[it.id]);var ct=pt.updatedPath?pt.updatedPath:pt.originalPath;if(it.label){var lt=R[it.id],J=it.x,Bt=it.y;if(ct){var Tt=M.default.calcLabelPosition(ct);h.log.info("Moving label from (",J,",",Bt,") to (",Tt.x,",",Tt.y,") abc78")}lt.attr("transform","translate("+J+", "+Bt+")")}if(it.startLabelLeft){var Ct=$[it.id].startLeft,St=it.x,at=it.y;if(ct){var yt=M.default.calcTerminalLabelPosition(it.arrowTypeStart?10:0,"start_left",ct);St=yt.x,at=yt.y}Ct.attr("transform","translate("+St+", "+at+")")}if(it.startLabelRight){var kt=$[it.id].startRight,xt=it.x,Pt=it.y;if(ct){var mt=M.default.calcTerminalLabelPosition(it.arrowTypeStart?10:0,"start_right",ct);xt=mt.x,Pt=mt.y}kt.attr("transform","translate("+xt+", "+Pt+")")}if(it.endLabelLeft){var Yt=$[it.id].endLeft,ne=it.x,Qt=it.y;if(ct){var Kt=M.default.calcTerminalLabelPosition(it.arrowTypeEnd?10:0,"end_left",ct);ne=Kt.x,Qt=Kt.y}Yt.attr("transform","translate("+ne+", "+Qt+")")}if(it.endLabelRight){var Xt=$[it.id].endRight,se=it.x,ue=it.y;if(ct){var re=M.default.calcTerminalLabelPosition(it.arrowTypeEnd?10:0,"end_right",ct);se=re.x,ue=re.y}Xt.attr("transform","translate("+se+", "+ue+")")}},V=function(it,pt,ct){h.log.warn(`intersection calc abc89:
  outsidePoint: `.concat(JSON.stringify(pt),`
  insidePoint : `).concat(JSON.stringify(ct),`
  node        : x:`).concat(it.x," y:").concat(it.y," w:").concat(it.width," h:").concat(it.height));var lt=it.x,J=it.y,Bt=Math.abs(lt-ct.x),Tt=it.width/2,Ct=ct.x<pt.x?Tt-Bt:Tt+Bt,St=it.height/2,at=Math.abs(pt.y-ct.y),yt=Math.abs(pt.x-ct.x);if(Math.abs(J-pt.y)*Tt>Math.abs(lt-pt.x)*St){var kt=ct.y<pt.y?pt.y-St-J:J-St-pt.y;Ct=yt*kt/at;var xt={x:ct.x<pt.x?ct.x+Ct:ct.x-yt+Ct,y:ct.y<pt.y?ct.y+at-kt:ct.y-at+kt};return Ct===0&&(xt.x=pt.x,xt.y=pt.y),yt===0&&(xt.x=pt.x),at===0&&(xt.y=pt.y),h.log.warn("abc89 topp/bott calc, Q ".concat(at,", q ").concat(kt,", R ").concat(yt,", r ").concat(Ct),xt),xt}var Pt=at*(Ct=ct.x<pt.x?pt.x-Tt-lt:lt-Tt-pt.x)/yt,mt=ct.x<pt.x?ct.x+yt-Ct:ct.x-yt+Ct,Yt=ct.y<pt.y?ct.y+Pt:ct.y-Pt;return h.log.warn("sides calc abc89, Q ".concat(at,", q ").concat(Pt,", R ").concat(yt,", r ").concat(Ct),{_x:mt,_y:Yt}),Ct===0&&(mt=pt.x,Yt=pt.y),yt===0&&(mt=pt.x),at===0&&(Yt=pt.y),{x:mt,y:Yt}},K=function(it,pt){h.log.warn("abc88 cutPathAtIntersect",it,pt);var ct=[],lt=it[0],J=!1;return it.forEach(function(Bt){if(h.log.info("abc88 checking point",Bt,pt),function(St,at){var yt=St.x,kt=St.y,xt=Math.abs(at.x-yt),Pt=Math.abs(at.y-kt),mt=St.width/2,Yt=St.height/2;return xt>=mt||Pt>=Yt}(pt,Bt)||J)h.log.warn("abc88 outside",Bt,lt),lt=Bt,J||ct.push(Bt);else{var Tt=V(pt,lt,Bt);h.log.warn("abc88 inside",Bt,lt,Tt),h.log.warn("abc88 intersection",Tt);var Ct=!1;ct.forEach(function(St){Ct=Ct||St.x===Tt.x&&St.y===Tt.y}),ct.find(function(St){return St.x===Tt.x&&St.y===Tt.y})?h.log.warn("abc88 no intersect",Tt,ct):ct.push(Tt),J=!0}}),h.log.warn("abc88 returning points",ct),ct},st=function(it,pt,ct,lt,J,Bt){var Tt=ct.points,Ct=!1,St=Bt.node(pt.v),at=Bt.node(pt.w);h.log.info("abc88 InsertEdge: ",ct),at.intersect&&St.intersect&&((Tt=Tt.slice(1,ct.points.length-1)).unshift(St.intersect(Tt[0])),h.log.info("Last point",Tt[Tt.length-1],at,at.intersect(Tt[Tt.length-1])),Tt.push(at.intersect(Tt[Tt.length-1]))),ct.toCluster&&(h.log.info("to cluster abc88",lt[ct.toCluster]),Tt=K(ct.points,lt[ct.toCluster].node),Ct=!0),ct.fromCluster&&(h.log.info("from cluster abc88",lt[ct.fromCluster]),Tt=K(Tt.reverse(),lt[ct.fromCluster].node).reverse(),Ct=!0);var yt,kt=Tt.filter(function(Qt){return!Number.isNaN(Qt.y)});yt=(J==="graph"||J==="flowchart")&&ct.curve||O.curveBasis;var xt,Pt=(0,O.line)().x(function(Qt){return Qt.x}).y(function(Qt){return Qt.y}).curve(yt);switch(ct.thickness){case"normal":xt="edge-thickness-normal";break;case"thick":xt="edge-thickness-thick";break;default:xt=""}switch(ct.pattern){case"solid":xt+=" edge-pattern-solid";break;case"dotted":xt+=" edge-pattern-dotted";break;case"dashed":xt+=" edge-pattern-dashed"}var mt=it.append("path").attr("d",Pt(kt)).attr("id",ct.id).attr("class"," "+xt+(ct.classes?" "+ct.classes:"")).attr("style",ct.style),Yt="";switch((0,_.getConfig)().state.arrowMarkerAbsolute&&(Yt=(Yt=(Yt=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),h.log.info("arrowTypeStart",ct.arrowTypeStart),h.log.info("arrowTypeEnd",ct.arrowTypeEnd),ct.arrowTypeStart){case"arrow_cross":mt.attr("marker-start","url("+Yt+"#"+J+"-crossStart)");break;case"arrow_point":mt.attr("marker-start","url("+Yt+"#"+J+"-pointStart)");break;case"arrow_barb":mt.attr("marker-start","url("+Yt+"#"+J+"-barbStart)");break;case"arrow_circle":mt.attr("marker-start","url("+Yt+"#"+J+"-circleStart)");break;case"aggregation":mt.attr("marker-start","url("+Yt+"#"+J+"-aggregationStart)");break;case"extension":mt.attr("marker-start","url("+Yt+"#"+J+"-extensionStart)");break;case"composition":mt.attr("marker-start","url("+Yt+"#"+J+"-compositionStart)");break;case"dependency":mt.attr("marker-start","url("+Yt+"#"+J+"-dependencyStart)")}switch(ct.arrowTypeEnd){case"arrow_cross":mt.attr("marker-end","url("+Yt+"#"+J+"-crossEnd)");break;case"arrow_point":mt.attr("marker-end","url("+Yt+"#"+J+"-pointEnd)");break;case"arrow_barb":mt.attr("marker-end","url("+Yt+"#"+J+"-barbEnd)");break;case"arrow_circle":mt.attr("marker-end","url("+Yt+"#"+J+"-circleEnd)");break;case"aggregation":mt.attr("marker-end","url("+Yt+"#"+J+"-aggregationEnd)");break;case"extension":mt.attr("marker-end","url("+Yt+"#"+J+"-extensionEnd)");break;case"composition":mt.attr("marker-end","url("+Yt+"#"+J+"-compositionEnd)");break;case"dependency":mt.attr("marker-end","url("+Yt+"#"+J+"-dependencyEnd)")}var ne={};return Ct&&(ne.updatedPath=Tt),ne.originalPath=ct.points,ne}},"./src/dagre-wrapper/index.js":(E,C,v)=>{v.r(C),v.d(C,{render:()=>V});var h=v("dagre"),a=v.n(h),O=v("graphlib"),_=v.n(O),M=v("./src/dagre-wrapper/markers.js"),P=v("./src/dagre-wrapper/shapes/util.js"),R=v("./src/dagre-wrapper/mermaid-graphlib.js"),$=v("./src/dagre-wrapper/nodes.js"),F=v("./src/dagre-wrapper/clusters.js"),j=v("./src/dagre-wrapper/edges.js"),X=v("./src/logger.js"),W=function K(st,it,pt,ct){X.log.info("Graph in recursive render: XXX",_().json.write(it),ct);var lt=it.graph().rankdir;X.log.trace("Dir in recursive render - dir:",lt);var J=st.insert("g").attr("class","root");it.nodes()?X.log.info("Recursive render XXX",it.nodes()):X.log.info("No nodes found for",it),it.edges().length>0&&X.log.trace("Recursive edges",it.edge(it.edges()[0]));var Bt=J.insert("g").attr("class","clusters"),Tt=J.insert("g").attr("class","edgePaths"),Ct=J.insert("g").attr("class","edgeLabels"),St=J.insert("g").attr("class","nodes");it.nodes().forEach(function(yt){var kt=it.node(yt);if(ct!==void 0){var xt=JSON.parse(JSON.stringify(ct.clusterData));X.log.info("Setting data for cluster XXX (",yt,") ",xt,ct),it.setNode(ct.id,xt),it.parent(yt)||(X.log.trace("Setting parent",yt,ct.id),it.setParent(yt,ct.id,xt))}if(X.log.info("(Insert) Node XXX"+yt+": "+JSON.stringify(it.node(yt))),kt&&kt.clusterNode){X.log.info("Cluster identified",yt,kt.width,it.node(yt));var Pt=K(St,kt.graph,pt,it.node(yt)),mt=Pt.elem;(0,P.updateNodeBounds)(kt,mt),kt.diff=Pt.diff||0,X.log.info("Node bounds (abc123)",yt,kt,kt.width,kt.x,kt.y),(0,$.setNodeElem)(mt,kt),X.log.warn("Recursive render complete ",mt,kt)}else it.children(yt).length>0?(X.log.info("Cluster - the non recursive path XXX",yt,kt.id,kt,it),X.log.info((0,R.findNonClusterChild)(kt.id,it)),R.clusterDb[kt.id]={id:(0,R.findNonClusterChild)(kt.id,it),node:kt}):(X.log.info("Node - the non recursive path",yt,kt.id,kt),(0,$.insertNode)(St,it.node(yt),lt))}),it.edges().forEach(function(yt){var kt=it.edge(yt.v,yt.w,yt.name);X.log.info("Edge "+yt.v+" -> "+yt.w+": "+JSON.stringify(yt)),X.log.info("Edge "+yt.v+" -> "+yt.w+": ",yt," ",JSON.stringify(it.edge(yt))),X.log.info("Fix",R.clusterDb,"ids:",yt.v,yt.w,"Translateing: ",R.clusterDb[yt.v],R.clusterDb[yt.w]),(0,j.insertEdgeLabel)(Ct,kt)}),it.edges().forEach(function(yt){X.log.info("Edge "+yt.v+" -> "+yt.w+": "+JSON.stringify(yt))}),X.log.info("#############################################"),X.log.info("###                Layout                 ###"),X.log.info("#############################################"),X.log.info(it),a().layout(it),X.log.info("Graph after layout:",_().json.write(it));var at=0;return(0,R.sortNodesByHierarchy)(it).forEach(function(yt){var kt=it.node(yt);X.log.info("Position "+yt+": "+JSON.stringify(it.node(yt))),X.log.info("Position "+yt+": ("+kt.x,","+kt.y,") width: ",kt.width," height: ",kt.height),kt&&kt.clusterNode?(0,$.positionNode)(kt):it.children(yt).length>0?((0,F.insertCluster)(Bt,kt),R.clusterDb[kt.id].node=kt):(0,$.positionNode)(kt)}),it.edges().forEach(function(yt){var kt=it.edge(yt);X.log.info("Edge "+yt.v+" -> "+yt.w+": "+JSON.stringify(kt),kt);var xt=(0,j.insertEdge)(Tt,yt,kt,R.clusterDb,pt,it);(0,j.positionEdgeLabel)(kt,xt)}),it.nodes().forEach(function(yt){var kt=it.node(yt);X.log.info(yt,kt.type,kt.diff),kt.type==="group"&&(at=kt.diff)}),{elem:J,diff:at}},V=function(K,st,it,pt,ct){(0,M.default)(K,it,pt,ct),(0,$.clear)(),(0,j.clear)(),(0,F.clear)(),(0,R.clear)(),X.log.warn("Graph at first:",_().json.write(st)),(0,R.adjustClustersAndEdges)(st),X.log.warn("Graph after:",_().json.write(st)),W(K,st,pt)}},"./src/dagre-wrapper/intersect/index.js":(E,C,v)=>{v.r(C),v.d(C,{default:()=>R});var h=v("./src/dagre-wrapper/intersect/intersect-node.js"),a=v.n(h),O=v("./src/dagre-wrapper/intersect/intersect-circle.js"),_=v("./src/dagre-wrapper/intersect/intersect-ellipse.js"),M=v("./src/dagre-wrapper/intersect/intersect-polygon.js"),P=v("./src/dagre-wrapper/intersect/intersect-rect.js");const R={node:a(),circle:O.default,ellipse:_.default,polygon:M.default,rect:P.default}},"./src/dagre-wrapper/intersect/intersect-circle.js":(E,C,v)=>{v.r(C),v.d(C,{default:()=>a});var h=v("./src/dagre-wrapper/intersect/intersect-ellipse.js");const a=function(O,_,M){return(0,h.default)(O,_,_,M)}},"./src/dagre-wrapper/intersect/intersect-ellipse.js":(E,C,v)=>{v.r(C),v.d(C,{default:()=>h});const h=function(a,O,_,M){var P=a.x,R=a.y,$=P-M.x,F=R-M.y,j=Math.sqrt(O*O*F*F+_*_*$*$),X=Math.abs(O*_*$/j);M.x<P&&(X=-X);var W=Math.abs(O*_*F/j);return M.y<R&&(W=-W),{x:P+X,y:R+W}}},"./src/dagre-wrapper/intersect/intersect-line.js":(E,C,v)=>{function h(O,_){return O*_>0}v.r(C),v.d(C,{default:()=>a});const a=function(O,_,M,P){var R,$,F,j,X,W,V,K,st,it,pt,ct,lt;if(R=_.y-O.y,F=O.x-_.x,X=_.x*O.y-O.x*_.y,st=R*M.x+F*M.y+X,it=R*P.x+F*P.y+X,!(st!==0&&it!==0&&h(st,it)||($=P.y-M.y,j=M.x-P.x,W=P.x*M.y-M.x*P.y,V=$*O.x+j*O.y+W,K=$*_.x+j*_.y+W,V!==0&&K!==0&&h(V,K)||(pt=R*j-$*F)==0)))return ct=Math.abs(pt/2),{x:(lt=F*W-j*X)<0?(lt-ct)/pt:(lt+ct)/pt,y:(lt=$*X-R*W)<0?(lt-ct)/pt:(lt+ct)/pt}}},"./src/dagre-wrapper/intersect/intersect-node.js":E=>{E.exports=function(C,v){return C.intersect(v)}},"./src/dagre-wrapper/intersect/intersect-polygon.js":(E,C,v)=>{v.r(C),v.d(C,{default:()=>a});var h=v("./src/dagre-wrapper/intersect/intersect-line.js");const a=function(O,_,M){var P=O.x,R=O.y,$=[],F=Number.POSITIVE_INFINITY,j=Number.POSITIVE_INFINITY;typeof _.forEach=="function"?_.forEach(function(pt){F=Math.min(F,pt.x),j=Math.min(j,pt.y)}):(F=Math.min(F,_.x),j=Math.min(j,_.y));for(var X=P-O.width/2-F,W=R-O.height/2-j,V=0;V<_.length;V++){var K=_[V],st=_[V<_.length-1?V+1:0],it=(0,h.default)(O,M,{x:X+K.x,y:W+K.y},{x:X+st.x,y:W+st.y});it&&$.push(it)}return $.length?($.length>1&&$.sort(function(pt,ct){var lt=pt.x-M.x,J=pt.y-M.y,Bt=Math.sqrt(lt*lt+J*J),Tt=ct.x-M.x,Ct=ct.y-M.y,St=Math.sqrt(Tt*Tt+Ct*Ct);return Bt<St?-1:Bt===St?0:1}),$[0]):O}},"./src/dagre-wrapper/intersect/intersect-rect.js":(E,C,v)=>{v.r(C),v.d(C,{default:()=>h});const h=function(a,O){var _,M,P=a.x,R=a.y,$=O.x-P,F=O.y-R,j=a.width/2,X=a.height/2;return Math.abs(F)*j>Math.abs($)*X?(F<0&&(X=-X),_=F===0?0:X*$/F,M=X):($<0&&(j=-j),_=j,M=$===0?0:j*F/$),{x:P+_,y:R+M}}},"./src/dagre-wrapper/markers.js":(E,C,v)=>{v.r(C),v.d(C,{default:()=>O});var h=v("./src/logger.js"),a={extension:function(_,M,P){h.log.trace("Making markers for ",P),_.append("defs").append("marker").attr("id",M+"-extensionStart").attr("class","marker extension "+M).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),_.append("defs").append("marker").attr("id",M+"-extensionEnd").attr("class","marker extension "+M).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},composition:function(_,M){_.append("defs").append("marker").attr("id",M+"-compositionStart").attr("class","marker composition "+M).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),_.append("defs").append("marker").attr("id",M+"-compositionEnd").attr("class","marker composition "+M).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},aggregation:function(_,M){_.append("defs").append("marker").attr("id",M+"-aggregationStart").attr("class","marker aggregation "+M).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),_.append("defs").append("marker").attr("id",M+"-aggregationEnd").attr("class","marker aggregation "+M).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},dependency:function(_,M){_.append("defs").append("marker").attr("id",M+"-dependencyStart").attr("class","marker dependency "+M).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),_.append("defs").append("marker").attr("id",M+"-dependencyEnd").attr("class","marker dependency "+M).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},point:function(_,M){_.append("marker").attr("id",M+"-pointEnd").attr("class","marker "+M).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),_.append("marker").attr("id",M+"-pointStart").attr("class","marker "+M).attr("viewBox","0 0 10 10").attr("refX",0).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},circle:function(_,M){_.append("marker").attr("id",M+"-circleEnd").attr("class","marker "+M).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),_.append("marker").attr("id",M+"-circleStart").attr("class","marker "+M).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},cross:function(_,M){_.append("marker").attr("id",M+"-crossEnd").attr("class","marker cross "+M).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),_.append("marker").attr("id",M+"-crossStart").attr("class","marker cross "+M).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},barb:function(_,M){_.append("defs").append("marker").attr("id",M+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")}};const O=function(_,M,P,R){M.forEach(function($){a[$](_,P,R)})}},"./src/dagre-wrapper/mermaid-graphlib.js":(E,C,v)=>{v.r(C),v.d(C,{adjustClustersAndEdges:()=>K,clear:()=>R,clusterDb:()=>_,extractDecendants:()=>j,extractor:()=>st,findNonClusterChild:()=>W,sortNodesByHierarchy:()=>pt,validate:()=>X});var h=v("./src/logger.js"),a=v("graphlib"),O=v.n(a),_={},M={},P={},R=function(){M={},P={},_={}},$=function(ct,lt){return h.log.trace("In isDecendant",lt," ",ct," = ",M[lt].indexOf(ct)>=0),M[lt].indexOf(ct)>=0},F=function ct(lt,J,Bt,Tt){h.log.warn("Copying children of ",lt,"root",Tt,"data",J.node(lt),Tt);var Ct=J.children(lt)||[];lt!==Tt&&Ct.push(lt),h.log.warn("Copying (nodes) clusterId",lt,"nodes",Ct),Ct.forEach(function(St){if(J.children(St).length>0)ct(St,J,Bt,Tt);else{var at=J.node(St);h.log.info("cp ",St," to ",Tt," with parent ",lt),Bt.setNode(St,at),Tt!==J.parent(St)&&(h.log.warn("Setting parent",St,J.parent(St)),Bt.setParent(St,J.parent(St))),lt!==Tt&&St!==lt?(h.log.debug("Setting parent",St,lt),Bt.setParent(St,lt)):(h.log.info("In copy ",lt,"root",Tt,"data",J.node(lt),Tt),h.log.debug("Not Setting parent for node=",St,"cluster!==rootId",lt!==Tt,"node!==clusterId",St!==lt));var yt=J.edges(St);h.log.debug("Copying Edges",yt),yt.forEach(function(kt){h.log.info("Edge",kt);var xt=J.edge(kt.v,kt.w,kt.name);h.log.info("Edge data",xt,Tt);try{(function(Pt,mt){return h.log.info("Decendants of ",mt," is ",M[mt]),h.log.info("Edge is ",Pt),Pt.v!==mt&&Pt.w!==mt&&(M[mt]?(h.log.info("Here "),M[mt].indexOf(Pt.v)>=0||!!$(Pt.v,mt)||!!$(Pt.w,mt)||M[mt].indexOf(Pt.w)>=0):(h.log.debug("Tilt, ",mt,",not in decendants"),!1))})(kt,Tt)?(h.log.info("Copying as ",kt.v,kt.w,xt,kt.name),Bt.setEdge(kt.v,kt.w,xt,kt.name),h.log.info("newGraph edges ",Bt.edges(),Bt.edge(Bt.edges()[0]))):h.log.info("Skipping copy of edge ",kt.v,"-->",kt.w," rootId: ",Tt," clusterId:",lt)}catch(Pt){h.log.error(Pt)}})}h.log.debug("Removing node",St),J.removeNode(St)})},j=function ct(lt,J){for(var Bt=J.children(lt),Tt=[].concat(Bt),Ct=0;Ct<Bt.length;Ct++)P[Bt[Ct]]=lt,Tt=Tt.concat(ct(Bt[Ct],J));return Tt},X=function(ct){var lt=ct.edges();h.log.trace("Edges: ",lt);for(var J=0;J<lt.length;J++){if(ct.children(lt[J].v).length>0)return h.log.trace("The node ",lt[J].v," is part of and edge even though it has children"),!1;if(ct.children(lt[J].w).length>0)return h.log.trace("The node ",lt[J].w," is part of and edge even though it has children"),!1}return!0},W=function ct(lt,J){h.log.trace("Searching",lt);var Bt=J.children(lt);if(h.log.trace("Searching children of id ",lt,Bt),Bt.length<1)return h.log.trace("This is a valid node",lt),lt;for(var Tt=0;Tt<Bt.length;Tt++){var Ct=ct(Bt[Tt],J);if(Ct)return h.log.trace("Found replacement for",lt," => ",Ct),Ct}},V=function(ct){return _[ct]&&_[ct].externalConnections&&_[ct]?_[ct].id:ct},K=function(ct,lt){!ct||lt>10?h.log.debug("Opting out, no graph "):(h.log.debug("Opting in, graph "),ct.nodes().forEach(function(J){ct.children(J).length>0&&(h.log.warn("Cluster identified",J," Replacement id in edges: ",W(J,ct)),M[J]=j(J,ct),_[J]={id:W(J,ct),clusterData:ct.node(J)})}),ct.nodes().forEach(function(J){var Bt=ct.children(J),Tt=ct.edges();Bt.length>0?(h.log.debug("Cluster identified",J,M),Tt.forEach(function(Ct){Ct.v!==J&&Ct.w!==J&&$(Ct.v,J)^$(Ct.w,J)&&(h.log.warn("Edge: ",Ct," leaves cluster ",J),h.log.warn("Decendants of XXX ",J,": ",M[J]),_[J].externalConnections=!0)})):h.log.debug("Not a cluster ",J,M)}),ct.edges().forEach(function(J){var Bt=ct.edge(J);h.log.warn("Edge "+J.v+" -> "+J.w+": "+JSON.stringify(J)),h.log.warn("Edge "+J.v+" -> "+J.w+": "+JSON.stringify(ct.edge(J)));var Tt=J.v,Ct=J.w;if(h.log.warn("Fix XXX",_,"ids:",J.v,J.w,"Translateing: ",_[J.v]," --- ",_[J.w]),_[J.v]&&_[J.w]&&_[J.v]===_[J.w]){h.log.warn("Fixing and trixing link to self - removing XXX",J.v,J.w,J.name),h.log.warn("Fixing and trixing - removing XXX",J.v,J.w,J.name),Tt=V(J.v),Ct=V(J.w),ct.removeEdge(J.v,J.w,J.name);var St=J.w+"---"+J.v;ct.setNode(St,{domId:St,id:St,labelStyle:"",labelText:Bt.label,padding:0,shape:"labelRect",style:""});var at=JSON.parse(JSON.stringify(Bt)),yt=JSON.parse(JSON.stringify(Bt));at.label="",at.arrowTypeEnd="none",yt.label="",at.fromCluster=J.v,yt.toCluster=J.v,ct.setEdge(Tt,St,at,J.name+"-cyclic-special"),ct.setEdge(St,Ct,yt,J.name+"-cyclic-special")}else(_[J.v]||_[J.w])&&(h.log.warn("Fixing and trixing - removing XXX",J.v,J.w,J.name),Tt=V(J.v),Ct=V(J.w),ct.removeEdge(J.v,J.w,J.name),Tt!==J.v&&(Bt.fromCluster=J.v),Ct!==J.w&&(Bt.toCluster=J.w),h.log.warn("Fix Replacing with XXX",Tt,Ct,J.name),ct.setEdge(Tt,Ct,Bt,J.name))}),h.log.warn("Adjusted Graph",O().json.write(ct)),st(ct,0),h.log.trace(_))},st=function ct(lt,J){if(h.log.warn("extractor - ",J,O().json.write(lt),lt.children("D")),J>10)h.log.error("Bailing out");else{for(var Bt=lt.nodes(),Tt=!1,Ct=0;Ct<Bt.length;Ct++){var St=Bt[Ct],at=lt.children(St);Tt=Tt||at.length>0}if(Tt){h.log.debug("Nodes = ",Bt,J);for(var yt=0;yt<Bt.length;yt++){var kt=Bt[yt];if(h.log.debug("Extracting node",kt,_,_[kt]&&!_[kt].externalConnections,!lt.parent(kt),lt.node(kt),lt.children("D")," Depth ",J),_[kt])if(!_[kt].externalConnections&&lt.children(kt)&&lt.children(kt).length>0){h.log.warn("Cluster without external connections, without a parent and with children",kt,J);var xt=lt.graph().rankdir==="TB"?"LR":"TB";_[kt]&&_[kt].clusterData&&_[kt].clusterData.dir&&(xt=_[kt].clusterData.dir,h.log.warn("Fixing dir",_[kt].clusterData.dir,xt));var Pt=new(O()).Graph({multigraph:!0,compound:!0}).setGraph({rankdir:xt,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});h.log.warn("Old graph before copy",O().json.write(lt)),F(kt,lt,Pt,kt),lt.setNode(kt,{clusterNode:!0,id:kt,clusterData:_[kt].clusterData,labelText:_[kt].labelText,graph:Pt}),h.log.warn("New graph after copy node: (",kt,")",O().json.write(Pt)),h.log.debug("Old graph after copy",O().json.write(lt))}else h.log.warn("Cluster ** ",kt," **not meeting the criteria !externalConnections:",!_[kt].externalConnections," no parent: ",!lt.parent(kt)," children ",lt.children(kt)&&lt.children(kt).length>0,lt.children("D"),J),h.log.debug(_);else h.log.debug("Not a cluster",kt,J)}Bt=lt.nodes(),h.log.warn("New list of nodes",Bt);for(var mt=0;mt<Bt.length;mt++){var Yt=Bt[mt],ne=lt.node(Yt);h.log.warn(" Now next level",Yt,ne),ne.clusterNode&&ct(ne.graph,J+1)}}else h.log.debug("Done, no node has children",lt.nodes())}},it=function ct(lt,J){if(J.length===0)return[];var Bt=Object.assign(J);return J.forEach(function(Tt){var Ct=lt.children(Tt),St=ct(lt,Ct);Bt=Bt.concat(St)}),Bt},pt=function(ct){return it(ct,ct.children())}},"./src/dagre-wrapper/nodes.js":(E,C,v)=>{v.r(C),v.d(C,{clear:()=>pt,insertNode:()=>st,positionNode:()=>ct,setNodeElem:()=>it});var h=v("d3"),a=v("./src/logger.js"),O=v("./src/dagre-wrapper/shapes/util.js"),_=v("./src/config.js"),M=v("./src/dagre-wrapper/intersect/index.js"),P=v("./src/dagre-wrapper/createLabel.js"),R=v("./src/dagre-wrapper/shapes/note.js"),$=v("./src/diagrams/class/svgDraw.js"),F=v("./src/diagrams/common/common.js");function j(lt){return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},j(lt)}function X(lt,J,Bt,Tt){var Ct=[],St=function(yt){Ct.push(yt),Ct.push(0)},at=function(yt){Ct.push(0),Ct.push(yt)};J.includes("t")?(a.log.debug("add top border"),St(Bt)):at(Bt),J.includes("r")?(a.log.debug("add right border"),St(Tt)):at(Tt),J.includes("b")?(a.log.debug("add bottom border"),St(Bt)):at(Bt),J.includes("l")?(a.log.debug("add left border"),St(Tt)):at(Tt),lt.attr("stroke-dasharray",Ct.join(" "))}var W=function(lt,J,Bt){var Tt=lt.insert("g").attr("class","node default").attr("id",J.domId||J.id),Ct=70,St=10;Bt==="LR"&&(Ct=10,St=70);var at=Tt.append("rect").attr("x",-1*Ct/2).attr("y",-1*St/2).attr("width",Ct).attr("height",St).attr("class","fork-join");return(0,O.updateNodeBounds)(J,at),J.height=J.height+J.padding/2,J.width=J.width+J.padding/2,J.intersect=function(yt){return M.default.rect(J,yt)},Tt},V={question:function(lt,J){var Bt=(0,O.labelHelper)(lt,J,void 0,!0),Tt=Bt.shapeSvg,Ct=Bt.bbox,St=Ct.width+J.padding+(Ct.height+J.padding),at=[{x:St/2,y:0},{x:St,y:-St/2},{x:St/2,y:-St},{x:0,y:-St/2}];a.log.info("Question main (Circle)");var yt=(0,O.insertPolygonShape)(Tt,St,St,at);return yt.attr("style",J.style),(0,O.updateNodeBounds)(J,yt),J.intersect=function(kt){return a.log.warn("Intersect called"),M.default.polygon(J,at,kt)},Tt},rect:function(lt,J){var Bt=(0,O.labelHelper)(lt,J,"node "+J.classes,!0),Tt=Bt.shapeSvg,Ct=Bt.bbox,St=Bt.halfPadding;a.log.trace("Classes = ",J.classes);var at=Tt.insert("rect",":first-child"),yt=Ct.width+J.padding,kt=Ct.height+J.padding;if(at.attr("class","basic label-container").attr("style",J.style).attr("rx",J.rx).attr("ry",J.ry).attr("x",-Ct.width/2-St).attr("y",-Ct.height/2-St).attr("width",yt).attr("height",kt),J.props){var xt=new Set(Object.keys(J.props));J.props.borders&&(X(at,J.props.borders,yt,kt),xt.delete("borders")),xt.forEach(function(Pt){a.log.warn("Unknown node property ".concat(Pt))})}return(0,O.updateNodeBounds)(J,at),J.intersect=function(Pt){return M.default.rect(J,Pt)},Tt},labelRect:function(lt,J){var Bt=(0,O.labelHelper)(lt,J,"label",!0),Tt=Bt.shapeSvg;Bt.bbox,Bt.halfPadding,a.log.trace("Classes = ",J.classes);var Ct=Tt.insert("rect",":first-child");if(Ct.attr("width",0).attr("height",0),Tt.attr("class","label edgeLabel"),J.props){var St=new Set(Object.keys(J.props));J.props.borders&&(X(Ct,J.props.borders,0,0),St.delete("borders")),St.forEach(function(at){a.log.warn("Unknown node property ".concat(at))})}return(0,O.updateNodeBounds)(J,Ct),J.intersect=function(at){return M.default.rect(J,at)},Tt},rectWithTitle:function(lt,J){var Bt;Bt=J.classes?"node "+J.classes:"node default";var Tt,Ct=lt.insert("g").attr("class",Bt).attr("id",J.domId||J.id),St=Ct.insert("rect",":first-child"),at=Ct.insert("line"),yt=Ct.insert("g").attr("class","label"),kt=J.labelText.flat?J.labelText.flat():J.labelText;Tt=j(kt)==="object"?kt[0]:kt,a.log.info("Label text abc79",Tt,kt,j(kt)==="object");var xt=yt.node().appendChild((0,P.default)(Tt,J.labelStyle,!0,!0)),Pt={width:0,height:0};if((0,F.evaluate)((0,_.getConfig)().flowchart.htmlLabels)){var mt=xt.children[0],Yt=(0,h.select)(xt);Pt=mt.getBoundingClientRect(),Yt.attr("width",Pt.width),Yt.attr("height",Pt.height)}a.log.info("Text 2",kt);var ne=kt.slice(1,kt.length),Qt=xt.getBBox(),Kt=yt.node().appendChild((0,P.default)(ne.join?ne.join("<br/>"):ne,J.labelStyle,!0,!0));if((0,F.evaluate)((0,_.getConfig)().flowchart.htmlLabels)){var Xt=Kt.children[0],se=(0,h.select)(Kt);Pt=Xt.getBoundingClientRect(),se.attr("width",Pt.width),se.attr("height",Pt.height)}var ue=J.padding/2;return(0,h.select)(Kt).attr("transform","translate( "+(Pt.width>Qt.width?0:(Qt.width-Pt.width)/2)+", "+(Qt.height+ue+5)+")"),(0,h.select)(xt).attr("transform","translate( "+(Pt.width<Qt.width?0:-(Qt.width-Pt.width)/2)+", 0)"),Pt=yt.node().getBBox(),yt.attr("transform","translate("+-Pt.width/2+", "+(-Pt.height/2-ue+3)+")"),St.attr("class","outer title-state").attr("x",-Pt.width/2-ue).attr("y",-Pt.height/2-ue).attr("width",Pt.width+J.padding).attr("height",Pt.height+J.padding),at.attr("class","divider").attr("x1",-Pt.width/2-ue).attr("x2",Pt.width/2+ue).attr("y1",-Pt.height/2-ue+Qt.height+ue).attr("y2",-Pt.height/2-ue+Qt.height+ue),(0,O.updateNodeBounds)(J,St),J.intersect=function(re){return M.default.rect(J,re)},Ct},choice:function(lt,J){var Bt=lt.insert("g").attr("class","node default").attr("id",J.domId||J.id);return Bt.insert("polygon",":first-child").attr("points",[{x:0,y:14},{x:14,y:0},{x:0,y:-14},{x:-14,y:0}].map(function(Tt){return Tt.x+","+Tt.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),J.width=28,J.height=28,J.intersect=function(Tt){return M.default.circle(J,14,Tt)},Bt},circle:function(lt,J){var Bt=(0,O.labelHelper)(lt,J,void 0,!0),Tt=Bt.shapeSvg,Ct=Bt.bbox,St=Bt.halfPadding,at=Tt.insert("circle",":first-child");return at.attr("style",J.style).attr("rx",J.rx).attr("ry",J.ry).attr("r",Ct.width/2+St).attr("width",Ct.width+J.padding).attr("height",Ct.height+J.padding),a.log.info("Circle main"),(0,O.updateNodeBounds)(J,at),J.intersect=function(yt){return a.log.info("Circle intersect",J,Ct.width/2+St,yt),M.default.circle(J,Ct.width/2+St,yt)},Tt},doublecircle:function(lt,J){var Bt=(0,O.labelHelper)(lt,J,void 0,!0),Tt=Bt.shapeSvg,Ct=Bt.bbox,St=Bt.halfPadding,at=Tt.insert("g",":first-child"),yt=at.insert("circle"),kt=at.insert("circle");return yt.attr("style",J.style).attr("rx",J.rx).attr("ry",J.ry).attr("r",Ct.width/2+St+5).attr("width",Ct.width+J.padding+10).attr("height",Ct.height+J.padding+10),kt.attr("style",J.style).attr("rx",J.rx).attr("ry",J.ry).attr("r",Ct.width/2+St).attr("width",Ct.width+J.padding).attr("height",Ct.height+J.padding),a.log.info("DoubleCircle main"),(0,O.updateNodeBounds)(J,yt),J.intersect=function(xt){return a.log.info("DoubleCircle intersect",J,Ct.width/2+St+5,xt),M.default.circle(J,Ct.width/2+St+5,xt)},Tt},stadium:function(lt,J){var Bt=(0,O.labelHelper)(lt,J,void 0,!0),Tt=Bt.shapeSvg,Ct=Bt.bbox,St=Ct.height+J.padding,at=Ct.width+St/4+J.padding,yt=Tt.insert("rect",":first-child").attr("style",J.style).attr("rx",St/2).attr("ry",St/2).attr("x",-at/2).attr("y",-St/2).attr("width",at).attr("height",St);return(0,O.updateNodeBounds)(J,yt),J.intersect=function(kt){return M.default.rect(J,kt)},Tt},hexagon:function(lt,J){var Bt=(0,O.labelHelper)(lt,J,void 0,!0),Tt=Bt.shapeSvg,Ct=Bt.bbox,St=Ct.height+J.padding,at=St/4,yt=Ct.width+2*at+J.padding,kt=[{x:at,y:0},{x:yt-at,y:0},{x:yt,y:-St/2},{x:yt-at,y:-St},{x:at,y:-St},{x:0,y:-St/2}],xt=(0,O.insertPolygonShape)(Tt,yt,St,kt);return xt.attr("style",J.style),(0,O.updateNodeBounds)(J,xt),J.intersect=function(Pt){return M.default.polygon(J,kt,Pt)},Tt},rect_left_inv_arrow:function(lt,J){var Bt=(0,O.labelHelper)(lt,J,void 0,!0),Tt=Bt.shapeSvg,Ct=Bt.bbox,St=Ct.width+J.padding,at=Ct.height+J.padding,yt=[{x:-at/2,y:0},{x:St,y:0},{x:St,y:-at},{x:-at/2,y:-at},{x:0,y:-at/2}];return(0,O.insertPolygonShape)(Tt,St,at,yt).attr("style",J.style),J.width=St+at,J.height=at,J.intersect=function(kt){return M.default.polygon(J,yt,kt)},Tt},lean_right:function(lt,J){var Bt=(0,O.labelHelper)(lt,J,void 0,!0),Tt=Bt.shapeSvg,Ct=Bt.bbox,St=Ct.width+J.padding,at=Ct.height+J.padding,yt=[{x:-2*at/6,y:0},{x:St-at/6,y:0},{x:St+2*at/6,y:-at},{x:at/6,y:-at}],kt=(0,O.insertPolygonShape)(Tt,St,at,yt);return kt.attr("style",J.style),(0,O.updateNodeBounds)(J,kt),J.intersect=function(xt){return M.default.polygon(J,yt,xt)},Tt},lean_left:function(lt,J){var Bt=(0,O.labelHelper)(lt,J,void 0,!0),Tt=Bt.shapeSvg,Ct=Bt.bbox,St=Ct.width+J.padding,at=Ct.height+J.padding,yt=[{x:2*at/6,y:0},{x:St+at/6,y:0},{x:St-2*at/6,y:-at},{x:-at/6,y:-at}],kt=(0,O.insertPolygonShape)(Tt,St,at,yt);return kt.attr("style",J.style),(0,O.updateNodeBounds)(J,kt),J.intersect=function(xt){return M.default.polygon(J,yt,xt)},Tt},trapezoid:function(lt,J){var Bt=(0,O.labelHelper)(lt,J,void 0,!0),Tt=Bt.shapeSvg,Ct=Bt.bbox,St=Ct.width+J.padding,at=Ct.height+J.padding,yt=[{x:-2*at/6,y:0},{x:St+2*at/6,y:0},{x:St-at/6,y:-at},{x:at/6,y:-at}],kt=(0,O.insertPolygonShape)(Tt,St,at,yt);return kt.attr("style",J.style),(0,O.updateNodeBounds)(J,kt),J.intersect=function(xt){return M.default.polygon(J,yt,xt)},Tt},inv_trapezoid:function(lt,J){var Bt=(0,O.labelHelper)(lt,J,void 0,!0),Tt=Bt.shapeSvg,Ct=Bt.bbox,St=Ct.width+J.padding,at=Ct.height+J.padding,yt=[{x:at/6,y:0},{x:St-at/6,y:0},{x:St+2*at/6,y:-at},{x:-2*at/6,y:-at}],kt=(0,O.insertPolygonShape)(Tt,St,at,yt);return kt.attr("style",J.style),(0,O.updateNodeBounds)(J,kt),J.intersect=function(xt){return M.default.polygon(J,yt,xt)},Tt},rect_right_inv_arrow:function(lt,J){var Bt=(0,O.labelHelper)(lt,J,void 0,!0),Tt=Bt.shapeSvg,Ct=Bt.bbox,St=Ct.width+J.padding,at=Ct.height+J.padding,yt=[{x:0,y:0},{x:St+at/2,y:0},{x:St,y:-at/2},{x:St+at/2,y:-at},{x:0,y:-at}],kt=(0,O.insertPolygonShape)(Tt,St,at,yt);return kt.attr("style",J.style),(0,O.updateNodeBounds)(J,kt),J.intersect=function(xt){return M.default.polygon(J,yt,xt)},Tt},cylinder:function(lt,J){var Bt=(0,O.labelHelper)(lt,J,void 0,!0),Tt=Bt.shapeSvg,Ct=Bt.bbox,St=Ct.width+J.padding,at=St/2,yt=at/(2.5+St/50),kt=Ct.height+yt+J.padding,xt="M 0,"+yt+" a "+at+","+yt+" 0,0,0 "+St+" 0 a "+at+","+yt+" 0,0,0 "+-St+" 0 l 0,"+kt+" a "+at+","+yt+" 0,0,0 "+St+" 0 l 0,"+-kt,Pt=Tt.attr("label-offset-y",yt).insert("path",":first-child").attr("style",J.style).attr("d",xt).attr("transform","translate("+-St/2+","+-(kt/2+yt)+")");return(0,O.updateNodeBounds)(J,Pt),J.intersect=function(mt){var Yt=M.default.rect(J,mt),ne=Yt.x-J.x;if(at!=0&&(Math.abs(ne)<J.width/2||Math.abs(ne)==J.width/2&&Math.abs(Yt.y-J.y)>J.height/2-yt)){var Qt=yt*yt*(1-ne*ne/(at*at));Qt!=0&&(Qt=Math.sqrt(Qt)),Qt=yt-Qt,mt.y-J.y>0&&(Qt=-Qt),Yt.y+=Qt}return Yt},Tt},start:function(lt,J){var Bt=lt.insert("g").attr("class","node default").attr("id",J.domId||J.id),Tt=Bt.insert("circle",":first-child");return Tt.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),(0,O.updateNodeBounds)(J,Tt),J.intersect=function(Ct){return M.default.circle(J,7,Ct)},Bt},end:function(lt,J){var Bt=lt.insert("g").attr("class","node default").attr("id",J.domId||J.id),Tt=Bt.insert("circle",":first-child"),Ct=Bt.insert("circle",":first-child");return Ct.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),Tt.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),(0,O.updateNodeBounds)(J,Ct),J.intersect=function(St){return M.default.circle(J,7,St)},Bt},note:R.default,subroutine:function(lt,J){var Bt=(0,O.labelHelper)(lt,J,void 0,!0),Tt=Bt.shapeSvg,Ct=Bt.bbox,St=Ct.width+J.padding,at=Ct.height+J.padding,yt=[{x:0,y:0},{x:St,y:0},{x:St,y:-at},{x:0,y:-at},{x:0,y:0},{x:-8,y:0},{x:St+8,y:0},{x:St+8,y:-at},{x:-8,y:-at},{x:-8,y:0}],kt=(0,O.insertPolygonShape)(Tt,St,at,yt);return kt.attr("style",J.style),(0,O.updateNodeBounds)(J,kt),J.intersect=function(xt){return M.default.polygon(J,yt,xt)},Tt},fork:W,join:W,class_box:function(lt,J){var Bt,Tt=J.padding/2;Bt=J.classes?"node "+J.classes:"node default";var Ct=lt.insert("g").attr("class",Bt).attr("id",J.domId||J.id),St=Ct.insert("rect",":first-child"),at=Ct.insert("line"),yt=Ct.insert("line"),kt=0,xt=4,Pt=Ct.insert("g").attr("class","label"),mt=0,Yt=J.classData.annotations&&J.classData.annotations[0],ne=J.classData.annotations[0]?"«"+J.classData.annotations[0]+"»":"",Qt=Pt.node().appendChild((0,P.default)(ne,J.labelStyle,!0,!0)),Kt=Qt.getBBox();if((0,F.evaluate)((0,_.getConfig)().flowchart.htmlLabels)){var Xt=Qt.children[0],se=(0,h.select)(Qt);Kt=Xt.getBoundingClientRect(),se.attr("width",Kt.width),se.attr("height",Kt.height)}J.classData.annotations[0]&&(xt+=Kt.height+4,kt+=Kt.width);var ue=J.classData.id;J.classData.type!==void 0&&J.classData.type!==""&&((0,_.getConfig)().flowchart.htmlLabels?ue+="&lt;"+J.classData.type+"&gt;":ue+="<"+J.classData.type+">");var re=Pt.node().appendChild((0,P.default)(ue,J.labelStyle,!0,!0));(0,h.select)(re).attr("class","classTitle");var _t=re.getBBox();if((0,F.evaluate)((0,_.getConfig)().flowchart.htmlLabels)){var ut=re.children[0],Mt=(0,h.select)(re);_t=ut.getBoundingClientRect(),Mt.attr("width",_t.width),Mt.attr("height",_t.height)}xt+=_t.height+4,_t.width>kt&&(kt=_t.width);var qt=[];J.classData.members.forEach(function(Wt){var Ft=(0,$.parseMember)(Wt),jt=Ft.displayText;(0,_.getConfig)().flowchart.htmlLabels&&(jt=jt.replace(/</g,"&lt;").replace(/>/g,"&gt;"));var ee=Pt.node().appendChild((0,P.default)(jt,Ft.cssStyle?Ft.cssStyle:J.labelStyle,!0,!0)),Lt=ee.getBBox();if((0,F.evaluate)((0,_.getConfig)().flowchart.htmlLabels)){var he=ee.children[0],Ht=(0,h.select)(ee);Lt=he.getBoundingClientRect(),Ht.attr("width",Lt.width),Ht.attr("height",Lt.height)}Lt.width>kt&&(kt=Lt.width),xt+=Lt.height+4,qt.push(ee)}),xt+=8;var Nt=[];if(J.classData.methods.forEach(function(Wt){var Ft=(0,$.parseMember)(Wt),jt=Ft.displayText;(0,_.getConfig)().flowchart.htmlLabels&&(jt=jt.replace(/</g,"&lt;").replace(/>/g,"&gt;"));var ee=Pt.node().appendChild((0,P.default)(jt,Ft.cssStyle?Ft.cssStyle:J.labelStyle,!0,!0)),Lt=ee.getBBox();if((0,F.evaluate)((0,_.getConfig)().flowchart.htmlLabels)){var he=ee.children[0],Ht=(0,h.select)(ee);Lt=he.getBoundingClientRect(),Ht.attr("width",Lt.width),Ht.attr("height",Lt.height)}Lt.width>kt&&(kt=Lt.width),xt+=Lt.height+4,Nt.push(ee)}),xt+=8,Yt){var Vt=(kt-Kt.width)/2;(0,h.select)(Qt).attr("transform","translate( "+(-1*kt/2+Vt)+", "+-1*xt/2+")"),mt=Kt.height+4}var Ut=(kt-_t.width)/2;return(0,h.select)(re).attr("transform","translate( "+(-1*kt/2+Ut)+", "+(-1*xt/2+mt)+")"),mt+=_t.height+4,at.attr("class","divider").attr("x1",-kt/2-Tt).attr("x2",kt/2+Tt).attr("y1",-xt/2-Tt+8+mt).attr("y2",-xt/2-Tt+8+mt),mt+=8,qt.forEach(function(Wt){(0,h.select)(Wt).attr("transform","translate( "+-kt/2+", "+(-1*xt/2+mt+4)+")"),mt+=_t.height+4}),mt+=8,yt.attr("class","divider").attr("x1",-kt/2-Tt).attr("x2",kt/2+Tt).attr("y1",-xt/2-Tt+8+mt).attr("y2",-xt/2-Tt+8+mt),mt+=8,Nt.forEach(function(Wt){(0,h.select)(Wt).attr("transform","translate( "+-kt/2+", "+(-1*xt/2+mt)+")"),mt+=_t.height+4}),St.attr("class","outer title-state").attr("x",-kt/2-Tt).attr("y",-xt/2-Tt).attr("width",kt+J.padding).attr("height",xt+J.padding),(0,O.updateNodeBounds)(J,St),J.intersect=function(Wt){return M.default.rect(J,Wt)},Ct}},K={},st=function(lt,J,Bt){var Tt,Ct,St;J.link?((0,_.getConfig)().securityLevel==="sandbox"?St="_top":J.linkTarget&&(St=J.linkTarget||"_blank"),Tt=lt.insert("svg:a").attr("xlink:href",J.link).attr("target",St),Ct=V[J.shape](Tt,J,Bt)):Tt=Ct=V[J.shape](lt,J,Bt),J.tooltip&&Ct.attr("title",J.tooltip),J.class&&Ct.attr("class","node default "+J.class),K[J.id]=Tt,J.haveCallback&&K[J.id].attr("class",K[J.id].attr("class")+" clickable")},it=function(lt,J){K[J.id]=lt},pt=function(){K={}},ct=function(lt){var J=K[lt.id];a.log.trace("Transforming node",lt.diff,lt,"translate("+(lt.x-lt.width/2-5)+", "+lt.width/2+")");var Bt=lt.diff||0;return lt.clusterNode?J.attr("transform","translate("+(lt.x+Bt-lt.width/2)+", "+(lt.y-lt.height/2-8)+")"):J.attr("transform","translate("+lt.x+", "+lt.y+")"),Bt}},"./src/dagre-wrapper/shapes/note.js":(E,C,v)=>{v.r(C),v.d(C,{default:()=>_});var h=v("./src/dagre-wrapper/shapes/util.js"),a=v("./src/logger.js"),O=v("./src/dagre-wrapper/intersect/index.js");const _=function(M,P){var R=(0,h.labelHelper)(M,P,"node "+P.classes,!0),$=R.shapeSvg,F=R.bbox,j=R.halfPadding;a.log.info("Classes = ",P.classes);var X=$.insert("rect",":first-child");return X.attr("rx",P.rx).attr("ry",P.ry).attr("x",-F.width/2-j).attr("y",-F.height/2-j).attr("width",F.width+P.padding).attr("height",F.height+P.padding),(0,h.updateNodeBounds)(P,X),P.intersect=function(W){return O.default.rect(P,W)},$}},"./src/dagre-wrapper/shapes/util.js":(E,C,v)=>{v.r(C),v.d(C,{insertPolygonShape:()=>$,labelHelper:()=>P,updateNodeBounds:()=>R});var h=v("./src/dagre-wrapper/createLabel.js"),a=v("./src/config.js"),O=v("./src/mermaidAPI.js"),_=v("d3"),M=v("./src/diagrams/common/common.js"),P=function(F,j,X,W){var V;V=X||"node default";var K=F.insert("g").attr("class",V).attr("id",j.domId||j.id),st=K.insert("g").attr("class","label").attr("style",j.labelStyle),it=typeof j.labelText=="string"?j.labelText:j.labelText[0],pt=st.node().appendChild((0,h.default)((0,M.sanitizeText)((0,O.decodeEntities)(it),(0,a.getConfig)()),j.labelStyle,!1,W)),ct=pt.getBBox();if((0,M.evaluate)((0,a.getConfig)().flowchart.htmlLabels)){var lt=pt.children[0],J=(0,_.select)(pt);ct=lt.getBoundingClientRect(),J.attr("width",ct.width),J.attr("height",ct.height)}var Bt=j.padding/2;return st.attr("transform","translate("+-ct.width/2+", "+-ct.height/2+")"),{shapeSvg:K,bbox:ct,halfPadding:Bt,label:st}},R=function(F,j){var X=j.node().getBBox();F.width=X.width,F.height=X.height};function $(F,j,X,W){return F.insert("polygon",":first-child").attr("points",W.map(function(V){return V.x+","+V.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-j/2+","+X/2+")")}},"./src/defaultConfig.js":(E,C,v)=>{function h(R){return function($){if(Array.isArray($))return a($)}(R)||function($){if(typeof Symbol!="undefined"&&$[Symbol.iterator]!=null||$["@@iterator"]!=null)return Array.from($)}(R)||function($,F){if($){if(typeof $=="string")return a($,F);var j=Object.prototype.toString.call($).slice(8,-1);return j==="Object"&&$.constructor&&(j=$.constructor.name),j==="Map"||j==="Set"?Array.from($):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?a($,F):void 0}}(R)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function a(R,$){($==null||$>R.length)&&($=R.length);for(var F=0,j=new Array($);F<$;F++)j[F]=R[F];return j}function O(R){return O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},O(R)}v.r(C),v.d(C,{configKeys:()=>M,default:()=>P});var _={theme:"default",themeVariables:v("./src/themes/index.js").default.default.getThemeVariables(),themeCSS:void 0,maxTextSize:5e4,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize"],deterministicIds:!1,deterministicIDSeed:void 0,flowchart:{diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,useMaxWidth:!0,defaultRenderer:"dagre-d3"},sequence:{hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20,messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},noteFont:function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},actorFont:function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}},gantt:{titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",useMaxWidth:!0,topAxis:!1,useWidth:void 0},journey:{diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{arrowMarkerAbsolute:!1,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},state:{dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},er:{diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12,useMaxWidth:!0},pie:{useWidth:void 0,useMaxWidth:!0},requirement:{useWidth:void 0,useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},gitGraph:{diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0},c4:{useWidth:void 0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,useMaxWidth:!0,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,personFont:function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},external_personFont:function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},systemFont:function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},external_systemFont:function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},system_dbFont:function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},external_system_dbFont:function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},system_queueFont:function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},external_system_queueFont:function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},containerFont:function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},external_containerFont:function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},container_dbFont:function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},external_container_dbFont:function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},container_queueFont:function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},external_container_queueFont:function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},componentFont:function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},external_componentFont:function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},component_dbFont:function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},external_component_dbFont:function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},component_queueFont:function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},external_component_queueFont:function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},boundaryFont:function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"}};_.class.arrowMarkerAbsolute=_.arrowMarkerAbsolute,_.gitGraph.arrowMarkerAbsolute=_.arrowMarkerAbsolute;var M=function R($){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return Object.keys($).reduce(function(j,X){return Array.isArray($[X])?j:O($[X])==="object"&&$[X]!==null?[].concat(h(j),[F+X],h(R($[X],""))):[].concat(h(j),[F+X])},[])}(_,"");const P=_},"./src/diagrams/c4/c4Db.js":(E,C,v)=>{v.r(C),v.d(C,{ARROWTYPE:()=>Ft,LINETYPE:()=>Wt,PLACEMENT:()=>jt,addComponent:()=>at,addContainer:()=>St,addContainerBoundary:()=>kt,addDeploymentNode:()=>xt,addPersonOrSystem:()=>Ct,addPersonOrSystemBoundary:()=>yt,addRel:()=>Tt,autoWrap:()=>Vt,clear:()=>Ut,default:()=>Lt,getBoundarys:()=>ut,getC4BoundaryInRow:()=>Kt,getC4Shape:()=>re,getC4ShapeArray:()=>ue,getC4ShapeInRow:()=>Qt,getC4ShapeKeys:()=>_t,getC4Type:()=>lt,getCurrentBoundaryParse:()=>Xt,getParentBoundaryParse:()=>se,getRels:()=>Mt,getTitle:()=>qt,parseDirective:()=>Bt,popBoundaryParseStack:()=>Pt,setC4Type:()=>J,setTitle:()=>ee,setWrap:()=>Nt,updateElStyle:()=>mt,updateLayoutConfig:()=>ne,updateRelStyle:()=>Yt});var h=v("./src/mermaidAPI.js"),a=v("./src/config.js"),O=v("./src/diagrams/common/common.js"),_=v("./src/commonDb.js");function M(he,Ht){return function(Se){if(Array.isArray(Se))return Se}(he)||function(Se,Te){var we=Se==null?null:typeof Symbol!="undefined"&&Se[Symbol.iterator]||Se["@@iterator"];if(we!=null){var Ue,We,De=[],me=!0,Oe=!1;try{for(we=we.call(Se);!(me=(Ue=we.next()).done)&&(De.push(Ue.value),!Te||De.length!==Te);me=!0);}catch(Pe){Oe=!0,We=Pe}finally{try{me||we.return==null||we.return()}finally{if(Oe)throw We}}return De}}(he,Ht)||function(Se,Te){if(Se){if(typeof Se=="string")return P(Se,Te);var we=Object.prototype.toString.call(Se).slice(8,-1);return we==="Object"&&Se.constructor&&(we=Se.constructor.name),we==="Map"||we==="Set"?Array.from(Se):we==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(we)?P(Se,Te):void 0}}(he,Ht)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function P(he,Ht){(Ht==null||Ht>he.length)&&(Ht=he.length);for(var Se=0,Te=new Array(Ht);Se<Ht;Se++)Te[Se]=he[Se];return Te}function R(he){return R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ht){return typeof Ht}:function(Ht){return Ht&&typeof Symbol=="function"&&Ht.constructor===Symbol&&Ht!==Symbol.prototype?"symbol":typeof Ht},R(he)}var $,F=[],j=[""],X="global",W="",V=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],K=[],st="",it=!1,pt=4,ct=2,lt=function(){return $},J=function(he){var Ht=(0,O.sanitizeText)(he,a.getConfig());$=Ht},Bt=function(he,Ht,Se){h.default.parseDirective(this,he,Ht,Se)},Tt=function(he,Ht,Se,Te,we,Ue,We,De,me){if(he!=null&&Ht!=null&&Se!=null&&Te!=null){var Oe={},Pe=K.find(function(Fn){return Fn.from===Ht&&Fn.to===Se});if(Pe?Oe=Pe:K.push(Oe),Oe.type=he,Oe.from=Ht,Oe.to=Se,Oe.label={text:Te},we==null)Oe.techn={text:""};else if(R(we)==="object"){var ze=M(Object.entries(we)[0],2),He=ze[0],dn=ze[1];Oe[He]={text:dn}}else Oe.techn={text:we};if(Ue==null)Oe.descr={text:""};else if(R(Ue)==="object"){var Mn=M(Object.entries(Ue)[0],2),Kn=Mn[0],an=Mn[1];Oe[Kn]={text:an}}else Oe.descr={text:Ue};if(R(We)==="object"){var mn=M(Object.entries(We)[0],2),Bn=mn[0],Rn=mn[1];Oe[Bn]=Rn}else Oe.sprite=We;if(R(De)==="object"){var $n=M(Object.entries(De)[0],2),sn=$n[0],on=$n[1];Oe[sn]=on}else Oe.tags=De;if(R(me)==="object"){var yn=M(Object.entries(me)[0],2),Sn=yn[0],Ge=yn[1];Oe[Sn]=Ge}else Oe.link=me;Oe.wrap=Vt()}},Ct=function(he,Ht,Se,Te,we,Ue,We){if(Ht!==null&&Se!==null){var De={},me=F.find(function(sn){return sn.alias===Ht});if(me&&Ht===me.alias?De=me:(De.alias=Ht,F.push(De)),De.label=Se==null?{text:""}:{text:Se},Te==null)De.descr={text:""};else if(R(Te)==="object"){var Oe=M(Object.entries(Te)[0],2),Pe=Oe[0],ze=Oe[1];De[Pe]={text:ze}}else De.descr={text:Te};if(R(we)==="object"){var He=M(Object.entries(we)[0],2),dn=He[0],Mn=He[1];De[dn]=Mn}else De.sprite=we;if(R(Ue)==="object"){var Kn=M(Object.entries(Ue)[0],2),an=Kn[0],mn=Kn[1];De[an]=mn}else De.tags=Ue;if(R(We)==="object"){var Bn=M(Object.entries(We)[0],2),Rn=Bn[0],$n=Bn[1];De[Rn]=$n}else De.link=We;De.typeC4Shape={text:he},De.parentBoundary=X,De.wrap=Vt()}},St=function(he,Ht,Se,Te,we,Ue,We,De){if(Ht!==null&&Se!==null){var me={},Oe=F.find(function(Ge){return Ge.alias===Ht});if(Oe&&Ht===Oe.alias?me=Oe:(me.alias=Ht,F.push(me)),me.label=Se==null?{text:""}:{text:Se},Te==null)me.techn={text:""};else if(R(Te)==="object"){var Pe=M(Object.entries(Te)[0],2),ze=Pe[0],He=Pe[1];me[ze]={text:He}}else me.techn={text:Te};if(we==null)me.descr={text:""};else if(R(we)==="object"){var dn=M(Object.entries(we)[0],2),Mn=dn[0],Kn=dn[1];me[Mn]={text:Kn}}else me.descr={text:we};if(R(Ue)==="object"){var an=M(Object.entries(Ue)[0],2),mn=an[0],Bn=an[1];me[mn]=Bn}else me.sprite=Ue;if(R(We)==="object"){var Rn=M(Object.entries(We)[0],2),$n=Rn[0],sn=Rn[1];me[$n]=sn}else me.tags=We;if(R(De)==="object"){var on=M(Object.entries(De)[0],2),yn=on[0],Sn=on[1];me[yn]=Sn}else me.link=De;me.wrap=Vt(),me.typeC4Shape={text:he},me.parentBoundary=X}},at=function(he,Ht,Se,Te,we,Ue,We,De){if(Ht!==null&&Se!==null){var me={},Oe=F.find(function(Ge){return Ge.alias===Ht});if(Oe&&Ht===Oe.alias?me=Oe:(me.alias=Ht,F.push(me)),me.label=Se==null?{text:""}:{text:Se},Te==null)me.techn={text:""};else if(R(Te)==="object"){var Pe=M(Object.entries(Te)[0],2),ze=Pe[0],He=Pe[1];me[ze]={text:He}}else me.techn={text:Te};if(we==null)me.descr={text:""};else if(R(we)==="object"){var dn=M(Object.entries(we)[0],2),Mn=dn[0],Kn=dn[1];me[Mn]={text:Kn}}else me.descr={text:we};if(R(Ue)==="object"){var an=M(Object.entries(Ue)[0],2),mn=an[0],Bn=an[1];me[mn]=Bn}else me.sprite=Ue;if(R(We)==="object"){var Rn=M(Object.entries(We)[0],2),$n=Rn[0],sn=Rn[1];me[$n]=sn}else me.tags=We;if(R(De)==="object"){var on=M(Object.entries(De)[0],2),yn=on[0],Sn=on[1];me[yn]=Sn}else me.link=De;me.wrap=Vt(),me.typeC4Shape={text:he},me.parentBoundary=X}},yt=function(he,Ht,Se,Te,we){if(he!==null&&Ht!==null){var Ue={},We=V.find(function(an){return an.alias===he});if(We&&he===We.alias?Ue=We:(Ue.alias=he,V.push(Ue)),Ue.label=Ht==null?{text:""}:{text:Ht},Se==null)Ue.type={text:"system"};else if(R(Se)==="object"){var De=M(Object.entries(Se)[0],2),me=De[0],Oe=De[1];Ue[me]={text:Oe}}else Ue.type={text:Se};if(R(Te)==="object"){var Pe=M(Object.entries(Te)[0],2),ze=Pe[0],He=Pe[1];Ue[ze]=He}else Ue.tags=Te;if(R(we)==="object"){var dn=M(Object.entries(we)[0],2),Mn=dn[0],Kn=dn[1];Ue[Mn]=Kn}else Ue.link=we;Ue.parentBoundary=X,Ue.wrap=Vt(),W=X,X=he,j.push(W)}},kt=function(he,Ht,Se,Te,we){if(he!==null&&Ht!==null){var Ue={},We=V.find(function(an){return an.alias===he});if(We&&he===We.alias?Ue=We:(Ue.alias=he,V.push(Ue)),Ue.label=Ht==null?{text:""}:{text:Ht},Se==null)Ue.type={text:"container"};else if(R(Se)==="object"){var De=M(Object.entries(Se)[0],2),me=De[0],Oe=De[1];Ue[me]={text:Oe}}else Ue.type={text:Se};if(R(Te)==="object"){var Pe=M(Object.entries(Te)[0],2),ze=Pe[0],He=Pe[1];Ue[ze]=He}else Ue.tags=Te;if(R(we)==="object"){var dn=M(Object.entries(we)[0],2),Mn=dn[0],Kn=dn[1];Ue[Mn]=Kn}else Ue.link=we;Ue.parentBoundary=X,Ue.wrap=Vt(),W=X,X=he,j.push(W)}},xt=function(he,Ht,Se,Te,we,Ue,We,De){if(Ht!==null&&Se!==null){var me={},Oe=V.find(function(on){return on.alias===Ht});if(Oe&&Ht===Oe.alias?me=Oe:(me.alias=Ht,V.push(me)),me.label=Se==null?{text:""}:{text:Se},Te==null)me.type={text:"node"};else if(R(Te)==="object"){var Pe=M(Object.entries(Te)[0],2),ze=Pe[0],He=Pe[1];me[ze]={text:He}}else me.type={text:Te};if(we==null)me.descr={text:""};else if(R(we)==="object"){var dn=M(Object.entries(we)[0],2),Mn=dn[0],Kn=dn[1];me[Mn]={text:Kn}}else me.descr={text:we};if(R(We)==="object"){var an=M(Object.entries(We)[0],2),mn=an[0],Bn=an[1];me[mn]=Bn}else me.tags=We;if(R(De)==="object"){var Rn=M(Object.entries(De)[0],2),$n=Rn[0],sn=Rn[1];me[$n]=sn}else me.link=De;me.nodeType=he,me.parentBoundary=X,me.wrap=Vt(),W=X,X=Ht,j.push(W)}},Pt=function(){X=W,j.pop(),W=j.pop(),j.push(W)},mt=function(he,Ht,Se,Te,we,Ue,We,De,me,Oe,Pe){var ze=F.find(function(kr){return kr.alias===Ht});if(ze!==void 0||(ze=V.find(function(kr){return kr.alias===Ht}))!==void 0){if(Se!=null)if(R(Se)==="object"){var He=M(Object.entries(Se)[0],2),dn=He[0],Mn=He[1];ze[dn]=Mn}else ze.bgColor=Se;if(Te!=null)if(R(Te)==="object"){var Kn=M(Object.entries(Te)[0],2),an=Kn[0],mn=Kn[1];ze[an]=mn}else ze.fontColor=Te;if(we!=null)if(R(we)==="object"){var Bn=M(Object.entries(we)[0],2),Rn=Bn[0],$n=Bn[1];ze[Rn]=$n}else ze.borderColor=we;if(Ue!=null)if(R(Ue)==="object"){var sn=M(Object.entries(Ue)[0],2),on=sn[0],yn=sn[1];ze[on]=yn}else ze.shadowing=Ue;if(We!=null)if(R(We)==="object"){var Sn=M(Object.entries(We)[0],2),Ge=Sn[0],Fn=Sn[1];ze[Ge]=Fn}else ze.shape=We;if(De!=null)if(R(De)==="object"){var ke=M(Object.entries(De)[0],2),Fr=ke[0],Ye=ke[1];ze[Fr]=Ye}else ze.sprite=De;if(me!=null)if(R(me)==="object"){var vr=M(Object.entries(me)[0],2),Zr=vr[0],jr=vr[1];ze[Zr]=jr}else ze.techn=me;if(Oe!=null)if(R(Oe)==="object"){var _r=M(Object.entries(Oe)[0],2),Hr=_r[0],Tr=_r[1];ze[Hr]=Tr}else ze.legendText=Oe;if(Pe!=null)if(R(Pe)==="object"){var br=M(Object.entries(Pe)[0],2),mr=br[0],xr=br[1];ze[mr]=xr}else ze.legendSprite=Pe}},Yt=function(he,Ht,Se,Te,we,Ue,We){var De=K.find(function($n){return $n.from===Ht&&$n.to===Se});if(De!==void 0){if(Te!=null)if(R(Te)==="object"){var me=M(Object.entries(Te)[0],2),Oe=me[0],Pe=me[1];De[Oe]=Pe}else De.textColor=Te;if(we!=null)if(R(we)==="object"){var ze=M(Object.entries(we)[0],2),He=ze[0],dn=ze[1];De[He]=dn}else De.lineColor=we;if(Ue!=null)if(R(Ue)==="object"){var Mn=M(Object.entries(Ue)[0],2),Kn=Mn[0],an=Mn[1];De[Kn]=parseInt(an)}else De.offsetX=parseInt(Ue);if(We!=null)if(R(We)==="object"){var mn=M(Object.entries(We)[0],2),Bn=mn[0],Rn=mn[1];De[Bn]=parseInt(Rn)}else De.offsetY=parseInt(We)}},ne=function(he,Ht,Se){var Te=pt,we=ct;if(R(Ht)==="object"){var Ue=M(Object.entries(Ht)[0],2),We=(Ue[0],Ue[1]);Te=parseInt(We)}else Te=parseInt(Ht);if(R(Se)==="object"){var De=M(Object.entries(Se)[0],2),me=(De[0],De[1]);we=parseInt(me)}else we=parseInt(Se);Te>=1&&(pt=Te),we>=1&&(ct=we)},Qt=function(){return pt},Kt=function(){return ct},Xt=function(){return X},se=function(){return W},ue=function(he){return he==null?F:F.filter(function(Ht){return Ht.parentBoundary===he})},re=function(he){return F.find(function(Ht){return Ht.alias===he})},_t=function(he){return Object.keys(ue(he))},ut=function(he){return he==null?V:V.filter(function(Ht){return Ht.parentBoundary===he})},Mt=function(){return K},qt=function(){return st},Nt=function(he){it=he},Vt=function(){return it},Ut=function(){F=[],V=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],W="",X="global",j=[""],K=[],j=[""],st="",it=!1,pt=4,ct=2},Wt={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},Ft={FILLED:0,OPEN:1},jt={LEFTOF:0,RIGHTOF:1,OVER:2},ee=function(he){var Ht=(0,O.sanitizeText)(he,a.getConfig());st=Ht};const Lt={addPersonOrSystem:Ct,addPersonOrSystemBoundary:yt,addContainer:St,addContainerBoundary:kt,addComponent:at,addDeploymentNode:xt,popBoundaryParseStack:Pt,addRel:Tt,updateElStyle:mt,updateRelStyle:Yt,updateLayoutConfig:ne,autoWrap:Vt,setWrap:Nt,getC4ShapeArray:ue,getC4Shape:re,getC4ShapeKeys:_t,getBoundarys:ut,getCurrentBoundaryParse:Xt,getParentBoundaryParse:se,getRels:Mt,getTitle:qt,getC4Type:lt,getC4ShapeInRow:Qt,getC4BoundaryInRow:Kt,setAccTitle:_.setAccTitle,getAccTitle:_.getAccTitle,getAccDescription:_.getAccDescription,setAccDescription:_.setAccDescription,parseDirective:Bt,getConfig:function(){return a.getConfig().c4},clear:Ut,LINETYPE:Wt,ARROWTYPE:Ft,PLACEMENT:jt,setTitle:ee,setC4Type:J}},"./src/diagrams/c4/c4Renderer.js":(E,C,v)=>{v.r(C),v.d(C,{default:()=>ne,draw:()=>Yt,drawBoundary:()=>St,drawC4ShapeArray:()=>at,drawRels:()=>Pt,setConf:()=>J});var h=v("d3"),a=v("./src/diagrams/c4/svgDraw.js"),O=v("./src/logger.js"),_=v("./src/diagrams/c4/parser/c4Diagram.jison"),M=v("./src/diagrams/common/common.js"),P=v("./src/diagrams/c4/c4Db.js"),R=v("./src/config.js"),$=v("./src/utils.js"),F=v("./src/accessibility.js");function j(Qt,Kt){(Kt==null||Kt>Qt.length)&&(Kt=Qt.length);for(var Xt=0,se=new Array(Kt);Xt<Kt;Xt++)se[Xt]=Qt[Xt];return se}function X(Qt,Kt){if(!(Qt instanceof Kt))throw new TypeError("Cannot call a class as a function")}function W(Qt,Kt){for(var Xt=0;Xt<Kt.length;Xt++){var se=Kt[Xt];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(Qt,se.key,se)}}function V(Qt,Kt,Xt){return Kt&&W(Qt.prototype,Kt),Xt&&W(Qt,Xt),Object.defineProperty(Qt,"prototype",{writable:!1}),Qt}var K=0,st=0,it=4,pt=2;_.parser.yy=P.default;var ct={},lt=function(){function Qt(){X(this,Qt),this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,J(_.parser.yy.getConfig())}return V(Qt,[{key:"setData",value:function(Kt,Xt,se,ue){this.nextData.startx=this.data.startx=Kt,this.nextData.stopx=this.data.stopx=Xt,this.nextData.starty=this.data.starty=se,this.nextData.stopy=this.data.stopy=ue}},{key:"updateVal",value:function(Kt,Xt,se,ue){Kt[Xt]===void 0?Kt[Xt]=se:Kt[Xt]=ue(se,Kt[Xt])}},{key:"insert",value:function(Kt){this.nextData.cnt=this.nextData.cnt+1;var Xt=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+Kt.margin:this.nextData.stopx+2*Kt.margin,se=Xt+Kt.width,ue=this.nextData.starty+2*Kt.margin,re=ue+Kt.height;(Xt>=this.data.widthLimit||se>=this.data.widthLimit||this.nextData.cnt>it)&&(Xt=this.nextData.startx+Kt.margin+ct.nextLinePaddingX,ue=this.nextData.stopy+2*Kt.margin,this.nextData.stopx=se=Xt+Kt.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=re=ue+Kt.height,this.nextData.cnt=1),Kt.x=Xt,Kt.y=ue,this.updateVal(this.data,"startx",Xt,Math.min),this.updateVal(this.data,"starty",ue,Math.min),this.updateVal(this.data,"stopx",se,Math.max),this.updateVal(this.data,"stopy",re,Math.max),this.updateVal(this.nextData,"startx",Xt,Math.min),this.updateVal(this.nextData,"starty",ue,Math.min),this.updateVal(this.nextData,"stopx",se,Math.max),this.updateVal(this.nextData,"stopy",re,Math.max)}},{key:"init",value:function(){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},J(_.parser.yy.getConfig())}},{key:"bumpLastMargin",value:function(Kt){this.data.stopx+=Kt,this.data.stopy+=Kt}}]),Qt}(),J=function(Qt){(0,$.assignWithDepth)(ct,Qt),Qt.fontFamily&&(ct.personFontFamily=ct.systemFontFamily=ct.messageFontFamily=Qt.fontFamily),Qt.fontSize&&(ct.personFontSize=ct.systemFontSize=ct.messageFontSize=Qt.fontSize),Qt.fontWeight&&(ct.personFontWeight=ct.systemFontWeight=ct.messageFontWeight=Qt.fontWeight)},Bt=function(Qt,Kt){return{fontFamily:Qt[Kt+"FontFamily"],fontSize:Qt[Kt+"FontSize"],fontWeight:Qt[Kt+"FontWeight"]}},Tt=function(Qt){return{fontFamily:Qt.boundaryFontFamily,fontSize:Qt.boundaryFontSize,fontWeight:Qt.boundaryFontWeight}};function Ct(Qt,Kt,Xt,se,ue){if(!Kt[Qt].width)if(Xt)Kt[Qt].text=(0,$.wrapLabel)(Kt[Qt].text,ue,se),Kt[Qt].textLines=Kt[Qt].text.split(M.default.lineBreakRegex).length,Kt[Qt].width=ue,Kt[Qt].height=(0,$.calculateTextHeight)(Kt[Qt].text,se);else{var re=Kt[Qt].text.split(M.default.lineBreakRegex);Kt[Qt].textLines=re.length;var _t=0;Kt[Qt].height=0,Kt[Qt].width=0;for(var ut=0;ut<re.length;ut++)Kt[Qt].width=Math.max((0,$.calculateTextWidth)(re[ut],se),Kt[Qt].width),_t=(0,$.calculateTextHeight)(re[ut],se),Kt[Qt].height=Kt[Qt].height+_t}}var St=function(Qt,Kt,Xt){Kt.x=Xt.data.startx,Kt.y=Xt.data.starty,Kt.width=Xt.data.stopx-Xt.data.startx,Kt.height=Xt.data.stopy-Xt.data.starty,Kt.label.y=ct.c4ShapeMargin-35;var se=Kt.wrap&&ct.wrap,ue=Tt(ct);ue.fontSize=ue.fontSize+2,ue.fontWeight="bold",Ct("label",Kt,se,ue,(0,$.calculateTextWidth)(Kt.label.text,ue)),a.default.drawBoundary(Qt,Kt,ct)},at=function(Qt,Kt,Xt,se){for(var ue=0,re=0;re<se.length;re++){ue=0;var _t=Xt[se[re]],ut=Bt(ct,_t.typeC4Shape.text);switch(ut.fontSize=ut.fontSize-2,_t.typeC4Shape.width=(0,$.calculateTextWidth)("<<"+_t.typeC4Shape.text+">>",ut),_t.typeC4Shape.height=ut.fontSize+2,_t.typeC4Shape.Y=ct.c4ShapePadding,ue=_t.typeC4Shape.Y+_t.typeC4Shape.height-4,_t.image={width:0,height:0,Y:0},_t.typeC4Shape.text){case"person":case"external_person":_t.image.width=48,_t.image.height=48,_t.image.Y=ue,ue=_t.image.Y+_t.image.height}_t.sprite&&(_t.image.width=48,_t.image.height=48,_t.image.Y=ue,ue=_t.image.Y+_t.image.height);var Mt=_t.wrap&&ct.wrap,qt=ct.width-2*ct.c4ShapePadding,Nt=Bt(ct,_t.typeC4Shape.text);Nt.fontSize=Nt.fontSize+2,Nt.fontWeight="bold",Ct("label",_t,Mt,Nt,qt),_t.label.Y=ue+8,ue=_t.label.Y+_t.label.height,_t.type&&_t.type.text!==""?(_t.type.text="["+_t.type.text+"]",Ct("type",_t,Mt,Bt(ct,_t.typeC4Shape.text),qt),_t.type.Y=ue+5,ue=_t.type.Y+_t.type.height):_t.techn&&_t.techn.text!==""&&(_t.techn.text="["+_t.techn.text+"]",Ct("techn",_t,Mt,Bt(ct,_t.techn.text),qt),_t.techn.Y=ue+5,ue=_t.techn.Y+_t.techn.height);var Vt=ue,Ut=_t.label.width;_t.descr&&_t.descr.text!==""&&(Ct("descr",_t,Mt,Bt(ct,_t.typeC4Shape.text),qt),_t.descr.Y=ue+20,ue=_t.descr.Y+_t.descr.height,Ut=Math.max(_t.label.width,_t.descr.width),Vt=ue-5*_t.descr.textLines),Ut+=ct.c4ShapePadding,_t.width=Math.max(_t.width||ct.width,Ut,ct.width),_t.height=Math.max(_t.height||ct.height,Vt,ct.height),_t.margin=_t.margin||ct.c4ShapeMargin,Qt.insert(_t),a.default.drawC4Shape(Kt,_t,ct)}Qt.bumpLastMargin(ct.c4ShapeMargin)},yt=V(function Qt(Kt,Xt){X(this,Qt),this.x=Kt,this.y=Xt}),kt=function(Qt,Kt){var Xt=Qt.x,se=Qt.y,ue=Kt.x,re=Kt.y,_t=Xt+Qt.width/2,ut=se+Qt.height/2,Mt=Math.abs(Xt-ue),qt=Math.abs(se-re),Nt=qt/Mt,Vt=Qt.height/Qt.width,Ut=null;return se==re&&Xt<ue?Ut=new yt(Xt+Qt.width,ut):se==re&&Xt>ue?Ut=new yt(Xt,ut):Xt==ue&&se<re?Ut=new yt(_t,se+Qt.height):Xt==ue&&se>re&&(Ut=new yt(_t,se)),Xt>ue&&se<re?Ut=Vt>=Nt?new yt(Xt,ut+Nt*Qt.width/2):new yt(_t-Mt/qt*Qt.height/2,se+Qt.height):Xt<ue&&se<re?Ut=Vt>=Nt?new yt(Xt+Qt.width,ut+Nt*Qt.width/2):new yt(_t+Mt/qt*Qt.height/2,se+Qt.height):Xt<ue&&se>re?Ut=Vt>=Nt?new yt(Xt+Qt.width,ut-Nt*Qt.width/2):new yt(_t+Qt.height/2*Mt/qt,se):Xt>ue&&se>re&&(Ut=Vt>=Nt?new yt(Xt,ut-Qt.width/2*Nt):new yt(_t-Qt.height/2*Mt/qt,se)),Ut},xt=function(Qt,Kt){var Xt={x:0,y:0};Xt.x=Kt.x+Kt.width/2,Xt.y=Kt.y+Kt.height/2;var se=kt(Qt,Xt);return Xt.x=Qt.x+Qt.width/2,Xt.y=Qt.y+Qt.height/2,{startPoint:se,endPoint:kt(Kt,Xt)}},Pt=function(Qt,Kt,Xt){var se,ue,re=0,_t=function(Ft,jt){var ee=typeof Symbol!="undefined"&&Ft[Symbol.iterator]||Ft["@@iterator"];if(!ee){if(Array.isArray(Ft)||(ee=function(we,Ue){if(we){if(typeof we=="string")return j(we,Ue);var We=Object.prototype.toString.call(we).slice(8,-1);return We==="Object"&&we.constructor&&(We=we.constructor.name),We==="Map"||We==="Set"?Array.from(we):We==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(We)?j(we,Ue):void 0}}(Ft))||jt&&Ft&&typeof Ft.length=="number"){ee&&(Ft=ee);var Lt=0,he=function(){};return{s:he,n:function(){return Lt>=Ft.length?{done:!0}:{done:!1,value:Ft[Lt++]}},e:function(we){throw we},f:he}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ht,Se=!0,Te=!1;return{s:function(){ee=ee.call(Ft)},n:function(){var we=ee.next();return Se=we.done,we},e:function(we){Te=!0,Ht=we},f:function(){try{Se||ee.return==null||ee.return()}finally{if(Te)throw Ht}}}}(Kt);try{for(_t.s();!(se=_t.n()).done;){var ut=se.value;re+=1;var Mt=ut.wrap&&ct.wrap,qt={fontFamily:(ue=ct).messageFontFamily,fontSize:ue.messageFontSize,fontWeight:ue.messageFontWeight};_.parser.yy.getC4Type()==="C4Dynamic"&&(ut.label.text=re+": "+ut.label.text);var Nt=(0,$.calculateTextWidth)(ut.label.text,qt);Ct("label",ut,Mt,qt,Nt),ut.techn&&ut.techn.text!==""&&Ct("techn",ut,Mt,qt,Nt=(0,$.calculateTextWidth)(ut.techn.text,qt)),ut.descr&&ut.descr.text!==""&&Ct("descr",ut,Mt,qt,Nt=(0,$.calculateTextWidth)(ut.descr.text,qt));var Vt=Xt(ut.from),Ut=Xt(ut.to),Wt=xt(Vt,Ut);ut.startPoint=Wt.startPoint,ut.endPoint=Wt.endPoint}}catch(Ft){_t.e(Ft)}finally{_t.f()}a.default.drawRels(Qt,Kt,ct)};function mt(Qt,Kt,Xt,se){var ue=new lt;ue.data.widthLimit=Xt.data.widthLimit/Math.min(pt,se.length);for(var re=0;re<se.length;re++){var _t=se[re],ut=0;_t.image={width:0,height:0,Y:0},_t.sprite&&(_t.image.width=48,_t.image.height=48,_t.image.Y=ut,ut=_t.image.Y+_t.image.height);var Mt=_t.wrap&&ct.wrap,qt=Tt(ct);if(qt.fontSize=qt.fontSize+2,qt.fontWeight="bold",Ct("label",_t,Mt,qt,ue.data.widthLimit),_t.label.Y=ut+8,ut=_t.label.Y+_t.label.height,_t.type&&_t.type.text!==""&&(_t.type.text="["+_t.type.text+"]",Ct("type",_t,Mt,Tt(ct),ue.data.widthLimit),_t.type.Y=ut+5,ut=_t.type.Y+_t.type.height),_t.descr&&_t.descr.text!==""){var Nt=Tt(ct);Nt.fontSize=Nt.fontSize-2,Ct("descr",_t,Mt,Nt,ue.data.widthLimit),_t.descr.Y=ut+20,ut=_t.descr.Y+_t.descr.height}if(re==0||re%pt==0){var Vt=Xt.data.startx+ct.diagramMarginX,Ut=Xt.data.stopy+ct.diagramMarginY+ut;ue.setData(Vt,Vt,Ut,Ut)}else{var Wt=ue.data.stopx!==ue.data.startx?ue.data.stopx+ct.diagramMarginX:ue.data.startx,Ft=ue.data.starty;ue.setData(Wt,Wt,Ft,Ft)}ue.name=_t.alias;var jt=_.parser.yy.getC4ShapeArray(_t.alias),ee=_.parser.yy.getC4ShapeKeys(_t.alias);ee.length>0&&at(ue,Qt,jt,ee),Kt=_t.alias;var Lt=_.parser.yy.getBoundarys(Kt);Lt.length>0&&mt(Qt,Kt,ue,Lt),_t.alias!=="global"&&St(Qt,_t,ue),Xt.data.stopy=Math.max(ue.data.stopy+ct.c4ShapeMargin,Xt.data.stopy),Xt.data.stopx=Math.max(ue.data.stopx+ct.c4ShapeMargin,Xt.data.stopx),K=Math.max(K,Xt.data.stopx),st=Math.max(st,Xt.data.stopy)}}var Yt=function(Qt,Kt){ct=R.getConfig().c4;var Xt,se=R.getConfig().securityLevel;se==="sandbox"&&(Xt=(0,h.select)("#i"+Kt));var ue=se==="sandbox"?(0,h.select)(Xt.nodes()[0].contentDocument.body):(0,h.select)("body"),re=(se==="sandbox"&&Xt.nodes()[0].contentDocument,_.parser.yy);_.parser.yy.clear(),_.parser.yy.setWrap(ct.wrap),_.parser.parse(Qt+`
`),it=re.getC4ShapeInRow(),pt=re.getC4BoundaryInRow(),O.log.debug("C:".concat(JSON.stringify(ct,null,2)));var _t=se==="sandbox"?ue.select('[id="'.concat(Kt,'"]')):(0,h.select)('[id="'.concat(Kt,'"]'));a.default.insertComputerIcon(_t),a.default.insertDatabaseIcon(_t),a.default.insertClockIcon(_t);var ut=new lt;ut.setData(ct.diagramMarginX,ct.diagramMarginX,ct.diagramMarginY,ct.diagramMarginY),ut.data.widthLimit=screen.availWidth,K=ct.diagramMarginX,st=ct.diagramMarginY;var Mt=_.parser.yy.getTitle();_.parser.yy.getC4Type(),mt(_t,"",ut,_.parser.yy.getBoundarys("")),a.default.insertArrowHead(_t),a.default.insertArrowEnd(_t),a.default.insertArrowCrossHead(_t),a.default.insertArrowFilledHead(_t),Pt(_t,_.parser.yy.getRels(),_.parser.yy.getC4Shape),ut.data.stopx=K,ut.data.stopy=st;var qt=ut.data,Nt=qt.stopy-qt.starty+2*ct.diagramMarginY,Vt=qt.stopx-qt.startx+2*ct.diagramMarginX;Mt&&_t.append("text").text(Mt).attr("x",(qt.stopx-qt.startx)/2-4*ct.diagramMarginX).attr("y",qt.starty+ct.diagramMarginY),(0,$.configureSvgSize)(_t,Nt,Vt,ct.useMaxWidth);var Ut=Mt?60:0;_t.attr("viewBox",qt.startx-ct.diagramMarginX+" -"+(ct.diagramMarginY+Ut)+" "+Vt+" "+(Nt+Ut)),(0,F.default)(_.parser.yy,_t,Kt),O.log.debug("models:",qt)};const ne={drawPersonOrSystemArray:at,drawBoundary:St,setConf:J,draw:Yt}},"./src/diagrams/c4/styles.js":(E,C,v)=>{v.r(C),v.d(C,{default:()=>h});const h=function(a){return`.person {
    stroke: `.concat(a.personBorder,`;
    fill: `).concat(a.personBkg,`;
  }
`)}},"./src/diagrams/c4/svgDraw.js":(E,C,v)=>{v.r(C),v.d(C,{default:()=>Ct,drawC4Shape:()=>j,drawEmbeddedImage:()=>P,drawImage:()=>M,drawLabel:()=>$,drawRect:()=>_,drawRels:()=>F,drawText:()=>R,getNoteRect:()=>J,getTextObj:()=>lt,insertArrowCrossHead:()=>ct,insertArrowEnd:()=>st,insertArrowFilledHead:()=>it,insertArrowHead:()=>K,insertClockIcon:()=>V,insertComputerIcon:()=>W,insertDatabaseIcon:()=>X,insertDynamicNumber:()=>pt});var h=v("./src/diagrams/common/common.js"),a=v("@braintree/sanitize-url");function O(St,at){(at==null||at>St.length)&&(at=St.length);for(var yt=0,kt=new Array(at);yt<at;yt++)kt[yt]=St[yt];return kt}var _=function(St,at){var yt=St.append("rect");if(yt.attr("x",at.x),yt.attr("y",at.y),yt.attr("fill",at.fill),yt.attr("stroke",at.stroke),yt.attr("width",at.width),yt.attr("height",at.height),yt.attr("rx",at.rx),yt.attr("ry",at.ry),at.attrs!=="undefined"&&at.attrs!==null)for(var kt in at.attrs)yt.attr(kt,at.attrs[kt]);return at.class!=="undefined"&&yt.attr("class",at.class),yt},M=function(St,at,yt,kt,xt,Pt){var mt=St.append("image");mt.attr("width",at),mt.attr("height",yt),mt.attr("x",kt),mt.attr("y",xt);var Yt=Pt.startsWith("data:image/png;base64")?Pt:(0,a.sanitizeUrl)(Pt);mt.attr("xlink:href",Yt)},P=function(St,at,yt,kt){var xt=St.append("use");xt.attr("x",at),xt.attr("y",yt);var Pt=(0,a.sanitizeUrl)(kt);xt.attr("xlink:href","#"+Pt)},R=function(St,at){var yt=0,kt=0,xt=at.text.split(h.default.lineBreakRegex),Pt=[],mt=0,Yt=function(){return at.y};if(at.valign!==void 0&&at.textMargin!==void 0&&at.textMargin>0)switch(at.valign){case"top":case"start":Yt=function(){return Math.round(at.y+at.textMargin)};break;case"middle":case"center":Yt=function(){return Math.round(at.y+(yt+kt+at.textMargin)/2)};break;case"bottom":case"end":Yt=function(){return Math.round(at.y+(yt+kt+2*at.textMargin)-at.textMargin)}}if(at.anchor!==void 0&&at.textMargin!==void 0&&at.width!==void 0)switch(at.anchor){case"left":case"start":at.x=Math.round(at.x+at.textMargin),at.anchor="start",at.dominantBaseline="text-after-edge",at.alignmentBaseline="middle";break;case"middle":case"center":at.x=Math.round(at.x+at.width/2),at.anchor="middle",at.dominantBaseline="middle",at.alignmentBaseline="middle";break;case"right":case"end":at.x=Math.round(at.x+at.width-at.textMargin),at.anchor="end",at.dominantBaseline="text-before-edge",at.alignmentBaseline="middle"}for(var ne=0;ne<xt.length;ne++){var Qt=xt[ne];at.textMargin!==void 0&&at.textMargin===0&&at.fontSize!==void 0&&(mt=ne*at.fontSize);var Kt=St.append("text");if(Kt.attr("x",at.x),Kt.attr("y",Yt()),at.anchor!==void 0&&Kt.attr("text-anchor",at.anchor).attr("dominant-baseline",at.dominantBaseline).attr("alignment-baseline",at.alignmentBaseline),at.fontFamily!==void 0&&Kt.style("font-family",at.fontFamily),at.fontSize!==void 0&&Kt.style("font-size",at.fontSize),at.fontWeight!==void 0&&Kt.style("font-weight",at.fontWeight),at.fill!==void 0&&Kt.attr("fill",at.fill),at.class!==void 0&&Kt.attr("class",at.class),at.dy!==void 0?Kt.attr("dy",at.dy):mt!==0&&Kt.attr("dy",mt),at.tspan){var Xt=Kt.append("tspan");Xt.attr("x",at.x),at.fill!==void 0&&Xt.attr("fill",at.fill),Xt.text(Qt)}else Kt.text(Qt);at.valign!==void 0&&at.textMargin!==void 0&&at.textMargin>0&&(kt+=(Kt._groups||Kt)[0][0].getBBox().height,yt=kt),Pt.push(Kt)}return Pt},$=function(St,at){var yt,kt,xt,Pt,mt=St.append("polygon");return mt.attr("points",(yt=at.x)+","+(kt=at.y)+" "+(yt+(xt=at.width))+","+kt+" "+(yt+xt)+","+(kt+(Pt=at.height)-7)+" "+(yt+xt-8.4)+","+(kt+Pt)+" "+yt+","+(kt+Pt)),mt.attr("class","labelBox"),at.y=at.y+at.height/2,R(St,at),mt},F=function(St,at,yt){var kt,xt=St.append("g"),Pt=0,mt=function(_t,ut){var Mt=typeof Symbol!="undefined"&&_t[Symbol.iterator]||_t["@@iterator"];if(!Mt){if(Array.isArray(_t)||(Mt=function(Ft,jt){if(Ft){if(typeof Ft=="string")return O(Ft,jt);var ee=Object.prototype.toString.call(Ft).slice(8,-1);return ee==="Object"&&Ft.constructor&&(ee=Ft.constructor.name),ee==="Map"||ee==="Set"?Array.from(Ft):ee==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ee)?O(Ft,jt):void 0}}(_t))||ut&&_t&&typeof _t.length=="number"){Mt&&(_t=Mt);var qt=0,Nt=function(){};return{s:Nt,n:function(){return qt>=_t.length?{done:!0}:{done:!1,value:_t[qt++]}},e:function(Ft){throw Ft},f:Nt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Vt,Ut=!0,Wt=!1;return{s:function(){Mt=Mt.call(_t)},n:function(){var Ft=Mt.next();return Ut=Ft.done,Ft},e:function(Ft){Wt=!0,Vt=Ft},f:function(){try{Ut||Mt.return==null||Mt.return()}finally{if(Wt)throw Vt}}}}(at);try{for(mt.s();!(kt=mt.n()).done;){var Yt=kt.value,ne=Yt.textColor?Yt.textColor:"#444444",Qt=Yt.lineColor?Yt.lineColor:"#444444",Kt=Yt.offsetX?parseInt(Yt.offsetX):0,Xt=Yt.offsetY?parseInt(Yt.offsetY):0;if(Pt===0){var se=xt.append("line");se.attr("x1",Yt.startPoint.x),se.attr("y1",Yt.startPoint.y),se.attr("x2",Yt.endPoint.x),se.attr("y2",Yt.endPoint.y),se.attr("stroke-width","1"),se.attr("stroke",Qt),se.style("fill","none"),Yt.type!=="rel_b"&&se.attr("marker-end","url(#arrowhead)"),Yt.type!=="birel"&&Yt.type!=="rel_b"||se.attr("marker-start","url(#arrowend)"),Pt=-1}else{var ue=xt.append("path");ue.attr("fill","none").attr("stroke-width","1").attr("stroke",Qt).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",Yt.startPoint.x).replaceAll("starty",Yt.startPoint.y).replaceAll("controlx",Yt.startPoint.x+(Yt.endPoint.x-Yt.startPoint.x)/2-(Yt.endPoint.x-Yt.startPoint.x)/4).replaceAll("controly",Yt.startPoint.y+(Yt.endPoint.y-Yt.startPoint.y)/2).replaceAll("stopx",Yt.endPoint.x).replaceAll("stopy",Yt.endPoint.y)),Yt.type!=="rel_b"&&ue.attr("marker-end","url(#arrowhead)"),Yt.type!=="birel"&&Yt.type!=="rel_b"||ue.attr("marker-start","url(#arrowend)")}var re=yt.messageFont();Tt(yt)(Yt.label.text,xt,Math.min(Yt.startPoint.x,Yt.endPoint.x)+Math.abs(Yt.endPoint.x-Yt.startPoint.x)/2+Kt,Math.min(Yt.startPoint.y,Yt.endPoint.y)+Math.abs(Yt.endPoint.y-Yt.startPoint.y)/2+Xt,Yt.label.width,Yt.label.height,{fill:ne},re),Yt.techn&&Yt.techn.text!==""&&(re=yt.messageFont(),Tt(yt)("["+Yt.techn.text+"]",xt,Math.min(Yt.startPoint.x,Yt.endPoint.x)+Math.abs(Yt.endPoint.x-Yt.startPoint.x)/2+Kt,Math.min(Yt.startPoint.y,Yt.endPoint.y)+Math.abs(Yt.endPoint.y-Yt.startPoint.y)/2+yt.messageFontSize+5+Xt,Math.max(Yt.label.width,Yt.techn.width),Yt.techn.height,{fill:ne,"font-style":"italic"},re))}}catch(_t){mt.e(_t)}finally{mt.f()}},j=function(St,at,yt){var kt=at.bgColor?at.bgColor:yt[at.typeC4Shape.text+"_bg_color"],xt=at.borderColor?at.borderColor:yt[at.typeC4Shape.text+"_border_color"],Pt=at.fontColor?at.fontColor:"#FFFFFF",mt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(at.typeC4Shape.text){case"person":mt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":mt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII="}var Yt=St.append("g");Yt.attr("class","person-man");var ne=J();switch(at.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":ne.x=at.x,ne.y=at.y,ne.fill=kt,ne.width=at.width,ne.height=at.height,ne.style="stroke:"+xt+";stroke-width:0.5;",ne.rx=2.5,ne.ry=2.5,_(Yt,ne);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":Yt.append("path").attr("fill",kt).attr("stroke-width","0.5").attr("stroke",xt).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",at.x).replaceAll("starty",at.y).replaceAll("half",at.width/2).replaceAll("height",at.height)),Yt.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",xt).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",at.x).replaceAll("starty",at.y).replaceAll("half",at.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":Yt.append("path").attr("fill",kt).attr("stroke-width","0.5").attr("stroke",xt).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",at.x).replaceAll("starty",at.y).replaceAll("width",at.width).replaceAll("half",at.height/2)),Yt.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",xt).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",at.x+at.width).replaceAll("starty",at.y).replaceAll("half",at.height/2))}var Qt=Bt(yt,at.typeC4Shape.text);switch(Yt.append("text").attr("fill",Pt).attr("font-family",Qt.fontFamily).attr("font-size",Qt.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",at.typeC4Shape.width).attr("x",at.x+at.width/2-at.typeC4Shape.width/2).attr("y",at.y+at.typeC4Shape.Y).text("<<"+at.typeC4Shape.text+">>"),at.typeC4Shape.text){case"person":case"external_person":M(Yt,48,48,at.x+at.width/2-24,at.y+at.image.Y,mt)}var Kt=yt[at.typeC4Shape.text+"Font"]();return Kt.fontWeight="bold",Kt.fontSize=Kt.fontSize+2,Kt.fontColor=Pt,Tt(yt)(at.label.text,Yt,at.x,at.y+at.label.Y,at.width,at.height,{fill:Pt},Kt),(Kt=yt[at.typeC4Shape.text+"Font"]()).fontColor=Pt,at.thchn&&at.thchn.text!==""?Tt(yt)(at.thchn.text,Yt,at.x,at.y+at.thchn.Y,at.width,at.height,{fill:Pt,"font-style":"italic"},Kt):at.type&&at.type.text!==""&&Tt(yt)(at.type.text,Yt,at.x,at.y+at.type.Y,at.width,at.height,{fill:Pt,"font-style":"italic"},Kt),at.descr&&at.descr.text!==""&&((Kt=yt.personFont()).fontColor=Pt,Tt(yt)(at.descr.text,Yt,at.x,at.y+at.descr.Y,at.width,at.height,{fill:Pt},Kt)),at.height},X=function(St){St.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},W=function(St){St.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},V=function(St){St.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},K=function(St){St.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},st=function(St){St.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")},it=function(St){St.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},pt=function(St){St.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},ct=function(St){var at=St.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);at.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),at.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},lt=function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},J=function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},Bt=function(St,at){return{fontFamily:St[at+"FontFamily"],fontSize:St[at+"FontSize"],fontWeight:St[at+"FontWeight"]}},Tt=function(){function St(xt,Pt,mt,Yt,ne,Qt,Kt){kt(Pt.append("text").attr("x",mt+ne/2).attr("y",Yt+Qt/2+5).style("text-anchor","middle").text(xt),Kt)}function at(xt,Pt,mt,Yt,ne,Qt,Kt,Xt){for(var se=Xt.fontSize,ue=Xt.fontFamily,re=Xt.fontWeight,_t=xt.split(h.default.lineBreakRegex),ut=0;ut<_t.length;ut++){var Mt=ut*se-se*(_t.length-1)/2,qt=Pt.append("text").attr("x",mt+ne/2).attr("y",Yt).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",se).style("font-weight",re).style("font-family",ue);qt.append("tspan").attr("dy",Mt).text(_t[ut]).attr("alignment-baseline","mathematical"),kt(qt,Kt)}}function yt(xt,Pt,mt,Yt,ne,Qt,Kt,Xt){var se=Pt.append("switch"),ue=se.append("foreignObject").attr("x",mt).attr("y",Yt).attr("width",ne).attr("height",Qt).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");ue.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(xt),at(xt,se,mt,Yt,ne,0,Kt,Xt),kt(ue,Kt)}function kt(xt,Pt){for(var mt in Pt)Pt.hasOwnProperty(mt)&&xt.attr(mt,Pt[mt])}return function(xt){return xt.textPlacement==="fo"?yt:xt.textPlacement==="old"?St:at}}();const Ct={drawRect:_,drawText:R,drawLabel:$,drawBoundary:function(St,at,yt){var kt=St.append("g"),xt=at.bgColor?at.bgColor:"none",Pt=at.borderColor?at.borderColor:"#444444",mt=at.fontColor?at.fontColor:"black",Yt={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};at.nodeType&&(Yt={"stroke-width":1});var ne={x:at.x,y:at.y,fill:xt,stroke:Pt,width:at.width,height:at.height,rx:2.5,ry:2.5,attrs:Yt};_(kt,ne);var Qt=yt.boundaryFont();Qt.fontWeight="bold",Qt.fontSize=Qt.fontSize+2,Qt.fontColor=mt,Tt(yt)(at.label.text,kt,at.x,at.y+at.label.Y,at.width,at.height,{fill:"#444444"},Qt),at.type&&at.type.text!==""&&((Qt=yt.boundaryFont()).fontColor=mt,Tt(yt)(at.type.text,kt,at.x,at.y+at.type.Y,at.width,at.height,{fill:"#444444"},Qt)),at.descr&&at.descr.text!==""&&((Qt=yt.boundaryFont()).fontSize=Qt.fontSize-2,Qt.fontColor=mt,Tt(yt)(at.descr.text,kt,at.x,at.y+at.descr.Y,at.width,at.height,{fill:"#444444"},Qt))},drawC4Shape:j,drawRels:F,drawImage:M,drawEmbeddedImage:P,insertArrowHead:K,insertArrowEnd:st,insertArrowFilledHead:it,insertDynamicNumber:pt,insertArrowCrossHead:ct,insertDatabaseIcon:X,insertComputerIcon:W,insertClockIcon:V,getTextObj:lt,getNoteRect:J,sanitizeUrl:a.sanitizeUrl}},"./src/diagrams/class/classDb.js":(E,C,v)=>{v.r(C),v.d(C,{addAnnotation:()=>St,addClass:()=>pt,addMember:()=>at,addMembers:()=>yt,addRelation:()=>Ct,bindFunctions:()=>ne,cleanupLabel:()=>kt,clear:()=>lt,default:()=>ue,getClass:()=>J,getClasses:()=>Bt,getRelations:()=>Tt,lineType:()=>Qt,lookUpDomId:()=>ct,parseDirective:()=>st,relationType:()=>Kt,setClickEvent:()=>mt,setCssClass:()=>xt,setLink:()=>Pt});var h=v("d3"),a=v("./src/logger.js"),O=v("./src/config.js"),_=v("./src/diagrams/common/common.js"),M=v("./src/utils.js"),P=v("./src/mermaidAPI.js"),R=v("./src/commonDb.js");function $(re,_t){(_t==null||_t>re.length)&&(_t=re.length);for(var ut=0,Mt=new Array(_t);ut<_t;ut++)Mt[ut]=re[ut];return Mt}var F="classid-",j=[],X={},W=0,V=[],K=function(re){return _.default.sanitizeText(re,O.getConfig())},st=function(re,_t,ut){P.default.parseDirective(this,re,_t,ut)},it=function(re){var _t="",ut=re;if(re.indexOf("~")>0){var Mt=re.split("~");ut=Mt[0],_t=_.default.sanitizeText(Mt[1],O.getConfig())}return{className:ut,type:_t}},pt=function(re){var _t=it(re);X[_t.className]===void 0&&(X[_t.className]={id:_t.className,type:_t.type,cssClasses:[],methods:[],members:[],annotations:[],domId:F+_t.className+"-"+W},W++)},ct=function(re){for(var _t=Object.keys(X),ut=0;ut<_t.length;ut++)if(X[_t[ut]].id===re)return X[_t[ut]].domId},lt=function(){j=[],X={},(V=[]).push(Xt),(0,R.clear)()},J=function(re){return X[re]},Bt=function(){return X},Tt=function(){return j},Ct=function(re){a.log.debug("Adding relation: "+JSON.stringify(re)),pt(re.id1),pt(re.id2),re.id1=it(re.id1).className,re.id2=it(re.id2).className,re.relationTitle1=_.default.sanitizeText(re.relationTitle1.trim(),O.getConfig()),re.relationTitle2=_.default.sanitizeText(re.relationTitle2.trim(),O.getConfig()),j.push(re)},St=function(re,_t){var ut=it(re).className;X[ut].annotations.push(_t)},at=function(re,_t){var ut=it(re).className,Mt=X[ut];if(typeof _t=="string"){var qt=_t.trim();qt.startsWith("<<")&&qt.endsWith(">>")?Mt.annotations.push(K(qt.substring(2,qt.length-2))):qt.indexOf(")")>0?Mt.methods.push(K(qt)):qt&&Mt.members.push(K(qt))}},yt=function(re,_t){Array.isArray(_t)&&(_t.reverse(),_t.forEach(function(ut){return at(re,ut)}))},kt=function(re){return re.substring(0,1)===":"?_.default.sanitizeText(re.substr(1).trim(),O.getConfig()):K(re.trim())},xt=function(re,_t){re.split(",").forEach(function(ut){var Mt=ut;ut[0].match(/\d/)&&(Mt=F+Mt),X[Mt]!==void 0&&X[Mt].cssClasses.push(_t)})},Pt=function(re,_t,ut){var Mt=O.getConfig();re.split(",").forEach(function(qt){var Nt=qt;qt[0].match(/\d/)&&(Nt=F+Nt),X[Nt]!==void 0&&(X[Nt].link=M.default.formatUrl(_t,Mt),Mt.securityLevel==="sandbox"?X[Nt].linkTarget="_top":X[Nt].linkTarget=typeof ut=="string"?K(ut):"_blank")}),xt(re,"clickable")},mt=function(re,_t,ut){re.split(",").forEach(function(Mt){Yt(Mt,_t,ut),X[Mt].haveCallback=!0}),xt(re,"clickable")},Yt=function(re,_t,ut){var Mt=O.getConfig(),qt=re,Nt=ct(qt);if(Mt.securityLevel==="loose"&&_t!==void 0&&X[qt]!==void 0){var Vt=[];if(typeof ut=="string"){Vt=ut.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(var Ut=0;Ut<Vt.length;Ut++){var Wt=Vt[Ut].trim();Wt.charAt(0)==='"'&&Wt.charAt(Wt.length-1)==='"'&&(Wt=Wt.substr(1,Wt.length-2)),Vt[Ut]=Wt}}Vt.length===0&&Vt.push(Nt),V.push(function(){var Ft=document.querySelector('[id="'.concat(Nt,'"]'));Ft!==null&&Ft.addEventListener("click",function(){var jt;M.default.runFunc.apply(M.default,[_t].concat(function(ee){if(Array.isArray(ee))return $(ee)}(jt=Vt)||function(ee){if(typeof Symbol!="undefined"&&ee[Symbol.iterator]!=null||ee["@@iterator"]!=null)return Array.from(ee)}(jt)||function(ee,Lt){if(ee){if(typeof ee=="string")return $(ee,Lt);var he=Object.prototype.toString.call(ee).slice(8,-1);return he==="Object"&&ee.constructor&&(he=ee.constructor.name),he==="Map"||he==="Set"?Array.from(ee):he==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(he)?$(ee,Lt):void 0}}(jt)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()))},!1)})}},ne=function(re){V.forEach(function(_t){_t(re)})},Qt={LINE:0,DOTTED_LINE:1},Kt={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},Xt=function(re){var _t=(0,h.select)(".mermaidTooltip");(_t._groups||_t)[0][0]===null&&(_t=(0,h.select)("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),(0,h.select)(re).select("svg").selectAll("g.node").on("mouseover",function(){var ut=(0,h.select)(this);if(ut.attr("title")!==null){var Mt=this.getBoundingClientRect();_t.transition().duration(200).style("opacity",".9"),_t.text(ut.attr("title")).style("left",window.scrollX+Mt.left+(Mt.right-Mt.left)/2+"px").style("top",window.scrollY+Mt.top-14+document.body.scrollTop+"px"),ut.classed("hover",!0)}}).on("mouseout",function(){_t.transition().duration(500).style("opacity",0),(0,h.select)(this).classed("hover",!1)})};V.push(Xt);var se="TB";const ue={parseDirective:st,setAccTitle:R.setAccTitle,getAccTitle:R.getAccTitle,getAccDescription:R.getAccDescription,setAccDescription:R.setAccDescription,getConfig:function(){return O.getConfig().class},addClass:pt,bindFunctions:ne,clear:lt,getClass:J,getClasses:Bt,addAnnotation:St,getRelations:Tt,addRelation:Ct,getDirection:function(){return se},setDirection:function(re){se=re},addMember:at,addMembers:yt,cleanupLabel:kt,lineType:Qt,relationType:Kt,setClickEvent:mt,setCssClass:xt,setLink:Pt,setTooltip:function(re,_t){var ut=O.getConfig();re.split(",").forEach(function(Mt){_t!==void 0&&(X[Mt].tooltip=_.default.sanitizeText(_t,ut))})},lookUpDomId:ct}},"./src/diagrams/class/classRenderer-v2.js":(E,C,v)=>{v.r(C),v.d(C,{addClasses:()=>V,addRelations:()=>K,default:()=>ct,draw:()=>it,setConf:()=>st});var h=v("d3"),a=(v("dagre"),v("graphlib")),O=v.n(a),_=v("./src/logger.js"),M=v("./src/diagrams/class/classDb.js"),P=v("./src/diagrams/class/parser/classDiagram.jison"),R=v("./src/config.js"),$=v("./src/dagre-wrapper/index.js"),F=v("./src/utils.js"),j=v("./src/diagrams/common/common.js"),X=v("./src/accessibility.js");P.parser.yy=M.default;var W={dividerMargin:10,padding:5,textHeight:10},V=function(lt,J){var Bt=Object.keys(lt);_.log.info("keys:",Bt),_.log.info(lt),Bt.forEach(function(Tt){var Ct=lt[Tt],St="";Ct.cssClasses.length>0&&(St=St+" "+Ct.cssClasses.join(" "));var at,yt,kt={labelStyle:""},xt=Ct.text!==void 0?Ct.text:Ct.id;Ct.type,yt="class_box",J.setNode(Ct.id,{labelStyle:kt.labelStyle,shape:yt,labelText:(at=xt,j.default.sanitizeText(at,(0,R.getConfig)())),classData:Ct,rx:0,ry:0,class:St,style:kt.style,id:Ct.id,domId:Ct.domId,haveCallback:Ct.haveCallback,link:Ct.link,width:Ct.type==="group"?500:void 0,type:Ct.type,padding:(0,R.getConfig)().flowchart.padding}),_.log.info("setNode",{labelStyle:kt.labelStyle,shape:yt,labelText:xt,rx:0,ry:0,class:St,style:kt.style,id:Ct.id,width:Ct.type==="group"?500:void 0,type:Ct.type,padding:(0,R.getConfig)().flowchart.padding})})},K=function(lt,J){var Bt=0;lt.forEach(function(Tt){Bt++;var Ct={classes:"relation"};Ct.pattern=Tt.relation.lineType==1?"dashed":"solid",Ct.id="id"+Bt,Tt.type==="arrow_open"?Ct.arrowhead="none":Ct.arrowhead="normal",_.log.info(Ct,Tt),Ct.startLabelRight=Tt.relationTitle1==="none"?"":Tt.relationTitle1,Ct.endLabelLeft=Tt.relationTitle2==="none"?"":Tt.relationTitle2,Ct.arrowTypeStart=pt(Tt.relation.type1),Ct.arrowTypeEnd=pt(Tt.relation.type2);var St="",at="";if(Tt.style!==void 0){var yt=(0,F.getStylesFromArray)(Tt.style);St=yt.style,at=yt.labelStyle}else St="fill:none";Ct.style=St,Ct.labelStyle=at,Tt.interpolate!==void 0?Ct.curve=(0,F.interpolateToCurve)(Tt.interpolate,h.curveLinear):lt.defaultInterpolate!==void 0?Ct.curve=(0,F.interpolateToCurve)(lt.defaultInterpolate,h.curveLinear):Ct.curve=(0,F.interpolateToCurve)(W.curve,h.curveLinear),Tt.text=Tt.title,Tt.text===void 0?Tt.style!==void 0&&(Ct.arrowheadStyle="fill: #333"):(Ct.arrowheadStyle="fill: #333",Ct.labelpos="c",(0,R.getConfig)().flowchart.htmlLabels?(Ct.labelType="html",Ct.label='<span class="edgeLabel">'+Tt.text+"</span>"):(Ct.labelType="text",Ct.label=Tt.text.replace(j.default.lineBreakRegex,`
`),Tt.style===void 0&&(Ct.style=Ct.style||"stroke: #333; stroke-width: 1.5px;fill:none"),Ct.labelStyle=Ct.labelStyle.replace("color:","fill:"))),J.setEdge(Tt.id1,Tt.id2,Ct,Bt)})},st=function(lt){Object.keys(lt).forEach(function(J){W[J]=lt[J]})},it=function(lt,J){_.log.info("Drawing class - ",J),M.default.clear(),P.parser.parse(lt);var Bt=(0,R.getConfig)().flowchart,Tt=(0,R.getConfig)().securityLevel;_.log.info("config:",Bt);var Ct,St=Bt.nodeSpacing||50,at=Bt.rankSpacing||50,yt=new(O()).Graph({multigraph:!0,compound:!0}).setGraph({rankdir:M.default.getDirection(),nodesep:St,ranksep:at,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),kt=M.default.getClasses(),xt=M.default.getRelations();_.log.info(xt),V(kt,yt),K(xt,yt),Tt==="sandbox"&&(Ct=(0,h.select)("#i"+J));var Pt=Tt==="sandbox"?(0,h.select)(Ct.nodes()[0].contentDocument.body):(0,h.select)("body"),mt=Pt.select('[id="'.concat(J,'"]'));mt.attr("xmlns:xlink","http://www.w3.org/1999/xlink");var Yt=Pt.select("#"+J+" g");if((0,$.render)(Yt,yt,["aggregation","extension","composition","dependency"],"classDiagram",J),(0,F.setupGraphViewbox)(yt,mt,Bt.diagramPadding,Bt.useMaxWidth),!Bt.htmlLabels)for(var ne=Tt==="sandbox"?Ct.nodes()[0].contentDocument:document,Qt=ne.querySelectorAll('[id="'+J+'"] .edgeLabel .label'),Kt=0;Kt<Qt.length;Kt++){var Xt=Qt[Kt],se=Xt.getBBox(),ue=ne.createElementNS("http://www.w3.org/2000/svg","rect");ue.setAttribute("rx",0),ue.setAttribute("ry",0),ue.setAttribute("width",se.width),ue.setAttribute("height",se.height),Xt.insertBefore(ue,Xt.firstChild)}(0,X.default)(P.parser.yy,mt,J)};function pt(lt){var J;switch(lt){case 0:J="aggregation";break;case 1:J="extension";break;case 2:J="composition";break;case 3:J="dependency";break;default:J="none"}return J}const ct={setConf:st,draw:it}},"./src/diagrams/class/classRenderer.js":(E,C,v)=>{v.r(C),v.d(C,{default:()=>ct,draw:()=>pt,setConf:()=>it});var h=v("d3"),a=v("dagre"),O=v.n(a),_=v("graphlib"),M=v.n(_),P=v("./src/logger.js"),R=v("./src/diagrams/class/classDb.js"),$=v("./src/diagrams/class/parser/classDiagram.jison"),F=v("./src/diagrams/class/svgDraw.js"),j=v("./src/utils.js"),X=v("./src/config.js"),W=v("./src/accessibility.js");$.parser.yy=R.default;var V={},K={dividerMargin:10,padding:5,textHeight:10},st=function(lt){var J=Object.entries(V).find(function(Bt){return Bt[1].label===lt});if(J)return J[0]},it=function(lt){Object.keys(lt).forEach(function(J){K[J]=lt[J]})},pt=function(lt,J){V={},$.parser.yy.clear(),$.parser.parse(lt),P.log.info("Rendering diagram "+lt);var Bt,Tt=(0,X.getConfig)().securityLevel;Tt==="sandbox"&&(Bt=(0,h.select)("#i"+J));var Ct,St=Tt==="sandbox"?(0,h.select)(Bt.nodes()[0].contentDocument.body):(0,h.select)("body"),at=(Tt==="sandbox"&&Bt.nodes()[0].contentDocument,St.select("[id='".concat(J,"']")));at.attr("xmlns:xlink","http://www.w3.org/1999/xlink"),(Ct=at).append("defs").append("marker").attr("id","extensionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),Ct.append("defs").append("marker").attr("id","extensionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z"),Ct.append("defs").append("marker").attr("id","compositionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),Ct.append("defs").append("marker").attr("id","compositionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),Ct.append("defs").append("marker").attr("id","aggregationStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),Ct.append("defs").append("marker").attr("id","aggregationEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),Ct.append("defs").append("marker").attr("id","dependencyStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),Ct.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z");var yt=new(M()).Graph({multigraph:!0});yt.setGraph({isMultiGraph:!0}),yt.setDefaultEdgeLabel(function(){return{}});for(var kt=R.default.getClasses(),xt=Object.keys(kt),Pt=0;Pt<xt.length;Pt++){var mt=kt[xt[Pt]],Yt=F.default.drawClass(at,mt,K);V[Yt.id]=Yt,yt.setNode(Yt.id,Yt),P.log.info("Org height: "+Yt.height)}R.default.getRelations().forEach(function(se){P.log.info("tjoho"+st(se.id1)+st(se.id2)+JSON.stringify(se)),yt.setEdge(st(se.id1),st(se.id2),{relation:se},se.title||"DEFAULT")}),O().layout(yt),yt.nodes().forEach(function(se){se!==void 0&&yt.node(se)!==void 0&&(P.log.debug("Node "+se+": "+JSON.stringify(yt.node(se))),St.select("#"+(0,R.lookUpDomId)(se)).attr("transform","translate("+(yt.node(se).x-yt.node(se).width/2)+","+(yt.node(se).y-yt.node(se).height/2)+" )"))}),yt.edges().forEach(function(se){se!==void 0&&yt.edge(se)!==void 0&&(P.log.debug("Edge "+se.v+" -> "+se.w+": "+JSON.stringify(yt.edge(se))),F.default.drawEdge(at,yt.edge(se),yt.edge(se).relation,K))});var ne=at.node().getBBox(),Qt=ne.width+40,Kt=ne.height+40;(0,j.configureSvgSize)(at,Kt,Qt,K.useMaxWidth);var Xt="".concat(ne.x-20," ").concat(ne.y-20," ").concat(Qt," ").concat(Kt);P.log.debug("viewBox ".concat(Xt)),at.attr("viewBox",Xt),(0,W.default)($.parser.yy,at,J)};const ct={setConf:it,draw:pt}},"./src/diagrams/class/styles.js":(E,C,v)=>{v.r(C),v.d(C,{default:()=>h});const h=function(a){return`g.classGroup text {
  fill: `.concat(a.nodeBorder,`;
  fill: `).concat(a.classText,`;
  stroke: none;
  font-family: `).concat(a.fontFamily,`;
  font-size: 10px;

  .title {
    font-weight: bolder;
  }

}

.nodeLabel, .edgeLabel {
  color: `).concat(a.classText,`;
}
.edgeLabel .label rect {
  fill: `).concat(a.mainBkg,`;
}
.label text {
  fill: `).concat(a.classText,`;
}
.edgeLabel .label span {
  background: `).concat(a.mainBkg,`;
}

.classTitle {
  font-weight: bolder;
}
.node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: `).concat(a.mainBkg,`;
    stroke: `).concat(a.nodeBorder,`;
    stroke-width: 1px;
  }


.divider {
  stroke: `).concat(a.nodeBorder,`;
  stroke: 1;
}

g.clickable {
  cursor: pointer;
}

g.classGroup rect {
  fill: `).concat(a.mainBkg,`;
  stroke: `).concat(a.nodeBorder,`;
}

g.classGroup line {
  stroke: `).concat(a.nodeBorder,`;
  stroke-width: 1;
}

.classLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: `).concat(a.mainBkg,`;
  opacity: 0.5;
}

.classLabel .label {
  fill: `).concat(a.nodeBorder,`;
  font-size: 10px;
}

.relation {
  stroke: `).concat(a.lineColor,`;
  stroke-width: 1;
  fill: none;
}

.dashed-line{
  stroke-dasharray: 3;
}

#compositionStart, .composition {
  fill: `).concat(a.lineColor,` !important;
  stroke: `).concat(a.lineColor,` !important;
  stroke-width: 1;
}

#compositionEnd, .composition {
  fill: `).concat(a.lineColor,` !important;
  stroke: `).concat(a.lineColor,` !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: `).concat(a.lineColor,` !important;
  stroke: `).concat(a.lineColor,` !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: `).concat(a.lineColor,` !important;
  stroke: `).concat(a.lineColor,` !important;
  stroke-width: 1;
}

#extensionStart, .extension {
  fill: `).concat(a.lineColor,` !important;
  stroke: `).concat(a.lineColor,` !important;
  stroke-width: 1;
}

#extensionEnd, .extension {
  fill: `).concat(a.lineColor,` !important;
  stroke: `).concat(a.lineColor,` !important;
  stroke-width: 1;
}

#aggregationStart, .aggregation {
  fill: `).concat(a.mainBkg,` !important;
  stroke: `).concat(a.lineColor,` !important;
  stroke-width: 1;
}

#aggregationEnd, .aggregation {
  fill: `).concat(a.mainBkg,` !important;
  stroke: `).concat(a.lineColor,` !important;
  stroke-width: 1;
}

.edgeTerminals {
  font-size: 11px;
}

`)}},"./src/diagrams/class/svgDraw.js":(E,C,v)=>{v.r(C),v.d(C,{default:()=>st,drawClass:()=>R,drawEdge:()=>P,parseMember:()=>$});var h=v("d3"),a=v("./src/diagrams/class/classDb.js"),O=v("./src/utils.js"),_=v("./src/logger.js"),M=0,P=function(it,pt,ct,lt){var J=function(re){switch(re){case a.relationType.AGGREGATION:return"aggregation";case a.relationType.EXTENSION:return"extension";case a.relationType.COMPOSITION:return"composition";case a.relationType.DEPENDENCY:return"dependency"}};pt.points=pt.points.filter(function(re){return!Number.isNaN(re.y)});var Bt,Tt,Ct=pt.points,St=(0,h.line)().x(function(re){return re.x}).y(function(re){return re.y}).curve(h.curveBasis),at=it.append("path").attr("d",St(Ct)).attr("id","edge"+M).attr("class","relation"),yt="";lt.arrowMarkerAbsolute&&(yt=(yt=(yt=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),ct.relation.lineType==1&&at.attr("class","relation dashed-line"),ct.relation.type1!=="none"&&at.attr("marker-start","url("+yt+"#"+J(ct.relation.type1)+"Start)"),ct.relation.type2!=="none"&&at.attr("marker-end","url("+yt+"#"+J(ct.relation.type2)+"End)");var kt,xt,Pt,mt,Yt=pt.points.length,ne=O.default.calcLabelPosition(pt.points);if(Bt=ne.x,Tt=ne.y,Yt%2!=0&&Yt>1){var Qt=O.default.calcCardinalityPosition(ct.relation.type1!=="none",pt.points,pt.points[0]),Kt=O.default.calcCardinalityPosition(ct.relation.type2!=="none",pt.points,pt.points[Yt-1]);_.log.debug("cardinality_1_point "+JSON.stringify(Qt)),_.log.debug("cardinality_2_point "+JSON.stringify(Kt)),kt=Qt.x,xt=Qt.y,Pt=Kt.x,mt=Kt.y}if(ct.title!==void 0){var Xt=it.append("g").attr("class","classLabel"),se=Xt.append("text").attr("class","label").attr("x",Bt).attr("y",Tt).attr("fill","red").attr("text-anchor","middle").text(ct.title);window.label=se;var ue=se.node().getBBox();Xt.insert("rect",":first-child").attr("class","box").attr("x",ue.x-lt.padding/2).attr("y",ue.y-lt.padding/2).attr("width",ue.width+lt.padding).attr("height",ue.height+lt.padding)}_.log.info("Rendering relation "+JSON.stringify(ct)),ct.relationTitle1!==void 0&&ct.relationTitle1!=="none"&&it.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",kt).attr("y",xt).attr("fill","black").attr("font-size","6").text(ct.relationTitle1),ct.relationTitle2!==void 0&&ct.relationTitle2!=="none"&&it.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",Pt).attr("y",mt).attr("fill","black").attr("font-size","6").text(ct.relationTitle2),M++},R=function(it,pt,ct){_.log.info("Rendering class "+pt);var lt,J=pt.id,Bt={id:J,label:pt.id,width:0,height:0},Tt=it.append("g").attr("id",(0,a.lookUpDomId)(J)).attr("class","classGroup");lt=pt.link?Tt.append("svg:a").attr("xlink:href",pt.link).attr("target",pt.linkTarget).append("text").attr("y",ct.textHeight+ct.padding).attr("x",0):Tt.append("text").attr("y",ct.textHeight+ct.padding).attr("x",0);var Ct=!0;pt.annotations.forEach(function(Xt){var se=lt.append("tspan").text("«"+Xt+"»");Ct||se.attr("dy",ct.textHeight),Ct=!1});var St=pt.id;pt.type!==void 0&&pt.type!==""&&(St+="<"+pt.type+">");var at=lt.append("tspan").text(St).attr("class","title");Ct||at.attr("dy",ct.textHeight);var yt=lt.node().getBBox().height,kt=Tt.append("line").attr("x1",0).attr("y1",ct.padding+yt+ct.dividerMargin/2).attr("y2",ct.padding+yt+ct.dividerMargin/2),xt=Tt.append("text").attr("x",ct.padding).attr("y",yt+ct.dividerMargin+ct.textHeight).attr("fill","white").attr("class","classText");Ct=!0,pt.members.forEach(function(Xt){W(xt,Xt,Ct,ct),Ct=!1});var Pt=xt.node().getBBox(),mt=Tt.append("line").attr("x1",0).attr("y1",ct.padding+yt+ct.dividerMargin+Pt.height).attr("y2",ct.padding+yt+ct.dividerMargin+Pt.height),Yt=Tt.append("text").attr("x",ct.padding).attr("y",yt+2*ct.dividerMargin+Pt.height+ct.textHeight).attr("fill","white").attr("class","classText");Ct=!0,pt.methods.forEach(function(Xt){W(Yt,Xt,Ct,ct),Ct=!1});var ne=Tt.node().getBBox(),Qt=" ";pt.cssClasses.length>0&&(Qt+=pt.cssClasses.join(" "));var Kt=Tt.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",ne.width+2*ct.padding).attr("height",ne.height+ct.padding+.5*ct.dividerMargin).attr("class",Qt).node().getBBox().width;return lt.node().childNodes.forEach(function(Xt){Xt.setAttribute("x",(Kt-Xt.getBBox().width)/2)}),pt.tooltip&&lt.insert("title").text(pt.tooltip),kt.attr("x2",Kt),mt.attr("x2",Kt),Bt.width=Kt,Bt.height=ne.height+ct.padding+.5*ct.dividerMargin,Bt},$=function(it){var pt=it.match(/^(\+|-|~|#)?(\w+)(~\w+~|\[\])?\s+(\w+) *(\*|\$)?$/),ct=it.match(/^([+|\-|~|#])?(\w+) *\( *(.*)\) *(\*|\$)? *(\w*[~|[\]]*\s*\w*~?)$/);return pt&&!ct?F(pt):ct?j(ct):X(it)},F=function(it){var pt="",ct="";try{var lt=it[1]?it[1].trim():"",J=it[2]?it[2].trim():"",Bt=it[3]?V(it[3].trim()):"",Tt=it[4]?it[4].trim():"",Ct=it[5]?it[5].trim():"";ct=lt+J+Bt+" "+Tt,pt=K(Ct)}catch(St){ct=it}return{displayText:ct,cssStyle:pt}},j=function(it){var pt="",ct="";try{var lt=it[1]?it[1].trim():"",J=it[2]?it[2].trim():"",Bt=it[3]?V(it[3].trim()):"",Tt=it[4]?it[4].trim():"";ct=lt+J+"("+Bt+")"+(it[5]?" : "+V(it[5]).trim():""),pt=K(Tt)}catch(Ct){ct=it}return{displayText:ct,cssStyle:pt}},X=function(it){var pt="",ct="",lt="",J=it.indexOf("("),Bt=it.indexOf(")");if(J>1&&Bt>J&&Bt<=it.length){var Tt="",Ct="",St=it.substring(0,1);St.match(/\w/)?Ct=it.substring(0,J).trim():(St.match(/\+|-|~|#/)&&(Tt=St),Ct=it.substring(1,J).trim());var at=it.substring(J+1,Bt),yt=it.substring(Bt+1,1);ct=K(yt),pt=Tt+Ct+"("+V(at.trim())+")",Bt<0&&(lt=it.substring(Bt+2).trim())!==""&&(lt=" : "+V(lt))}else pt=V(it);return{displayText:pt,cssStyle:ct}},W=function(it,pt,ct,lt){var J=$(pt),Bt=it.append("tspan").attr("x",lt.padding).text(J.displayText);J.cssStyle!==""&&Bt.attr("style",J.cssStyle),ct||Bt.attr("dy",lt.textHeight)},V=function it(pt){var ct=pt;return pt.indexOf("~")!=-1?it(ct=(ct=ct.replace("~","<")).replace("~",">")):ct},K=function(it){switch(it){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}};const st={drawClass:R,drawEdge:P,parseMember:$}},"./src/diagrams/common/common.js":(E,C,v)=>{v.r(C),v.d(C,{default:()=>st,evaluate:()=>K,getRows:()=>O,hasBreaks:()=>j,lineBreakRegex:()=>F,removeEscapes:()=>_,removeScript:()=>M,sanitizeText:()=>R,sanitizeTextOrArray:()=>$,splitBreaks:()=>X});var h=v("dompurify"),a=v.n(h),O=function(it){if(!it)return 1;var pt=V(it);return(pt=pt.replace(/\\n/g,"#br#")).split("#br#")},_=function(it){var pt=it.replace(/\\u[\dA-F]{4}/gi,function(ct){return String.fromCharCode(parseInt(ct.replace(/\\u/g,""),16))});return(pt=(pt=pt.replace(/\\x([0-9a-f]{2})/gi,function(ct,lt){return String.fromCharCode(parseInt(lt,16))})).replace(/\\[\d\d\d]{3}/gi,function(ct){return String.fromCharCode(parseInt(ct.replace(/\\/g,""),8))})).replace(/\\[\d\d\d]{2}/gi,function(ct){return String.fromCharCode(parseInt(ct.replace(/\\/g,""),8))})},M=function(it){for(var pt="",ct=0;ct>=0;){if(!((ct=it.indexOf("<script"))>=0)){pt+=it,ct=-1;break}pt+=it.substr(0,ct),(ct=(it=it.substr(ct+1)).indexOf("<\/script>"))>=0&&(ct+=9,it=it.substr(ct))}var lt=_(pt);return(lt=(lt=(lt=(lt=lt.replaceAll(/script>/gi,"#")).replaceAll(/javascript:/gi,"#")).replaceAll(/javascript&colon/gi,"#")).replaceAll(/onerror=/gi,"onerror:")).replaceAll(/<iframe/gi,"")},P=function(it,pt){var ct=it,lt=!0;if(!pt.flowchart||pt.flowchart.htmlLabels!==!1&&pt.flowchart.htmlLabels!=="false"||(lt=!1),lt){var J=pt.securityLevel;J==="antiscript"||J==="strict"?ct=M(ct):J!=="loose"&&(ct=(ct=(ct=V(ct)).replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/=/g,"&equals;"),ct=W(ct))}return ct},R=function(it,pt){return it&&(pt.dompurifyConfig?a().sanitize(P(it,pt),pt.dompurifyConfig):a().sanitize(P(it,pt)))},$=function(it,pt){return typeof it=="string"?R(it,pt):it.flat().map(function(ct){return R(ct,pt)})},F=/<br\s*\/?>/gi,j=function(it){return F.test(it)},X=function(it){return it.split(F)},W=function(it){return it.replace(/#br#/g,"<br/>")},V=function(it){return it.replace(F,"#br#")},K=function(it){return it!=="false"&&it!==!1};const st={getRows:O,sanitizeText:R,sanitizeTextOrArray:$,hasBreaks:j,splitBreaks:X,lineBreakRegex:F,removeScript:M,getUrl:function(it){var pt="";return it&&(pt=(pt=(pt=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),pt},evaluate:K,removeEscapes:_}},"./src/diagrams/er/erDb.js":(E,C,v)=>{v.r(C),v.d(C,{default:()=>F,parseDirective:()=>R});var h=v("./src/logger.js"),a=v("./src/mermaidAPI.js"),O=v("./src/config.js"),_=v("./src/commonDb.js"),M={},P=[],R=function(j,X,W){a.default.parseDirective(this,j,X,W)},$=function(j){return M[j]===void 0&&(M[j]={attributes:[]},h.log.info("Added new entity :",j)),M[j]};const F={Cardinality:{ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE"},Identification:{NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},parseDirective:R,getConfig:function(){return O.getConfig().er},addEntity:$,addAttributes:function(j,X){var W,V=$(j);for(W=X.length-1;W>=0;W--)V.attributes.push(X[W]),h.log.debug("Added attribute ",X[W].attributeName)},getEntities:function(){return M},addRelationship:function(j,X,W,V){var K={entityA:j,roleA:X,entityB:W,relSpec:V};P.push(K),h.log.debug("Added new relationship :",K)},getRelationships:function(){return P},clear:function(){M={},P=[],(0,_.clear)()},setAccTitle:_.setAccTitle,getAccTitle:_.getAccTitle,setAccDescription:_.setAccDescription,getAccDescription:_.getAccDescription}},"./src/diagrams/er/erMarkers.js":(E,C,v)=>{v.r(C),v.d(C,{default:()=>a});var h={ONLY_ONE_START:"ONLY_ONE_START",ONLY_ONE_END:"ONLY_ONE_END",ZERO_OR_ONE_START:"ZERO_OR_ONE_START",ZERO_OR_ONE_END:"ZERO_OR_ONE_END",ONE_OR_MORE_START:"ONE_OR_MORE_START",ONE_OR_MORE_END:"ONE_OR_MORE_END",ZERO_OR_MORE_START:"ZERO_OR_MORE_START",ZERO_OR_MORE_END:"ZERO_OR_MORE_END"};const a={ERMarkers:h,insertMarkers:function(O,_){var M;O.append("defs").append("marker").attr("id",h.ONLY_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",_.stroke).attr("fill","none").attr("d","M9,0 L9,18 M15,0 L15,18"),O.append("defs").append("marker").attr("id",h.ONLY_ONE_END).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",_.stroke).attr("fill","none").attr("d","M3,0 L3,18 M9,0 L9,18"),(M=O.append("defs").append("marker").attr("id",h.ZERO_OR_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto")).append("circle").attr("stroke",_.stroke).attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),M.append("path").attr("stroke",_.stroke).attr("fill","none").attr("d","M9,0 L9,18"),(M=O.append("defs").append("marker").attr("id",h.ZERO_OR_ONE_END).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto")).append("circle").attr("stroke",_.stroke).attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),M.append("path").attr("stroke",_.stroke).attr("fill","none").attr("d","M21,0 L21,18"),O.append("defs").append("marker").attr("id",h.ONE_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",_.stroke).attr("fill","none").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),O.append("defs").append("marker").attr("id",h.ONE_OR_MORE_END).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",_.stroke).attr("fill","none").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"),(M=O.append("defs").append("marker").attr("id",h.ZERO_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto")).append("circle").attr("stroke",_.stroke).attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),M.append("path").attr("stroke",_.stroke).attr("fill","none").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18"),(M=O.append("defs").append("marker").attr("id",h.ZERO_OR_MORE_END).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto")).append("circle").attr("stroke",_.stroke).attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),M.append("path").attr("stroke",_.stroke).attr("fill","none").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")}}},"./src/diagrams/er/erRenderer.js":(E,C,v)=>{v.r(C),v.d(C,{default:()=>lt,draw:()=>ct,setConf:()=>st});var h=v("graphlib"),a=v.n(h),O=v("d3"),_=v("./src/diagrams/er/erDb.js"),M=v("./src/diagrams/er/parser/erDiagram.jison"),P=v.n(M),R=v("dagre"),$=v.n(R),F=v("./src/config.js"),j=v("./src/logger.js"),X=v("./src/diagrams/er/erMarkers.js"),W=v("./src/utils.js"),V=v("./src/accessibility.js"),K={},st=function(J){for(var Bt=Object.keys(J),Tt=0;Tt<Bt.length;Tt++)K[Bt[Tt]]=J[Bt[Tt]]},it=function(J){return(J.entityA+J.roleA+J.entityB).replace(/\s/g,"")},pt=0,ct=function(J,Bt){j.log.info("Drawing ER diagram"),_.default.clear();var Tt=P().parser;Tt.yy=_.default;var Ct,St=(0,F.getConfig)().securityLevel;St==="sandbox"&&(Ct=(0,O.select)("#i"+Bt));var at=St==="sandbox"?(0,O.select)(Ct.nodes()[0].contentDocument.body):(0,O.select)("body");St==="sandbox"&&Ct.nodes()[0].contentDocument;try{Tt.parse(J)}catch(se){j.log.debug("Parsing failed")}var yt,kt=at.select("[id='".concat(Bt,"']"));X.default.insertMarkers(kt,K),yt=new(a()).Graph({multigraph:!0,directed:!0,compound:!1}).setGraph({rankdir:K.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});var xt,Pt,mt=function(se,ue,re){var _t;return Object.keys(ue).forEach(function(ut){var Mt=se.append("g").attr("id",ut);_t=_t===void 0?ut:_t;var qt="entity-"+ut,Nt=Mt.append("text").attr("class","er entityLabel").attr("id",qt).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("style","font-family: "+(0,F.getConfig)().fontFamily+"; font-size: "+K.fontSize+"px").text(ut),Vt=function(jt,ee,Lt){var he=K.entityPadding/3,Ht=K.entityPadding/3,Se=.85*K.fontSize,Te=ee.node().getBBox(),we=[],Ue=!1,We=!1,De=0,me=0,Oe=0,Pe=0,ze=Te.height+2*he,He=1;Lt.forEach(function(Rn){Rn.attributeKeyType!==void 0&&(Ue=!0),Rn.attributeComment!==void 0&&(We=!0)}),Lt.forEach(function(Rn){var $n="".concat(ee.node().id,"-attr-").concat(He),sn=0,on=jt.append("text").attr("class","er entityLabel").attr("id","".concat($n,"-type")).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+(0,F.getConfig)().fontFamily+"; font-size: "+Se+"px").text(Rn.attributeType),yn=jt.append("text").attr("class","er entityLabel").attr("id","".concat($n,"-name")).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+(0,F.getConfig)().fontFamily+"; font-size: "+Se+"px").text(Rn.attributeName),Sn={};Sn.tn=on,Sn.nn=yn;var Ge=on.node().getBBox(),Fn=yn.node().getBBox();if(De=Math.max(De,Ge.width),me=Math.max(me,Fn.width),sn=Math.max(Ge.height,Fn.height),Ue){var ke=jt.append("text").attr("class","er entityLabel").attr("id","".concat($n,"-key")).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+(0,F.getConfig)().fontFamily+"; font-size: "+Se+"px").text(Rn.attributeKeyType||"");Sn.kn=ke;var Fr=ke.node().getBBox();Oe=Math.max(Oe,Fr.width),sn=Math.max(sn,Fr.height)}if(We){var Ye=jt.append("text").attr("class","er entityLabel").attr("id","".concat($n,"-comment")).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+(0,F.getConfig)().fontFamily+"; font-size: "+Se+"px").text(Rn.attributeComment||"");Sn.cn=Ye;var vr=Ye.node().getBBox();Pe=Math.max(Pe,vr.width),sn=Math.max(sn,vr.height)}Sn.height=sn,we.push(Sn),ze+=sn+2*he,He+=1});var dn=4;Ue&&(dn+=2),We&&(dn+=2);var Mn=De+me+Oe+Pe,Kn={width:Math.max(K.minEntityWidth,Math.max(Te.width+2*K.entityPadding,Mn+Ht*dn)),height:Lt.length>0?ze:Math.max(K.minEntityHeight,Te.height+2*K.entityPadding)};if(Lt.length>0){var an=Math.max(0,(Kn.width-Mn-Ht*dn)/(dn/2));ee.attr("transform","translate("+Kn.width/2+","+(he+Te.height/2)+")");var mn=Te.height+2*he,Bn="attributeBoxOdd";we.forEach(function(Rn){var $n=mn+he+Rn.height/2;Rn.tn.attr("transform","translate("+Ht+","+$n+")");var sn=jt.insert("rect","#"+Rn.tn.node().id).attr("class","er ".concat(Bn)).attr("fill",K.fill).attr("fill-opacity","100%").attr("stroke",K.stroke).attr("x",0).attr("y",mn).attr("width",De+2*Ht+an).attr("height",Rn.height+2*he),on=parseFloat(sn.attr("x"))+parseFloat(sn.attr("width"));Rn.nn.attr("transform","translate("+(on+Ht)+","+$n+")");var yn=jt.insert("rect","#"+Rn.nn.node().id).attr("class","er ".concat(Bn)).attr("fill",K.fill).attr("fill-opacity","100%").attr("stroke",K.stroke).attr("x",on).attr("y",mn).attr("width",me+2*Ht+an).attr("height",Rn.height+2*he),Sn=parseFloat(yn.attr("x"))+parseFloat(yn.attr("width"));if(Ue){Rn.kn.attr("transform","translate("+(Sn+Ht)+","+$n+")");var Ge=jt.insert("rect","#"+Rn.kn.node().id).attr("class","er ".concat(Bn)).attr("fill",K.fill).attr("fill-opacity","100%").attr("stroke",K.stroke).attr("x",Sn).attr("y",mn).attr("width",Oe+2*Ht+an).attr("height",Rn.height+2*he);Sn=parseFloat(Ge.attr("x"))+parseFloat(Ge.attr("width"))}We&&(Rn.cn.attr("transform","translate("+(Sn+Ht)+","+$n+")"),jt.insert("rect","#"+Rn.cn.node().id).attr("class","er ".concat(Bn)).attr("fill",K.fill).attr("fill-opacity","100%").attr("stroke",K.stroke).attr("x",Sn).attr("y",mn).attr("width",Pe+2*Ht+an).attr("height",Rn.height+2*he)),mn+=Rn.height+2*he,Bn=Bn=="attributeBoxOdd"?"attributeBoxEven":"attributeBoxOdd"})}else Kn.height=Math.max(K.minEntityHeight,ze),ee.attr("transform","translate("+Kn.width/2+","+Kn.height/2+")");return Kn}(Mt,Nt,ue[ut].attributes),Ut=Vt.width,Wt=Vt.height,Ft=Mt.insert("rect","#"+qt).attr("class","er entityBox").attr("fill",K.fill).attr("fill-opacity","100%").attr("stroke",K.stroke).attr("x",0).attr("y",0).attr("width",Ut).attr("height",Wt).node().getBBox();re.setNode(ut,{width:Ft.width,height:Ft.height,shape:"rect",id:ut})}),_t}(kt,_.default.getEntities(),yt),Yt=function(se,ue){return se.forEach(function(re){ue.setEdge(re.entityA,re.entityB,{relationship:re},it(re))}),se}(_.default.getRelationships(),yt);$().layout(yt),xt=kt,(Pt=yt).nodes().forEach(function(se){se!==void 0&&Pt.node(se)!==void 0&&xt.select("#"+se).attr("transform","translate("+(Pt.node(se).x-Pt.node(se).width/2)+","+(Pt.node(se).y-Pt.node(se).height/2)+" )")}),Yt.forEach(function(se){(function(ue,re,_t,ut){pt++;var Mt=_t.edge(re.entityA,re.entityB,it(re)),qt=(0,O.line)().x(function(ee){return ee.x}).y(function(ee){return ee.y}).curve(O.curveBasis),Nt=ue.insert("path","#"+ut).attr("class","er relationshipLine").attr("d",qt(Mt.points)).attr("stroke",K.stroke).attr("fill","none");re.relSpec.relType===_.default.Identification.NON_IDENTIFYING&&Nt.attr("stroke-dasharray","8,8");var Vt="";switch(K.arrowMarkerAbsolute&&(Vt=(Vt=(Vt=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),re.relSpec.cardA){case _.default.Cardinality.ZERO_OR_ONE:Nt.attr("marker-end","url("+Vt+"#"+X.default.ERMarkers.ZERO_OR_ONE_END+")");break;case _.default.Cardinality.ZERO_OR_MORE:Nt.attr("marker-end","url("+Vt+"#"+X.default.ERMarkers.ZERO_OR_MORE_END+")");break;case _.default.Cardinality.ONE_OR_MORE:Nt.attr("marker-end","url("+Vt+"#"+X.default.ERMarkers.ONE_OR_MORE_END+")");break;case _.default.Cardinality.ONLY_ONE:Nt.attr("marker-end","url("+Vt+"#"+X.default.ERMarkers.ONLY_ONE_END+")")}switch(re.relSpec.cardB){case _.default.Cardinality.ZERO_OR_ONE:Nt.attr("marker-start","url("+Vt+"#"+X.default.ERMarkers.ZERO_OR_ONE_START+")");break;case _.default.Cardinality.ZERO_OR_MORE:Nt.attr("marker-start","url("+Vt+"#"+X.default.ERMarkers.ZERO_OR_MORE_START+")");break;case _.default.Cardinality.ONE_OR_MORE:Nt.attr("marker-start","url("+Vt+"#"+X.default.ERMarkers.ONE_OR_MORE_START+")");break;case _.default.Cardinality.ONLY_ONE:Nt.attr("marker-start","url("+Vt+"#"+X.default.ERMarkers.ONLY_ONE_START+")")}var Ut=Nt.node().getTotalLength(),Wt=Nt.node().getPointAtLength(.5*Ut),Ft="rel"+pt,jt=ue.append("text").attr("class","er relationshipLabel").attr("id",Ft).attr("x",Wt.x).attr("y",Wt.y).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("style","font-family: "+(0,F.getConfig)().fontFamily+"; font-size: "+K.fontSize+"px").text(re.roleA).node().getBBox();ue.insert("rect","#"+Ft).attr("class","er relationshipLabelBox").attr("x",Wt.x-jt.width/2).attr("y",Wt.y-jt.height/2).attr("width",jt.width).attr("height",jt.height).attr("fill","white").attr("fill-opacity","85%")})(kt,se,yt,mt)});var ne=K.diagramPadding,Qt=kt.node().getBBox(),Kt=Qt.width+2*ne,Xt=Qt.height+2*ne;(0,W.configureSvgSize)(kt,Xt,Kt,K.useMaxWidth),kt.attr("viewBox","".concat(Qt.x-ne," ").concat(Qt.y-ne," ").concat(Kt," ").concat(Xt)),(0,V.default)(Tt.yy,kt,Bt)};const lt={setConf:st,draw:ct}},"./src/diagrams/er/styles.js":(E,C,v)=>{v.r(C),v.d(C,{default:()=>h});const h=function(a){return`
  .entityBox {
    fill: `.concat(a.mainBkg,`;
    stroke: `).concat(a.nodeBorder,`;
  }

  .attributeBoxOdd {
    fill: #ffffff;
    stroke: `).concat(a.nodeBorder,`;
  }

  .attributeBoxEven {
    fill: #f2f2f2;
    stroke: `).concat(a.nodeBorder,`;
  }

  .relationshipLabelBox {
    fill: `).concat(a.tertiaryColor,`;
    opacity: 0.7;
    background-color: `).concat(a.tertiaryColor,`;
      rect {
        opacity: 0.5;
      }
  }

    .relationshipLine {
      stroke: `).concat(a.lineColor,`;
    }
`)}},"./src/diagrams/flowchart/flowChartShapes.js":(E,C,v)=>{v.r(C),v.d(C,{addToRender:()=>K,addToRenderV2:()=>st,default:()=>pt});var h=v("dagre-d3"),a=v.n(h);function O(ct,lt,J){var Bt=.9*(lt.width+lt.height),Tt=[{x:Bt/2,y:0},{x:Bt,y:-Bt/2},{x:Bt/2,y:-Bt},{x:0,y:-Bt/2}],Ct=it(ct,Bt,Bt,Tt);return J.intersect=function(St){return a().intersect.polygon(J,Tt,St)},Ct}function _(ct,lt,J){var Bt=lt.height,Tt=Bt/4,Ct=lt.width+2*Tt,St=[{x:Tt,y:0},{x:Ct-Tt,y:0},{x:Ct,y:-Bt/2},{x:Ct-Tt,y:-Bt},{x:Tt,y:-Bt},{x:0,y:-Bt/2}],at=it(ct,Ct,Bt,St);return J.intersect=function(yt){return a().intersect.polygon(J,St,yt)},at}function M(ct,lt,J){var Bt=lt.width,Tt=lt.height,Ct=[{x:-Tt/2,y:0},{x:Bt,y:0},{x:Bt,y:-Tt},{x:-Tt/2,y:-Tt},{x:0,y:-Tt/2}],St=it(ct,Bt,Tt,Ct);return J.intersect=function(at){return a().intersect.polygon(J,Ct,at)},St}function P(ct,lt,J){var Bt=lt.width,Tt=lt.height,Ct=[{x:-2*Tt/6,y:0},{x:Bt-Tt/6,y:0},{x:Bt+2*Tt/6,y:-Tt},{x:Tt/6,y:-Tt}],St=it(ct,Bt,Tt,Ct);return J.intersect=function(at){return a().intersect.polygon(J,Ct,at)},St}function R(ct,lt,J){var Bt=lt.width,Tt=lt.height,Ct=[{x:2*Tt/6,y:0},{x:Bt+Tt/6,y:0},{x:Bt-2*Tt/6,y:-Tt},{x:-Tt/6,y:-Tt}],St=it(ct,Bt,Tt,Ct);return J.intersect=function(at){return a().intersect.polygon(J,Ct,at)},St}function $(ct,lt,J){var Bt=lt.width,Tt=lt.height,Ct=[{x:-2*Tt/6,y:0},{x:Bt+2*Tt/6,y:0},{x:Bt-Tt/6,y:-Tt},{x:Tt/6,y:-Tt}],St=it(ct,Bt,Tt,Ct);return J.intersect=function(at){return a().intersect.polygon(J,Ct,at)},St}function F(ct,lt,J){var Bt=lt.width,Tt=lt.height,Ct=[{x:Tt/6,y:0},{x:Bt-Tt/6,y:0},{x:Bt+2*Tt/6,y:-Tt},{x:-2*Tt/6,y:-Tt}],St=it(ct,Bt,Tt,Ct);return J.intersect=function(at){return a().intersect.polygon(J,Ct,at)},St}function j(ct,lt,J){var Bt=lt.width,Tt=lt.height,Ct=[{x:0,y:0},{x:Bt+Tt/2,y:0},{x:Bt,y:-Tt/2},{x:Bt+Tt/2,y:-Tt},{x:0,y:-Tt}],St=it(ct,Bt,Tt,Ct);return J.intersect=function(at){return a().intersect.polygon(J,Ct,at)},St}function X(ct,lt,J){var Bt=lt.height,Tt=lt.width+Bt/4,Ct=ct.insert("rect",":first-child").attr("rx",Bt/2).attr("ry",Bt/2).attr("x",-Tt/2).attr("y",-Bt/2).attr("width",Tt).attr("height",Bt);return J.intersect=function(St){return a().intersect.rect(J,St)},Ct}function W(ct,lt,J){var Bt=lt.width,Tt=lt.height,Ct=[{x:0,y:0},{x:Bt,y:0},{x:Bt,y:-Tt},{x:0,y:-Tt},{x:0,y:0},{x:-8,y:0},{x:Bt+8,y:0},{x:Bt+8,y:-Tt},{x:-8,y:-Tt},{x:-8,y:0}],St=it(ct,Bt,Tt,Ct);return J.intersect=function(at){return a().intersect.polygon(J,Ct,at)},St}function V(ct,lt,J){var Bt=lt.width,Tt=Bt/2,Ct=Tt/(2.5+Bt/50),St=lt.height+Ct,at="M 0,"+Ct+" a "+Tt+","+Ct+" 0,0,0 "+Bt+" 0 a "+Tt+","+Ct+" 0,0,0 "+-Bt+" 0 l 0,"+St+" a "+Tt+","+Ct+" 0,0,0 "+Bt+" 0 l 0,"+-St,yt=ct.attr("label-offset-y",Ct).insert("path",":first-child").attr("d",at).attr("transform","translate("+-Bt/2+","+-(St/2+Ct)+")");return J.intersect=function(kt){var xt=a().intersect.rect(J,kt),Pt=xt.x-J.x;if(Tt!=0&&(Math.abs(Pt)<J.width/2||Math.abs(Pt)==J.width/2&&Math.abs(xt.y-J.y)>J.height/2-Ct)){var mt=Ct*Ct*(1-Pt*Pt/(Tt*Tt));mt!=0&&(mt=Math.sqrt(mt)),mt=Ct-mt,kt.y-J.y>0&&(mt=-mt),xt.y+=mt}return xt},yt}function K(ct){ct.shapes().question=O,ct.shapes().hexagon=_,ct.shapes().stadium=X,ct.shapes().subroutine=W,ct.shapes().cylinder=V,ct.shapes().rect_left_inv_arrow=M,ct.shapes().lean_right=P,ct.shapes().lean_left=R,ct.shapes().trapezoid=$,ct.shapes().inv_trapezoid=F,ct.shapes().rect_right_inv_arrow=j}function st(ct){ct({question:O}),ct({hexagon:_}),ct({stadium:X}),ct({subroutine:W}),ct({cylinder:V}),ct({rect_left_inv_arrow:M}),ct({lean_right:P}),ct({lean_left:R}),ct({trapezoid:$}),ct({inv_trapezoid:F}),ct({rect_right_inv_arrow:j})}function it(ct,lt,J,Bt){return ct.insert("polygon",":first-child").attr("points",Bt.map(function(Tt){return Tt.x+","+Tt.y}).join(" ")).attr("transform","translate("+-lt/2+","+J/2+")")}const pt={addToRender:K,addToRenderV2:st}},"./src/diagrams/flowchart/flowDb.js":(E,C,v)=>{v.r(C),v.d(C,{addClass:()=>ne,addLink:()=>Pt,addSingleLink:()=>xt,addSubGraph:()=>Ft,addVertex:()=>kt,bindFunctions:()=>re,clear:()=>Vt,default:()=>De,defaultStyle:()=>Wt,firstGraph:()=>we,getClasses:()=>qt,getDepthFirstPos:()=>Ht,getDirection:()=>_t,getEdges:()=>Mt,getSubGraphs:()=>Te,getTooltip:()=>se,getVertices:()=>ut,indexNodes:()=>Se,lookUpDomId:()=>yt,parseDirective:()=>at,setClass:()=>Kt,setClickEvent:()=>ue,setDirection:()=>Qt,setGen:()=>Ut,setLink:()=>Xt,updateLink:()=>Yt,updateLinkInterpolate:()=>mt});var h=v("d3"),a=v("./src/utils.js"),O=v("./src/config.js"),_=v("./src/diagrams/common/common.js"),M=v("./src/mermaidAPI.js"),P=v("./src/logger.js"),R=v("./src/commonDb.js");function $(me){return $=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Oe){return typeof Oe}:function(Oe){return Oe&&typeof Symbol=="function"&&Oe.constructor===Symbol&&Oe!==Symbol.prototype?"symbol":typeof Oe},$(me)}function F(me,Oe){(Oe==null||Oe>me.length)&&(Oe=me.length);for(var Pe=0,ze=new Array(Oe);Pe<Oe;Pe++)ze[Pe]=me[Pe];return ze}var j,X,W="flowchart-",V=0,K=O.getConfig(),st={},it=[],pt=[],ct=[],lt={},J={},Bt=0,Tt=!0,Ct=[],St=function(me){return _.default.sanitizeText(me,K)},at=function(me,Oe,Pe){M.default.parseDirective(this,me,Oe,Pe)},yt=function(me){for(var Oe=Object.keys(st),Pe=0;Pe<Oe.length;Pe++)if(st[Oe[Pe]].id===me)return st[Oe[Pe]].domId;return me},kt=function(me,Oe,Pe,ze,He,dn){var Mn,Kn=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},an=me;an!==void 0&&an.trim().length!==0&&(st[an]===void 0&&(st[an]={id:an,domId:W+an+"-"+V,styles:[],classes:[]}),V++,Oe!==void 0?(K=O.getConfig(),(Mn=St(Oe.trim()))[0]==='"'&&Mn[Mn.length-1]==='"'&&(Mn=Mn.substring(1,Mn.length-1)),st[an].text=Mn):st[an].text===void 0&&(st[an].text=me),Pe!==void 0&&(st[an].type=Pe),ze!=null&&ze.forEach(function(mn){st[an].styles.push(mn)}),He!=null&&He.forEach(function(mn){st[an].classes.push(mn)}),dn!==void 0&&(st[an].dir=dn),st[an].props=Kn)},xt=function(me,Oe,Pe,ze){var He={start:me,end:Oe,type:void 0,text:""};(ze=Pe.text)!==void 0&&(He.text=St(ze.trim()),He.text[0]==='"'&&He.text[He.text.length-1]==='"'&&(He.text=He.text.substring(1,He.text.length-1))),Pe!==void 0&&(He.type=Pe.type,He.stroke=Pe.stroke,He.length=Pe.length),it.push(He)},Pt=function(me,Oe,Pe,ze){var He,dn;for(He=0;He<me.length;He++)for(dn=0;dn<Oe.length;dn++)xt(me[He],Oe[dn],Pe,ze)},mt=function(me,Oe){me.forEach(function(Pe){Pe==="default"?it.defaultInterpolate=Oe:it[Pe].interpolate=Oe})},Yt=function(me,Oe){me.forEach(function(Pe){Pe==="default"?it.defaultStyle=Oe:(a.default.isSubstringInArray("fill",Oe)===-1&&Oe.push("fill:none"),it[Pe].style=Oe)})},ne=function(me,Oe){pt[me]===void 0&&(pt[me]={id:me,styles:[],textStyles:[]}),Oe!=null&&Oe.forEach(function(Pe){if(Pe.match("color")){var ze=Pe.replace("fill","bgFill").replace("color","fill");pt[me].textStyles.push(ze)}pt[me].styles.push(Pe)})},Qt=function(me){(j=me).match(/.*</)&&(j="RL"),j.match(/.*\^/)&&(j="BT"),j.match(/.*>/)&&(j="LR"),j.match(/.*v/)&&(j="TB")},Kt=function(me,Oe){me.split(",").forEach(function(Pe){var ze=Pe;st[ze]!==void 0&&st[ze].classes.push(Oe),lt[ze]!==void 0&&lt[ze].classes.push(Oe)})},Xt=function(me,Oe,Pe){me.split(",").forEach(function(ze){st[ze]!==void 0&&(st[ze].link=a.default.formatUrl(Oe,K),st[ze].linkTarget=Pe)}),Kt(me,"clickable")},se=function(me){return J[me]},ue=function(me,Oe,Pe){me.split(",").forEach(function(ze){(function(He,dn,Mn){var Kn=yt(He);if(O.getConfig().securityLevel==="loose"&&dn!==void 0){var an=[];if(typeof Mn=="string"){an=Mn.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(var mn=0;mn<an.length;mn++){var Bn=an[mn].trim();Bn.charAt(0)==='"'&&Bn.charAt(Bn.length-1)==='"'&&(Bn=Bn.substr(1,Bn.length-2)),an[mn]=Bn}}an.length===0&&an.push(He),st[He]!==void 0&&(st[He].haveCallback=!0,Ct.push(function(){var Rn=document.querySelector('[id="'.concat(Kn,'"]'));Rn!==null&&Rn.addEventListener("click",function(){var $n;a.default.runFunc.apply(a.default,[dn].concat(function(sn){if(Array.isArray(sn))return F(sn)}($n=an)||function(sn){if(typeof Symbol!="undefined"&&sn[Symbol.iterator]!=null||sn["@@iterator"]!=null)return Array.from(sn)}($n)||function(sn,on){if(sn){if(typeof sn=="string")return F(sn,on);var yn=Object.prototype.toString.call(sn).slice(8,-1);return yn==="Object"&&sn.constructor&&(yn=sn.constructor.name),yn==="Map"||yn==="Set"?Array.from(sn):yn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(yn)?F(sn,on):void 0}}($n)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()))},!1)}))}})(ze,Oe,Pe)}),Kt(me,"clickable")},re=function(me){Ct.forEach(function(Oe){Oe(me)})},_t=function(){return j.trim()},ut=function(){return st},Mt=function(){return it},qt=function(){return pt},Nt=function(me){var Oe=(0,h.select)(".mermaidTooltip");(Oe._groups||Oe)[0][0]===null&&(Oe=(0,h.select)("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),(0,h.select)(me).select("svg").selectAll("g.node").on("mouseover",function(){var Pe=(0,h.select)(this);if(Pe.attr("title")!==null){var ze=this.getBoundingClientRect();Oe.transition().duration(200).style("opacity",".9"),Oe.text(Pe.attr("title")).style("left",window.scrollX+ze.left+(ze.right-ze.left)/2+"px").style("top",window.scrollY+ze.top-14+document.body.scrollTop+"px"),Pe.classed("hover",!0)}}).on("mouseout",function(){Oe.transition().duration(500).style("opacity",0),(0,h.select)(this).classed("hover",!1)})};Ct.push(Nt);var Vt=function(me){st={},pt={},it=[],(Ct=[]).push(Nt),ct=[],lt={},Bt=0,J=[],Tt=!0,X=me||"gen-1",(0,R.clear)()},Ut=function(me){X=me||"gen-1"},Wt=function(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"},Ft=function(me,Oe,Pe){var ze=me.trim(),He=Pe;me===Pe&&Pe.match(/\s/)&&(ze=void 0);var dn=[],Mn=function(Rn){var $n,sn={boolean:{},number:{},string:{}},on=[];return{nodeList:Rn.filter(function(yn){var Sn=$(yn);return yn.stmt&&yn.stmt==="dir"?($n=yn.value,!1):yn.trim()!==""&&(Sn in sn?!sn[Sn].hasOwnProperty(yn)&&(sn[Sn][yn]=!0):!(on.indexOf(yn)>=0)&&on.push(yn))}),dir:$n}}(dn.concat.apply(dn,Oe)),Kn=Mn.nodeList,an=Mn.dir;if(dn=Kn,X==="gen-1"){P.log.warn("LOOKING UP");for(var mn=0;mn<dn.length;mn++)dn[mn]=yt(dn[mn])}ze=ze||"subGraph"+Bt,He=St(He=He||""),Bt+=1;var Bn={id:ze,nodes:dn,title:He.trim(),classes:[],dir:an};return P.log.info("Adding",Bn.id,Bn.nodes,Bn.dir),Bn.nodes=We(Bn,ct).nodes,ct.push(Bn),lt[ze]=Bn,ze},jt=function(me){for(var Oe=0;Oe<ct.length;Oe++)if(ct[Oe].id===me)return Oe;return-1},ee=-1,Lt=[],he=function me(Oe,Pe){var ze=ct[Pe].nodes;if(!((ee+=1)>2e3)){if(Lt[ee]=Pe,ct[Pe].id===Oe)return{result:!0,count:0};for(var He=0,dn=1;He<ze.length;){var Mn=jt(ze[He]);if(Mn>=0){var Kn=me(Oe,Mn);if(Kn.result)return{result:!0,count:dn+Kn.count};dn+=Kn.count}He+=1}return{result:!1,count:dn}}},Ht=function(me){return Lt[me]},Se=function(){ee=-1,ct.length>0&&he("none",ct.length-1)},Te=function(){return ct},we=function(){return!!Tt&&(Tt=!1,!0)},Ue=function(me,Oe){var Pe=!1;return me.forEach(function(ze){ze.nodes.indexOf(Oe)>=0&&(Pe=!0)}),Pe},We=function(me,Oe){var Pe=[];return me.nodes.forEach(function(ze,He){Ue(Oe,ze)||Pe.push(me.nodes[He])}),{nodes:Pe}};const De={parseDirective:at,defaultConfig:function(){return O.defaultConfig.flowchart},setAccTitle:R.setAccTitle,getAccTitle:R.getAccTitle,getAccDescription:R.getAccDescription,setAccDescription:R.setAccDescription,addVertex:kt,lookUpDomId:yt,addLink:Pt,updateLinkInterpolate:mt,updateLink:Yt,addClass:ne,setDirection:Qt,setClass:Kt,setTooltip:function(me,Oe){me.split(",").forEach(function(Pe){Oe!==void 0&&(J[X==="gen-1"?yt(Pe):Pe]=St(Oe))})},getTooltip:se,setClickEvent:ue,setLink:Xt,bindFunctions:re,getDirection:_t,getVertices:ut,getEdges:Mt,getClasses:qt,clear:Vt,setGen:Ut,defaultStyle:Wt,addSubGraph:Ft,getDepthFirstPos:Ht,indexNodes:Se,getSubGraphs:Te,destructLink:function(me,Oe){var Pe,ze=function(He){var dn=He.trim(),Mn=dn.slice(0,-1),Kn="arrow_open";switch(dn.slice(-1)){case"x":Kn="arrow_cross",dn[0]==="x"&&(Kn="double_"+Kn,Mn=Mn.slice(1));break;case">":Kn="arrow_point",dn[0]==="<"&&(Kn="double_"+Kn,Mn=Mn.slice(1));break;case"o":Kn="arrow_circle",dn[0]==="o"&&(Kn="double_"+Kn,Mn=Mn.slice(1))}var an="normal",mn=Mn.length-1;Mn[0]==="="&&(an="thick");var Bn=function(Rn,$n){for(var sn=$n.length,on=0,yn=0;yn<sn;++yn)$n[yn]==="."&&++on;return on}(0,Mn);return Bn&&(an="dotted",mn=Bn),{type:Kn,stroke:an,length:mn}}(me);if(Oe){if(Pe=function(He){var dn=He.trim(),Mn="arrow_open";switch(dn[0]){case"<":Mn="arrow_point",dn=dn.slice(1);break;case"x":Mn="arrow_cross",dn=dn.slice(1);break;case"o":Mn="arrow_circle",dn=dn.slice(1)}var Kn="normal";return dn.indexOf("=")!==-1&&(Kn="thick"),dn.indexOf(".")!==-1&&(Kn="dotted"),{type:Mn,stroke:Kn}}(Oe),Pe.stroke!==ze.stroke)return{type:"INVALID",stroke:"INVALID"};if(Pe.type==="arrow_open")Pe.type=ze.type;else{if(Pe.type!==ze.type)return{type:"INVALID",stroke:"INVALID"};Pe.type="double_"+Pe.type}return Pe.type==="double_arrow"&&(Pe.type="double_arrow_point"),Pe.length=ze.length,Pe}return ze},lex:{firstGraph:we},exists:Ue,makeUniq:We}},"./src/diagrams/flowchart/flowRenderer-v2.js":(E,C,v)=>{v.r(C),v.d(C,{addEdges:()=>ct,addVertices:()=>pt,default:()=>Bt,draw:()=>J,getClasses:()=>lt,setConf:()=>it});var h=v("graphlib"),a=v.n(h),O=v("d3"),_=v("./src/diagrams/flowchart/flowDb.js"),M=v("./src/diagrams/flowchart/parser/flow.jison"),P=v.n(M),R=v("./src/config.js"),$=v("./src/dagre-wrapper/index.js"),F=v("dagre-d3/lib/label/add-html-label.js"),j=v.n(F),X=v("./src/logger.js"),W=v("./src/diagrams/common/common.js"),V=v("./src/utils.js"),K=v("./src/accessibility.js"),st={},it=function(Tt){for(var Ct=Object.keys(Tt),St=0;St<Ct.length;St++)st[Ct[St]]=Tt[Ct[St]]},pt=function(Tt,Ct,St,at,yt){var kt=at.select('[id="'.concat(St,'"]'));Object.keys(Tt).forEach(function(xt){var Pt=Tt[xt],mt="default";Pt.classes.length>0&&(mt=Pt.classes.join(" "));var Yt,ne=(0,V.getStylesFromArray)(Pt.styles),Qt=Pt.text!==void 0?Pt.text:Pt.id;if((0,W.evaluate)((0,R.getConfig)().flowchart.htmlLabels)){var Kt={label:Qt.replace(/fa[lrsb]?:fa-[\w-]+/g,function(Mt){return"<i class='".concat(Mt.replace(":"," "),"'></i>")})};(Yt=j()(kt,Kt).node()).parentNode.removeChild(Yt)}else{var Xt=yt.createElementNS("http://www.w3.org/2000/svg","text");Xt.setAttribute("style",ne.labelStyle.replace("color:","fill:"));for(var se=Qt.split(W.default.lineBreakRegex),ue=0;ue<se.length;ue++){var re=yt.createElementNS("http://www.w3.org/2000/svg","tspan");re.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),re.setAttribute("dy","1em"),re.setAttribute("x","1"),re.textContent=se[ue],Xt.appendChild(re)}Yt=Xt}var _t=0,ut="";switch(Pt.type){case"round":_t=5,ut="rect";break;case"square":case"group":default:ut="rect";break;case"diamond":ut="question";break;case"hexagon":ut="hexagon";break;case"odd":case"odd_right":ut="rect_left_inv_arrow";break;case"lean_right":ut="lean_right";break;case"lean_left":ut="lean_left";break;case"trapezoid":ut="trapezoid";break;case"inv_trapezoid":ut="inv_trapezoid";break;case"circle":ut="circle";break;case"ellipse":ut="ellipse";break;case"stadium":ut="stadium";break;case"subroutine":ut="subroutine";break;case"cylinder":ut="cylinder";break;case"doublecircle":ut="doublecircle"}Ct.setNode(Pt.id,{labelStyle:ne.labelStyle,shape:ut,labelText:Qt,rx:_t,ry:_t,class:mt,style:ne.style,id:Pt.id,link:Pt.link,linkTarget:Pt.linkTarget,tooltip:_.default.getTooltip(Pt.id)||"",domId:_.default.lookUpDomId(Pt.id),haveCallback:Pt.haveCallback,width:Pt.type==="group"?500:void 0,dir:Pt.dir,type:Pt.type,props:Pt.props,padding:(0,R.getConfig)().flowchart.padding}),X.log.info("setNode",{labelStyle:ne.labelStyle,shape:ut,labelText:Qt,rx:_t,ry:_t,class:mt,style:ne.style,id:Pt.id,domId:_.default.lookUpDomId(Pt.id),width:Pt.type==="group"?500:void 0,type:Pt.type,dir:Pt.dir,props:Pt.props,padding:(0,R.getConfig)().flowchart.padding})})},ct=function(Tt,Ct){X.log.info("abc78 edges = ",Tt);var St,at,yt=0,kt={};if(Tt.defaultStyle!==void 0){var xt=(0,V.getStylesFromArray)(Tt.defaultStyle);St=xt.style,at=xt.labelStyle}Tt.forEach(function(Pt){yt++;var mt="L-"+Pt.start+"-"+Pt.end;kt[mt]===void 0?(kt[mt]=0,X.log.info("abc78 new entry",mt,kt[mt])):(kt[mt]++,X.log.info("abc78 new entry",mt,kt[mt]));var Yt=mt+"-"+kt[mt];X.log.info("abc78 new link id to be used is",mt,Yt,kt[mt]);var ne="LS-"+Pt.start,Qt="LE-"+Pt.end,Kt={style:"",labelStyle:""};switch(Kt.minlen=Pt.length||1,Pt.type==="arrow_open"?Kt.arrowhead="none":Kt.arrowhead="normal",Kt.arrowTypeStart="arrow_open",Kt.arrowTypeEnd="arrow_open",Pt.type){case"double_arrow_cross":Kt.arrowTypeStart="arrow_cross";case"arrow_cross":Kt.arrowTypeEnd="arrow_cross";break;case"double_arrow_point":Kt.arrowTypeStart="arrow_point";case"arrow_point":Kt.arrowTypeEnd="arrow_point";break;case"double_arrow_circle":Kt.arrowTypeStart="arrow_circle";case"arrow_circle":Kt.arrowTypeEnd="arrow_circle"}var Xt="",se="";switch(Pt.stroke){case"normal":Xt="fill:none;",St!==void 0&&(Xt=St),at!==void 0&&(se=at),Kt.thickness="normal",Kt.pattern="solid";break;case"dotted":Kt.thickness="normal",Kt.pattern="dotted",Kt.style="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":Kt.thickness="thick",Kt.pattern="solid",Kt.style="stroke-width: 3.5px;fill:none;"}if(Pt.style!==void 0){var ue=(0,V.getStylesFromArray)(Pt.style);Xt=ue.style,se=ue.labelStyle}Kt.style=Kt.style+=Xt,Kt.labelStyle=Kt.labelStyle+=se,Pt.interpolate!==void 0?Kt.curve=(0,V.interpolateToCurve)(Pt.interpolate,O.curveLinear):Tt.defaultInterpolate!==void 0?Kt.curve=(0,V.interpolateToCurve)(Tt.defaultInterpolate,O.curveLinear):Kt.curve=(0,V.interpolateToCurve)(st.curve,O.curveLinear),Pt.text===void 0?Pt.style!==void 0&&(Kt.arrowheadStyle="fill: #333"):(Kt.arrowheadStyle="fill: #333",Kt.labelpos="c"),Kt.labelType="text",Kt.label=Pt.text.replace(W.default.lineBreakRegex,`
`),Pt.style===void 0&&(Kt.style=Kt.style||"stroke: #333; stroke-width: 1.5px;fill:none;"),Kt.labelStyle=Kt.labelStyle.replace("color:","fill:"),Kt.id=Yt,Kt.classes="flowchart-link "+ne+" "+Qt,Ct.setEdge(Pt.start,Pt.end,Kt,yt)})},lt=function(Tt){X.log.info("Extracting classes"),_.default.clear();var Ct=P().parser;Ct.yy=_.default;try{Ct.parse(Tt)}catch(St){return}return _.default.getClasses()},J=function(Tt,Ct){X.log.info("Drawing flowchart"),_.default.clear(),_.default.setGen("gen-2");var St=P().parser;St.yy=_.default,St.parse(Tt);var at=_.default.getDirection();at===void 0&&(at="TD");var yt,kt=(0,R.getConfig)().flowchart,xt=kt.nodeSpacing||50,Pt=kt.rankSpacing||50,mt=(0,R.getConfig)().securityLevel;mt==="sandbox"&&(yt=(0,O.select)("#i"+Ct));var Yt,ne=mt==="sandbox"?(0,O.select)(yt.nodes()[0].contentDocument.body):(0,O.select)("body"),Qt=mt==="sandbox"?yt.nodes()[0].contentDocument:document,Kt=new(a()).Graph({multigraph:!0,compound:!0}).setGraph({rankdir:at,nodesep:xt,ranksep:Pt,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),Xt=_.default.getSubGraphs();X.log.info("Subgraphs - ",Xt);for(var se=Xt.length-1;se>=0;se--)Yt=Xt[se],X.log.info("Subgraph - ",Yt),_.default.addVertex(Yt.id,Yt.title,"group",void 0,Yt.classes,Yt.dir);var ue=_.default.getVertices(),re=_.default.getEdges();X.log.info(re);var _t=0;for(_t=Xt.length-1;_t>=0;_t--){Yt=Xt[_t],(0,O.selectAll)("cluster").append("text");for(var ut=0;ut<Yt.nodes.length;ut++)X.log.info("Setting up subgraphs",Yt.nodes[ut],Yt.id),Kt.setParent(Yt.nodes[ut],Yt.id)}pt(ue,Kt,Ct,ne,Qt),ct(re,Kt);var Mt=ne.select('[id="'.concat(Ct,'"]'));Mt.attr("xmlns:xlink","http://www.w3.org/1999/xlink"),(0,K.default)(St.yy,Mt,Ct);var qt=ne.select("#"+Ct+" g");if((0,$.render)(qt,Kt,["point","circle","cross"],"flowchart",Ct),(0,V.setupGraphViewbox)(Kt,Mt,kt.diagramPadding,kt.useMaxWidth),_.default.indexNodes("subGraph"+_t),!kt.htmlLabels)for(var Nt=Qt.querySelectorAll('[id="'+Ct+'"] .edgeLabel .label'),Vt=0;Vt<Nt.length;Vt++){var Ut=Nt[Vt],Wt=Ut.getBBox(),Ft=Qt.createElementNS("http://www.w3.org/2000/svg","rect");Ft.setAttribute("rx",0),Ft.setAttribute("ry",0),Ft.setAttribute("width",Wt.width),Ft.setAttribute("height",Wt.height),Ut.insertBefore(Ft,Ut.firstChild)}Object.keys(ue).forEach(function(jt){var ee=ue[jt];if(ee.link){var Lt=(0,O.select)("#"+Ct+' [id="'+jt+'"]');if(Lt){var he=Qt.createElementNS("http://www.w3.org/2000/svg","a");he.setAttributeNS("http://www.w3.org/2000/svg","class",ee.classes.join(" ")),he.setAttributeNS("http://www.w3.org/2000/svg","href",ee.link),he.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),mt==="sandbox"?he.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):ee.linkTarget&&he.setAttributeNS("http://www.w3.org/2000/svg","target",ee.linkTarget);var Ht=Lt.insert(function(){return he},":first-child"),Se=Lt.select(".label-container");Se&&Ht.append(function(){return Se.node()});var Te=Lt.select(".label");Te&&Ht.append(function(){return Te.node()})}}})};const Bt={setConf:it,addVertices:pt,addEdges:ct,getClasses:lt,draw:J}},"./src/diagrams/flowchart/flowRenderer.js":(E,C,v)=>{v.r(C),v.d(C,{addEdges:()=>J,addVertices:()=>lt,default:()=>Ct,draw:()=>Tt,getClasses:()=>Bt,setConf:()=>ct});var h=v("graphlib"),a=v.n(h),O=v("d3"),_=v("./src/diagrams/flowchart/flowDb.js"),M=v("./src/diagrams/flowchart/parser/flow.jison"),P=v.n(M),R=v("./src/config.js"),$=v("dagre-d3"),F=v.n($),j=v("dagre-d3/lib/label/add-html-label.js"),X=v.n(j),W=v("./src/logger.js"),V=v("./src/diagrams/common/common.js"),K=v("./src/utils.js"),st=v("./src/diagrams/flowchart/flowChartShapes.js"),it=v("./src/accessibility.js"),pt={},ct=function(St){for(var at=Object.keys(St),yt=0;yt<at.length;yt++)pt[at[yt]]=St[at[yt]]},lt=function(St,at,yt,kt,xt){(0,R.getConfig)().securityLevel;var Pt=kt?kt.select('[id="'.concat(yt,'"]')):(0,O.select)('[id="'.concat(yt,'"]')),mt=xt||document;Object.keys(St).forEach(function(Yt){var ne=St[Yt],Qt="default";ne.classes.length>0&&(Qt=ne.classes.join(" "));var Kt,Xt=(0,K.getStylesFromArray)(ne.styles),se=ne.text!==void 0?ne.text:ne.id;if((0,V.evaluate)((0,R.getConfig)().flowchart.htmlLabels)){var ue={label:se.replace(/fa[lrsb]?:fa-[\w-]+/g,function(Vt){return"<i class='".concat(Vt.replace(":"," "),"'></i>")})};(Kt=X()(Pt,ue).node()).parentNode.removeChild(Kt)}else{var re=mt.createElementNS("http://www.w3.org/2000/svg","text");re.setAttribute("style",Xt.labelStyle.replace("color:","fill:"));for(var _t=se.split(V.default.lineBreakRegex),ut=0;ut<_t.length;ut++){var Mt=mt.createElementNS("http://www.w3.org/2000/svg","tspan");Mt.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),Mt.setAttribute("dy","1em"),Mt.setAttribute("x","1"),Mt.textContent=_t[ut],re.appendChild(Mt)}Kt=re}var qt=0,Nt="";switch(ne.type){case"round":qt=5,Nt="rect";break;case"square":case"group":default:Nt="rect";break;case"diamond":Nt="question";break;case"hexagon":Nt="hexagon";break;case"odd":case"odd_right":Nt="rect_left_inv_arrow";break;case"lean_right":Nt="lean_right";break;case"lean_left":Nt="lean_left";break;case"trapezoid":Nt="trapezoid";break;case"inv_trapezoid":Nt="inv_trapezoid";break;case"circle":Nt="circle";break;case"ellipse":Nt="ellipse";break;case"stadium":Nt="stadium";break;case"subroutine":Nt="subroutine";break;case"cylinder":Nt="cylinder"}W.log.warn("Adding node",ne.id,ne.domId),at.setNode(_.default.lookUpDomId(ne.id),{labelType:"svg",labelStyle:Xt.labelStyle,shape:Nt,label:Kt,rx:qt,ry:qt,class:Qt,style:Xt.style,id:_.default.lookUpDomId(ne.id)})})},J=function(St,at){var yt,kt,xt=0;if(St.defaultStyle!==void 0){var Pt=(0,K.getStylesFromArray)(St.defaultStyle);yt=Pt.style,kt=Pt.labelStyle}St.forEach(function(mt){xt++;var Yt="L-"+mt.start+"-"+mt.end,ne="LS-"+mt.start,Qt="LE-"+mt.end,Kt={};mt.type==="arrow_open"?Kt.arrowhead="none":Kt.arrowhead="normal";var Xt="",se="";if(mt.style!==void 0){var ue=(0,K.getStylesFromArray)(mt.style);Xt=ue.style,se=ue.labelStyle}else switch(mt.stroke){case"normal":Xt="fill:none",yt!==void 0&&(Xt=yt),kt!==void 0&&(se=kt);break;case"dotted":Xt="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":Xt=" stroke-width: 3.5px;fill:none"}Kt.style=Xt,Kt.labelStyle=se,mt.interpolate!==void 0?Kt.curve=(0,K.interpolateToCurve)(mt.interpolate,O.curveLinear):St.defaultInterpolate!==void 0?Kt.curve=(0,K.interpolateToCurve)(St.defaultInterpolate,O.curveLinear):Kt.curve=(0,K.interpolateToCurve)(pt.curve,O.curveLinear),mt.text===void 0?mt.style!==void 0&&(Kt.arrowheadStyle="fill: #333"):(Kt.arrowheadStyle="fill: #333",Kt.labelpos="c",(0,V.evaluate)((0,R.getConfig)().flowchart.htmlLabels)?(Kt.labelType="html",Kt.label='<span id="L-'.concat(Yt,'" class="edgeLabel L-').concat(ne,"' L-").concat(Qt,'" style="').concat(Kt.labelStyle,'">').concat(mt.text.replace(/fa[lrsb]?:fa-[\w-]+/g,function(re){return"<i class='".concat(re.replace(":"," "),"'></i>")}),"</span>")):(Kt.labelType="text",Kt.label=mt.text.replace(V.default.lineBreakRegex,`
`),mt.style===void 0&&(Kt.style=Kt.style||"stroke: #333; stroke-width: 1.5px;fill:none"),Kt.labelStyle=Kt.labelStyle.replace("color:","fill:"))),Kt.id=Yt,Kt.class=ne+" "+Qt,Kt.minlen=mt.length||1,at.setEdge(_.default.lookUpDomId(mt.start),_.default.lookUpDomId(mt.end),Kt,xt)})},Bt=function(St){W.log.info("Extracting classes"),_.default.clear();try{var at=P().parser;return at.yy=_.default,at.parse(St),_.default.getClasses()}catch(yt){return}},Tt=function(St,at){W.log.info("Drawing flowchart"),_.default.clear(),_.default.setGen("gen-1");var yt=P().parser;yt.yy=_.default;var kt,xt=(0,R.getConfig)().securityLevel;xt==="sandbox"&&(kt=(0,O.select)("#i"+at));var Pt=xt==="sandbox"?(0,O.select)(kt.nodes()[0].contentDocument.body):(0,O.select)("body"),mt=xt==="sandbox"?kt.nodes()[0].contentDocument:document;yt.parse(St);var Yt=_.default.getDirection();Yt===void 0&&(Yt="TD");for(var ne,Qt=(0,R.getConfig)().flowchart,Kt=Qt.nodeSpacing||50,Xt=Qt.rankSpacing||50,se=new(a()).Graph({multigraph:!0,compound:!0}).setGraph({rankdir:Yt,nodesep:Kt,ranksep:Xt,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),ue=_.default.getSubGraphs(),re=ue.length-1;re>=0;re--)ne=ue[re],_.default.addVertex(ne.id,ne.title,"group",void 0,ne.classes);var _t=_.default.getVertices();W.log.warn("Get vertices",_t);var ut=_.default.getEdges(),Mt=0;for(Mt=ue.length-1;Mt>=0;Mt--){ne=ue[Mt],(0,O.selectAll)("cluster").append("text");for(var qt=0;qt<ne.nodes.length;qt++)W.log.warn("Setting subgraph",ne.nodes[qt],_.default.lookUpDomId(ne.nodes[qt]),_.default.lookUpDomId(ne.id)),se.setParent(_.default.lookUpDomId(ne.nodes[qt]),_.default.lookUpDomId(ne.id))}lt(_t,se,at,Pt,mt),J(ut,se);var Nt=new(F()).render;st.default.addToRender(Nt),Nt.arrows().none=function(De,me,Oe,Pe){var ze=De.append("marker").attr("id",me).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 0 0 L 0 0 z");F().util.applyStyle(ze,Oe[Pe+"Style"])},Nt.arrows().normal=function(De,me){De.append("marker").attr("id",me).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowheadPath").style("stroke-width",1).style("stroke-dasharray","1,0")};var Vt=Pt.select('[id="'.concat(at,'"]'));Vt.attr("xmlns:xlink","http://www.w3.org/1999/xlink"),(0,it.default)(yt.yy,Vt,at);var Ut=Pt.select("#"+at+" g");for(Nt(Ut,se),Ut.selectAll("g.node").attr("title",function(){return _.default.getTooltip(this.id)}),_.default.indexNodes("subGraph"+Mt),Mt=0;Mt<ue.length;Mt++)if((ne=ue[Mt]).title!=="undefined"){var Wt=mt.querySelectorAll("#"+at+' [id="'+_.default.lookUpDomId(ne.id)+'"] rect'),Ft=mt.querySelectorAll("#"+at+' [id="'+_.default.lookUpDomId(ne.id)+'"]'),jt=Wt[0].x.baseVal.value,ee=Wt[0].y.baseVal.value,Lt=Wt[0].width.baseVal.value,he=(0,O.select)(Ft[0]).select(".label");he.attr("transform","translate(".concat(jt+Lt/2,", ").concat(ee+14,")")),he.attr("id",at+"Text");for(var Ht=0;Ht<ne.classes.length;Ht++)Ft[0].classList.add(ne.classes[Ht])}(0,V.evaluate)(Qt.htmlLabels);for(var Se=mt.querySelectorAll('[id="'+at+'"] .edgeLabel .label'),Te=0;Te<Se.length;Te++){var we=Se[Te],Ue=we.getBBox(),We=mt.createElementNS("http://www.w3.org/2000/svg","rect");We.setAttribute("rx",0),We.setAttribute("ry",0),We.setAttribute("width",Ue.width),We.setAttribute("height",Ue.height),we.insertBefore(We,we.firstChild)}(0,K.setupGraphViewbox)(se,Vt,Qt.diagramPadding,Qt.useMaxWidth),Object.keys(_t).forEach(function(De){var me=_t[De];if(me.link){var Oe=Pt.select("#"+at+' [id="'+_.default.lookUpDomId(De)+'"]');if(Oe){var Pe=mt.createElementNS("http://www.w3.org/2000/svg","a");Pe.setAttributeNS("http://www.w3.org/2000/svg","class",me.classes.join(" ")),Pe.setAttributeNS("http://www.w3.org/2000/svg","href",me.link),Pe.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),xt==="sandbox"?Pe.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):me.linkTarget&&Pe.setAttributeNS("http://www.w3.org/2000/svg","target",me.linkTarget);var ze=Oe.insert(function(){return Pe},":first-child"),He=Oe.select(".label-container");He&&ze.append(function(){return He.node()});var dn=Oe.select(".label");dn&&ze.append(function(){return dn.node()})}}})};const Ct={setConf:ct,addVertices:lt,addEdges:J,getClasses:Bt,draw:Tt}},"./src/diagrams/flowchart/styles.js":(E,C,v)=>{v.r(C),v.d(C,{default:()=>h});const h=function(a){return`.label {
    font-family: `.concat(a.fontFamily,`;
    color: `).concat(a.nodeTextColor||a.textColor,`;
  }
  .cluster-label text {
    fill: `).concat(a.titleColor,`;
  }
  .cluster-label span {
    color: `).concat(a.titleColor,`;
  }

  .label text,span {
    fill: `).concat(a.nodeTextColor||a.textColor,`;
    color: `).concat(a.nodeTextColor||a.textColor,`;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: `).concat(a.mainBkg,`;
    stroke: `).concat(a.nodeBorder,`;
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: `).concat(a.arrowheadColor,`;
  }

  .edgePath .path {
    stroke: `).concat(a.lineColor,`;
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: `).concat(a.lineColor,`;
    fill: none;
  }

  .edgeLabel {
    background-color: `).concat(a.edgeLabelBackground,`;
    rect {
      opacity: 0.5;
      background-color: `).concat(a.edgeLabelBackground,`;
      fill: `).concat(a.edgeLabelBackground,`;
    }
    text-align: center;
  }

  .cluster rect {
    fill: `).concat(a.clusterBkg,`;
    stroke: `).concat(a.clusterBorder,`;
    stroke-width: 1px;
  }

  .cluster text {
    fill: `).concat(a.titleColor,`;
  }

  .cluster span {
    color: `).concat(a.titleColor,`;
  }
  /* .cluster div {
    color: `).concat(a.titleColor,`;
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: `).concat(a.fontFamily,`;
    font-size: 12px;
    background: `).concat(a.tertiaryColor,`;
    border: 1px solid `).concat(a.border2,`;
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }
`)}},"./src/diagrams/gantt/ganttDb.js":(E,C,v)=>{v.r(C),v.d(C,{addSection:()=>Nt,addTask:()=>Ue,addTaskOrg:()=>De,bindFunctions:()=>dn,clear:()=>kt,default:()=>Mn,enableInclusiveEndDates:()=>Qt,enableTopAxis:()=>Xt,endDatesAreInclusive:()=>Kt,findTaskById:()=>We,getAxisFormat:()=>Pt,getDateFormat:()=>ue,getExcludes:()=>Mt,getIncludes:()=>_t,getLinks:()=>qt,getSections:()=>Vt,getTasks:()=>Ut,getTodayMarker:()=>Yt,isInvalidDate:()=>Wt,parseDirective:()=>yt,setAxisFormat:()=>xt,setClass:()=>Pe,setClickEvent:()=>He,setDateFormat:()=>ne,setExcludes:()=>ut,setIncludes:()=>re,setLink:()=>Oe,setTodayMarker:()=>mt,topAxisEnabled:()=>se});var h=v("moment-mini"),a=v.n(h),O=v("@braintree/sanitize-url"),_=v("./src/logger.js"),M=v("./src/config.js"),P=v("./src/utils.js"),R=v("./src/mermaidAPI.js"),$=(v("./src/diagrams/common/common.js"),v("./src/commonDb.js"));function F(an,mn){(mn==null||mn>an.length)&&(mn=an.length);for(var Bn=0,Rn=new Array(mn);Bn<mn;Bn++)Rn[Bn]=an[Bn];return Rn}var j,X,W="",V="",K="",st=[],it=[],pt={},ct=[],lt=[],J="",Bt=["active","done","crit","milestone"],Tt=[],Ct=!1,St=!1,at=0,yt=function(an,mn,Bn){R.default.parseDirective(this,an,mn,Bn)},kt=function(){ct=[],lt=[],J="",Tt=[],Ht=0,j=void 0,X=void 0,Te=[],W="",V="",K="",st=[],it=[],Ct=!1,St=!1,at=0,pt={},(0,$.clear)()},xt=function(an){V=an},Pt=function(){return V},mt=function(an){K=an},Yt=function(){return K},ne=function(an){W=an},Qt=function(){Ct=!0},Kt=function(){return Ct},Xt=function(){St=!0},se=function(){return St},ue=function(){return W},re=function(an){st=an.toLowerCase().split(/[\s,]+/)},_t=function(){return st},ut=function(an){it=an.toLowerCase().split(/[\s,]+/)},Mt=function(){return it},qt=function(){return pt},Nt=function(an){J=an,ct.push(an)},Vt=function(){return ct},Ut=function(){for(var an=me(),mn=0;!an&&mn<10;)an=me(),mn++;return lt=Te},Wt=function(an,mn,Bn,Rn){return!(Rn.indexOf(an.format(mn.trim()))>=0)&&(an.isoWeekday()>=6&&Bn.indexOf("weekends")>=0||Bn.indexOf(an.format("dddd").toLowerCase())>=0||Bn.indexOf(an.format(mn.trim()))>=0)},Ft=function(an,mn,Bn,Rn){if(Bn.length&&!an.manualEndTime){var $n=a()(an.startTime,mn,!0);$n.add(1,"d");var sn=a()(an.endTime,mn,!0),on=jt($n,sn,mn,Bn,Rn);an.endTime=sn.toDate(),an.renderEndTime=on}},jt=function(an,mn,Bn,Rn,$n){for(var sn=!1,on=null;an<=mn;)sn||(on=mn.toDate()),(sn=Wt(an,Bn,Rn,$n))&&mn.add(1,"d"),an.add(1,"d");return on},ee=function(an,mn,Bn){Bn=Bn.trim();var Rn=/^after\s+([\d\w- ]+)/.exec(Bn.trim());if(Rn!==null){var $n=null;if(Rn[1].split(" ").forEach(function(yn){var Sn=We(yn);Sn!==void 0&&($n?Sn.endTime>$n.endTime&&($n=Sn):$n=Sn)}),$n)return $n.endTime;var sn=new Date;return sn.setHours(0,0,0,0),sn}var on=a()(Bn,mn.trim(),!0);return on.isValid()?on.toDate():(_.log.debug("Invalid date:"+Bn),_.log.debug("With date format:"+mn.trim()),new Date)},Lt=function(an,mn){if(an!==null)switch(an[2]){case"s":mn.add(an[1],"seconds");break;case"m":mn.add(an[1],"minutes");break;case"h":mn.add(an[1],"hours");break;case"d":mn.add(an[1],"days");break;case"w":mn.add(an[1],"weeks")}return mn.toDate()},he=function(an,mn,Bn,Rn){Rn=Rn||!1,Bn=Bn.trim();var $n=a()(Bn,mn.trim(),!0);return $n.isValid()?(Rn&&$n.add(1,"d"),$n.toDate()):Lt(/^([\d]+)([wdhms])/.exec(Bn.trim()),a()(an))},Ht=0,Se=function(an){return an===void 0?"task"+(Ht+=1):an},Te=[],we={},Ue=function(an,mn){var Bn={section:J,type:J,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:mn},task:an,classes:[]},Rn=function(sn,on){var yn=(on.substr(0,1)===":"?on.substr(1,on.length):on).split(","),Sn={};Kn(yn,Sn,Bt);for(var Ge=0;Ge<yn.length;Ge++)yn[Ge]=yn[Ge].trim();switch(yn.length){case 1:Sn.id=Se(),Sn.startTime={type:"prevTaskEnd",id:sn},Sn.endTime={data:yn[0]};break;case 2:Sn.id=Se(),Sn.startTime={type:"getStartDate",startData:yn[0]},Sn.endTime={data:yn[1]};break;case 3:Sn.id=Se(yn[0]),Sn.startTime={type:"getStartDate",startData:yn[1]},Sn.endTime={data:yn[2]}}return Sn}(X,mn);Bn.raw.startTime=Rn.startTime,Bn.raw.endTime=Rn.endTime,Bn.id=Rn.id,Bn.prevTaskId=X,Bn.active=Rn.active,Bn.done=Rn.done,Bn.crit=Rn.crit,Bn.milestone=Rn.milestone,Bn.order=at,at++;var $n=Te.push(Bn);X=Bn.id,we[Bn.id]=$n-1},We=function(an){var mn=we[an];return Te[mn]},De=function(an,mn){var Bn={section:J,type:J,description:an,task:an,classes:[]},Rn=function($n,sn){var on=(sn.substr(0,1)===":"?sn.substr(1,sn.length):sn).split(","),yn={};Kn(on,yn,Bt);for(var Sn=0;Sn<on.length;Sn++)on[Sn]=on[Sn].trim();var Ge="";switch(on.length){case 1:yn.id=Se(),yn.startTime=$n.endTime,Ge=on[0];break;case 2:yn.id=Se(),yn.startTime=ee(0,W,on[0]),Ge=on[1];break;case 3:yn.id=Se(on[0]),yn.startTime=ee(0,W,on[1]),Ge=on[2]}return Ge&&(yn.endTime=he(yn.startTime,W,Ge,Ct),yn.manualEndTime=a()(Ge,"YYYY-MM-DD",!0).isValid(),Ft(yn,W,it,st)),yn}(j,mn);Bn.startTime=Rn.startTime,Bn.endTime=Rn.endTime,Bn.id=Rn.id,Bn.active=Rn.active,Bn.done=Rn.done,Bn.crit=Rn.crit,Bn.milestone=Rn.milestone,j=Bn,lt.push(Bn)},me=function(){for(var an=function(Rn){var $n=Te[Rn],sn="";switch(Te[Rn].raw.startTime.type){case"prevTaskEnd":var on=We($n.prevTaskId);$n.startTime=on.endTime;break;case"getStartDate":(sn=ee(0,W,Te[Rn].raw.startTime.startData))&&(Te[Rn].startTime=sn)}return Te[Rn].startTime&&(Te[Rn].endTime=he(Te[Rn].startTime,W,Te[Rn].raw.endTime.data,Ct),Te[Rn].endTime&&(Te[Rn].processed=!0,Te[Rn].manualEndTime=a()(Te[Rn].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),Ft(Te[Rn],W,it,st))),Te[Rn].processed},mn=!0,Bn=0;Bn<Te.length;Bn++)an(Bn),mn=mn&&Te[Bn].processed;return mn},Oe=function(an,mn){var Bn=mn;M.getConfig().securityLevel!=="loose"&&(Bn=(0,O.sanitizeUrl)(mn)),an.split(",").forEach(function(Rn){We(Rn)!==void 0&&(ze(Rn,function(){window.open(Bn,"_self")}),pt[Rn]=Bn)}),Pe(an,"clickable")},Pe=function(an,mn){an.split(",").forEach(function(Bn){var Rn=We(Bn);Rn!==void 0&&Rn.classes.push(mn)})},ze=function(an,mn){Tt.push(function(){var Bn=document.querySelector('[id="'.concat(an,'"]'));Bn!==null&&Bn.addEventListener("click",function(){mn()})}),Tt.push(function(){var Bn=document.querySelector('[id="'.concat(an,'-text"]'));Bn!==null&&Bn.addEventListener("click",function(){mn()})})},He=function(an,mn,Bn){an.split(",").forEach(function(Rn){(function($n,sn,on){if(M.getConfig().securityLevel==="loose"&&sn!==void 0){var yn=[];if(typeof on=="string"){yn=on.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(var Sn=0;Sn<yn.length;Sn++){var Ge=yn[Sn].trim();Ge.charAt(0)==='"'&&Ge.charAt(Ge.length-1)==='"'&&(Ge=Ge.substr(1,Ge.length-2)),yn[Sn]=Ge}}yn.length===0&&yn.push($n),We($n)!==void 0&&ze($n,function(){var Fn;P.default.runFunc.apply(P.default,[sn].concat(function(ke){if(Array.isArray(ke))return F(ke)}(Fn=yn)||function(ke){if(typeof Symbol!="undefined"&&ke[Symbol.iterator]!=null||ke["@@iterator"]!=null)return Array.from(ke)}(Fn)||function(ke,Fr){if(ke){if(typeof ke=="string")return F(ke,Fr);var Ye=Object.prototype.toString.call(ke).slice(8,-1);return Ye==="Object"&&ke.constructor&&(Ye=ke.constructor.name),Ye==="Map"||Ye==="Set"?Array.from(ke):Ye==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ye)?F(ke,Fr):void 0}}(Fn)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()))})}})(Rn,mn,Bn)}),Pe(an,"clickable")},dn=function(an){Tt.forEach(function(mn){mn(an)})};const Mn={parseDirective:yt,getConfig:function(){return M.getConfig().gantt},clear:kt,setDateFormat:ne,getDateFormat:ue,enableInclusiveEndDates:Qt,endDatesAreInclusive:Kt,enableTopAxis:Xt,topAxisEnabled:se,setAxisFormat:xt,getAxisFormat:Pt,setTodayMarker:mt,getTodayMarker:Yt,setAccTitle:$.setAccTitle,getAccTitle:$.getAccTitle,setDiagramTitle:$.setDiagramTitle,getDiagramTitle:$.getDiagramTitle,setAccDescription:$.setAccDescription,getAccDescription:$.getAccDescription,addSection:Nt,getSections:Vt,getTasks:Ut,addTask:Ue,findTaskById:We,addTaskOrg:De,setIncludes:re,getIncludes:_t,setExcludes:ut,getExcludes:Mt,setClickEvent:He,setLink:Oe,getLinks:qt,bindFunctions:dn,durationToDate:Lt,isInvalidDate:Wt};function Kn(an,mn,Bn){for(var Rn=!0;Rn;)Rn=!1,Bn.forEach(function($n){var sn=new RegExp("^\\s*"+$n+"\\s*$");an[0].match(sn)&&(mn[$n]=!0,an.shift(1),Rn=!0)})}},"./src/diagrams/gantt/ganttRenderer.js":(E,C,v)=>{v.r(C),v.d(C,{default:()=>K,draw:()=>V,setConf:()=>W});var h=v("moment-mini"),a=v.n(h),O=v("./src/logger.js"),_=v("d3"),M=v("./src/diagrams/gantt/parser/gantt.jison"),P=v("./src/diagrams/common/common.js"),R=v("./src/diagrams/gantt/ganttDb.js"),$=v("./src/config.js"),F=v("./src/utils.js"),j=v("./src/accessibility.js");M.parser.yy=R.default;var X,W=function(){O.log.debug("Something is calling, setConf, remove the call")},V=function(st,it){var pt=(0,$.getConfig)().gantt;M.parser.yy.clear(),M.parser.parse(st);var ct,lt=(0,$.getConfig)().securityLevel;lt==="sandbox"&&(ct=(0,_.select)("#i"+it));var J=lt==="sandbox"?(0,_.select)(ct.nodes()[0].contentDocument.body):(0,_.select)("body"),Bt=lt==="sandbox"?ct.nodes()[0].contentDocument:document,Tt=Bt.getElementById(it);(X=Tt.parentElement.offsetWidth)===void 0&&(X=1200),pt.useWidth!==void 0&&(X=pt.useWidth);var Ct=M.parser.yy.getTasks(),St=Ct.length*(pt.barHeight+pt.barGap)+2*pt.topPadding;Tt.setAttribute("viewBox","0 0 "+X+" "+St);for(var at=J.select('[id="'.concat(it,'"]')),yt=(0,_.scaleTime)().domain([(0,_.min)(Ct,function(ue){return ue.startTime}),(0,_.max)(Ct,function(ue){return ue.endTime})]).rangeRound([0,X-pt.leftPadding-pt.rightPadding]),kt=[],xt=0;xt<Ct.length;xt++)kt.push(Ct[xt].type);var Pt,mt,Yt,ne,Qt,Kt,Xt,se=kt;kt=function(ue){for(var re={},_t=[],ut=0,Mt=ue.length;ut<Mt;++ut)Object.prototype.hasOwnProperty.call(re,ue[ut])||(re[ue[ut]]=!0,_t.push(ue[ut]));return _t}(kt),Ct.sort(function(ue,re){var _t=ue.startTime,ut=re.startTime,Mt=0;return _t>ut?Mt=1:_t<ut&&(Mt=-1),Mt}),Pt=Ct,mt=X,Yt=St,Qt=(ne=pt.barHeight)+pt.barGap,Kt=pt.topPadding,Xt=pt.leftPadding,(0,_.scaleLinear)().domain([0,kt.length]).range(["#00B9FA","#F95002"]).interpolate(_.interpolateHcl),function(ue,re,_t,ut,Mt,qt,Nt,Vt){var Ut=qt.reduce(function(he,Ht){var Se=Ht.startTime;return he?Math.min(he,Se):Se},0),Wt=qt.reduce(function(he,Ht){var Se=Ht.endTime;return he?Math.max(he,Se):Se},0),Ft=M.parser.yy.getDateFormat();if(Ut&&Wt){for(var jt=[],ee=null,Lt=a()(Ut);Lt.valueOf()<=Wt;)M.parser.yy.isInvalidDate(Lt,Ft,Nt,Vt)?ee?ee.end=Lt.clone():ee={start:Lt.clone(),end:Lt.clone()}:ee&&(jt.push(ee),ee=null),Lt.add(1,"d");at.append("g").selectAll("rect").data(jt).enter().append("rect").attr("id",function(he){return"exclude-"+he.start.format("YYYY-MM-DD")}).attr("x",function(he){return yt(he.start)+_t}).attr("y",pt.gridLineStartPadding).attr("width",function(he){var Ht=he.end.clone().add(1,"day");return yt(Ht)-yt(he.start)}).attr("height",Mt-re-pt.gridLineStartPadding).attr("transform-origin",function(he,Ht){return(yt(he.start)+_t+.5*(yt(he.end)-yt(he.start))).toString()+"px "+(Ht*ue+.5*Mt).toString()+"px"}).attr("class","exclude-range")}}(Qt,Kt,Xt,0,Yt,Pt,M.parser.yy.getExcludes(),M.parser.yy.getIncludes()),function(ue,re,_t,ut){var Mt=(0,_.axisBottom)(yt).tickSize(-ut+re+pt.gridLineStartPadding).tickFormat((0,_.timeFormat)(M.parser.yy.getAxisFormat()||pt.axisFormat||"%Y-%m-%d"));if(at.append("g").attr("class","grid").attr("transform","translate("+ue+", "+(ut-50)+")").call(Mt).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),R.default.topAxisEnabled()||pt.topAxis){var qt=(0,_.axisTop)(yt).tickSize(-ut+re+pt.gridLineStartPadding).tickFormat((0,_.timeFormat)(M.parser.yy.getAxisFormat()||pt.axisFormat||"%Y-%m-%d"));at.append("g").attr("class","grid").attr("transform","translate("+ue+", "+re+")").call(qt).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}(Xt,Kt,0,Yt),function(ue,re,_t,ut,Mt,qt,Nt){at.append("g").selectAll("rect").data(ue).enter().append("rect").attr("x",0).attr("y",function(jt,ee){return jt.order*re+_t-2}).attr("width",function(){return Nt-pt.rightPadding/2}).attr("height",re).attr("class",function(jt){for(var ee=0;ee<kt.length;ee++)if(jt.type===kt[ee])return"section section"+ee%pt.numberSectionStyles;return"section section0"});var Vt=at.append("g").selectAll("rect").data(ue).enter(),Ut=R.default.getLinks();if(Vt.append("rect").attr("id",function(jt){return jt.id}).attr("rx",3).attr("ry",3).attr("x",function(jt){return jt.milestone?yt(jt.startTime)+ut+.5*(yt(jt.endTime)-yt(jt.startTime))-.5*Mt:yt(jt.startTime)+ut}).attr("y",function(jt,ee){return jt.order*re+_t}).attr("width",function(jt){return jt.milestone?Mt:yt(jt.renderEndTime||jt.endTime)-yt(jt.startTime)}).attr("height",Mt).attr("transform-origin",function(jt,ee){return ee=jt.order,(yt(jt.startTime)+ut+.5*(yt(jt.endTime)-yt(jt.startTime))).toString()+"px "+(ee*re+_t+.5*Mt).toString()+"px"}).attr("class",function(jt){var ee="";jt.classes.length>0&&(ee=jt.classes.join(" "));for(var Lt=0,he=0;he<kt.length;he++)jt.type===kt[he]&&(Lt=he%pt.numberSectionStyles);var Ht="";return jt.active?jt.crit?Ht+=" activeCrit":Ht=" active":jt.done?Ht=jt.crit?" doneCrit":" done":jt.crit&&(Ht+=" crit"),Ht.length===0&&(Ht=" task"),jt.milestone&&(Ht=" milestone "+Ht),"task"+(Ht+=Lt)+" "+ee}),Vt.append("text").attr("id",function(jt){return jt.id+"-text"}).text(function(jt){return jt.task}).attr("font-size",pt.fontSize).attr("x",function(jt){var ee=yt(jt.startTime),Lt=yt(jt.renderEndTime||jt.endTime);jt.milestone&&(ee+=.5*(yt(jt.endTime)-yt(jt.startTime))-.5*Mt),jt.milestone&&(Lt=ee+Mt);var he=this.getBBox().width;return he>Lt-ee?Lt+he+1.5*pt.leftPadding>Nt?ee+ut-5:Lt+ut+5:(Lt-ee)/2+ee+ut}).attr("y",function(jt,ee){return jt.order*re+pt.barHeight/2+(pt.fontSize/2-2)+_t}).attr("text-height",Mt).attr("class",function(jt){var ee=yt(jt.startTime),Lt=yt(jt.endTime);jt.milestone&&(Lt=ee+Mt);var he=this.getBBox().width,Ht="";jt.classes.length>0&&(Ht=jt.classes.join(" "));for(var Se=0,Te=0;Te<kt.length;Te++)jt.type===kt[Te]&&(Se=Te%pt.numberSectionStyles);var we="";return jt.active&&(we=jt.crit?"activeCritText"+Se:"activeText"+Se),jt.done?we=jt.crit?we+" doneCritText"+Se:we+" doneText"+Se:jt.crit&&(we=we+" critText"+Se),jt.milestone&&(we+=" milestoneText"),he>Lt-ee?Lt+he+1.5*pt.leftPadding>Nt?Ht+" taskTextOutsideLeft taskTextOutside"+Se+" "+we:Ht+" taskTextOutsideRight taskTextOutside"+Se+" "+we+" width-"+he:Ht+" taskText taskText"+Se+" "+we+" width-"+he}),(0,$.getConfig)().securityLevel==="sandbox"){var Wt;Wt=(0,_.select)("#i"+it),(0,_.select)(Wt.nodes()[0].contentDocument.body);var Ft=Wt.nodes()[0].contentDocument;Vt.filter(function(jt){return Ut[jt.id]!==void 0}).each(function(jt){var ee=Ft.querySelector("#"+jt.id),Lt=Ft.querySelector("#"+jt.id+"-text"),he=ee.parentNode,Ht=Ft.createElement("a");Ht.setAttribute("xlink:href",Ut[jt.id]),Ht.setAttribute("target","_top"),he.appendChild(Ht),Ht.appendChild(ee),Ht.appendChild(Lt)})}}(Pt,Qt,Kt,Xt,ne,0,mt),function(ue,re){for(var _t=[],ut=0,Mt=0;Mt<kt.length;Mt++)_t[Mt]=[kt[Mt],(qt=kt[Mt],Nt=se,function(Vt){for(var Ut=Vt.length,Wt={};Ut;)Wt[Vt[--Ut]]=(Wt[Vt[Ut]]||0)+1;return Wt}(Nt)[qt]||0)];var qt,Nt;at.append("g").selectAll("text").data(_t).enter().append(function(Vt){var Ut=Vt[0].split(P.default.lineBreakRegex),Wt=-(Ut.length-1)/2,Ft=Bt.createElementNS("http://www.w3.org/2000/svg","text");Ft.setAttribute("dy",Wt+"em");for(var jt=0;jt<Ut.length;jt++){var ee=Bt.createElementNS("http://www.w3.org/2000/svg","tspan");ee.setAttribute("alignment-baseline","central"),ee.setAttribute("x","10"),jt>0&&ee.setAttribute("dy","1em"),ee.textContent=Ut[jt],Ft.appendChild(ee)}return Ft}).attr("x",10).attr("y",function(Vt,Ut){if(!(Ut>0))return Vt[1]*ue/2+re;for(var Wt=0;Wt<Ut;Wt++)return ut+=_t[Ut-1][1],Vt[1]*ue/2+ut*ue+re}).attr("font-size",pt.sectionFontSize).attr("font-size",pt.sectionFontSize).attr("class",function(Vt){for(var Ut=0;Ut<kt.length;Ut++)if(Vt[0]===kt[Ut])return"sectionTitle sectionTitle"+Ut%pt.numberSectionStyles;return"sectionTitle"})}(Qt,Kt),function(ue,re,_t,ut){var Mt=R.default.getTodayMarker();if(Mt!=="off"){var qt=at.append("g").attr("class","today"),Nt=new Date,Vt=qt.append("line");Vt.attr("x1",yt(Nt)+ue).attr("x2",yt(Nt)+ue).attr("y1",pt.titleTopMargin).attr("y2",ut-pt.titleTopMargin).attr("class","today"),Mt!==""&&Vt.attr("style",Mt.replace(/,/g,";"))}}(Xt,0,0,Yt),(0,F.configureSvgSize)(at,St,X,pt.useMaxWidth),at.append("text").text(M.parser.yy.getDiagramTitle()).attr("x",X/2).attr("y",pt.titleTopMargin).attr("class","titleText"),(0,j.default)(M.parser.yy,at,it)};const K={setConf:W,draw:V}},"./src/diagrams/gantt/styles.js":(E,C,v)=>{v.r(C),v.d(C,{default:()=>h});const h=function(a){return`
  .mermaid-main-font {
    font-family: "trebuchet ms", verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  .exclude-range {
    fill: `.concat(a.excludeBkgColor,`;
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: `).concat(a.sectionBkgColor,`;
  }

  .section2 {
    fill: `).concat(a.sectionBkgColor2,`;
  }

  .section1,
  .section3 {
    fill: `).concat(a.altSectionBkgColor,`;
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: `).concat(a.titleColor,`;
  }

  .sectionTitle1 {
    fill: `).concat(a.titleColor,`;
  }

  .sectionTitle2 {
    fill: `).concat(a.titleColor,`;
  }

  .sectionTitle3 {
    fill: `).concat(a.titleColor,`;
  }

  .sectionTitle {
    text-anchor: start;
    // font-size: `).concat(a.ganttFontSize,`;
    // text-height: 14px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);

  }


  /* Grid and axis */

  .grid .tick {
    stroke: `).concat(a.gridColor,`;
    opacity: 0.8;
    shape-rendering: crispEdges;
    text {
      font-family: `).concat(a.fontFamily,`;
      fill: `).concat(a.textColor,`;
    }
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: `).concat(a.todayLineColor,`;
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }

  // .taskText:not([font-size]) {
  //   font-size: `).concat(a.ganttFontSize,`;
  // }

  .taskTextOutsideRight {
    fill: `).concat(a.taskTextDarkColor,`;
    text-anchor: start;
    // font-size: `).concat(a.ganttFontSize,`;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);

  }

  .taskTextOutsideLeft {
    fill: `).concat(a.taskTextDarkColor,`;
    text-anchor: end;
    // font-size: `).concat(a.ganttFontSize,`;
  }

  /* Special case clickable */
  .task.clickable {
    cursor: pointer;
  }
  .taskText.clickable {
    cursor: pointer;
    fill: `).concat(a.taskTextClickableColor,` !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: `).concat(a.taskTextClickableColor,` !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: `).concat(a.taskTextClickableColor,` !important;
    font-weight: bold;
  }

  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: `).concat(a.taskTextColor,`;
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: `).concat(a.taskBkgColor,`;
    stroke: `).concat(a.taskBorderColor,`;
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: `).concat(a.taskTextOutsideColor,`;
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: `).concat(a.taskTextOutsideColor,`;
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: `).concat(a.activeTaskBkgColor,`;
    stroke: `).concat(a.activeTaskBorderColor,`;
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: `).concat(a.taskTextDarkColor,` !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: `).concat(a.doneTaskBorderColor,`;
    fill: `).concat(a.doneTaskBkgColor,`;
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: `).concat(a.taskTextDarkColor,` !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: `).concat(a.critBorderColor,`;
    fill: `).concat(a.critBkgColor,`;
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: `).concat(a.critBorderColor,`;
    fill: `).concat(a.activeTaskBkgColor,`;
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: `).concat(a.critBorderColor,`;
    fill: `).concat(a.doneTaskBkgColor,`;
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: `).concat(a.taskTextDarkColor,` !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: `).concat(a.taskTextDarkColor,` !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: `).concat(a.textColor,`    ;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
`)}},"./src/diagrams/git/gitGraphAst.js":(E,C,v)=>{v.r(C),v.d(C,{branch:()=>yt,checkout:()=>Pt,cherryPick:()=>xt,clear:()=>Qt,commit:()=>at,commitType:()=>Mt,default:()=>qt,getBranches:()=>Xt,getBranchesAsObjArray:()=>Kt,getCommits:()=>se,getCommitsArray:()=>ue,getCurrentBranch:()=>re,getDirection:()=>_t,getHead:()=>ut,getOptions:()=>St,merge:()=>kt,parseDirective:()=>J,prettyPrint:()=>ne,setDirection:()=>Bt,setOptions:()=>Ct});var h=v("./src/logger.js"),a=v("./src/utils.js"),O=v("./src/mermaidAPI.js"),_=v("./src/config.js"),M=v("./src/diagrams/common/common.js"),P=v("./src/commonDb.js");function R(Nt,Vt){var Ut=Object.keys(Nt);if(Object.getOwnPropertySymbols){var Wt=Object.getOwnPropertySymbols(Nt);Vt&&(Wt=Wt.filter(function(Ft){return Object.getOwnPropertyDescriptor(Nt,Ft).enumerable})),Ut.push.apply(Ut,Wt)}return Ut}function $(Nt){for(var Vt=1;Vt<arguments.length;Vt++){var Ut=arguments[Vt]!=null?arguments[Vt]:{};Vt%2?R(Object(Ut),!0).forEach(function(Wt){F(Nt,Wt,Ut[Wt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Nt,Object.getOwnPropertyDescriptors(Ut)):R(Object(Ut)).forEach(function(Wt){Object.defineProperty(Nt,Wt,Object.getOwnPropertyDescriptor(Ut,Wt))})}return Nt}function F(Nt,Vt,Ut){return Vt in Nt?Object.defineProperty(Nt,Vt,{value:Ut,enumerable:!0,configurable:!0,writable:!0}):Nt[Vt]=Ut,Nt}var j=(0,_.getConfig)().gitGraph.mainBranchName,X=(0,_.getConfig)().gitGraph.mainBranchOrder,W={},V=null,K={};K[j]={name:j,order:X};var st={};st[j]=V;var it=j,pt="LR",ct=0;function lt(){return(0,a.random)({length:7})}var J=function(Nt,Vt,Ut){O.default.parseDirective(this,Nt,Vt,Ut)},Bt=function(Nt){pt=Nt},Tt={},Ct=function(Nt){h.log.debug("options str",Nt),Nt=(Nt=Nt&&Nt.trim())||"{}";try{Tt=JSON.parse(Nt)}catch(Vt){h.log.error("error while parsing gitGraph options",Vt.message)}},St=function(){return Tt},at=function(Nt,Vt,Ut,Wt){h.log.debug("Entering commit:",Nt,Vt,Ut,Wt),Vt=M.default.sanitizeText(Vt,_.getConfig()),Nt=M.default.sanitizeText(Nt,_.getConfig()),Wt=M.default.sanitizeText(Wt,_.getConfig());var Ft={id:Vt||ct+"-"+lt(),message:Nt,seq:ct++,type:Ut||Mt.NORMAL,tag:Wt||"",parents:V==null?[]:[V.id],branch:it};V=Ft,W[Ft.id]=Ft,st[it]=Ft.id,h.log.debug("in pushCommit "+Ft.id)},yt=function(Nt,Vt){if(Nt=M.default.sanitizeText(Nt,_.getConfig()),st[Nt]!==void 0){var Ut=new Error('Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout '+Nt+'")');throw Ut.hash={text:"branch "+Nt,token:"branch "+Nt,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"checkout '+Nt+'"']},Ut}st[Nt]=V!=null?V.id:null,K[Nt]={name:Nt,order:Vt?parseInt(Vt,10):null},Pt(Nt),h.log.debug("in createBranch")},kt=function(Nt,Vt){Nt=M.default.sanitizeText(Nt,_.getConfig());var Ut=W[st[it]],Wt=W[st[Nt]];if(it===Nt){var Ft=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw Ft.hash={text:"merge "+Nt,token:"merge "+Nt,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},Ft}if(Ut===void 0||!Ut){var jt=new Error('Incorrect usage of "merge". Current branch ('+it+")has no commits");throw jt.hash={text:"merge "+Nt,token:"merge "+Nt,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["commit"]},jt}if(st[Nt]===void 0){var ee=new Error('Incorrect usage of "merge". Branch to be merged ('+Nt+") does not exist");throw ee.hash={text:"merge "+Nt,token:"merge "+Nt,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch "+Nt]},ee}if(Wt===void 0||!Wt){var Lt=new Error('Incorrect usage of "merge". Branch to be merged ('+Nt+") has no commits");throw Lt.hash={text:"merge "+Nt,token:"merge "+Nt,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"commit"']},Lt}if(Ut===Wt){var he=new Error('Incorrect usage of "merge". Both branches have same head');throw he.hash={text:"merge "+Nt,token:"merge "+Nt,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},he}var Ht={id:ct+"-"+lt(),message:"merged branch "+Nt+" into "+it,seq:ct++,parents:[V==null?null:V.id,st[Nt]],branch:it,type:Mt.MERGE,tag:Vt||""};V=Ht,W[Ht.id]=Ht,st[it]=Ht.id,h.log.debug(st),h.log.debug("in mergeBranch")},xt=function(Nt,Vt){if(Nt=M.default.sanitizeText(Nt,_.getConfig()),Vt=M.default.sanitizeText(Vt,_.getConfig()),!Nt||W[Nt]===void 0){var Ut=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw Ut.hash={text:"cherryPick "+Nt+" "+Vt,token:"cherryPick "+Nt+" "+Vt,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},Ut}var Wt=W[Nt],Ft=Wt.branch;if(Wt.type===Mt.MERGE){var jt=new Error('Incorrect usage of "cherryPick". Source commit should not be a merge commit');throw jt.hash={text:"cherryPick "+Nt+" "+Vt,token:"cherryPick "+Nt+" "+Vt,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},jt}if(!Vt||W[Vt]===void 0){if(Ft===it){var ee=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw ee.hash={text:"cherryPick "+Nt+" "+Vt,token:"cherryPick "+Nt+" "+Vt,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},ee}var Lt=W[st[it]];if(Lt===void 0||!Lt){var he=new Error('Incorrect usage of "cherry-pick". Current branch ('+it+")has no commits");throw he.hash={text:"cherryPick "+Nt+" "+Vt,token:"cherryPick "+Nt+" "+Vt,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},he}var Ht={id:ct+"-"+lt(),message:"cherry-picked "+Wt+" into "+it,seq:ct++,parents:[V==null?null:V.id,Wt.id],branch:it,type:Mt.CHERRY_PICK,tag:"cherry-pick:"+Wt.id};V=Ht,W[Ht.id]=Ht,st[it]=Ht.id,h.log.debug(st),h.log.debug("in cheeryPick")}},Pt=function(Nt){if(Nt=M.default.sanitizeText(Nt,_.getConfig()),st[Nt]===void 0){var Vt=new Error('Trying to checkout branch which is not yet created. (Help try using "branch '+Nt+'")');throw Vt.hash={text:"checkout "+Nt,token:"checkout "+Nt,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"branch '+Nt+'"']},Vt}var Ut=st[it=Nt];V=W[Ut]};function mt(Nt,Vt,Ut){var Wt=Nt.indexOf(Vt);Wt===-1?Nt.push(Ut):Nt.splice(Wt,1,Ut)}function Yt(Nt){var Vt=Nt.reduce(function(Se,Te){return Se.seq>Te.seq?Se:Te},Nt[0]),Ut="";Nt.forEach(function(Se){Ut+=Se===Vt?"	*":"	|"});var Wt,Ft,jt,ee=[Ut,Vt.id,Vt.seq];for(var Lt in st)st[Lt]===Vt.id&&ee.push(Lt);if(h.log.debug(ee.join(" ")),Vt.parents&&Vt.parents.length==2){var he=W[Vt.parents[0]];mt(Nt,Vt,he),Nt.push(W[Vt.parents[1]])}else{if(Vt.parents.length==0)return;var Ht=W[Vt.parents];mt(Nt,Vt,Ht)}Wt=Nt,Ft=function(Se){return Se.id},jt=Object.create(null),Yt(Nt=Wt.reduce(function(Se,Te){var we=Ft(Te);return jt[we]||(jt[we]=!0,Se.push(Te)),Se},[]))}var ne=function(){h.log.debug(W),Yt([ue()[0]])},Qt=function(){W={},V=null;var Nt=(0,_.getConfig)().gitGraph.mainBranchName,Vt=(0,_.getConfig)().gitGraph.mainBranchOrder;(st={})[Nt]=null,(K={})[Nt]={name:Nt,order:Vt},it=Nt,ct=0,(0,P.clear)()},Kt=function(){return Object.values(K).map(function(Nt,Vt){return Nt.order!==null?Nt:$($({},Nt),{},{order:parseFloat("0.".concat(Vt),10)})}).sort(function(Nt,Vt){return Nt.order-Vt.order}).map(function(Nt){return{name:Nt.name}})},Xt=function(){return st},se=function(){return W},ue=function(){var Nt=Object.keys(W).map(function(Vt){return W[Vt]});return Nt.forEach(function(Vt){h.log.debug(Vt.id)}),Nt.sort(function(Vt,Ut){return Vt.seq-Ut.seq}),Nt},re=function(){return it},_t=function(){return pt},ut=function(){return V},Mt={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4};const qt={parseDirective:J,getConfig:function(){return _.getConfig().gitGraph},setDirection:Bt,setOptions:Ct,getOptions:St,commit:at,branch:yt,merge:kt,cherryPick:xt,checkout:Pt,prettyPrint:ne,clear:Qt,getBranchesAsObjArray:Kt,getBranches:Xt,getCommits:se,getCommitsArray:ue,getCurrentBranch:re,getDirection:_t,getHead:ut,setAccTitle:P.setAccTitle,getAccTitle:P.getAccTitle,getAccDescription:P.getAccDescription,setAccDescription:P.setAccDescription,commitType:Mt}},"./src/diagrams/git/gitGraphRenderer.js":(E,C,v)=>{v.r(C),v.d(C,{default:()=>pt,draw:()=>it});var h=v("d3"),a=v("./src/utils.js"),O=v("./src/diagrams/git/gitGraphAst.js"),_=v("./src/diagrams/git/parser/gitGraph.jison"),M=v.n(_),P=v("./src/logger.js"),R=v("./src/config.js"),$=v("./src/accessibility.js"),F={},j={},X={},W=[],V=0,K=function(ct,lt,J){var Bt=(0,R.getConfig)().gitGraph,Tt=ct.append("g").attr("class","commit-bullets"),Ct=ct.append("g").attr("class","commit-labels"),St=0;Object.keys(lt).sort(function(at,yt){return lt[at].seq-lt[yt].seq}).forEach(function(at,yt){var kt=lt[at],xt=j[kt.branch].pos,Pt=St+10;if(J){var mt;switch(kt.type){case 0:default:mt="commit-normal";break;case 1:mt="commit-reverse";break;case 2:mt="commit-highlight";break;case 3:mt="commit-merge";break;case 4:mt="commit-cherry-pick"}if(kt.type===2){var Yt=Tt.append("rect");Yt.attr("x",Pt-10),Yt.attr("y",xt-10),Yt.attr("height",20),Yt.attr("width",20),Yt.attr("class","commit "+kt.id+" commit-highlight"+j[kt.branch].index+" "+mt+"-outer"),Tt.append("rect").attr("x",Pt-6).attr("y",xt-6).attr("height",12).attr("width",12).attr("class","commit "+kt.id+" commit"+j[kt.branch].index+" "+mt+"-inner")}else if(kt.type===4)Tt.append("circle").attr("cx",Pt).attr("cy",xt).attr("r",10).attr("class","commit "+kt.id+" "+mt),Tt.append("circle").attr("cx",Pt-3).attr("cy",xt+2).attr("r",2.75).attr("fill","#fff").attr("class","commit "+kt.id+" "+mt),Tt.append("circle").attr("cx",Pt+3).attr("cy",xt+2).attr("r",2.75).attr("fill","#fff").attr("class","commit "+kt.id+" "+mt),Tt.append("line").attr("x1",Pt+3).attr("y1",xt+1).attr("x2",Pt).attr("y2",xt-5).attr("stroke","#fff").attr("class","commit "+kt.id+" "+mt),Tt.append("line").attr("x1",Pt-3).attr("y1",xt+1).attr("x2",Pt).attr("y2",xt-5).attr("stroke","#fff").attr("class","commit "+kt.id+" "+mt);else{var ne=Tt.append("circle");if(ne.attr("cx",Pt),ne.attr("cy",xt),ne.attr("r",kt.type===3?9:10),ne.attr("class","commit "+kt.id+" commit"+j[kt.branch].index),kt.type===3){var Qt=Tt.append("circle");Qt.attr("cx",Pt),Qt.attr("cy",xt),Qt.attr("r",6),Qt.attr("class","commit "+mt+" "+kt.id+" commit"+j[kt.branch].index)}kt.type===1&&Tt.append("path").attr("d","M ".concat(Pt-5,",").concat(xt-5,"L").concat(Pt+5,",").concat(xt+5,"M").concat(Pt-5,",").concat(xt+5,"L").concat(Pt+5,",").concat(xt-5)).attr("class","commit "+mt+" "+kt.id+" commit"+j[kt.branch].index)}}if(X[kt.id]={x:St+10,y:xt},J){if(kt.type!==4&&kt.type!==3&&Bt.showCommitLabel){var Kt=Ct.append("g"),Xt=Kt.insert("rect").attr("class","commit-label-bkg"),se=Kt.append("text").attr("x",St).attr("y",xt+25).attr("class","commit-label").text(kt.id),ue=se.node().getBBox();if(Xt.attr("x",St+10-ue.width/2-2).attr("y",xt+13.5).attr("width",ue.width+4).attr("height",ue.height+4),se.attr("x",St+10-ue.width/2),Bt.rotateCommitLabel){var re=-7.5-(ue.width+10)/25*9.5,_t=10+ue.width/25*8.5;Kt.attr("transform","translate("+re+", "+_t+") rotate(-45, "+St+", "+xt+")")}}if(kt.tag){var ut=Ct.insert("polygon"),Mt=Ct.append("circle"),qt=Ct.append("text").attr("y",xt-16).attr("class","tag-label").text(kt.tag),Nt=qt.node().getBBox();qt.attr("x",St+10-Nt.width/2);var Vt=Nt.height/2,Ut=xt-19.2;ut.attr("class","tag-label-bkg").attr("points",`
          `.concat(St-Nt.width/2-2,",").concat(Ut+2,`
          `).concat(St-Nt.width/2-2,",").concat(Ut-2,`
          `).concat(St+10-Nt.width/2-4,",").concat(Ut-Vt-2,`
          `).concat(St+10+Nt.width/2+4,",").concat(Ut-Vt-2,`
          `).concat(St+10+Nt.width/2+4,",").concat(Ut+Vt+2,`
          `).concat(St+10-Nt.width/2-4,",").concat(Ut+Vt+2)),Mt.attr("cx",St-Nt.width/2+2).attr("cy",Ut).attr("r",1.5).attr("class","tag-hole")}}(St+=50)>V&&(V=St)})},st=function ct(lt,J,Bt){var Tt=Bt||0,Ct=lt+Math.abs(lt-J)/2;if(Tt>5)return Ct;for(var St=!0,at=0;at<W.length;at++)Math.abs(W[at]-Ct)<10&&(St=!1);return St?(W.push(Ct),Ct):ct(lt,J-Math.abs(lt-J)/5,Tt)},it=function(ct,lt,J){j={},X={},F={},V=0,W=[];var Bt=(0,R.getConfig)(),Tt=(0,R.getConfig)().gitGraph,Ct=M().parser;Ct.yy=O.default,Ct.yy.clear(),P.log.debug("in gitgraph renderer",ct+`
`,"id:",lt,J),Ct.parse(ct+`
`),O.default.getDirection(),F=O.default.getCommits();var St=O.default.getBranchesAsObjArray(),at=0;St.forEach(function(Kt,Xt){j[Kt.name]={pos:at,index:Xt},at+=50+(Tt.rotateCommitLabel?40:0)});var yt,kt,xt=(0,h.select)('[id="'.concat(lt,'"]'));(0,$.default)(Ct.yy,xt,lt),K(xt,F,!1),Tt.showBranches&&function(Kt,Xt){var se=(0,R.getConfig)().gitGraph,ue=Kt.append("g");Xt.forEach(function(re,_t){var ut=_t>=8?_t-8:_t,Mt=j[re.name].pos,qt=ue.append("line");qt.attr("x1",0),qt.attr("y1",Mt),qt.attr("x2",V),qt.attr("y2",Mt),qt.attr("class","branch branch"+ut),W.push(Mt);var Nt=function(Ft){var jt=document.createElementNS("http://www.w3.org/2000/svg","text"),ee=[];ee=typeof Ft=="string"?Ft.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(Ft)?Ft:[];for(var Lt=0;Lt<ee.length;Lt++){var he=document.createElementNS("http://www.w3.org/2000/svg","tspan");he.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),he.setAttribute("dy","1em"),he.setAttribute("x","0"),he.setAttribute("class","row"),he.textContent=ee[Lt].trim(),jt.appendChild(he)}return jt}(re.name),Vt=ue.insert("rect"),Ut=ue.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+ut);Ut.node().appendChild(Nt);var Wt=Nt.getBBox();Vt.attr("class","branchLabelBkg label"+ut).attr("rx",4).attr("ry",4).attr("x",-Wt.width-4-(se.rotateCommitLabel===!0?30:0)).attr("y",-Wt.height/2+8).attr("width",Wt.width+18).attr("height",Wt.height+4),Ut.attr("transform","translate("+(-Wt.width-14-(se.rotateCommitLabel===!0?30:0))+", "+(Mt-Wt.height/2-1)+")"),Vt.attr("transform","translate(-19, "+(Mt-Wt.height/2)+")")})}(xt,St),yt=F,kt=xt.append("g").attr("class","commit-arrows"),Object.keys(yt).forEach(function(Kt,Xt){var se=yt[Kt];se.parents&&se.parents.length>0&&se.parents.forEach(function(ue){(function(re,_t,ut,Mt){var qt=(0,R.getConfig)(),Nt=X[_t.id],Vt=X[ut.id],Ut=function(Se,Te,we){return X[Te.id],X[Se.id],Object.keys(we).filter(function(Ue){return we[Ue].branch===Te.branch&&we[Ue].seq>Se.seq&&we[Ue].seq<Te.seq}).length>0}(_t,ut,Mt);qt.arrowMarkerAbsolute&&(window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(").replace(/\)/g,"\\)");var Wt,Ft="",jt="",ee=0,Lt=0,he=j[ut.branch].index;if(Ut){Ft="A 10 10, 0, 0, 0,",jt="A 10 10, 0, 0, 1,",ee=10,Lt=10,he=j[ut.branch].index;var Ht=Nt.y<Vt.y?st(Nt.y,Vt.y):st(Vt.y,Nt.y);Wt=Nt.y<Vt.y?"M ".concat(Nt.x," ").concat(Nt.y," L ").concat(Nt.x," ").concat(Ht-ee," ").concat(Ft," ").concat(Nt.x+Lt," ").concat(Ht," L ").concat(Vt.x-ee," ").concat(Ht," ").concat(jt," ").concat(Vt.x," ").concat(Ht+Lt," L ").concat(Vt.x," ").concat(Vt.y):"M ".concat(Nt.x," ").concat(Nt.y," L ").concat(Nt.x," ").concat(Ht+ee," ").concat(jt," ").concat(Nt.x+Lt," ").concat(Ht," L ").concat(Vt.x-ee," ").concat(Ht," ").concat(Ft," ").concat(Vt.x," ").concat(Ht-Lt," L ").concat(Vt.x," ").concat(Vt.y)}else Nt.y<Vt.y&&(Ft="A 20 20, 0, 0, 0,",ee=20,Lt=20,he=j[ut.branch].index,Wt="M ".concat(Nt.x," ").concat(Nt.y," L ").concat(Nt.x," ").concat(Vt.y-ee," ").concat(Ft," ").concat(Nt.x+Lt," ").concat(Vt.y," L ").concat(Vt.x," ").concat(Vt.y)),Nt.y>Vt.y&&(Ft="A 20 20, 0, 0, 0,",ee=20,Lt=20,he=j[_t.branch].index,Wt="M ".concat(Nt.x," ").concat(Nt.y," L ").concat(Vt.x-ee," ").concat(Nt.y," ").concat(Ft," ").concat(Vt.x," ").concat(Nt.y-Lt," L ").concat(Vt.x," ").concat(Vt.y)),Nt.y===Vt.y&&(he=j[_t.branch].index,Wt="M ".concat(Nt.x," ").concat(Nt.y," L ").concat(Nt.x," ").concat(Vt.y-ee," ").concat(Ft," ").concat(Nt.x+Lt," ").concat(Vt.y," L ").concat(Vt.x," ").concat(Vt.y));re.append("path").attr("d",Wt).attr("class","arrow arrow"+he)})(kt,yt[ue],se,yt)})}),K(xt,F,!0);var Pt=Tt.diagramPadding,mt=xt.node().getBBox(),Yt=mt.width+2*Pt,ne=mt.height+2*Pt;(0,a.configureSvgSize)(xt,ne,Yt,Bt.useMaxWidth);var Qt="".concat(mt.x-Pt-(Tt.showBranches&&Tt.rotateCommitLabel===!0?30:0)," ").concat(mt.y-Pt," ").concat(Yt," ").concat(ne);xt.attr("viewBox",Qt)};const pt={draw:it}},"./src/diagrams/git/styles.js":(E,C,v)=>{v.r(C),v.d(C,{default:()=>h});const h=function(a){return`
  .commit-id,
  .commit-msg,
  .branch-label {
    fill: lightgrey;
    color: lightgrey;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  `.concat([0,1,2,3,4,5,6,7].map(function(O){return`
        .branch-label`.concat(O," { fill: ").concat(a["gitBranchLabel"+O],`; }
        .commit`).concat(O," { stroke: ").concat(a["git"+O],"; fill: ").concat(a["git"+O],`; }
        .commit-highlight`).concat(O," { stroke: ").concat(a["gitInv"+O],"; fill: ").concat(a["gitInv"+O],`; }
        .label`).concat(O,"  { fill: ").concat(a["git"+O],`; }
        .arrow`).concat(O," { stroke: ").concat(a["git"+O],`; }
        `)}).join(`
`),`

  .branch {
    stroke-width: 1;
    stroke: `).concat(a.lineColor,`;
    stroke-dasharray: 2;
  }
  .commit-label { font-size: `).concat(a.commitLabelFontSize,"; fill: ").concat(a.commitLabelColor,`;}
  .commit-label-bkg { font-size: `).concat(a.commitLabelFontSize,"; fill: ").concat(a.commitLabelBackground,`; opacity: 0.5; }
  .tag-label { font-size: `).concat(a.tagLabelFontSize,"; fill: ").concat(a.tagLabelColor,`;}
  .tag-label-bkg { fill: `).concat(a.tagLabelBackground,"; stroke: ").concat(a.tagLabelBorder,`; }
  .tag-hole { fill: `).concat(a.textColor,`; }

  .commit-merge {
    stroke: `).concat(a.primaryColor,`;
    fill: `).concat(a.primaryColor,`;
  }
  .commit-reverse {
    stroke: `).concat(a.primaryColor,`;
    fill: `).concat(a.primaryColor,`;
    stroke-width: 3;
  }
  .commit-highlight-outer {
  }
  .commit-highlight-inner {
    stroke: `).concat(a.primaryColor,`;
    fill: `).concat(a.primaryColor,`;
  }

  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}
  }
`)}},"./src/diagrams/info/infoDb.js":(E,C,v)=>{v.r(C),v.d(C,{default:()=>$,getInfo:()=>R,getMessage:()=>M,setInfo:()=>P,setMessage:()=>_});var h=v("./src/logger.js"),a="",O=!1,_=function(F){h.log.debug("Setting message to: "+F),a=F},M=function(){return a},P=function(F){O=F},R=function(){return O};const $={setMessage:_,getMessage:M,setInfo:P,getInfo:R}},"./src/diagrams/info/infoRenderer.js":(E,C,v)=>{v.r(C),v.d(C,{default:()=>F,draw:()=>$,setConf:()=>R});var h=v("d3"),a=v("./src/diagrams/info/infoDb.js"),O=v("./src/diagrams/info/parser/info.jison"),_=v.n(O),M=v("./src/logger.js"),P=v("./src/config.js"),R=function(j){Object.keys(j).forEach(function(X){j[X]})},$=function(j,X,W){try{var V=_().parser;V.yy=a.default,M.log.debug(`Renering info diagram
`+j);var K,st=(0,P.getConfig)().securityLevel;st==="sandbox"&&(K=(0,h.select)("#i"+X));var it=st==="sandbox"?(0,h.select)(K.nodes()[0].contentDocument.body):(0,h.select)("body");st==="sandbox"&&K.nodes()[0].contentDocument,V.parse(j),M.log.debug("Parsed info diagram");var pt=it.select("#"+X);pt.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size","32px").style("text-anchor","middle").text("v "+W),pt.attr("height",100),pt.attr("width",400)}catch(ct){M.log.error("Error while rendering info diagram"),M.log.error(ct.message)}};const F={setConf:R,draw:$}},"./src/diagrams/info/styles.js":(E,C,v)=>{v.r(C),v.d(C,{default:()=>h});const h=function(){return""}},"./src/diagrams/pie/pieDb.js":(E,C,v)=>{v.r(C),v.d(C,{default:()=>F,parseDirective:()=>$});var h=v("./src/logger.js"),a=v("./src/mermaidAPI.js"),O=v("./src/config.js"),_=v("./src/diagrams/common/common.js"),M=v("./src/commonDb.js"),P={},R=!1,$=function(j,X,W){a.default.parseDirective(this,j,X,W)};const F={parseDirective:$,getConfig:function(){return O.getConfig().pie},addSection:function(j,X){j=_.default.sanitizeText(j,O.getConfig()),P[j]===void 0&&(P[j]=X,h.log.debug("Added new section :",j))},getSections:function(){return P},cleanupValue:function(j){return j.substring(0,1)===":"&&(j=j.substring(1).trim()),Number(j.trim())},clear:function(){P={},R=!1,(0,M.clear)()},setAccTitle:M.setAccTitle,getAccTitle:M.getAccTitle,setDiagramTitle:M.setDiagramTitle,getDiagramTitle:M.getDiagramTitle,setShowData:function(j){R=j},getShowData:function(){return R},getAccDescription:M.getAccDescription,setAccDescription:M.setAccDescription}},"./src/diagrams/pie/pieRenderer.js":(E,C,v)=>{v.r(C),v.d(C,{default:()=>W,draw:()=>X});var h,a=v("d3"),O=v("./src/diagrams/pie/pieDb.js"),_=v("./src/diagrams/pie/parser/pie.jison"),M=v.n(_),P=v("./src/logger.js"),R=v("./src/utils.js"),$=v("./src/config.js"),F=v("./src/accessibility.js"),j=$.getConfig(),X=function(V,K){try{j=$.getConfig();var st=M().parser;st.yy=O.default,P.log.debug(`Rendering info diagram
`+V);var it,pt=$.getConfig().securityLevel;pt==="sandbox"&&(it=(0,a.select)("#i"+K));var ct=pt==="sandbox"?(0,a.select)(it.nodes()[0].contentDocument.body):(0,a.select)("body"),lt=pt==="sandbox"?it.nodes()[0].contentDocument:document;st.yy.clear(),st.parse(V),P.log.debug("Parsed info diagram");var J=lt.getElementById(K);(h=J.parentElement.offsetWidth)===void 0&&(h=1200),j.useWidth!==void 0&&(h=j.useWidth),j.pie.useWidth!==void 0&&(h=j.pie.useWidth);var Bt=ct.select("#"+K);(0,R.configureSvgSize)(Bt,450,h,j.pie.useMaxWidth),(0,F.default)(st.yy,Bt,K),J.setAttribute("viewBox","0 0 "+h+" 450");var Tt=Math.min(h,450)/2-40,Ct=Bt.append("g").attr("transform","translate("+h/2+",225)"),St=O.default.getSections(),at=0;Object.keys(St).forEach(function(ne){at+=St[ne]});var yt=j.themeVariables,kt=[yt.pie1,yt.pie2,yt.pie3,yt.pie4,yt.pie5,yt.pie6,yt.pie7,yt.pie8,yt.pie9,yt.pie10,yt.pie11,yt.pie12],xt=(0,a.scaleOrdinal)().range(kt),Pt=(0,a.pie)().value(function(ne){return ne[1]})(Object.entries(St)),mt=(0,a.arc)().innerRadius(0).outerRadius(Tt);Ct.selectAll("mySlices").data(Pt).enter().append("path").attr("d",mt).attr("fill",function(ne){return xt(ne.data[0])}).attr("class","pieCircle"),Ct.selectAll("mySlices").data(Pt).enter().append("text").text(function(ne){return(ne.data[1]/at*100).toFixed(0)+"%"}).attr("transform",function(ne){return"translate("+mt.centroid(ne)+")"}).style("text-anchor","middle").attr("class","slice"),Ct.append("text").text(st.yy.getDiagramTitle()).attr("x",0).attr("y",-200).attr("class","pieTitleText");var Yt=Ct.selectAll(".legend").data(xt.domain()).enter().append("g").attr("class","legend").attr("transform",function(ne,Qt){return"translate(216,"+(22*Qt-22*xt.domain().length/2)+")"});Yt.append("rect").attr("width",18).attr("height",18).style("fill",xt).style("stroke",xt),Yt.data(Pt).append("text").attr("x",22).attr("y",14).text(function(ne){return st.yy.getShowData()||j.showData||j.pie.showData?ne.data[0]+" ["+ne.data[1]+"]":ne.data[0]})}catch(ne){P.log.error("Error while rendering info diagram"),P.log.error(ne)}};const W={draw:X}},"./src/diagrams/pie/styles.js":(E,C,v)=>{v.r(C),v.d(C,{default:()=>h});const h=function(a){return`
  .pieCircle{
    stroke: `.concat(a.pieStrokeColor,`;
    stroke-width : `).concat(a.pieStrokeWidth,`;
    opacity : `).concat(a.pieOpacity,`;
  }
  .pieTitleText {
    text-anchor: middle;
    font-size: `).concat(a.pieTitleTextSize,`;
    fill: `).concat(a.pieTitleTextColor,`;
    font-family: `).concat(a.fontFamily,`;
  }
  .slice {
    font-family: `).concat(a.fontFamily,`;
    fill: `).concat(a.pieSectionTextColor,`;
    font-size:`).concat(a.pieSectionTextSize,`;
    // fill: white;
  }
  .legend text {
    fill: `).concat(a.pieLegendTextColor,`;
    font-family: `).concat(a.fontFamily,`;
    font-size: `).concat(a.pieLegendTextSize,`;
  }
`)}},"./src/diagrams/requirement/requirementDb.js":(E,C,v)=>{v.r(C),v.d(C,{default:()=>X,parseDirective:()=>j});var h=v("./src/config.js"),a=v("./src/logger.js"),O=v("./src/mermaidAPI.js"),_=(v("./src/diagrams/common/common.js"),v("./src/commonDb.js")),M=[],P={},R={},$={},F={},j=function(W,V,K){O.default.parseDirective(this,W,V,K)};const X={RequirementType:{REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},RiskLevel:{LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},VerifyType:{VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},Relationships:{CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},parseDirective:j,getConfig:function(){return h.getConfig().req},addRequirement:function(W,V){return R[W]===void 0&&(R[W]={name:W,type:V,id:P.id,text:P.text,risk:P.risk,verifyMethod:P.verifyMethod}),P={},R[W]},getRequirements:function(){return R},setNewReqId:function(W){P!==void 0&&(P.id=W)},setNewReqText:function(W){P!==void 0&&(P.text=W)},setNewReqRisk:function(W){P!==void 0&&(P.risk=W)},setNewReqVerifyMethod:function(W){P!==void 0&&(P.verifyMethod=W)},setAccTitle:_.setAccTitle,getAccTitle:_.getAccTitle,setAccDescription:_.setAccDescription,getAccDescription:_.getAccDescription,addElement:function(W){return F[W]===void 0&&(F[W]={name:W,type:$.type,docRef:$.docRef},a.log.info("Added new requirement: ",W)),$={},F[W]},getElements:function(){return F},setNewElementType:function(W){$!==void 0&&($.type=W)},setNewElementDocRef:function(W){$!==void 0&&($.docRef=W)},addRelationship:function(W,V,K){M.push({type:W,src:V,dst:K})},getRelationships:function(){return M},clear:function(){M=[],P={},R={},$={},F={},(0,_.clear)()}}},"./src/diagrams/requirement/requirementMarkers.js":(E,C,v)=>{v.r(C),v.d(C,{default:()=>a});var h={CONTAINS:"contains",ARROW:"arrow"};const a={ReqMarkers:h,insertLineEndings:function(O,_){var M=O.append("defs").append("marker").attr("id",h.CONTAINS+"_line_ending").attr("refX",0).attr("refY",_.line_height/2).attr("markerWidth",_.line_height).attr("markerHeight",_.line_height).attr("orient","auto").append("g");M.append("circle").attr("cx",_.line_height/2).attr("cy",_.line_height/2).attr("r",_.line_height/2).attr("fill","none"),M.append("line").attr("x1",0).attr("x2",_.line_height).attr("y1",_.line_height/2).attr("y2",_.line_height/2).attr("stroke-width",1),M.append("line").attr("y1",0).attr("y2",_.line_height).attr("x1",_.line_height/2).attr("x2",_.line_height/2).attr("stroke-width",1),O.append("defs").append("marker").attr("id",h.ARROW+"_line_ending").attr("refX",_.line_height).attr("refY",.5*_.line_height).attr("markerWidth",_.line_height).attr("markerHeight",_.line_height).attr("orient","auto").append("path").attr("d",`M0,0
      L`.concat(_.line_height,",").concat(_.line_height/2,`
      M`).concat(_.line_height,",").concat(_.line_height/2,`
      L0,`).concat(_.line_height)).attr("stroke-width",1)}}},"./src/diagrams/requirement/requirementRenderer.js":(E,C,v)=>{v.r(C),v.d(C,{default:()=>St,draw:()=>Ct,drawElements:()=>Bt,drawReqs:()=>J,setConf:()=>it});var h=v("d3"),a=v("dagre"),O=v.n(a),_=v("graphlib"),M=v.n(_),P=v("./src/logger.js"),R=v("./src/utils.js"),$=v("./src/diagrams/common/common.js"),F=v("./src/diagrams/requirement/parser/requirementDiagram.jison"),j=v("./src/diagrams/requirement/requirementDb.js"),X=v("./src/diagrams/requirement/requirementMarkers.js"),W=v("./src/config.js"),V=v("./src/accessibility.js"),K={},st=0,it=function(at){if(at!==void 0)for(var yt=Object.keys(at),kt=0;kt<yt.length;kt++)K[yt[kt]]=at[yt[kt]]},pt=function(at,yt){return at.insert("rect","#"+yt).attr("class","req reqBox").attr("x",0).attr("y",0).attr("width",K.rect_min_width+"px").attr("height",K.rect_min_height+"px")},ct=function(at,yt,kt){var xt=K.rect_min_width/2,Pt=at.append("text").attr("class","req reqLabel reqTitle").attr("id",yt).attr("x",xt).attr("y",K.rect_padding).attr("dominant-baseline","hanging"),mt=0;kt.forEach(function(ne){mt==0?Pt.append("tspan").attr("text-anchor","middle").attr("x",K.rect_min_width/2).attr("dy",0).text(ne):Pt.append("tspan").attr("text-anchor","middle").attr("x",K.rect_min_width/2).attr("dy",.75*K.line_height).text(ne),mt++});var Yt=1.5*K.rect_padding+mt*K.line_height*.75;return at.append("line").attr("class","req-title-line").attr("x1","0").attr("x2",K.rect_min_width).attr("y1",Yt).attr("y2",Yt),{titleNode:Pt,y:Yt}},lt=function(at,yt,kt,xt){var Pt=at.append("text").attr("class","req reqLabel").attr("id",yt).attr("x",K.rect_padding).attr("y",xt).attr("dominant-baseline","hanging"),mt=0,Yt=[];return kt.forEach(function(ne){for(var Qt=ne.length;Qt>30&&mt<3;){var Kt=ne.substring(0,30);Qt=(ne=ne.substring(30,ne.length)).length,Yt[Yt.length]=Kt,mt++}if(mt==3){var Xt=Yt[Yt.length-1];Yt[Yt.length-1]=Xt.substring(0,Xt.length-4)+"..."}else Yt[Yt.length]=ne;mt=0}),Yt.forEach(function(ne){Pt.append("tspan").attr("x",K.rect_padding).attr("dy",K.line_height).text(ne)}),Pt},J=function(at,yt,kt){Object.keys(at).forEach(function(xt){var Pt=at[xt];xt=Tt(xt),P.log.info("Added new requirement: ",xt);var mt=kt.append("g").attr("id",xt),Yt=pt(mt,"req-"+xt),ne=ct(mt,xt+"_title",["<<".concat(Pt.type,">>"),"".concat(Pt.name)]);lt(mt,xt+"_body",["Id: ".concat(Pt.id),"Text: ".concat(Pt.text),"Risk: ".concat(Pt.risk),"Verification: ".concat(Pt.verifyMethod)],ne.y);var Qt=Yt.node().getBBox();yt.setNode(xt,{width:Qt.width,height:Qt.height,shape:"rect",id:xt})})},Bt=function(at,yt,kt){Object.keys(at).forEach(function(xt){var Pt=at[xt],mt=Tt(xt),Yt=kt.append("g").attr("id",mt),ne="element-"+mt,Qt=pt(Yt,ne),Kt=ct(Yt,ne+"_title",["<<Element>>","".concat(xt)]);lt(Yt,ne+"_body",["Type: ".concat(Pt.type||"Not Specified"),"Doc Ref: ".concat(Pt.docRef||"None")],Kt.y);var Xt=Qt.node().getBBox();yt.setNode(mt,{width:Xt.width,height:Xt.height,shape:"rect",id:mt})})},Tt=function(at){return at.replace(/\s/g,"").replace(/\./g,"_")},Ct=function(at,yt){F.parser.yy=j.default,F.parser.yy.clear(),F.parser.parse(at);var kt,xt=(0,W.getConfig)().securityLevel;xt==="sandbox"&&(kt=(0,h.select)("#i"+yt));var Pt=xt==="sandbox"?(0,h.select)(kt.nodes()[0].contentDocument.body):(0,h.select)("body"),mt=(xt==="sandbox"&&kt.nodes()[0].contentDocument,Pt.select("[id='".concat(yt,"']")));X.default.insertLineEndings(mt,K);var Yt,ne,Qt=new(M()).Graph({multigraph:!1,compound:!1,directed:!0}).setGraph({rankdir:K.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}}),Kt=j.default.getRequirements(),Xt=j.default.getElements(),se=j.default.getRelationships();J(Kt,Qt,mt),Bt(Xt,Qt,mt),function(Mt,qt){Mt.forEach(function(Nt){var Vt=Tt(Nt.src),Ut=Tt(Nt.dst);qt.setEdge(Vt,Ut,{relationship:Nt})})}(se,Qt),O().layout(Qt),Yt=mt,(ne=Qt).nodes().forEach(function(Mt){Mt!==void 0&&ne.node(Mt)!==void 0&&(Yt.select("#"+Mt),Yt.select("#"+Mt).attr("transform","translate("+(ne.node(Mt).x-ne.node(Mt).width/2)+","+(ne.node(Mt).y-ne.node(Mt).height/2)+" )"))}),se.forEach(function(Mt){(function(qt,Nt,Vt,Ut){var Wt=Vt.edge(Tt(Nt.src),Tt(Nt.dst)),Ft=(0,h.line)().x(function(ee){return ee.x}).y(function(ee){return ee.y}),jt=qt.insert("path","#"+Ut).attr("class","er relationshipLine").attr("d",Ft(Wt.points)).attr("fill","none");Nt.type==j.default.Relationships.CONTAINS?jt.attr("marker-start","url("+$.default.getUrl(K.arrowMarkerAbsolute)+"#"+Nt.type+"_line_ending)"):(jt.attr("stroke-dasharray","10,7"),jt.attr("marker-end","url("+$.default.getUrl(K.arrowMarkerAbsolute)+"#"+X.default.ReqMarkers.ARROW+"_line_ending)")),function(ee,Lt,he,Ht){var Se=Lt.node().getTotalLength(),Te=Lt.node().getPointAtLength(.5*Se),we="rel"+st;st++;var Ue=ee.append("text").attr("class","req relationshipLabel").attr("id",we).attr("x",Te.x).attr("y",Te.y).attr("text-anchor","middle").attr("dominant-baseline","middle").text(Ht).node().getBBox();ee.insert("rect","#"+we).attr("class","req reqLabelBox").attr("x",Te.x-Ue.width/2).attr("y",Te.y-Ue.height/2).attr("width",Ue.width).attr("height",Ue.height).attr("fill","white").attr("fill-opacity","85%")}(qt,jt,0,"<<".concat(Nt.type,">>"))})(mt,Mt,Qt,yt)});var ue=K.rect_padding,re=mt.node().getBBox(),_t=re.width+2*ue,ut=re.height+2*ue;(0,R.configureSvgSize)(mt,ut,_t,K.useMaxWidth),mt.attr("viewBox","".concat(re.x-ue," ").concat(re.y-ue," ").concat(_t," ").concat(ut)),(0,V.default)(F.parser.yy,mt,yt)};const St={setConf:it,draw:Ct}},"./src/diagrams/requirement/styles.js":(E,C,v)=>{v.r(C),v.d(C,{default:()=>h});const h=function(a){return`

  marker {
    fill: `.concat(a.relationColor,`;
    stroke: `).concat(a.relationColor,`;
  }

  marker.cross {
    stroke: `).concat(a.lineColor,`;
  }

  svg {
    font-family: `).concat(a.fontFamily,`;
    font-size: `).concat(a.fontSize,`;
  }

  .reqBox {
    fill: `).concat(a.requirementBackground,`;
    fill-opacity: 100%;
    stroke: `).concat(a.requirementBorderColor,`;
    stroke-width: `).concat(a.requirementBorderSize,`;
  }
  
  .reqTitle, .reqLabel{
    fill:  `).concat(a.requirementTextColor,`;
  }
  .reqLabelBox {
    fill: `).concat(a.relationLabelBackground,`;
    fill-opacity: 100%;
  }

  .req-title-line {
    stroke: `).concat(a.requirementBorderColor,`;
    stroke-width: `).concat(a.requirementBorderSize,`;
  }
  .relationshipLine {
    stroke: `).concat(a.relationColor,`;
    stroke-width: 1;
  }
  .relationshipLabel {
    fill: `).concat(a.relationLabelColor,`;
  }

`)}},"./src/diagrams/sequence/sequenceDb.js":(E,C,v)=>{v.r(C),v.d(C,{ARROWTYPE:()=>xt,LINETYPE:()=>kt,PLACEMENT:()=>Pt,addALink:()=>ne,addActor:()=>W,addDetails:()=>se,addLinks:()=>Yt,addMessage:()=>K,addNote:()=>mt,addProperties:()=>Kt,addSignal:()=>st,apply:()=>re,autoWrap:()=>St,clear:()=>at,default:()=>_t,disableSequenceNumbers:()=>Bt,enableSequenceNumbers:()=>J,getActor:()=>ct,getActorKeys:()=>lt,getActorProperty:()=>ue,getActors:()=>pt,getMessages:()=>it,parseDirective:()=>X,parseMessage:()=>yt,setWrap:()=>Ct,showSequenceNumbers:()=>Tt});var h=v("./src/mermaidAPI.js"),a=v("./src/config.js"),O=v("./src/logger.js"),_=v("./src/diagrams/common/common.js"),M=v("./src/commonDb.js"),P=void 0,R={},$=[],F=!1,j=!1,X=function(ut,Mt,qt){h.default.parseDirective(this,ut,Mt,qt)},W=function(ut,Mt,qt,Nt){var Vt=R[ut];Vt&&Mt===Vt.name&&qt==null||(qt!=null&&qt.text!=null||(qt={text:Mt,wrap:null,type:Nt}),Nt!=null&&qt.text!=null||(qt={text:Mt,wrap:null,type:Nt}),R[ut]={name:Mt,description:qt.text,wrap:qt.wrap===void 0&&St()||!!qt.wrap,prevActor:P,links:{},properties:{},actorCnt:null,rectData:null,type:Nt||"participant"},P&&R[P]&&(R[P].nextActor=ut),P=ut)},V=function(ut){var Mt,qt=0;for(Mt=0;Mt<$.length;Mt++)$[Mt].type===kt.ACTIVE_START&&$[Mt].from.actor===ut&&qt++,$[Mt].type===kt.ACTIVE_END&&$[Mt].from.actor===ut&&qt--;return qt},K=function(ut,Mt,qt,Nt){$.push({from:ut,to:Mt,message:qt.text,wrap:qt.wrap===void 0&&St()||!!qt.wrap,answer:Nt})},st=function(ut,Mt){var qt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{text:void 0,wrap:void 0},Nt=arguments.length>3?arguments[3]:void 0;if(Nt===kt.ACTIVE_END){var Vt=V(ut.actor);if(Vt<1){var Ut=new Error("Trying to inactivate an inactive participant ("+ut.actor+")");throw Ut.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},Ut}}return $.push({from:ut,to:Mt,message:qt.text,wrap:qt.wrap===void 0&&St()||!!qt.wrap,type:Nt}),!0},it=function(){return $},pt=function(){return R},ct=function(ut){return R[ut]},lt=function(){return Object.keys(R)},J=function(){F=!0},Bt=function(){F=!1},Tt=function(){return F},Ct=function(ut){j=ut},St=function(){return j},at=function(){R={},$=[],F=!1,(0,M.clear)()},yt=function(ut){var Mt=ut.trim(),qt={text:Mt.replace(/^[:]?(?:no)?wrap:/,"").trim(),wrap:Mt.match(/^[:]?wrap:/)!==null||Mt.match(/^[:]?nowrap:/)===null&&void 0};return O.log.debug("parseMessage:",qt),qt},kt={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31},xt={FILLED:0,OPEN:1},Pt={LEFTOF:0,RIGHTOF:1,OVER:2},mt=function(ut,Mt,qt){qt.text,qt.wrap===void 0&&St()||qt.wrap;var Nt=[].concat(ut,ut);$.push({from:Nt[0],to:Nt[1],message:qt.text,wrap:qt.wrap===void 0&&St()||!!qt.wrap,type:kt.NOTE,placement:Mt})},Yt=function(ut,Mt){var qt=ct(ut);try{var Nt=(0,_.sanitizeText)(Mt.text,a.getConfig());Nt=(Nt=Nt.replace(/&amp;/g,"&")).replace(/&equals;/g,"="),Qt(qt,JSON.parse(Nt))}catch(Vt){O.log.error("error while parsing actor link text",Vt)}},ne=function(ut,Mt){var qt=ct(ut);try{var Nt={},Vt=(0,_.sanitizeText)(Mt.text,a.getConfig()),Ut=Vt.indexOf("@"),Wt=(Vt=(Vt=Vt.replace(/&amp;/g,"&")).replace(/&equals;/g,"=")).slice(0,Ut-1).trim(),Ft=Vt.slice(Ut+1).trim();Nt[Wt]=Ft,Qt(qt,Nt)}catch(jt){O.log.error("error while parsing actor link text",jt)}};function Qt(ut,Mt){if(ut.links==null)ut.links=Mt;else for(var qt in Mt)ut.links[qt]=Mt[qt]}var Kt=function(ut,Mt){var qt=ct(ut);try{var Nt=(0,_.sanitizeText)(Mt.text,a.getConfig());Xt(qt,JSON.parse(Nt))}catch(Vt){O.log.error("error while parsing actor properties text",Vt)}};function Xt(ut,Mt){if(ut.properties==null)ut.properties=Mt;else for(var qt in Mt)ut.properties[qt]=Mt[qt]}var se=function(ut,Mt){var qt=ct(ut),Nt=document.getElementById(Mt.text);try{var Vt=Nt.innerHTML,Ut=JSON.parse(Vt);Ut.properties&&Xt(qt,Ut.properties),Ut.links&&Qt(qt,Ut.links)}catch(Wt){O.log.error("error while parsing actor details text",Wt)}},ue=function(ut,Mt){if(ut!==void 0&&ut.properties!==void 0)return ut.properties[Mt]},re=function ut(Mt){if(Mt instanceof Array)Mt.forEach(function(qt){ut(qt)});else switch(Mt.type){case"sequenceIndex":$.push({from:void 0,to:void 0,message:{start:Mt.sequenceIndex,step:Mt.sequenceIndexStep,visible:Mt.sequenceVisible},wrap:!1,type:Mt.signalType});break;case"addParticipant":W(Mt.actor,Mt.actor,Mt.description,"participant");break;case"addActor":W(Mt.actor,Mt.actor,Mt.description,"actor");break;case"activeStart":case"activeEnd":st(Mt.actor,void 0,void 0,Mt.signalType);break;case"addNote":mt(Mt.actor,Mt.placement,Mt.text);break;case"addLinks":Yt(Mt.actor,Mt.text);break;case"addALink":ne(Mt.actor,Mt.text);break;case"addProperties":Kt(Mt.actor,Mt.text);break;case"addDetails":se(Mt.actor,Mt.text);break;case"addMessage":st(Mt.from,Mt.to,Mt.msg,Mt.signalType);break;case"loopStart":st(void 0,void 0,Mt.loopText,Mt.signalType);break;case"loopEnd":case"rectEnd":case"optEnd":case"altEnd":case"parEnd":case"criticalEnd":case"breakEnd":st(void 0,void 0,void 0,Mt.signalType);break;case"rectStart":st(void 0,void 0,Mt.color,Mt.signalType);break;case"optStart":st(void 0,void 0,Mt.optText,Mt.signalType);break;case"altStart":case"else":st(void 0,void 0,Mt.altText,Mt.signalType);break;case"setAccTitle":(0,M.setAccTitle)(Mt.text);break;case"parStart":case"and":st(void 0,void 0,Mt.parText,Mt.signalType);break;case"criticalStart":st(void 0,void 0,Mt.criticalText,Mt.signalType);break;case"option":st(void 0,void 0,Mt.optionText,Mt.signalType);break;case"breakStart":st(void 0,void 0,Mt.breakText,Mt.signalType)}};const _t={addActor:W,addMessage:K,addSignal:st,addLinks:Yt,addDetails:se,addProperties:Kt,autoWrap:St,setWrap:Ct,enableSequenceNumbers:J,disableSequenceNumbers:Bt,showSequenceNumbers:Tt,getMessages:it,getActors:pt,getActor:ct,getActorKeys:lt,getActorProperty:ue,getAccTitle:M.getAccTitle,getDiagramTitle:M.getDiagramTitle,setDiagramTitle:M.setDiagramTitle,parseDirective:X,getConfig:function(){return a.getConfig().sequence},clear:at,parseMessage:yt,LINETYPE:kt,ARROWTYPE:xt,PLACEMENT:Pt,addNote:mt,setAccTitle:M.setAccTitle,apply:re,setAccDescription:M.setAccDescription,getAccDescription:M.getAccDescription}},"./src/diagrams/sequence/sequenceRenderer.js":(E,C,v)=>{v.r(C),v.d(C,{bounds:()=>X,default:()=>yt,draw:()=>Bt,drawActors:()=>st,drawActorsPopup:()=>it,setConf:()=>pt});var h=v("d3"),a=v("./src/diagrams/sequence/svgDraw.js"),O=v("./src/logger.js"),_=v("./src/diagrams/sequence/parser/sequenceDiagram.jison"),M=v("./src/diagrams/common/common.js"),P=v("./src/diagrams/sequence/sequenceDb.js"),R=v("./src/config.js"),$=v("./src/utils.js"),F=v("./src/accessibility.js");_.parser.yy=P.default;var j={},X={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:function(){return Math.max.apply(null,this.actors.length===0?[0]:this.actors.map(function(kt){return kt.height||0}))+(this.loops.length===0?0:this.loops.map(function(kt){return kt.height||0}).reduce(function(kt,xt){return kt+xt}))+(this.messages.length===0?0:this.messages.map(function(kt){return kt.height||0}).reduce(function(kt,xt){return kt+xt}))+(this.notes.length===0?0:this.notes.map(function(kt){return kt.height||0}).reduce(function(kt,xt){return kt+xt}))},clear:function(){this.actors=[],this.loops=[],this.messages=[],this.notes=[]},addActor:function(kt){this.actors.push(kt)},addLoop:function(kt){this.loops.push(kt)},addMessage:function(kt){this.messages.push(kt)},addNote:function(kt){this.notes.push(kt)},lastActor:function(){return this.actors[this.actors.length-1]},lastLoop:function(){return this.loops[this.loops.length-1]},lastMessage:function(){return this.messages[this.messages.length-1]},lastNote:function(){return this.notes[this.notes.length-1]},actors:[],loops:[],messages:[],notes:[]},init:function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,pt(_.parser.yy.getConfig())},updateVal:function(kt,xt,Pt,mt){kt[xt]===void 0?kt[xt]=Pt:kt[xt]=mt(Pt,kt[xt])},updateBounds:function(kt,xt,Pt,mt){var Yt=this,ne=0;function Qt(Kt){return function(Xt){ne++;var se=Yt.sequenceItems.length-ne+1;Yt.updateVal(Xt,"starty",xt-se*j.boxMargin,Math.min),Yt.updateVal(Xt,"stopy",mt+se*j.boxMargin,Math.max),Yt.updateVal(X.data,"startx",kt-se*j.boxMargin,Math.min),Yt.updateVal(X.data,"stopx",Pt+se*j.boxMargin,Math.max),Kt!=="activation"&&(Yt.updateVal(Xt,"startx",kt-se*j.boxMargin,Math.min),Yt.updateVal(Xt,"stopx",Pt+se*j.boxMargin,Math.max),Yt.updateVal(X.data,"starty",xt-se*j.boxMargin,Math.min),Yt.updateVal(X.data,"stopy",mt+se*j.boxMargin,Math.max))}}this.sequenceItems.forEach(Qt()),this.activations.forEach(Qt("activation"))},insert:function(kt,xt,Pt,mt){var Yt=Math.min(kt,Pt),ne=Math.max(kt,Pt),Qt=Math.min(xt,mt),Kt=Math.max(xt,mt);this.updateVal(X.data,"startx",Yt,Math.min),this.updateVal(X.data,"starty",Qt,Math.min),this.updateVal(X.data,"stopx",ne,Math.max),this.updateVal(X.data,"stopy",Kt,Math.max),this.updateBounds(Yt,Qt,ne,Kt)},newActivation:function(kt,xt,Pt){var mt=Pt[kt.from.actor],Yt=ct(kt.from.actor).length||0,ne=mt.x+mt.width/2+(Yt-1)*j.activationWidth/2;this.activations.push({startx:ne,starty:this.verticalPos+2,stopx:ne+j.activationWidth,stopy:void 0,actor:kt.from.actor,anchored:a.default.anchorElement(xt)})},endActivation:function(kt){var xt=this.activations.map(function(Pt){return Pt.actor}).lastIndexOf(kt.from.actor);return this.activations.splice(xt,1)[0]},createLoop:function(){var kt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{message:void 0,wrap:!1,width:void 0},xt=arguments.length>1?arguments[1]:void 0;return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:kt.message,wrap:kt.wrap,width:kt.width,height:0,fill:xt}},newLoop:function(){var kt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{message:void 0,wrap:!1,width:void 0},xt=arguments.length>1?arguments[1]:void 0;this.sequenceItems.push(this.createLoop(kt,xt))},endLoop:function(){return this.sequenceItems.pop()},addSectionToLoop:function(kt){var xt=this.sequenceItems.pop();xt.sections=xt.sections||[],xt.sectionTitles=xt.sectionTitles||[],xt.sections.push({y:X.getVerticalPos(),height:0}),xt.sectionTitles.push(kt),this.sequenceItems.push(xt)},bumpVerticalPos:function(kt){this.verticalPos=this.verticalPos+kt,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return{bounds:this.data,models:this.models}}},W=function(kt){return{fontFamily:kt.messageFontFamily,fontSize:kt.messageFontSize,fontWeight:kt.messageFontWeight}},V=function(kt){return{fontFamily:kt.noteFontFamily,fontSize:kt.noteFontSize,fontWeight:kt.noteFontWeight}},K=function(kt){return{fontFamily:kt.actorFontFamily,fontSize:kt.actorFontSize,fontWeight:kt.actorFontWeight}},st=function(kt,xt,Pt,mt,Yt,ne){if(Yt.hideUnusedParticipants===!0){var Qt=new Set;ne.forEach(function(ut){Qt.add(ut.from),Qt.add(ut.to)}),Pt=Pt.filter(function(ut){return Qt.has(ut)})}for(var Kt=0,Xt=0,se=0,ue=0;ue<Pt.length;ue++){var re=xt[Pt[ue]];re.width=re.width||j.width,re.height=Math.max(re.height||j.height,j.height),re.margin=re.margin||j.actorMargin,re.x=Kt+Xt,re.y=mt;var _t=a.default.drawActor(kt,re,j);se=Math.max(se,_t),X.insert(re.x,mt,re.x+re.width,re.height),Kt+=re.width,Xt+=re.margin,X.models.addActor(re)}X.bumpVerticalPos(se)},it=function(kt,xt,Pt,mt){for(var Yt=0,ne=0,Qt=0;Qt<Pt.length;Qt++){var Kt=xt[Pt[Qt]],Xt=Ct(Kt),se=a.default.drawPopup(kt,Kt,Xt,j,j.forceMenus,mt);se.height>Yt&&(Yt=se.height),se.width+Kt.x>ne&&(ne=se.width+Kt.x)}return{maxHeight:Yt,maxWidth:ne}},pt=function(kt){(0,$.assignWithDepth)(j,kt),kt.fontFamily&&(j.actorFontFamily=j.noteFontFamily=j.messageFontFamily=kt.fontFamily),kt.fontSize&&(j.actorFontSize=j.noteFontSize=j.messageFontSize=kt.fontSize),kt.fontWeight&&(j.actorFontWeight=j.noteFontWeight=j.messageFontWeight=kt.fontWeight)},ct=function(kt){return X.activations.filter(function(xt){return xt.actor===kt})},lt=function(kt,xt){var Pt=xt[kt],mt=ct(kt);return[mt.reduce(function(Yt,ne){return Math.min(Yt,ne.startx)},Pt.x+Pt.width/2),mt.reduce(function(Yt,ne){return Math.max(Yt,ne.stopx)},Pt.x+Pt.width/2)]};function J(kt,xt,Pt,mt,Yt){X.bumpVerticalPos(Pt);var ne=mt;if(xt.id&&xt.message&&kt[xt.id]){var Qt=kt[xt.id].width,Kt=W(j);xt.message=$.default.wrapLabel("[".concat(xt.message,"]"),Qt-2*j.wrapPadding,Kt),xt.width=Qt,xt.wrap=!0;var Xt=$.default.calculateTextDimensions(xt.message,Kt),se=Math.max(Xt.height,j.labelBoxHeight);ne=mt+se,O.log.debug("".concat(se," - ").concat(xt.message))}Yt(xt),X.bumpVerticalPos(ne)}var Bt=function(kt,xt){j=R.getConfig().sequence;var Pt,mt=R.getConfig().securityLevel;mt==="sandbox"&&(Pt=(0,h.select)("#i"+xt));var Yt=mt==="sandbox"?(0,h.select)(Pt.nodes()[0].contentDocument.body):(0,h.select)("body"),ne=mt==="sandbox"?Pt.nodes()[0].contentDocument:document;_.parser.yy.clear(),_.parser.yy.setWrap(j.wrap),_.parser.parse(kt+`
`),X.init(),O.log.debug("C:".concat(JSON.stringify(j,null,2)));var Qt=mt==="sandbox"?Yt.select('[id="'.concat(xt,'"]')):(0,h.select)('[id="'.concat(xt,'"]')),Kt=_.parser.yy.getActors(),Xt=_.parser.yy.getActorKeys(),se=_.parser.yy.getMessages(),ue=_.parser.yy.getDiagramTitle(),re=Tt(Kt,se);j.height=St(Kt,re),a.default.insertComputerIcon(Qt),a.default.insertDatabaseIcon(Qt),a.default.insertClockIcon(Qt),st(Qt,Kt,Xt,0,j,se);var _t=at(se,Kt);a.default.insertArrowHead(Qt),a.default.insertArrowCrossHead(Qt),a.default.insertArrowFilledHead(Qt),a.default.insertSequenceNumber(Qt);var ut=1,Mt=1,qt=Array();se.forEach(function(Lt){var he,Ht,Se;switch(Lt.type){case _.parser.yy.LINETYPE.NOTE:Ht=Lt.noteModel,function(we,Ue){X.bumpVerticalPos(j.boxMargin),Ue.height=j.boxMargin,Ue.starty=X.getVerticalPos();var We=a.default.getNoteRect();We.x=Ue.startx,We.y=Ue.starty,We.width=Ue.width||j.width,We.class="note";var De=we.append("g"),me=a.default.drawRect(De,We),Oe=a.default.getTextObj();Oe.x=Ue.startx,Oe.y=Ue.starty,Oe.width=We.width,Oe.dy="1em",Oe.text=Ue.message,Oe.class="noteText",Oe.fontFamily=j.noteFontFamily,Oe.fontSize=j.noteFontSize,Oe.fontWeight=j.noteFontWeight,Oe.anchor=j.noteAlign,Oe.textMargin=j.noteMargin,Oe.valign=j.noteAlign;var Pe=(0,a.drawText)(De,Oe),ze=Math.round(Pe.map(function(He){return(He._groups||He)[0][0].getBBox().height}).reduce(function(He,dn){return He+dn}));me.attr("height",ze+2*j.noteMargin),Ue.height+=ze+2*j.noteMargin,X.bumpVerticalPos(ze+2*j.noteMargin),Ue.stopy=Ue.starty+ze+2*j.noteMargin,Ue.stopx=Ue.startx+We.width,X.insert(Ue.startx,Ue.starty,Ue.stopx,Ue.stopy),X.models.addNote(Ue)}(Qt,Ht);break;case _.parser.yy.LINETYPE.ACTIVE_START:X.newActivation(Lt,Qt,Kt);break;case _.parser.yy.LINETYPE.ACTIVE_END:(function(we,Ue){var We=X.endActivation(we);We.starty+18>Ue&&(We.starty=Ue-6,Ue+=12),a.default.drawActivation(Qt,We,Ue,j,ct(we.from.actor).length),X.insert(We.startx,Ue-10,We.stopx,Ue)})(Lt,X.getVerticalPos());break;case _.parser.yy.LINETYPE.LOOP_START:J(_t,Lt,j.boxMargin,j.boxMargin+j.boxTextMargin,function(we){return X.newLoop(we)});break;case _.parser.yy.LINETYPE.LOOP_END:he=X.endLoop(),a.default.drawLoop(Qt,he,"loop",j),X.bumpVerticalPos(he.stopy-X.getVerticalPos()),X.models.addLoop(he);break;case _.parser.yy.LINETYPE.RECT_START:J(_t,Lt,j.boxMargin,j.boxMargin,function(we){return X.newLoop(void 0,we.message)});break;case _.parser.yy.LINETYPE.RECT_END:he=X.endLoop(),a.default.drawBackgroundRect(Qt,he),X.models.addLoop(he),X.bumpVerticalPos(he.stopy-X.getVerticalPos());break;case _.parser.yy.LINETYPE.OPT_START:J(_t,Lt,j.boxMargin,j.boxMargin+j.boxTextMargin,function(we){return X.newLoop(we)});break;case _.parser.yy.LINETYPE.OPT_END:he=X.endLoop(),a.default.drawLoop(Qt,he,"opt",j),X.bumpVerticalPos(he.stopy-X.getVerticalPos()),X.models.addLoop(he);break;case _.parser.yy.LINETYPE.ALT_START:J(_t,Lt,j.boxMargin,j.boxMargin+j.boxTextMargin,function(we){return X.newLoop(we)});break;case _.parser.yy.LINETYPE.ALT_ELSE:J(_t,Lt,j.boxMargin+j.boxTextMargin,j.boxMargin,function(we){return X.addSectionToLoop(we)});break;case _.parser.yy.LINETYPE.ALT_END:he=X.endLoop(),a.default.drawLoop(Qt,he,"alt",j),X.bumpVerticalPos(he.stopy-X.getVerticalPos()),X.models.addLoop(he);break;case _.parser.yy.LINETYPE.PAR_START:J(_t,Lt,j.boxMargin,j.boxMargin+j.boxTextMargin,function(we){return X.newLoop(we)});break;case _.parser.yy.LINETYPE.PAR_AND:J(_t,Lt,j.boxMargin+j.boxTextMargin,j.boxMargin,function(we){return X.addSectionToLoop(we)});break;case _.parser.yy.LINETYPE.PAR_END:he=X.endLoop(),a.default.drawLoop(Qt,he,"par",j),X.bumpVerticalPos(he.stopy-X.getVerticalPos()),X.models.addLoop(he);break;case _.parser.yy.LINETYPE.AUTONUMBER:ut=Lt.message.start||ut,Mt=Lt.message.step||Mt,Lt.message.visible?_.parser.yy.enableSequenceNumbers():_.parser.yy.disableSequenceNumbers();break;case _.parser.yy.LINETYPE.CRITICAL_START:J(_t,Lt,j.boxMargin,j.boxMargin+j.boxTextMargin,function(we){return X.newLoop(we)});break;case _.parser.yy.LINETYPE.CRITICAL_OPTION:J(_t,Lt,j.boxMargin+j.boxTextMargin,j.boxMargin,function(we){return X.addSectionToLoop(we)});break;case _.parser.yy.LINETYPE.CRITICAL_END:he=X.endLoop(),a.default.drawLoop(Qt,he,"critical",j),X.bumpVerticalPos(he.stopy-X.getVerticalPos()),X.models.addLoop(he);break;case _.parser.yy.LINETYPE.BREAK_START:J(_t,Lt,j.boxMargin,j.boxMargin+j.boxTextMargin,function(we){return X.newLoop(we)});break;case _.parser.yy.LINETYPE.BREAK_END:he=X.endLoop(),a.default.drawLoop(Qt,he,"break",j),X.bumpVerticalPos(he.stopy-X.getVerticalPos()),X.models.addLoop(he);break;default:try{(Se=Lt.msgModel).starty=X.getVerticalPos(),Se.sequenceIndex=ut,Se.sequenceVisible=_.parser.yy.showSequenceNumbers();var Te=function(we,Ue){X.bumpVerticalPos(10);var We,De=Ue.startx,me=Ue.stopx,Oe=Ue.message,Pe=M.default.splitBreaks(Oe).length,ze=$.default.calculateTextDimensions(Oe,W(j)),He=ze.height/Pe;Ue.height+=He,X.bumpVerticalPos(He);var dn=ze.height-10,Mn=ze.width;if(De===me){We=X.getVerticalPos()+dn,j.rightAngles||(dn+=j.boxMargin,We=X.getVerticalPos()+dn),dn+=30;var Kn=Math.max(Mn/2,j.width/2);X.insert(De-Kn,X.getVerticalPos()-10+dn,me+Kn,X.getVerticalPos()+30+dn)}else dn+=j.boxMargin,We=X.getVerticalPos()+dn,X.insert(De,We-10,me,We);return X.bumpVerticalPos(dn),Ue.height+=dn,Ue.stopy=Ue.starty+Ue.height,X.insert(Ue.fromBounds,Ue.starty,Ue.toBounds,Ue.stopy),We}(0,Se);qt.push({messageModel:Se,lineStarty:Te}),X.models.addMessage(Se)}catch(we){O.log.error("error while drawing message",we)}}[_.parser.yy.LINETYPE.SOLID_OPEN,_.parser.yy.LINETYPE.DOTTED_OPEN,_.parser.yy.LINETYPE.SOLID,_.parser.yy.LINETYPE.DOTTED,_.parser.yy.LINETYPE.SOLID_CROSS,_.parser.yy.LINETYPE.DOTTED_CROSS,_.parser.yy.LINETYPE.SOLID_POINT,_.parser.yy.LINETYPE.DOTTED_POINT].includes(Lt.type)&&(ut+=Mt)}),qt.forEach(function(Lt){return function(he,Ht,Se){var Te=Ht.startx,we=Ht.stopx,Ue=Ht.starty,We=Ht.message,De=Ht.type,me=Ht.sequenceIndex,Oe=Ht.sequenceVisible,Pe=$.default.calculateTextDimensions(We,W(j)),ze=a.default.getTextObj();ze.x=Te,ze.y=Ue+10,ze.width=we-Te,ze.class="messageText",ze.dy="1em",ze.text=We,ze.fontFamily=j.messageFontFamily,ze.fontSize=j.messageFontSize,ze.fontWeight=j.messageFontWeight,ze.anchor=j.messageAlign,ze.valign=j.messageAlign,ze.textMargin=j.wrapPadding,ze.tspan=!1,(0,a.drawText)(he,ze);var He,dn=Pe.width;Te===we?He=j.rightAngles?he.append("path").attr("d","M  ".concat(Te,",").concat(Se," H ").concat(Te+Math.max(j.width/2,dn/2)," V ").concat(Se+25," H ").concat(Te)):he.append("path").attr("d","M "+Te+","+Se+" C "+(Te+60)+","+(Se-10)+" "+(Te+60)+","+(Se+30)+" "+Te+","+(Se+20)):((He=he.append("line")).attr("x1",Te),He.attr("y1",Se),He.attr("x2",we),He.attr("y2",Se)),De===_.parser.yy.LINETYPE.DOTTED||De===_.parser.yy.LINETYPE.DOTTED_CROSS||De===_.parser.yy.LINETYPE.DOTTED_POINT||De===_.parser.yy.LINETYPE.DOTTED_OPEN?(He.style("stroke-dasharray","3, 3"),He.attr("class","messageLine1")):He.attr("class","messageLine0");var Mn="";j.arrowMarkerAbsolute&&(Mn=(Mn=(Mn=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),He.attr("stroke-width",2),He.attr("stroke","none"),He.style("fill","none"),De!==_.parser.yy.LINETYPE.SOLID&&De!==_.parser.yy.LINETYPE.DOTTED||He.attr("marker-end","url("+Mn+"#arrowhead)"),De!==_.parser.yy.LINETYPE.SOLID_POINT&&De!==_.parser.yy.LINETYPE.DOTTED_POINT||He.attr("marker-end","url("+Mn+"#filled-head)"),De!==_.parser.yy.LINETYPE.SOLID_CROSS&&De!==_.parser.yy.LINETYPE.DOTTED_CROSS||He.attr("marker-end","url("+Mn+"#crosshead)"),(Oe||j.showSequenceNumbers)&&(He.attr("marker-start","url("+Mn+"#sequencenumber)"),he.append("text").attr("x",Te).attr("y",Se+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(me))}(Qt,Lt.messageModel,Lt.lineStarty)}),j.mirrorActors&&(X.bumpVerticalPos(2*j.boxMargin),st(Qt,Kt,Xt,X.getVerticalPos(),j,se),X.bumpVerticalPos(j.boxMargin),(0,a.fixLifeLineHeights)(Qt,X.getVerticalPos()));var Nt=it(Qt,Kt,Xt,ne),Vt=X.getBounds().bounds;O.log.debug("For line height fix Querying: #"+xt+" .actor-line"),(0,h.selectAll)("#"+xt+" .actor-line").attr("y2",Vt.stopy);var Ut=Vt.stopy-Vt.starty;Ut<Nt.maxHeight&&(Ut=Nt.maxHeight);var Wt=Ut+2*j.diagramMarginY;j.mirrorActors&&(Wt=Wt-j.boxMargin+j.bottomMarginAdj);var Ft=Vt.stopx-Vt.startx;Ft<Nt.maxWidth&&(Ft=Nt.maxWidth);var jt=Ft+2*j.diagramMarginX;ue&&Qt.append("text").text(ue).attr("x",(Vt.stopx-Vt.startx)/2-2*j.diagramMarginX).attr("y",-25),(0,$.configureSvgSize)(Qt,Wt,jt,j.useMaxWidth);var ee=ue?40:0;Qt.attr("viewBox",Vt.startx-j.diagramMarginX+" -"+(j.diagramMarginY+ee)+" "+jt+" "+(Wt+ee)),(0,F.default)(_.parser.yy,Qt,xt),O.log.debug("models:",X.models)},Tt=function(kt,xt){var Pt={};return xt.forEach(function(mt){if(kt[mt.to]&&kt[mt.from]){var Yt=kt[mt.to];if(mt.placement===_.parser.yy.PLACEMENT.LEFTOF&&!Yt.prevActor||mt.placement===_.parser.yy.PLACEMENT.RIGHTOF&&!Yt.nextActor)return;var ne=mt.placement!==void 0,Qt=!ne,Kt=ne?V(j):W(j),Xt=mt.wrap?$.default.wrapLabel(mt.message,j.width-2*j.wrapPadding,Kt):mt.message,se=$.default.calculateTextDimensions(Xt,Kt).width+2*j.wrapPadding;Qt&&mt.from===Yt.nextActor?Pt[mt.to]=Math.max(Pt[mt.to]||0,se):Qt&&mt.from===Yt.prevActor?Pt[mt.from]=Math.max(Pt[mt.from]||0,se):Qt&&mt.from===mt.to?(Pt[mt.from]=Math.max(Pt[mt.from]||0,se/2),Pt[mt.to]=Math.max(Pt[mt.to]||0,se/2)):mt.placement===_.parser.yy.PLACEMENT.RIGHTOF?Pt[mt.from]=Math.max(Pt[mt.from]||0,se):mt.placement===_.parser.yy.PLACEMENT.LEFTOF?Pt[Yt.prevActor]=Math.max(Pt[Yt.prevActor]||0,se):mt.placement===_.parser.yy.PLACEMENT.OVER&&(Yt.prevActor&&(Pt[Yt.prevActor]=Math.max(Pt[Yt.prevActor]||0,se/2)),Yt.nextActor&&(Pt[mt.from]=Math.max(Pt[mt.from]||0,se/2)))}}),O.log.debug("maxMessageWidthPerActor:",Pt),Pt},Ct=function(kt){var xt=0,Pt=K(j);for(var mt in kt.links){var Yt=$.default.calculateTextDimensions(mt,Pt).width+2*j.wrapPadding+2*j.boxMargin;xt<Yt&&(xt=Yt)}return xt},St=function(kt,xt){var Pt=0;for(var mt in Object.keys(kt).forEach(function(Kt){var Xt=kt[Kt];Xt.wrap&&(Xt.description=$.default.wrapLabel(Xt.description,j.width-2*j.wrapPadding,K(j)));var se=$.default.calculateTextDimensions(Xt.description,K(j));Xt.width=Xt.wrap?j.width:Math.max(j.width,se.width+2*j.wrapPadding),Xt.height=Xt.wrap?Math.max(se.height,j.height):j.height,Pt=Math.max(Pt,Xt.height)}),xt){var Yt=kt[mt];if(Yt){var ne=kt[Yt.nextActor];if(ne){var Qt=xt[mt]+j.actorMargin-Yt.width/2-ne.width/2;Yt.margin=Math.max(Qt,j.actorMargin)}}}return Math.max(Pt,j.height)},at=function(kt,xt){var Pt,mt,Yt,ne={},Qt=[];return kt.forEach(function(Kt){switch(Kt.id=$.default.random({length:10}),Kt.type){case _.parser.yy.LINETYPE.LOOP_START:case _.parser.yy.LINETYPE.ALT_START:case _.parser.yy.LINETYPE.OPT_START:case _.parser.yy.LINETYPE.PAR_START:case _.parser.yy.LINETYPE.CRITICAL_START:case _.parser.yy.LINETYPE.BREAK_START:Qt.push({id:Kt.id,msg:Kt.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case _.parser.yy.LINETYPE.ALT_ELSE:case _.parser.yy.LINETYPE.PAR_AND:case _.parser.yy.LINETYPE.CRITICAL_OPTION:Kt.message&&(Pt=Qt.pop(),ne[Pt.id]=Pt,ne[Kt.id]=Pt,Qt.push(Pt));break;case _.parser.yy.LINETYPE.LOOP_END:case _.parser.yy.LINETYPE.ALT_END:case _.parser.yy.LINETYPE.OPT_END:case _.parser.yy.LINETYPE.PAR_END:case _.parser.yy.LINETYPE.CRITICAL_END:case _.parser.yy.LINETYPE.BREAK_END:Pt=Qt.pop(),ne[Pt.id]=Pt;break;case _.parser.yy.LINETYPE.ACTIVE_START:var Xt=xt[Kt.from?Kt.from.actor:Kt.to.actor],se=ct(Kt.from?Kt.from.actor:Kt.to.actor).length,ue=Xt.x+Xt.width/2+(se-1)*j.activationWidth/2,re={startx:ue,stopx:ue+j.activationWidth,actor:Kt.from.actor,enabled:!0};X.activations.push(re);break;case _.parser.yy.LINETYPE.ACTIVE_END:var _t=X.activations.map(function(ut){return ut.actor}).lastIndexOf(Kt.from.actor);delete X.activations.splice(_t,1)[0]}Kt.placement!==void 0?(mt=function(ut,Mt){var qt=Mt[ut.from].x,Nt=Mt[ut.to].x,Vt=ut.wrap&&ut.message,Ut=$.default.calculateTextDimensions(Vt?$.default.wrapLabel(ut.message,j.width,V(j)):ut.message,V(j)),Wt={width:Vt?j.width:Math.max(j.width,Ut.width+2*j.noteMargin),height:0,startx:Mt[ut.from].x,stopx:0,starty:0,stopy:0,message:ut.message};return ut.placement===_.parser.yy.PLACEMENT.RIGHTOF?(Wt.width=Vt?Math.max(j.width,Ut.width):Math.max(Mt[ut.from].width/2+Mt[ut.to].width/2,Ut.width+2*j.noteMargin),Wt.startx=qt+(Mt[ut.from].width+j.actorMargin)/2):ut.placement===_.parser.yy.PLACEMENT.LEFTOF?(Wt.width=Math.max(Vt?j.width:Mt[ut.from].width/2+Mt[ut.to].width/2,Ut.width+2*j.noteMargin),Wt.startx=qt-Wt.width+(Mt[ut.from].width-j.actorMargin)/2):ut.to===ut.from?(Ut=$.default.calculateTextDimensions(Vt?$.default.wrapLabel(ut.message,Math.max(j.width,Mt[ut.from].width),V(j)):ut.message,V(j)),Wt.width=Vt?Math.max(j.width,Mt[ut.from].width):Math.max(Mt[ut.from].width,j.width,Ut.width+2*j.noteMargin),Wt.startx=qt+(Mt[ut.from].width-Wt.width)/2):(Wt.width=Math.abs(qt+Mt[ut.from].width/2-(Nt+Mt[ut.to].width/2))+j.actorMargin,Wt.startx=qt<Nt?qt+Mt[ut.from].width/2-j.actorMargin/2:Nt+Mt[ut.to].width/2-j.actorMargin/2),Vt&&(Wt.message=$.default.wrapLabel(ut.message,Wt.width-2*j.wrapPadding,V(j))),O.log.debug("NM:[".concat(Wt.startx,",").concat(Wt.stopx,",").concat(Wt.starty,",").concat(Wt.stopy,":").concat(Wt.width,",").concat(Wt.height,"=").concat(ut.message,"]")),Wt}(Kt,xt),Kt.noteModel=mt,Qt.forEach(function(ut){(Pt=ut).from=Math.min(Pt.from,mt.startx),Pt.to=Math.max(Pt.to,mt.startx+mt.width),Pt.width=Math.max(Pt.width,Math.abs(Pt.from-Pt.to))-j.labelBoxWidth})):(Yt=function(ut,Mt){var qt=!1;if([_.parser.yy.LINETYPE.SOLID_OPEN,_.parser.yy.LINETYPE.DOTTED_OPEN,_.parser.yy.LINETYPE.SOLID,_.parser.yy.LINETYPE.DOTTED,_.parser.yy.LINETYPE.SOLID_CROSS,_.parser.yy.LINETYPE.DOTTED_CROSS,_.parser.yy.LINETYPE.SOLID_POINT,_.parser.yy.LINETYPE.DOTTED_POINT].includes(ut.type)&&(qt=!0),!qt)return{};var Nt=lt(ut.from,Mt),Vt=lt(ut.to,Mt),Ut=Nt[0]<=Vt[0]?1:0,Wt=Nt[0]<Vt[0]?0:1,Ft=Nt.concat(Vt),jt=Math.abs(Vt[Wt]-Nt[Ut]);ut.wrap&&ut.message&&(ut.message=$.default.wrapLabel(ut.message,Math.max(jt+2*j.wrapPadding,j.width),W(j)));var ee=$.default.calculateTextDimensions(ut.message,W(j));return{width:Math.max(ut.wrap?0:ee.width+2*j.wrapPadding,jt+2*j.wrapPadding,j.width),height:0,startx:Nt[Ut],stopx:Vt[Wt],starty:0,stopy:0,message:ut.message,type:ut.type,wrap:ut.wrap,fromBounds:Math.min.apply(null,Ft),toBounds:Math.max.apply(null,Ft)}}(Kt,xt),Kt.msgModel=Yt,Yt.startx&&Yt.stopx&&Qt.length>0&&Qt.forEach(function(ut){if(Pt=ut,Yt.startx===Yt.stopx){var Mt=xt[Kt.from],qt=xt[Kt.to];Pt.from=Math.min(Mt.x-Yt.width/2,Mt.x-Mt.width/2,Pt.from),Pt.to=Math.max(qt.x+Yt.width/2,qt.x+Mt.width/2,Pt.to),Pt.width=Math.max(Pt.width,Math.abs(Pt.to-Pt.from))-j.labelBoxWidth}else Pt.from=Math.min(Yt.startx,Pt.from),Pt.to=Math.max(Yt.stopx,Pt.to),Pt.width=Math.max(Pt.width,Yt.width)-j.labelBoxWidth}))}),X.activations=[],O.log.debug("Loop type widths:",ne),ne};const yt={bounds:X,drawActors:st,drawActorsPopup:it,setConf:pt,draw:Bt}},"./src/diagrams/sequence/styles.js":(E,C,v)=>{v.r(C),v.d(C,{default:()=>h});const h=function(a){return`.actor {
    stroke: `.concat(a.actorBorder,`;
    fill: `).concat(a.actorBkg,`;
  }

  text.actor > tspan {
    fill: `).concat(a.actorTextColor,`;
    stroke: none;
  }

  .actor-line {
    stroke: `).concat(a.actorLineColor,`;
  }

  .messageLine0 {
    stroke-width: 1.5;
    stroke-dasharray: none;
    stroke: `).concat(a.signalColor,`;
  }

  .messageLine1 {
    stroke-width: 1.5;
    stroke-dasharray: 2, 2;
    stroke: `).concat(a.signalColor,`;
  }

  #arrowhead path {
    fill: `).concat(a.signalColor,`;
    stroke: `).concat(a.signalColor,`;
  }

  .sequenceNumber {
    fill: `).concat(a.sequenceNumberColor,`;
  }

  #sequencenumber {
    fill: `).concat(a.signalColor,`;
  }

  #crosshead path {
    fill: `).concat(a.signalColor,`;
    stroke: `).concat(a.signalColor,`;
  }

  .messageText {
    fill: `).concat(a.signalTextColor,`;
    stroke: `).concat(a.signalTextColor,`;
  }

  .labelBox {
    stroke: `).concat(a.labelBoxBorderColor,`;
    fill: `).concat(a.labelBoxBkgColor,`;
  }

  .labelText, .labelText > tspan {
    fill: `).concat(a.labelTextColor,`;
    stroke: none;
  }

  .loopText, .loopText > tspan {
    fill: `).concat(a.loopTextColor,`;
    stroke: none;
  }

  .loopLine {
    stroke-width: 2px;
    stroke-dasharray: 2, 2;
    stroke: `).concat(a.labelBoxBorderColor,`;
    fill: `).concat(a.labelBoxBorderColor,`;
  }

  .note {
    //stroke: #decc93;
    stroke: `).concat(a.noteBorderColor,`;
    fill: `).concat(a.noteBkgColor,`;
  }

  .noteText, .noteText > tspan {
    fill: `).concat(a.noteTextColor,`;
    stroke: none;
  }

  .activation0 {
    fill: `).concat(a.activationBkgColor,`;
    stroke: `).concat(a.activationBorderColor,`;
  }

  .activation1 {
    fill: `).concat(a.activationBkgColor,`;
    stroke: `).concat(a.activationBorderColor,`;
  }

  .activation2 {
    fill: `).concat(a.activationBkgColor,`;
    stroke: `).concat(a.activationBorderColor,`;
  }

  .actorPopupMenu {
    position: absolute;
  }

  .actorPopupMenuPanel {
    position: absolute;
    fill: `).concat(a.actorBkg,`;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));
}
  .actor-man line {
    stroke: `).concat(a.actorBorder,`;
    fill: `).concat(a.actorBkg,`;
  }
  .actor-man circle, line {
    stroke: `).concat(a.actorBorder,`;
    fill: `).concat(a.actorBkg,`;
    stroke-width: 2px;
  }
`)}},"./src/diagrams/sequence/svgDraw.js":(E,C,v)=>{v.r(C),v.d(C,{anchorElement:()=>ct,default:()=>Qt,drawActivation:()=>lt,drawActor:()=>pt,drawBackgroundRect:()=>Bt,drawEmbeddedImage:()=>$,drawImage:()=>R,drawLabel:()=>K,drawLoop:()=>J,drawPopup:()=>P,drawRect:()=>_,drawText:()=>V,fixLifeLineHeights:()=>it,getNoteRect:()=>mt,getTextObj:()=>Pt,insertArrowCrossHead:()=>xt,insertArrowFilledHead:()=>yt,insertArrowHead:()=>at,insertClockIcon:()=>St,insertComputerIcon:()=>Ct,insertDatabaseIcon:()=>Tt,insertSequenceNumber:()=>kt,popdownMenu:()=>j,popupMenu:()=>F});var h=v("./src/diagrams/common/common.js"),a=v("./src/interactionDb.js"),O=v("@braintree/sanitize-url"),_=function(Kt,Xt){var se=Kt.append("rect");return se.attr("x",Xt.x),se.attr("y",Xt.y),se.attr("fill",Xt.fill),se.attr("stroke",Xt.stroke),se.attr("width",Xt.width),se.attr("height",Xt.height),se.attr("rx",Xt.rx),se.attr("ry",Xt.ry),Xt.class!==void 0&&se.attr("class",Xt.class),se},M=function(Kt,Xt){(0,a.addFunction)(function(){var se=document.querySelectorAll(Kt);se.length!==0&&(se[0].addEventListener("mouseover",function(){X("actor"+Xt+"_popup")}),se[0].addEventListener("mouseout",function(){W("actor"+Xt+"_popup")}))})},P=function(Kt,Xt,se,ue,re){if(Xt.links===void 0||Xt.links===null||Object.keys(Xt.links).length===0)return{height:0,width:0};var _t=Xt.links,ut=Xt.actorCnt,Mt=Xt.rectData,qt="none";re&&(qt="block !important");var Nt=Kt.append("g");Nt.attr("id","actor"+ut+"_popup"),Nt.attr("class","actorPopupMenu"),Nt.attr("display",qt),M("#actor"+ut+"_popup",ut);var Vt="";Mt.class!==void 0&&(Vt=" "+Mt.class);var Ut=Mt.width>se?Mt.width:se,Wt=Nt.append("rect");if(Wt.attr("class","actorPopupMenuPanel"+Vt),Wt.attr("x",Mt.x),Wt.attr("y",Mt.height),Wt.attr("fill",Mt.fill),Wt.attr("stroke",Mt.stroke),Wt.attr("width",Ut),Wt.attr("height",Mt.height),Wt.attr("rx",Mt.rx),Wt.attr("ry",Mt.ry),_t!=null){var Ft=20;for(var jt in _t){var ee=Nt.append("a"),Lt=(0,O.sanitizeUrl)(_t[jt]);ee.attr("xlink:href",Lt),ee.attr("target","_blank"),ne(ue)(jt,ee,Mt.x+10,Mt.height+Ft,Ut,20,{class:"actor"},ue),Ft+=30}}return Wt.attr("height",Ft),{height:Mt.height+Ft,width:Ut}},R=function(Kt,Xt,se,ue){var re=Kt.append("image");re.attr("x",Xt),re.attr("y",se);var _t=(0,O.sanitizeUrl)(ue);re.attr("xlink:href",_t)},$=function(Kt,Xt,se,ue){var re=Kt.append("use");re.attr("x",Xt),re.attr("y",se);var _t=(0,O.sanitizeUrl)(ue);re.attr("xlink:href","#"+_t)},F=function(Kt){return"var pu = document.getElementById('"+Kt+"'); if (pu != null) { pu.style.display = 'block'; }"},j=function(Kt){return"var pu = document.getElementById('"+Kt+"'); if (pu != null) { pu.style.display = 'none'; }"},X=function(Kt){var Xt=document.getElementById(Kt);Xt!=null&&(Xt.style.display="block")},W=function(Kt){var Xt=document.getElementById(Kt);Xt!=null&&(Xt.style.display="none")},V=function(Kt,Xt){var se=0,ue=0,re=Xt.text.split(h.default.lineBreakRegex),_t=[],ut=0,Mt=function(){return Xt.y};if(Xt.valign!==void 0&&Xt.textMargin!==void 0&&Xt.textMargin>0)switch(Xt.valign){case"top":case"start":Mt=function(){return Math.round(Xt.y+Xt.textMargin)};break;case"middle":case"center":Mt=function(){return Math.round(Xt.y+(se+ue+Xt.textMargin)/2)};break;case"bottom":case"end":Mt=function(){return Math.round(Xt.y+(se+ue+2*Xt.textMargin)-Xt.textMargin)}}if(Xt.anchor!==void 0&&Xt.textMargin!==void 0&&Xt.width!==void 0)switch(Xt.anchor){case"left":case"start":Xt.x=Math.round(Xt.x+Xt.textMargin),Xt.anchor="start",Xt.dominantBaseline="text-after-edge",Xt.alignmentBaseline="middle";break;case"middle":case"center":Xt.x=Math.round(Xt.x+Xt.width/2),Xt.anchor="middle",Xt.dominantBaseline="middle",Xt.alignmentBaseline="middle";break;case"right":case"end":Xt.x=Math.round(Xt.x+Xt.width-Xt.textMargin),Xt.anchor="end",Xt.dominantBaseline="text-before-edge",Xt.alignmentBaseline="middle"}for(var qt=0;qt<re.length;qt++){var Nt=re[qt];Xt.textMargin!==void 0&&Xt.textMargin===0&&Xt.fontSize!==void 0&&(ut=qt*Xt.fontSize);var Vt=Kt.append("text");if(Vt.attr("x",Xt.x),Vt.attr("y",Mt()),Xt.anchor!==void 0&&Vt.attr("text-anchor",Xt.anchor).attr("dominant-baseline",Xt.dominantBaseline).attr("alignment-baseline",Xt.alignmentBaseline),Xt.fontFamily!==void 0&&Vt.style("font-family",Xt.fontFamily),Xt.fontSize!==void 0&&Vt.style("font-size",Xt.fontSize),Xt.fontWeight!==void 0&&Vt.style("font-weight",Xt.fontWeight),Xt.fill!==void 0&&Vt.attr("fill",Xt.fill),Xt.class!==void 0&&Vt.attr("class",Xt.class),Xt.dy!==void 0?Vt.attr("dy",Xt.dy):ut!==0&&Vt.attr("dy",ut),Xt.tspan){var Ut=Vt.append("tspan");Ut.attr("x",Xt.x),Xt.fill!==void 0&&Ut.attr("fill",Xt.fill),Ut.text(Nt)}else Vt.text(Nt);Xt.valign!==void 0&&Xt.textMargin!==void 0&&Xt.textMargin>0&&(ue+=(Vt._groups||Vt)[0][0].getBBox().height,se=ue),_t.push(Vt)}return _t},K=function(Kt,Xt){var se,ue,re,_t,ut=Kt.append("polygon");return ut.attr("points",(se=Xt.x)+","+(ue=Xt.y)+" "+(se+(re=Xt.width))+","+ue+" "+(se+re)+","+(ue+(_t=Xt.height)-7)+" "+(se+re-8.4)+","+(ue+_t)+" "+se+","+(ue+_t)),ut.attr("class","labelBox"),Xt.y=Xt.y+Xt.height/2,V(Kt,Xt),ut},st=-1,it=function(Kt,Xt){Kt.selectAll&&Kt.selectAll(".actor-line").attr("class","200").attr("y2",Xt-55)},pt=function(Kt,Xt,se){switch(Xt.type){case"actor":return function(ue,re,_t){var ut=re.x+re.width/2;re.y===0&&(st++,ue.append("line").attr("id","actor"+st).attr("x1",ut).attr("y1",80).attr("x2",ut).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"));var Mt=ue.append("g");Mt.attr("class","actor-man");var qt=mt();qt.x=re.x,qt.y=re.y,qt.fill="#eaeaea",qt.width=re.width,qt.height=re.height,qt.class="actor",qt.rx=3,qt.ry=3,Mt.append("line").attr("id","actor-man-torso"+st).attr("x1",ut).attr("y1",re.y+25).attr("x2",ut).attr("y2",re.y+45),Mt.append("line").attr("id","actor-man-arms"+st).attr("x1",ut-18).attr("y1",re.y+33).attr("x2",ut+18).attr("y2",re.y+33),Mt.append("line").attr("x1",ut-18).attr("y1",re.y+60).attr("x2",ut).attr("y2",re.y+45),Mt.append("line").attr("x1",ut).attr("y1",re.y+45).attr("x2",ut+16).attr("y2",re.y+60);var Nt=Mt.append("circle");Nt.attr("cx",re.x+re.width/2),Nt.attr("cy",re.y+10),Nt.attr("r",15),Nt.attr("width",re.width),Nt.attr("height",re.height);var Vt=Mt.node().getBBox();return re.height=Vt.height,Yt(_t)(re.description,Mt,qt.x,qt.y+35,qt.width,qt.height,{class:"actor"},_t),re.height}(Kt,Xt,se);case"participant":return function(ue,re,_t){var ut=re.x+re.width/2,Mt=ue.append("g"),qt=Mt;re.y===0&&(st++,qt.append("line").attr("id","actor"+st).attr("x1",ut).attr("y1",5).attr("x2",ut).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"),qt=Mt.append("g"),re.actorCnt=st,re.links!=null&&(qt.attr("id","root-"+st),M("#root-"+st,st)));var Nt=mt(),Vt="actor";re.properties!=null&&re.properties.class?Vt=re.properties.class:Nt.fill="#eaeaea",Nt.x=re.x,Nt.y=re.y,Nt.width=re.width,Nt.height=re.height,Nt.class=Vt,Nt.rx=3,Nt.ry=3;var Ut=_(qt,Nt);if(re.rectData=Nt,re.properties!=null&&re.properties.icon){var Wt=re.properties.icon.trim();Wt.charAt(0)==="@"?$(qt,Nt.x+Nt.width-20,Nt.y+10,Wt.substr(1)):R(qt,Nt.x+Nt.width-20,Nt.y+10,Wt)}Yt(_t)(re.description,qt,Nt.x,Nt.y,Nt.width,Nt.height,{class:"actor"},_t);var Ft=re.height;if(Ut.node){var jt=Ut.node().getBBox();re.height=jt.height,Ft=jt.height}return Ft}(Kt,Xt,se)}},ct=function(Kt){return Kt.append("g")},lt=function(Kt,Xt,se,ue,re){var _t=mt(),ut=Xt.anchored;_t.x=Xt.startx,_t.y=Xt.starty,_t.class="activation"+re%3,_t.width=Xt.stopx-Xt.startx,_t.height=se-Xt.starty,_(ut,_t)},J=function(Kt,Xt,se,ue){var re=ue.boxMargin,_t=ue.boxTextMargin,ut=ue.labelBoxHeight,Mt=ue.labelBoxWidth,qt=ue.messageFontFamily,Nt=ue.messageFontSize,Vt=ue.messageFontWeight,Ut=Kt.append("g"),Wt=function(ee,Lt,he,Ht){return Ut.append("line").attr("x1",ee).attr("y1",Lt).attr("x2",he).attr("y2",Ht).attr("class","loopLine")};Wt(Xt.startx,Xt.starty,Xt.stopx,Xt.starty),Wt(Xt.stopx,Xt.starty,Xt.stopx,Xt.stopy),Wt(Xt.startx,Xt.stopy,Xt.stopx,Xt.stopy),Wt(Xt.startx,Xt.starty,Xt.startx,Xt.stopy),Xt.sections!==void 0&&Xt.sections.forEach(function(ee){Wt(Xt.startx,ee.y,Xt.stopx,ee.y).style("stroke-dasharray","3, 3")});var Ft=Pt();Ft.text=se,Ft.x=Xt.startx,Ft.y=Xt.starty,Ft.fontFamily=qt,Ft.fontSize=Nt,Ft.fontWeight=Vt,Ft.anchor="middle",Ft.valign="middle",Ft.tspan=!1,Ft.width=Mt||50,Ft.height=ut||20,Ft.textMargin=_t,Ft.class="labelText",K(Ut,Ft),(Ft=Pt()).text=Xt.title,Ft.x=Xt.startx+Mt/2+(Xt.stopx-Xt.startx)/2,Ft.y=Xt.starty+re+_t,Ft.anchor="middle",Ft.valign="middle",Ft.textMargin=_t,Ft.class="loopText",Ft.fontFamily=qt,Ft.fontSize=Nt,Ft.fontWeight=Vt,Ft.wrap=!0;var jt=V(Ut,Ft);return Xt.sectionTitles!==void 0&&Xt.sectionTitles.forEach(function(ee,Lt){if(ee.message){Ft.text=ee.message,Ft.x=Xt.startx+(Xt.stopx-Xt.startx)/2,Ft.y=Xt.sections[Lt].y+re+_t,Ft.class="loopText",Ft.anchor="middle",Ft.valign="middle",Ft.tspan=!1,Ft.fontFamily=qt,Ft.fontSize=Nt,Ft.fontWeight=Vt,Ft.wrap=Xt.wrap,jt=V(Ut,Ft);var he=Math.round(jt.map(function(Ht){return(Ht._groups||Ht)[0][0].getBBox().height}).reduce(function(Ht,Se){return Ht+Se}));Xt.sections[Lt].height+=he-(re+_t)}}),Xt.height=Math.round(Xt.stopy-Xt.starty),Ut},Bt=function(Kt,Xt){_(Kt,{x:Xt.startx,y:Xt.starty,width:Xt.stopx-Xt.startx,height:Xt.stopy-Xt.starty,fill:Xt.fill,class:"rect"}).lower()},Tt=function(Kt){Kt.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},Ct=function(Kt){Kt.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},St=function(Kt){Kt.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},at=function(Kt){Kt.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},yt=function(Kt){Kt.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},kt=function(Kt){Kt.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},xt=function(Kt){var Xt=Kt.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);Xt.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),Xt.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},Pt=function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},mt=function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},Yt=function(){function Kt(re,_t,ut,Mt,qt,Nt,Vt){ue(_t.append("text").attr("x",ut+qt/2).attr("y",Mt+Nt/2+5).style("text-anchor","middle").text(re),Vt)}function Xt(re,_t,ut,Mt,qt,Nt,Vt,Ut){for(var Wt=Ut.actorFontSize,Ft=Ut.actorFontFamily,jt=Ut.actorFontWeight,ee=re.split(h.default.lineBreakRegex),Lt=0;Lt<ee.length;Lt++){var he=Lt*Wt-Wt*(ee.length-1)/2,Ht=_t.append("text").attr("x",ut+qt/2).attr("y",Mt).style("text-anchor","middle").style("font-size",Wt).style("font-weight",jt).style("font-family",Ft);Ht.append("tspan").attr("x",ut+qt/2).attr("dy",he).text(ee[Lt]),Ht.attr("y",Mt+Nt/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),ue(Ht,Vt)}}function se(re,_t,ut,Mt,qt,Nt,Vt,Ut){var Wt=_t.append("switch"),Ft=Wt.append("foreignObject").attr("x",ut).attr("y",Mt).attr("width",qt).attr("height",Nt).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");Ft.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(re),Xt(re,Wt,ut,Mt,qt,Nt,Vt,Ut),ue(Ft,Vt)}function ue(re,_t){for(var ut in _t)_t.hasOwnProperty(ut)&&re.attr(ut,_t[ut])}return function(re){return re.textPlacement==="fo"?se:re.textPlacement==="old"?Kt:Xt}}(),ne=function(){function Kt(re,_t,ut,Mt,qt,Nt,Vt){ue(_t.append("text").attr("x",ut).attr("y",Mt).style("text-anchor","start").text(re),Vt)}function Xt(re,_t,ut,Mt,qt,Nt,Vt,Ut){for(var Wt=Ut.actorFontSize,Ft=Ut.actorFontFamily,jt=Ut.actorFontWeight,ee=re.split(h.default.lineBreakRegex),Lt=0;Lt<ee.length;Lt++){var he=Lt*Wt-Wt*(ee.length-1)/2,Ht=_t.append("text").attr("x",ut).attr("y",Mt).style("text-anchor","start").style("font-size",Wt).style("font-weight",jt).style("font-family",Ft);Ht.append("tspan").attr("x",ut).attr("dy",he).text(ee[Lt]),Ht.attr("y",Mt+Nt/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),ue(Ht,Vt)}}function se(re,_t,ut,Mt,qt,Nt,Vt,Ut){var Wt=_t.append("switch"),Ft=Wt.append("foreignObject").attr("x",ut).attr("y",Mt).attr("width",qt).attr("height",Nt).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");Ft.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(re),Xt(re,Wt,ut,Mt,0,Nt,Vt,Ut),ue(Ft,Vt)}function ue(re,_t){for(var ut in _t)_t.hasOwnProperty(ut)&&re.attr(ut,_t[ut])}return function(re){return re.textPlacement==="fo"?se:re.textPlacement==="old"?Kt:Xt}}();const Qt={drawRect:_,drawText:V,drawLabel:K,drawActor:pt,drawPopup:P,drawImage:R,drawEmbeddedImage:$,anchorElement:ct,drawActivation:lt,drawLoop:J,drawBackgroundRect:Bt,insertArrowHead:at,insertArrowFilledHead:yt,insertSequenceNumber:kt,insertArrowCrossHead:xt,insertDatabaseIcon:Tt,insertComputerIcon:Ct,insertClockIcon:St,getTextObj:Pt,getNoteRect:mt,popupMenu:F,popdownMenu:j,fixLifeLineHeights:it,sanitizeUrl:O.sanitizeUrl}},"./src/diagrams/state/id-cache.js":(E,C,v)=>{v.r(C),v.d(C,{default:()=>P,get:()=>O,keys:()=>_,set:()=>a,size:()=>M});var h={},a=function(R,$){h[R]=$},O=function(R){return h[R]},_=function(){return Object.keys(h)},M=function(){return _().length};const P={get:O,set:a,keys:_,size:M}},"./src/diagrams/state/shapes.js":(E,C,v)=>{v.r(C),v.d(C,{addTitleAndBox:()=>V,drawDescrState:()=>W,drawDivider:()=>j,drawEdge:()=>ct,drawNote:()=>st,drawSimpleState:()=>X,drawStartState:()=>F,drawState:()=>it,drawText:()=>K});var h=v("d3"),a=v("./src/diagrams/state/id-cache.js"),O=v("./src/diagrams/state/stateDb.js"),_=v("./src/utils.js"),M=v("./src/diagrams/common/common.js"),P=v("./src/config.js"),R=v("./src/logger.js");function $(lt,J){(J==null||J>lt.length)&&(J=lt.length);for(var Bt=0,Tt=new Array(J);Bt<J;Bt++)Tt[Bt]=lt[Bt];return Tt}var F=function(lt){return lt.append("circle").attr("class","start-state").attr("r",(0,P.getConfig)().state.sizeUnit).attr("cx",(0,P.getConfig)().state.padding+(0,P.getConfig)().state.sizeUnit).attr("cy",(0,P.getConfig)().state.padding+(0,P.getConfig)().state.sizeUnit)},j=function(lt){return lt.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",(0,P.getConfig)().state.textHeight).attr("class","divider").attr("x2",2*(0,P.getConfig)().state.textHeight).attr("y1",0).attr("y2",0)},X=function(lt,J){var Bt=lt.append("text").attr("x",2*(0,P.getConfig)().state.padding).attr("y",(0,P.getConfig)().state.textHeight+2*(0,P.getConfig)().state.padding).attr("font-size",(0,P.getConfig)().state.fontSize).attr("class","state-title").text(J.id),Tt=Bt.node().getBBox();return lt.insert("rect",":first-child").attr("x",(0,P.getConfig)().state.padding).attr("y",(0,P.getConfig)().state.padding).attr("width",Tt.width+2*(0,P.getConfig)().state.padding).attr("height",Tt.height+2*(0,P.getConfig)().state.padding).attr("rx",(0,P.getConfig)().state.radius),Bt},W=function(lt,J){var Bt=lt.append("text").attr("x",2*(0,P.getConfig)().state.padding).attr("y",(0,P.getConfig)().state.textHeight+1.3*(0,P.getConfig)().state.padding).attr("font-size",(0,P.getConfig)().state.fontSize).attr("class","state-title").text(J.descriptions[0]).node().getBBox(),Tt=Bt.height,Ct=lt.append("text").attr("x",(0,P.getConfig)().state.padding).attr("y",Tt+.4*(0,P.getConfig)().state.padding+(0,P.getConfig)().state.dividerMargin+(0,P.getConfig)().state.textHeight).attr("class","state-description"),St=!0,at=!0;J.descriptions.forEach(function(Pt){St||(function(mt,Yt,ne){var Qt=mt.append("tspan").attr("x",2*(0,P.getConfig)().state.padding).text(Yt);ne||Qt.attr("dy",(0,P.getConfig)().state.textHeight)}(Ct,Pt,at),at=!1),St=!1});var yt=lt.append("line").attr("x1",(0,P.getConfig)().state.padding).attr("y1",(0,P.getConfig)().state.padding+Tt+(0,P.getConfig)().state.dividerMargin/2).attr("y2",(0,P.getConfig)().state.padding+Tt+(0,P.getConfig)().state.dividerMargin/2).attr("class","descr-divider"),kt=Ct.node().getBBox(),xt=Math.max(kt.width,Bt.width);return yt.attr("x2",xt+3*(0,P.getConfig)().state.padding),lt.insert("rect",":first-child").attr("x",(0,P.getConfig)().state.padding).attr("y",(0,P.getConfig)().state.padding).attr("width",xt+2*(0,P.getConfig)().state.padding).attr("height",kt.height+Tt+2*(0,P.getConfig)().state.padding).attr("rx",(0,P.getConfig)().state.radius),lt},V=function(lt,J,Bt){var Tt,Ct=(0,P.getConfig)().state.padding,St=2*(0,P.getConfig)().state.padding,at=lt.node().getBBox(),yt=at.width,kt=at.x,xt=lt.append("text").attr("x",0).attr("y",(0,P.getConfig)().state.titleShift).attr("font-size",(0,P.getConfig)().state.fontSize).attr("class","state-title").text(J.id),Pt=xt.node().getBBox().width+St,mt=Math.max(Pt,yt);mt===yt&&(mt+=St);var Yt=lt.node().getBBox();J.doc,Tt=kt-Ct,Pt>yt&&(Tt=(yt-mt)/2+Ct),Math.abs(kt-Yt.x)<Ct&&Pt>yt&&(Tt=kt-(Pt-yt)/2);var ne=1-(0,P.getConfig)().state.textHeight;return lt.insert("rect",":first-child").attr("x",Tt).attr("y",ne).attr("class",Bt?"alt-composit":"composit").attr("width",mt).attr("height",Yt.height+(0,P.getConfig)().state.textHeight+(0,P.getConfig)().state.titleShift+1).attr("rx","0"),xt.attr("x",Tt+Ct),Pt<=yt&&xt.attr("x",kt+(mt-St)/2-Pt/2+Ct),lt.insert("rect",":first-child").attr("x",Tt).attr("y",(0,P.getConfig)().state.titleShift-(0,P.getConfig)().state.textHeight-(0,P.getConfig)().state.padding).attr("width",mt).attr("height",3*(0,P.getConfig)().state.textHeight).attr("rx",(0,P.getConfig)().state.radius),lt.insert("rect",":first-child").attr("x",Tt).attr("y",(0,P.getConfig)().state.titleShift-(0,P.getConfig)().state.textHeight-(0,P.getConfig)().state.padding).attr("width",mt).attr("height",Yt.height+3+2*(0,P.getConfig)().state.textHeight).attr("rx",(0,P.getConfig)().state.radius),lt},K=function(lt,J){var Bt=J.text.replace(M.default.lineBreakRegex," "),Tt=lt.append("text");Tt.attr("x",J.x),Tt.attr("y",J.y),Tt.style("text-anchor",J.anchor),Tt.attr("fill",J.fill),J.class!==void 0&&Tt.attr("class",J.class);var Ct=Tt.append("tspan");return Ct.attr("x",J.x+2*J.textMargin),Ct.attr("fill",J.fill),Ct.text(Bt),Tt},st=function(lt,J){J.attr("class","state-note");var Bt=J.append("rect").attr("x",0).attr("y",(0,P.getConfig)().state.padding),Tt=function(at,yt,kt,xt){var Pt=0,mt=xt.append("text");mt.style("text-anchor","start"),mt.attr("class","noteText");var Yt,ne=at.replace(/\r\n/g,"<br/>"),Qt=(ne=ne.replace(/\n/g,"<br/>")).split(M.default.lineBreakRegex),Kt=1.25*(0,P.getConfig)().state.noteMargin,Xt=function(re,_t){var ut=typeof Symbol!="undefined"&&re[Symbol.iterator]||re["@@iterator"];if(!ut){if(Array.isArray(re)||(ut=function(Wt,Ft){if(Wt){if(typeof Wt=="string")return $(Wt,Ft);var jt=Object.prototype.toString.call(Wt).slice(8,-1);return jt==="Object"&&Wt.constructor&&(jt=Wt.constructor.name),jt==="Map"||jt==="Set"?Array.from(Wt):jt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(jt)?$(Wt,Ft):void 0}}(re))||_t&&re&&typeof re.length=="number"){ut&&(re=ut);var Mt=0,qt=function(){};return{s:qt,n:function(){return Mt>=re.length?{done:!0}:{done:!1,value:re[Mt++]}},e:function(Wt){throw Wt},f:qt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Nt,Vt=!0,Ut=!1;return{s:function(){ut=ut.call(re)},n:function(){var Wt=ut.next();return Vt=Wt.done,Wt},e:function(Wt){Ut=!0,Nt=Wt},f:function(){try{Vt||ut.return==null||ut.return()}finally{if(Ut)throw Nt}}}}(Qt);try{for(Xt.s();!(Yt=Xt.n()).done;){var se=Yt.value.trim();if(se.length>0){var ue=mt.append("tspan");ue.text(se),Kt===0&&(Kt+=ue.node().getBBox().height),Pt+=Kt,ue.attr("x",0+(0,P.getConfig)().state.noteMargin),ue.attr("y",0+Pt+1.25*(0,P.getConfig)().state.noteMargin)}}}catch(re){Xt.e(re)}finally{Xt.f()}return{textWidth:mt.node().getBBox().width,textHeight:Pt}}(lt,0,0,J.append("g")),Ct=Tt.textWidth,St=Tt.textHeight;return Bt.attr("height",St+2*(0,P.getConfig)().state.noteMargin),Bt.attr("width",Ct+2*(0,P.getConfig)().state.noteMargin),Bt},it=function(lt,J){var Bt=J.id,Tt={id:Bt,label:J.id,width:0,height:0},Ct=lt.append("g").attr("id",Bt).attr("class","stateGroup");J.type==="start"&&F(Ct),J.type==="end"&&function(at){at.append("circle").attr("class","end-state-outer").attr("r",(0,P.getConfig)().state.sizeUnit+(0,P.getConfig)().state.miniPadding).attr("cx",(0,P.getConfig)().state.padding+(0,P.getConfig)().state.sizeUnit+(0,P.getConfig)().state.miniPadding).attr("cy",(0,P.getConfig)().state.padding+(0,P.getConfig)().state.sizeUnit+(0,P.getConfig)().state.miniPadding),at.append("circle").attr("class","end-state-inner").attr("r",(0,P.getConfig)().state.sizeUnit).attr("cx",(0,P.getConfig)().state.padding+(0,P.getConfig)().state.sizeUnit+2).attr("cy",(0,P.getConfig)().state.padding+(0,P.getConfig)().state.sizeUnit+2)}(Ct),J.type!=="fork"&&J.type!=="join"||function(at,yt){var kt=(0,P.getConfig)().state.forkWidth,xt=(0,P.getConfig)().state.forkHeight;if(yt.parentId){var Pt=kt;kt=xt,xt=Pt}at.append("rect").style("stroke","black").style("fill","black").attr("width",kt).attr("height",xt).attr("x",(0,P.getConfig)().state.padding).attr("y",(0,P.getConfig)().state.padding)}(Ct,J),J.type==="note"&&st(J.note.text,Ct),J.type==="divider"&&j(Ct),J.type==="default"&&J.descriptions.length===0&&X(Ct,J),J.type==="default"&&J.descriptions.length>0&&W(Ct,J);var St=Ct.node().getBBox();return Tt.width=St.width+2*(0,P.getConfig)().state.padding,Tt.height=St.height+2*(0,P.getConfig)().state.padding,a.default.set(Bt,Tt),Tt},pt=0,ct=function(lt,J,Bt){J.points=J.points.filter(function(qt){return!Number.isNaN(qt.y)});var Tt=J.points,Ct=(0,h.line)().x(function(qt){return qt.x}).y(function(qt){return qt.y}).curve(h.curveBasis),St=lt.append("path").attr("d",Ct(Tt)).attr("id","edge"+pt).attr("class","transition"),at="";if((0,P.getConfig)().state.arrowMarkerAbsolute&&(at=(at=(at=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),St.attr("marker-end","url("+at+"#"+function(qt){switch(qt){case O.default.relationType.AGGREGATION:return"aggregation";case O.default.relationType.EXTENSION:return"extension";case O.default.relationType.COMPOSITION:return"composition";case O.default.relationType.DEPENDENCY:return"dependency"}}(O.default.relationType.DEPENDENCY)+"End)"),Bt.title!==void 0){for(var yt=lt.append("g").attr("class","stateLabel"),kt=_.default.calcLabelPosition(J.points),xt=kt.x,Pt=kt.y,mt=M.default.getRows(Bt.title),Yt=0,ne=[],Qt=0,Kt=0,Xt=0;Xt<=mt.length;Xt++){var se=yt.append("text").attr("text-anchor","middle").text(mt[Xt]).attr("x",xt).attr("y",Pt+Yt),ue=se.node().getBBox();if(Qt=Math.max(Qt,ue.width),Kt=Math.min(Kt,ue.x),R.log.info(ue.x,xt,Pt+Yt),Yt===0){var re=se.node().getBBox();Yt=re.height,R.log.info("Title height",Yt,Pt)}ne.push(se)}var _t=Yt*mt.length;if(mt.length>1){var ut=(mt.length-1)*Yt*.5;ne.forEach(function(qt,Nt){return qt.attr("y",Pt+Nt*Yt-ut)}),_t=Yt*mt.length}var Mt=yt.node().getBBox();yt.insert("rect",":first-child").attr("class","box").attr("x",xt-Qt/2-(0,P.getConfig)().state.padding/2).attr("y",Pt-_t/2-(0,P.getConfig)().state.padding/2-3.5).attr("width",Qt+(0,P.getConfig)().state.padding).attr("height",_t+(0,P.getConfig)().state.padding),R.log.info(Mt)}pt++}},"./src/diagrams/state/stateDb.js":(E,C,v)=>{v.r(C),v.d(C,{addRelation:()=>Bt,addState:()=>st,cleanupLabel:()=>Ct,clear:()=>it,default:()=>Pt,getRelations:()=>J,getState:()=>pt,getStates:()=>ct,lineType:()=>St,logDocuments:()=>lt,parseDirective:()=>j,relationType:()=>xt});var h=v("./src/logger.js"),a=v("./src/utils.js"),O=v("./src/mermaidAPI.js"),_=v("./src/diagrams/common/common.js"),M=v("./src/config.js"),P=v("./src/commonDb.js");function R(mt){return R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Yt){return typeof Yt}:function(Yt){return Yt&&typeof Symbol=="function"&&Yt.constructor===Symbol&&Yt!==Symbol.prototype?"symbol":typeof Yt},R(mt)}var $=function(mt){return JSON.parse(JSON.stringify(mt))},F=[],j=function(mt,Yt,ne){O.default.parseDirective(this,mt,Yt,ne)},X=function mt(Yt,ne,Qt){if(ne.stmt==="relation")mt(Yt,ne.state1,!0),mt(Yt,ne.state2,!1);else if(ne.stmt==="state"&&ne.id==="[*]"&&(ne.id=Qt?Yt.id+"_start":Yt.id+"_end",ne.start=Qt),ne.doc){var Kt=[],Xt=0,se=[];for(Xt=0;Xt<ne.doc.length;Xt++)if(ne.doc[Xt].type==="divider"){var ue=$(ne.doc[Xt]);ue.doc=$(se),Kt.push(ue),se=[]}else se.push(ne.doc[Xt]);if(Kt.length>0&&se.length>0){var re={stmt:"state",id:(0,a.generateId)(),type:"divider",doc:$(se)};Kt.push($(re)),ne.doc=Kt}ne.doc.forEach(function(_t){return mt(ne,_t,!0)})}},W={root:{relations:[],states:{},documents:{}}},V=W.root,K=0,st=function(mt,Yt,ne,Qt,Kt){V.states[mt]===void 0?V.states[mt]={id:mt,descriptions:[],type:Yt,doc:ne,note:Kt}:(V.states[mt].doc||(V.states[mt].doc=ne),V.states[mt].type||(V.states[mt].type=Yt)),Qt&&(h.log.info("Adding state ",mt,Qt),typeof Qt=="string"&&Tt(mt,Qt.trim()),R(Qt)==="object"&&Qt.forEach(function(Xt){return Tt(mt,Xt.trim())})),Kt&&(V.states[mt].note=Kt,V.states[mt].note.text=_.default.sanitizeText(V.states[mt].note.text,M.getConfig()))},it=function(mt){V=(W={root:{relations:[],states:{},documents:{}}}).root,V=W.root,K=0,yt=[],mt||(0,P.clear)()},pt=function(mt){return V.states[mt]},ct=function(){return V.states},lt=function(){h.log.info("Documents = ",W)},J=function(){return V.relations},Bt=function(mt,Yt,ne){var Qt=mt,Kt=Yt,Xt="default",se="default";mt==="[*]"&&(Qt="start"+ ++K,Xt="start"),Yt==="[*]"&&(Kt="end"+K,se="end"),st(Qt,Xt),st(Kt,se),V.relations.push({id1:Qt,id2:Kt,title:_.default.sanitizeText(ne,M.getConfig())})},Tt=function(mt,Yt){var ne=V.states[mt],Qt=Yt;Qt[0]===":"&&(Qt=Qt.substr(1).trim()),ne.descriptions.push(_.default.sanitizeText(Qt,M.getConfig()))},Ct=function(mt){return mt.substring(0,1)===":"?mt.substr(2).trim():mt.trim()},St={LINE:0,DOTTED_LINE:1},at=0,yt=[],kt="TB",xt={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3};const Pt={parseDirective:j,getConfig:function(){return M.getConfig().state},addState:st,clear:it,getState:pt,getStates:ct,getRelations:J,getClasses:function(){return yt},getDirection:function(){return kt},addRelation:Bt,getDividerId:function(){return"divider-id-"+ ++at},setDirection:function(mt){kt=mt},cleanupLabel:Ct,lineType:St,relationType:xt,logDocuments:lt,getRootDoc:function(){return F},setRootDoc:function(mt){h.log.info("Setting root doc",mt),F=mt},getRootDocV2:function(){return X({id:"root"},{id:"root",doc:F},!0),{id:"root",doc:F}},extract:function(mt){var Yt;Yt=mt.doc?mt.doc:mt,h.log.info(Yt),it(!0),h.log.info("Extract",Yt),Yt.forEach(function(ne){ne.stmt==="state"&&st(ne.id,ne.type,ne.doc,ne.description,ne.note),ne.stmt==="relation"&&Bt(ne.state1.id,ne.state2.id,ne.description)})},trimColon:function(mt){return mt&&mt[0]===":"?mt.substr(1).trim():mt.trim()},getAccTitle:P.getAccTitle,setAccTitle:P.setAccTitle,getAccDescription:P.getAccDescription,setAccDescription:P.setAccDescription}},"./src/diagrams/state/stateRenderer-v2.js":(E,C,v)=>{v.r(C),v.d(C,{default:()=>Tt,draw:()=>Bt,getClasses:()=>it,setConf:()=>K});var h=v("graphlib"),a=v.n(h),O=v("d3"),_=v("./src/diagrams/state/stateDb.js"),M=v("./src/diagrams/state/parser/stateDiagram.jison"),P=v.n(M),R=v("./src/config.js"),$=v("./src/dagre-wrapper/index.js"),F=v("./src/logger.js"),j=v("./src/utils.js"),X=v("./src/diagrams/common/common.js"),W=v("./src/accessibility.js"),V={},K=function(Ct){for(var St=Object.keys(Ct),at=0;at<St.length;at++)V[St[at]]=Ct[St[at]]},st={},it=function(Ct){F.log.trace("Extracting classes"),_.default.clear();var St=P().parser;return St.yy=_.default,St.parse(Ct),_.default.getClasses()},pt=function(Ct,St,at,yt){if(at.id!=="root"){var kt="rect";at.start===!0&&(kt="start"),at.start===!1&&(kt="end"),at.type!=="default"&&(kt=at.type),st[at.id]||(st[at.id]={id:at.id,shape:kt,description:X.default.sanitizeText(at.id,(0,R.getConfig)()),classes:"statediagram-state"}),at.description&&(Array.isArray(st[at.id].description)?(st[at.id].shape="rectWithTitle",st[at.id].description.push(at.description)):st[at.id].description.length>0?(st[at.id].shape="rectWithTitle",st[at.id].description===at.id?st[at.id].description=[at.description]:st[at.id].description=[st[at.id].description,at.description]):(st[at.id].shape="rect",st[at.id].description=at.description),st[at.id].description=X.default.sanitizeTextOrArray(st[at.id].description,(0,R.getConfig)())),st[at.id].description.length===1&&st[at.id].shape==="rectWithTitle"&&(st[at.id].shape="rect"),!st[at.id].type&&at.doc&&(F.log.info("Setting cluster for ",at.id,J(at)),st[at.id].type="group",st[at.id].dir=J(at),st[at.id].shape=at.type==="divider"?"divider":"roundedWithTitle",st[at.id].classes=st[at.id].classes+" "+(yt?"statediagram-cluster statediagram-cluster-alt":"statediagram-cluster"));var xt={labelStyle:"",shape:st[at.id].shape,labelText:st[at.id].description,classes:st[at.id].classes,style:"",id:at.id,dir:st[at.id].dir,domId:"state-"+at.id+"-"+ct,type:st[at.id].type,padding:15};if(at.note){var Pt={labelStyle:"",shape:"note",labelText:at.note.text,classes:"statediagram-note",style:"",id:at.id+"----note-"+ct,domId:"state-"+at.id+"----note-"+ct,type:st[at.id].type,padding:15},mt={labelStyle:"",shape:"noteGroup",labelText:at.note.text,classes:st[at.id].classes,style:"",id:at.id+"----parent",domId:"state-"+at.id+"----parent-"+ct,type:"group",padding:0};ct++,Ct.setNode(at.id+"----parent",mt),Ct.setNode(Pt.id,Pt),Ct.setNode(at.id,xt),Ct.setParent(at.id,at.id+"----parent"),Ct.setParent(Pt.id,at.id+"----parent");var Yt=at.id,ne=Pt.id;at.note.position==="left of"&&(Yt=Pt.id,ne=at.id),Ct.setEdge(Yt,ne,{arrowhead:"none",arrowType:"",style:"fill:none",labelStyle:"",classes:"transition note-edge",arrowheadStyle:"fill: #333",labelpos:"c",labelType:"text",thickness:"normal"})}else Ct.setNode(at.id,xt)}St&&St.id!=="root"&&(F.log.trace("Setting node ",at.id," to be child of its parent ",St.id),Ct.setParent(at.id,St.id)),at.doc&&(F.log.trace("Adding nodes children "),lt(Ct,at,at.doc,!yt))},ct=0,lt=function(Ct,St,at,yt){F.log.trace("items",at),at.forEach(function(kt){if(kt.stmt==="state"||kt.stmt==="default")pt(Ct,St,kt,yt);else if(kt.stmt==="relation"){pt(Ct,St,kt.state1,yt),pt(Ct,St,kt.state2,yt);var xt={id:"edge"+ct,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:"fill:none",labelStyle:"",label:X.default.sanitizeText(kt.description,(0,R.getConfig)()),arrowheadStyle:"fill: #333",labelpos:"c",labelType:"text",thickness:"normal",classes:"transition"},Pt=kt.state1.id,mt=kt.state2.id;Ct.setEdge(Pt,mt,xt,ct),ct++}})},J=function(Ct,St){var at=St||"TB";if(Ct.doc)for(var yt=0;yt<Ct.doc.length;yt++){var kt=Ct.doc[yt];kt.stmt==="dir"&&(at=kt.value)}return at},Bt=function(Ct,St){F.log.info("Drawing state diagram (v2)",St),_.default.clear(),st={};var at=P().parser;at.yy=_.default,at.parse(Ct),_.default.getDirection();var yt=(0,R.getConfig)().state,kt=yt.nodeSpacing||50,xt=yt.rankSpacing||50,Pt=(0,R.getConfig)().securityLevel;F.log.info(_.default.getRootDocV2()),_.default.extract(_.default.getRootDocV2()),F.log.info(_.default.getRootDocV2());var mt,Yt=new(a()).Graph({multigraph:!0,compound:!0}).setGraph({rankdir:J(_.default.getRootDocV2()),nodesep:kt,ranksep:xt,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});pt(Yt,void 0,_.default.getRootDocV2(),!0),Pt==="sandbox"&&(mt=(0,O.select)("#i"+St));var ne=Pt==="sandbox"?(0,O.select)(mt.nodes()[0].contentDocument.body):(0,O.select)("body"),Qt=(Pt==="sandbox"&&mt.nodes()[0].contentDocument,ne.select('[id="'.concat(St,'"]'))),Kt=ne.select("#"+St+" g");(0,$.render)(Kt,Yt,["barb"],"statediagram",St);var Xt=Qt.node().getBBox(),se=Xt.width+16,ue=Xt.height+16;Qt.attr("class","statediagram");var re=Qt.node().getBBox();(0,j.configureSvgSize)(Qt,ue,1.75*se,yt.useMaxWidth);var _t="".concat(re.x-8," ").concat(re.y-8," ").concat(se," ").concat(ue);F.log.debug("viewBox ".concat(_t)),Qt.attr("viewBox",_t);for(var ut=document.querySelectorAll('[id="'+St+'"] .edgeLabel .label'),Mt=0;Mt<ut.length;Mt++){var qt=ut[Mt],Nt=qt.getBBox(),Vt=document.createElementNS("http://www.w3.org/2000/svg","rect");Vt.setAttribute("rx",0),Vt.setAttribute("ry",0),Vt.setAttribute("width",Nt.width),Vt.setAttribute("height",Nt.height),qt.insertBefore(Vt,qt.firstChild)}(0,W.default)(at.yy,Qt,St)};const Tt={setConf:K,getClasses:it,draw:Bt}},"./src/diagrams/state/stateRenderer.js":(E,C,v)=>{v.r(C),v.d(C,{default:()=>lt,draw:()=>pt,setConf:()=>it});var h,a=v("d3"),O=v("dagre"),_=v.n(O),M=v("graphlib"),P=v.n(M),R=v("./src/logger.js"),$=v("./src/diagrams/state/stateDb.js"),F=v("./src/diagrams/common/common.js"),j=v("./src/diagrams/state/parser/stateDiagram.jison"),X=v("./src/diagrams/state/shapes.js"),W=v("./src/config.js"),V=v("./src/utils.js"),K=v("./src/accessibility.js");j.parser.yy=$.default;var st={},it=function(){},pt=function(J,Bt){h=(0,W.getConfig)().state;var Tt,Ct=(0,W.getConfig)().securityLevel;Ct==="sandbox"&&(Tt=(0,a.select)("#i"+Bt));var St=Ct==="sandbox"?(0,a.select)(Tt.nodes()[0].contentDocument.body):(0,a.select)("body"),at=Ct==="sandbox"?Tt.nodes()[0].contentDocument:document;j.parser.yy.clear(),j.parser.parse(J),R.log.debug("Rendering diagram "+J);var yt=St.select("[id='".concat(Bt,"']"));yt.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z"),new(P()).Graph({multigraph:!0,compound:!0,rankdir:"RL"}).setDefaultEdgeLabel(function(){return{}});var kt=$.default.getRootDoc();ct(kt,yt,void 0,!1,St,at);var xt=h.padding,Pt=yt.node().getBBox(),mt=Pt.width+2*xt,Yt=Pt.height+2*xt,ne=1.75*mt;(0,V.configureSvgSize)(yt,Yt,ne,h.useMaxWidth),yt.attr("viewBox","".concat(Pt.x-h.padding,"  ").concat(Pt.y-h.padding," ")+mt+" "+Yt),(0,K.default)(j.parser.yy,yt,Bt)},ct=function J(Bt,Tt,Ct,St,at,yt){var kt,xt=new(P()).Graph({compound:!0,multigraph:!0}),Pt=!0;for(kt=0;kt<Bt.length;kt++)if(Bt[kt].stmt==="relation"){Pt=!1;break}Ct?xt.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:Pt?1:h.edgeLengthFactor,nodeSep:Pt?1:50,isMultiGraph:!0}):xt.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:Pt?1:h.edgeLengthFactor,nodeSep:Pt?1:50,ranker:"tight-tree",isMultiGraph:!0}),xt.setDefaultEdgeLabel(function(){return{}}),$.default.extract(Bt);for(var mt=$.default.getStates(),Yt=$.default.getRelations(),ne=Object.keys(mt),Qt=0;Qt<ne.length;Qt++){var Kt=mt[ne[Qt]];Ct&&(Kt.parentId=Ct);var Xt=void 0;if(Kt.doc){var se=Tt.append("g").attr("id",Kt.id).attr("class","stateGroup");Xt=J(Kt.doc,se,Kt.id,!St,at,yt);var ue=(se=(0,X.addTitleAndBox)(se,Kt,St)).node().getBBox();Xt.width=ue.width,Xt.height=ue.height+h.padding/2,st[Kt.id]={y:h.compositTitleSize}}else Xt=(0,X.drawState)(Tt,Kt,xt);if(Kt.note){var re={descriptions:[],id:Kt.id+"-note",note:Kt.note,type:"note"},_t=(0,X.drawState)(Tt,re,xt);Kt.note.position==="left of"?(xt.setNode(Xt.id+"-note",_t),xt.setNode(Xt.id,Xt)):(xt.setNode(Xt.id,Xt),xt.setNode(Xt.id+"-note",_t)),xt.setParent(Xt.id,Xt.id+"-group"),xt.setParent(Xt.id+"-note",Xt.id+"-group")}else xt.setNode(Xt.id,Xt)}R.log.debug("Count=",xt.nodeCount(),xt);var ut=0;Yt.forEach(function(Vt){var Ut;ut++,R.log.debug("Setting edge",Vt),xt.setEdge(Vt.id1,Vt.id2,{relation:Vt,width:(Ut=Vt.title,Ut?Ut.length*h.fontSizeFactor:1),height:h.labelHeight*F.default.getRows(Vt.title).length,labelpos:"c"},"id"+ut)}),_().layout(xt),R.log.debug("Graph after layout",xt.nodes());var Mt=Tt.node();xt.nodes().forEach(function(Vt){Vt!==void 0&&xt.node(Vt)!==void 0?(R.log.warn("Node "+Vt+": "+JSON.stringify(xt.node(Vt))),at.select("#"+Mt.id+" #"+Vt).attr("transform","translate("+(xt.node(Vt).x-xt.node(Vt).width/2)+","+(xt.node(Vt).y+(st[Vt]?st[Vt].y:0)-xt.node(Vt).height/2)+" )"),at.select("#"+Mt.id+" #"+Vt).attr("data-x-shift",xt.node(Vt).x-xt.node(Vt).width/2),yt.querySelectorAll("#"+Mt.id+" #"+Vt+" .divider").forEach(function(Ut){var Wt=Ut.parentElement,Ft=0,jt=0;Wt&&(Wt.parentElement&&(Ft=Wt.parentElement.getBBox().width),jt=parseInt(Wt.getAttribute("data-x-shift"),10),Number.isNaN(jt)&&(jt=0)),Ut.setAttribute("x1",0-jt+8),Ut.setAttribute("x2",Ft-jt-8)})):R.log.debug("No Node "+Vt+": "+JSON.stringify(xt.node(Vt)))});var qt=Mt.getBBox();xt.edges().forEach(function(Vt){Vt!==void 0&&xt.edge(Vt)!==void 0&&(R.log.debug("Edge "+Vt.v+" -> "+Vt.w+": "+JSON.stringify(xt.edge(Vt))),(0,X.drawEdge)(Tt,xt.edge(Vt),xt.edge(Vt).relation))}),qt=Mt.getBBox();var Nt={id:Ct||"root",label:Ct||"root",width:0,height:0};return Nt.width=qt.width+2*h.padding,Nt.height=qt.height+2*h.padding,R.log.debug("Doc rendered",Nt,xt),Nt};const lt={setConf:it,draw:pt}},"./src/diagrams/state/styles.js":(E,C,v)=>{v.r(C),v.d(C,{default:()=>h});const h=function(a){return`
defs #statediagram-barbEnd {
    fill: `.concat(a.transitionColor,`;
    stroke: `).concat(a.transitionColor,`;
  }
g.stateGroup text {
  fill: `).concat(a.nodeBorder,`;
  stroke: none;
  font-size: 10px;
}
g.stateGroup text {
  fill: `).concat(a.textColor,`;
  stroke: none;
  font-size: 10px;

}
g.stateGroup .state-title {
  font-weight: bolder;
  fill: `).concat(a.stateLabelColor,`;
}

g.stateGroup rect {
  fill: `).concat(a.mainBkg,`;
  stroke: `).concat(a.nodeBorder,`;
}

g.stateGroup line {
  stroke: `).concat(a.lineColor,`;
  stroke-width: 1;
}

.transition {
  stroke: `).concat(a.transitionColor,`;
  stroke-width: 1;
  fill: none;
}

.stateGroup .composit {
  fill: `).concat(a.background,`;
  border-bottom: 1px
}

.stateGroup .alt-composit {
  fill: #e0e0e0;
  border-bottom: 1px
}

.state-note {
  stroke: `).concat(a.noteBorderColor,`;
  fill: `).concat(a.noteBkgColor,`;

  text {
    fill: `).concat(a.noteTextColor,`;
    stroke: none;
    font-size: 10px;
  }
}

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: `).concat(a.mainBkg,`;
  opacity: 0.5;
}

.edgeLabel .label rect {
  fill: `).concat(a.labelBackgroundColor,`;
  opacity: 0.5;
}
.edgeLabel .label text {
  fill: `).concat(a.transitionLabelColor||a.tertiaryTextColor,`;
}
.label div .edgeLabel {
  color: `).concat(a.transitionLabelColor||a.tertiaryTextColor,`;
}

.stateLabel text {
  fill: `).concat(a.stateLabelColor,`;
  font-size: 10px;
  font-weight: bold;
}

.node circle.state-start {
  fill: `).concat(a.specialStateColor,`;
  stroke: `).concat(a.specialStateColor,`;
}

.node .fork-join {
  fill: `).concat(a.specialStateColor,`;
  stroke: `).concat(a.specialStateColor,`;
}

.node circle.state-end {
  fill: `).concat(a.innerEndBackground,`;
  stroke: `).concat(a.background,`;
  stroke-width: 1.5
}
.end-state-inner {
  fill: `).concat(a.compositeBackground||a.background,`;
  // stroke: `).concat(a.background,`;
  stroke-width: 1.5
}

.node rect {
  fill: `).concat(a.stateBkg||a.mainBkg,`;
  stroke: `).concat(a.stateBorder||a.nodeBorder,`;
  stroke-width: 1px;
}
.node polygon {
  fill: `).concat(a.mainBkg,`;
  stroke: `).concat(a.stateBorder||a.nodeBorder,`;;
  stroke-width: 1px;
}
#statediagram-barbEnd {
  fill: `).concat(a.lineColor,`;
}

.statediagram-cluster rect {
  fill: `).concat(a.compositeTitleBackground,`;
  stroke: `).concat(a.stateBorder||a.nodeBorder,`;
  stroke-width: 1px;
}

.cluster-label, .nodeLabel {
  color: `).concat(a.stateLabelColor,`;
}

.statediagram-cluster rect.outer {
  rx: 5px;
  ry: 5px;
}
.statediagram-state .divider {
  stroke: `).concat(a.stateBorder||a.nodeBorder,`;
}

.statediagram-state .title-state {
  rx: 5px;
  ry: 5px;
}
.statediagram-cluster.statediagram-cluster .inner {
  fill: `).concat(a.compositeBackground||a.background,`;
}
.statediagram-cluster.statediagram-cluster-alt .inner {
  fill: `).concat(a.altBackground?a.altBackground:"#efefef",`;
}

.statediagram-cluster .inner {
  rx:0;
  ry:0;
}

.statediagram-state rect.basic {
  rx: 5px;
  ry: 5px;
}
.statediagram-state rect.divider {
  stroke-dasharray: 10,10;
  fill: `).concat(a.altBackground?a.altBackground:"#efefef",`;
}

.note-edge {
  stroke-dasharray: 5;
}

.statediagram-note rect {
  fill: `).concat(a.noteBkgColor,`;
  stroke: `).concat(a.noteBorderColor,`;
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}
.statediagram-note rect {
  fill: `).concat(a.noteBkgColor,`;
  stroke: `).concat(a.noteBorderColor,`;
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}

.statediagram-note text {
  fill: `).concat(a.noteTextColor,`;
}

.statediagram-note .nodeLabel {
  color: `).concat(a.noteTextColor,`;
}
.statediagram .edgeLabel {
  color: red; // `).concat(a.noteTextColor,`;
}

#dependencyStart, #dependencyEnd {
  fill: `).concat(a.lineColor,`;
  stroke: `).concat(a.lineColor,`;
  stroke-width: 1;
}
`)}},"./src/diagrams/user-journey/journeyDb.js":(E,C,v)=>{v.r(C),v.d(C,{addSection:()=>W,addTask:()=>st,addTaskOrg:()=>it,clear:()=>X,default:()=>ct,getSections:()=>V,getTasks:()=>K,parseDirective:()=>j});var h=v("./src/mermaidAPI.js"),a=v("./src/config.js"),O=(v("./src/diagrams/common/common.js"),v("./src/commonDb.js"));function _(lt){return function(J){if(Array.isArray(J))return M(J)}(lt)||function(J){if(typeof Symbol!="undefined"&&J[Symbol.iterator]!=null||J["@@iterator"]!=null)return Array.from(J)}(lt)||function(J,Bt){if(J){if(typeof J=="string")return M(J,Bt);var Tt=Object.prototype.toString.call(J).slice(8,-1);return Tt==="Object"&&J.constructor&&(Tt=J.constructor.name),Tt==="Map"||Tt==="Set"?Array.from(J):Tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Tt)?M(J,Bt):void 0}}(lt)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function M(lt,J){(J==null||J>lt.length)&&(J=lt.length);for(var Bt=0,Tt=new Array(J);Bt<J;Bt++)Tt[Bt]=lt[Bt];return Tt}var P="",R=[],$=[],F=[],j=function(lt,J,Bt){h.default.parseDirective(this,lt,J,Bt)},X=function(){R.length=0,$.length=0,P="",F.length=0,(0,O.clear)()},W=function(lt){P=lt,R.push(lt)},V=function(){return R},K=function(){for(var lt=pt(),J=0;!lt&&J<100;)lt=pt(),J++;return $.push.apply($,F),$},st=function(lt,J){var Bt=J.substr(1).split(":"),Tt=0,Ct=[];Bt.length===1?(Tt=Number(Bt[0]),Ct=[]):(Tt=Number(Bt[0]),Ct=Bt[1].split(","));var St=Ct.map(function(yt){return yt.trim()}),at={section:P,type:P,people:St,task:lt,score:Tt};F.push(at)},it=function(lt){var J={section:P,type:P,description:lt,task:lt,classes:[]};$.push(J)},pt=function(){for(var lt=!0,J=0;J<F.length;J++)F[J].processed,lt=lt&&F[J].processed;return lt};const ct={parseDirective:j,getConfig:function(){return a.getConfig().journey},clear:X,setDiagramTitle:O.setDiagramTitle,getDiagramTitle:O.getDiagramTitle,setAccTitle:O.setAccTitle,getAccTitle:O.getAccTitle,setAccDescription:O.setAccDescription,getAccDescription:O.getAccDescription,addSection:W,getSections:V,getTasks:K,addTask:st,addTaskOrg:it,getActors:function(){return lt=[],$.forEach(function(J){J.people&&lt.push.apply(lt,_(J.people))}),_(new Set(lt)).sort();var lt}}},"./src/diagrams/user-journey/journeyRenderer.js":(E,C,v)=>{v.r(C),v.d(C,{bounds:()=>V,default:()=>pt,draw:()=>W,drawTasks:()=>it,setConf:()=>$});var h=v("d3"),a=v("./src/diagrams/user-journey/parser/journey.jison"),O=v("./src/diagrams/user-journey/journeyDb.js"),_=v("./src/diagrams/user-journey/svgDraw.js"),M=v("./src/config.js"),P=v("./src/utils.js"),R=v("./src/accessibility.js");a.parser.yy=O.default;var $=function(ct){Object.keys(ct).forEach(function(lt){j[lt]=ct[lt]})},F={},j=(0,M.getConfig)().journey,X=(0,M.getConfig)().journey.leftMargin,W=function(ct,lt){var J=(0,M.getConfig)().journey;a.parser.yy.clear(),a.parser.parse(ct+`
`);var Bt,Tt=(0,M.getConfig)().securityLevel;Tt==="sandbox"&&(Bt=(0,h.select)("#i"+lt));var Ct=Tt==="sandbox"?(0,h.select)(Bt.nodes()[0].contentDocument.body):(0,h.select)("body");Tt==="sandbox"&&Bt.nodes()[0].contentDocument,V.init();var St=Ct.select("#"+lt);St.attr("xmlns:xlink","http://www.w3.org/1999/xlink"),_.default.initGraphics(St);var at=a.parser.yy.getTasks(),yt=a.parser.yy.getDiagramTitle(),kt=a.parser.yy.getActors();for(var xt in F)delete F[xt];var Pt=0;kt.forEach(function(Kt){F[Kt]={color:J.actorColours[Pt%J.actorColours.length],position:Pt},Pt++}),function(Kt){var Xt=(0,M.getConfig)().journey,se=60;Object.keys(F).forEach(function(ue){var re=F[ue].color,_t={cx:20,cy:se,r:7,fill:re,stroke:"#000",pos:F[ue].position};_.default.drawCircle(Kt,_t);var ut={x:40,y:se+7,fill:"#666",text:ue,textMargin:5|Xt.boxTextMargin};_.default.drawText(Kt,ut),se+=20})}(St),V.insert(0,0,X,50*Object.keys(F).length),it(St,at,0);var mt=V.getBounds();yt&&St.append("text").text(yt).attr("x",X).attr("font-size","4ex").attr("font-weight","bold").attr("y",25);var Yt=mt.stopy-mt.starty+2*J.diagramMarginY,ne=X+mt.stopx+2*J.diagramMarginX;(0,P.configureSvgSize)(St,Yt,ne,J.useMaxWidth),St.append("line").attr("x1",X).attr("y1",4*J.height).attr("x2",ne-X-4).attr("y2",4*J.height).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");var Qt=yt?70:0;St.attr("viewBox","".concat(mt.startx," -25 ").concat(ne," ").concat(Yt+Qt)),St.attr("preserveAspectRatio","xMinYMin meet"),St.attr("height",Yt+Qt+25),(0,R.default)(a.parser.yy,St,lt)},V={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},updateVal:function(ct,lt,J,Bt){ct[lt]===void 0?ct[lt]=J:ct[lt]=Bt(J,ct[lt])},updateBounds:function(ct,lt,J,Bt){var Tt=(0,M.getConfig)().journey,Ct=this,St=0;this.sequenceItems.forEach(function(at){St++;var yt=Ct.sequenceItems.length-St+1;Ct.updateVal(at,"starty",lt-yt*Tt.boxMargin,Math.min),Ct.updateVal(at,"stopy",Bt+yt*Tt.boxMargin,Math.max),Ct.updateVal(V.data,"startx",ct-yt*Tt.boxMargin,Math.min),Ct.updateVal(V.data,"stopx",J+yt*Tt.boxMargin,Math.max),Ct.updateVal(at,"startx",ct-yt*Tt.boxMargin,Math.min),Ct.updateVal(at,"stopx",J+yt*Tt.boxMargin,Math.max),Ct.updateVal(V.data,"starty",lt-yt*Tt.boxMargin,Math.min),Ct.updateVal(V.data,"stopy",Bt+yt*Tt.boxMargin,Math.max)})},insert:function(ct,lt,J,Bt){var Tt=Math.min(ct,J),Ct=Math.max(ct,J),St=Math.min(lt,Bt),at=Math.max(lt,Bt);this.updateVal(V.data,"startx",Tt,Math.min),this.updateVal(V.data,"starty",St,Math.min),this.updateVal(V.data,"stopx",Ct,Math.max),this.updateVal(V.data,"stopy",at,Math.max),this.updateBounds(Tt,St,Ct,at)},bumpVerticalPos:function(ct){this.verticalPos=this.verticalPos+ct,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return this.data}},K=j.sectionFills,st=j.sectionColours,it=function(ct,lt,J){for(var Bt=(0,M.getConfig)().journey,Tt="",Ct=J+(2*Bt.height+Bt.diagramMarginY),St=0,at="#CCC",yt="black",kt=0,xt=0;xt<lt.length;xt++){var Pt=lt[xt];if(Tt!==Pt.section){at=K[St%K.length],kt=St%K.length,yt=st[St%st.length];var mt={x:xt*Bt.taskMargin+xt*Bt.width+X,y:50,text:Pt.section,fill:at,num:kt,colour:yt};_.default.drawSection(ct,mt,Bt),Tt=Pt.section,St++}var Yt=Pt.people.reduce(function(ne,Qt){return F[Qt]&&(ne[Qt]=F[Qt]),ne},{});Pt.x=xt*Bt.taskMargin+xt*Bt.width+X,Pt.y=Ct,Pt.width=Bt.diagramMarginX,Pt.height=Bt.diagramMarginY,Pt.colour=yt,Pt.fill=at,Pt.num=kt,Pt.actors=Yt,_.default.drawTask(ct,Pt,Bt),V.insert(Pt.x,Pt.y,Pt.x+Pt.width+Bt.taskMargin,450)}};const pt={setConf:$,draw:W}},"./src/diagrams/user-journey/styles.js":(E,C,v)=>{v.r(C),v.d(C,{default:()=>h});const h=function(a){return`.label {
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    color: `.concat(a.textColor,`;
  }
  .mouth {
    stroke: #666;
  }

  line {
    stroke: `).concat(a.textColor,`
  }

  .legend {
    fill: `).concat(a.textColor,`;
  }

  .label text {
    fill: #333;
  }
  .label {
    color: `).concat(a.textColor,`
  }

  .face {
    `).concat(a.faceColor?"fill: ".concat(a.faceColor):"fill: #FFF8DC",`;
    stroke: #999;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: `).concat(a.mainBkg,`;
    stroke: `).concat(a.nodeBorder,`;
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: `).concat(a.arrowheadColor,`;
  }

  .edgePath .path {
    stroke: `).concat(a.lineColor,`;
    stroke-width: 1.5px;
  }

  .flowchart-link {
    stroke: `).concat(a.lineColor,`;
    fill: none;
  }

  .edgeLabel {
    background-color: `).concat(a.edgeLabelBackground,`;
    rect {
      opacity: 0.5;
    }
    text-align: center;
  }

  .cluster rect {
  }

  .cluster text {
    fill: `).concat(a.titleColor,`;
  }

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    font-size: 12px;
    background: `).concat(a.tertiaryColor,`;
    border: 1px solid `).concat(a.border2,`;
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .task-type-0, .section-type-0  {
    `).concat(a.fillType0?"fill: ".concat(a.fillType0):"",`;
  }
  .task-type-1, .section-type-1  {
    `).concat(a.fillType0?"fill: ".concat(a.fillType1):"",`;
  }
  .task-type-2, .section-type-2  {
    `).concat(a.fillType0?"fill: ".concat(a.fillType2):"",`;
  }
  .task-type-3, .section-type-3  {
    `).concat(a.fillType0?"fill: ".concat(a.fillType3):"",`;
  }
  .task-type-4, .section-type-4  {
    `).concat(a.fillType0?"fill: ".concat(a.fillType4):"",`;
  }
  .task-type-5, .section-type-5  {
    `).concat(a.fillType0?"fill: ".concat(a.fillType5):"",`;
  }
  .task-type-6, .section-type-6  {
    `).concat(a.fillType0?"fill: ".concat(a.fillType6):"",`;
  }
  .task-type-7, .section-type-7  {
    `).concat(a.fillType0?"fill: ".concat(a.fillType7):"",`;
  }

  .actor-0 {
    `).concat(a.actor0?"fill: ".concat(a.actor0):"",`;
  }
  .actor-1 {
    `).concat(a.actor1?"fill: ".concat(a.actor1):"",`;
  }
  .actor-2 {
    `).concat(a.actor2?"fill: ".concat(a.actor2):"",`;
  }
  .actor-3 {
    `).concat(a.actor3?"fill: ".concat(a.actor3):"",`;
  }
  .actor-4 {
    `).concat(a.actor4?"fill: ".concat(a.actor4):"",`;
  }
  .actor-5 {
    `).concat(a.actor5?"fill: ".concat(a.actor5):"",`;
  }

  }
`)}},"./src/diagrams/user-journey/svgDraw.js":(E,C,v)=>{v.r(C),v.d(C,{default:()=>K,drawBackgroundRect:()=>j,drawCircle:()=>_,drawFace:()=>O,drawLabel:()=>P,drawRect:()=>a,drawSection:()=>R,drawTask:()=>F,drawText:()=>M,getNoteRect:()=>W,getTextObj:()=>X});var h=v("d3"),a=function(st,it){var pt=st.append("rect");return pt.attr("x",it.x),pt.attr("y",it.y),pt.attr("fill",it.fill),pt.attr("stroke",it.stroke),pt.attr("width",it.width),pt.attr("height",it.height),pt.attr("rx",it.rx),pt.attr("ry",it.ry),it.class!==void 0&&pt.attr("class",it.class),pt},O=function(st,it){var pt=st.append("circle").attr("cx",it.cx).attr("cy",it.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),ct=st.append("g");return ct.append("circle").attr("cx",it.cx-5).attr("cy",it.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),ct.append("circle").attr("cx",it.cx+5).attr("cy",it.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),it.score>3?function(lt){var J=(0,h.arc)().startAngle(Math.PI/2).endAngle(Math.PI/2*3).innerRadius(7.5).outerRadius(6.8181818181818175);lt.append("path").attr("class","mouth").attr("d",J).attr("transform","translate("+it.cx+","+(it.cy+2)+")")}(ct):it.score<3?function(lt){var J=(0,h.arc)().startAngle(3*Math.PI/2).endAngle(Math.PI/2*5).innerRadius(7.5).outerRadius(6.8181818181818175);lt.append("path").attr("class","mouth").attr("d",J).attr("transform","translate("+it.cx+","+(it.cy+7)+")")}(ct):function(lt){lt.append("line").attr("class","mouth").attr("stroke",2).attr("x1",it.cx-5).attr("y1",it.cy+7).attr("x2",it.cx+5).attr("y2",it.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}(ct),pt},_=function(st,it){var pt=st.append("circle");return pt.attr("cx",it.cx),pt.attr("cy",it.cy),pt.attr("class","actor-"+it.pos),pt.attr("fill",it.fill),pt.attr("stroke",it.stroke),pt.attr("r",it.r),pt.class!==void 0&&pt.attr("class",pt.class),it.title!==void 0&&pt.append("title").text(it.title),pt},M=function(st,it){var pt=it.text.replace(/<br\s*\/?>/gi," "),ct=st.append("text");ct.attr("x",it.x),ct.attr("y",it.y),ct.attr("class","legend"),ct.style("text-anchor",it.anchor),it.class!==void 0&&ct.attr("class",it.class);var lt=ct.append("tspan");return lt.attr("x",it.x+2*it.textMargin),lt.text(pt),ct},P=function(st,it){var pt,ct,lt=st.append("polygon");lt.attr("points",(pt=it.x)+","+(ct=it.y)+" "+(pt+50)+","+ct+" "+(pt+50)+","+(ct+20-7)+" "+(pt+50-8.4)+","+(ct+20)+" "+pt+","+(ct+20)),lt.attr("class","labelBox"),it.y=it.y+it.labelMargin,it.x=it.x+.5*it.labelMargin,M(st,it)},R=function(st,it,pt){var ct=st.append("g"),lt=W();lt.x=it.x,lt.y=it.y,lt.fill=it.fill,lt.width=pt.width,lt.height=pt.height,lt.class="journey-section section-type-"+it.num,lt.rx=3,lt.ry=3,a(ct,lt),V(pt)(it.text,ct,lt.x,lt.y,lt.width,lt.height,{class:"journey-section section-type-"+it.num},pt,it.colour)},$=-1,F=function(st,it,pt){var ct=it.x+pt.width/2,lt=st.append("g");$++,lt.append("line").attr("id","task"+$).attr("x1",ct).attr("y1",it.y).attr("x2",ct).attr("y2",450).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),O(lt,{cx:ct,cy:300+30*(5-it.score),score:it.score});var J=W();J.x=it.x,J.y=it.y,J.fill=it.fill,J.width=pt.width,J.height=pt.height,J.class="task task-type-"+it.num,J.rx=3,J.ry=3,a(lt,J);var Bt=it.x+14;it.people.forEach(function(Tt){var Ct=it.actors[Tt].color,St={cx:Bt,cy:it.y,r:7,fill:Ct,stroke:"#000",title:Tt,pos:it.actors[Tt].position};_(lt,St),Bt+=10}),V(pt)(it.task,lt,J.x,J.y,J.width,J.height,{class:"task"},pt,it.colour)},j=function(st,it){a(st,{x:it.startx,y:it.starty,width:it.stopx-it.startx,height:it.stopy-it.starty,fill:it.fill,class:"rect"}).lower()},X=function(){return{x:0,y:0,fill:void 0,"text-anchor":"start",width:100,height:100,textMargin:0,rx:0,ry:0}},W=function(){return{x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0}},V=function(){function st(lt,J,Bt,Tt,Ct,St,at,yt){ct(J.append("text").attr("x",Bt+Ct/2).attr("y",Tt+St/2+5).style("font-color",yt).style("text-anchor","middle").text(lt),at)}function it(lt,J,Bt,Tt,Ct,St,at,yt,kt){for(var xt=yt.taskFontSize,Pt=yt.taskFontFamily,mt=lt.split(/<br\s*\/?>/gi),Yt=0;Yt<mt.length;Yt++){var ne=Yt*xt-xt*(mt.length-1)/2,Qt=J.append("text").attr("x",Bt+Ct/2).attr("y",Tt).attr("fill",kt).style("text-anchor","middle").style("font-size",xt).style("font-family",Pt);Qt.append("tspan").attr("x",Bt+Ct/2).attr("dy",ne).text(mt[Yt]),Qt.attr("y",Tt+St/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),ct(Qt,at)}}function pt(lt,J,Bt,Tt,Ct,St,at,yt){var kt=J.append("switch"),xt=kt.append("foreignObject").attr("x",Bt).attr("y",Tt).attr("width",Ct).attr("height",St).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");xt.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(lt),it(lt,kt,Bt,Tt,Ct,St,at,yt),ct(xt,at)}function ct(lt,J){for(var Bt in J)Bt in J&&lt.attr(Bt,J[Bt])}return function(lt){return lt.textPlacement==="fo"?pt:lt.textPlacement==="old"?st:it}}();const K={drawRect:a,drawCircle:_,drawSection:R,drawText:M,drawLabel:P,drawTask:F,drawBackgroundRect:j,getTextObj:X,getNoteRect:W,initGraphics:function(st){st.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")}}},"./src/errorRenderer.js":(E,C,v)=>{v.r(C),v.d(C,{default:()=>M,draw:()=>_,setConf:()=>O});var h=v("d3"),a=v("./src/logger.js"),O=function(P){Object.keys(P).forEach(function(R){P[R]})},_=function(P,R){try{a.log.debug(`Renering svg for syntax error
`);var $=(0,h.select)("#"+P),F=$.append("g");F.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),F.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),F.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),F.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),F.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),F.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),F.append("text").attr("class","error-text").attr("x",1240).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in graph"),F.append("text").attr("class","error-text").attr("x",1050).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text("mermaid version "+R),$.attr("height",100),$.attr("width",400),$.attr("viewBox","768 0 512 512")}catch(j){a.log.error("Error while rendering info diagram"),a.log.error(j.message)}};const M={setConf:O,draw:_}},"./src/interactionDb.js":(E,C,v)=>{v.r(C),v.d(C,{addFunction:()=>a,attachFunctions:()=>O});var h=[],a=function(_){h.push(_)},O=function(){h.forEach(function(_){_()}),h=[]}},"./src/logger.js":(E,C,v)=>{v.r(C),v.d(C,{LEVELS:()=>O,log:()=>_,setLogLevel:()=>M});var h=v("moment-mini"),a=v.n(h),O={debug:1,info:2,warn:3,error:4,fatal:5},_={debug:function(){},info:function(){},warn:function(){},error:function(){},fatal:function(){}},M=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"fatal";isNaN(R)&&(R=R.toLowerCase(),O[R]!==void 0&&(R=O[R])),_.trace=function(){},_.debug=function(){},_.info=function(){},_.warn=function(){},_.error=function(){},_.fatal=function(){},R<=O.fatal&&(_.fatal=console.error?console.error.bind(console,P("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",P("FATAL"))),R<=O.error&&(_.error=console.error?console.error.bind(console,P("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",P("ERROR"))),R<=O.warn&&(_.warn=console.warn?console.warn.bind(console,P("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",P("WARN"))),R<=O.info&&(_.info=console.info?console.info.bind(console,P("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",P("INFO"))),R<=O.debug&&(_.debug=console.debug?console.debug.bind(console,P("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",P("DEBUG")))},P=function(R){var $=a()().format("ss.SSS");return"%c".concat($," : ").concat(R," : ")}},"./src/mermaid.js":(E,C,v)=>{v.r(C),v.d(C,{default:()=>R});var h=v("./src/logger.js"),a=v("./src/mermaidAPI.js"),O=v("./src/utils.js"),_=function(){var $,F,j=a.default.getConfig();arguments.length>=2?(arguments[0]!==void 0&&(P.sequenceConfig=arguments[0]),$=arguments[1]):$=arguments[0],typeof arguments[arguments.length-1]=="function"?(F=arguments[arguments.length-1],h.log.debug("Callback function found")):j.mermaid!==void 0&&(typeof j.mermaid.callback=="function"?(F=j.mermaid.callback,h.log.debug("Callback function found")):h.log.debug("No Callback function found")),$=$===void 0?document.querySelectorAll(".mermaid"):typeof $=="string"?document.querySelectorAll($):$ instanceof window.Node?[$]:$,h.log.debug("Start On Load before: "+P.startOnLoad),P.startOnLoad!==void 0&&(h.log.debug("Start On Load inner: "+P.startOnLoad),a.default.updateSiteConfig({startOnLoad:P.startOnLoad})),P.ganttConfig!==void 0&&a.default.updateSiteConfig({gantt:P.ganttConfig});for(var X,W=new O.default.initIdGenerator(j.deterministicIds,j.deterministicIDSeed),V=function(st){var it=$[st];if(it.getAttribute("data-processed"))return"continue";it.setAttribute("data-processed",!0);var pt="mermaid-".concat(W.next());X=it.innerHTML,X=O.default.entityDecode(X).trim().replace(/<br\s*\/?>/gi,"<br/>");var ct=O.default.detectInit(X);ct&&h.log.debug("Detected early reinit: ",ct),a.default.render(pt,X,function(lt,J){it.innerHTML=lt,F!==void 0&&F(pt),J&&J(it)},it)},K=0;K<$.length;K++)V(K)},M=function(){P.startOnLoad?a.default.getConfig().startOnLoad&&P.init():P.startOnLoad===void 0&&(h.log.debug("In start, no config"),a.default.getConfig().startOnLoad&&P.init())};typeof document!="undefined"&&window.addEventListener("load",function(){M()},!1);var P={startOnLoad:!0,htmlLabels:!0,mermaidAPI:a.default,parse:a.default!=null?a.default.parse:null,render:a.default!=null?a.default.render:null,init:function(){try{_.apply(void 0,arguments)}catch($){h.log.warn("Syntax Error rendering"),h.log.warn($),this.parseError&&this.parseError($)}},initThrowsErrors:_,initialize:function($){$.mermaid!==void 0&&($.mermaid.startOnLoad!==void 0&&(P.startOnLoad=$.mermaid.startOnLoad),$.mermaid.htmlLabels!==void 0&&(P.htmlLabels=$.mermaid.htmlLabels!=="false"&&$.mermaid.htmlLabels!==!1)),a.default.initialize($)},contentLoaded:M,setParseErrorHandler:function($){P.parseError=$}};const R=P},"./src/mermaidAPI.js":(E,C,v)=>{v.r(C),v.d(C,{decodeEntities:()=>an,default:()=>$n,encodeEntities:()=>Kn});var h=v("d3"),a=v("stylis"),O=v("./package.json"),_=v("./src/config.js"),M=v("./src/diagrams/c4/c4Db.js"),P=v("./src/diagrams/c4/c4Renderer.js"),R=v("./src/diagrams/c4/parser/c4Diagram.jison"),$=v.n(R),F=v("./src/diagrams/class/classDb.js"),j=v("./src/diagrams/class/classRenderer.js"),X=v("./src/diagrams/class/classRenderer-v2.js"),W=v("./src/diagrams/class/parser/classDiagram.jison"),V=v.n(W),K=v("./src/diagrams/er/erDb.js"),st=v("./src/diagrams/er/erRenderer.js"),it=v("./src/diagrams/er/parser/erDiagram.jison"),pt=v.n(it),ct=v("./src/diagrams/flowchart/flowDb.js"),lt=v("./src/diagrams/flowchart/flowRenderer.js"),J=v("./src/diagrams/flowchart/flowRenderer-v2.js"),Bt=v("./src/diagrams/flowchart/parser/flow.jison"),Tt=v.n(Bt),Ct=v("./src/diagrams/gantt/ganttDb.js"),St=v("./src/diagrams/gantt/ganttRenderer.js"),at=v("./src/diagrams/gantt/parser/gantt.jison"),yt=v.n(at),kt=v("./src/diagrams/git/gitGraphAst.js"),xt=v("./src/diagrams/git/gitGraphRenderer.js"),Pt=v("./src/diagrams/git/parser/gitGraph.jison"),mt=v.n(Pt),Yt=v("./src/diagrams/info/infoDb.js"),ne=v("./src/diagrams/info/infoRenderer.js"),Qt=v("./src/diagrams/info/parser/info.jison"),Kt=v.n(Qt),Xt=v("./src/diagrams/pie/parser/pie.jison"),se=v.n(Xt),ue=v("./src/diagrams/pie/pieDb.js"),re=v("./src/diagrams/pie/pieRenderer.js"),_t=v("./src/diagrams/requirement/parser/requirementDiagram.jison"),ut=v.n(_t),Mt=v("./src/diagrams/requirement/requirementDb.js"),qt=v("./src/diagrams/requirement/requirementRenderer.js"),Nt=v("./src/diagrams/sequence/parser/sequenceDiagram.jison"),Vt=v.n(Nt),Ut=v("./src/diagrams/sequence/sequenceDb.js"),Wt=v("./src/diagrams/sequence/sequenceRenderer.js"),Ft=v("./src/diagrams/state/parser/stateDiagram.jison"),jt=v.n(Ft),ee=v("./src/diagrams/state/stateDb.js"),Lt=v("./src/diagrams/state/stateRenderer.js"),he=v("./src/diagrams/state/stateRenderer-v2.js"),Ht=v("./src/diagrams/user-journey/journeyDb.js"),Se=v("./src/diagrams/user-journey/journeyRenderer.js"),Te=v("./src/diagrams/user-journey/parser/journey.jison"),we=v.n(Te),Ue=v("./src/errorRenderer.js"),We=v("./src/interactionDb.js"),De=v("./src/logger.js"),me=v("./src/styles.js"),Oe=v("./src/themes/index.js"),Pe=v("./src/utils.js"),ze=v("dompurify"),He=v.n(ze),dn=v("./src/mermaid.js");function Mn(sn){return Mn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(on){return typeof on}:function(on){return on&&typeof Symbol=="function"&&on.constructor===Symbol&&on!==Symbol.prototype?"symbol":typeof on},Mn(sn)}var Kn=function(sn){var on=sn;return(on=(on=on.replace(/style.*:\S*#.*;/g,function(yn){return yn.substring(0,yn.length-1)})).replace(/classDef.*:\S*#.*;/g,function(yn){return yn.substring(0,yn.length-1)})).replace(/#\w+;/g,function(yn){var Sn=yn.substring(1,yn.length-1);return/^\+?\d+$/.test(Sn)?"ﬂ°°"+Sn+"¶ß":"ﬂ°"+Sn+"¶ß"})},an=function(sn){var on=sn;return(on=(on=on.replace(/ﬂ°°/g,function(){return"&#"})).replace(/ﬂ°/g,function(){return"&"})).replace(/¶ß/g,function(){return";"})},mn={};function Bn(sn){lt.default.setConf(sn.flowchart),J.default.setConf(sn.flowchart),sn.sequenceDiagram!==void 0&&Wt.default.setConf((0,Pe.assignWithDepth)(sn.sequence,sn.sequenceDiagram)),Wt.default.setConf(sn.sequence),St.default.setConf(sn.gantt),j.default.setConf(sn.class),Lt.default.setConf(sn.state),he.default.setConf(sn.state),ne.default.setConf(sn.class),st.default.setConf(sn.er),Se.default.setConf(sn.journey),qt.default.setConf(sn.requirement),Ue.default.setConf(sn.class)}var Rn=Object.freeze({render:function(sn,on,yn,Sn){_.reset();var Ge=on.replace(/\r\n?/g,`
`),Fn=Pe.default.detectInit(Ge);Fn&&((0,Pe.directiveSanitizer)(Fn),_.addDirective(Fn));var ke=_.getConfig();De.log.debug(ke),on.length>ke.maxTextSize&&(Ge="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa");var Fr=(0,h.select)("body");if(Sn!==void 0){if(ke.securityLevel==="sandbox"){var Ye=(0,h.select)("body").append("iframe").attr("id","i"+sn).attr("style","width: 100%; height: 100%;").attr("sandbox","");(Fr=(0,h.select)(Ye.nodes()[0].contentDocument.body)).node().style.margin=0}if(Sn.innerHTML="",ke.securityLevel==="sandbox"){var vr=(0,h.select)(Sn).append("iframe").attr("id","i"+sn).attr("style","width: 100%; height: 100%;").attr("sandbox","");(Fr=(0,h.select)(vr.nodes()[0].contentDocument.body)).node().style.margin=0}else Fr=(0,h.select)(Sn);Fr.append("div").attr("id","d"+sn).attr("style","font-family: "+ke.fontFamily).append("svg").attr("id",sn).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg").append("g")}else{var Zr,jr=document.getElementById(sn);if(jr&&jr.remove(),(Zr=ke.securityLevel!=="sandbox"?document.querySelector("#d"+sn):document.querySelector("#i"+sn))&&Zr.remove(),ke.securityLevel==="sandbox"){var _r=(0,h.select)("body").append("iframe").attr("id","i"+sn).attr("style","width: 100%; height: 100%;").attr("sandbox","");(Fr=(0,h.select)(_r.nodes()[0].contentDocument.body)).node().style.margin=0}else Fr=(0,h.select)("body");Fr.append("div").attr("id","d"+sn).append("svg").attr("id",sn).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg").append("g")}Ge=Kn(Ge);var Hr=Fr.select("#d"+sn).node(),Tr=Pe.default.detectType(Ge,ke),br=Hr.firstChild,mr=br.firstChild,xr="";if(ke.themeCSS!==void 0&&(xr+=`
`.concat(ke.themeCSS)),ke.fontFamily!==void 0&&(xr+=`
:root { --mermaid-font-family: `.concat(ke.fontFamily,"}")),ke.altFontFamily!==void 0&&(xr+=`
:root { --mermaid-alt-font-family: `.concat(ke.altFontFamily,"}")),Tr==="flowchart"||Tr==="flowchart-v2"||Tr==="graph"){var kr=lt.default.getClasses(Ge),En=ke.htmlLabels||ke.flowchart.htmlLabels;for(var Yn in kr)En?(xr+=`
.`.concat(Yn," > * { ").concat(kr[Yn].styles.join(" !important; ")," !important; }"),xr+=`
.`.concat(Yn," span { ").concat(kr[Yn].styles.join(" !important; ")," !important; }")):(xr+=`
.`.concat(Yn," path { ").concat(kr[Yn].styles.join(" !important; ")," !important; }"),xr+=`
.`.concat(Yn," rect { ").concat(kr[Yn].styles.join(" !important; ")," !important; }"),xr+=`
.`.concat(Yn," polygon { ").concat(kr[Yn].styles.join(" !important; ")," !important; }"),xr+=`
.`.concat(Yn," ellipse { ").concat(kr[Yn].styles.join(" !important; ")," !important; }"),xr+=`
.`.concat(Yn," circle { ").concat(kr[Yn].styles.join(" !important; ")," !important; }"),kr[Yn].textStyles&&(xr+=`
.`.concat(Yn," tspan { ").concat(kr[Yn].textStyles.join(" !important; ")," !important; }")))}var Un,qn,Lr=(Un="#".concat(sn),qn=(0,me.default)(Tr,xr,ke.themeVariables),(0,a.serialize)((0,a.compile)("".concat(Un,"{").concat(qn,"}")),a.stringify)),Ar=document.createElement("style");Ar.innerHTML="#".concat(sn," ")+Lr,br.insertBefore(Ar,mr);try{switch(Tr){case"c4":P.default.setConf(ke.c4),P.default.draw(Ge,sn);break;case"gitGraph":xt.default.draw(Ge,sn,!1);break;case"flowchart":ke.flowchart.arrowMarkerAbsolute=ke.arrowMarkerAbsolute,lt.default.setConf(ke.flowchart),lt.default.draw(Ge,sn,!1);break;case"flowchart-v2":ke.flowchart.arrowMarkerAbsolute=ke.arrowMarkerAbsolute,J.default.setConf(ke.flowchart),J.default.draw(Ge,sn,!1);break;case"sequence":ke.sequence.arrowMarkerAbsolute=ke.arrowMarkerAbsolute,ke.sequenceDiagram?(Wt.default.setConf(Object.assign(ke.sequence,ke.sequenceDiagram)),console.error("`mermaid config.sequenceDiagram` has been renamed to `config.sequence`. Please update your mermaid config.")):Wt.default.setConf(ke.sequence),Wt.default.draw(Ge,sn);break;case"gantt":ke.gantt.arrowMarkerAbsolute=ke.arrowMarkerAbsolute,St.default.setConf(ke.gantt),St.default.draw(Ge,sn);break;case"class":ke.class.arrowMarkerAbsolute=ke.arrowMarkerAbsolute,j.default.setConf(ke.class),j.default.draw(Ge,sn);break;case"classDiagram":ke.class.arrowMarkerAbsolute=ke.arrowMarkerAbsolute,X.default.setConf(ke.class),X.default.draw(Ge,sn);break;case"state":ke.class.arrowMarkerAbsolute=ke.arrowMarkerAbsolute,Lt.default.setConf(ke.state),Lt.default.draw(Ge,sn);break;case"stateDiagram":ke.class.arrowMarkerAbsolute=ke.arrowMarkerAbsolute,he.default.setConf(ke.state),he.default.draw(Ge,sn);break;case"info":ke.class.arrowMarkerAbsolute=ke.arrowMarkerAbsolute,ne.default.setConf(ke.class),ne.default.draw(Ge,sn,O.version);break;case"pie":re.default.draw(Ge,sn,O.version);break;case"er":st.default.setConf(ke.er),st.default.draw(Ge,sn,O.version);break;case"journey":Se.default.setConf(ke.journey),Se.default.draw(Ge,sn,O.version);break;case"requirement":qt.default.setConf(ke.requirement),qt.default.draw(Ge,sn,O.version)}}catch(ci){throw Ue.default.draw(sn,O.version),ci}Fr.select('[id="'.concat(sn,'"]')).selectAll("foreignobject > *").attr("xmlns","http://www.w3.org/1999/xhtml");var wr=Fr.select("#d"+sn).node().innerHTML;if(De.log.debug("cnf.arrowMarkerAbsolute",ke.arrowMarkerAbsolute),ke.arrowMarkerAbsolute&&ke.arrowMarkerAbsolute!=="false"||ke.arrowMarkerAbsolute==="sandbox"||(wr=wr.replace(/marker-end="url\(.*?#/g,'marker-end="url(#',"g")),wr=(wr=an(wr)).replace(/<br>/g,"<br/>"),ke.securityLevel==="sandbox"){var ei=Fr.select("#d"+sn+" svg").node(),vi="100%";ei&&(vi=ei.viewBox.baseVal.height+"px"),wr='<iframe style="width:'.concat("100%",";height:").concat(vi,';border:0;margin:0;" src="data:text/html;base64,').concat(btoa('<body style="margin:0">'+wr+"</body>"),`" sandbox="allow-top-navigation-by-user-activation allow-popups">
  The “iframe” tag is not supported by your browser.
</iframe>`)}else ke.securityLevel!=="loose"&&(wr=He().sanitize(wr,{ADD_TAGS:["foreignobject"],ADD_ATTR:["dominant-baseline"]}));if(yn!==void 0)switch(Tr){case"flowchart":case"flowchart-v2":yn(wr,ct.default.bindFunctions);break;case"gantt":yn(wr,Ct.default.bindFunctions);break;case"class":case"classDiagram":yn(wr,F.default.bindFunctions);break;default:yn(wr)}else De.log.debug("CB = undefined!");(0,We.attachFunctions)();var bi=ke.securityLevel==="sandbox"?"#i"+sn:"#d"+sn,oo=(0,h.select)(bi).node();return oo!==null&&typeof oo.remove=="function"&&(0,h.select)(bi).node().remove(),wr},parse:function(sn){var on=!1;try{sn+=`
`;var yn=_.getConfig(),Sn=Pe.default.detectInit(sn,yn);Sn&&De.log.info("reinit ",Sn);var Ge,Fn=Pe.default.detectType(sn,yn);switch(De.log.debug("Type "+Fn),Fn){case"c4":M.default.clear(),(Ge=$()).parser.yy=M.default;break;case"gitGraph":kt.default.clear(),(Ge=mt()).parser.yy=kt.default;break;case"flowchart":case"flowchart-v2":ct.default.clear(),(Ge=Tt()).parser.yy=ct.default;break;case"sequence":Ut.default.clear(),(Ge=Vt()).parser.yy=Ut.default;break;case"gantt":(Ge=yt()).parser.yy=Ct.default;break;case"class":case"classDiagram":(Ge=V()).parser.yy=F.default;break;case"state":case"stateDiagram":(Ge=jt()).parser.yy=ee.default;break;case"info":De.log.debug("info info info"),(Ge=Kt()).parser.yy=Yt.default;break;case"pie":De.log.debug("pie"),(Ge=se()).parser.yy=ue.default;break;case"er":De.log.debug("er"),(Ge=pt()).parser.yy=K.default;break;case"journey":De.log.debug("Journey"),(Ge=we()).parser.yy=Ht.default;break;case"requirement":case"requirementDiagram":De.log.debug("RequirementDiagram"),(Ge=ut()).parser.yy=Mt.default}Ge.parser.yy.graphType=Fn,Ge.parser.yy.parseError=function(ke,Fr){throw{str:ke,hash:Fr}},Ge.parse(sn)}catch(ke){if(on=!0,!dn.default.parseError)throw ke;ke.str!=null?dn.default.parseError(ke.str,ke.hash):dn.default.parseError(ke)}return!on},parseDirective:function(sn,on,yn,Sn){try{if(on!==void 0)switch(on=on.trim(),yn){case"open_directive":mn={};break;case"type_directive":mn.type=on.toLowerCase();break;case"arg_directive":mn.args=JSON.parse(on);break;case"close_directive":(function(Ge,Fn,ke){switch(De.log.debug("Directive type=".concat(Fn.type," with args:"),Fn.args),Fn.type){case"init":case"initialize":["config"].forEach(function(Fr){Fn.args[Fr]!==void 0&&(ke==="flowchart-v2"&&(ke="flowchart"),Fn.args[ke]=Fn.args[Fr],delete Fn.args[Fr])}),De.log.debug("sanitize in handleDirective",Fn.args),(0,Pe.directiveSanitizer)(Fn.args),De.log.debug("sanitize in handleDirective (done)",Fn.args),Fn.args,_.addDirective(Fn.args);break;case"wrap":case"nowrap":Ge&&Ge.setWrap&&Ge.setWrap(Fn.type==="wrap");break;case"themeCss":De.log.warn("themeCss encountered");break;default:De.log.warn("Unhandled directive: source: '%%{".concat(Fn.type,": ").concat(JSON.stringify(Fn.args?Fn.args:{}),"}%%"),Fn)}})(sn,mn,Sn),mn=null}}catch(Ge){De.log.error("Error while rendering sequenceDiagram directive: ".concat(on," jison context: ").concat(yn)),De.log.error(Ge.message)}},initialize:function(sn){sn&&sn.fontFamily&&(sn.themeVariables&&sn.themeVariables.fontFamily||(sn.themeVariables={fontFamily:sn.fontFamily})),_.saveConfigFromInitialize(sn),sn&&sn.theme&&Oe.default[sn.theme]?sn.themeVariables=Oe.default[sn.theme].getThemeVariables(sn.themeVariables):sn&&(sn.themeVariables=Oe.default.default.getThemeVariables(sn.themeVariables));var on=Mn(sn)==="object"?_.setSiteConfig(sn):_.getSiteConfig();Bn(on),(0,De.setLogLevel)(on.logLevel)},reinitialize:function(){},getConfig:_.getConfig,setConfig:_.setConfig,getSiteConfig:_.getSiteConfig,updateSiteConfig:_.updateSiteConfig,reset:function(){_.reset()},globalReset:function(){_.reset(_.defaultConfig),Bn(_.getConfig())},defaultConfig:_.defaultConfig});(0,De.setLogLevel)(_.getConfig().logLevel),_.reset(_.getConfig());const $n=Rn},"./src/styles.js":(E,C,v)=>{v.r(C),v.d(C,{calcThemeVariables:()=>st,default:()=>it});var h=v("./src/diagrams/class/styles.js"),a=v("./src/diagrams/er/styles.js"),O=v("./src/diagrams/flowchart/styles.js"),_=v("./src/diagrams/gantt/styles.js"),M=v("./src/diagrams/git/styles.js"),P=v("./src/diagrams/info/styles.js"),R=v("./src/diagrams/pie/styles.js"),$=v("./src/diagrams/requirement/styles.js"),F=v("./src/diagrams/sequence/styles.js"),j=v("./src/diagrams/state/styles.js"),X=v("./src/diagrams/user-journey/styles.js"),W=v("./src/diagrams/c4/styles.js"),V=v("./src/logger.js"),K={flowchart:O.default,"flowchart-v2":O.default,sequence:F.default,gantt:_.default,classDiagram:h.default,"classDiagram-v2":h.default,class:h.default,stateDiagram:j.default,state:j.default,gitGraph:M.default,info:P.default,pie:R.default,er:a.default,journey:X.default,requirement:$.default,c4:W.default},st=function(pt,ct){return V.log.info("userOverides",ct),pt.calcColors(ct)};const it=function(pt,ct,lt){return` {
    font-family: `.concat(lt.fontFamily,`;
    font-size: `).concat(lt.fontSize,`;
    fill: `).concat(lt.textColor,`
  }

  /* Classes common for multiple diagrams */

  .error-icon {
    fill: `).concat(lt.errorBkgColor,`;
  }
  .error-text {
    fill: `).concat(lt.errorTextColor,`;
    stroke: `).concat(lt.errorTextColor,`;
  }

  .edge-thickness-normal {
    stroke-width: 2px;
  }
  .edge-thickness-thick {
    stroke-width: 3.5px
  }
  .edge-pattern-solid {
    stroke-dasharray: 0;
  }

  .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  .marker {
    fill: `).concat(lt.lineColor,`;
    stroke: `).concat(lt.lineColor,`;
  }
  .marker.cross {
    stroke: `).concat(lt.lineColor,`;
  }

  svg {
    font-family: `).concat(lt.fontFamily,`;
    font-size: `).concat(lt.fontSize,`;
  }

  `).concat(K[pt](lt),`

  `).concat(ct,`
`)}},"./src/themes/index.js":(E,C,v)=>{v.r(C),v.d(C,{default:()=>P});var h=v("./src/themes/theme-base.js"),a=v("./src/themes/theme-dark.js"),O=v("./src/themes/theme-default.js"),_=v("./src/themes/theme-forest.js"),M=v("./src/themes/theme-neutral.js");const P={base:{getThemeVariables:h.getThemeVariables},dark:{getThemeVariables:a.getThemeVariables},default:{getThemeVariables:O.getThemeVariables},forest:{getThemeVariables:_.getThemeVariables},neutral:{getThemeVariables:M.getThemeVariables}}},"./src/themes/theme-base.js":(E,C,v)=>{v.r(C),v.d(C,{getThemeVariables:()=>P});var h=v("khroma"),a=v("./src/themes/theme-helpers.js");function O(R){return O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},O(R)}function _(R,$){for(var F=0;F<$.length;F++){var j=$[F];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(R,j.key,j)}}var M=function(){function R(){(function(j,X){if(!(j instanceof X))throw new TypeError("Cannot call a class as a function")})(this,R),this.background="#f4f4f4",this.darkMode=!1,this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}var $,F;return $=R,(F=[{key:"updateColors",value:function(){this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||(0,h.adjust)(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||(0,h.adjust)(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||(0,a.mkBorder)(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||(0,a.mkBorder)(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||(0,a.mkBorder)(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||(0,a.mkBorder)(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||(0,h.invert)(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||(0,h.invert)(this.tertiaryColor),this.lineColor=this.lineColor||(0,h.invert)(this.background),this.textColor=this.textColor||this.primaryTextColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?(0,h.darken)(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||"grey",this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||(0,h.darken)(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||(0,h.invert)(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||(0,h.lighten)(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||(0,h.adjust)(this.primaryColor,{h:64}),this.fillType3=this.fillType3||(0,h.adjust)(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||(0,h.adjust)(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||(0,h.adjust)(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||(0,h.adjust)(this.primaryColor,{h:128}),this.fillType7=this.fillType7||(0,h.adjust)(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||(0,h.adjust)(this.primaryColor,{l:-10}),this.pie5=this.pie5||(0,h.adjust)(this.secondaryColor,{l:-10}),this.pie6=this.pie6||(0,h.adjust)(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||(0,h.adjust)(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||(0,h.adjust)(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||(0,h.adjust)(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||(0,h.adjust)(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||(0,h.adjust)(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||(0,h.adjust)(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?(0,h.darken)(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||(0,h.adjust)(this.primaryColor,{h:-30}),this.git4=this.git4||(0,h.adjust)(this.primaryColor,{h:-60}),this.git5=this.git5||(0,h.adjust)(this.primaryColor,{h:-90}),this.git6=this.git6||(0,h.adjust)(this.primaryColor,{h:60}),this.git7=this.git7||(0,h.adjust)(this.primaryColor,{h:120}),this.darkMode?(this.git0=(0,h.lighten)(this.git0,25),this.git1=(0,h.lighten)(this.git1,25),this.git2=(0,h.lighten)(this.git2,25),this.git3=(0,h.lighten)(this.git3,25),this.git4=(0,h.lighten)(this.git4,25),this.git5=(0,h.lighten)(this.git5,25),this.git6=(0,h.lighten)(this.git6,25),this.git7=(0,h.lighten)(this.git7,25)):(this.git0=(0,h.darken)(this.git0,25),this.git1=(0,h.darken)(this.git1,25),this.git2=(0,h.darken)(this.git2,25),this.git3=(0,h.darken)(this.git3,25),this.git4=(0,h.darken)(this.git4,25),this.git5=(0,h.darken)(this.git5,25),this.git6=(0,h.darken)(this.git6,25),this.git7=(0,h.darken)(this.git7,25)),this.gitInv0=this.gitInv0||(0,h.invert)(this.git0),this.gitInv1=this.gitInv1||(0,h.invert)(this.git1),this.gitInv2=this.gitInv2||(0,h.invert)(this.git2),this.gitInv3=this.gitInv3||(0,h.invert)(this.git3),this.gitInv4=this.gitInv4||(0,h.invert)(this.git4),this.gitInv5=this.gitInv5||(0,h.invert)(this.git5),this.gitInv6=this.gitInv6||(0,h.invert)(this.git6),this.gitInv7=this.gitInv7||(0,h.invert)(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px"}},{key:"calculate",value:function(j){var X=this;if(O(j)==="object"){var W=Object.keys(j);W.forEach(function(V){X[V]=j[V]}),this.updateColors(),W.forEach(function(V){X[V]=j[V]})}else this.updateColors()}}])&&_($.prototype,F),Object.defineProperty($,"prototype",{writable:!1}),R}(),P=function(R){var $=new M;return $.calculate(R),$}},"./src/themes/theme-dark.js":(E,C,v)=>{v.r(C),v.d(C,{getThemeVariables:()=>P});var h=v("khroma"),a=v("./src/themes/theme-helpers.js");function O(R){return O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},O(R)}function _(R,$){for(var F=0;F<$.length;F++){var j=$[F];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(R,j.key,j)}}var M=function(){function R(){(function(j,X){if(!(j instanceof X))throw new TypeError("Cannot call a class as a function")})(this,R),this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=(0,h.lighten)(this.primaryColor,16),this.tertiaryColor=(0,h.adjust)(this.primaryColor,{h:-160}),this.primaryBorderColor=(0,h.invert)(this.background),this.secondaryBorderColor=(0,a.mkBorder)(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=(0,a.mkBorder)(this.tertiaryColor,this.darkMode),this.primaryTextColor=(0,h.invert)(this.primaryColor),this.secondaryTextColor=(0,h.invert)(this.secondaryColor),this.tertiaryTextColor=(0,h.invert)(this.tertiaryColor),this.lineColor=(0,h.invert)(this.background),this.textColor=(0,h.invert)(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=(0,h.lighten)((0,h.invert)("#323D47"),10),this.lineColor="calculated",this.border1="#81B1DB",this.border2=(0,h.rgba)(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=(0,h.darken)("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.taskBorderColor=(0,h.rgba)(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=(0,h.rgba)(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}var $,F;return $=R,(F=[{key:"updateColors",value:function(){this.secondBkg=(0,h.lighten)(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=(0,h.lighten)(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.mainContrastColor,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=(0,h.lighten)(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=(0,h.adjust)(this.primaryColor,{h:64}),this.fillType3=(0,h.adjust)(this.secondaryColor,{h:64}),this.fillType4=(0,h.adjust)(this.primaryColor,{h:-64}),this.fillType5=(0,h.adjust)(this.secondaryColor,{h:-64}),this.fillType6=(0,h.adjust)(this.primaryColor,{h:128}),this.fillType7=(0,h.adjust)(this.secondaryColor,{h:128}),this.pie1=this.pie1||"#0b0000",this.pie2=this.pie2||"#4d1037",this.pie3=this.pie3||"#3f5258",this.pie4=this.pie4||"#4f2f1b",this.pie5=this.pie5||"#6e0a0a",this.pie6=this.pie6||"#3b0048",this.pie7=this.pie7||"#995a01",this.pie8=this.pie8||"#154706",this.pie9=this.pie9||"#161722",this.pie10=this.pie10||"#00296f",this.pie11=this.pie11||"#01629c",this.pie12=this.pie12||"#010029",this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?(0,h.darken)(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=(0,h.lighten)(this.secondaryColor,20),this.git1=(0,h.lighten)(this.pie2||this.secondaryColor,20),this.git2=(0,h.lighten)(this.pie3||this.tertiaryColor,20),this.git3=(0,h.lighten)(this.pie4||(0,h.adjust)(this.primaryColor,{h:-30}),20),this.git4=(0,h.lighten)(this.pie5||(0,h.adjust)(this.primaryColor,{h:-60}),20),this.git5=(0,h.lighten)(this.pie6||(0,h.adjust)(this.primaryColor,{h:-90}),10),this.git6=(0,h.lighten)(this.pie7||(0,h.adjust)(this.primaryColor,{h:60}),10),this.git7=(0,h.lighten)(this.pie8||(0,h.adjust)(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||(0,h.invert)(this.git0),this.gitInv1=this.gitInv1||(0,h.invert)(this.git1),this.gitInv2=this.gitInv2||(0,h.invert)(this.git2),this.gitInv3=this.gitInv3||(0,h.invert)(this.git3),this.gitInv4=this.gitInv4||(0,h.invert)(this.git4),this.gitInv5=this.gitInv5||(0,h.invert)(this.git5),this.gitInv6=this.gitInv6||(0,h.invert)(this.git6),this.gitInv7=this.gitInv7||(0,h.invert)(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px"}},{key:"calculate",value:function(j){var X=this;if(O(j)==="object"){var W=Object.keys(j);W.forEach(function(V){X[V]=j[V]}),this.updateColors(),W.forEach(function(V){X[V]=j[V]})}else this.updateColors()}}])&&_($.prototype,F),Object.defineProperty($,"prototype",{writable:!1}),R}(),P=function(R){var $=new M;return $.calculate(R),$}},"./src/themes/theme-default.js":(E,C,v)=>{v.r(C),v.d(C,{getThemeVariables:()=>P});var h=v("khroma"),a=v("./src/themes/theme-helpers.js");function O(R){return O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},O(R)}function _(R,$){for(var F=0;F<$.length;F++){var j=$[F];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(R,j.key,j)}}var M=function(){function R(){(function(j,X){if(!(j instanceof X))throw new TypeError("Cannot call a class as a function")})(this,R),this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=(0,h.adjust)(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=(0,h.adjust)(this.primaryColor,{h:-160}),this.primaryBorderColor=(0,a.mkBorder)(this.primaryColor,this.darkMode),this.secondaryBorderColor=(0,a.mkBorder)(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=(0,a.mkBorder)(this.tertiaryColor,this.darkMode),this.primaryTextColor=(0,h.invert)(this.primaryColor),this.secondaryTextColor=(0,h.invert)(this.secondaryColor),this.tertiaryTextColor=(0,h.invert)(this.tertiaryColor),this.lineColor=(0,h.invert)(this.background),this.textColor=(0,h.invert)(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#e8e8e8",this.textColor="#333",this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=(0,h.rgba)(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}var $,F;return $=R,(F=[{key:"updateColors",value:function(){this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=(0,h.lighten)(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=(0,h.adjust)(this.primaryColor,{h:64}),this.fillType3=(0,h.adjust)(this.secondaryColor,{h:64}),this.fillType4=(0,h.adjust)(this.primaryColor,{h:-64}),this.fillType5=(0,h.adjust)(this.secondaryColor,{h:-64}),this.fillType6=(0,h.adjust)(this.primaryColor,{h:128}),this.fillType7=(0,h.adjust)(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||(0,h.adjust)(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||(0,h.adjust)(this.primaryColor,{l:-10}),this.pie5=this.pie5||(0,h.adjust)(this.secondaryColor,{l:-30}),this.pie6=this.pie6||(0,h.adjust)(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||(0,h.adjust)(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||(0,h.adjust)(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||(0,h.adjust)(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||(0,h.adjust)(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||(0,h.adjust)(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||(0,h.adjust)(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||(0,h.adjust)(this.primaryColor,{h:-30}),this.git4=this.git4||(0,h.adjust)(this.primaryColor,{h:-60}),this.git5=this.git5||(0,h.adjust)(this.primaryColor,{h:-90}),this.git6=this.git6||(0,h.adjust)(this.primaryColor,{h:60}),this.git7=this.git7||(0,h.adjust)(this.primaryColor,{h:120}),this.darkMode?(this.git0=(0,h.lighten)(this.git0,25),this.git1=(0,h.lighten)(this.git1,25),this.git2=(0,h.lighten)(this.git2,25),this.git3=(0,h.lighten)(this.git3,25),this.git4=(0,h.lighten)(this.git4,25),this.git5=(0,h.lighten)(this.git5,25),this.git6=(0,h.lighten)(this.git6,25),this.git7=(0,h.lighten)(this.git7,25)):(this.git0=(0,h.darken)(this.git0,25),this.git1=(0,h.darken)(this.git1,25),this.git2=(0,h.darken)(this.git2,25),this.git3=(0,h.darken)(this.git3,25),this.git4=(0,h.darken)(this.git4,25),this.git5=(0,h.darken)(this.git5,25),this.git6=(0,h.darken)(this.git6,25),this.git7=(0,h.darken)(this.git7,25)),this.gitInv0=this.gitInv0||(0,h.darken)((0,h.invert)(this.git0),25),this.gitInv1=this.gitInv1||(0,h.invert)(this.git1),this.gitInv2=this.gitInv2||(0,h.invert)(this.git2),this.gitInv3=this.gitInv3||(0,h.invert)(this.git3),this.gitInv4=this.gitInv4||(0,h.invert)(this.git4),this.gitInv5=this.gitInv5||(0,h.invert)(this.git5),this.gitInv6=this.gitInv6||(0,h.invert)(this.git6),this.gitInv7=this.gitInv7||(0,h.invert)(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||(0,h.invert)(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||(0,h.invert)(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px"}},{key:"calculate",value:function(j){var X=this;if(O(j)==="object"){var W=Object.keys(j);W.forEach(function(V){X[V]=j[V]}),this.updateColors(),W.forEach(function(V){X[V]=j[V]})}else this.updateColors()}}])&&_($.prototype,F),Object.defineProperty($,"prototype",{writable:!1}),R}(),P=function(R){var $=new M;return $.calculate(R),$}},"./src/themes/theme-forest.js":(E,C,v)=>{v.r(C),v.d(C,{getThemeVariables:()=>P});var h=v("khroma"),a=v("./src/themes/theme-helpers.js");function O(R){return O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},O(R)}function _(R,$){for(var F=0;F<$.length;F++){var j=$[F];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(R,j.key,j)}}var M=function(){function R(){(function(j,X){if(!(j instanceof X))throw new TypeError("Cannot call a class as a function")})(this,R),this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=(0,h.lighten)("#cde498",10),this.primaryBorderColor=(0,a.mkBorder)(this.primaryColor,this.darkMode),this.secondaryBorderColor=(0,a.mkBorder)(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=(0,a.mkBorder)(this.tertiaryColor,this.darkMode),this.primaryTextColor=(0,h.invert)(this.primaryColor),this.secondaryTextColor=(0,h.invert)(this.secondaryColor),this.tertiaryTextColor=(0,h.invert)(this.primaryColor),this.lineColor=(0,h.invert)(this.background),this.textColor=(0,h.invert)(this.background),this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}var $,F;return $=R,(F=[{key:"updateColors",value:function(){this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.actorBorder=(0,h.darken)(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=(0,h.adjust)(this.primaryColor,{h:64}),this.fillType3=(0,h.adjust)(this.secondaryColor,{h:64}),this.fillType4=(0,h.adjust)(this.primaryColor,{h:-64}),this.fillType5=(0,h.adjust)(this.secondaryColor,{h:-64}),this.fillType6=(0,h.adjust)(this.primaryColor,{h:128}),this.fillType7=(0,h.adjust)(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||(0,h.adjust)(this.primaryColor,{l:-30}),this.pie5=this.pie5||(0,h.adjust)(this.secondaryColor,{l:-30}),this.pie6=this.pie6||(0,h.adjust)(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||(0,h.adjust)(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||(0,h.adjust)(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||(0,h.adjust)(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||(0,h.adjust)(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||(0,h.adjust)(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||(0,h.adjust)(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||(0,h.adjust)(this.primaryColor,{h:-30}),this.git4=this.git4||(0,h.adjust)(this.primaryColor,{h:-60}),this.git5=this.git5||(0,h.adjust)(this.primaryColor,{h:-90}),this.git6=this.git6||(0,h.adjust)(this.primaryColor,{h:60}),this.git7=this.git7||(0,h.adjust)(this.primaryColor,{h:120}),this.darkMode?(this.git0=(0,h.lighten)(this.git0,25),this.git1=(0,h.lighten)(this.git1,25),this.git2=(0,h.lighten)(this.git2,25),this.git3=(0,h.lighten)(this.git3,25),this.git4=(0,h.lighten)(this.git4,25),this.git5=(0,h.lighten)(this.git5,25),this.git6=(0,h.lighten)(this.git6,25),this.git7=(0,h.lighten)(this.git7,25)):(this.git0=(0,h.darken)(this.git0,25),this.git1=(0,h.darken)(this.git1,25),this.git2=(0,h.darken)(this.git2,25),this.git3=(0,h.darken)(this.git3,25),this.git4=(0,h.darken)(this.git4,25),this.git5=(0,h.darken)(this.git5,25),this.git6=(0,h.darken)(this.git6,25),this.git7=(0,h.darken)(this.git7,25)),this.gitInv0=this.gitInv0||(0,h.invert)(this.git0),this.gitInv1=this.gitInv1||(0,h.invert)(this.git1),this.gitInv2=this.gitInv2||(0,h.invert)(this.git2),this.gitInv3=this.gitInv3||(0,h.invert)(this.git3),this.gitInv4=this.gitInv4||(0,h.invert)(this.git4),this.gitInv5=this.gitInv5||(0,h.invert)(this.git5),this.gitInv6=this.gitInv6||(0,h.invert)(this.git6),this.gitInv7=this.gitInv7||(0,h.invert)(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px"}},{key:"calculate",value:function(j){var X=this;if(O(j)==="object"){var W=Object.keys(j);W.forEach(function(V){X[V]=j[V]}),this.updateColors(),W.forEach(function(V){X[V]=j[V]})}else this.updateColors()}}])&&_($.prototype,F),Object.defineProperty($,"prototype",{writable:!1}),R}(),P=function(R){var $=new M;return $.calculate(R),$}},"./src/themes/theme-helpers.js":(E,C,v)=>{v.r(C),v.d(C,{mkBorder:()=>a});var h=v("khroma"),a=function(O,_){return _?(0,h.adjust)(O,{s:-40,l:10}):(0,h.adjust)(O,{s:-40,l:-10})}},"./src/themes/theme-neutral.js":(E,C,v)=>{v.r(C),v.d(C,{getThemeVariables:()=>P});var h=v("khroma"),a=v("./src/themes/theme-helpers.js");function O(R){return O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},O(R)}function _(R,$){for(var F=0;F<$.length;F++){var j=$[F];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(R,j.key,j)}}var M=function(){function R(){(function(j,X){if(!(j instanceof X))throw new TypeError("Cannot call a class as a function")})(this,R),this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=(0,h.lighten)(this.contrast,55),this.background="#ffffff",this.tertiaryColor=(0,h.adjust)(this.primaryColor,{h:-160}),this.primaryBorderColor=(0,a.mkBorder)(this.primaryColor,this.darkMode),this.secondaryBorderColor=(0,a.mkBorder)(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=(0,a.mkBorder)(this.tertiaryColor,this.darkMode),this.primaryTextColor=(0,h.invert)(this.primaryColor),this.secondaryTextColor=(0,h.invert)(this.secondaryColor),this.tertiaryTextColor=(0,h.invert)(this.tertiaryColor),this.lineColor=(0,h.invert)(this.background),this.textColor=(0,h.invert)(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}var $,F;return $=R,(F=[{key:"updateColors",value:function(){this.secondBkg=(0,h.lighten)(this.contrast,55),this.border2=this.contrast,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.actorBorder=(0,h.lighten)(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.lineColor,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.sectionBkgColor=(0,h.lighten)(this.contrast,30),this.sectionBkgColor2=(0,h.lighten)(this.contrast,30),this.taskBorderColor=(0,h.darken)(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=(0,h.lighten)(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=(0,h.darken)(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=(0,h.adjust)(this.primaryColor,{h:64}),this.fillType3=(0,h.adjust)(this.secondaryColor,{h:64}),this.fillType4=(0,h.adjust)(this.primaryColor,{h:-64}),this.fillType5=(0,h.adjust)(this.secondaryColor,{h:-64}),this.fillType6=(0,h.adjust)(this.primaryColor,{h:128}),this.fillType7=(0,h.adjust)(this.secondaryColor,{h:128}),this.pie1=this.pie1||"#F4F4F4",this.pie2=this.pie2||"#555",this.pie3=this.pie3||"#BBB",this.pie4=this.pie4||"#777",this.pie5=this.pie5||"#999",this.pie6=this.pie6||"#DDD",this.pie7=this.pie7||"#FFF",this.pie8=this.pie8||"#DDD",this.pie9=this.pie9||"#BBB",this.pie10=this.pie10||"#999",this.pie11=this.pie11||"#777",this.pie12=this.pie12||"#555",this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=(0,h.darken)(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||(0,h.adjust)(this.primaryColor,{h:-30}),this.git4=this.pie5||(0,h.adjust)(this.primaryColor,{h:-60}),this.git5=this.pie6||(0,h.adjust)(this.primaryColor,{h:-90}),this.git6=this.pie7||(0,h.adjust)(this.primaryColor,{h:60}),this.git7=this.pie8||(0,h.adjust)(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||(0,h.invert)(this.git0),this.gitInv1=this.gitInv1||(0,h.invert)(this.git1),this.gitInv2=this.gitInv2||(0,h.invert)(this.git2),this.gitInv3=this.gitInv3||(0,h.invert)(this.git3),this.gitInv4=this.gitInv4||(0,h.invert)(this.git4),this.gitInv5=this.gitInv5||(0,h.invert)(this.git5),this.gitInv6=this.gitInv6||(0,h.invert)(this.git6),this.gitInv7=this.gitInv7||(0,h.invert)(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px"}},{key:"calculate",value:function(j){var X=this;if(O(j)==="object"){var W=Object.keys(j);W.forEach(function(V){X[V]=j[V]}),this.updateColors(),W.forEach(function(V){X[V]=j[V]})}else this.updateColors()}}])&&_($.prototype,F),Object.defineProperty($,"prototype",{writable:!1}),R}(),P=function(R){var $=new M;return $.calculate(R),$}},"./src/utils.js":(E,C,v)=>{v.r(C),v.d(C,{assignWithDepth:()=>Yt,calculateSvgSizeAttrs:()=>_t,calculateTextDimensions:()=>re,calculateTextHeight:()=>se,calculateTextWidth:()=>ue,configureSvgSize:()=>ut,default:()=>Wt,detectDirective:()=>lt,detectInit:()=>ct,detectType:()=>J,directiveSanitizer:()=>Vt,drawSimpleText:()=>Qt,entityDecode:()=>Nt,formatUrl:()=>St,generateId:()=>Pt,getStylesFromArray:()=>kt,getTextObj:()=>ne,initIdGenerator:()=>qt,interpolateToCurve:()=>Ct,isSubstringInArray:()=>Tt,random:()=>mt,runFunc:()=>at,sanitizeCss:()=>Ut,setupGraphViewbox:()=>Mt,wrapLabel:()=>Kt});var h=v("@braintree/sanitize-url"),a=v("d3"),O=v("./src/diagrams/common/common.js"),_=v("./src/defaultConfig.js"),M=v("./src/logger.js"),P=void 0;function R(Ft,jt){for(var ee=0;ee<jt.length;ee++){var Lt=jt[ee];Lt.enumerable=Lt.enumerable||!1,Lt.configurable=!0,"value"in Lt&&(Lt.writable=!0),Object.defineProperty(Ft,Lt.key,Lt)}}function $(Ft,jt){var ee=typeof Symbol!="undefined"&&Ft[Symbol.iterator]||Ft["@@iterator"];if(!ee){if(Array.isArray(Ft)||(ee=X(Ft))||jt&&Ft&&typeof Ft.length=="number"){ee&&(Ft=ee);var Lt=0,he=function(){};return{s:he,n:function(){return Lt>=Ft.length?{done:!0}:{done:!1,value:Ft[Lt++]}},e:function(we){throw we},f:he}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ht,Se=!0,Te=!1;return{s:function(){ee=ee.call(Ft)},n:function(){var we=ee.next();return Se=we.done,we},e:function(we){Te=!0,Ht=we},f:function(){try{Se||ee.return==null||ee.return()}finally{if(Te)throw Ht}}}}function F(Ft){return F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(jt){return typeof jt}:function(jt){return jt&&typeof Symbol=="function"&&jt.constructor===Symbol&&jt!==Symbol.prototype?"symbol":typeof jt},F(Ft)}function j(Ft){return function(jt){if(Array.isArray(jt))return W(jt)}(Ft)||function(jt){if(typeof Symbol!="undefined"&&jt[Symbol.iterator]!=null||jt["@@iterator"]!=null)return Array.from(jt)}(Ft)||X(Ft)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function X(Ft,jt){if(Ft){if(typeof Ft=="string")return W(Ft,jt);var ee=Object.prototype.toString.call(Ft).slice(8,-1);return ee==="Object"&&Ft.constructor&&(ee=Ft.constructor.name),ee==="Map"||ee==="Set"?Array.from(Ft):ee==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ee)?W(Ft,jt):void 0}}function W(Ft,jt){(jt==null||jt>Ft.length)&&(jt=Ft.length);for(var ee=0,Lt=new Array(jt);ee<jt;ee++)Lt[ee]=Ft[ee];return Lt}var V,K={curveBasis:a.curveBasis,curveBasisClosed:a.curveBasisClosed,curveBasisOpen:a.curveBasisOpen,curveLinear:a.curveLinear,curveLinearClosed:a.curveLinearClosed,curveMonotoneX:a.curveMonotoneX,curveMonotoneY:a.curveMonotoneY,curveNatural:a.curveNatural,curveStep:a.curveStep,curveStepAfter:a.curveStepAfter,curveStepBefore:a.curveStepBefore},st=/[%]{2}[{]\s*(?:(?:(\w+)\s*:|(\w+))\s*(?:(?:(\w+))|((?:(?![}][%]{2}).|\r?\n)*))?\s*)(?:[}][%]{2})?/gi,it=/\s*(?:(?:(\w+)(?=:):|(\w+))\s*(?:(?:(\w+))|((?:(?![}][%]{2}).|\r?\n)*))?\s*)(?:[}][%]{2})?/gi,pt=/\s*%%.*\n/gm,ct=function(Ft,jt){var ee=lt(Ft,/(?:init\b)|(?:initialize\b)/),Lt={};if(Array.isArray(ee)){var he=ee.map(function(Se){return Se.args});Vt(he),Lt=Yt(Lt,j(he))}else Lt=ee.args;if(Lt){var Ht=J(Ft,jt);["config"].forEach(function(Se){Lt[Se]!==void 0&&(Ht==="flowchart-v2"&&(Ht="flowchart"),Lt[Ht]=Lt[Se],delete Lt[Se])})}return Lt},lt=function(Ft){var jt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;try{var ee=new RegExp("[%]{2}(?![{]".concat(it.source,`)(?=[}][%]{2}).*
`),"ig");Ft=Ft.trim().replace(ee,"").replace(/'/gm,'"'),M.log.debug("Detecting diagram directive".concat(jt!==null?" type:"+jt:""," based on the text:").concat(Ft));for(var Lt,he=[];(Lt=st.exec(Ft))!==null;)if(Lt.index===st.lastIndex&&st.lastIndex++,Lt&&!jt||jt&&Lt[1]&&Lt[1].match(jt)||jt&&Lt[2]&&Lt[2].match(jt)){var Ht=Lt[1]?Lt[1]:Lt[2],Se=Lt[3]?Lt[3].trim():Lt[4]?JSON.parse(Lt[4].trim()):null;he.push({type:Ht,args:Se})}return he.length===0&&he.push({type:Ft,args:null}),he.length===1?he[0]:he}catch(Te){return M.log.error("ERROR: ".concat(Te.message,` - Unable to parse directive
      `).concat(jt!==null?" type:"+jt:""," based on the text:").concat(Ft)),{type:null,args:null}}},J=function(Ft,jt){return(Ft=Ft.replace(st,"").replace(pt,`
`)).match(/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/)?"c4":Ft.match(/^\s*sequenceDiagram/)?"sequence":Ft.match(/^\s*gantt/)?"gantt":Ft.match(/^\s*classDiagram-v2/)?"classDiagram":Ft.match(/^\s*classDiagram/)?jt&&jt.class&&jt.class.defaultRenderer==="dagre-wrapper"?"classDiagram":"class":Ft.match(/^\s*stateDiagram-v2/)?"stateDiagram":Ft.match(/^\s*stateDiagram/)?jt&&jt.class&&jt.state.defaultRenderer==="dagre-wrapper"?"stateDiagram":"state":Ft.match(/^\s*gitGraph/)?"gitGraph":Ft.match(/^\s*flowchart/)?"flowchart-v2":Ft.match(/^\s*info/)?"info":Ft.match(/^\s*pie/)?"pie":Ft.match(/^\s*erDiagram/)?"er":Ft.match(/^\s*journey/)?"journey":Ft.match(/^\s*requirement/)||Ft.match(/^\s*requirementDiagram/)?"requirement":jt&&jt.flowchart&&jt.flowchart.defaultRenderer==="dagre-wrapper"?"flowchart-v2":"flowchart"},Bt=function(Ft,jt){var ee={};return function(){for(var Lt=arguments.length,he=new Array(Lt),Ht=0;Ht<Lt;Ht++)he[Ht]=arguments[Ht];var Se=jt?jt.apply(P,he):he[0];if(Se in ee)return ee[Se];var Te=Ft.apply(void 0,he);return ee[Se]=Te,Te}},Tt=function(Ft,jt){for(var ee=0;ee<jt.length;ee++)if(jt[ee].match(Ft))return ee;return-1},Ct=function(Ft,jt){if(!Ft)return jt;var ee="curve".concat(Ft.charAt(0).toUpperCase()+Ft.slice(1));return K[ee]||jt},St=function(Ft,jt){var ee=Ft.trim();if(ee)return jt.securityLevel!=="loose"?(0,h.sanitizeUrl)(ee):ee},at=function(Ft){for(var jt,ee=Ft.split("."),Lt=ee.length-1,he=ee[Lt],Ht=window,Se=0;Se<Lt;Se++)if(!(Ht=Ht[ee[Se]]))return;for(var Te=arguments.length,we=new Array(Te>1?Te-1:0),Ue=1;Ue<Te;Ue++)we[Ue-1]=arguments[Ue];(jt=Ht)[he].apply(jt,we)},yt=function(Ft,jt){return Ft&&jt?Math.sqrt(Math.pow(jt.x-Ft.x,2)+Math.pow(jt.y-Ft.y,2)):0},kt=function(Ft){for(var jt="",ee="",Lt=0;Lt<Ft.length;Lt++)Ft[Lt]!==void 0&&(Ft[Lt].startsWith("color:")||Ft[Lt].startsWith("text-align:")?ee=ee+Ft[Lt]+";":jt=jt+Ft[Lt]+";");return{style:jt,labelStyle:ee}},xt=0,Pt=function(){return xt++,"id-"+Math.random().toString(36).substr(2,12)+"-"+xt},mt=function(Ft){return function(jt){for(var ee="",Lt="0123456789abcdef",he=Lt.length,Ht=0;Ht<jt;Ht++)ee+=Lt.charAt(Math.floor(Math.random()*he));return ee}(Ft.length)},Yt=function Ft(jt,ee,Lt){var he=Object.assign({depth:2,clobber:!1},Lt),Ht=he.depth,Se=he.clobber;return Array.isArray(ee)&&!Array.isArray(jt)?(ee.forEach(function(Te){return Ft(jt,Te,Lt)}),jt):Array.isArray(ee)&&Array.isArray(jt)?(ee.forEach(function(Te){jt.indexOf(Te)===-1&&jt.push(Te)}),jt):jt===void 0||Ht<=0?jt!=null&&F(jt)==="object"&&F(ee)==="object"?Object.assign(jt,ee):ee:(ee!==void 0&&F(jt)==="object"&&F(ee)==="object"&&Object.keys(ee).forEach(function(Te){F(ee[Te])!=="object"||jt[Te]!==void 0&&F(jt[Te])!=="object"?(Se||F(jt[Te])!=="object"&&F(ee[Te])!=="object")&&(jt[Te]=ee[Te]):(jt[Te]===void 0&&(jt[Te]=Array.isArray(ee[Te])?[]:{}),jt[Te]=Ft(jt[Te],ee[Te],{depth:Ht-1,clobber:Se}))}),jt)},ne=function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0}},Qt=function(Ft,jt){var ee=jt.text.replace(O.default.lineBreakRegex," "),Lt=Ft.append("text");Lt.attr("x",jt.x),Lt.attr("y",jt.y),Lt.style("text-anchor",jt.anchor),Lt.style("font-family",jt.fontFamily),Lt.style("font-size",jt.fontSize),Lt.style("font-weight",jt.fontWeight),Lt.attr("fill",jt.fill),jt.class!==void 0&&Lt.attr("class",jt.class);var he=Lt.append("tspan");return he.attr("x",jt.x+2*jt.textMargin),he.attr("fill",jt.fill),he.text(ee),Lt},Kt=Bt(function(Ft,jt,ee){if(!Ft||(ee=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},ee),O.default.lineBreakRegex.test(Ft)))return Ft;var Lt=Ft.split(" "),he=[],Ht="";return Lt.forEach(function(Se,Te){var we=ue("".concat(Se," "),ee),Ue=ue(Ht,ee);if(we>jt){var We=Xt(Se,jt,"-",ee),De=We.hyphenatedStrings,me=We.remainingWord;he.push.apply(he,[Ht].concat(j(De))),Ht=me}else Ue+we>=jt?(he.push(Ht),Ht=Se):Ht=[Ht,Se].filter(Boolean).join(" ");Te+1===Lt.length&&he.push(Ht)}),he.filter(function(Se){return Se!==""}).join(ee.joinWith)},function(Ft,jt,ee){return"".concat(Ft,"-").concat(jt,"-").concat(ee.fontSize,"-").concat(ee.fontWeight,"-").concat(ee.fontFamily,"-").concat(ee.joinWith)}),Xt=Bt(function(Ft,jt){var ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"-",Lt=arguments.length>3?arguments[3]:void 0;Lt=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},Lt);var he=Ft.split(""),Ht=[],Se="";return he.forEach(function(Te,we){var Ue="".concat(Se).concat(Te);if(ue(Ue,Lt)>=jt){var We=we+1,De=he.length===We,me="".concat(Ue).concat(ee);Ht.push(De?Ue:me),Se=""}else Se=Ue}),{hyphenatedStrings:Ht,remainingWord:Se}},function(Ft,jt){var ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"-",Lt=arguments.length>3?arguments[3]:void 0;return"".concat(Ft,"-").concat(jt,"-").concat(ee,"-").concat(Lt.fontSize,"-").concat(Lt.fontWeight,"-").concat(Lt.fontFamily)}),se=function(Ft,jt){return jt=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:15},jt),re(Ft,jt).height},ue=function(Ft,jt){return jt=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},jt),re(Ft,jt).width},re=Bt(function(Ft,jt){var ee=jt=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},jt),Lt=ee.fontSize,he=ee.fontFamily,Ht=ee.fontWeight;if(!Ft)return{width:0,height:0};var Se=["sans-serif",he],Te=Ft.split(O.default.lineBreakRegex),we=[],Ue=(0,a.select)("body");if(!Ue.remove)return{width:0,height:0,lineHeight:0};for(var We=Ue.append("svg"),De=0,me=Se;De<me.length;De++){var Oe,Pe=me[De],ze=0,He={width:0,height:0,lineHeight:0},dn=$(Te);try{for(dn.s();!(Oe=dn.n()).done;){var Mn=Oe.value,Kn=ne();Kn.text=Mn;var an=Qt(We,Kn).style("font-size",Lt).style("font-weight",Ht).style("font-family",Pe),mn=(an._groups||an)[0][0].getBBox();He.width=Math.round(Math.max(He.width,mn.width)),ze=Math.round(mn.height),He.height+=ze,He.lineHeight=Math.round(Math.max(He.lineHeight,ze))}}catch(Bn){dn.e(Bn)}finally{dn.f()}we.push(He)}return We.remove(),we[isNaN(we[1].height)||isNaN(we[1].width)||isNaN(we[1].lineHeight)||we[0].height>we[1].height&&we[0].width>we[1].width&&we[0].lineHeight>we[1].lineHeight?0:1]},function(Ft,jt){return"".concat(Ft,"-").concat(jt.fontSize,"-").concat(jt.fontWeight,"-").concat(jt.fontFamily)}),_t=function(Ft,jt,ee){var Lt=new Map;return Lt.set("height",Ft),ee?(Lt.set("width","100%"),Lt.set("style","max-width: ".concat(jt,"px;"))):Lt.set("width",jt),Lt},ut=function(Ft,jt,ee,Lt){(function(he,Ht){var Se,Te=$(Ht);try{for(Te.s();!(Se=Te.n()).done;){var we=Se.value;he.attr(we[0],we[1])}}catch(Ue){Te.e(Ue)}finally{Te.f()}})(Ft,_t(jt,ee,Lt))},Mt=function(Ft,jt,ee,Lt){var he=jt.node().getBBox(),Ht=he.width,Se=he.height,Te=Ft._label.width,we=Ft._label.height,Ue=0,We=0;Ht>Te?(Ue=(Ht-Te)/2+ee,Te=Ht+2*ee):Math.abs(Ht-Te)>=2*ee+1&&(Te-=ee),Se>we&&(We=(Se-we)/2+ee,we=Se+2*ee),ut(jt,we,Te,Lt);var De="0 0 ".concat(Te," ").concat(we);M.log.debug("Graph.label",Ft._label,"swidth",Ht,"sheight",Se,"width",Te,"height",we,"tx",Ue,"ty",We,"vBox",De),jt.attr("viewBox",De),jt.select("g").attr("transform","translate(".concat(Ue,", ").concat(We,")"))},qt=function(){function Ft(Lt,he){(function(Ht,Se){if(!(Ht instanceof Se))throw new TypeError("Cannot call a class as a function")})(this,Ft),this.deterministic=Lt,this.seed=he,this.count=he?he.length:0}var jt,ee;return jt=Ft,(ee=[{key:"next",value:function(){return this.deterministic?this.count++:Date.now()}}])&&R(jt.prototype,ee),Object.defineProperty(jt,"prototype",{writable:!1}),Ft}(),Nt=function(Ft){return V=V||document.createElement("div"),Ft=escape(Ft).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),V.innerHTML=Ft,unescape(V.textContent)},Vt=function Ft(jt){if(M.log.debug("directiveSanitizer called with",jt),F(jt)==="object"&&(jt.length?jt.forEach(function(Se){return Ft(Se)}):Object.keys(jt).forEach(function(Se){M.log.debug("Checking key",Se),Se.indexOf("__")===0&&(M.log.debug("sanitize deleting __ option",Se),delete jt[Se]),Se.indexOf("proto")>=0&&(M.log.debug("sanitize deleting proto option",Se),delete jt[Se]),Se.indexOf("constr")>=0&&(M.log.debug("sanitize deleting constr option",Se),delete jt[Se]),Se.indexOf("themeCSS")>=0&&(M.log.debug("sanitizing themeCss option"),jt[Se]=Ut(jt[Se])),Se.indexOf("fontFamily")>=0&&(M.log.debug("sanitizing fontFamily option"),jt[Se]=Ut(jt[Se])),Se.indexOf("altFontFamily")>=0&&(M.log.debug("sanitizing altFontFamily option"),jt[Se]=Ut(jt[Se])),_.configKeys.indexOf(Se)<0?(M.log.debug("sanitize deleting option",Se),delete jt[Se]):F(jt[Se])==="object"&&(M.log.debug("sanitize deleting object",Se),Ft(jt[Se]))})),jt.themeVariables)for(var ee=Object.keys(jt.themeVariables),Lt=0;Lt<ee.length;Lt++){var he=ee[Lt],Ht=jt.themeVariables[he];Ht&&Ht.match&&!Ht.match(/^[a-zA-Z0-9#,";()%. ]+$/)&&(jt.themeVariables[he]="")}M.log.debug("After sanitization",jt)},Ut=function(Ft){for(var jt=0,ee=0,Lt=0;Lt<Ft.length;Lt++){if(jt<ee)return"{ /* ERROR: Unbalanced CSS */ }";Ft[Lt]==="{"?jt++:Ft[Lt]==="}"&&ee++}return jt!==ee?"{ /* ERROR: Unbalanced CSS */ }":Ft};const Wt={assignWithDepth:Yt,wrapLabel:Kt,calculateTextHeight:se,calculateTextWidth:ue,calculateTextDimensions:re,calculateSvgSizeAttrs:_t,configureSvgSize:ut,setupGraphViewbox:Mt,detectInit:ct,detectDirective:lt,detectType:J,isSubstringInArray:Tt,interpolateToCurve:Ct,calcLabelPosition:function(Ft){return Ft.length===1?Ft[0]:function(jt){var ee,Lt=0;jt.forEach(function(Se){Lt+=yt(Se,ee),ee=Se});var he=Lt/2,Ht=void 0;return ee=void 0,jt.forEach(function(Se){if(ee&&!Ht){var Te=yt(Se,ee);if(Te<he)he-=Te;else{var we=he/Te;we<=0&&(Ht=ee),we>=1&&(Ht={x:Se.x,y:Se.y}),we>0&&we<1&&(Ht={x:(1-we)*ee.x+we*Se.x,y:(1-we)*ee.y+we*Se.y})}}ee=Se}),Ht}(Ft)},calcCardinalityPosition:function(Ft,jt,ee){var Lt;M.log.info("our points",jt),jt[0]!==ee&&(jt=jt.reverse()),jt.forEach(function(Ue){yt(Ue,Lt),Lt=Ue});var he,Ht=25;Lt=void 0,jt.forEach(function(Ue){if(Lt&&!he){var We=yt(Ue,Lt);if(We<Ht)Ht-=We;else{var De=Ht/We;De<=0&&(he=Lt),De>=1&&(he={x:Ue.x,y:Ue.y}),De>0&&De<1&&(he={x:(1-De)*Lt.x+De*Ue.x,y:(1-De)*Lt.y+De*Ue.y})}}Lt=Ue});var Se=Ft?10:5,Te=Math.atan2(jt[0].y-he.y,jt[0].x-he.x),we={x:0,y:0};return we.x=Math.sin(Te)*Se+(jt[0].x+he.x)/2,we.y=-Math.cos(Te)*Se+(jt[0].y+he.y)/2,we},calcTerminalLabelPosition:function(Ft,jt,ee){var Lt,he=JSON.parse(JSON.stringify(ee));M.log.info("our points",he),jt!=="start_left"&&jt!=="start_right"&&(he=he.reverse()),he.forEach(function(We){yt(We,Lt),Lt=We});var Ht,Se=25+Ft;Lt=void 0,he.forEach(function(We){if(Lt&&!Ht){var De=yt(We,Lt);if(De<Se)Se-=De;else{var me=Se/De;me<=0&&(Ht=Lt),me>=1&&(Ht={x:We.x,y:We.y}),me>0&&me<1&&(Ht={x:(1-me)*Lt.x+me*We.x,y:(1-me)*Lt.y+me*We.y})}}Lt=We});var Te=10+.5*Ft,we=Math.atan2(he[0].y-Ht.y,he[0].x-Ht.x),Ue={x:0,y:0};return Ue.x=Math.sin(we)*Te+(he[0].x+Ht.x)/2,Ue.y=-Math.cos(we)*Te+(he[0].y+Ht.y)/2,jt==="start_left"&&(Ue.x=Math.sin(we+Math.PI)*Te+(he[0].x+Ht.x)/2,Ue.y=-Math.cos(we+Math.PI)*Te+(he[0].y+Ht.y)/2),jt==="end_right"&&(Ue.x=Math.sin(we-Math.PI)*Te+(he[0].x+Ht.x)/2-5,Ue.y=-Math.cos(we-Math.PI)*Te+(he[0].y+Ht.y)/2-5),jt==="end_left"&&(Ue.x=Math.sin(we)*Te+(he[0].x+Ht.x)/2-5,Ue.y=-Math.cos(we)*Te+(he[0].y+Ht.y)/2-5),Ue},formatUrl:St,getStylesFromArray:kt,generateId:Pt,random:mt,memoize:Bt,runFunc:at,entityDecode:Nt,initIdGenerator:qt,directiveSanitizer:Vt,sanitizeCss:Ut}},"./node_modules/path-browserify/index.js":E=>{function C(a){if(typeof a!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(a))}function v(a,O){for(var _,M="",P=0,R=-1,$=0,F=0;F<=a.length;++F){if(F<a.length)_=a.charCodeAt(F);else{if(_===47)break;_=47}if(_===47){if(!(R===F-1||$===1))if(R!==F-1&&$===2){if(M.length<2||P!==2||M.charCodeAt(M.length-1)!==46||M.charCodeAt(M.length-2)!==46){if(M.length>2){var j=M.lastIndexOf("/");if(j!==M.length-1){j===-1?(M="",P=0):P=(M=M.slice(0,j)).length-1-M.lastIndexOf("/"),R=F,$=0;continue}}else if(M.length===2||M.length===1){M="",P=0,R=F,$=0;continue}}O&&(M.length>0?M+="/..":M="..",P=2)}else M.length>0?M+="/"+a.slice(R+1,F):M=a.slice(R+1,F),P=F-R-1;R=F,$=0}else _===46&&$!==-1?++$:$=-1}return M}var h={resolve:function(){for(var a,O="",_=!1,M=arguments.length-1;M>=-1&&!_;M--){var P;M>=0?P=arguments[M]:(a===void 0&&(a=process.cwd()),P=a),C(P),P.length!==0&&(O=P+"/"+O,_=P.charCodeAt(0)===47)}return O=v(O,!_),_?O.length>0?"/"+O:"/":O.length>0?O:"."},normalize:function(a){if(C(a),a.length===0)return".";var O=a.charCodeAt(0)===47,_=a.charCodeAt(a.length-1)===47;return(a=v(a,!O)).length!==0||O||(a="."),a.length>0&&_&&(a+="/"),O?"/"+a:a},isAbsolute:function(a){return C(a),a.length>0&&a.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var a,O=0;O<arguments.length;++O){var _=arguments[O];C(_),_.length>0&&(a===void 0?a=_:a+="/"+_)}return a===void 0?".":h.normalize(a)},relative:function(a,O){if(C(a),C(O),a===O||(a=h.resolve(a))===(O=h.resolve(O)))return"";for(var _=1;_<a.length&&a.charCodeAt(_)===47;++_);for(var M=a.length,P=M-_,R=1;R<O.length&&O.charCodeAt(R)===47;++R);for(var $=O.length-R,F=P<$?P:$,j=-1,X=0;X<=F;++X){if(X===F){if($>F){if(O.charCodeAt(R+X)===47)return O.slice(R+X+1);if(X===0)return O.slice(R+X)}else P>F&&(a.charCodeAt(_+X)===47?j=X:X===0&&(j=0));break}var W=a.charCodeAt(_+X);if(W!==O.charCodeAt(R+X))break;W===47&&(j=X)}var V="";for(X=_+j+1;X<=M;++X)X!==M&&a.charCodeAt(X)!==47||(V.length===0?V+="..":V+="/..");return V.length>0?V+O.slice(R+j):(R+=j,O.charCodeAt(R)===47&&++R,O.slice(R))},_makeLong:function(a){return a},dirname:function(a){if(C(a),a.length===0)return".";for(var O=a.charCodeAt(0),_=O===47,M=-1,P=!0,R=a.length-1;R>=1;--R)if((O=a.charCodeAt(R))===47){if(!P){M=R;break}}else P=!1;return M===-1?_?"/":".":_&&M===1?"//":a.slice(0,M)},basename:function(a,O){if(O!==void 0&&typeof O!="string")throw new TypeError('"ext" argument must be a string');C(a);var _,M=0,P=-1,R=!0;if(O!==void 0&&O.length>0&&O.length<=a.length){if(O.length===a.length&&O===a)return"";var $=O.length-1,F=-1;for(_=a.length-1;_>=0;--_){var j=a.charCodeAt(_);if(j===47){if(!R){M=_+1;break}}else F===-1&&(R=!1,F=_+1),$>=0&&(j===O.charCodeAt($)?--$==-1&&(P=_):($=-1,P=F))}return M===P?P=F:P===-1&&(P=a.length),a.slice(M,P)}for(_=a.length-1;_>=0;--_)if(a.charCodeAt(_)===47){if(!R){M=_+1;break}}else P===-1&&(R=!1,P=_+1);return P===-1?"":a.slice(M,P)},extname:function(a){C(a);for(var O=-1,_=0,M=-1,P=!0,R=0,$=a.length-1;$>=0;--$){var F=a.charCodeAt($);if(F!==47)M===-1&&(P=!1,M=$+1),F===46?O===-1?O=$:R!==1&&(R=1):O!==-1&&(R=-1);else if(!P){_=$+1;break}}return O===-1||M===-1||R===0||R===1&&O===M-1&&O===_+1?"":a.slice(O,M)},format:function(a){if(a===null||typeof a!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof a);return function(O,_){var M=_.dir||_.root,P=_.base||(_.name||"")+(_.ext||"");return M?M===_.root?M+P:M+"/"+P:P}(0,a)},parse:function(a){C(a);var O={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return O;var _,M=a.charCodeAt(0),P=M===47;P?(O.root="/",_=1):_=0;for(var R=-1,$=0,F=-1,j=!0,X=a.length-1,W=0;X>=_;--X)if((M=a.charCodeAt(X))!==47)F===-1&&(j=!1,F=X+1),M===46?R===-1?R=X:W!==1&&(W=1):R!==-1&&(W=-1);else if(!j){$=X+1;break}return R===-1||F===-1||W===0||W===1&&R===F-1&&R===$+1?F!==-1&&(O.base=O.name=$===0&&P?a.slice(1,F):a.slice($,F)):($===0&&P?(O.name=a.slice(1,R),O.base=a.slice(1,F)):(O.name=a.slice($,R),O.base=a.slice($,F)),O.ext=a.slice(R,F)),$>0?O.dir=a.slice(0,$-1):P&&(O.dir="/"),O},sep:"/",delimiter:":",win32:null,posix:null};h.posix=h,E.exports=h},"@braintree/sanitize-url":E=>{E.exports=s(7967)},d3:E=>{E.exports=s(1728)},dagre:E=>{E.exports=s(681)},"dagre-d3":E=>{E.exports=s(4949)},"dagre-d3/lib/label/add-html-label.js":E=>{E.exports=s(8284)},dompurify:E=>{E.exports=s(7856)},graphlib:E=>{E.exports=s(8282)},khroma:E=>{E.exports=s(3706)},"moment-mini":E=>{E.exports=s(1941)},stylis:E=>{E.exports=s(6783)},"?1da1":()=>{},"?35ed":()=>{},"?3c87":()=>{},"?dbae":()=>{},"?8ed1":()=>{},"?2b40":()=>{},"?c5f1":()=>{},"?a3fa":()=>{},"?ebf4":()=>{},"?e940":()=>{},"?a3b8":()=>{},"?0f62":()=>{},"./package.json":E=>{E.exports=JSON.parse('{"name":"mermaid","version":"9.1.3","description":"Markdownish syntax for generating flowcharts, sequence diagrams, class diagrams, gantt charts and git graphs.","main":"dist/mermaid.core.js","module":"dist/mermaid.esm.min.mjs","exports":{".":{"require":"./dist/mermaid.core.js","import":"./dist/mermaid.esm.min.mjs"},"./*":"./*"},"keywords":["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph"],"scripts":{"build:development":"webpack --mode development --progress --color","build:production":"webpack --mode production --progress --color","build":"concurrently \\"yarn build:development\\" \\"yarn build:production\\"","postbuild":"documentation build src/mermaidAPI.js src/config.js src/defaultConfig.js --shallow -f md --markdown-toc false > docs/Setup.md","build:watch":"yarn build:development --watch","release":"yarn build","lint":"eslint ./ --ext .js,.json,.html,.md","lint:fix":"yarn lint --fix","e2e:depr":"yarn lint && jest e2e --config e2e/jest.config.js","cypress":"cypress run","e2e":"start-server-and-test dev http://localhost:9000/ cypress","e2e-upd":"yarn lint && jest e2e -u --config e2e/jest.config.js","dev":"webpack serve --config ./.webpack/webpack.config.e2e.babel.js","ci":"jest src/.*","test":"yarn lint && jest src/.*","test:watch":"jest --watch src","prepublishOnly":"yarn build && yarn test","prepare":"husky install && yarn build","pre-commit":"lint-staged"},"repository":{"type":"git","url":"https://github.com/knsv/mermaid"},"author":"Knut Sveidqvist","license":"MIT","standard":{"ignore":["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],"globals":["page"]},"dependencies":{"@braintree/sanitize-url":"^6.0.0","d3":"^7.0.0","dagre":"^0.8.5","dagre-d3":"^0.6.4","dompurify":"2.3.8","graphlib":"^2.1.8","khroma":"^2.0.0","moment-mini":"^2.24.0","stylis":"^4.0.10"},"devDependencies":{"@applitools/eyes-cypress":"^3.25.7","@babel/core":"^7.14.6","@babel/eslint-parser":"^7.14.7","@babel/preset-env":"^7.14.7","@babel/register":"^7.14.5","@commitlint/cli":"^17.0.0","@commitlint/config-conventional":"^17.0.0","babel-jest":"^28.0.3","babel-loader":"^8.2.2","concurrently":"^7.0.0","coveralls":"^3.0.2","css-to-string-loader":"^0.1.3","cypress":"10.2.0","cypress-image-snapshot":"^4.0.1","documentation":"13.2.0","eslint":"^8.4.1","eslint-config-prettier":"^8.3.0","eslint-plugin-cypress":"^2.12.1","eslint-plugin-html":"^6.2.0","eslint-plugin-jest":"^26.0.0","eslint-plugin-jsdoc":"^39.1.0","eslint-plugin-json":"^3.1.0","eslint-plugin-markdown":"^2.2.1","eslint-plugin-prettier":"^4.0.0","husky":"^8.0.0","identity-obj-proxy":"^3.0.0","jest":"^28.0.3","jest-environment-jsdom":"^28.0.2","jison":"^0.4.18","js-base64":"3.7.2","lint-staged":"^13.0.0","moment":"^2.23.0","path-browserify":"^1.0.1","prettier":"^2.3.2","prettier-plugin-jsdoc":"^0.3.30","start-server-and-test":"^1.12.6","terser-webpack-plugin":"^5.2.4","webpack":"^5.53.0","webpack-cli":"^4.7.2","webpack-dev-server":"^4.3.0","webpack-merge":"^5.8.0","webpack-node-externals":"^3.0.0"},"resolutions":{"d3":"^7.0.0"},"files":["dist"],"sideEffects":["**/*.css","**/*.scss"]}')}},g={};function y(E){var C=g[E];if(C!==void 0)return C.exports;var v=g[E]={id:E,loaded:!1,exports:{}};return m[E](v,v.exports,y),v.loaded=!0,v.exports}y.c=g,y.n=E=>{var C=E&&E.__esModule?()=>E.default:()=>E;return y.d(C,{a:C}),C},y.d=(E,C)=>{for(var v in C)y.o(C,v)&&!y.o(E,v)&&Object.defineProperty(E,v,{enumerable:!0,get:C[v]})},y.o=(E,C)=>Object.prototype.hasOwnProperty.call(E,C),y.r=E=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(E,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(E,"__esModule",{value:!0})},y.nmd=E=>(E.paths=[],E.children||(E.children=[]),E);var k=y(y.s="./src/mermaid.js");return k.default})(),d.exports=n()},9234:()=>{},1748:(d,u,s)=>{var n={"./locale":9234,"./locale.js":9234};function m(y){var k=g(y);return s(k)}function g(y){if(!s.o(n,y)){var k=new Error("Cannot find module '"+y+"'");throw k.code="MODULE_NOT_FOUND",k}return n[y]}m.keys=function(){return Object.keys(n)},m.resolve=g,d.exports=m,m.id=1748},1941:function(d,u,s){(d=s.nmd(d)).exports=function(){var n,m;function g(){return n.apply(null,arguments)}function y(gt){return gt instanceof Array||Object.prototype.toString.call(gt)==="[object Array]"}function k(gt){return gt!=null&&Object.prototype.toString.call(gt)==="[object Object]"}function E(gt){return gt===void 0}function C(gt){return typeof gt=="number"||Object.prototype.toString.call(gt)==="[object Number]"}function v(gt){return gt instanceof Date||Object.prototype.toString.call(gt)==="[object Date]"}function h(gt,$t){var ce,Me=[];for(ce=0;ce<gt.length;++ce)Me.push($t(gt[ce],ce));return Me}function a(gt,$t){return Object.prototype.hasOwnProperty.call(gt,$t)}function O(gt,$t){for(var ce in $t)a($t,ce)&&(gt[ce]=$t[ce]);return a($t,"toString")&&(gt.toString=$t.toString),a($t,"valueOf")&&(gt.valueOf=$t.valueOf),gt}function _(gt,$t,ce,Me){return Oi(gt,$t,ce,Me,!0).utc()}function M(gt){return gt._pf==null&&(gt._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),gt._pf}function P(gt){if(gt._isValid==null){var $t=M(gt),ce=m.call($t.parsedDateParts,function(cn){return cn!=null}),Me=!isNaN(gt._d.getTime())&&$t.overflow<0&&!$t.empty&&!$t.invalidMonth&&!$t.invalidWeekday&&!$t.weekdayMismatch&&!$t.nullInput&&!$t.invalidFormat&&!$t.userInvalidated&&(!$t.meridiem||$t.meridiem&&ce);if(gt._strict&&(Me=Me&&$t.charsLeftOver===0&&$t.unusedTokens.length===0&&$t.bigHour===void 0),Object.isFrozen!=null&&Object.isFrozen(gt))return Me;gt._isValid=Me}return gt._isValid}function R(gt){var $t=_(NaN);return gt!=null?O(M($t),gt):M($t).userInvalidated=!0,$t}m=Array.prototype.some?Array.prototype.some:function(gt){for(var $t=Object(this),ce=$t.length>>>0,Me=0;Me<ce;Me++)if(Me in $t&&gt.call(this,$t[Me],Me,$t))return!0;return!1};var $=g.momentProperties=[];function F(gt,$t){var ce,Me,cn;if(E($t._isAMomentObject)||(gt._isAMomentObject=$t._isAMomentObject),E($t._i)||(gt._i=$t._i),E($t._f)||(gt._f=$t._f),E($t._l)||(gt._l=$t._l),E($t._strict)||(gt._strict=$t._strict),E($t._tzm)||(gt._tzm=$t._tzm),E($t._isUTC)||(gt._isUTC=$t._isUTC),E($t._offset)||(gt._offset=$t._offset),E($t._pf)||(gt._pf=M($t)),E($t._locale)||(gt._locale=$t._locale),0<$.length)for(ce=0;ce<$.length;ce++)E(cn=$t[Me=$[ce]])||(gt[Me]=cn);return gt}var j=!1;function X(gt){F(this,gt),this._d=new Date(gt._d!=null?gt._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),j===!1&&(j=!0,g.updateOffset(this),j=!1)}function W(gt){return gt instanceof X||gt!=null&&gt._isAMomentObject!=null}function V(gt){return gt<0?Math.ceil(gt)||0:Math.floor(gt)}function K(gt){var $t=+gt,ce=0;return $t!==0&&isFinite($t)&&(ce=V($t)),ce}function st(gt,$t,ce){var Me,cn=Math.min(gt.length,$t.length),Nn=Math.abs(gt.length-$t.length),zn=0;for(Me=0;Me<cn;Me++)(ce&&gt[Me]!==$t[Me]||!ce&&K(gt[Me])!==K($t[Me]))&&zn++;return zn+Nn}function it(gt){g.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+gt)}function pt(gt,$t){var ce=!0;return O(function(){if(g.deprecationHandler!=null&&g.deprecationHandler(null,gt),ce){for(var Me,cn=[],Nn=0;Nn<arguments.length;Nn++){if(Me="",typeof arguments[Nn]=="object"){for(var zn in Me+=`
[`+Nn+"] ",arguments[0])Me+=zn+": "+arguments[0][zn]+", ";Me=Me.slice(0,-2)}else Me=arguments[Nn];cn.push(Me)}it(gt+`
Arguments: `+Array.prototype.slice.call(cn).join("")+`
`+new Error().stack),ce=!1}return $t.apply(this,arguments)},$t)}var ct,lt={};function J(gt,$t){g.deprecationHandler!=null&&g.deprecationHandler(gt,$t),lt[gt]||(it($t),lt[gt]=!0)}function Bt(gt){return gt instanceof Function||Object.prototype.toString.call(gt)==="[object Function]"}function Tt(gt,$t){var ce,Me=O({},gt);for(ce in $t)a($t,ce)&&(k(gt[ce])&&k($t[ce])?(Me[ce]={},O(Me[ce],gt[ce]),O(Me[ce],$t[ce])):$t[ce]!=null?Me[ce]=$t[ce]:delete Me[ce]);for(ce in gt)a(gt,ce)&&!a($t,ce)&&k(gt[ce])&&(Me[ce]=O({},Me[ce]));return Me}function Ct(gt){gt!=null&&this.set(gt)}g.suppressDeprecationWarnings=!1,g.deprecationHandler=null,ct=Object.keys?Object.keys:function(gt){var $t,ce=[];for($t in gt)a(gt,$t)&&ce.push($t);return ce};var St={};function at(gt,$t){var ce=gt.toLowerCase();St[ce]=St[ce+"s"]=St[$t]=gt}function yt(gt){return typeof gt=="string"?St[gt]||St[gt.toLowerCase()]:void 0}function kt(gt){var $t,ce,Me={};for(ce in gt)a(gt,ce)&&($t=yt(ce))&&(Me[$t]=gt[ce]);return Me}var xt={};function Pt(gt,$t){xt[gt]=$t}function mt(gt,$t,ce){var Me=""+Math.abs(gt),cn=$t-Me.length;return(0<=gt?ce?"+":"":"-")+Math.pow(10,Math.max(0,cn)).toString().substr(1)+Me}var Yt=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ne=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Qt={},Kt={};function Xt(gt,$t,ce,Me){var cn=Me;typeof Me=="string"&&(cn=function(){return this[Me]()}),gt&&(Kt[gt]=cn),$t&&(Kt[$t[0]]=function(){return mt(cn.apply(this,arguments),$t[1],$t[2])}),ce&&(Kt[ce]=function(){return this.localeData().ordinal(cn.apply(this,arguments),gt)})}function se(gt,$t){return gt.isValid()?($t=ue($t,gt.localeData()),Qt[$t]=Qt[$t]||function(ce){var Me,cn,Nn,zn=ce.match(Yt);for(Me=0,cn=zn.length;Me<cn;Me++)Kt[zn[Me]]?zn[Me]=Kt[zn[Me]]:zn[Me]=(Nn=zn[Me]).match(/\[[\s\S]/)?Nn.replace(/^\[|\]$/g,""):Nn.replace(/\\/g,"");return function(tr){var nr,lr="";for(nr=0;nr<cn;nr++)lr+=Bt(zn[nr])?zn[nr].call(tr,ce):zn[nr];return lr}}($t),Qt[$t](gt)):gt.localeData().invalidDate()}function ue(gt,$t){var ce=5;function Me(cn){return $t.longDateFormat(cn)||cn}for(ne.lastIndex=0;0<=ce&&ne.test(gt);)gt=gt.replace(ne,Me),ne.lastIndex=0,ce-=1;return gt}var re=/\d/,_t=/\d\d/,ut=/\d{3}/,Mt=/\d{4}/,qt=/[+-]?\d{6}/,Nt=/\d\d?/,Vt=/\d\d\d\d?/,Ut=/\d\d\d\d\d\d?/,Wt=/\d{1,3}/,Ft=/\d{1,4}/,jt=/[+-]?\d{1,6}/,ee=/\d+/,Lt=/[+-]?\d+/,he=/Z|[+-]\d\d:?\d\d/gi,Ht=/Z|[+-]\d\d(?::?\d\d)?/gi,Se=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Te={};function we(gt,$t,ce){Te[gt]=Bt($t)?$t:function(Me,cn){return Me&&ce?ce:$t}}function Ue(gt,$t){return a(Te,gt)?Te[gt]($t._strict,$t._locale):new RegExp(We(gt.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(ce,Me,cn,Nn,zn){return Me||cn||Nn||zn})))}function We(gt){return gt.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var De={};function me(gt,$t){var ce,Me=$t;for(typeof gt=="string"&&(gt=[gt]),C($t)&&(Me=function(cn,Nn){Nn[$t]=K(cn)}),ce=0;ce<gt.length;ce++)De[gt[ce]]=Me}function Oe(gt,$t){me(gt,function(ce,Me,cn,Nn){cn._w=cn._w||{},$t(ce,cn._w,cn,Nn)})}function Pe(gt){return ze(gt)?366:365}function ze(gt){return gt%4==0&&gt%100!=0||gt%400==0}Xt("Y",0,0,function(){var gt=this.year();return gt<=9999?""+gt:"+"+gt}),Xt(0,["YY",2],0,function(){return this.year()%100}),Xt(0,["YYYY",4],0,"year"),Xt(0,["YYYYY",5],0,"year"),Xt(0,["YYYYYY",6,!0],0,"year"),at("year","y"),Pt("year",1),we("Y",Lt),we("YY",Nt,_t),we("YYYY",Ft,Mt),we("YYYYY",jt,qt),we("YYYYYY",jt,qt),me(["YYYYY","YYYYYY"],0),me("YYYY",function(gt,$t){$t[0]=gt.length===2?g.parseTwoDigitYear(gt):K(gt)}),me("YY",function(gt,$t){$t[0]=g.parseTwoDigitYear(gt)}),me("Y",function(gt,$t){$t[0]=parseInt(gt,10)}),g.parseTwoDigitYear=function(gt){return K(gt)+(68<K(gt)?1900:2e3)};var He,dn=Mn("FullYear",!0);function Mn(gt,$t){return function(ce){return ce!=null?(an(this,gt,ce),g.updateOffset(this,$t),this):Kn(this,gt)}}function Kn(gt,$t){return gt.isValid()?gt._d["get"+(gt._isUTC?"UTC":"")+$t]():NaN}function an(gt,$t,ce){gt.isValid()&&!isNaN(ce)&&($t==="FullYear"&&ze(gt.year())&&gt.month()===1&&gt.date()===29?gt._d["set"+(gt._isUTC?"UTC":"")+$t](ce,gt.month(),mn(ce,gt.month())):gt._d["set"+(gt._isUTC?"UTC":"")+$t](ce))}function mn(gt,$t){if(isNaN(gt)||isNaN($t))return NaN;var ce=($t%12+12)%12;return gt+=($t-ce)/12,ce===1?ze(gt)?29:28:31-ce%7%2}He=Array.prototype.indexOf?Array.prototype.indexOf:function(gt){var $t;for($t=0;$t<this.length;++$t)if(this[$t]===gt)return $t;return-1},Xt("M",["MM",2],"Mo",function(){return this.month()+1}),Xt("MMM",0,0,function(gt){return this.localeData().monthsShort(this,gt)}),Xt("MMMM",0,0,function(gt){return this.localeData().months(this,gt)}),at("month","M"),Pt("month",8),we("M",Nt),we("MM",Nt,_t),we("MMM",function(gt,$t){return $t.monthsShortRegex(gt)}),we("MMMM",function(gt,$t){return $t.monthsRegex(gt)}),me(["M","MM"],function(gt,$t){$t[1]=K(gt)-1}),me(["MMM","MMMM"],function(gt,$t,ce,Me){var cn=ce._locale.monthsParse(gt,Me,ce._strict);cn!=null?$t[1]=cn:M(ce).invalidMonth=gt});var Bn=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Rn="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),$n="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function sn(gt,$t){var ce;if(!gt.isValid())return gt;if(typeof $t=="string"){if(/^\d+$/.test($t))$t=K($t);else if(!C($t=gt.localeData().monthsParse($t)))return gt}return ce=Math.min(gt.date(),mn(gt.year(),$t)),gt._d["set"+(gt._isUTC?"UTC":"")+"Month"]($t,ce),gt}function on(gt){return gt!=null?(sn(this,gt),g.updateOffset(this,!0),this):Kn(this,"Month")}var yn=Se,Sn=Se;function Ge(){function gt(zn,tr){return tr.length-zn.length}var $t,ce,Me=[],cn=[],Nn=[];for($t=0;$t<12;$t++)ce=_([2e3,$t]),Me.push(this.monthsShort(ce,"")),cn.push(this.months(ce,"")),Nn.push(this.months(ce,"")),Nn.push(this.monthsShort(ce,""));for(Me.sort(gt),cn.sort(gt),Nn.sort(gt),$t=0;$t<12;$t++)Me[$t]=We(Me[$t]),cn[$t]=We(cn[$t]);for($t=0;$t<24;$t++)Nn[$t]=We(Nn[$t]);this._monthsRegex=new RegExp("^("+Nn.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+cn.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+Me.join("|")+")","i")}function Fn(gt){var $t;if(gt<100&&0<=gt){var ce=Array.prototype.slice.call(arguments);ce[0]=gt+400,$t=new Date(Date.UTC.apply(null,ce)),isFinite($t.getUTCFullYear())&&$t.setUTCFullYear(gt)}else $t=new Date(Date.UTC.apply(null,arguments));return $t}function ke(gt,$t,ce){var Me=7+$t-ce;return-(7+Fn(gt,0,Me).getUTCDay()-$t)%7+Me-1}function Fr(gt,$t,ce,Me,cn){var Nn,zn,tr=1+7*($t-1)+(7+ce-Me)%7+ke(gt,Me,cn);return zn=tr<=0?Pe(Nn=gt-1)+tr:tr>Pe(gt)?(Nn=gt+1,tr-Pe(gt)):(Nn=gt,tr),{year:Nn,dayOfYear:zn}}function Ye(gt,$t,ce){var Me,cn,Nn=ke(gt.year(),$t,ce),zn=Math.floor((gt.dayOfYear()-Nn-1)/7)+1;return zn<1?Me=zn+vr(cn=gt.year()-1,$t,ce):zn>vr(gt.year(),$t,ce)?(Me=zn-vr(gt.year(),$t,ce),cn=gt.year()+1):(cn=gt.year(),Me=zn),{week:Me,year:cn}}function vr(gt,$t,ce){var Me=ke(gt,$t,ce),cn=ke(gt+1,$t,ce);return(Pe(gt)-Me+cn)/7}function Zr(gt,$t){return gt.slice($t,7).concat(gt.slice(0,$t))}Xt("w",["ww",2],"wo","week"),Xt("W",["WW",2],"Wo","isoWeek"),at("week","w"),at("isoWeek","W"),Pt("week",5),Pt("isoWeek",5),we("w",Nt),we("ww",Nt,_t),we("W",Nt),we("WW",Nt,_t),Oe(["w","ww","W","WW"],function(gt,$t,ce,Me){$t[Me.substr(0,1)]=K(gt)}),Xt("d",0,"do","day"),Xt("dd",0,0,function(gt){return this.localeData().weekdaysMin(this,gt)}),Xt("ddd",0,0,function(gt){return this.localeData().weekdaysShort(this,gt)}),Xt("dddd",0,0,function(gt){return this.localeData().weekdays(this,gt)}),Xt("e",0,0,"weekday"),Xt("E",0,0,"isoWeekday"),at("day","d"),at("weekday","e"),at("isoWeekday","E"),Pt("day",11),Pt("weekday",11),Pt("isoWeekday",11),we("d",Nt),we("e",Nt),we("E",Nt),we("dd",function(gt,$t){return $t.weekdaysMinRegex(gt)}),we("ddd",function(gt,$t){return $t.weekdaysShortRegex(gt)}),we("dddd",function(gt,$t){return $t.weekdaysRegex(gt)}),Oe(["dd","ddd","dddd"],function(gt,$t,ce,Me){var cn=ce._locale.weekdaysParse(gt,Me,ce._strict);cn!=null?$t.d=cn:M(ce).invalidWeekday=gt}),Oe(["d","e","E"],function(gt,$t,ce,Me){$t[Me]=K(gt)});var jr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),_r="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Hr="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Tr=Se,br=Se,mr=Se;function xr(){function gt(dr,Vr){return Vr.length-dr.length}var $t,ce,Me,cn,Nn,zn=[],tr=[],nr=[],lr=[];for($t=0;$t<7;$t++)ce=_([2e3,1]).day($t),Me=this.weekdaysMin(ce,""),cn=this.weekdaysShort(ce,""),Nn=this.weekdays(ce,""),zn.push(Me),tr.push(cn),nr.push(Nn),lr.push(Me),lr.push(cn),lr.push(Nn);for(zn.sort(gt),tr.sort(gt),nr.sort(gt),lr.sort(gt),$t=0;$t<7;$t++)tr[$t]=We(tr[$t]),nr[$t]=We(nr[$t]),lr[$t]=We(lr[$t]);this._weekdaysRegex=new RegExp("^("+lr.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+nr.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+tr.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+zn.join("|")+")","i")}function kr(){return this.hours()%12||12}function En(gt,$t){Xt(gt,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),$t)})}function Yn(gt,$t){return $t._meridiemParse}Xt("H",["HH",2],0,"hour"),Xt("h",["hh",2],0,kr),Xt("k",["kk",2],0,function(){return this.hours()||24}),Xt("hmm",0,0,function(){return""+kr.apply(this)+mt(this.minutes(),2)}),Xt("hmmss",0,0,function(){return""+kr.apply(this)+mt(this.minutes(),2)+mt(this.seconds(),2)}),Xt("Hmm",0,0,function(){return""+this.hours()+mt(this.minutes(),2)}),Xt("Hmmss",0,0,function(){return""+this.hours()+mt(this.minutes(),2)+mt(this.seconds(),2)}),En("a",!0),En("A",!1),at("hour","h"),Pt("hour",13),we("a",Yn),we("A",Yn),we("H",Nt),we("h",Nt),we("k",Nt),we("HH",Nt,_t),we("hh",Nt,_t),we("kk",Nt,_t),we("hmm",Vt),we("hmmss",Ut),we("Hmm",Vt),we("Hmmss",Ut),me(["H","HH"],3),me(["k","kk"],function(gt,$t,ce){var Me=K(gt);$t[3]=Me===24?0:Me}),me(["a","A"],function(gt,$t,ce){ce._isPm=ce._locale.isPM(gt),ce._meridiem=gt}),me(["h","hh"],function(gt,$t,ce){$t[3]=K(gt),M(ce).bigHour=!0}),me("hmm",function(gt,$t,ce){var Me=gt.length-2;$t[3]=K(gt.substr(0,Me)),$t[4]=K(gt.substr(Me)),M(ce).bigHour=!0}),me("hmmss",function(gt,$t,ce){var Me=gt.length-4,cn=gt.length-2;$t[3]=K(gt.substr(0,Me)),$t[4]=K(gt.substr(Me,2)),$t[5]=K(gt.substr(cn)),M(ce).bigHour=!0}),me("Hmm",function(gt,$t,ce){var Me=gt.length-2;$t[3]=K(gt.substr(0,Me)),$t[4]=K(gt.substr(Me))}),me("Hmmss",function(gt,$t,ce){var Me=gt.length-4,cn=gt.length-2;$t[3]=K(gt.substr(0,Me)),$t[4]=K(gt.substr(Me,2)),$t[5]=K(gt.substr(cn))});var Un,qn=Mn("Hours",!0),Lr={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Rn,monthsShort:$n,week:{dow:0,doy:6},weekdays:jr,weekdaysMin:Hr,weekdaysShort:_r,meridiemParse:/[ap]\.?m?\.?/i},Ar={},wr={};function ei(gt){return gt&&gt.toLowerCase().replace("_","-")}function vi(gt){var $t=null;if(!Ar[gt]&&d&&d.exports)try{$t=Un._abbr,s(1748)("./"+gt),bi($t)}catch(ce){}return Ar[gt]}function bi(gt,$t){var ce;return gt&&((ce=E($t)?ci(gt):oo(gt,$t))?Un=ce:typeof console!="undefined"&&console.warn&&console.warn("Locale "+gt+" not found. Did you forget to load it?")),Un._abbr}function oo(gt,$t){if($t===null)return delete Ar[gt],null;var ce,Me=Lr;if($t.abbr=gt,Ar[gt]!=null)J("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),Me=Ar[gt]._config;else if($t.parentLocale!=null)if(Ar[$t.parentLocale]!=null)Me=Ar[$t.parentLocale]._config;else{if((ce=vi($t.parentLocale))==null)return wr[$t.parentLocale]||(wr[$t.parentLocale]=[]),wr[$t.parentLocale].push({name:gt,config:$t}),null;Me=ce._config}return Ar[gt]=new Ct(Tt(Me,$t)),wr[gt]&&wr[gt].forEach(function(cn){oo(cn.name,cn.config)}),bi(gt),Ar[gt]}function ci(gt){var $t;if(gt&&gt._locale&&gt._locale._abbr&&(gt=gt._locale._abbr),!gt)return Un;if(!y(gt)){if($t=vi(gt))return $t;gt=[gt]}return function(ce){for(var Me,cn,Nn,zn,tr=0;tr<ce.length;){for(Me=(zn=ei(ce[tr]).split("-")).length,cn=(cn=ei(ce[tr+1]))?cn.split("-"):null;0<Me;){if(Nn=vi(zn.slice(0,Me).join("-")))return Nn;if(cn&&cn.length>=Me&&st(zn,cn,!0)>=Me-1)break;Me--}tr++}return Un}(gt)}function Eo(gt){var $t,ce=gt._a;return ce&&M(gt).overflow===-2&&($t=ce[1]<0||11<ce[1]?1:ce[2]<1||ce[2]>mn(ce[0],ce[1])?2:ce[3]<0||24<ce[3]||ce[3]===24&&(ce[4]!==0||ce[5]!==0||ce[6]!==0)?3:ce[4]<0||59<ce[4]?4:ce[5]<0||59<ce[5]?5:ce[6]<0||999<ce[6]?6:-1,M(gt)._overflowDayOfYear&&($t<0||2<$t)&&($t=2),M(gt)._overflowWeeks&&$t===-1&&($t=7),M(gt)._overflowWeekday&&$t===-1&&($t=8),M(gt).overflow=$t),gt}function xi(gt,$t,ce){return gt!=null?gt:$t!=null?$t:ce}function Ro(gt){var $t,ce,Me,cn,Nn,zn=[];if(!gt._d){var tr,nr;for(tr=gt,nr=new Date(g.now()),Me=tr._useUTC?[nr.getUTCFullYear(),nr.getUTCMonth(),nr.getUTCDate()]:[nr.getFullYear(),nr.getMonth(),nr.getDate()],gt._w&&gt._a[2]==null&&gt._a[1]==null&&function(lr){var dr,Vr,Ir,Ci,$i,_i,No,Za;if((dr=lr._w).GG!=null||dr.W!=null||dr.E!=null)$i=1,_i=4,Vr=xi(dr.GG,lr._a[0],Ye($e(),1,4).year),Ir=xi(dr.W,1),((Ci=xi(dr.E,1))<1||7<Ci)&&(Za=!0);else{$i=lr._locale._week.dow,_i=lr._locale._week.doy;var Cu=Ye($e(),$i,_i);Vr=xi(dr.gg,lr._a[0],Cu.year),Ir=xi(dr.w,Cu.week),dr.d!=null?((Ci=dr.d)<0||6<Ci)&&(Za=!0):dr.e!=null?(Ci=dr.e+$i,(dr.e<0||6<dr.e)&&(Za=!0)):Ci=$i}Ir<1||Ir>vr(Vr,$i,_i)?M(lr)._overflowWeeks=!0:Za!=null?M(lr)._overflowWeekday=!0:(No=Fr(Vr,Ir,Ci,$i,_i),lr._a[0]=No.year,lr._dayOfYear=No.dayOfYear)}(gt),gt._dayOfYear!=null&&(Nn=xi(gt._a[0],Me[0]),(gt._dayOfYear>Pe(Nn)||gt._dayOfYear===0)&&(M(gt)._overflowDayOfYear=!0),ce=Fn(Nn,0,gt._dayOfYear),gt._a[1]=ce.getUTCMonth(),gt._a[2]=ce.getUTCDate()),$t=0;$t<3&&gt._a[$t]==null;++$t)gt._a[$t]=zn[$t]=Me[$t];for(;$t<7;$t++)gt._a[$t]=zn[$t]=gt._a[$t]==null?$t===2?1:0:gt._a[$t];gt._a[3]===24&&gt._a[4]===0&&gt._a[5]===0&&gt._a[6]===0&&(gt._nextDay=!0,gt._a[3]=0),gt._d=(gt._useUTC?Fn:function(lr,dr,Vr,Ir,Ci,$i,_i){var No;return lr<100&&0<=lr?(No=new Date(lr+400,dr,Vr,Ir,Ci,$i,_i),isFinite(No.getFullYear())&&No.setFullYear(lr)):No=new Date(lr,dr,Vr,Ir,Ci,$i,_i),No}).apply(null,zn),cn=gt._useUTC?gt._d.getUTCDay():gt._d.getDay(),gt._tzm!=null&&gt._d.setUTCMinutes(gt._d.getUTCMinutes()-gt._tzm),gt._nextDay&&(gt._a[3]=24),gt._w&&gt._w.d!==void 0&&gt._w.d!==cn&&(M(gt).weekdayMismatch=!0)}}var To=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wa=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,sr=/Z|[+-]\d\d(?::?\d\d)?/,Ss=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],lo=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ul=/^\/?Date\((\-?\d+)/i;function vc(gt){var $t,ce,Me,cn,Nn,zn,tr=gt._i,nr=To.exec(tr)||wa.exec(tr);if(nr){for(M(gt).iso=!0,$t=0,ce=Ss.length;$t<ce;$t++)if(Ss[$t][1].exec(nr[1])){cn=Ss[$t][0],Me=Ss[$t][2]!==!1;break}if(cn==null)return void(gt._isValid=!1);if(nr[3]){for($t=0,ce=lo.length;$t<ce;$t++)if(lo[$t][1].exec(nr[3])){Nn=(nr[2]||" ")+lo[$t][0];break}if(Nn==null)return void(gt._isValid=!1)}if(!Me&&Nn!=null)return void(gt._isValid=!1);if(nr[4]){if(!sr.exec(nr[4]))return void(gt._isValid=!1);zn="Z"}gt._f=cn+(Nn||"")+(zn||""),ii(gt)}else gt._isValid=!1}var Ia=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Cr={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function ki(gt){var $t,ce,Me,cn=Ia.exec(gt._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(cn){var Nn=function(zn,tr,nr,lr,dr,Vr){var Ir=[function(Ci){var $i=parseInt(Ci,10);return $i<=49?2e3+$i:$i<=999?1900+$i:$i}(zn),$n.indexOf(tr),parseInt(nr,10),parseInt(lr,10),parseInt(dr,10)];return Vr&&Ir.push(parseInt(Vr,10)),Ir}(cn[4],cn[3],cn[2],cn[5],cn[6],cn[7]);if(ce=Nn,Me=gt,($t=cn[1])&&_r.indexOf($t)!==new Date(ce[0],ce[1],ce[2]).getDay()&&(M(Me).weekdayMismatch=!0,!(Me._isValid=!1)))return;gt._a=Nn,gt._tzm=function(zn,tr,nr){if(zn)return Cr[zn];if(tr)return 0;var lr=parseInt(nr,10),dr=lr%100;return(lr-dr)/100*60+dr}(cn[8],cn[9],cn[10]),gt._d=Fn.apply(null,gt._a),gt._d.setUTCMinutes(gt._d.getUTCMinutes()-gt._tzm),M(gt).rfc2822=!0}else gt._isValid=!1}function ii(gt){if(gt._f!==g.ISO_8601)if(gt._f!==g.RFC_2822){gt._a=[],M(gt).empty=!0;var $t,ce,Me,cn,Nn,zn,tr,nr,lr=""+gt._i,dr=lr.length,Vr=0;for(Me=ue(gt._f,gt._locale).match(Yt)||[],$t=0;$t<Me.length;$t++)cn=Me[$t],(ce=(lr.match(Ue(cn,gt))||[])[0])&&(0<(Nn=lr.substr(0,lr.indexOf(ce))).length&&M(gt).unusedInput.push(Nn),lr=lr.slice(lr.indexOf(ce)+ce.length),Vr+=ce.length),Kt[cn]?(ce?M(gt).empty=!1:M(gt).unusedTokens.push(cn),zn=cn,nr=gt,(tr=ce)!=null&&a(De,zn)&&De[zn](tr,nr._a,nr,zn)):gt._strict&&!ce&&M(gt).unusedTokens.push(cn);M(gt).charsLeftOver=dr-Vr,0<lr.length&&M(gt).unusedInput.push(lr),gt._a[3]<=12&&M(gt).bigHour===!0&&0<gt._a[3]&&(M(gt).bigHour=void 0),M(gt).parsedDateParts=gt._a.slice(0),M(gt).meridiem=gt._meridiem,gt._a[3]=function(Ir,Ci,$i){var _i;return $i==null?Ci:Ir.meridiemHour!=null?Ir.meridiemHour(Ci,$i):(Ir.isPM!=null&&((_i=Ir.isPM($i))&&Ci<12&&(Ci+=12),_i||Ci!==12||(Ci=0)),Ci)}(gt._locale,gt._a[3],gt._meridiem),Ro(gt),Eo(gt)}else ki(gt);else vc(gt)}function cr(gt){var $t,ce,Me,cn,Nn=gt._i,zn=gt._f;return gt._locale=gt._locale||ci(gt._l),Nn===null||zn===void 0&&Nn===""?R({nullInput:!0}):(typeof Nn=="string"&&(gt._i=Nn=gt._locale.preparse(Nn)),W(Nn)?new X(Eo(Nn)):(v(Nn)?gt._d=Nn:y(zn)?function(tr){var nr,lr,dr,Vr,Ir;if(tr._f.length===0)return M(tr).invalidFormat=!0,tr._d=new Date(NaN);for(Vr=0;Vr<tr._f.length;Vr++)Ir=0,nr=F({},tr),tr._useUTC!=null&&(nr._useUTC=tr._useUTC),nr._f=tr._f[Vr],ii(nr),P(nr)&&(Ir+=M(nr).charsLeftOver,Ir+=10*M(nr).unusedTokens.length,M(nr).score=Ir,(dr==null||Ir<dr)&&(dr=Ir,lr=nr));O(tr,lr||nr)}(gt):zn?ii(gt):E(ce=($t=gt)._i)?$t._d=new Date(g.now()):v(ce)?$t._d=new Date(ce.valueOf()):typeof ce=="string"?(Me=$t,(cn=ul.exec(Me._i))===null?(vc(Me),Me._isValid===!1&&(delete Me._isValid,ki(Me),Me._isValid===!1&&(delete Me._isValid,g.createFromInputFallback(Me)))):Me._d=new Date(+cn[1])):y(ce)?($t._a=h(ce.slice(0),function(tr){return parseInt(tr,10)}),Ro($t)):k(ce)?function(tr){if(!tr._d){var nr=kt(tr._i);tr._a=h([nr.year,nr.month,nr.day||nr.date,nr.hour,nr.minute,nr.second,nr.millisecond],function(lr){return lr&&parseInt(lr,10)}),Ro(tr)}}($t):C(ce)?$t._d=new Date(ce):g.createFromInputFallback($t),P(gt)||(gt._d=null),gt))}function Oi(gt,$t,ce,Me,cn){var Nn,zn={};return ce!==!0&&ce!==!1||(Me=ce,ce=void 0),(k(gt)&&function(tr){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(tr).length===0;var nr;for(nr in tr)if(tr.hasOwnProperty(nr))return!1;return!0}(gt)||y(gt)&&gt.length===0)&&(gt=void 0),zn._isAMomentObject=!0,zn._useUTC=zn._isUTC=cn,zn._l=ce,zn._i=gt,zn._f=$t,zn._strict=Me,(Nn=new X(Eo(cr(zn))))._nextDay&&(Nn.add(1,"d"),Nn._nextDay=void 0),Nn}function $e(gt,$t,ce,Me){return Oi(gt,$t,ce,Me,!1)}g.createFromInputFallback=pt("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(gt){gt._d=new Date(gt._i+(gt._useUTC?" UTC":""))}),g.ISO_8601=function(){},g.RFC_2822=function(){};var Es=pt("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var gt=$e.apply(null,arguments);return this.isValid()&&gt.isValid()?gt<this?this:gt:R()}),fn=pt("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var gt=$e.apply(null,arguments);return this.isValid()&&gt.isValid()?this<gt?this:gt:R()});function ao(gt,$t){var ce,Me;if($t.length===1&&y($t[0])&&($t=$t[0]),!$t.length)return $e();for(ce=$t[0],Me=1;Me<$t.length;++Me)$t[Me].isValid()&&!$t[Me][gt](ce)||(ce=$t[Me]);return ce}var _a=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Na(gt){var $t=kt(gt),ce=$t.year||0,Me=$t.quarter||0,cn=$t.month||0,Nn=$t.week||$t.isoWeek||0,zn=$t.day||0,tr=$t.hour||0,nr=$t.minute||0,lr=$t.second||0,dr=$t.millisecond||0;this._isValid=function(Vr){for(var Ir in Vr)if(He.call(_a,Ir)===-1||Vr[Ir]!=null&&isNaN(Vr[Ir]))return!1;for(var Ci=!1,$i=0;$i<_a.length;++$i)if(Vr[_a[$i]]){if(Ci)return!1;parseFloat(Vr[_a[$i]])!==K(Vr[_a[$i]])&&(Ci=!0)}return!0}($t),this._milliseconds=+dr+1e3*lr+6e4*nr+1e3*tr*60*60,this._days=+zn+7*Nn,this._months=+cn+3*Me+12*ce,this._data={},this._locale=ci(),this._bubble()}function ds(gt){return gt instanceof Na}function ra(gt){return gt<0?-1*Math.round(-1*gt):Math.round(gt)}function Us(gt,$t){Xt(gt,0,0,function(){var ce=this.utcOffset(),Me="+";return ce<0&&(ce=-ce,Me="-"),Me+mt(~~(ce/60),2)+$t+mt(~~ce%60,2)})}Us("Z",":"),Us("ZZ",""),we("Z",Ht),we("ZZ",Ht),me(["Z","ZZ"],function(gt,$t,ce){ce._useUTC=!0,ce._tzm=Do(Ht,gt)});var Ni=/([\+\-]|\d\d)/gi;function Do(gt,$t){var ce=($t||"").match(gt);if(ce===null)return null;var Me=((ce[ce.length-1]||[])+"").match(Ni)||["-",0,0],cn=60*Me[1]+K(Me[2]);return cn===0?0:Me[0]==="+"?cn:-cn}function Zo(gt,$t){var ce,Me;return $t._isUTC?(ce=$t.clone(),Me=(W(gt)||v(gt)?gt.valueOf():$e(gt).valueOf())-ce.valueOf(),ce._d.setTime(ce._d.valueOf()+Me),g.updateOffset(ce,!1),ce):$e(gt).local()}function fs(gt){return 15*-Math.round(gt._d.getTimezoneOffset()/15)}function es(){return!!this.isValid()&&this._isUTC&&this._offset===0}g.updateOffset=function(){};var Ts=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,ui=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ko(gt,$t){var ce,Me,cn,Nn=gt,zn=null;return ds(gt)?Nn={ms:gt._milliseconds,d:gt._days,M:gt._months}:C(gt)?(Nn={},$t?Nn[$t]=gt:Nn.milliseconds=gt):(zn=Ts.exec(gt))?(ce=zn[1]==="-"?-1:1,Nn={y:0,d:K(zn[2])*ce,h:K(zn[3])*ce,m:K(zn[4])*ce,s:K(zn[5])*ce,ms:K(ra(1e3*zn[6]))*ce}):(zn=ui.exec(gt))?(ce=zn[1]==="-"?-1:1,Nn={y:mo(zn[2],ce),M:mo(zn[3],ce),w:mo(zn[4],ce),d:mo(zn[5],ce),h:mo(zn[6],ce),m:mo(zn[7],ce),s:mo(zn[8],ce)}):Nn==null?Nn={}:typeof Nn=="object"&&("from"in Nn||"to"in Nn)&&(cn=function(tr,nr){var lr;return tr.isValid()&&nr.isValid()?(nr=Zo(nr,tr),tr.isBefore(nr)?lr=Pa(tr,nr):((lr=Pa(nr,tr)).milliseconds=-lr.milliseconds,lr.months=-lr.months),lr):{milliseconds:0,months:0}}($e(Nn.from),$e(Nn.to)),(Nn={}).ms=cn.milliseconds,Nn.M=cn.months),Me=new Na(Nn),ds(gt)&&a(gt,"_locale")&&(Me._locale=gt._locale),Me}function mo(gt,$t){var ce=gt&&parseFloat(gt.replace(",","."));return(isNaN(ce)?0:ce)*$t}function Pa(gt,$t){var ce={};return ce.months=$t.month()-gt.month()+12*($t.year()-gt.year()),gt.clone().add(ce.months,"M").isAfter($t)&&--ce.months,ce.milliseconds=+$t-+gt.clone().add(ce.months,"M"),ce}function Tl(gt,$t){return function(ce,Me){var cn;return Me===null||isNaN(+Me)||(J($t,"moment()."+$t+"(period, number) is deprecated. Please use moment()."+$t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),cn=ce,ce=Me,Me=cn),hl(this,Ko(ce=typeof ce=="string"?+ce:ce,Me),gt),this}}function hl(gt,$t,ce,Me){var cn=$t._milliseconds,Nn=ra($t._days),zn=ra($t._months);gt.isValid()&&(Me=Me==null||Me,zn&&sn(gt,Kn(gt,"Month")+zn*ce),Nn&&an(gt,"Date",Kn(gt,"Date")+Nn*ce),cn&&gt._d.setTime(gt._d.valueOf()+cn*ce),Me&&g.updateOffset(gt,Nn||zn))}Ko.fn=Na.prototype,Ko.invalid=function(){return Ko(NaN)};var rn=Tl(1,"add"),er=Tl(-1,"subtract");function Vn(gt,$t){var ce=12*($t.year()-gt.year())+($t.month()-gt.month()),Me=gt.clone().add(ce,"months");return-(ce+($t-Me<0?($t-Me)/(Me-gt.clone().add(ce-1,"months")):($t-Me)/(gt.clone().add(ce+1,"months")-Me)))||0}function wi(gt){var $t;return gt===void 0?this._locale._abbr:(($t=ci(gt))!=null&&(this._locale=$t),this)}g.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",g.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var no=pt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(gt){return gt===void 0?this.localeData():this.locale(gt)});function Xr(){return this._locale}var Fo=126227808e5;function Wa(gt,$t){return(gt%$t+$t)%$t}function Io(gt,$t,ce){return gt<100&&0<=gt?new Date(gt+400,$t,ce)-Fo:new Date(gt,$t,ce).valueOf()}function ha(gt,$t,ce){return gt<100&&0<=gt?Date.UTC(gt+400,$t,ce)-Fo:Date.UTC(gt,$t,ce)}function Ao(gt,$t){Xt(0,[gt,gt.length],0,$t)}function ia(gt,$t,ce,Me,cn){var Nn;return gt==null?Ye(this,Me,cn).year:((Nn=vr(gt,Me,cn))<$t&&($t=Nn),function(zn,tr,nr,lr,dr){var Vr=Fr(zn,tr,nr,lr,dr),Ir=Fn(Vr.year,0,Vr.dayOfYear);return this.year(Ir.getUTCFullYear()),this.month(Ir.getUTCMonth()),this.date(Ir.getUTCDate()),this}.call(this,gt,$t,ce,Me,cn))}Xt(0,["gg",2],0,function(){return this.weekYear()%100}),Xt(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ao("gggg","weekYear"),Ao("ggggg","weekYear"),Ao("GGGG","isoWeekYear"),Ao("GGGGG","isoWeekYear"),at("weekYear","gg"),at("isoWeekYear","GG"),Pt("weekYear",1),Pt("isoWeekYear",1),we("G",Lt),we("g",Lt),we("GG",Nt,_t),we("gg",Nt,_t),we("GGGG",Ft,Mt),we("gggg",Ft,Mt),we("GGGGG",jt,qt),we("ggggg",jt,qt),Oe(["gggg","ggggg","GGGG","GGGGG"],function(gt,$t,ce,Me){$t[Me.substr(0,2)]=K(gt)}),Oe(["gg","GG"],function(gt,$t,ce,Me){$t[Me]=g.parseTwoDigitYear(gt)}),Xt("Q",0,"Qo","quarter"),at("quarter","Q"),Pt("quarter",7),we("Q",re),me("Q",function(gt,$t){$t[1]=3*(K(gt)-1)}),Xt("D",["DD",2],"Do","date"),at("date","D"),Pt("date",9),we("D",Nt),we("DD",Nt,_t),we("Do",function(gt,$t){return gt?$t._dayOfMonthOrdinalParse||$t._ordinalParse:$t._dayOfMonthOrdinalParseLenient}),me(["D","DD"],2),me("Do",function(gt,$t){$t[2]=K(gt.match(Nt)[0])});var bc=Mn("Date",!0);Xt("DDD",["DDDD",3],"DDDo","dayOfYear"),at("dayOfYear","DDD"),Pt("dayOfYear",4),we("DDD",Wt),we("DDDD",ut),me(["DDD","DDDD"],function(gt,$t,ce){ce._dayOfYear=K(gt)}),Xt("m",["mm",2],0,"minute"),at("minute","m"),Pt("minute",14),we("m",Nt),we("mm",Nt,_t),me(["m","mm"],4);var dl=Mn("Minutes",!1);Xt("s",["ss",2],0,"second"),at("second","s"),Pt("second",15),we("s",Nt),we("ss",Nt,_t),me(["s","ss"],5);var zo,wu=Mn("Seconds",!1);for(Xt("S",0,0,function(){return~~(this.millisecond()/100)}),Xt(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Xt(0,["SSS",3],0,"millisecond"),Xt(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Xt(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Xt(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Xt(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Xt(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Xt(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),at("millisecond","ms"),Pt("millisecond",16),we("S",Wt,re),we("SS",Wt,_t),we("SSS",Wt,ut),zo="SSSS";zo.length<=9;zo+="S")we(zo,ee);function Oo(gt,$t){$t[6]=K(1e3*("0."+gt))}for(zo="S";zo.length<=9;zo+="S")me(zo,Oo);var xc=Mn("Milliseconds",!1);Xt("z",0,0,"zoneAbbr"),Xt("zz",0,0,"zoneName");var ir=X.prototype;function _u(gt){return gt}ir.add=rn,ir.calendar=function(gt,$t){var ce=gt||$e(),Me=Zo(ce,this).startOf("day"),cn=g.calendarFormat(this,Me)||"sameElse",Nn=$t&&(Bt($t[cn])?$t[cn].call(this,ce):$t[cn]);return this.format(Nn||this.localeData().calendar(cn,this,$e(ce)))},ir.clone=function(){return new X(this)},ir.diff=function(gt,$t,ce){var Me,cn,Nn;if(!this.isValid())return NaN;if(!(Me=Zo(gt,this)).isValid())return NaN;switch(cn=6e4*(Me.utcOffset()-this.utcOffset()),$t=yt($t)){case"year":Nn=Vn(this,Me)/12;break;case"month":Nn=Vn(this,Me);break;case"quarter":Nn=Vn(this,Me)/3;break;case"second":Nn=(this-Me)/1e3;break;case"minute":Nn=(this-Me)/6e4;break;case"hour":Nn=(this-Me)/36e5;break;case"day":Nn=(this-Me-cn)/864e5;break;case"week":Nn=(this-Me-cn)/6048e5;break;default:Nn=this-Me}return ce?Nn:V(Nn)},ir.endOf=function(gt){var $t;if((gt=yt(gt))===void 0||gt==="millisecond"||!this.isValid())return this;var ce=this._isUTC?ha:Io;switch(gt){case"year":$t=ce(this.year()+1,0,1)-1;break;case"quarter":$t=ce(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":$t=ce(this.year(),this.month()+1,1)-1;break;case"week":$t=ce(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":$t=ce(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":$t=ce(this.year(),this.month(),this.date()+1)-1;break;case"hour":$t=this._d.valueOf(),$t+=36e5-Wa($t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":$t=this._d.valueOf(),$t+=6e4-Wa($t,6e4)-1;break;case"second":$t=this._d.valueOf(),$t+=1e3-Wa($t,1e3)-1}return this._d.setTime($t),g.updateOffset(this,!0),this},ir.format=function(gt){gt||(gt=this.isUtc()?g.defaultFormatUtc:g.defaultFormat);var $t=se(this,gt);return this.localeData().postformat($t)},ir.from=function(gt,$t){return this.isValid()&&(W(gt)&&gt.isValid()||$e(gt).isValid())?Ko({to:this,from:gt}).locale(this.locale()).humanize(!$t):this.localeData().invalidDate()},ir.fromNow=function(gt){return this.from($e(),gt)},ir.to=function(gt,$t){return this.isValid()&&(W(gt)&&gt.isValid()||$e(gt).isValid())?Ko({from:this,to:gt}).locale(this.locale()).humanize(!$t):this.localeData().invalidDate()},ir.toNow=function(gt){return this.to($e(),gt)},ir.get=function(gt){return Bt(this[gt=yt(gt)])?this[gt]():this},ir.invalidAt=function(){return M(this).overflow},ir.isAfter=function(gt,$t){var ce=W(gt)?gt:$e(gt);return!(!this.isValid()||!ce.isValid())&&(($t=yt($t)||"millisecond")==="millisecond"?this.valueOf()>ce.valueOf():ce.valueOf()<this.clone().startOf($t).valueOf())},ir.isBefore=function(gt,$t){var ce=W(gt)?gt:$e(gt);return!(!this.isValid()||!ce.isValid())&&(($t=yt($t)||"millisecond")==="millisecond"?this.valueOf()<ce.valueOf():this.clone().endOf($t).valueOf()<ce.valueOf())},ir.isBetween=function(gt,$t,ce,Me){var cn=W(gt)?gt:$e(gt),Nn=W($t)?$t:$e($t);return!!(this.isValid()&&cn.isValid()&&Nn.isValid())&&((Me=Me||"()")[0]==="("?this.isAfter(cn,ce):!this.isBefore(cn,ce))&&(Me[1]===")"?this.isBefore(Nn,ce):!this.isAfter(Nn,ce))},ir.isSame=function(gt,$t){var ce,Me=W(gt)?gt:$e(gt);return!(!this.isValid()||!Me.isValid())&&(($t=yt($t)||"millisecond")==="millisecond"?this.valueOf()===Me.valueOf():(ce=Me.valueOf(),this.clone().startOf($t).valueOf()<=ce&&ce<=this.clone().endOf($t).valueOf()))},ir.isSameOrAfter=function(gt,$t){return this.isSame(gt,$t)||this.isAfter(gt,$t)},ir.isSameOrBefore=function(gt,$t){return this.isSame(gt,$t)||this.isBefore(gt,$t)},ir.isValid=function(){return P(this)},ir.lang=no,ir.locale=wi,ir.localeData=Xr,ir.max=fn,ir.min=Es,ir.parsingFlags=function(){return O({},M(this))},ir.set=function(gt,$t){if(typeof gt=="object")for(var ce=function(cn){var Nn=[];for(var zn in cn)Nn.push({unit:zn,priority:xt[zn]});return Nn.sort(function(tr,nr){return tr.priority-nr.priority}),Nn}(gt=kt(gt)),Me=0;Me<ce.length;Me++)this[ce[Me].unit](gt[ce[Me].unit]);else if(Bt(this[gt=yt(gt)]))return this[gt]($t);return this},ir.startOf=function(gt){var $t;if((gt=yt(gt))===void 0||gt==="millisecond"||!this.isValid())return this;var ce=this._isUTC?ha:Io;switch(gt){case"year":$t=ce(this.year(),0,1);break;case"quarter":$t=ce(this.year(),this.month()-this.month()%3,1);break;case"month":$t=ce(this.year(),this.month(),1);break;case"week":$t=ce(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":$t=ce(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":$t=ce(this.year(),this.month(),this.date());break;case"hour":$t=this._d.valueOf(),$t-=Wa($t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":$t=this._d.valueOf(),$t-=Wa($t,6e4);break;case"second":$t=this._d.valueOf(),$t-=Wa($t,1e3)}return this._d.setTime($t),g.updateOffset(this,!0),this},ir.subtract=er,ir.toArray=function(){var gt=this;return[gt.year(),gt.month(),gt.date(),gt.hour(),gt.minute(),gt.second(),gt.millisecond()]},ir.toObject=function(){var gt=this;return{years:gt.year(),months:gt.month(),date:gt.date(),hours:gt.hours(),minutes:gt.minutes(),seconds:gt.seconds(),milliseconds:gt.milliseconds()}},ir.toDate=function(){return new Date(this.valueOf())},ir.toISOString=function(gt){if(!this.isValid())return null;var $t=gt!==!0,ce=$t?this.clone().utc():this;return ce.year()<0||9999<ce.year()?se(ce,$t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Bt(Date.prototype.toISOString)?$t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",se(ce,"Z")):se(ce,$t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},ir.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var gt="moment",$t="";this.isLocal()||(gt=this.utcOffset()===0?"moment.utc":"moment.parseZone",$t="Z");var ce="["+gt+'("]',Me=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",cn=$t+'[")]';return this.format(ce+Me+"-MM-DD[T]HH:mm:ss.SSS"+cn)},ir.toJSON=function(){return this.isValid()?this.toISOString():null},ir.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},ir.unix=function(){return Math.floor(this.valueOf()/1e3)},ir.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},ir.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},ir.year=dn,ir.isLeapYear=function(){return ze(this.year())},ir.weekYear=function(gt){return ia.call(this,gt,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},ir.isoWeekYear=function(gt){return ia.call(this,gt,this.isoWeek(),this.isoWeekday(),1,4)},ir.quarter=ir.quarters=function(gt){return gt==null?Math.ceil((this.month()+1)/3):this.month(3*(gt-1)+this.month()%3)},ir.month=on,ir.daysInMonth=function(){return mn(this.year(),this.month())},ir.week=ir.weeks=function(gt){var $t=this.localeData().week(this);return gt==null?$t:this.add(7*(gt-$t),"d")},ir.isoWeek=ir.isoWeeks=function(gt){var $t=Ye(this,1,4).week;return gt==null?$t:this.add(7*(gt-$t),"d")},ir.weeksInYear=function(){var gt=this.localeData()._week;return vr(this.year(),gt.dow,gt.doy)},ir.isoWeeksInYear=function(){return vr(this.year(),1,4)},ir.date=bc,ir.day=ir.days=function(gt){if(!this.isValid())return gt!=null?this:NaN;var $t,ce,Me=this._isUTC?this._d.getUTCDay():this._d.getDay();return gt!=null?($t=gt,ce=this.localeData(),gt=typeof $t!="string"?$t:isNaN($t)?typeof($t=ce.weekdaysParse($t))=="number"?$t:null:parseInt($t,10),this.add(gt-Me,"d")):Me},ir.weekday=function(gt){if(!this.isValid())return gt!=null?this:NaN;var $t=(this.day()+7-this.localeData()._week.dow)%7;return gt==null?$t:this.add(gt-$t,"d")},ir.isoWeekday=function(gt){if(!this.isValid())return gt!=null?this:NaN;if(gt==null)return this.day()||7;var $t,ce,Me=($t=gt,ce=this.localeData(),typeof $t=="string"?ce.weekdaysParse($t)%7||7:isNaN($t)?null:$t);return this.day(this.day()%7?Me:Me-7)},ir.dayOfYear=function(gt){var $t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return gt==null?$t:this.add(gt-$t,"d")},ir.hour=ir.hours=qn,ir.minute=ir.minutes=dl,ir.second=ir.seconds=wu,ir.millisecond=ir.milliseconds=xc,ir.utcOffset=function(gt,$t,ce){var Me,cn=this._offset||0;if(!this.isValid())return gt!=null?this:NaN;if(gt==null)return this._isUTC?cn:fs(this);if(typeof gt=="string"){if((gt=Do(Ht,gt))===null)return this}else Math.abs(gt)<16&&!ce&&(gt*=60);return!this._isUTC&&$t&&(Me=fs(this)),this._offset=gt,this._isUTC=!0,Me!=null&&this.add(Me,"m"),cn!==gt&&(!$t||this._changeInProgress?hl(this,Ko(gt-cn,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,g.updateOffset(this,!0),this._changeInProgress=null)),this},ir.utc=function(gt){return this.utcOffset(0,gt)},ir.local=function(gt){return this._isUTC&&(this.utcOffset(0,gt),this._isUTC=!1,gt&&this.subtract(fs(this),"m")),this},ir.parseZone=function(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var gt=Do(he,this._i);gt!=null?this.utcOffset(gt):this.utcOffset(0,!0)}return this},ir.hasAlignedHourOffset=function(gt){return!!this.isValid()&&(gt=gt?$e(gt).utcOffset():0,(this.utcOffset()-gt)%60==0)},ir.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},ir.isLocal=function(){return!!this.isValid()&&!this._isUTC},ir.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},ir.isUtc=es,ir.isUTC=es,ir.zoneAbbr=function(){return this._isUTC?"UTC":""},ir.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},ir.dates=pt("dates accessor is deprecated. Use date instead.",bc),ir.months=pt("months accessor is deprecated. Use month instead",on),ir.years=pt("years accessor is deprecated. Use year instead",dn),ir.zone=pt("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(gt,$t){return gt!=null?(typeof gt!="string"&&(gt=-gt),this.utcOffset(gt,$t),this):-this.utcOffset()}),ir.isDSTShifted=pt("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!E(this._isDSTShifted))return this._isDSTShifted;var gt={};if(F(gt,this),(gt=cr(gt))._a){var $t=gt._isUTC?_(gt._a):$e(gt._a);this._isDSTShifted=this.isValid()&&0<st(gt._a,$t.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var so=Ct.prototype;function $c(gt,$t,ce,Me){var cn=ci(),Nn=_().set(Me,$t);return cn[ce](Nn,gt)}function Gl(gt,$t,ce){if(C(gt)&&($t=gt,gt=void 0),gt=gt||"",$t!=null)return $c(gt,$t,ce,"month");var Me,cn=[];for(Me=0;Me<12;Me++)cn[Me]=$c(gt,Me,ce,"month");return cn}function Ga(gt,$t,ce,Me){typeof gt=="boolean"?C($t)&&(ce=$t,$t=void 0):($t=gt,gt=!1,C(ce=$t)&&(ce=$t,$t=void 0)),$t=$t||"";var cn,Nn=ci(),zn=gt?Nn._week.dow:0;if(ce!=null)return $c($t,(ce+zn)%7,Me,"day");var tr=[];for(cn=0;cn<7;cn++)tr[cn]=$c($t,(cn+zn)%7,Me,"day");return tr}so.calendar=function(gt,$t,ce){var Me=this._calendar[gt]||this._calendar.sameElse;return Bt(Me)?Me.call($t,ce):Me},so.longDateFormat=function(gt){var $t=this._longDateFormat[gt],ce=this._longDateFormat[gt.toUpperCase()];return $t||!ce?$t:(this._longDateFormat[gt]=ce.replace(/MMMM|MM|DD|dddd/g,function(Me){return Me.slice(1)}),this._longDateFormat[gt])},so.invalidDate=function(){return this._invalidDate},so.ordinal=function(gt){return this._ordinal.replace("%d",gt)},so.preparse=_u,so.postformat=_u,so.relativeTime=function(gt,$t,ce,Me){var cn=this._relativeTime[ce];return Bt(cn)?cn(gt,$t,ce,Me):cn.replace(/%d/i,gt)},so.pastFuture=function(gt,$t){var ce=this._relativeTime[0<gt?"future":"past"];return Bt(ce)?ce($t):ce.replace(/%s/i,$t)},so.set=function(gt){var $t,ce;for(ce in gt)Bt($t=gt[ce])?this[ce]=$t:this["_"+ce]=$t;this._config=gt,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},so.months=function(gt,$t){return gt?y(this._months)?this._months[gt.month()]:this._months[(this._months.isFormat||Bn).test($t)?"format":"standalone"][gt.month()]:y(this._months)?this._months:this._months.standalone},so.monthsShort=function(gt,$t){return gt?y(this._monthsShort)?this._monthsShort[gt.month()]:this._monthsShort[Bn.test($t)?"format":"standalone"][gt.month()]:y(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},so.monthsParse=function(gt,$t,ce){var Me,cn,Nn;if(this._monthsParseExact)return function(zn,tr,nr){var lr,dr,Vr,Ir=zn.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],lr=0;lr<12;++lr)Vr=_([2e3,lr]),this._shortMonthsParse[lr]=this.monthsShort(Vr,"").toLocaleLowerCase(),this._longMonthsParse[lr]=this.months(Vr,"").toLocaleLowerCase();return nr?tr==="MMM"?(dr=He.call(this._shortMonthsParse,Ir))!==-1?dr:null:(dr=He.call(this._longMonthsParse,Ir))!==-1?dr:null:tr==="MMM"?(dr=He.call(this._shortMonthsParse,Ir))!==-1||(dr=He.call(this._longMonthsParse,Ir))!==-1?dr:null:(dr=He.call(this._longMonthsParse,Ir))!==-1||(dr=He.call(this._shortMonthsParse,Ir))!==-1?dr:null}.call(this,gt,$t,ce);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),Me=0;Me<12;Me++)if(cn=_([2e3,Me]),ce&&!this._longMonthsParse[Me]&&(this._longMonthsParse[Me]=new RegExp("^"+this.months(cn,"").replace(".","")+"$","i"),this._shortMonthsParse[Me]=new RegExp("^"+this.monthsShort(cn,"").replace(".","")+"$","i")),ce||this._monthsParse[Me]||(Nn="^"+this.months(cn,"")+"|^"+this.monthsShort(cn,""),this._monthsParse[Me]=new RegExp(Nn.replace(".",""),"i")),ce&&$t==="MMMM"&&this._longMonthsParse[Me].test(gt)||ce&&$t==="MMM"&&this._shortMonthsParse[Me].test(gt)||!ce&&this._monthsParse[Me].test(gt))return Me},so.monthsRegex=function(gt){return this._monthsParseExact?(a(this,"_monthsRegex")||Ge.call(this),gt?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=Sn),this._monthsStrictRegex&&gt?this._monthsStrictRegex:this._monthsRegex)},so.monthsShortRegex=function(gt){return this._monthsParseExact?(a(this,"_monthsRegex")||Ge.call(this),gt?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=yn),this._monthsShortStrictRegex&&gt?this._monthsShortStrictRegex:this._monthsShortRegex)},so.week=function(gt){return Ye(gt,this._week.dow,this._week.doy).week},so.firstDayOfYear=function(){return this._week.doy},so.firstDayOfWeek=function(){return this._week.dow},so.weekdays=function(gt,$t){var ce=y(this._weekdays)?this._weekdays:this._weekdays[gt&&gt!==!0&&this._weekdays.isFormat.test($t)?"format":"standalone"];return gt===!0?Zr(ce,this._week.dow):gt?ce[gt.day()]:ce},so.weekdaysMin=function(gt){return gt===!0?Zr(this._weekdaysMin,this._week.dow):gt?this._weekdaysMin[gt.day()]:this._weekdaysMin},so.weekdaysShort=function(gt){return gt===!0?Zr(this._weekdaysShort,this._week.dow):gt?this._weekdaysShort[gt.day()]:this._weekdaysShort},so.weekdaysParse=function(gt,$t,ce){var Me,cn,Nn;if(this._weekdaysParseExact)return function(zn,tr,nr){var lr,dr,Vr,Ir=zn.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],lr=0;lr<7;++lr)Vr=_([2e3,1]).day(lr),this._minWeekdaysParse[lr]=this.weekdaysMin(Vr,"").toLocaleLowerCase(),this._shortWeekdaysParse[lr]=this.weekdaysShort(Vr,"").toLocaleLowerCase(),this._weekdaysParse[lr]=this.weekdays(Vr,"").toLocaleLowerCase();return nr?tr==="dddd"?(dr=He.call(this._weekdaysParse,Ir))!==-1?dr:null:tr==="ddd"?(dr=He.call(this._shortWeekdaysParse,Ir))!==-1?dr:null:(dr=He.call(this._minWeekdaysParse,Ir))!==-1?dr:null:tr==="dddd"?(dr=He.call(this._weekdaysParse,Ir))!==-1||(dr=He.call(this._shortWeekdaysParse,Ir))!==-1||(dr=He.call(this._minWeekdaysParse,Ir))!==-1?dr:null:tr==="ddd"?(dr=He.call(this._shortWeekdaysParse,Ir))!==-1||(dr=He.call(this._weekdaysParse,Ir))!==-1||(dr=He.call(this._minWeekdaysParse,Ir))!==-1?dr:null:(dr=He.call(this._minWeekdaysParse,Ir))!==-1||(dr=He.call(this._weekdaysParse,Ir))!==-1||(dr=He.call(this._shortWeekdaysParse,Ir))!==-1?dr:null}.call(this,gt,$t,ce);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),Me=0;Me<7;Me++)if(cn=_([2e3,1]).day(Me),ce&&!this._fullWeekdaysParse[Me]&&(this._fullWeekdaysParse[Me]=new RegExp("^"+this.weekdays(cn,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[Me]=new RegExp("^"+this.weekdaysShort(cn,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[Me]=new RegExp("^"+this.weekdaysMin(cn,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[Me]||(Nn="^"+this.weekdays(cn,"")+"|^"+this.weekdaysShort(cn,"")+"|^"+this.weekdaysMin(cn,""),this._weekdaysParse[Me]=new RegExp(Nn.replace(".",""),"i")),ce&&$t==="dddd"&&this._fullWeekdaysParse[Me].test(gt)||ce&&$t==="ddd"&&this._shortWeekdaysParse[Me].test(gt)||ce&&$t==="dd"&&this._minWeekdaysParse[Me].test(gt)||!ce&&this._weekdaysParse[Me].test(gt))return Me},so.weekdaysRegex=function(gt){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||xr.call(this),gt?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=Tr),this._weekdaysStrictRegex&&gt?this._weekdaysStrictRegex:this._weekdaysRegex)},so.weekdaysShortRegex=function(gt){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||xr.call(this),gt?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=br),this._weekdaysShortStrictRegex&&gt?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},so.weekdaysMinRegex=function(gt){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||xr.call(this),gt?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=mr),this._weekdaysMinStrictRegex&&gt?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},so.isPM=function(gt){return(gt+"").toLowerCase().charAt(0)==="p"},so.meridiem=function(gt,$t,ce){return 11<gt?ce?"pm":"PM":ce?"am":"AM"},bi("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(gt){var $t=gt%10;return gt+(K(gt%100/10)===1?"th":$t===1?"st":$t===2?"nd":$t===3?"rd":"th")}}),g.lang=pt("moment.lang is deprecated. Use moment.locale instead.",bi),g.langData=pt("moment.langData is deprecated. Use moment.localeData instead.",ci);var Xa=Math.abs;function Gi(gt,$t,ce,Me){var cn=Ko($t,ce);return gt._milliseconds+=Me*cn._milliseconds,gt._days+=Me*cn._days,gt._months+=Me*cn._months,gt._bubble()}function qc(gt){return gt<0?Math.floor(gt):Math.ceil(gt)}function ih(gt){return 4800*gt/146097}function Ra(gt){return 146097*gt/4800}function tc(gt){return function(){return this.as(gt)}}var ku=tc("ms"),Vi=tc("s"),Yc=tc("m"),ns=tc("h"),yd=tc("d"),ka=tc("w"),oh=tc("M"),Al=tc("Q"),ah=tc("y");function Da(gt){return function(){return this.isValid()?this._data[gt]:NaN}}var Ol=Da("milliseconds"),Hs=Da("seconds"),jh=Da("minutes"),$s=Da("hours"),wc=Da("days"),rs=Da("months"),Xl=Da("years"),oa=Math.round,yo={ss:44,s:45,m:45,h:22,d:26,M:11},is=Math.abs;function Fa(gt){return(0<gt)-(gt<0)||+gt}function Wi(){if(!this.isValid())return this.localeData().invalidDate();var gt,$t,ce=is(this._milliseconds)/1e3,Me=is(this._days),cn=is(this._months);$t=V((gt=V(ce/60))/60),ce%=60,gt%=60;var Nn=V(cn/12),zn=cn%=12,tr=Me,nr=$t,lr=gt,dr=ce?ce.toFixed(3).replace(/\.?0+$/,""):"",Vr=this.asSeconds();if(!Vr)return"P0D";var Ir=Vr<0?"-":"",Ci=Fa(this._months)!==Fa(Vr)?"-":"",$i=Fa(this._days)!==Fa(Vr)?"-":"",_i=Fa(this._milliseconds)!==Fa(Vr)?"-":"";return Ir+"P"+(Nn?Ci+Nn+"Y":"")+(zn?Ci+zn+"M":"")+(tr?$i+tr+"D":"")+(nr||lr||dr?"T":"")+(nr?_i+nr+"H":"")+(lr?_i+lr+"M":"")+(dr?_i+dr+"S":"")}var Mi=Na.prototype;return Mi.isValid=function(){return this._isValid},Mi.abs=function(){var gt=this._data;return this._milliseconds=Xa(this._milliseconds),this._days=Xa(this._days),this._months=Xa(this._months),gt.milliseconds=Xa(gt.milliseconds),gt.seconds=Xa(gt.seconds),gt.minutes=Xa(gt.minutes),gt.hours=Xa(gt.hours),gt.months=Xa(gt.months),gt.years=Xa(gt.years),this},Mi.add=function(gt,$t){return Gi(this,gt,$t,1)},Mi.subtract=function(gt,$t){return Gi(this,gt,$t,-1)},Mi.as=function(gt){if(!this.isValid())return NaN;var $t,ce,Me=this._milliseconds;if((gt=yt(gt))==="month"||gt==="quarter"||gt==="year")switch($t=this._days+Me/864e5,ce=this._months+ih($t),gt){case"month":return ce;case"quarter":return ce/3;case"year":return ce/12}else switch($t=this._days+Math.round(Ra(this._months)),gt){case"week":return $t/7+Me/6048e5;case"day":return $t+Me/864e5;case"hour":return 24*$t+Me/36e5;case"minute":return 1440*$t+Me/6e4;case"second":return 86400*$t+Me/1e3;case"millisecond":return Math.floor(864e5*$t)+Me;default:throw new Error("Unknown unit "+gt)}},Mi.asMilliseconds=ku,Mi.asSeconds=Vi,Mi.asMinutes=Yc,Mi.asHours=ns,Mi.asDays=yd,Mi.asWeeks=ka,Mi.asMonths=oh,Mi.asQuarters=Al,Mi.asYears=ah,Mi.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*K(this._months/12):NaN},Mi._bubble=function(){var gt,$t,ce,Me,cn,Nn=this._milliseconds,zn=this._days,tr=this._months,nr=this._data;return 0<=Nn&&0<=zn&&0<=tr||Nn<=0&&zn<=0&&tr<=0||(Nn+=864e5*qc(Ra(tr)+zn),tr=zn=0),nr.milliseconds=Nn%1e3,gt=V(Nn/1e3),nr.seconds=gt%60,$t=V(gt/60),nr.minutes=$t%60,ce=V($t/60),nr.hours=ce%24,tr+=cn=V(ih(zn+=V(ce/24))),zn-=qc(Ra(cn)),Me=V(tr/12),tr%=12,nr.days=zn,nr.months=tr,nr.years=Me,this},Mi.clone=function(){return Ko(this)},Mi.get=function(gt){return gt=yt(gt),this.isValid()?this[gt+"s"]():NaN},Mi.milliseconds=Ol,Mi.seconds=Hs,Mi.minutes=jh,Mi.hours=$s,Mi.days=wc,Mi.weeks=function(){return V(this.days()/7)},Mi.months=rs,Mi.years=Xl,Mi.humanize=function(gt){if(!this.isValid())return this.localeData().invalidDate();var $t,ce,Me,cn,Nn,zn,tr,nr,lr,dr,Vr=this.localeData(),Ir=($t=!gt,ce=Vr,Me=Ko(this).abs(),cn=oa(Me.as("s")),Nn=oa(Me.as("m")),zn=oa(Me.as("h")),tr=oa(Me.as("d")),nr=oa(Me.as("M")),lr=oa(Me.as("y")),(dr=cn<=yo.ss&&["s",cn]||cn<yo.s&&["ss",cn]||Nn<=1&&["m"]||Nn<yo.m&&["mm",Nn]||zn<=1&&["h"]||zn<yo.h&&["hh",zn]||tr<=1&&["d"]||tr<yo.d&&["dd",tr]||nr<=1&&["M"]||nr<yo.M&&["MM",nr]||lr<=1&&["y"]||["yy",lr])[2]=$t,dr[3]=0<+this,dr[4]=ce,function(Ci,$i,_i,No,Za){return Za.relativeTime($i||1,!!_i,Ci,No)}.apply(null,dr));return gt&&(Ir=Vr.pastFuture(+this,Ir)),Vr.postformat(Ir)},Mi.toISOString=Wi,Mi.toString=Wi,Mi.toJSON=Wi,Mi.locale=wi,Mi.localeData=Xr,Mi.toIsoString=pt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Wi),Mi.lang=no,Xt("X",0,0,"unix"),Xt("x",0,0,"valueOf"),we("x",Lt),we("X",/[+-]?\d+(\.\d{1,3})?/),me("X",function(gt,$t,ce){ce._d=new Date(1e3*parseFloat(gt,10))}),me("x",function(gt,$t,ce){ce._d=new Date(K(gt))}),g.version="2.24.0",n=$e,g.fn=ir,g.min=function(){return ao("isBefore",[].slice.call(arguments,0))},g.max=function(){return ao("isAfter",[].slice.call(arguments,0))},g.now=function(){return Date.now?Date.now():+new Date},g.utc=_,g.unix=function(gt){return $e(1e3*gt)},g.months=function(gt,$t){return Gl(gt,$t,"months")},g.isDate=v,g.locale=bi,g.invalid=R,g.duration=Ko,g.isMoment=W,g.weekdays=function(gt,$t,ce){return Ga(gt,$t,ce,"weekdays")},g.parseZone=function(){return $e.apply(null,arguments).parseZone()},g.localeData=ci,g.isDuration=ds,g.monthsShort=function(gt,$t){return Gl(gt,$t,"monthsShort")},g.weekdaysMin=function(gt,$t,ce){return Ga(gt,$t,ce,"weekdaysMin")},g.defineLocale=oo,g.updateLocale=function(gt,$t){if($t!=null){var ce,Me,cn=Lr;(Me=vi(gt))!=null&&(cn=Me._config),(ce=new Ct($t=Tt(cn,$t))).parentLocale=Ar[gt],Ar[gt]=ce,bi(gt)}else Ar[gt]!=null&&(Ar[gt].parentLocale!=null?Ar[gt]=Ar[gt].parentLocale:Ar[gt]!=null&&delete Ar[gt]);return Ar[gt]},g.locales=function(){return ct(Ar)},g.weekdaysShort=function(gt,$t,ce){return Ga(gt,$t,ce,"weekdaysShort")},g.normalizeUnits=yt,g.relativeTimeRounding=function(gt){return gt===void 0?oa:typeof gt=="function"&&(oa=gt,!0)},g.relativeTimeThreshold=function(gt,$t){return yo[gt]!==void 0&&($t===void 0?yo[gt]:(yo[gt]=$t,gt==="s"&&(yo.ss=$t-1),!0))},g.calendarFormat=function(gt,$t){var ce=gt.diff($t,"days",!0);return ce<-6?"sameElse":ce<-1?"lastWeek":ce<0?"lastDay":ce<1?"sameDay":ce<2?"nextDay":ce<7?"nextWeek":"sameElse"},g.prototype=ir,g.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},g}()},8548:(d,u,s)=>{var n=s(3379),m=s.n(n),g=s(7795),y=s.n(g),k=s(569),E=s.n(k),C=s(3565),v=s.n(C),h=s(9216),a=s.n(h),O=s(4589),_=s.n(O),M=s(1424),P={};P.styleTagTransform=_(),P.setAttributes=v(),P.insert=E().bind(null,"head"),P.domAPI=y(),P.insertStyleElement=a(),m()(M.Z,P),M.Z&&M.Z.locals&&M.Z.locals},3379:d=>{var u=[];function s(g){for(var y=-1,k=0;k<u.length;k++)if(u[k].identifier===g){y=k;break}return y}function n(g,y){for(var k={},E=[],C=0;C<g.length;C++){var v=g[C],h=y.base?v[0]+y.base:v[0],a=k[h]||0,O="".concat(h," ").concat(a);k[h]=a+1;var _=s(O),M={css:v[1],media:v[2],sourceMap:v[3],supports:v[4],layer:v[5]};if(_!==-1)u[_].references++,u[_].updater(M);else{var P=m(M,y);y.byIndex=C,u.splice(C,0,{identifier:O,updater:P,references:1})}E.push(O)}return E}function m(g,y){var k=y.domAPI(y);return k.update(g),function(E){if(E){if(E.css===g.css&&E.media===g.media&&E.sourceMap===g.sourceMap&&E.supports===g.supports&&E.layer===g.layer)return;k.update(g=E)}else k.remove()}}d.exports=function(g,y){var k=n(g=g||[],y=y||{});return function(E){E=E||[];for(var C=0;C<k.length;C++){var v=s(k[C]);u[v].references--}for(var h=n(E,y),a=0;a<k.length;a++){var O=s(k[a]);u[O].references===0&&(u[O].updater(),u.splice(O,1))}k=h}}},569:d=>{var u={};d.exports=function(s,n){var m=function(g){if(u[g]===void 0){var y=document.querySelector(g);if(window.HTMLIFrameElement&&y instanceof window.HTMLIFrameElement)try{y=y.contentDocument.head}catch(k){y=null}u[g]=y}return u[g]}(s);if(!m)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");m.appendChild(n)}},9216:d=>{d.exports=function(u){var s=document.createElement("style");return u.setAttributes(s,u.attributes),u.insert(s,u.options),s}},3565:(d,u,s)=>{d.exports=function(n){var m=s.nc;m&&n.setAttribute("nonce",m)}},7795:d=>{d.exports=function(u){var s=u.insertStyleElement(u);return{update:function(n){(function(m,g,y){var k="";y.supports&&(k+="@supports (".concat(y.supports,") {")),y.media&&(k+="@media ".concat(y.media," {"));var E=y.layer!==void 0;E&&(k+="@layer".concat(y.layer.length>0?" ".concat(y.layer):""," {")),k+=y.css,E&&(k+="}"),y.media&&(k+="}"),y.supports&&(k+="}");var C=y.sourceMap;C&&typeof btoa!="undefined"&&(k+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(C))))," */")),g.styleTagTransform(k,m,g.options)})(s,u,n)},remove:function(){(function(n){if(n.parentNode===null)return!1;n.parentNode.removeChild(n)})(s)}}}},4589:d=>{d.exports=function(u,s){if(s.styleSheet)s.styleSheet.cssText=u;else{for(;s.firstChild;)s.removeChild(s.firstChild);s.appendChild(document.createTextNode(u))}}},6783:function(d,u){(function(s){var n="-ms-",m="-moz-",g="-webkit-",y="comm",k="rule",E="decl",C="@import",v="@keyframes",h=Math.abs,a=String.fromCharCode,O=Object.assign;function _(ut,Mt){return(((Mt<<2^F(ut,0))<<2^F(ut,1))<<2^F(ut,2))<<2^F(ut,3)}function M(ut){return ut.trim()}function P(ut,Mt){return(ut=Mt.exec(ut))?ut[0]:ut}function R(ut,Mt,qt){return ut.replace(Mt,qt)}function $(ut,Mt){return ut.indexOf(Mt)}function F(ut,Mt){return 0|ut.charCodeAt(Mt)}function j(ut,Mt,qt){return ut.slice(Mt,qt)}function X(ut){return ut.length}function W(ut){return ut.length}function V(ut,Mt){return Mt.push(ut),ut}function K(ut,Mt){return ut.map(Mt).join("")}function st(ut,Mt,qt,Nt,Vt,Ut,Wt){return{value:ut,root:Mt,parent:qt,type:Nt,props:Vt,children:Ut,line:s.line,column:s.column,length:Wt,return:""}}function it(ut,Mt){return O(st("",null,null,"",null,null,0),ut,{length:-ut.length},Mt)}function pt(){return s.character}function ct(){return s.character=s.position>0?F(s.characters,--s.position):0,s.column--,s.character===10&&(s.column=1,s.line--),s.character}function lt(){return s.character=s.position<s.length?F(s.characters,s.position++):0,s.column++,s.character===10&&(s.column=1,s.line++),s.character}function J(){return F(s.characters,s.position)}function Bt(){return s.position}function Tt(ut,Mt){return j(s.characters,ut,Mt)}function Ct(ut){switch(ut){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function St(ut){return s.line=s.column=1,s.length=X(s.characters=ut),s.position=0,[]}function at(ut){return s.characters="",ut}function yt(ut){return M(Tt(s.position-1,Yt(ut===91?ut+2:ut===40?ut+1:ut)))}function kt(ut){return at(Pt(St(ut)))}function xt(ut){for(;(s.character=J())&&s.character<33;)lt();return Ct(ut)>2||Ct(s.character)>3?"":" "}function Pt(ut){for(;lt();)switch(Ct(s.character)){case 0:V(Qt(s.position-1),ut);break;case 2:V(yt(s.character),ut);break;default:V(a(s.character),ut)}return ut}function mt(ut,Mt){for(;--Mt&&lt()&&!(s.character<48||s.character>102||s.character>57&&s.character<65||s.character>70&&s.character<97););return Tt(ut,Bt()+(Mt<6&&J()==32&&lt()==32))}function Yt(ut){for(;lt();)switch(s.character){case ut:return s.position;case 34:case 39:ut!==34&&ut!==39&&Yt(s.character);break;case 40:ut===41&&Yt(ut);break;case 92:lt()}return s.position}function ne(ut,Mt){for(;lt()&&ut+s.character!==57&&(ut+s.character!==84||J()!==47););return"/*"+Tt(Mt,s.position-1)+"*"+a(ut===47?ut:lt())}function Qt(ut){for(;!Ct(J());)lt();return Tt(ut,s.position)}function Kt(ut,Mt,qt,Nt,Vt,Ut,Wt,Ft,jt){for(var ee=0,Lt=0,he=Wt,Ht=0,Se=0,Te=0,we=1,Ue=1,We=1,De=0,me="",Oe=Vt,Pe=Ut,ze=Nt,He=me;Ue;)switch(Te=De,De=lt()){case 40:if(Te!=108&&He.charCodeAt(he-1)==58){$(He+=R(yt(De),"&","&\f"),"&\f")!=-1&&(We=-1);break}case 34:case 39:case 91:He+=yt(De);break;case 9:case 10:case 13:case 32:He+=xt(Te);break;case 92:He+=mt(Bt()-1,7);continue;case 47:switch(J()){case 42:case 47:V(se(ne(lt(),Bt()),Mt,qt),jt);break;default:He+="/"}break;case 123*we:Ft[ee++]=X(He)*We;case 125*we:case 59:case 0:switch(De){case 0:case 125:Ue=0;case 59+Lt:Se>0&&X(He)-he&&V(Se>32?ue(He+";",Nt,qt,he-1):ue(R(He," ","")+";",Nt,qt,he-2),jt);break;case 59:He+=";";default:if(V(ze=Xt(He,Mt,qt,ee,Lt,Vt,Ft,me,Oe=[],Pe=[],he),Ut),De===123)if(Lt===0)Kt(He,Mt,ze,ze,Oe,Ut,he,Ft,Pe);else switch(Ht){case 100:case 109:case 115:Kt(ut,ze,ze,Nt&&V(Xt(ut,ze,ze,0,0,Vt,Ft,me,Vt,Oe=[],he),Pe),Vt,Pe,he,Ft,Nt?Oe:Pe);break;default:Kt(He,ze,ze,ze,[""],Pe,0,Ft,Pe)}}ee=Lt=Se=0,we=We=1,me=He="",he=Wt;break;case 58:he=1+X(He),Se=Te;default:if(we<1){if(De==123)--we;else if(De==125&&we++==0&&ct()==125)continue}switch(He+=a(De),De*we){case 38:We=Lt>0?1:(He+="\f",-1);break;case 44:Ft[ee++]=(X(He)-1)*We,We=1;break;case 64:J()===45&&(He+=yt(lt())),Ht=J(),Lt=he=X(me=He+=Qt(Bt())),De++;break;case 45:Te===45&&X(He)==2&&(we=0)}}return Ut}function Xt(ut,Mt,qt,Nt,Vt,Ut,Wt,Ft,jt,ee,Lt){for(var he=Vt-1,Ht=Vt===0?Ut:[""],Se=W(Ht),Te=0,we=0,Ue=0;Te<Nt;++Te)for(var We=0,De=j(ut,he+1,he=h(we=Wt[Te])),me=ut;We<Se;++We)(me=M(we>0?Ht[We]+" "+De:R(De,/&\f/g,Ht[We])))&&(jt[Ue++]=me);return st(ut,Mt,qt,Vt===0?k:Ft,jt,ee,Lt)}function se(ut,Mt,qt){return st(ut,Mt,qt,y,a(pt()),j(ut,2,-2),0)}function ue(ut,Mt,qt,Nt){return st(ut,Mt,qt,E,j(ut,0,Nt),j(ut,Nt+1,-1),Nt)}function re(ut,Mt,qt){switch(_(ut,Mt)){case 5103:return g+"print-"+ut+ut;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return g+ut+ut;case 4789:return m+ut+ut;case 5349:case 4246:case 4810:case 6968:case 2756:return g+ut+m+ut+n+ut+ut;case 6828:case 4268:return g+ut+n+ut+ut;case 6165:return g+ut+n+"flex-"+ut+ut;case 5187:return g+ut+R(ut,/(\w+).+(:[^]+)/,g+"box-$1$2"+n+"flex-$1$2")+ut;case 5443:return g+ut+n+"flex-item-"+R(ut,/flex-|-self/g,"")+(P(ut,/flex-|baseline/)?"":n+"grid-row-"+R(ut,/flex-|-self/g,""))+ut;case 4675:return g+ut+n+"flex-line-pack"+R(ut,/align-content|flex-|-self/g,"")+ut;case 5548:return g+ut+n+R(ut,"shrink","negative")+ut;case 5292:return g+ut+n+R(ut,"basis","preferred-size")+ut;case 6060:return g+"box-"+R(ut,"-grow","")+g+ut+n+R(ut,"grow","positive")+ut;case 4554:return g+R(ut,/([^-])(transform)/g,"$1"+g+"$2")+ut;case 6187:return R(R(R(ut,/(zoom-|grab)/,g+"$1"),/(image-set)/,g+"$1"),ut,"")+ut;case 5495:case 3959:return R(ut,/(image-set\([^]*)/,g+"$1$`$1");case 4968:return R(R(ut,/(.+:)(flex-)?(.*)/,g+"box-pack:$3"+n+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+g+ut+ut;case 4200:if(!P(ut,/flex-|baseline/))return n+"grid-column-align"+j(ut,Mt)+ut;break;case 2592:case 3360:return n+R(ut,"template-","")+ut;case 4384:case 3616:return qt&&qt.some(function(Nt,Vt){return Mt=Vt,P(Nt.props,/grid-\w+-end/)})?~$(ut+(qt=qt[Mt].value),"span")?ut:n+R(ut,"-start","")+ut+n+"grid-row-span:"+(~$(qt,"span")?P(qt,/\d+/):+P(qt,/\d+/)-+P(ut,/\d+/))+";":n+R(ut,"-start","")+ut;case 4896:case 4128:return qt&&qt.some(function(Nt){return P(Nt.props,/grid-\w+-start/)})?ut:n+R(R(ut,"-end","-span"),"span ","")+ut;case 4095:case 3583:case 4068:case 2532:return R(ut,/(.+)-inline(.+)/,g+"$1$2")+ut;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(X(ut)-1-Mt>6)switch(F(ut,Mt+1)){case 109:if(F(ut,Mt+4)!==45)break;case 102:return R(ut,/(.+:)(.+)-([^]+)/,"$1"+g+"$2-$3$1"+m+(F(ut,Mt+3)==108?"$3":"$2-$3"))+ut;case 115:return~$(ut,"stretch")?re(R(ut,"stretch","fill-available"),Mt,qt)+ut:ut}break;case 5152:case 5920:return R(ut,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(Nt,Vt,Ut,Wt,Ft,jt,ee){return n+Vt+":"+Ut+ee+(Wt?n+Vt+"-span:"+(Ft?jt:+jt-+Ut)+ee:"")+ut});case 4949:if(F(ut,Mt+6)===121)return R(ut,":",":"+g)+ut;break;case 6444:switch(F(ut,F(ut,14)===45?18:11)){case 120:return R(ut,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+g+(F(ut,14)===45?"inline-":"")+"box$3$1"+g+"$2$3$1"+n+"$2box$3")+ut;case 100:return R(ut,":",":"+n)+ut}break;case 5936:switch(F(ut,Mt+11)){case 114:return g+ut+n+R(ut,/[svh]\w+-[tblr]{2}/,"tb")+ut;case 108:return g+ut+n+R(ut,/[svh]\w+-[tblr]{2}/,"tb-rl")+ut;case 45:return g+ut+n+R(ut,/[svh]\w+-[tblr]{2}/,"lr")+ut}case 2903:return g+ut+n+ut+ut;case 5719:case 2647:case 2135:case 3927:case 2391:return R(ut,"scroll-","scroll-snap-")+ut}return ut}function _t(ut,Mt){for(var qt="",Nt=W(ut),Vt=0;Vt<Nt;Vt++)qt+=Mt(ut[Vt],Vt,ut,Mt)||"";return qt}s.line=1,s.column=1,s.length=0,s.position=0,s.character=0,s.characters="",s.CHARSET="@charset",s.COMMENT=y,s.COUNTER_STYLE="@counter-style",s.DECLARATION=E,s.DOCUMENT="@document",s.FONT_FACE="@font-face",s.FONT_FEATURE_VALUES="@font-feature-values",s.IMPORT=C,s.KEYFRAMES=v,s.MEDIA="@media",s.MOZ=m,s.MS=n,s.NAMESPACE="@namespace",s.PAGE="@page",s.RULESET=k,s.SUPPORTS="@supports",s.VIEWPORT="@viewport",s.WEBKIT=g,s.abs=h,s.alloc=St,s.append=V,s.assign=O,s.caret=Bt,s.char=pt,s.charat=F,s.combine=K,s.comment=se,s.commenter=ne,s.compile=function(ut){return at(Kt("",null,null,null,[""],ut=St(ut),0,[0],ut))},s.copy=it,s.dealloc=at,s.declaration=ue,s.delimit=yt,s.delimiter=Yt,s.escaping=mt,s.from=a,s.hash=_,s.identifier=Qt,s.indexof=$,s.match=P,s.middleware=function(ut){var Mt=W(ut);return function(qt,Nt,Vt,Ut){for(var Wt="",Ft=0;Ft<Mt;Ft++)Wt+=ut[Ft](qt,Nt,Vt,Ut)||"";return Wt}},s.namespace=function(ut){ut.type===k&&(ut.props=ut.props.map(function(Mt){return K(kt(Mt),function(qt,Nt,Vt){switch(F(qt,0)){case 12:return j(qt,1,X(qt));case 0:case 40:case 43:case 62:case 126:return qt;case 58:Vt[++Nt]==="global"&&(Vt[Nt]="",Vt[++Nt]="\f"+j(Vt[Nt],Nt=1,-1));case 32:return Nt===1?"":qt;default:switch(Nt){case 0:return ut=qt,W(Vt)>1?"":qt;case(Nt=W(Vt)-1):case 2:return Nt===2?qt+ut+ut:qt+ut;default:return qt}}})}))},s.next=lt,s.node=st,s.parse=Kt,s.peek=J,s.prefix=re,s.prefixer=function(ut,Mt,qt,Nt){if(ut.length>-1&&!ut.return)switch(ut.type){case E:return void(ut.return=re(ut.value,ut.length,qt));case v:return _t([it(ut,{value:R(ut.value,"@","@"+g)})],Nt);case k:if(ut.length)return K(ut.props,function(Vt){switch(P(Vt,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return _t([it(ut,{props:[R(Vt,/:(read-\w+)/,":-moz-$1")]})],Nt);case"::placeholder":return _t([it(ut,{props:[R(Vt,/:(plac\w+)/,":"+g+"input-$1")]}),it(ut,{props:[R(Vt,/:(plac\w+)/,":-moz-$1")]}),it(ut,{props:[R(Vt,/:(plac\w+)/,n+"input-$1")]})],Nt)}return""})}},s.prev=ct,s.replace=R,s.ruleset=Xt,s.rulesheet=function(ut){return function(Mt){Mt.root||(Mt=Mt.return)&&ut(Mt)}},s.serialize=_t,s.sizeof=W,s.slice=Tt,s.stringify=function(ut,Mt,qt,Nt){switch(ut.type){case C:case E:return ut.return=ut.return||ut.value;case y:return"";case v:return ut.return=ut.value+"{"+_t(ut.children,Nt)+"}";case k:ut.value=ut.props.join(",")}return X(qt=_t(ut.children,Nt))?ut.return=ut.value+"{"+qt+"}":""},s.strlen=X,s.substr=j,s.token=Ct,s.tokenize=kt,s.tokenizer=Pt,s.trim=M,s.whitespace=xt,Object.defineProperty(s,"__esModule",{value:!0})})(u)},1728:(d,u,s)=>{function n(t,i){return t==null||i==null?NaN:t<i?-1:t>i?1:t>=i?0:NaN}function m(t,i){return t==null||i==null?NaN:i<t?-1:i>t?1:i>=t?0:NaN}function g(t){let i,p,w;function A(B,Y,G=0,et=B.length){if(G<et){if(i(Y,Y)!==0)return et;do{const rt=G+et>>>1;p(B[rt],Y)<0?G=rt+1:et=rt}while(G<et)}return G}return t.length!==2?(i=n,p=(B,Y)=>n(t(B),Y),w=(B,Y)=>t(B)-Y):(i=t===n||t===m?t:y,p=t,w=t),{left:A,center:function(B,Y,G=0,et=B.length){const rt=A(B,Y,G,et-1);return rt>G&&w(B[rt-1],Y)>-w(B[rt],Y)?rt-1:rt},right:function(B,Y,G=0,et=B.length){if(G<et){if(i(Y,Y)!==0)return et;do{const rt=G+et>>>1;p(B[rt],Y)<=0?G=rt+1:et=rt}while(G<et)}return G}}}function y(){return 0}function k(t){return t===null?NaN:+t}function*E(t,i){if(i===void 0)for(let p of t)p!=null&&(p=+p)>=p&&(yield p);else{let p=-1;for(let w of t)(w=i(w,++p,t))!=null&&(w=+w)>=w&&(yield w)}}s.r(u),s.d(u,{Adder:()=>J,Delaunay:()=>Np,FormatSpecifier:()=>Kh,InternMap:()=>Ct,InternSet:()=>St,Node:()=>C0,Voronoi:()=>Af,ZoomTransform:()=>xp,active:()=>Kc,arc:()=>Sk,area:()=>Eg,areaRadial:()=>w3,ascending:()=>n,autoType:()=>em,axisBottom:()=>Ia,axisLeft:()=>Cr,axisRight:()=>vc,axisTop:()=>ul,bin:()=>We,bisect:()=>O,bisectCenter:()=>a,bisectLeft:()=>h,bisectRight:()=>v,bisector:()=>g,blob:()=>du,blur:()=>_,blur2:()=>M,blurImage:()=>P,brush:()=>_f,brushSelection:()=>Ws,brushX:()=>Tc,brushY:()=>Jc,buffer:()=>Ky,chord:()=>r,chordDirected:()=>Z,chordTranspose:()=>b,cluster:()=>cw,color:()=>qs,contourDensity:()=>Py,contours:()=>Yg,count:()=>X,create:()=>ib,creator:()=>oh,cross:()=>st,csv:()=>g1,csvFormat:()=>Rp,csvFormatBody:()=>zy,csvFormatRow:()=>Hy,csvFormatRows:()=>Uy,csvFormatValue:()=>zl,csvParse:()=>Qg,csvParseRows:()=>Pp,cubehelix:()=>Fl,cumsum:()=>it,curveBasis:()=>Et,curveBasisClosed:()=>Zt,curveBasisOpen:()=>ie,curveBumpX:()=>k3,curveBumpY:()=>Ex,curveBundle:()=>_e,curveCardinal:()=>Le,curveCardinalClosed:()=>Re,curveCardinalOpen:()=>bn,curveCatmullRom:()=>un,curveCatmullRomClosed:()=>Ie,curveCatmullRomOpen:()=>Tn,curveLinear:()=>vp,curveLinearClosed:()=>An,curveMonotoneX:()=>pi,curveMonotoneY:()=>hi,curveNatural:()=>Fs,curveStep:()=>bp,curveStepAfter:()=>my,curveStepBefore:()=>gy,descending:()=>m,deviation:()=>ct,difference:()=>Lr,disjoint:()=>Ar,dispatch:()=>fn,drag:()=>Zg,dragDisable:()=>Me,dragEnable:()=>cn,dsv:()=>p1,dsvFormat:()=>bh,easeBack:()=>ya,easeBackIn:()=>Bc,easeBackInOut:()=>ya,easeBackOut:()=>Gy,easeBounce:()=>ma,easeBounceIn:()=>Ul,easeBounceInOut:()=>nm,easeBounceOut:()=>ma,easeCircle:()=>c1,easeCircleIn:()=>Wy,easeCircleInOut:()=>c1,easeCircleOut:()=>Fp,easeCubic:()=>su,easeCubicIn:()=>fh,easeCubicInOut:()=>su,easeCubicOut:()=>Mp,easeElastic:()=>u1,easeElasticIn:()=>Xy,easeElasticInOut:()=>h1,easeElasticOut:()=>u1,easeExp:()=>hu,easeExpIn:()=>sc,easeExpInOut:()=>hu,easeExpOut:()=>Pr,easeLinear:()=>a1,easePoly:()=>ca,easePolyIn:()=>Dp,easePolyInOut:()=>ca,easePolyOut:()=>qi,easeQuad:()=>di,easeQuadIn:()=>s1,easeQuadInOut:()=>di,easeQuadOut:()=>Vy,easeSin:()=>Zi,easeSinIn:()=>Mo,easeSinInOut:()=>Zi,easeSinOut:()=>Jr,every:()=>xr,extent:()=>lt,fcumsum:()=>Tt,filter:()=>En,flatGroup:()=>Qt,flatRollup:()=>Kt,forceCenter:()=>y1,forceCollide:()=>Zh,forceLink:()=>b1,forceManyBody:()=>C1,forceRadial:()=>im,forceSimulation:()=>k1,forceX:()=>Hp,forceY:()=>S1,format:()=>Jh,formatDefaultLocale:()=>ev,formatLocale:()=>el,formatPrefix:()=>A1,formatSpecifier:()=>ls,fsum:()=>Bt,geoAlbers:()=>kv,geoAlbersUsa:()=>S,geoArea:()=>av,geoAzimuthalEqualArea:()=>ge,geoAzimuthalEqualAreaRaw:()=>Jt,geoAzimuthalEquidistant:()=>Ve,geoAzimuthalEquidistantRaw:()=>je,geoBounds:()=>F1,geoCentroid:()=>lv,geoCircle:()=>a0,geoClipAntimeridian:()=>Ud,geoClipCircle:()=>Qf,geoClipExtent:()=>Rb,geoClipRectangle:()=>c0,geoConicConformal:()=>Or,geoConicConformalRaw:()=>rr,geoConicEqualArea:()=>k0,geoConicEqualAreaRaw:()=>Pm,geoConicEquidistant:()=>ai,geoConicEquidistantRaw:()=>Pi,geoContains:()=>Db,geoDistance:()=>u0,geoEqualEarth:()=>gu,geoEqualEarthRaw:()=>La,geoEquirectangular:()=>li,geoEquirectangularRaw:()=>Yr,geoGnomonic:()=>Rm,geoGnomonicRaw:()=>mu,geoGraticule:()=>km,geoGraticule10:()=>fv,geoIdentity:()=>M4,geoInterpolate:()=>ip,geoLength:()=>l0,geoMercator:()=>Cn,geoMercatorRaw:()=>ln,geoNaturalEarth1:()=>L4,geoNaturalEarth1Raw:()=>qb,geoOrthographic:()=>B4,geoOrthographicRaw:()=>cp,geoPath:()=>b0,geoProjection:()=>Vu,geoProjectionMutator:()=>sp,geoRotation:()=>H1,geoStereographic:()=>j4,geoStereographicRaw:()=>Cv,geoStream:()=>nl,geoTransform:()=>Hb,geoTransverseMercator:()=>I4,geoTransverseMercatorRaw:()=>Sv,gray:()=>xl,greatest:()=>dn,greatestIndex:()=>vr,group:()=>mt,groupSort:()=>Ut,groups:()=>Yt,hcl:()=>qh,hierarchy:()=>tf,histogram:()=>We,hsl:()=>vo,html:()=>zp,image:()=>jb,index:()=>ue,indexes:()=>re,interpolate:()=>As,interpolateArray:()=>yf,interpolateBasis:()=>pl,interpolateBasisClosed:()=>sh,interpolateBlues:()=>fx,interpolateBrBG:()=>G_,interpolateBuGn:()=>ok,interpolateBuPu:()=>r3,interpolateCividis:()=>u3,interpolateCool:()=>pk,interpolateCubehelix:()=>kw,interpolateCubehelixDefault:()=>fk,interpolateCubehelixLong:()=>T0,interpolateDate:()=>Wc,interpolateDiscrete:()=>Vm,interpolateGnBu:()=>sx,interpolateGreens:()=>px,interpolateGreys:()=>gx,interpolateHcl:()=>$4,interpolateHclLong:()=>q4,interpolateHsl:()=>xw,interpolateHslLong:()=>U4,interpolateHue:()=>bw,interpolateInferno:()=>m3,interpolateLab:()=>H4,interpolateMagma:()=>g3,interpolateNumber:()=>Ys,interpolateNumberArray:()=>ch,interpolateObject:()=>Kl,interpolateOrRd:()=>Zu,interpolateOranges:()=>dk,interpolatePRGn:()=>nx,interpolatePiYG:()=>ek,interpolatePlasma:()=>mk,interpolatePuBu:()=>o3,interpolatePuBuGn:()=>lx,interpolatePuOr:()=>nk,interpolatePuRd:()=>ak,interpolatePurples:()=>mx,interpolateRainbow:()=>d3,interpolateRdBu:()=>rk,interpolateRdGy:()=>ik,interpolateRdPu:()=>eb,interpolateRdYlBu:()=>rx,interpolateRdYlGn:()=>Q_,interpolateReds:()=>hk,interpolateRgb:()=>Ll,interpolateRgbBasis:()=>xd,interpolateRgbBasisClosed:()=>q0,interpolateRound:()=>Wm,interpolateSinebow:()=>f3,interpolateSpectral:()=>e3,interpolateString:()=>$o,interpolateTransformCss:()=>Ee,interpolateTransformSvg:()=>bl,interpolateTurbo:()=>p3,interpolateViridis:()=>gk,interpolateWarm:()=>h3,interpolateYlGn:()=>ck,interpolateYlGnBu:()=>sk,interpolateYlOrBr:()=>lk,interpolateYlOrRd:()=>uk,interpolateZoom:()=>s2,interrupt:()=>ru,intersection:()=>wr,interval:()=>fT,isoFormat:()=>uT,isoParse:()=>dT,json:()=>Ib,lab:()=>Ta,lch:()=>Ly,least:()=>Fr,leastIndex:()=>Ye,line:()=>I0,lineRadial:()=>Sx,link:()=>hy,linkHorizontal:()=>Mk,linkRadial:()=>vu,linkVertical:()=>Tg,local:()=>y3,map:()=>Yn,matcher:()=>Us,max:()=>De,maxIndex:()=>me,mean:()=>Rn,median:()=>$n,medianIndex:()=>sn,merge:()=>on,min:()=>Oe,minIndex:()=>Pe,mode:()=>yn,namespace:()=>wi,namespaces:()=>Vn,nice:()=>we,now:()=>Jo,pack:()=>fw,packEnclose:()=>P4,packSiblings:()=>dw,pairs:()=>Sn,partition:()=>R4,path:()=>ur,permute:()=>Mt,pie:()=>Tk,piecewise:()=>Cw,pointRadial:()=>ud,pointer:()=>_c,pointers:()=>_g,polygonArea:()=>Ew,polygonCentroid:()=>Y4,polygonContains:()=>jv,polygonHull:()=>Mw,polygonLength:()=>Lw,precisionFixed:()=>om,precisionPrefix:()=>nv,precisionRound:()=>$l,quadtree:()=>Qo,quantile:()=>Mn,quantileIndex:()=>an,quantileSorted:()=>Kn,quantize:()=>Sw,quickselect:()=>ze,radialArea:()=>w3,radialLine:()=>Sx,randomBates:()=>jw,randomBernoulli:()=>Nw,randomBeta:()=>Pw,randomBinomial:()=>Rw,randomCauchy:()=>W4,randomExponential:()=>Iw,randomGamma:()=>Nv,randomGeometric:()=>l2,randomInt:()=>Bw,randomIrwinHall:()=>hg,randomLcg:()=>Pv,randomLogNormal:()=>Gm,randomLogistic:()=>G4,randomNormal:()=>nf,randomPareto:()=>A0,randomPoisson:()=>X4,randomUniform:()=>Iv,randomWeibull:()=>V4,range:()=>Fn,rank:()=>ke,reduce:()=>Un,reverse:()=>qn,rgb:()=>ec,ribbon:()=>vn,ribbonArrow:()=>gn,rollup:()=>Xt,rollups:()=>se,scaleBand:()=>Xm,scaleDiverging:()=>H_,scaleDivergingLog:()=>$_,scaleDivergingPow:()=>Z2,scaleDivergingSqrt:()=>q_,scaleDivergingSymlog:()=>ay,scaleIdentity:()=>fg,scaleImplicit:()=>rf,scaleLinear:()=>Fw,scaleLog:()=>Hw,scaleOrdinal:()=>h2,scalePoint:()=>Zm,scalePow:()=>y2,scaleQuantile:()=>Ww,scaleQuantize:()=>Gw,scaleRadial:()=>v2,scaleSequential:()=>af,scaleSequentialLog:()=>z_,scaleSequentialPow:()=>X2,scaleSequentialQuantile:()=>U_,scaleSequentialSqrt:()=>K5,scaleSequentialSymlog:()=>G2,scaleSqrt:()=>e5,scaleSymlog:()=>Yw,scaleThreshold:()=>Xw,scaleTime:()=>xg,scaleUtc:()=>rl,scan:()=>Zr,schemeAccent:()=>J2,schemeBlues:()=>cy,schemeBrBG:()=>ex,schemeBuGn:()=>ox,schemeBuPu:()=>n3,schemeCategory10:()=>K2,schemeDark2:()=>Q2,schemeGnBu:()=>ax,schemeGreens:()=>s3,schemeGreys:()=>c3,schemeOrRd:()=>cx,schemeOranges:()=>vx,schemePRGn:()=>wg,schemePaired:()=>Y_,schemePastel1:()=>J5,schemePastel2:()=>Q5,schemePiYG:()=>X_,schemePuBu:()=>i3,schemePuBuGn:()=>yu,schemePuOr:()=>tb,schemePuRd:()=>a3,schemePurples:()=>l3,schemeRdBu:()=>Z_,schemeRdGy:()=>K_,schemeRdPu:()=>sf,schemeRdYlBu:()=>J_,schemeRdYlGn:()=>ix,schemeReds:()=>yx,schemeSet1:()=>tk,schemeSet2:()=>V_,schemeSet3:()=>W_,schemeSpectral:()=>t3,schemeTableau10:()=>tx,schemeYlGn:()=>ux,schemeYlGnBu:()=>sy,schemeYlOrBr:()=>hx,schemeYlOrRd:()=>dx,select:()=>Wi,selectAll:()=>kg,selection:()=>Fa,selector:()=>_a,selectorAll:()=>ra,shuffle:()=>jr,shuffler:()=>_r,some:()=>kr,sort:()=>qt,stack:()=>Bk,stackOffsetDiverging:()=>th,stackOffsetExpand:()=>jk,stackOffsetNone:()=>R0,stackOffsetSilhouette:()=>rT,stackOffsetWiggle:()=>iT,stackOrderAppearance:()=>R8,stackOrderAscending:()=>D8,stackOrderDescending:()=>aT,stackOrderInsideOut:()=>sT,stackOrderNone:()=>D0,stackOrderReverse:()=>cT,stratify:()=>gw,style:()=>zo,subset:()=>oo,sum:()=>Hr,superset:()=>vi,svg:()=>jd,symbol:()=>z,symbolAsterisk:()=>Uc,symbolCircle:()=>Bo,symbolCross:()=>C3,symbolDiamond:()=>ub,symbolDiamond2:()=>E3,symbolPlus:()=>fy,symbolSquare:()=>T3,symbolSquare2:()=>hd,symbolStar:()=>Ag,symbolTriangle:()=>O3,symbolTriangle2:()=>L3,symbolWye:()=>o,symbolX:()=>x,symbols:()=>T,symbolsFill:()=>T,symbolsStroke:()=>N,text:()=>Nf,thresholdFreedmanDiaconis:()=>mn,thresholdScott:()=>Bn,thresholdSturges:()=>Ue,tickFormat:()=>Dw,tickIncrement:()=>Se,tickStep:()=>Te,ticks:()=>Ht,timeDay:()=>Qm,timeDays:()=>i5,timeFormat:()=>Zv,timeFormatDefaultLocale:()=>mp,timeFormatLocale:()=>R2,timeFriday:()=>i_,timeFridays:()=>c_,timeHour:()=>C2,timeHours:()=>e_,timeInterval:()=>Qs,timeMillisecond:()=>k2,timeMilliseconds:()=>Zw,timeMinute:()=>qv,timeMinutes:()=>r5,timeMonday:()=>ty,timeMondays:()=>o5,timeMonth:()=>ey,timeMonths:()=>c5,timeParse:()=>b_,timeSaturday:()=>o_,timeSaturdays:()=>l_,timeSecond:()=>fp,timeSeconds:()=>Jw,timeSunday:()=>mg,timeSundays:()=>a_,timeThursday:()=>L0,timeThursdays:()=>s_,timeTickInterval:()=>v_,timeTicks:()=>y_,timeTuesday:()=>S2,timeTuesdays:()=>a5,timeWednesday:()=>r_,timeWednesdays:()=>s5,timeWeek:()=>mg,timeWeeks:()=>a_,timeYear:()=>ld,timeYears:()=>l5,timeout:()=>Au,timer:()=>Eu,timerFlush:()=>Y0,transition:()=>Mu,transpose:()=>Tr,tree:()=>mw,treemap:()=>yw,treemapBinary:()=>vw,treemapDice:()=>ug,treemapResquarify:()=>Ym,treemapSlice:()=>Bv,treemapSliceDice:()=>E0,treemapSquarify:()=>qm,tsv:()=>Pu,tsvFormat:()=>o1,tsvFormatBody:()=>qy,tsvFormatRow:()=>jf,tsvFormatRows:()=>Yy,tsvFormatValue:()=>tm,tsvParse:()=>Bf,tsvParseRows:()=>$y,union:()=>ci,utcDay:()=>yg,utcDays:()=>d5,utcFormat:()=>ry,utcFriday:()=>Wv,utcFridays:()=>I2,utcHour:()=>Vv,utcHours:()=>h5,utcMillisecond:()=>k2,utcMilliseconds:()=>Zw,utcMinute:()=>Yv,utcMinutes:()=>u5,utcMonday:()=>Gu,utcMondays:()=>Gv,utcMonth:()=>N2,utcMonths:()=>p5,utcParse:()=>D2,utcSaturday:()=>u_,utcSaturdays:()=>f5,utcSecond:()=>fp,utcSeconds:()=>Jw,utcSunday:()=>of,utcSundays:()=>j2,utcThursday:()=>pp,utcThursdays:()=>f_,utcTickInterval:()=>m_,utcTicks:()=>g_,utcTuesday:()=>L2,utcTuesdays:()=>h_,utcWednesday:()=>B2,utcWednesdays:()=>d_,utcWeek:()=>of,utcWeeks:()=>j2,utcYear:()=>gp,utcYears:()=>g5,variance:()=>pt,window:()=>Ao,xml:()=>Nb,zip:()=>mr,zoom:()=>xT,zoomIdentity:()=>I3,zoomTransform:()=>U8});const C=g(n),v=C.right,h=C.left,a=g(k).center,O=v;function _(t,i){if(!((i=+i)>=0))throw new RangeError("invalid r");let p=t.length;if(!((p=Math.floor(p))>=0))throw new RangeError("invalid length");if(!p||!i)return t;const w=j(i),A=t.slice();return w(t,A,0,p,1),w(A,t,0,p,1),w(t,A,0,p,1),t}const M=R(j),P=R(function(t){const i=j(t);return(p,w,A,B,Y)=>{i(p,w,0+(A<<=2),0+(B<<=2),Y<<=2),i(p,w,A+1,B+1,Y),i(p,w,A+2,B+2,Y),i(p,w,A+3,B+3,Y)}});function R(t){return function(i,p,w=p){if(!((p=+p)>=0))throw new RangeError("invalid rx");if(!((w=+w)>=0))throw new RangeError("invalid ry");let{data:A,width:B,height:Y}=i;if(!((B=Math.floor(B))>=0))throw new RangeError("invalid width");if(!((Y=Math.floor(Y!==void 0?Y:A.length/B))>=0))throw new RangeError("invalid height");if(!B||!Y||!p&&!w)return i;const G=p&&t(p),et=w&&t(w),rt=A.slice();return G&&et?($(G,rt,A,B,Y),$(G,A,rt,B,Y),$(G,rt,A,B,Y),F(et,A,rt,B,Y),F(et,rt,A,B,Y),F(et,A,rt,B,Y)):G?($(G,A,rt,B,Y),$(G,rt,A,B,Y),$(G,A,rt,B,Y)):et&&(F(et,A,rt,B,Y),F(et,rt,A,B,Y),F(et,A,rt,B,Y)),i}}function $(t,i,p,w,A){for(let B=0,Y=w*A;B<Y;)t(i,p,B,B+=w,1)}function F(t,i,p,w,A){for(let B=0,Y=w*A;B<w;++B)t(i,p,B,B+Y,w)}function j(t){const i=Math.floor(t);if(i===t)return function(A){const B=2*A+1;return(Y,G,et,rt,Ot)=>{if(!((rt-=Ot)>=et))return;let zt=A*G[et];const It=Ot*A;for(let Gt=et,fe=et+It;Gt<fe;Gt+=Ot)zt+=G[Math.min(rt,Gt)];for(let Gt=et,fe=rt;Gt<=fe;Gt+=Ot)zt+=G[Math.min(rt,Gt+It)],Y[Gt]=zt/B,zt-=G[Math.max(et,Gt-It)]}}(t);const p=t-i,w=2*t+1;return(A,B,Y,G,et)=>{if(!((G-=et)>=Y))return;let rt=i*B[Y];const Ot=et*i,zt=Ot+et;for(let It=Y,Gt=Y+Ot;It<Gt;It+=et)rt+=B[Math.min(G,It)];for(let It=Y,Gt=G;It<=Gt;It+=et)rt+=B[Math.min(G,It+Ot)],A[It]=(rt+p*(B[Math.max(Y,It-zt)]+B[Math.min(G,It+zt)]))/w,rt-=B[Math.max(Y,It-Ot)]}}function X(t,i){let p=0;if(i===void 0)for(let w of t)w!=null&&(w=+w)>=w&&++p;else{let w=-1;for(let A of t)(A=i(A,++w,t))!=null&&(A=+A)>=A&&++p}return p}function W(t){return 0|t.length}function V(t){return!(t>0)}function K(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function st(...t){const i=typeof t[t.length-1]=="function"&&function(Y){return G=>Y(...G)}(t.pop()),p=(t=t.map(K)).map(W),w=t.length-1,A=new Array(w+1).fill(0),B=[];if(w<0||p.some(V))return B;for(;;){B.push(A.map((G,et)=>t[et][G]));let Y=w;for(;++A[Y]===p[Y];){if(Y===0)return i?B.map(i):B;A[Y--]=0}}}function it(t,i){var p=0,w=0;return Float64Array.from(t,i===void 0?A=>p+=+A||0:A=>p+=+i(A,w++,t)||0)}function pt(t,i){let p,w=0,A=0,B=0;if(i===void 0)for(let Y of t)Y!=null&&(Y=+Y)>=Y&&(p=Y-A,A+=p/++w,B+=p*(Y-A));else{let Y=-1;for(let G of t)(G=i(G,++Y,t))!=null&&(G=+G)>=G&&(p=G-A,A+=p/++w,B+=p*(G-A))}if(w>1)return B/(w-1)}function ct(t,i){const p=pt(t,i);return p&&Math.sqrt(p)}function lt(t,i){let p,w;if(i===void 0)for(const A of t)A!=null&&(p===void 0?A>=A&&(p=w=A):(p>A&&(p=A),w<A&&(w=A)));else{let A=-1;for(let B of t)(B=i(B,++A,t))!=null&&(p===void 0?B>=B&&(p=w=B):(p>B&&(p=B),w<B&&(w=B)))}return[p,w]}class J{constructor(){this._partials=new Float64Array(32),this._n=0}add(i){const p=this._partials;let w=0;for(let A=0;A<this._n&&A<32;A++){const B=p[A],Y=i+B,G=Math.abs(i)<Math.abs(B)?i-(Y-B):B-(Y-i);G&&(p[w++]=G),i=Y}return p[w]=i,this._n=w+1,this}valueOf(){const i=this._partials;let p,w,A,B=this._n,Y=0;if(B>0){for(Y=i[--B];B>0&&(p=Y,w=i[--B],Y=p+w,A=w-(Y-p),!A););B>0&&(A<0&&i[B-1]<0||A>0&&i[B-1]>0)&&(w=2*A,p=Y+w,w==p-Y&&(Y=p))}return Y}}function Bt(t,i){const p=new J;if(i===void 0)for(let w of t)(w=+w)&&p.add(w);else{let w=-1;for(let A of t)(A=+i(A,++w,t))&&p.add(A)}return+p}function Tt(t,i){const p=new J;let w=-1;return Float64Array.from(t,i===void 0?A=>p.add(+A||0):A=>p.add(+i(A,++w,t)||0))}class Ct extends Map{constructor(i,p=xt){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:p}}),i!=null)for(const[w,A]of i)this.set(w,A)}get(i){return super.get(at(this,i))}has(i){return super.has(at(this,i))}set(i,p){return super.set(yt(this,i),p)}delete(i){return super.delete(kt(this,i))}}class St extends Set{constructor(i,p=xt){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:p}}),i!=null)for(const w of i)this.add(w)}has(i){return super.has(at(this,i))}add(i){return super.add(yt(this,i))}delete(i){return super.delete(kt(this,i))}}function at({_intern:t,_key:i},p){const w=i(p);return t.has(w)?t.get(w):p}function yt({_intern:t,_key:i},p){const w=i(p);return t.has(w)?t.get(w):(t.set(w,p),p)}function kt({_intern:t,_key:i},p){const w=i(p);return t.has(w)&&(p=t.get(w),t.delete(w)),p}function xt(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Pt(t){return t}function mt(t,...i){return ut(t,Pt,Pt,i)}function Yt(t,...i){return ut(t,Array.from,Pt,i)}function ne(t,i){for(let p=1,w=i.length;p<w;++p)t=t.flatMap(A=>A.pop().map(([B,Y])=>[...A,B,Y]));return t}function Qt(t,...i){return ne(Yt(t,...i),i)}function Kt(t,i,...p){return ne(se(t,i,...p),p)}function Xt(t,i,...p){return ut(t,Pt,i,p)}function se(t,i,...p){return ut(t,Array.from,i,p)}function ue(t,...i){return ut(t,Pt,_t,i)}function re(t,...i){return ut(t,Array.from,_t,i)}function _t(t){if(t.length!==1)throw new Error("duplicate key");return t[0]}function ut(t,i,p,w){return function A(B,Y){if(Y>=w.length)return p(B);const G=new Ct,et=w[Y++];let rt=-1;for(const Ot of B){const zt=et(Ot,++rt,B),It=G.get(zt);It?It.push(Ot):G.set(zt,[Ot])}for(const[Ot,zt]of G)G.set(Ot,A(zt,Y));return i(G)}(t,0)}function Mt(t,i){return Array.from(i,p=>t[p])}function qt(t,...i){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[p]=i;if(p&&p.length!==2||i.length>1){const w=Uint32Array.from(t,(A,B)=>B);return i.length>1?(i=i.map(A=>t.map(A)),w.sort((A,B)=>{for(const Y of i){const G=Vt(Y[A],Y[B]);if(G)return G}})):(p=t.map(p),w.sort((A,B)=>Vt(p[A],p[B]))),Mt(t,w)}return t.sort(Nt(p))}function Nt(t=n){if(t===n)return Vt;if(typeof t!="function")throw new TypeError("compare is not a function");return(i,p)=>{const w=t(i,p);return w||w===0?w:(t(p,p)===0)-(t(i,i)===0)}}function Vt(t,i){return(t==null||!(t>=t))-(i==null||!(i>=i))||(t<i?-1:t>i?1:0)}function Ut(t,i,p){return(i.length!==2?qt(Xt(t,i,p),([w,A],[B,Y])=>n(A,Y)||n(w,B)):qt(mt(t,p),([w,A],[B,Y])=>i(A,Y)||n(w,B))).map(([w])=>w)}var Wt=Array.prototype,Ft=Wt.slice;function jt(t){return()=>t}var ee=Math.sqrt(50),Lt=Math.sqrt(10),he=Math.sqrt(2);function Ht(t,i,p){var w,A,B,Y,G=-1;if(p=+p,(t=+t)==(i=+i)&&p>0)return[t];if((w=i<t)&&(A=t,t=i,i=A),(Y=Se(t,i,p))===0||!isFinite(Y))return[];if(Y>0){let et=Math.round(t/Y),rt=Math.round(i/Y);for(et*Y<t&&++et,rt*Y>i&&--rt,B=new Array(A=rt-et+1);++G<A;)B[G]=(et+G)*Y}else{Y=-Y;let et=Math.round(t*Y),rt=Math.round(i*Y);for(et/Y<t&&++et,rt/Y>i&&--rt,B=new Array(A=rt-et+1);++G<A;)B[G]=(et+G)/Y}return w&&B.reverse(),B}function Se(t,i,p){var w=(i-t)/Math.max(0,p),A=Math.floor(Math.log(w)/Math.LN10),B=w/Math.pow(10,A);return A>=0?(B>=ee?10:B>=Lt?5:B>=he?2:1)*Math.pow(10,A):-Math.pow(10,-A)/(B>=ee?10:B>=Lt?5:B>=he?2:1)}function Te(t,i,p){var w=Math.abs(i-t)/Math.max(0,p),A=Math.pow(10,Math.floor(Math.log(w)/Math.LN10)),B=w/A;return B>=ee?A*=10:B>=Lt?A*=5:B>=he&&(A*=2),i<t?-A:A}function we(t,i,p){let w;for(;;){const A=Se(t,i,p);if(A===w||A===0||!isFinite(A))return[t,i];A>0?(t=Math.floor(t/A)*A,i=Math.ceil(i/A)*A):A<0&&(t=Math.ceil(t*A)/A,i=Math.floor(i*A)/A),w=A}}function Ue(t){return Math.ceil(Math.log(X(t))/Math.LN2)+1}function We(){var t=Pt,i=lt,p=Ue;function w(A){Array.isArray(A)||(A=Array.from(A));var B,Y,G,et=A.length,rt=new Array(et);for(B=0;B<et;++B)rt[B]=t(A[B],B,A);var Ot=i(rt),zt=Ot[0],It=Ot[1],Gt=p(rt,zt,It);if(!Array.isArray(Gt)){const de=It,be=+Gt;if(i===lt&&([zt,It]=we(zt,It,be)),(Gt=Ht(zt,It,be))[0]<=zt&&(G=Se(zt,It,be)),Gt[Gt.length-1]>=It)if(de>=It&&i===lt){const ye=Se(zt,It,be);isFinite(ye)&&(ye>0?It=(Math.floor(It/ye)+1)*ye:ye<0&&(It=(Math.ceil(It*-ye)+1)/-ye))}else Gt.pop()}for(var fe=Gt.length;Gt[0]<=zt;)Gt.shift(),--fe;for(;Gt[fe-1]>It;)Gt.pop(),--fe;var oe,ae=new Array(fe+1);for(B=0;B<=fe;++B)(oe=ae[B]=[]).x0=B>0?Gt[B-1]:zt,oe.x1=B<fe?Gt[B]:It;if(isFinite(G)){if(G>0)for(B=0;B<et;++B)(Y=rt[B])!=null&&zt<=Y&&Y<=It&&ae[Math.min(fe,Math.floor((Y-zt)/G))].push(A[B]);else if(G<0){for(B=0;B<et;++B)if((Y=rt[B])!=null&&zt<=Y&&Y<=It){const de=Math.floor((zt-Y)*G);ae[Math.min(fe,de+(Gt[de]<=Y))].push(A[B])}}}else for(B=0;B<et;++B)(Y=rt[B])!=null&&zt<=Y&&Y<=It&&ae[O(Gt,Y,0,fe)].push(A[B]);return ae}return w.value=function(A){return arguments.length?(t=typeof A=="function"?A:jt(A),w):t},w.domain=function(A){return arguments.length?(i=typeof A=="function"?A:jt([A[0],A[1]]),w):i},w.thresholds=function(A){return arguments.length?(p=typeof A=="function"?A:Array.isArray(A)?jt(Ft.call(A)):jt(A),w):p},w}function De(t,i){let p;if(i===void 0)for(const w of t)w!=null&&(p<w||p===void 0&&w>=w)&&(p=w);else{let w=-1;for(let A of t)(A=i(A,++w,t))!=null&&(p<A||p===void 0&&A>=A)&&(p=A)}return p}function me(t,i){let p,w=-1,A=-1;if(i===void 0)for(const B of t)++A,B!=null&&(p<B||p===void 0&&B>=B)&&(p=B,w=A);else for(let B of t)(B=i(B,++A,t))!=null&&(p<B||p===void 0&&B>=B)&&(p=B,w=A);return w}function Oe(t,i){let p;if(i===void 0)for(const w of t)w!=null&&(p>w||p===void 0&&w>=w)&&(p=w);else{let w=-1;for(let A of t)(A=i(A,++w,t))!=null&&(p>A||p===void 0&&A>=A)&&(p=A)}return p}function Pe(t,i){let p,w=-1,A=-1;if(i===void 0)for(const B of t)++A,B!=null&&(p>B||p===void 0&&B>=B)&&(p=B,w=A);else for(let B of t)(B=i(B,++A,t))!=null&&(p>B||p===void 0&&B>=B)&&(p=B,w=A);return w}function ze(t,i,p=0,w=t.length-1,A){for(A=A===void 0?Vt:Nt(A);w>p;){if(w-p>600){const et=w-p+1,rt=i-p+1,Ot=Math.log(et),zt=.5*Math.exp(2*Ot/3),It=.5*Math.sqrt(Ot*zt*(et-zt)/et)*(rt-et/2<0?-1:1);ze(t,i,Math.max(p,Math.floor(i-rt*zt/et+It)),Math.min(w,Math.floor(i+(et-rt)*zt/et+It)),A)}const B=t[i];let Y=p,G=w;for(He(t,p,i),A(t[w],B)>0&&He(t,p,w);Y<G;){for(He(t,Y,G),++Y,--G;A(t[Y],B)<0;)++Y;for(;A(t[G],B)>0;)--G}A(t[p],B)===0?He(t,p,G):(++G,He(t,G,w)),G<=i&&(p=G+1),i<=G&&(w=G-1)}return t}function He(t,i,p){const w=t[i];t[i]=t[p],t[p]=w}function dn(t,i=n){let p,w=!1;if(i.length===1){let A;for(const B of t){const Y=i(B);(w?n(Y,A)>0:n(Y,Y)===0)&&(p=B,A=Y,w=!0)}}else for(const A of t)(w?i(A,p)>0:i(A,A)===0)&&(p=A,w=!0);return p}function Mn(t,i,p){if(w=(t=Float64Array.from(E(t,p))).length){if((i=+i)<=0||w<2)return Oe(t);if(i>=1)return De(t);var w,A=(w-1)*i,B=Math.floor(A),Y=De(ze(t,B).subarray(0,B+1));return Y+(Oe(t.subarray(B+1))-Y)*(A-B)}}function Kn(t,i,p=k){if(w=t.length){if((i=+i)<=0||w<2)return+p(t[0],0,t);if(i>=1)return+p(t[w-1],w-1,t);var w,A=(w-1)*i,B=Math.floor(A),Y=+p(t[B],B,t);return Y+(+p(t[B+1],B+1,t)-Y)*(A-B)}}function an(t,i,p){if(w=(t=Float64Array.from(E(t,p))).length){if((i=+i)<=0||w<2)return Pe(t);if(i>=1)return me(t);var w,A=Math.floor((w-1)*i),B=ze(Uint32Array.from(t,(Y,G)=>G),A,0,w-1,(Y,G)=>Vt(t[Y],t[G]));return dn(B.subarray(0,A+1),Y=>t[Y])}}function mn(t,i,p){return Math.ceil((p-i)/(2*(Mn(t,.75)-Mn(t,.25))*Math.pow(X(t),-.3333333333333333)))}function Bn(t,i,p){return Math.ceil((p-i)*Math.cbrt(X(t))/(3.49*ct(t)))}function Rn(t,i){let p=0,w=0;if(i===void 0)for(let A of t)A!=null&&(A=+A)>=A&&(++p,w+=A);else{let A=-1;for(let B of t)(B=i(B,++A,t))!=null&&(B=+B)>=B&&(++p,w+=B)}if(p)return w/p}function $n(t,i){return Mn(t,.5,i)}function sn(t,i){return an(t,.5,i)}function on(t){return Array.from(function*(i){for(const p of i)yield*p}(t))}function yn(t,i){const p=new Ct;if(i===void 0)for(let B of t)B!=null&&B>=B&&p.set(B,(p.get(B)||0)+1);else{let B=-1;for(let Y of t)(Y=i(Y,++B,t))!=null&&Y>=Y&&p.set(Y,(p.get(Y)||0)+1)}let w,A=0;for(const[B,Y]of p)Y>A&&(A=Y,w=B);return w}function Sn(t,i=Ge){const p=[];let w,A=!1;for(const B of t)A&&p.push(i(w,B)),w=B,A=!0;return p}function Ge(t,i){return[t,i]}function Fn(t,i,p){t=+t,i=+i,p=(A=arguments.length)<2?(i=t,t=0,1):A<3?1:+p;for(var w=-1,A=0|Math.max(0,Math.ceil((i-t)/p)),B=new Array(A);++w<A;)B[w]=t+w*p;return B}function ke(t,i=n){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let p=Array.from(t);const w=new Float64Array(p.length);i.length!==2&&(p=p.map(i),i=n);const A=(G,et)=>i(p[G],p[et]);let B,Y;return Uint32Array.from(p,(G,et)=>et).sort(i===n?(G,et)=>Vt(p[G],p[et]):Nt(A)).forEach((G,et)=>{const rt=A(G,B===void 0?G:B);rt>=0?((B===void 0||rt>0)&&(B=G,Y=et),w[G]=Y):w[G]=NaN}),w}function Fr(t,i=n){let p,w=!1;if(i.length===1){let A;for(const B of t){const Y=i(B);(w?n(Y,A)<0:n(Y,Y)===0)&&(p=B,A=Y,w=!0)}}else for(const A of t)(w?i(A,p)<0:i(A,A)===0)&&(p=A,w=!0);return p}function Ye(t,i=n){if(i.length===1)return Pe(t,i);let p,w=-1,A=-1;for(const B of t)++A,(w<0?i(B,B)===0:i(B,p)<0)&&(p=B,w=A);return w}function vr(t,i=n){if(i.length===1)return me(t,i);let p,w=-1,A=-1;for(const B of t)++A,(w<0?i(B,B)===0:i(B,p)>0)&&(p=B,w=A);return w}function Zr(t,i){const p=Ye(t,i);return p<0?void 0:p}const jr=_r(Math.random);function _r(t){return function(i,p=0,w=i.length){let A=w-(p=+p);for(;A;){const B=t()*A--|0,Y=i[A+p];i[A+p]=i[B+p],i[B+p]=Y}return i}}function Hr(t,i){let p=0;if(i===void 0)for(let w of t)(w=+w)&&(p+=w);else{let w=-1;for(let A of t)(A=+i(A,++w,t))&&(p+=A)}return p}function Tr(t){if(!(A=t.length))return[];for(var i=-1,p=Oe(t,br),w=new Array(p);++i<p;)for(var A,B=-1,Y=w[i]=new Array(A);++B<A;)Y[B]=t[B][i];return w}function br(t){return t.length}function mr(){return Tr(arguments)}function xr(t,i){if(typeof i!="function")throw new TypeError("test is not a function");let p=-1;for(const w of t)if(!i(w,++p,t))return!1;return!0}function kr(t,i){if(typeof i!="function")throw new TypeError("test is not a function");let p=-1;for(const w of t)if(i(w,++p,t))return!0;return!1}function En(t,i){if(typeof i!="function")throw new TypeError("test is not a function");const p=[];let w=-1;for(const A of t)i(A,++w,t)&&p.push(A);return p}function Yn(t,i){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof i!="function")throw new TypeError("mapper is not a function");return Array.from(t,(p,w)=>i(p,w,t))}function Un(t,i,p){if(typeof i!="function")throw new TypeError("reducer is not a function");const w=t[Symbol.iterator]();let A,B,Y=-1;if(arguments.length<3){if({done:A,value:p}=w.next(),A)return;++Y}for(;{done:A,value:B}=w.next(),!A;)p=i(p,B,++Y,t);return p}function qn(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function Lr(t,...i){t=new St(t);for(const p of i)for(const w of p)t.delete(w);return t}function Ar(t,i){const p=i[Symbol.iterator](),w=new St;for(const A of t){if(w.has(A))return!1;let B,Y;for(;({value:B,done:Y}=p.next())&&!Y;){if(Object.is(A,B))return!1;w.add(B)}}return!0}function wr(t,...i){t=new St(t),i=i.map(ei);t:for(const p of t)for(const w of i)if(!w.has(p)){t.delete(p);continue t}return t}function ei(t){return t instanceof St?t:new St(t)}function vi(t,i){const p=t[Symbol.iterator](),w=new Set;for(const A of i){const B=bi(A);if(w.has(B))continue;let Y,G;for(;{value:Y,done:G}=p.next();){if(G)return!1;const et=bi(Y);if(w.add(et),Object.is(B,et))break}}return!0}function bi(t){return t!==null&&typeof t=="object"?t.valueOf():t}function oo(t,i){return vi(i,t)}function ci(...t){const i=new St;for(const p of t)for(const w of p)i.add(w);return i}function Eo(t){return t}var xi=1e-6;function Ro(t){return"translate("+t+",0)"}function To(t){return"translate(0,"+t+")"}function wa(t){return i=>+t(i)}function sr(t,i){return i=Math.max(0,t.bandwidth()-2*i)/2,t.round()&&(i=Math.round(i)),p=>+t(p)+i}function Ss(){return!this.__axis}function lo(t,i){var p=[],w=null,A=null,B=6,Y=6,G=3,et=typeof window!="undefined"&&window.devicePixelRatio>1?0:.5,rt=t===1||t===4?-1:1,Ot=t===4||t===2?"x":"y",zt=t===1||t===3?Ro:To;function It(Gt){var fe=w==null?i.ticks?i.ticks.apply(i,p):i.domain():w,oe=A==null?i.tickFormat?i.tickFormat.apply(i,p):Eo:A,ae=Math.max(B,0)+G,de=i.range(),be=+de[0]+et,ye=+de[de.length-1]+et,ve=(i.bandwidth?sr:wa)(i.copy(),et),Be=Gt.selection?Gt.selection():Gt,Ne=Be.selectAll(".domain").data([null]),pn=Be.selectAll(".tick").data(fe,i).order(),On=pn.exit(),nn=pn.enter().append("g").attr("class","tick"),Je=pn.select("line"),Qe=pn.select("text");Ne=Ne.merge(Ne.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),pn=pn.merge(nn),Je=Je.merge(nn.append("line").attr("stroke","currentColor").attr(Ot+"2",rt*B)),Qe=Qe.merge(nn.append("text").attr("fill","currentColor").attr(Ot,rt*ae).attr("dy",t===1?"0em":t===3?"0.71em":"0.32em")),Gt!==Be&&(Ne=Ne.transition(Gt),pn=pn.transition(Gt),Je=Je.transition(Gt),Qe=Qe.transition(Gt),On=On.transition(Gt).attr("opacity",xi).attr("transform",function(tn){return isFinite(tn=ve(tn))?zt(tn+et):this.getAttribute("transform")}),nn.attr("opacity",xi).attr("transform",function(tn){var Fe=this.parentNode.__axis;return zt((Fe&&isFinite(Fe=Fe(tn))?Fe:ve(tn))+et)})),On.remove(),Ne.attr("d",t===4||t===2?Y?"M"+rt*Y+","+be+"H"+et+"V"+ye+"H"+rt*Y:"M"+et+","+be+"V"+ye:Y?"M"+be+","+rt*Y+"V"+et+"H"+ye+"V"+rt*Y:"M"+be+","+et+"H"+ye),pn.attr("opacity",1).attr("transform",function(tn){return zt(ve(tn)+et)}),Je.attr(Ot+"2",rt*B),Qe.attr(Ot,rt*ae).text(oe),Be.filter(Ss).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===2?"start":t===4?"end":"middle"),Be.each(function(){this.__axis=ve})}return It.scale=function(Gt){return arguments.length?(i=Gt,It):i},It.ticks=function(){return p=Array.from(arguments),It},It.tickArguments=function(Gt){return arguments.length?(p=Gt==null?[]:Array.from(Gt),It):p.slice()},It.tickValues=function(Gt){return arguments.length?(w=Gt==null?null:Array.from(Gt),It):w&&w.slice()},It.tickFormat=function(Gt){return arguments.length?(A=Gt,It):A},It.tickSize=function(Gt){return arguments.length?(B=Y=+Gt,It):B},It.tickSizeInner=function(Gt){return arguments.length?(B=+Gt,It):B},It.tickSizeOuter=function(Gt){return arguments.length?(Y=+Gt,It):Y},It.tickPadding=function(Gt){return arguments.length?(G=+Gt,It):G},It.offset=function(Gt){return arguments.length?(et=+Gt,It):et},It}function ul(t){return lo(1,t)}function vc(t){return lo(2,t)}function Ia(t){return lo(3,t)}function Cr(t){return lo(4,t)}var ki={value:()=>{}};function ii(){for(var t,i=0,p=arguments.length,w={};i<p;++i){if(!(t=arguments[i]+"")||t in w||/[\s.]/.test(t))throw new Error("illegal type: "+t);w[t]=[]}return new cr(w)}function cr(t){this._=t}function Oi(t,i){return t.trim().split(/^|\s+/).map(function(p){var w="",A=p.indexOf(".");if(A>=0&&(w=p.slice(A+1),p=p.slice(0,A)),p&&!i.hasOwnProperty(p))throw new Error("unknown type: "+p);return{type:p,name:w}})}function $e(t,i){for(var p,w=0,A=t.length;w<A;++w)if((p=t[w]).name===i)return p.value}function Es(t,i,p){for(var w=0,A=t.length;w<A;++w)if(t[w].name===i){t[w]=ki,t=t.slice(0,w).concat(t.slice(w+1));break}return p!=null&&t.push({name:i,value:p}),t}cr.prototype=ii.prototype={constructor:cr,on:function(t,i){var p,w=this._,A=Oi(t+"",w),B=-1,Y=A.length;if(!(arguments.length<2)){if(i!=null&&typeof i!="function")throw new Error("invalid callback: "+i);for(;++B<Y;)if(p=(t=A[B]).type)w[p]=Es(w[p],t.name,i);else if(i==null)for(p in w)w[p]=Es(w[p],t.name,null);return this}for(;++B<Y;)if((p=(t=A[B]).type)&&(p=$e(w[p],t.name)))return p},copy:function(){var t={},i=this._;for(var p in i)t[p]=i[p].slice();return new cr(t)},call:function(t,i){if((p=arguments.length-2)>0)for(var p,w,A=new Array(p),B=0;B<p;++B)A[B]=arguments[B+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(B=0,p=(w=this._[t]).length;B<p;++B)w[B].value.apply(i,A)},apply:function(t,i,p){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var w=this._[t],A=0,B=w.length;A<B;++A)w[A].value.apply(i,p)}};const fn=ii;function ao(){}function _a(t){return t==null?ao:function(){return this.querySelector(t)}}function Na(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function ds(){return[]}function ra(t){return t==null?ds:function(){return this.querySelectorAll(t)}}function Us(t){return function(){return this.matches(t)}}function Ni(t){return function(i){return i.matches(t)}}var Do=Array.prototype.find;function Zo(){return this.firstElementChild}var fs=Array.prototype.filter;function es(){return Array.from(this.children)}function Ts(t){return new Array(t.length)}function ui(t,i){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=i}function Ko(t){return function(){return t}}function mo(t,i,p,w,A,B){for(var Y,G=0,et=i.length,rt=B.length;G<rt;++G)(Y=i[G])?(Y.__data__=B[G],w[G]=Y):p[G]=new ui(t,B[G]);for(;G<et;++G)(Y=i[G])&&(A[G]=Y)}function Pa(t,i,p,w,A,B,Y){var G,et,rt,Ot=new Map,zt=i.length,It=B.length,Gt=new Array(zt);for(G=0;G<zt;++G)(et=i[G])&&(Gt[G]=rt=Y.call(et,et.__data__,G,i)+"",Ot.has(rt)?A[G]=et:Ot.set(rt,et));for(G=0;G<It;++G)rt=Y.call(t,B[G],G,B)+"",(et=Ot.get(rt))?(w[G]=et,et.__data__=B[G],Ot.delete(rt)):p[G]=new ui(t,B[G]);for(G=0;G<zt;++G)(et=i[G])&&Ot.get(Gt[G])===et&&(A[G]=et)}function Tl(t){return t.__data__}function hl(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function rn(t,i){return t<i?-1:t>i?1:t>=i?0:NaN}ui.prototype={constructor:ui,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,i){return this._parent.insertBefore(t,i)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var er="http://www.w3.org/1999/xhtml";const Vn={svg:"http://www.w3.org/2000/svg",xhtml:er,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function wi(t){var i=t+="",p=i.indexOf(":");return p>=0&&(i=t.slice(0,p))!=="xmlns"&&(t=t.slice(p+1)),Vn.hasOwnProperty(i)?{space:Vn[i],local:t}:t}function no(t){return function(){this.removeAttribute(t)}}function Xr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Fo(t,i){return function(){this.setAttribute(t,i)}}function Wa(t,i){return function(){this.setAttributeNS(t.space,t.local,i)}}function Io(t,i){return function(){var p=i.apply(this,arguments);p==null?this.removeAttribute(t):this.setAttribute(t,p)}}function ha(t,i){return function(){var p=i.apply(this,arguments);p==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,p)}}function Ao(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ia(t){return function(){this.style.removeProperty(t)}}function bc(t,i,p){return function(){this.style.setProperty(t,i,p)}}function dl(t,i,p){return function(){var w=i.apply(this,arguments);w==null?this.style.removeProperty(t):this.style.setProperty(t,w,p)}}function zo(t,i){return t.style.getPropertyValue(i)||Ao(t).getComputedStyle(t,null).getPropertyValue(i)}function wu(t){return function(){delete this[t]}}function Oo(t,i){return function(){this[t]=i}}function xc(t,i){return function(){var p=i.apply(this,arguments);p==null?delete this[t]:this[t]=p}}function ir(t){return t.trim().split(/^|\s+/)}function _u(t){return t.classList||new so(t)}function so(t){this._node=t,this._names=ir(t.getAttribute("class")||"")}function $c(t,i){for(var p=_u(t),w=-1,A=i.length;++w<A;)p.add(i[w])}function Gl(t,i){for(var p=_u(t),w=-1,A=i.length;++w<A;)p.remove(i[w])}function Ga(t){return function(){$c(this,t)}}function Xa(t){return function(){Gl(this,t)}}function Gi(t,i){return function(){(i.apply(this,arguments)?$c:Gl)(this,t)}}function qc(){this.textContent=""}function ih(t){return function(){this.textContent=t}}function Ra(t){return function(){var i=t.apply(this,arguments);this.textContent=i==null?"":i}}function tc(){this.innerHTML=""}function ku(t){return function(){this.innerHTML=t}}function Vi(t){return function(){var i=t.apply(this,arguments);this.innerHTML=i==null?"":i}}function Yc(){this.nextSibling&&this.parentNode.appendChild(this)}function ns(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function yd(t){return function(){var i=this.ownerDocument,p=this.namespaceURI;return p===er&&i.documentElement.namespaceURI===er?i.createElement(t):i.createElementNS(p,t)}}function ka(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function oh(t){var i=wi(t);return(i.local?ka:yd)(i)}function Al(){return null}function ah(){var t=this.parentNode;t&&t.removeChild(this)}function Da(){var t=this.cloneNode(!1),i=this.parentNode;return i?i.insertBefore(t,this.nextSibling):t}function Ol(){var t=this.cloneNode(!0),i=this.parentNode;return i?i.insertBefore(t,this.nextSibling):t}function Hs(t){return t.trim().split(/^|\s+/).map(function(i){var p="",w=i.indexOf(".");return w>=0&&(p=i.slice(w+1),i=i.slice(0,w)),{type:i,name:p}})}function jh(t){return function(){var i=this.__on;if(i){for(var p,w=0,A=-1,B=i.length;w<B;++w)p=i[w],t.type&&p.type!==t.type||p.name!==t.name?i[++A]=p:this.removeEventListener(p.type,p.listener,p.options);++A?i.length=A:delete this.__on}}}function $s(t,i,p){return function(){var w,A=this.__on,B=function(et){return function(rt){et.call(this,rt,this.__data__)}}(i);if(A){for(var Y=0,G=A.length;Y<G;++Y)if((w=A[Y]).type===t.type&&w.name===t.name)return this.removeEventListener(w.type,w.listener,w.options),this.addEventListener(w.type,w.listener=B,w.options=p),void(w.value=i)}this.addEventListener(t.type,B,p),w={type:t.type,name:t.name,value:i,listener:B,options:p},A?A.push(w):this.__on=[w]}}function wc(t,i,p){var w=Ao(t),A=w.CustomEvent;typeof A=="function"?A=new A(i,p):(A=w.document.createEvent("Event"),p?(A.initEvent(i,p.bubbles,p.cancelable),A.detail=p.detail):A.initEvent(i,!1,!1)),t.dispatchEvent(A)}function rs(t,i){return function(){return wc(this,t,i)}}function Xl(t,i){return function(){return wc(this,t,i.apply(this,arguments))}}so.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var i=this._names.indexOf(t);i>=0&&(this._names.splice(i,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var oa=[null];function yo(t,i){this._groups=t,this._parents=i}function is(){return new yo([[document.documentElement]],oa)}yo.prototype=is.prototype={constructor:yo,select:function(t){typeof t!="function"&&(t=_a(t));for(var i=this._groups,p=i.length,w=new Array(p),A=0;A<p;++A)for(var B,Y,G=i[A],et=G.length,rt=w[A]=new Array(et),Ot=0;Ot<et;++Ot)(B=G[Ot])&&(Y=t.call(B,B.__data__,Ot,G))&&("__data__"in B&&(Y.__data__=B.__data__),rt[Ot]=Y);return new yo(w,this._parents)},selectAll:function(t){t=typeof t=="function"?function(Ot){return function(){return Na(Ot.apply(this,arguments))}}(t):ra(t);for(var i=this._groups,p=i.length,w=[],A=[],B=0;B<p;++B)for(var Y,G=i[B],et=G.length,rt=0;rt<et;++rt)(Y=G[rt])&&(w.push(t.call(Y,Y.__data__,rt,G)),A.push(Y));return new yo(w,A)},selectChild:function(t){return this.select(t==null?Zo:function(i){return function(){return Do.call(this.children,i)}}(typeof t=="function"?t:Ni(t)))},selectChildren:function(t){return this.selectAll(t==null?es:function(i){return function(){return fs.call(this.children,i)}}(typeof t=="function"?t:Ni(t)))},filter:function(t){typeof t!="function"&&(t=Us(t));for(var i=this._groups,p=i.length,w=new Array(p),A=0;A<p;++A)for(var B,Y=i[A],G=Y.length,et=w[A]=[],rt=0;rt<G;++rt)(B=Y[rt])&&t.call(B,B.__data__,rt,Y)&&et.push(B);return new yo(w,this._parents)},data:function(t,i){if(!arguments.length)return Array.from(this,Tl);var p=i?Pa:mo,w=this._parents,A=this._groups;typeof t!="function"&&(t=Ko(t));for(var B=A.length,Y=new Array(B),G=new Array(B),et=new Array(B),rt=0;rt<B;++rt){var Ot=w[rt],zt=A[rt],It=zt.length,Gt=hl(t.call(Ot,Ot&&Ot.__data__,rt,w)),fe=Gt.length,oe=G[rt]=new Array(fe),ae=Y[rt]=new Array(fe),de=et[rt]=new Array(It);p(Ot,zt,oe,ae,de,Gt,i);for(var be,ye,ve=0,Be=0;ve<fe;++ve)if(be=oe[ve]){for(ve>=Be&&(Be=ve+1);!(ye=ae[Be])&&++Be<fe;);be._next=ye||null}}return(Y=new yo(Y,w))._enter=G,Y._exit=et,Y},enter:function(){return new yo(this._enter||this._groups.map(Ts),this._parents)},exit:function(){return new yo(this._exit||this._groups.map(Ts),this._parents)},join:function(t,i,p){var w=this.enter(),A=this,B=this.exit();return typeof t=="function"?(w=t(w))&&(w=w.selection()):w=w.append(t+""),i!=null&&(A=i(A))&&(A=A.selection()),p==null?B.remove():p(B),w&&A?w.merge(A).order():A},merge:function(t){for(var i=t.selection?t.selection():t,p=this._groups,w=i._groups,A=p.length,B=w.length,Y=Math.min(A,B),G=new Array(A),et=0;et<Y;++et)for(var rt,Ot=p[et],zt=w[et],It=Ot.length,Gt=G[et]=new Array(It),fe=0;fe<It;++fe)(rt=Ot[fe]||zt[fe])&&(Gt[fe]=rt);for(;et<A;++et)G[et]=p[et];return new yo(G,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,i=-1,p=t.length;++i<p;)for(var w,A=t[i],B=A.length-1,Y=A[B];--B>=0;)(w=A[B])&&(Y&&4^w.compareDocumentPosition(Y)&&Y.parentNode.insertBefore(w,Y),Y=w);return this},sort:function(t){function i(zt,It){return zt&&It?t(zt.__data__,It.__data__):!zt-!It}t||(t=rn);for(var p=this._groups,w=p.length,A=new Array(w),B=0;B<w;++B){for(var Y,G=p[B],et=G.length,rt=A[B]=new Array(et),Ot=0;Ot<et;++Ot)(Y=G[Ot])&&(rt[Ot]=Y);rt.sort(i)}return new yo(A,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,i=0,p=t.length;i<p;++i)for(var w=t[i],A=0,B=w.length;A<B;++A){var Y=w[A];if(Y)return Y}return null},size:function(){let t=0;for(const i of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var i=this._groups,p=0,w=i.length;p<w;++p)for(var A,B=i[p],Y=0,G=B.length;Y<G;++Y)(A=B[Y])&&t.call(A,A.__data__,Y,B);return this},attr:function(t,i){var p=wi(t);if(arguments.length<2){var w=this.node();return p.local?w.getAttributeNS(p.space,p.local):w.getAttribute(p)}return this.each((i==null?p.local?Xr:no:typeof i=="function"?p.local?ha:Io:p.local?Wa:Fo)(p,i))},style:function(t,i,p){return arguments.length>1?this.each((i==null?ia:typeof i=="function"?dl:bc)(t,i,p==null?"":p)):zo(this.node(),t)},property:function(t,i){return arguments.length>1?this.each((i==null?wu:typeof i=="function"?xc:Oo)(t,i)):this.node()[t]},classed:function(t,i){var p=ir(t+"");if(arguments.length<2){for(var w=_u(this.node()),A=-1,B=p.length;++A<B;)if(!w.contains(p[A]))return!1;return!0}return this.each((typeof i=="function"?Gi:i?Ga:Xa)(p,i))},text:function(t){return arguments.length?this.each(t==null?qc:(typeof t=="function"?Ra:ih)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(t==null?tc:(typeof t=="function"?Vi:ku)(t)):this.node().innerHTML},raise:function(){return this.each(Yc)},lower:function(){return this.each(ns)},append:function(t){var i=typeof t=="function"?t:oh(t);return this.select(function(){return this.appendChild(i.apply(this,arguments))})},insert:function(t,i){var p=typeof t=="function"?t:oh(t),w=i==null?Al:typeof i=="function"?i:_a(i);return this.select(function(){return this.insertBefore(p.apply(this,arguments),w.apply(this,arguments)||null)})},remove:function(){return this.each(ah)},clone:function(t){return this.select(t?Ol:Da)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,i,p){var w,A,B=Hs(t+""),Y=B.length;if(!(arguments.length<2)){for(G=i?$s:jh,w=0;w<Y;++w)this.each(G(B[w],i,p));return this}var G=this.node().__on;if(G){for(var et,rt=0,Ot=G.length;rt<Ot;++rt)for(w=0,et=G[rt];w<Y;++w)if((A=B[w]).type===et.type&&A.name===et.name)return et.value}},dispatch:function(t,i){return this.each((typeof i=="function"?Xl:rs)(t,i))},[Symbol.iterator]:function*(){for(var t=this._groups,i=0,p=t.length;i<p;++i)for(var w,A=t[i],B=0,Y=A.length;B<Y;++B)(w=A[B])&&(yield w)}};const Fa=is;function Wi(t){return typeof t=="string"?new yo([[document.querySelector(t)]],[document.documentElement]):new yo([[t]],oa)}const Mi={passive:!1},gt={capture:!0,passive:!1};function $t(t){t.stopImmediatePropagation()}function ce(t){t.preventDefault(),t.stopImmediatePropagation()}function Me(t){var i=t.document.documentElement,p=Wi(t).on("dragstart.drag",ce,gt);"onselectstart"in i?p.on("selectstart.drag",ce,gt):(i.__noselect=i.style.MozUserSelect,i.style.MozUserSelect="none")}function cn(t,i){var p=t.document.documentElement,w=Wi(t).on("dragstart.drag",null);i&&(w.on("click.drag",ce,gt),setTimeout(function(){w.on("click.drag",null)},0)),"onselectstart"in p?w.on("selectstart.drag",null):(p.style.MozUserSelect=p.__noselect,delete p.__noselect)}function Nn(t,i,p){t.prototype=i.prototype=p,p.constructor=t}function zn(t,i){var p=Object.create(t.prototype);for(var w in i)p[w]=i[w];return p}function tr(){}var nr=.7,lr=1/nr,dr="\\s*([+-]?\\d+)\\s*",Vr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ir="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ci=/^#([0-9a-f]{3,8})$/,$i=new RegExp(`^rgb\\(${dr},${dr},${dr}\\)$`),_i=new RegExp(`^rgb\\(${Ir},${Ir},${Ir}\\)$`),No=new RegExp(`^rgba\\(${dr},${dr},${dr},${Vr}\\)$`),Za=new RegExp(`^rgba\\(${Ir},${Ir},${Ir},${Vr}\\)$`),Cu=new RegExp(`^hsl\\(${Vr},${Ir},${Ir}\\)$`),vd=new RegExp(`^hsla\\(${Vr},${Ir},${Ir},${Vr}\\)$`),Ml={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function za(){return this.rgb().formatHex()}function bd(){return this.rgb().formatRgb()}function qs(t){var i,p;return t=(t+"").trim().toLowerCase(),(i=Ci.exec(t))?(p=i[1].length,i=parseInt(i[1],16),p===6?Sp(i):p===3?new aa(i>>8&15|i>>4&240,i>>4&15|240&i,(15&i)<<4|15&i,1):p===8?Zl(i>>24&255,i>>16&255,i>>8&255,(255&i)/255):p===4?Zl(i>>12&15|i>>8&240,i>>8&15|i>>4&240,i>>4&15|240&i,((15&i)<<4|15&i)/255):null):(i=$i.exec(t))?new aa(i[1],i[2],i[3],1):(i=_i.exec(t))?new aa(255*i[1]/100,255*i[2]/100,255*i[3]/100,1):(i=No.exec(t))?Zl(i[1],i[2],i[3],i[4]):(i=Za.exec(t))?Zl(255*i[1]/100,255*i[2]/100,255*i[3]/100,i[4]):(i=Cu.exec(t))?uo(i[1],i[2]/100,i[3]/100,1):(i=vd.exec(t))?uo(i[1],i[2]/100,i[3]/100,i[4]):Ml.hasOwnProperty(t)?Sp(Ml[t]):t==="transparent"?new aa(NaN,NaN,NaN,0):null}function Sp(t){return new aa(t>>16&255,t>>8&255,255&t,1)}function Zl(t,i,p,w){return w<=0&&(t=i=p=NaN),new aa(t,i,p,w)}function Ih(t){return t instanceof tr||(t=qs(t)),t?new aa((t=t.rgb()).r,t.g,t.b,t.opacity):new aa}function ec(t,i,p,w){return arguments.length===1?Ih(t):new aa(t,i,p,w==null?1:w)}function aa(t,i,p,w){this.r=+t,this.g=+i,this.b=+p,this.opacity=+w}function xn(){return`#${Wr(this.r)}${Wr(this.g)}${Wr(this.b)}`}function Hn(){const t=In(this.opacity);return`${t===1?"rgb(":"rgba("}${Sr(this.r)}, ${Sr(this.g)}, ${Sr(this.b)}${t===1?")":`, ${t})`}`}function In(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Sr(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Wr(t){return((t=Sr(t))<16?"0":"")+t.toString(16)}function uo(t,i,p,w){return w<=0?t=i=p=NaN:p<=0||p>=1?t=i=NaN:i<=0&&(t=NaN),new ps(t,i,p,w)}function Uo(t){if(t instanceof ps)return new ps(t.h,t.s,t.l,t.opacity);if(t instanceof tr||(t=qs(t)),!t)return new ps;if(t instanceof ps)return t;var i=(t=t.rgb()).r/255,p=t.g/255,w=t.b/255,A=Math.min(i,p,w),B=Math.max(i,p,w),Y=NaN,G=B-A,et=(B+A)/2;return G?(Y=i===B?(p-w)/G+6*(p<w):p===B?(w-i)/G+2:(i-p)/G+4,G/=et<.5?B+A:2-B-A,Y*=60):G=et>0&&et<1?0:Y,new ps(Y,G,et,t.opacity)}function vo(t,i,p,w){return arguments.length===1?Uo(t):new ps(t,i,p,w==null?1:w)}function ps(t,i,p,w){this.h=+t,this.s=+i,this.l=+p,this.opacity=+w}function gf(t){return(t=(t||0)%360)<0?t+360:t}function da(t){return Math.max(0,Math.min(1,t||0))}function fl(t,i,p){return 255*(t<60?i+(p-i)*t/60:t<180?p:t<240?i+(p-i)*(240-t)/60:i)}function $0(t,i,p,w,A){var B=t*t,Y=B*t;return((1-3*t+3*B-Y)*i+(4-6*B+3*Y)*p+(1+3*t+3*B-3*Y)*w+Y*A)/6}function pl(t){var i=t.length-1;return function(p){var w=p<=0?p=0:p>=1?(p=1,i-1):Math.floor(p*i),A=t[w],B=t[w+1],Y=w>0?t[w-1]:2*A-B,G=w<i-1?t[w+2]:2*B-A;return $0((p-w/i)*i,Y,A,B,G)}}function sh(t){var i=t.length;return function(p){var w=Math.floor(((p%=1)<0?++p:p)*i),A=t[(w+i-1)%i],B=t[w%i],Y=t[(w+1)%i],G=t[(w+2)%i];return $0((p-w/i)*i,A,B,Y,G)}}Nn(tr,qs,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:za,formatHex:za,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Uo(this).formatHsl()},formatRgb:bd,toString:bd}),Nn(aa,ec,zn(tr,{brighter(t){return t=t==null?lr:Math.pow(lr,t),new aa(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?nr:Math.pow(nr,t),new aa(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new aa(Sr(this.r),Sr(this.g),Sr(this.b),In(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xn,formatHex:xn,formatHex8:function(){return`#${Wr(this.r)}${Wr(this.g)}${Wr(this.b)}${Wr(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Hn,toString:Hn})),Nn(ps,vo,zn(tr,{brighter(t){return t=t==null?lr:Math.pow(lr,t),new ps(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?nr:Math.pow(nr,t),new ps(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),i=isNaN(t)||isNaN(this.s)?0:this.s,p=this.l,w=p+(p<.5?p:1-p)*i,A=2*p-w;return new aa(fl(t>=240?t-240:t+120,A,w),fl(t,A,w),fl(t<120?t+240:t-120,A,w),this.opacity)},clamp(){return new ps(gf(this.h),da(this.s),da(this.l),In(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=In(this.opacity);return`${t===1?"hsl(":"hsla("}${gf(this.h)}, ${100*da(this.s)}%, ${100*da(this.l)}%${t===1?")":`, ${t})`}`}}));const nc=t=>()=>t;function Xi(t,i){return function(p){return t+p*i}}function mf(t,i){var p=i-t;return p?Xi(t,p>180||p<-180?p-360*Math.round(p/360):p):nc(isNaN(t)?i:t)}function Ho(t,i){var p=i-t;return p?Xi(t,p):nc(isNaN(t)?i:t)}const Ll=function t(i){var p=function(A){return(A=+A)==1?Ho:function(B,Y){return Y-B?function(G,et,rt){return G=Math.pow(G,rt),et=Math.pow(et,rt)-G,rt=1/rt,function(Ot){return Math.pow(G+Ot*et,rt)}}(B,Y,A):nc(isNaN(B)?Y:B)}}(i);function w(A,B){var Y=p((A=ec(A)).r,(B=ec(B)).r),G=p(A.g,B.g),et=p(A.b,B.b),rt=Ho(A.opacity,B.opacity);return function(Ot){return A.r=Y(Ot),A.g=G(Ot),A.b=et(Ot),A.opacity=rt(Ot),A+""}}return w.gamma=t,w}(1);function Vc(t){return function(i){var p,w,A=i.length,B=new Array(A),Y=new Array(A),G=new Array(A);for(p=0;p<A;++p)w=ec(i[p]),B[p]=w.r||0,Y[p]=w.g||0,G[p]=w.b||0;return B=t(B),Y=t(Y),G=t(G),w.opacity=1,function(et){return w.r=B(et),w.g=Y(et),w.b=G(et),w+""}}}var xd=Vc(pl),q0=Vc(sh);function ch(t,i){i||(i=[]);var p,w=t?Math.min(i.length,t.length):0,A=i.slice();return function(B){for(p=0;p<w;++p)A[p]=t[p]*(1-B)+i[p]*B;return A}}function gl(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function yf(t,i){return(gl(i)?ch:os)(t,i)}function os(t,i){var p,w=i?i.length:0,A=t?Math.min(w,t.length):0,B=new Array(A),Y=new Array(w);for(p=0;p<A;++p)B[p]=As(t[p],i[p]);for(;p<w;++p)Y[p]=i[p];return function(G){for(p=0;p<A;++p)Y[p]=B[p](G);return Y}}function Wc(t,i){var p=new Date;return t=+t,i=+i,function(w){return p.setTime(t*(1-w)+i*w),p}}function Ys(t,i){return t=+t,i=+i,function(p){return t*(1-p)+i*p}}function Kl(t,i){var p,w={},A={};for(p in t!==null&&typeof t=="object"||(t={}),i!==null&&typeof i=="object"||(i={}),i)p in t?w[p]=As(t[p],i[p]):A[p]=i[p];return function(B){for(p in w)A[p]=w[p](B);return A}}var Gc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wd=new RegExp(Gc.source,"g");function $o(t,i){var p,w,A,B=Gc.lastIndex=wd.lastIndex=0,Y=-1,G=[],et=[];for(t+="",i+="";(p=Gc.exec(t))&&(w=wd.exec(i));)(A=w.index)>B&&(A=i.slice(B,A),G[Y]?G[Y]+=A:G[++Y]=A),(p=p[0])===(w=w[0])?G[Y]?G[Y]+=w:G[++Y]=w:(G[++Y]=null,et.push({i:Y,x:Ys(p,w)})),B=wd.lastIndex;return B<i.length&&(A=i.slice(B),G[Y]?G[Y]+=A:G[++Y]=A),G.length<2?et[0]?function(rt){return function(Ot){return rt(Ot)+""}}(et[0].x):function(rt){return function(){return rt}}(i):(i=et.length,function(rt){for(var Ot,zt=0;zt<i;++zt)G[(Ot=et[zt]).i]=Ot.x(rt);return G.join("")})}function As(t,i){var p,w=typeof i;return i==null||w==="boolean"?nc(i):(w==="number"?Ys:w==="string"?(p=qs(i))?(i=p,Ll):$o:i instanceof qs?Ll:i instanceof Date?Wc:gl(i)?ch:Array.isArray(i)?os:typeof i.valueOf!="function"&&typeof i.toString!="function"||isNaN(i)?Kl:Ys)(t,i)}function _d(t){let i;for(;i=t.sourceEvent;)t=i;return t}function _c(t,i){if(t=_d(t),i===void 0&&(i=t.currentTarget),i){var p=i.ownerSVGElement||i;if(p.createSVGPoint){var w=p.createSVGPoint();return w.x=t.clientX,w.y=t.clientY,[(w=w.matrixTransform(i.getScreenCTM().inverse())).x,w.y]}if(i.getBoundingClientRect){var A=i.getBoundingClientRect();return[t.clientX-A.left-i.clientLeft,t.clientY-A.top-i.clientTop]}}return[t.pageX,t.pageY]}var Su,Jl,Ql=0,tu=0,Os=0,lh=0,Xc=0,Zc=0,Bl=typeof performance=="object"&&performance.now?performance:Date,Ca=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Jo(){return Xc||(Ca(Ep),Xc=Bl.now()+Zc)}function Ep(){Xc=0}function ml(){this._call=this._time=this._next=null}function Eu(t,i,p){var w=new ml;return w.restart(t,i,p),w}function Y0(){Jo(),++Ql;for(var t,i=Su;i;)(t=Xc-i._time)>=0&&i._call.call(void 0,t),i=i._next;--Ql}function rc(){Xc=(lh=Bl.now())+Zc,Ql=tu=0;try{Y0()}finally{Ql=0,function(){for(var t,i,p=Su,w=1/0;p;)p._call?(w>p._time&&(w=p._time),t=p,p=p._next):(i=p._next,p._next=null,p=t?t._next=i:Su=i);Jl=t,eu(w)}(),Xc=0}}function Tu(){var t=Bl.now(),i=t-lh;i>1e3&&(Zc-=i,lh=t)}function eu(t){Ql||(tu&&(tu=clearTimeout(tu)),t-Xc>24?(t<1/0&&(tu=setTimeout(rc,t-Bl.now()-Zc)),Os&&(Os=clearInterval(Os))):(Os||(lh=Bl.now(),Os=setInterval(Tu,1e3)),Ql=1,Ca(rc)))}function Au(t,i,p){var w=new ml;return i=i==null?0:+i,w.restart(A=>{w.stop(),t(A+i)},i,p),w}ml.prototype=Eu.prototype={constructor:ml,restart:function(t,i,p){if(typeof t!="function")throw new TypeError("callback is not a function");p=(p==null?Jo():+p)+(i==null?0:+i),this._next||Jl===this||(Jl?Jl._next=this:Su=this,Jl=this),this._call=t,this._time=p,eu()},stop:function(){this._call&&(this._call=null,this._time=1/0,eu())}};var kd=fn("start","end","cancel","interrupt"),yl=[];function nu(t,i,p,w,A,B){var Y=t.__transition;if(Y){if(p in Y)return}else t.__transition={};(function(G,et,rt){var Ot,zt=G.__transition;function It(oe){var ae,de,be,ye;if(rt.state!==1)return fe();for(ae in zt)if((ye=zt[ae]).name===rt.name){if(ye.state===3)return Au(It);ye.state===4?(ye.state=6,ye.timer.stop(),ye.on.call("interrupt",G,G.__data__,ye.index,ye.group),delete zt[ae]):+ae<et&&(ye.state=6,ye.timer.stop(),ye.on.call("cancel",G,G.__data__,ye.index,ye.group),delete zt[ae])}if(Au(function(){rt.state===3&&(rt.state=4,rt.timer.restart(Gt,rt.delay,rt.time),Gt(oe))}),rt.state=2,rt.on.call("start",G,G.__data__,rt.index,rt.group),rt.state===2){for(rt.state=3,Ot=new Array(be=rt.tween.length),ae=0,de=-1;ae<be;++ae)(ye=rt.tween[ae].value.call(G,G.__data__,rt.index,rt.group))&&(Ot[++de]=ye);Ot.length=de+1}}function Gt(oe){for(var ae=oe<rt.duration?rt.ease.call(null,oe/rt.duration):(rt.timer.restart(fe),rt.state=5,1),de=-1,be=Ot.length;++de<be;)Ot[de].call(G,ae);rt.state===5&&(rt.on.call("end",G,G.__data__,rt.index,rt.group),fe())}function fe(){for(var oe in rt.state=6,rt.timer.stop(),delete zt[et],zt)return;delete G.__transition}zt[et]=rt,rt.timer=Eu(function(oe){rt.state=1,rt.timer.restart(It,rt.delay,rt.time),rt.delay<=oe&&It(oe-rt.delay)},0,rt.time)})(t,p,{name:i,index:w,group:A,on:kd,tween:yl,time:B.time,delay:B.delay,duration:B.duration,ease:B.ease,timer:null,state:0})}function vl(t,i){var p=kc(t,i);if(p.state>0)throw new Error("too late; already scheduled");return p}function jl(t,i){var p=kc(t,i);if(p.state>3)throw new Error("too late; already running");return p}function kc(t,i){var p=t.__transition;if(!p||!(p=p[i]))throw new Error("transition not found");return p}function ru(t,i){var p,w,A,B=t.__transition,Y=!0;if(B){for(A in i=i==null?null:i+"",B)(p=B[A]).name===i?(w=p.state>2&&p.state<5,p.state=6,p.timer.stop(),p.on.call(w?"interrupt":"cancel",t,t.__data__,p.index,p.group),delete B[A]):Y=!1;Y&&delete t.__transition}}var Nh,Cd=180/Math.PI,Ph={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Rh(t,i,p,w,A,B){var Y,G,et;return(Y=Math.sqrt(t*t+i*i))&&(t/=Y,i/=Y),(et=t*p+i*w)&&(p-=t*et,w-=i*et),(G=Math.sqrt(p*p+w*w))&&(p/=G,w/=G,et/=G),t*w<i*p&&(t=-t,i=-i,et=-et,Y=-Y),{translateX:A,translateY:B,rotate:Math.atan2(i,t)*Cd,skewX:Math.atan(et)*Cd,scaleX:Y,scaleY:G}}function uh(t,i,p,w){function A(B){return B.length?B.pop()+" ":""}return function(B,Y){var G=[],et=[];return B=t(B),Y=t(Y),function(rt,Ot,zt,It,Gt,fe){if(rt!==zt||Ot!==It){var oe=Gt.push("translate(",null,i,null,p);fe.push({i:oe-4,x:Ys(rt,zt)},{i:oe-2,x:Ys(Ot,It)})}else(zt||It)&&Gt.push("translate("+zt+i+It+p)}(B.translateX,B.translateY,Y.translateX,Y.translateY,G,et),function(rt,Ot,zt,It){rt!==Ot?(rt-Ot>180?Ot+=360:Ot-rt>180&&(rt+=360),It.push({i:zt.push(A(zt)+"rotate(",null,w)-2,x:Ys(rt,Ot)})):Ot&&zt.push(A(zt)+"rotate("+Ot+w)}(B.rotate,Y.rotate,G,et),function(rt,Ot,zt,It){rt!==Ot?It.push({i:zt.push(A(zt)+"skewX(",null,w)-2,x:Ys(rt,Ot)}):Ot&&zt.push(A(zt)+"skewX("+Ot+w)}(B.skewX,Y.skewX,G,et),function(rt,Ot,zt,It,Gt,fe){if(rt!==zt||Ot!==It){var oe=Gt.push(A(Gt)+"scale(",null,",",null,")");fe.push({i:oe-4,x:Ys(rt,zt)},{i:oe-2,x:Ys(Ot,It)})}else zt===1&&It===1||Gt.push(A(Gt)+"scale("+zt+","+It+")")}(B.scaleX,B.scaleY,Y.scaleX,Y.scaleY,G,et),B=Y=null,function(rt){for(var Ot,zt=-1,It=et.length;++zt<It;)G[(Ot=et[zt]).i]=Ot.x(rt);return G.join("")}}}var Ee=uh(function(t){const i=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return i.isIdentity?Ph:Rh(i.a,i.b,i.c,i.d,i.e,i.f)},"px, ","px)","deg)"),bl=uh(function(t){return t==null?Ph:(Nh||(Nh=document.createElementNS("http://www.w3.org/2000/svg","g")),Nh.setAttribute("transform",t),(t=Nh.transform.baseVal.consolidate())?Rh((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Ph)},", ",")",")");function Sd(t,i){var p,w;return function(){var A=jl(this,t),B=A.tween;if(B!==p){for(var Y=0,G=(w=p=B).length;Y<G;++Y)if(w[Y].name===i){(w=w.slice()).splice(Y,1);break}}A.tween=w}}function Vs(t,i,p){var w,A;if(typeof p!="function")throw new Error;return function(){var B=jl(this,t),Y=B.tween;if(Y!==w){A=(w=Y).slice();for(var G={name:i,value:p},et=0,rt=A.length;et<rt;++et)if(A[et].name===i){A[et]=G;break}et===rt&&A.push(G)}B.tween=A}}function Ti(t,i,p){var w=t._id;return t.each(function(){var A=jl(this,w);(A.value||(A.value={}))[i]=p.apply(this,arguments)}),function(A){return kc(A,w).value[i]}}function Ed(t,i){var p;return(typeof i=="number"?Ys:i instanceof qs?Ll:(p=qs(i))?(i=p,Ll):$o)(t,i)}function vf(t){return function(){this.removeAttribute(t)}}function Fg(t){return function(){this.removeAttributeNS(t.space,t.local)}}function hh(t,i,p){var w,A,B=p+"";return function(){var Y=this.getAttribute(t);return Y===B?null:Y===w?A:A=i(w=Y,p)}}function Tp(t,i,p){var w,A,B=p+"";return function(){var Y=this.getAttributeNS(t.space,t.local);return Y===B?null:Y===w?A:A=i(w=Y,p)}}function dh(t,i,p){var w,A,B;return function(){var Y,G,et=p(this);if(et!=null)return(Y=this.getAttribute(t))===(G=et+"")?null:Y===w&&G===A?B:(A=G,B=i(w=Y,et));this.removeAttribute(t)}}function Ap(t,i,p){var w,A,B;return function(){var Y,G,et=p(this);if(et!=null)return(Y=this.getAttributeNS(t.space,t.local))===(G=et+"")?null:Y===w&&G===A?B:(A=G,B=i(w=Y,et));this.removeAttributeNS(t.space,t.local)}}function Ou(t,i){return function(p){this.setAttribute(t,i.call(this,p))}}function iu(t,i){return function(p){this.setAttributeNS(t.space,t.local,i.call(this,p))}}function Ms(t,i){var p,w;function A(){var B=i.apply(this,arguments);return B!==w&&(p=(w=B)&&iu(t,B)),p}return A._value=i,A}function V0(t,i){var p,w;function A(){var B=i.apply(this,arguments);return B!==w&&(p=(w=B)&&Ou(t,B)),p}return A._value=i,A}function Cc(t,i){return function(){vl(this,t).delay=+i.apply(this,arguments)}}function Op(t,i){return i=+i,function(){vl(this,t).delay=i}}function Il(t,i){return function(){jl(this,t).duration=+i.apply(this,arguments)}}function W0(t,i){return i=+i,function(){jl(this,t).duration=i}}function ou(t,i){if(typeof i!="function")throw new Error;return function(){jl(this,t).ease=i}}function zg(t,i,p){var w,A,B=function(Y){return(Y+"").trim().split(/^|\s+/).every(function(G){var et=G.indexOf(".");return et>=0&&(G=G.slice(0,et)),!G||G==="start"})}(i)?vl:jl;return function(){var Y=B(this,t),G=Y.on;G!==w&&(A=(w=G).copy()).on(i,p),Y.on=A}}var Dh=Fa.prototype.constructor;function Sc(t){return function(){this.style.removeProperty(t)}}function au(t,i,p){return function(w){this.style.setProperty(t,i.call(this,w),p)}}function bf(t,i,p){var w,A;function B(){var Y=i.apply(this,arguments);return Y!==A&&(w=(A=Y)&&au(t,Y,p)),w}return B._value=i,B}function fa(t){return function(i){this.textContent=t.call(this,i)}}function G0(t){var i,p;function w(){var A=t.apply(this,arguments);return A!==p&&(i=(p=A)&&fa(A)),i}return w._value=t,w}var Fh=0;function Ua(t,i,p,w){this._groups=t,this._parents=i,this._name=p,this._id=w}function Mu(t){return Fa().transition(t)}function Td(){return++Fh}var Ha=Fa.prototype;function fh(t){return t*t*t}function Mp(t){return--t*t*t+1}function su(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Ua.prototype=Mu.prototype={constructor:Ua,select:function(t){var i=this._name,p=this._id;typeof t!="function"&&(t=_a(t));for(var w=this._groups,A=w.length,B=new Array(A),Y=0;Y<A;++Y)for(var G,et,rt=w[Y],Ot=rt.length,zt=B[Y]=new Array(Ot),It=0;It<Ot;++It)(G=rt[It])&&(et=t.call(G,G.__data__,It,rt))&&("__data__"in G&&(et.__data__=G.__data__),zt[It]=et,nu(zt[It],i,p,It,zt,kc(G,p)));return new Ua(B,this._parents,i,p)},selectAll:function(t){var i=this._name,p=this._id;typeof t!="function"&&(t=ra(t));for(var w=this._groups,A=w.length,B=[],Y=[],G=0;G<A;++G)for(var et,rt=w[G],Ot=rt.length,zt=0;zt<Ot;++zt)if(et=rt[zt]){for(var It,Gt=t.call(et,et.__data__,zt,rt),fe=kc(et,p),oe=0,ae=Gt.length;oe<ae;++oe)(It=Gt[oe])&&nu(It,i,p,oe,Gt,fe);B.push(Gt),Y.push(et)}return new Ua(B,Y,i,p)},selectChild:Ha.selectChild,selectChildren:Ha.selectChildren,filter:function(t){typeof t!="function"&&(t=Us(t));for(var i=this._groups,p=i.length,w=new Array(p),A=0;A<p;++A)for(var B,Y=i[A],G=Y.length,et=w[A]=[],rt=0;rt<G;++rt)(B=Y[rt])&&t.call(B,B.__data__,rt,Y)&&et.push(B);return new Ua(w,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var i=this._groups,p=t._groups,w=i.length,A=p.length,B=Math.min(w,A),Y=new Array(w),G=0;G<B;++G)for(var et,rt=i[G],Ot=p[G],zt=rt.length,It=Y[G]=new Array(zt),Gt=0;Gt<zt;++Gt)(et=rt[Gt]||Ot[Gt])&&(It[Gt]=et);for(;G<w;++G)Y[G]=i[G];return new Ua(Y,this._parents,this._name,this._id)},selection:function(){return new Dh(this._groups,this._parents)},transition:function(){for(var t=this._name,i=this._id,p=Td(),w=this._groups,A=w.length,B=0;B<A;++B)for(var Y,G=w[B],et=G.length,rt=0;rt<et;++rt)if(Y=G[rt]){var Ot=kc(Y,i);nu(Y,t,p,rt,G,{time:Ot.time+Ot.delay+Ot.duration,delay:0,duration:Ot.duration,ease:Ot.ease})}return new Ua(w,this._parents,t,p)},call:Ha.call,nodes:Ha.nodes,node:Ha.node,size:Ha.size,empty:Ha.empty,each:Ha.each,on:function(t,i){var p=this._id;return arguments.length<2?kc(this.node(),p).on.on(t):this.each(zg(p,t,i))},attr:function(t,i){var p=wi(t),w=p==="transform"?bl:Ed;return this.attrTween(t,typeof i=="function"?(p.local?Ap:dh)(p,w,Ti(this,"attr."+t,i)):i==null?(p.local?Fg:vf)(p):(p.local?Tp:hh)(p,w,i))},attrTween:function(t,i){var p="attr."+t;if(arguments.length<2)return(p=this.tween(p))&&p._value;if(i==null)return this.tween(p,null);if(typeof i!="function")throw new Error;var w=wi(t);return this.tween(p,(w.local?Ms:V0)(w,i))},style:function(t,i,p){var w=(t+="")=="transform"?Ee:Ed;return i==null?this.styleTween(t,function(A,B){var Y,G,et;return function(){var rt=zo(this,A),Ot=(this.style.removeProperty(A),zo(this,A));return rt===Ot?null:rt===Y&&Ot===G?et:et=B(Y=rt,G=Ot)}}(t,w)).on("end.style."+t,Sc(t)):typeof i=="function"?this.styleTween(t,function(A,B,Y){var G,et,rt;return function(){var Ot=zo(this,A),zt=Y(this),It=zt+"";return zt==null&&(this.style.removeProperty(A),It=zt=zo(this,A)),Ot===It?null:Ot===G&&It===et?rt:(et=It,rt=B(G=Ot,zt))}}(t,w,Ti(this,"style."+t,i))).each(function(A,B){var Y,G,et,rt,Ot="style."+B,zt="end."+Ot;return function(){var It=jl(this,A),Gt=It.on,fe=It.value[Ot]==null?rt||(rt=Sc(B)):void 0;Gt===Y&&et===fe||(G=(Y=Gt).copy()).on(zt,et=fe),It.on=G}}(this._id,t)):this.styleTween(t,function(A,B,Y){var G,et,rt=Y+"";return function(){var Ot=zo(this,A);return Ot===rt?null:Ot===G?et:et=B(G=Ot,Y)}}(t,w,i),p).on("end.style."+t,null)},styleTween:function(t,i,p){var w="style."+(t+="");if(arguments.length<2)return(w=this.tween(w))&&w._value;if(i==null)return this.tween(w,null);if(typeof i!="function")throw new Error;return this.tween(w,bf(t,i,p==null?"":p))},text:function(t){return this.tween("text",typeof t=="function"?function(i){return function(){var p=i(this);this.textContent=p==null?"":p}}(Ti(this,"text",t)):function(i){return function(){this.textContent=i}}(t==null?"":t+""))},textTween:function(t){var i="text";if(arguments.length<1)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,G0(t))},remove:function(){return this.on("end.remove",function(t){return function(){var i=this.parentNode;for(var p in this.__transition)if(+p!==t)return;i&&i.removeChild(this)}}(this._id))},tween:function(t,i){var p=this._id;if(t+="",arguments.length<2){for(var w,A=kc(this.node(),p).tween,B=0,Y=A.length;B<Y;++B)if((w=A[B]).name===t)return w.value;return null}return this.each((i==null?Sd:Vs)(p,t,i))},delay:function(t){var i=this._id;return arguments.length?this.each((typeof t=="function"?Cc:Op)(i,t)):kc(this.node(),i).delay},duration:function(t){var i=this._id;return arguments.length?this.each((typeof t=="function"?Il:W0)(i,t)):kc(this.node(),i).duration},ease:function(t){var i=this._id;return arguments.length?this.each(ou(i,t)):kc(this.node(),i).ease},easeVarying:function(t){if(typeof t!="function")throw new Error;return this.each(function(i,p){return function(){var w=p.apply(this,arguments);if(typeof w!="function")throw new Error;jl(this,i).ease=w}}(this._id,t))},end:function(){var t,i,p=this,w=p._id,A=p.size();return new Promise(function(B,Y){var G={value:Y},et={value:function(){--A==0&&B()}};p.each(function(){var rt=jl(this,w),Ot=rt.on;Ot!==t&&((i=(t=Ot).copy())._.cancel.push(G),i._.interrupt.push(G),i._.end.push(et)),rt.on=i}),A===0&&B()})},[Symbol.iterator]:Ha[Symbol.iterator]};var X0={time:null,delay:0,duration:250,ease:su};function zh(t,i){for(var p;!(p=t.__transition)||!(p=p[i]);)if(!(t=t.parentNode))throw new Error(`transition ${i} not found`);return p}Fa.prototype.interrupt=function(t){return this.each(function(){ru(this,t)})},Fa.prototype.transition=function(t){var i,p;t instanceof Ua?(i=t._id,t=t._name):(i=Td(),(p=X0).time=Jo(),t=t==null?null:t+"");for(var w=this._groups,A=w.length,B=0;B<A;++B)for(var Y,G=w[B],et=G.length,rt=0;rt<et;++rt)(Y=G[rt])&&nu(Y,t,i,rt,G,p||zh(Y,i));return new Ua(w,this._parents,t,i)};var Lp=[null];function Kc(t,i){var p,w,A=t.__transition;if(A){for(w in i=i==null?null:i+"",A)if((p=A[w]).state>1&&p.name===i)return new Ua([[t]],Lp,i,+w)}return null}const Lu=t=>()=>t;function Uh(t,{sourceEvent:i,target:p,selection:w,mode:A,dispatch:B}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:i,enumerable:!0,configurable:!0},target:{value:p,enumerable:!0,configurable:!0},selection:{value:w,enumerable:!0,configurable:!0},mode:{value:A,enumerable:!0,configurable:!0},_:{value:B}})}function ph(t){t.stopImmediatePropagation()}function Ad(t){t.preventDefault(),t.stopImmediatePropagation()}var cu={name:"drag"},ic={name:"space"},gs={name:"handle"},Ec={name:"center"};const{abs:Sa,max:Po,min:Ea}=Math;function Bu(t){return[+t[0],+t[1]]}function Nl(t){return[Bu(t[0]),Bu(t[1])]}var as={name:"x",handles:["w","e"].map(ju),input:function(t,i){return t==null?null:[[+t[0],i[0][1]],[+t[1],i[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Hh={name:"y",handles:["n","s"].map(ju),input:function(t,i){return t==null?null:[[i[0][0],+t[0]],[i[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Ls={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(ju),input:function(t){return t==null?null:Nl(t)},output:function(t){return t}},ms={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},wo={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},xf={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Ka={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Pl={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function ju(t){return{type:t}}function Co(t){return!t.ctrlKey&&!t.button}function lu(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function sa(){return navigator.maxTouchPoints||"ontouchstart"in this}function Rl(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function wf(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Ws(t){var i=t.__brush;return i?i.dim.output(i.selection):null}function Tc(){return Od(as)}function Jc(){return Od(Hh)}function _f(){return Od(Ls)}function Od(t){var i,p=lu,w=Co,A=sa,B=!0,Y=fn("start","brush","end"),G=6;function et(ae){var de=ae.property("__brush",oe).selectAll(".overlay").data([ju("overlay")]);de.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",ms.overlay).merge(de).each(function(){var ye=Rl(this).extent;Wi(this).attr("x",ye[0][0]).attr("y",ye[0][1]).attr("width",ye[1][0]-ye[0][0]).attr("height",ye[1][1]-ye[0][1])}),ae.selectAll(".selection").data([ju("selection")]).enter().append("rect").attr("class","selection").attr("cursor",ms.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var be=ae.selectAll(".handle").data(t.handles,function(ye){return ye.type});be.exit().remove(),be.enter().append("rect").attr("class",function(ye){return"handle handle--"+ye.type}).attr("cursor",function(ye){return ms[ye.type]}),ae.each(rt).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",It).filter(A).on("touchstart.brush",It).on("touchmove.brush",Gt).on("touchend.brush touchcancel.brush",fe).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function rt(){var ae=Wi(this),de=Rl(this).selection;de?(ae.selectAll(".selection").style("display",null).attr("x",de[0][0]).attr("y",de[0][1]).attr("width",de[1][0]-de[0][0]).attr("height",de[1][1]-de[0][1]),ae.selectAll(".handle").style("display",null).attr("x",function(be){return be.type[be.type.length-1]==="e"?de[1][0]-G/2:de[0][0]-G/2}).attr("y",function(be){return be.type[0]==="s"?de[1][1]-G/2:de[0][1]-G/2}).attr("width",function(be){return be.type==="n"||be.type==="s"?de[1][0]-de[0][0]+G:G}).attr("height",function(be){return be.type==="e"||be.type==="w"?de[1][1]-de[0][1]+G:G})):ae.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function Ot(ae,de,be){var ye=ae.__brush.emitter;return!ye||be&&ye.clean?new zt(ae,de,be):ye}function zt(ae,de,be){this.that=ae,this.args=de,this.state=ae.__brush,this.active=0,this.clean=be}function It(ae){if((!i||ae.touches)&&w.apply(this,arguments)){var de,be,ye,ve,Be,Ne,pn,On,nn,Je,Qe,tn=this,Fe=ae.target.__data__.type,Ze=(B&&ae.metaKey?Fe="overlay":Fe)==="selection"?cu:B&&ae.altKey?Ec:gs,hn=t===Hh?null:Ka[Fe],_n=t===as?null:Pl[Fe],Pn=Rl(tn),Jn=Pn.extent,or=Pn.selection,yr=Jn[0][0],ar=Jn[0][1],ri=Jn[1][0],si=Jn[1][1],Gr=0,Kr=0,jo=hn&&_n&&B&&ae.shiftKey,eo=Array.from(ae.touches||[ae],io=>{const Hc=io.identifier;return(io=_c(io,tn)).point0=io.slice(),io.identifier=Hc,io});ru(tn);var eh=Ot(tn,arguments,!0).beforestart();if(Fe==="overlay"){or&&(nn=!0);const io=[eo[0],eo[1]||eo[0]];Pn.selection=or=[[de=t===Hh?yr:Ea(io[0][0],io[1][0]),ye=t===as?ar:Ea(io[0][1],io[1][1])],[Be=t===Hh?ri:Po(io[0][0],io[1][0]),pn=t===as?si:Po(io[0][1],io[1][1])]],eo.length>1&&yy(ae)}else de=or[0][0],ye=or[0][1],Be=or[1][0],pn=or[1][1];be=de,ve=ye,Ne=Be,On=pn;var Mg=Wi(tn).attr("pointer-events","none"),uf=Mg.selectAll(".overlay").attr("cursor",ms[Fe]);if(ae.touches)eh.moved=$8,eh.ended=q8;else{var hb=Wi(ae.view).on("mousemove.brush",$8,!0).on("mouseup.brush",q8,!0);B&&hb.on("keydown.brush",wT,!0).on("keyup.brush",_T,!0),Me(ae.view)}rt.call(tn),eh.start(ae,Ze.name)}function $8(io){for(const Hc of io.changedTouches||[io])for(const Bx of eo)Bx.identifier===Hc.identifier&&(Bx.cur=_c(Hc,tn));if(jo&&!Je&&!Qe&&eo.length===1){const Hc=eo[0];Sa(Hc.cur[0]-Hc[0])>Sa(Hc.cur[1]-Hc[1])?Qe=!0:Je=!0}for(const Hc of eo)Hc.cur&&(Hc[0]=Hc.cur[0],Hc[1]=Hc.cur[1]);nn=!0,Ad(io),yy(io)}function yy(io){const Hc=eo[0],Bx=Hc.point0;var Lg;switch(Gr=Hc[0]-Bx[0],Kr=Hc[1]-Bx[1],Ze){case ic:case cu:hn&&(Gr=Po(yr-de,Ea(ri-Be,Gr)),be=de+Gr,Ne=Be+Gr),_n&&(Kr=Po(ar-ye,Ea(si-pn,Kr)),ve=ye+Kr,On=pn+Kr);break;case gs:eo[1]?(hn&&(be=Po(yr,Ea(ri,eo[0][0])),Ne=Po(yr,Ea(ri,eo[1][0])),hn=1),_n&&(ve=Po(ar,Ea(si,eo[0][1])),On=Po(ar,Ea(si,eo[1][1])),_n=1)):(hn<0?(Gr=Po(yr-de,Ea(ri-de,Gr)),be=de+Gr,Ne=Be):hn>0&&(Gr=Po(yr-Be,Ea(ri-Be,Gr)),be=de,Ne=Be+Gr),_n<0?(Kr=Po(ar-ye,Ea(si-ye,Kr)),ve=ye+Kr,On=pn):_n>0&&(Kr=Po(ar-pn,Ea(si-pn,Kr)),ve=ye,On=pn+Kr));break;case Ec:hn&&(be=Po(yr,Ea(ri,de-Gr*hn)),Ne=Po(yr,Ea(ri,Be+Gr*hn))),_n&&(ve=Po(ar,Ea(si,ye-Kr*_n)),On=Po(ar,Ea(si,pn+Kr*_n)))}Ne<be&&(hn*=-1,Lg=de,de=Be,Be=Lg,Lg=be,be=Ne,Ne=Lg,Fe in wo&&uf.attr("cursor",ms[Fe=wo[Fe]])),On<ve&&(_n*=-1,Lg=ye,ye=pn,pn=Lg,Lg=ve,ve=On,On=Lg,Fe in xf&&uf.attr("cursor",ms[Fe=xf[Fe]])),Pn.selection&&(or=Pn.selection),Je&&(be=or[0][0],Ne=or[1][0]),Qe&&(ve=or[0][1],On=or[1][1]),or[0][0]===be&&or[0][1]===ve&&or[1][0]===Ne&&or[1][1]===On||(Pn.selection=[[be,ve],[Ne,On]],rt.call(tn),eh.brush(io,Ze.name))}function q8(io){if(ph(io),io.touches){if(io.touches.length)return;i&&clearTimeout(i),i=setTimeout(function(){i=null},500)}else cn(io.view,nn),hb.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);Mg.attr("pointer-events","all"),uf.attr("cursor",ms.overlay),Pn.selection&&(or=Pn.selection),wf(or)&&(Pn.selection=null,rt.call(tn)),eh.end(io,Ze.name)}function wT(io){switch(io.keyCode){case 16:jo=hn&&_n;break;case 18:Ze===gs&&(hn&&(Be=Ne-Gr*hn,de=be+Gr*hn),_n&&(pn=On-Kr*_n,ye=ve+Kr*_n),Ze=Ec,yy(io));break;case 32:Ze!==gs&&Ze!==Ec||(hn<0?Be=Ne-Gr:hn>0&&(de=be-Gr),_n<0?pn=On-Kr:_n>0&&(ye=ve-Kr),Ze=ic,uf.attr("cursor",ms.selection),yy(io));break;default:return}Ad(io)}function _T(io){switch(io.keyCode){case 16:jo&&(Je=Qe=jo=!1,yy(io));break;case 18:Ze===Ec&&(hn<0?Be=Ne:hn>0&&(de=be),_n<0?pn=On:_n>0&&(ye=ve),Ze=gs,yy(io));break;case 32:Ze===ic&&(io.altKey?(hn&&(Be=Ne-Gr*hn,de=be+Gr*hn),_n&&(pn=On-Kr*_n,ye=ve+Kr*_n),Ze=Ec):(hn<0?Be=Ne:hn>0&&(de=be),_n<0?pn=On:_n>0&&(ye=ve),Ze=gs),uf.attr("cursor",ms[Fe]),yy(io));break;default:return}Ad(io)}}function Gt(ae){Ot(this,arguments).moved(ae)}function fe(ae){Ot(this,arguments).ended(ae)}function oe(){var ae=this.__brush||{selection:null};return ae.extent=Nl(p.apply(this,arguments)),ae.dim=t,ae}return et.move=function(ae,de,be){ae.tween?ae.on("start.brush",function(ye){Ot(this,arguments).beforestart().start(ye)}).on("interrupt.brush end.brush",function(ye){Ot(this,arguments).end(ye)}).tween("brush",function(){var ye=this,ve=ye.__brush,Be=Ot(ye,arguments),Ne=ve.selection,pn=t.input(typeof de=="function"?de.apply(this,arguments):de,ve.extent),On=As(Ne,pn);function nn(Je){ve.selection=Je===1&&pn===null?null:On(Je),rt.call(ye),Be.brush()}return Ne!==null&&pn!==null?nn:nn(1)}):ae.each(function(){var ye=this,ve=arguments,Be=ye.__brush,Ne=t.input(typeof de=="function"?de.apply(ye,ve):de,Be.extent),pn=Ot(ye,ve).beforestart();ru(ye),Be.selection=Ne===null?null:Ne,rt.call(ye),pn.start(be).brush(be).end(be)})},et.clear=function(ae,de){et.move(ae,null,de)},zt.prototype={beforestart:function(){return++this.active==1&&(this.state.emitter=this,this.starting=!0),this},start:function(ae,de){return this.starting?(this.starting=!1,this.emit("start",ae,de)):this.emit("brush",ae),this},brush:function(ae,de){return this.emit("brush",ae,de),this},end:function(ae,de){return--this.active==0&&(delete this.state.emitter,this.emit("end",ae,de)),this},emit:function(ae,de,be){var ye=Wi(this.that).datum();Y.call(ae,this.that,new Uh(ae,{sourceEvent:de,target:et,selection:t.output(this.state.selection),mode:be,dispatch:Y}),ye)}},et.extent=function(ae){return arguments.length?(p=typeof ae=="function"?ae:Lu(Nl(ae)),et):p},et.filter=function(ae){return arguments.length?(w=typeof ae=="function"?ae:Lu(!!ae),et):w},et.touchable=function(ae){return arguments.length?(A=typeof ae=="function"?ae:Lu(!!ae),et):A},et.handleSize=function(ae){return arguments.length?(G=+ae,et):G},et.keyModifiers=function(ae){return arguments.length?(B=!!ae,et):B},et.on=function(){var ae=Y.on.apply(Y,arguments);return ae===Y?et:ae},et}var Qc=Math.abs,$h=Math.cos,ss=Math.sin,ht=Math.PI,H=ht/2,At=2*ht,q=Math.max,bt=1e-12;function Q(t,i){return Array.from({length:i-t},(p,w)=>t+w)}function ot(t){return function(i,p){return t(i.source.value+i.target.value,p.source.value+p.target.value)}}function r(){return dt(!1,!1)}function b(){return dt(!1,!0)}function Z(){return dt(!0,!1)}function dt(t,i){var p=0,w=null,A=null,B=null;function Y(G){var et,rt=G.length,Ot=new Array(rt),zt=Q(0,rt),It=new Array(rt*rt),Gt=new Array(rt),fe=0;G=Float64Array.from({length:rt*rt},i?(oe,ae)=>G[ae%rt][ae/rt|0]:(oe,ae)=>G[ae/rt|0][ae%rt]);for(let oe=0;oe<rt;++oe){let ae=0;for(let de=0;de<rt;++de)ae+=G[oe*rt+de]+t*G[de*rt+oe];fe+=Ot[oe]=ae}et=(fe=q(0,At-p*rt)/fe)?p:At/rt;{let oe=0;w&&zt.sort((ae,de)=>w(Ot[ae],Ot[de]));for(const ae of zt){const de=oe;if(t){const be=Q(1+~rt,rt).filter(ye=>ye<0?G[~ye*rt+ae]:G[ae*rt+ye]);A&&be.sort((ye,ve)=>A(ye<0?-G[~ye*rt+ae]:G[ae*rt+ye],ve<0?-G[~ve*rt+ae]:G[ae*rt+ve]));for(const ye of be)ye<0?(It[~ye*rt+ae]||(It[~ye*rt+ae]={source:null,target:null})).target={index:ae,startAngle:oe,endAngle:oe+=G[~ye*rt+ae]*fe,value:G[~ye*rt+ae]}:(It[ae*rt+ye]||(It[ae*rt+ye]={source:null,target:null})).source={index:ae,startAngle:oe,endAngle:oe+=G[ae*rt+ye]*fe,value:G[ae*rt+ye]};Gt[ae]={index:ae,startAngle:de,endAngle:oe,value:Ot[ae]}}else{const be=Q(0,rt).filter(ye=>G[ae*rt+ye]||G[ye*rt+ae]);A&&be.sort((ye,ve)=>A(G[ae*rt+ye],G[ae*rt+ve]));for(const ye of be){let ve;if(ae<ye?(ve=It[ae*rt+ye]||(It[ae*rt+ye]={source:null,target:null}),ve.source={index:ae,startAngle:oe,endAngle:oe+=G[ae*rt+ye]*fe,value:G[ae*rt+ye]}):(ve=It[ye*rt+ae]||(It[ye*rt+ae]={source:null,target:null}),ve.target={index:ae,startAngle:oe,endAngle:oe+=G[ae*rt+ye]*fe,value:G[ae*rt+ye]},ae===ye&&(ve.source=ve.target)),ve.source&&ve.target&&ve.source.value<ve.target.value){const Be=ve.source;ve.source=ve.target,ve.target=Be}}Gt[ae]={index:ae,startAngle:de,endAngle:oe,value:Ot[ae]}}oe+=et}}return(It=Object.values(It)).groups=Gt,B?It.sort(B):It}return Y.padAngle=function(G){return arguments.length?(p=q(0,G),Y):p},Y.sortGroups=function(G){return arguments.length?(w=G,Y):w},Y.sortSubgroups=function(G){return arguments.length?(A=G,Y):A},Y.sortChords=function(G){return arguments.length?(G==null?B=null:(B=ot(G))._=G,Y):B&&B._},Y}const wt=Math.PI,te=2*wt,Ce=1e-6,Ke=te-Ce;function Ln(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Qn(){return new Ln}Ln.prototype=Qn.prototype={constructor:Ln,moveTo:function(t,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+i)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,i){this._+="L"+(this._x1=+t)+","+(this._y1=+i)},quadraticCurveTo:function(t,i,p,w){this._+="Q"+ +t+","+ +i+","+(this._x1=+p)+","+(this._y1=+w)},bezierCurveTo:function(t,i,p,w,A,B){this._+="C"+ +t+","+ +i+","+ +p+","+ +w+","+(this._x1=+A)+","+(this._y1=+B)},arcTo:function(t,i,p,w,A){t=+t,i=+i,p=+p,w=+w,A=+A;var B=this._x1,Y=this._y1,G=p-t,et=w-i,rt=B-t,Ot=Y-i,zt=rt*rt+Ot*Ot;if(A<0)throw new Error("negative radius: "+A);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=i);else if(zt>Ce)if(Math.abs(Ot*G-et*rt)>Ce&&A){var It=p-B,Gt=w-Y,fe=G*G+et*et,oe=It*It+Gt*Gt,ae=Math.sqrt(fe),de=Math.sqrt(zt),be=A*Math.tan((wt-Math.acos((fe+zt-oe)/(2*ae*de)))/2),ye=be/de,ve=be/ae;Math.abs(ye-1)>Ce&&(this._+="L"+(t+ye*rt)+","+(i+ye*Ot)),this._+="A"+A+","+A+",0,0,"+ +(Ot*It>rt*Gt)+","+(this._x1=t+ve*G)+","+(this._y1=i+ve*et)}else this._+="L"+(this._x1=t)+","+(this._y1=i)},arc:function(t,i,p,w,A,B){t=+t,i=+i,B=!!B;var Y=(p=+p)*Math.cos(w),G=p*Math.sin(w),et=t+Y,rt=i+G,Ot=1^B,zt=B?w-A:A-w;if(p<0)throw new Error("negative radius: "+p);this._x1===null?this._+="M"+et+","+rt:(Math.abs(this._x1-et)>Ce||Math.abs(this._y1-rt)>Ce)&&(this._+="L"+et+","+rt),p&&(zt<0&&(zt=zt%te+te),zt>Ke?this._+="A"+p+","+p+",0,1,"+Ot+","+(t-Y)+","+(i-G)+"A"+p+","+p+",0,1,"+Ot+","+(this._x1=et)+","+(this._y1=rt):zt>Ce&&(this._+="A"+p+","+p+",0,"+ +(zt>=wt)+","+Ot+","+(this._x1=t+p*Math.cos(A))+","+(this._y1=i+p*Math.sin(A))))},rect:function(t,i,p,w){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+i)+"h"+ +p+"v"+ +w+"h"+-p+"Z"},toString:function(){return this._}};const ur=Qn;var fr=Array.prototype.slice;function Mr(t){return function(){return t}}function Ur(t){return t.source}function zr(t){return t.target}function Si(t){return t.radius}function ho(t){return t.startAngle}function gi(t){return t.endAngle}function Br(){return 0}function mi(){return 10}function qo(t){var i=Ur,p=zr,w=Si,A=Si,B=ho,Y=gi,G=Br,et=null;function rt(){var Ot,zt=i.apply(this,arguments),It=p.apply(this,arguments),Gt=G.apply(this,arguments)/2,fe=fr.call(arguments),oe=+w.apply(this,(fe[0]=zt,fe)),ae=B.apply(this,fe)-H,de=Y.apply(this,fe)-H,be=+A.apply(this,(fe[0]=It,fe)),ye=B.apply(this,fe)-H,ve=Y.apply(this,fe)-H;if(et||(et=Ot=ur()),Gt>bt&&(Qc(de-ae)>2*Gt+bt?de>ae?(ae+=Gt,de-=Gt):(ae-=Gt,de+=Gt):ae=de=(ae+de)/2,Qc(ve-ye)>2*Gt+bt?ve>ye?(ye+=Gt,ve-=Gt):(ye-=Gt,ve+=Gt):ye=ve=(ye+ve)/2),et.moveTo(oe*$h(ae),oe*ss(ae)),et.arc(0,0,oe,ae,de),ae!==ye||de!==ve)if(t){var Be=+t.apply(this,arguments),Ne=be-Be,pn=(ye+ve)/2;et.quadraticCurveTo(0,0,Ne*$h(ye),Ne*ss(ye)),et.lineTo(be*$h(pn),be*ss(pn)),et.lineTo(Ne*$h(ve),Ne*ss(ve))}else et.quadraticCurveTo(0,0,be*$h(ye),be*ss(ye)),et.arc(0,0,be,ye,ve);if(et.quadraticCurveTo(0,0,oe*$h(ae),oe*ss(ae)),et.closePath(),Ot)return et=null,Ot+""||null}return t&&(rt.headRadius=function(Ot){return arguments.length?(t=typeof Ot=="function"?Ot:Mr(+Ot),rt):t}),rt.radius=function(Ot){return arguments.length?(w=A=typeof Ot=="function"?Ot:Mr(+Ot),rt):w},rt.sourceRadius=function(Ot){return arguments.length?(w=typeof Ot=="function"?Ot:Mr(+Ot),rt):w},rt.targetRadius=function(Ot){return arguments.length?(A=typeof Ot=="function"?Ot:Mr(+Ot),rt):A},rt.startAngle=function(Ot){return arguments.length?(B=typeof Ot=="function"?Ot:Mr(+Ot),rt):B},rt.endAngle=function(Ot){return arguments.length?(Y=typeof Ot=="function"?Ot:Mr(+Ot),rt):Y},rt.padAngle=function(Ot){return arguments.length?(G=typeof Ot=="function"?Ot:Mr(+Ot),rt):G},rt.source=function(Ot){return arguments.length?(i=Ot,rt):i},rt.target=function(Ot){return arguments.length?(p=Ot,rt):p},rt.context=function(Ot){return arguments.length?(et=Ot==null?null:Ot,rt):et},rt}function vn(){return qo()}function gn(){return qo(mi)}const Xe=Math.PI/180,hr=180/Math.PI,Gn=.96422,$r=.82521,Ai=4/29,_o=6/29,So=3*_o*_o;function Yo(t){if(t instanceof wl)return new wl(t.l,t.a,t.b,t.opacity);if(t instanceof Dl)return Bp(t);t instanceof aa||(t=Ih(t));var i,p,w=uu(t.r),A=uu(t.g),B=uu(t.b),Y=Z0((.2225045*w+.7168786*A+.0606169*B)/1);return w===A&&A===B?i=p=Y:(i=Z0((.4360747*w+.3850649*A+.1430804*B)/Gn),p=Z0((.0139322*w+.0971045*A+.7141733*B)/$r)),new wl(116*Y-16,500*(i-Y),200*(Y-p),t.opacity)}function xl(t,i){return new wl(t,0,0,i==null?1:i)}function Ta(t,i,p,w){return arguments.length===1?Yo(t):new wl(t,i,p,w==null?1:w)}function wl(t,i,p,w){this.l=+t,this.a=+i,this.b=+p,this.opacity=+w}function Z0(t){return t>.008856451679035631?Math.pow(t,.3333333333333333):t/So+Ai}function K0(t){return t>_o?t*t*t:So*(t-Ai)}function Ac(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,.4166666666666667)-.055)}function uu(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function J0(t){if(t instanceof Dl)return new Dl(t.h,t.c,t.l,t.opacity);if(t instanceof wl||(t=Yo(t)),t.a===0&&t.b===0)return new Dl(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var i=Math.atan2(t.b,t.a)*hr;return new Dl(i<0?i+360:i,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Ly(t,i,p,w){return arguments.length===1?J0(t):new Dl(p,i,t,w==null?1:w)}function qh(t,i,p,w){return arguments.length===1?J0(t):new Dl(t,i,p,w==null?1:w)}function Dl(t,i,p,w){this.h=+t,this.c=+i,this.l=+p,this.opacity=+w}function Bp(t){if(isNaN(t.h))return new wl(t.l,0,0,t.opacity);var i=t.h*Xe;return new wl(t.l,Math.cos(i)*t.c,Math.sin(i)*t.c,t.opacity)}Nn(wl,Ta,zn(tr,{brighter(t){return new wl(this.l+18*(t==null?1:t),this.a,this.b,this.opacity)},darker(t){return new wl(this.l-18*(t==null?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,i=isNaN(this.a)?t:t+this.a/500,p=isNaN(this.b)?t:t-this.b/200;return new aa(Ac(3.1338561*(i=Gn*K0(i))-1.6168667*(t=1*K0(t))-.4906146*(p=$r*K0(p))),Ac(-.9787684*i+1.9161415*t+.033454*p),Ac(.0719453*i-.2289914*t+1.4052427*p),this.opacity)}})),Nn(Dl,qh,zn(tr,{brighter(t){return new Dl(this.h,this.c,this.l+18*(t==null?1:t),this.opacity)},darker(t){return new Dl(this.h,this.c,this.l-18*(t==null?1:t),this.opacity)},rgb(){return Bp(this).rgb()}}));var Ug=-.14861,jp=1.78277,kf=-.29227,Bs=-.90649,Ip=1.97294,gh=Ip*Bs,Q0=Ip*jp,Hg=jp*kf-Bs*Ug;function $g(t){if(t instanceof Iu)return new Iu(t.h,t.s,t.l,t.opacity);t instanceof aa||(t=Ih(t));var i=t.r/255,p=t.g/255,w=t.b/255,A=(Hg*w+gh*i-Q0*p)/(Hg+gh-Q0),B=w-A,Y=(Ip*(p-A)-kf*B)/Bs,G=Math.sqrt(Y*Y+B*B)/(Ip*A*(1-A)),et=G?Math.atan2(Y,B)*hr-120:NaN;return new Iu(et<0?et+360:et,G,A,t.opacity)}function Fl(t,i,p,w){return arguments.length===1?$g(t):new Iu(t,i,p,w==null?1:w)}function Iu(t,i,p,w){this.h=+t,this.s=+i,this.l=+p,this.opacity=+w}Nn(Iu,Fl,zn(tr,{brighter(t){return t=t==null?lr:Math.pow(lr,t),new Iu(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?nr:Math.pow(nr,t),new Iu(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*Xe,i=+this.l,p=isNaN(this.s)?0:this.s*i*(1-i),w=Math.cos(t),A=Math.sin(t);return new aa(255*(i+p*(Ug*w+jp*A)),255*(i+p*(kf*w+Bs*A)),255*(i+p*(Ip*w)),this.opacity)}}));var By=Array.prototype.slice;function Cf(t,i){return t-i}const mh=t=>()=>t;function qg(t,i){for(var p,w=-1,A=i.length;++w<A;)if(p=jy(t,i[w]))return p;return 0}function jy(t,i){for(var p=i[0],w=i[1],A=-1,B=0,Y=t.length,G=Y-1;B<Y;G=B++){var et=t[B],rt=et[0],Ot=et[1],zt=t[G],It=zt[0],Gt=zt[1];if(Iy(et,zt,i))return 0;Ot>w!=Gt>w&&p<(It-rt)*(w-Ot)/(Gt-Ot)+rt&&(A=-A)}return A}function Iy(t,i,p){var w,A,B,Y;return function(G,et,rt){return(et[0]-G[0])*(rt[1]-G[1])==(rt[0]-G[0])*(et[1]-G[1])}(t,i,p)&&(A=t[w=+(t[0]===i[0])],B=p[w],Y=i[w],A<=B&&B<=Y||Y<=B&&B<=A)}function Oc(){}var Aa=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Yg(){var t=1,i=1,p=Ue,w=G;function A(et){var rt=p(et);if(Array.isArray(rt))rt=rt.slice().sort(Cf);else{const Ot=lt(et),zt=Te(Ot[0],Ot[1],rt);rt=Ht(Math.floor(Ot[0]/zt)*zt,Math.floor(Ot[1]/zt-1)*zt,rt)}return rt.map(Ot=>B(et,Ot))}function B(et,rt){var Ot=[],zt=[];return function(It,Gt,fe){var oe,ae,de,be,ye,ve,Be=new Array,Ne=new Array;for(oe=ae=-1,be=It[0]>=Gt,Aa[be<<1].forEach(pn);++oe<t-1;)de=be,be=It[oe+1]>=Gt,Aa[de|be<<1].forEach(pn);for(Aa[be<<0].forEach(pn);++ae<i-1;){for(oe=-1,be=It[ae*t+t]>=Gt,ye=It[ae*t]>=Gt,Aa[be<<1|ye<<2].forEach(pn);++oe<t-1;)de=be,be=It[ae*t+t+oe+1]>=Gt,ve=ye,ye=It[ae*t+oe+1]>=Gt,Aa[de|be<<1|ye<<2|ve<<3].forEach(pn);Aa[be|ye<<3].forEach(pn)}for(oe=-1,ye=It[ae*t]>=Gt,Aa[ye<<2].forEach(pn);++oe<t-1;)ve=ye,ye=It[ae*t+oe+1]>=Gt,Aa[ye<<2|ve<<3].forEach(pn);function pn(On){var nn,Je,Qe=[On[0][0]+oe,On[0][1]+ae],tn=[On[1][0]+oe,On[1][1]+ae],Fe=Y(Qe),Ze=Y(tn);(nn=Ne[Fe])?(Je=Be[Ze])?(delete Ne[nn.end],delete Be[Je.start],nn===Je?(nn.ring.push(tn),fe(nn.ring)):Be[nn.start]=Ne[Je.end]={start:nn.start,end:Je.end,ring:nn.ring.concat(Je.ring)}):(delete Ne[nn.end],nn.ring.push(tn),Ne[nn.end=Ze]=nn):(nn=Be[Ze])?(Je=Ne[Fe])?(delete Be[nn.start],delete Ne[Je.end],nn===Je?(nn.ring.push(tn),fe(nn.ring)):Be[Je.start]=Ne[nn.end]={start:Je.start,end:nn.end,ring:Je.ring.concat(nn.ring)}):(delete Be[nn.start],nn.ring.unshift(Qe),Be[nn.start=Fe]=nn):Be[Fe]=Ne[Ze]={start:Fe,end:Ze,ring:[Qe,tn]}}Aa[ye<<3].forEach(pn)}(et,rt,function(It){w(It,et,rt),function(Gt){for(var fe=0,oe=Gt.length,ae=Gt[oe-1][1]*Gt[0][0]-Gt[oe-1][0]*Gt[0][1];++fe<oe;)ae+=Gt[fe-1][1]*Gt[fe][0]-Gt[fe-1][0]*Gt[fe][1];return ae}(It)>0?Ot.push([It]):zt.push(It)}),zt.forEach(function(It){for(var Gt,fe=0,oe=Ot.length;fe<oe;++fe)if(qg((Gt=Ot[fe])[0],It)!==-1)return void Gt.push(It)}),{type:"MultiPolygon",value:rt,coordinates:Ot}}function Y(et){return 2*et[0]+et[1]*(t+1)*4}function G(et,rt,Ot){et.forEach(function(zt){var It,Gt=zt[0],fe=zt[1],oe=0|Gt,ae=0|fe,de=rt[ae*t+oe];Gt>0&&Gt<t&&oe===Gt&&(It=rt[ae*t+oe-1],zt[0]=Gt+(Ot-It)/(de-It)-.5),fe>0&&fe<i&&ae===fe&&(It=rt[(ae-1)*t+oe],zt[1]=fe+(Ot-It)/(de-It)-.5)})}return A.contour=B,A.size=function(et){if(!arguments.length)return[t,i];var rt=Math.floor(et[0]),Ot=Math.floor(et[1]);if(!(rt>=0&&Ot>=0))throw new Error("invalid size");return t=rt,i=Ot,A},A.thresholds=function(et){return arguments.length?(p=typeof et=="function"?et:Array.isArray(et)?mh(By.call(et)):mh(et),A):p},A.smooth=function(et){return arguments.length?(w=et?G:Oc,A):w===G},A}function Ny(t){return t[0]}function t1(t){return t[1]}function Sf(){return 1}function Py(){var t=Ny,i=t1,p=Sf,w=960,A=500,B=20,Y=2,G=3*B,et=w+2*G>>Y,rt=A+2*G>>Y,Ot=mh(20);function zt(be){var ye=new Float32Array(et*rt),ve=Math.pow(2,-Y),Be=-1;for(const Fe of be){var Ne=(t(Fe,++Be,be)+G)*ve,pn=(i(Fe,Be,be)+G)*ve,On=+p(Fe,Be,be);if(Ne>=0&&Ne<et&&pn>=0&&pn<rt){var nn=Math.floor(Ne),Je=Math.floor(pn),Qe=Ne-nn-.5,tn=pn-Je-.5;ye[nn+Je*et]+=(1-Qe)*(1-tn)*On,ye[nn+1+Je*et]+=Qe*(1-tn)*On,ye[nn+1+(Je+1)*et]+=Qe*tn*On,ye[nn+(Je+1)*et]+=(1-Qe)*tn*On}}return M({data:ye,width:et,height:rt},B*ve),ye}function It(be){var ye=zt(be),ve=Ot(ye),Be=Math.pow(2,2*Y);return Array.isArray(ve)||(ve=Ht(Number.MIN_VALUE,De(ye)/Be,ve)),Yg().size([et,rt]).thresholds(ve.map(Ne=>Ne*Be))(ye).map((Ne,pn)=>(Ne.value=+ve[pn],Gt(Ne)))}function Gt(be){return be.coordinates.forEach(fe),be}function fe(be){be.forEach(oe)}function oe(be){be.forEach(ae)}function ae(be){be[0]=be[0]*Math.pow(2,Y)-G,be[1]=be[1]*Math.pow(2,Y)-G}function de(){return et=w+2*(G=3*B)>>Y,rt=A+2*G>>Y,It}return It.contours=function(be){var ye=zt(be),ve=Yg().size([et,rt]),Be=Math.pow(2,2*Y),Ne=pn=>{pn=+pn;var On=Gt(ve.contour(ye,pn*Be));return On.value=pn,On};return Object.defineProperty(Ne,"max",{get:()=>De(ye)/Be}),Ne},It.x=function(be){return arguments.length?(t=typeof be=="function"?be:mh(+be),It):t},It.y=function(be){return arguments.length?(i=typeof be=="function"?be:mh(+be),It):i},It.weight=function(be){return arguments.length?(p=typeof be=="function"?be:mh(+be),It):p},It.size=function(be){if(!arguments.length)return[w,A];var ye=+be[0],ve=+be[1];if(!(ye>=0&&ve>=0))throw new Error("invalid size");return w=ye,A=ve,de()},It.cellSize=function(be){if(!arguments.length)return 1<<Y;if(!((be=+be)>=1))throw new Error("invalid cell size");return Y=Math.floor(Math.log(be)/Math.LN2),de()},It.thresholds=function(be){return arguments.length?(Ot=typeof be=="function"?be:Array.isArray(be)?mh(By.call(be)):mh(be),It):Ot},It.bandwidth=function(be){if(!arguments.length)return Math.sqrt(B*(B+1));if(!((be=+be)>=0))throw new Error("invalid bandwidth");return B=(Math.sqrt(4*be*be+1)-1)/2,de()},It}const Gs=134217729;function Vg(t,i,p,w,A){let B,Y,G,et,rt=i[0],Ot=w[0],zt=0,It=0;Ot>rt==Ot>-rt?(B=rt,rt=i[++zt]):(B=Ot,Ot=w[++It]);let Gt=0;if(zt<t&&It<p)for(Ot>rt==Ot>-rt?(Y=rt+B,G=B-(Y-rt),rt=i[++zt]):(Y=Ot+B,G=B-(Y-Ot),Ot=w[++It]),B=Y,G!==0&&(A[Gt++]=G);zt<t&&It<p;)Ot>rt==Ot>-rt?(Y=B+rt,et=Y-B,G=B-(Y-et)+(rt-et),rt=i[++zt]):(Y=B+Ot,et=Y-B,G=B-(Y-et)+(Ot-et),Ot=w[++It]),B=Y,G!==0&&(A[Gt++]=G);for(;zt<t;)Y=B+rt,et=Y-B,G=B-(Y-et)+(rt-et),rt=i[++zt],B=Y,G!==0&&(A[Gt++]=G);for(;It<p;)Y=B+Ot,et=Y-B,G=B-(Y-et)+(Ot-et),Ot=w[++It],B=Y,G!==0&&(A[Gt++]=G);return B===0&&Gt!==0||(A[Gt++]=B),Gt}function Ef(t){return new Float64Array(t)}const tl=Ef(4),Md=Ef(8),Ry=Ef(12),Wg=Ef(16),oc=Ef(4);function Ld(t,i,p,w,A,B){const Y=(i-B)*(p-A),G=(t-A)*(w-B),et=Y-G;if(Y===0||G===0||Y>0!=G>0)return et;const rt=Math.abs(Y+G);return Math.abs(et)>=33306690738754716e-32*rt?et:-function(Ot,zt,It,Gt,fe,oe,ae){let de,be,ye,ve,Be,Ne,pn,On,nn,Je,Qe,tn,Fe,Ze,hn,_n,Pn,Jn;const or=Ot-fe,yr=It-fe,ar=zt-oe,ri=Gt-oe;Ze=or*ri,Ne=Gs*or,pn=Ne-(Ne-or),On=or-pn,Ne=Gs*ri,nn=Ne-(Ne-ri),Je=ri-nn,hn=On*Je-(Ze-pn*nn-On*nn-pn*Je),_n=ar*yr,Ne=Gs*ar,pn=Ne-(Ne-ar),On=ar-pn,Ne=Gs*yr,nn=Ne-(Ne-yr),Je=yr-nn,Pn=On*Je-(_n-pn*nn-On*nn-pn*Je),Qe=hn-Pn,Be=hn-Qe,tl[0]=hn-(Qe+Be)+(Be-Pn),tn=Ze+Qe,Be=tn-Ze,Fe=Ze-(tn-Be)+(Qe-Be),Qe=Fe-_n,Be=Fe-Qe,tl[1]=Fe-(Qe+Be)+(Be-_n),Jn=tn+Qe,Be=Jn-tn,tl[2]=tn-(Jn-Be)+(Qe-Be),tl[3]=Jn;let si=function(eh,Mg){let uf=Mg[0];for(let hb=1;hb<4;hb++)uf+=Mg[hb];return uf}(0,tl),Gr=22204460492503146e-32*ae;if(si>=Gr||-si>=Gr||(Be=Ot-or,de=Ot-(or+Be)+(Be-fe),Be=It-yr,ye=It-(yr+Be)+(Be-fe),Be=zt-ar,be=zt-(ar+Be)+(Be-oe),Be=Gt-ri,ve=Gt-(ri+Be)+(Be-oe),de===0&&be===0&&ye===0&&ve===0)||(Gr=11093356479670487e-47*ae+33306690738754706e-32*Math.abs(si),si+=or*ve+ri*de-(ar*ye+yr*be),si>=Gr||-si>=Gr))return si;Ze=de*ri,Ne=Gs*de,pn=Ne-(Ne-de),On=de-pn,Ne=Gs*ri,nn=Ne-(Ne-ri),Je=ri-nn,hn=On*Je-(Ze-pn*nn-On*nn-pn*Je),_n=be*yr,Ne=Gs*be,pn=Ne-(Ne-be),On=be-pn,Ne=Gs*yr,nn=Ne-(Ne-yr),Je=yr-nn,Pn=On*Je-(_n-pn*nn-On*nn-pn*Je),Qe=hn-Pn,Be=hn-Qe,oc[0]=hn-(Qe+Be)+(Be-Pn),tn=Ze+Qe,Be=tn-Ze,Fe=Ze-(tn-Be)+(Qe-Be),Qe=Fe-_n,Be=Fe-Qe,oc[1]=Fe-(Qe+Be)+(Be-_n),Jn=tn+Qe,Be=Jn-tn,oc[2]=tn-(Jn-Be)+(Qe-Be),oc[3]=Jn;const Kr=Vg(4,tl,4,oc,Md);Ze=or*ve,Ne=Gs*or,pn=Ne-(Ne-or),On=or-pn,Ne=Gs*ve,nn=Ne-(Ne-ve),Je=ve-nn,hn=On*Je-(Ze-pn*nn-On*nn-pn*Je),_n=ar*ye,Ne=Gs*ar,pn=Ne-(Ne-ar),On=ar-pn,Ne=Gs*ye,nn=Ne-(Ne-ye),Je=ye-nn,Pn=On*Je-(_n-pn*nn-On*nn-pn*Je),Qe=hn-Pn,Be=hn-Qe,oc[0]=hn-(Qe+Be)+(Be-Pn),tn=Ze+Qe,Be=tn-Ze,Fe=Ze-(tn-Be)+(Qe-Be),Qe=Fe-_n,Be=Fe-Qe,oc[1]=Fe-(Qe+Be)+(Be-_n),Jn=tn+Qe,Be=Jn-tn,oc[2]=tn-(Jn-Be)+(Qe-Be),oc[3]=Jn;const jo=Vg(Kr,Md,4,oc,Ry);Ze=de*ve,Ne=Gs*de,pn=Ne-(Ne-de),On=de-pn,Ne=Gs*ve,nn=Ne-(Ne-ve),Je=ve-nn,hn=On*Je-(Ze-pn*nn-On*nn-pn*Je),_n=be*ye,Ne=Gs*be,pn=Ne-(Ne-be),On=be-pn,Ne=Gs*ye,nn=Ne-(Ne-ye),Je=ye-nn,Pn=On*Je-(_n-pn*nn-On*nn-pn*Je),Qe=hn-Pn,Be=hn-Qe,oc[0]=hn-(Qe+Be)+(Be-Pn),tn=Ze+Qe,Be=tn-Ze,Fe=Ze-(tn-Be)+(Qe-Be),Qe=Fe-_n,Be=Fe-Qe,oc[1]=Fe-(Qe+Be)+(Be-_n),Jn=tn+Qe,Be=Jn-tn,oc[2]=tn-(Jn-Be)+(Qe-Be),oc[3]=Jn;const eo=Vg(jo,Ry,4,oc,Wg);return Wg[eo-1]}(t,i,p,w,A,B,rt)}const Gg=Math.pow(2,-52),Bd=new Uint32Array(512);class Yh{static from(i,p=Nu,w=Fy){const A=i.length,B=new Float64Array(2*A);for(let Y=0;Y<A;Y++){const G=i[Y];B[2*Y]=p(G),B[2*Y+1]=w(G)}return new Yh(B)}constructor(i){const p=i.length>>1;if(p>0&&typeof i[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=i;const w=Math.max(2*p-5,0);this._triangles=new Uint32Array(3*w),this._halfedges=new Int32Array(3*w),this._hashSize=Math.ceil(Math.sqrt(p)),this._hullPrev=new Uint32Array(p),this._hullNext=new Uint32Array(p),this._hullTri=new Uint32Array(p),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(p),this._dists=new Float64Array(p),this.update()}update(){const{coords:i,_hullPrev:p,_hullNext:w,_hullTri:A,_hullHash:B}=this,Y=i.length>>1;let G=1/0,et=1/0,rt=-1/0,Ot=-1/0;for(let Je=0;Je<Y;Je++){const Qe=i[2*Je],tn=i[2*Je+1];Qe<G&&(G=Qe),tn<et&&(et=tn),Qe>rt&&(rt=Qe),tn>Ot&&(Ot=tn),this._ids[Je]=Je}const zt=(G+rt)/2,It=(et+Ot)/2;let Gt,fe,oe,ae=1/0;for(let Je=0;Je<Y;Je++){const Qe=Tf(zt,It,i[2*Je],i[2*Je+1]);Qe<ae&&(Gt=Je,ae=Qe)}const de=i[2*Gt],be=i[2*Gt+1];ae=1/0;for(let Je=0;Je<Y;Je++){if(Je===Gt)continue;const Qe=Tf(de,be,i[2*Je],i[2*Je+1]);Qe<ae&&Qe>0&&(fe=Je,ae=Qe)}let ye=i[2*fe],ve=i[2*fe+1],Be=1/0;for(let Je=0;Je<Y;Je++){if(Je===Gt||Je===fe)continue;const Qe=Dy(de,be,ye,ve,i[2*Je],i[2*Je+1]);Qe<Be&&(oe=Je,Be=Qe)}let Ne=i[2*oe],pn=i[2*oe+1];if(Be===1/0){for(let tn=0;tn<Y;tn++)this._dists[tn]=i[2*tn]-i[0]||i[2*tn+1]-i[1];yh(this._ids,this._dists,0,Y-1);const Je=new Uint32Array(Y);let Qe=0;for(let tn=0,Fe=-1/0;tn<Y;tn++){const Ze=this._ids[tn];this._dists[Ze]>Fe&&(Je[Qe++]=Ze,Fe=this._dists[Ze])}return this.hull=Je.subarray(0,Qe),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(Ld(de,be,ye,ve,Ne,pn)<0){const Je=fe,Qe=ye,tn=ve;fe=oe,ye=Ne,ve=pn,oe=Je,Ne=Qe,pn=tn}const On=function(Je,Qe,tn,Fe,Ze,hn){const _n=tn-Je,Pn=Fe-Qe,Jn=Ze-Je,or=hn-Qe,yr=_n*_n+Pn*Pn,ar=Jn*Jn+or*or,ri=.5/(_n*or-Pn*Jn);return{x:Je+(or*yr-Pn*ar)*ri,y:Qe+(_n*ar-Jn*yr)*ri}}(de,be,ye,ve,Ne,pn);this._cx=On.x,this._cy=On.y;for(let Je=0;Je<Y;Je++)this._dists[Je]=Tf(i[2*Je],i[2*Je+1],On.x,On.y);yh(this._ids,this._dists,0,Y-1),this._hullStart=Gt;let nn=3;w[Gt]=p[oe]=fe,w[fe]=p[Gt]=oe,w[oe]=p[fe]=Gt,A[Gt]=0,A[fe]=1,A[oe]=2,B.fill(-1),B[this._hashKey(de,be)]=Gt,B[this._hashKey(ye,ve)]=fe,B[this._hashKey(Ne,pn)]=oe,this.trianglesLen=0,this._addTriangle(Gt,fe,oe,-1,-1,-1);for(let Je,Qe,tn=0;tn<this._ids.length;tn++){const Fe=this._ids[tn],Ze=i[2*Fe],hn=i[2*Fe+1];if(tn>0&&Math.abs(Ze-Je)<=Gg&&Math.abs(hn-Qe)<=Gg||(Je=Ze,Qe=hn,Fe===Gt||Fe===fe||Fe===oe))continue;let _n=0;for(let ar=0,ri=this._hashKey(Ze,hn);ar<this._hashSize&&(_n=B[(ri+ar)%this._hashSize],_n===-1||_n===w[_n]);ar++);_n=p[_n];let Pn,Jn=_n;for(;Pn=w[Jn],Ld(Ze,hn,i[2*Jn],i[2*Jn+1],i[2*Pn],i[2*Pn+1])>=0;)if(Jn=Pn,Jn===_n){Jn=-1;break}if(Jn===-1)continue;let or=this._addTriangle(Jn,Fe,w[Jn],-1,-1,A[Jn]);A[Fe]=this._legalize(or+2),A[Jn]=or,nn++;let yr=w[Jn];for(;Pn=w[yr],Ld(Ze,hn,i[2*yr],i[2*yr+1],i[2*Pn],i[2*Pn+1])<0;)or=this._addTriangle(yr,Fe,Pn,A[Fe],-1,A[yr]),A[Fe]=this._legalize(or+2),w[yr]=yr,nn--,yr=Pn;if(Jn===_n)for(;Pn=p[Jn],Ld(Ze,hn,i[2*Pn],i[2*Pn+1],i[2*Jn],i[2*Jn+1])<0;)or=this._addTriangle(Pn,Fe,Jn,-1,A[Jn],A[Pn]),this._legalize(or+2),A[Pn]=or,w[Jn]=Jn,nn--,Jn=Pn;this._hullStart=p[Fe]=Jn,w[Jn]=p[yr]=Fe,w[Fe]=yr,B[this._hashKey(Ze,hn)]=Fe,B[this._hashKey(i[2*Jn],i[2*Jn+1])]=Jn}this.hull=new Uint32Array(nn);for(let Je=0,Qe=this._hullStart;Je<nn;Je++)this.hull[Je]=Qe,Qe=w[Qe];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(i,p){return Math.floor(function(w,A){const B=w/(Math.abs(w)+Math.abs(A));return(A>0?3-B:1+B)/4}(i-this._cx,p-this._cy)*this._hashSize)%this._hashSize}_legalize(i){const{_triangles:p,_halfedges:w,coords:A}=this;let B=0,Y=0;for(;;){const G=w[i],et=i-i%3;if(Y=et+(i+2)%3,G===-1){if(B===0)break;i=Bd[--B];continue}const rt=G-G%3,Ot=et+(i+1)%3,zt=rt+(G+2)%3,It=p[Y],Gt=p[i],fe=p[Ot],oe=p[zt];if(Lb(A[2*It],A[2*It+1],A[2*Gt],A[2*Gt+1],A[2*fe],A[2*fe+1],A[2*oe],A[2*oe+1])){p[i]=oe,p[G]=It;const ae=w[zt];if(ae===-1){let be=this._hullStart;do{if(this._hullTri[be]===zt){this._hullTri[be]=i;break}be=this._hullPrev[be]}while(be!==this._hullStart)}this._link(i,ae),this._link(G,w[Y]),this._link(Y,zt);const de=rt+(G+1)%3;B<Bd.length&&(Bd[B++]=de)}else{if(B===0)break;i=Bd[--B]}}return Y}_link(i,p){this._halfedges[i]=p,p!==-1&&(this._halfedges[p]=i)}_addTriangle(i,p,w,A,B,Y){const G=this.trianglesLen;return this._triangles[G]=i,this._triangles[G+1]=p,this._triangles[G+2]=w,this._link(G,A),this._link(G+1,B),this._link(G+2,Y),this.trianglesLen+=3,G}}function Tf(t,i,p,w){const A=t-p,B=i-w;return A*A+B*B}function Lb(t,i,p,w,A,B,Y,G){const et=t-Y,rt=i-G,Ot=p-Y,zt=w-G,It=A-Y,Gt=B-G,fe=Ot*Ot+zt*zt,oe=It*It+Gt*Gt;return et*(zt*oe-fe*Gt)-rt*(Ot*oe-fe*It)+(et*et+rt*rt)*(Ot*Gt-zt*It)<0}function Dy(t,i,p,w,A,B){const Y=p-t,G=w-i,et=A-t,rt=B-i,Ot=Y*Y+G*G,zt=et*et+rt*rt,It=.5/(Y*rt-G*et),Gt=(rt*Ot-G*zt)*It,fe=(Y*zt-et*Ot)*It;return Gt*Gt+fe*fe}function yh(t,i,p,w){if(w-p<=20)for(let A=p+1;A<=w;A++){const B=t[A],Y=i[B];let G=A-1;for(;G>=p&&i[t[G]]>Y;)t[G+1]=t[G--];t[G+1]=B}else{let A=p+1,B=w;pa(t,p+w>>1,A),i[t[p]]>i[t[w]]&&pa(t,p,w),i[t[A]]>i[t[w]]&&pa(t,A,w),i[t[p]]>i[t[A]]&&pa(t,p,A);const Y=t[A],G=i[Y];for(;;){do A++;while(i[t[A]]<G);do B--;while(i[t[B]]>G);if(B<A)break;pa(t,A,B)}t[p+1]=t[B],t[B]=Y,w-A+1>=B-p?(yh(t,i,A,w),yh(t,i,p,B-1)):(yh(t,i,p,B-1),yh(t,i,A,w))}}function pa(t,i,p){const w=t[i];t[i]=t[p],t[p]=w}function Nu(t){return t[0]}function Fy(t){return t[1]}const Xs=1e-6;class Mc{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(i,p){this._+=`M${this._x0=this._x1=+i},${this._y0=this._y1=+p}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(i,p){this._+=`L${this._x1=+i},${this._y1=+p}`}arc(i,p,w){const A=(i=+i)+(w=+w),B=p=+p;if(w<0)throw new Error("negative radius");this._x1===null?this._+=`M${A},${B}`:(Math.abs(this._x1-A)>Xs||Math.abs(this._y1-B)>Xs)&&(this._+="L"+A+","+B),w&&(this._+=`A${w},${w},0,1,1,${i-w},${p}A${w},${w},0,1,1,${this._x1=A},${this._y1=B}`)}rect(i,p,w,A){this._+=`M${this._x0=this._x1=+i},${this._y0=this._y1=+p}h${+w}v${+A}h${-w}Z`}value(){return this._||null}}class e1{constructor(){this._=[]}moveTo(i,p){this._.push([i,p])}closePath(){this._.push(this._[0].slice())}lineTo(i,p){this._.push([i,p])}value(){return this._.length?this._:null}}class Af{constructor(i,[p,w,A,B]=[0,0,960,500]){if(!((A=+A)>=(p=+p)&&(B=+B)>=(w=+w)))throw new Error("invalid bounds");this.delaunay=i,this._circumcenters=new Float64Array(2*i.points.length),this.vectors=new Float64Array(2*i.points.length),this.xmax=A,this.xmin=p,this.ymax=B,this.ymin=w,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:i,hull:p,triangles:w},vectors:A}=this,B=this.circumcenters=this._circumcenters.subarray(0,w.length/3*2);for(let Gt,fe,oe=0,ae=0,de=w.length;oe<de;oe+=3,ae+=2){const be=2*w[oe],ye=2*w[oe+1],ve=2*w[oe+2],Be=i[be],Ne=i[be+1],pn=i[ye],On=i[ye+1],nn=i[ve],Je=i[ve+1],Qe=pn-Be,tn=On-Ne,Fe=nn-Be,Ze=Je-Ne,hn=2*(Qe*Ze-tn*Fe);if(Math.abs(hn)<1e-9){let _n=1e9;const Pn=2*w[0];_n*=Math.sign((i[Pn]-Be)*Ze-(i[Pn+1]-Ne)*Fe),Gt=(Be+nn)/2-_n*Ze,fe=(Ne+Je)/2+_n*Fe}else{const _n=1/hn,Pn=Qe*Qe+tn*tn,Jn=Fe*Fe+Ze*Ze;Gt=Be+(Ze*Pn-tn*Jn)*_n,fe=Ne+(Qe*Jn-Fe*Pn)*_n}B[ae]=Gt,B[ae+1]=fe}let Y,G,et,rt=p[p.length-1],Ot=4*rt,zt=i[2*rt],It=i[2*rt+1];A.fill(0);for(let Gt=0;Gt<p.length;++Gt)rt=p[Gt],Y=Ot,G=zt,et=It,Ot=4*rt,zt=i[2*rt],It=i[2*rt+1],A[Y+2]=A[Ot]=et-It,A[Y+3]=A[Ot+1]=zt-G}render(i){const p=i==null?i=new Mc:void 0,{delaunay:{halfedges:w,inedges:A,hull:B},circumcenters:Y,vectors:G}=this;if(B.length<=1)return null;for(let Ot=0,zt=w.length;Ot<zt;++Ot){const It=w[Ot];if(It<Ot)continue;const Gt=2*Math.floor(Ot/3),fe=2*Math.floor(It/3),oe=Y[Gt],ae=Y[Gt+1],de=Y[fe],be=Y[fe+1];this._renderSegment(oe,ae,de,be,i)}let et,rt=B[B.length-1];for(let Ot=0;Ot<B.length;++Ot){et=rt,rt=B[Ot];const zt=2*Math.floor(A[rt]/3),It=Y[zt],Gt=Y[zt+1],fe=4*et,oe=this._project(It,Gt,G[fe+2],G[fe+3]);oe&&this._renderSegment(It,Gt,oe[0],oe[1],i)}return p&&p.value()}renderBounds(i){const p=i==null?i=new Mc:void 0;return i.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),p&&p.value()}renderCell(i,p){const w=p==null?p=new Mc:void 0,A=this._clip(i);if(A===null||!A.length)return;p.moveTo(A[0],A[1]);let B=A.length;for(;A[0]===A[B-2]&&A[1]===A[B-1]&&B>1;)B-=2;for(let Y=2;Y<B;Y+=2)A[Y]===A[Y-2]&&A[Y+1]===A[Y-1]||p.lineTo(A[Y],A[Y+1]);return p.closePath(),w&&w.value()}*cellPolygons(){const{delaunay:{points:i}}=this;for(let p=0,w=i.length/2;p<w;++p){const A=this.cellPolygon(p);A&&(A.index=p,yield A)}}cellPolygon(i){const p=new e1;return this.renderCell(i,p),p.value()}_renderSegment(i,p,w,A,B){let Y;const G=this._regioncode(i,p),et=this._regioncode(w,A);G===0&&et===0?(B.moveTo(i,p),B.lineTo(w,A)):(Y=this._clipSegment(i,p,w,A,G,et))&&(B.moveTo(Y[0],Y[1]),B.lineTo(Y[2],Y[3]))}contains(i,p,w){return(p=+p)==p&&(w=+w)==w&&this.delaunay._step(i,p,w)===i}*neighbors(i){const p=this._clip(i);if(p)for(const w of this.delaunay.neighbors(i)){const A=this._clip(w);if(A){t:for(let B=0,Y=p.length;B<Y;B+=2)for(let G=0,et=A.length;G<et;G+=2)if(p[B]==A[G]&&p[B+1]==A[G+1]&&p[(B+2)%Y]==A[(G+et-2)%et]&&p[(B+3)%Y]==A[(G+et-1)%et]){yield w;break t}}}}_cell(i){const{circumcenters:p,delaunay:{inedges:w,halfedges:A,triangles:B}}=this,Y=w[i];if(Y===-1)return null;const G=[];let et=Y;do{const rt=Math.floor(et/3);if(G.push(p[2*rt],p[2*rt+1]),et=et%3==2?et-2:et+1,B[et]!==i)break;et=A[et]}while(et!==Y&&et!==-1);return G}_clip(i){if(i===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const p=this._cell(i);if(p===null)return null;const{vectors:w}=this,A=4*i;return w[A]||w[A+1]?this._clipInfinite(i,p,w[A],w[A+1],w[A+2],w[A+3]):this._clipFinite(i,p)}_clipFinite(i,p){const w=p.length;let A,B,Y,G,et=null,rt=p[w-2],Ot=p[w-1],zt=this._regioncode(rt,Ot),It=0;for(let Gt=0;Gt<w;Gt+=2)if(A=rt,B=Ot,rt=p[Gt],Ot=p[Gt+1],Y=zt,zt=this._regioncode(rt,Ot),Y===0&&zt===0)G=It,It=0,et?et.push(rt,Ot):et=[rt,Ot];else{let fe,oe,ae,de,be;if(Y===0){if((fe=this._clipSegment(A,B,rt,Ot,Y,zt))===null)continue;[oe,ae,de,be]=fe}else{if((fe=this._clipSegment(rt,Ot,A,B,zt,Y))===null)continue;[de,be,oe,ae]=fe,G=It,It=this._edgecode(oe,ae),G&&It&&this._edge(i,G,It,et,et.length),et?et.push(oe,ae):et=[oe,ae]}G=It,It=this._edgecode(de,be),G&&It&&this._edge(i,G,It,et,et.length),et?et.push(de,be):et=[de,be]}if(et)G=It,It=this._edgecode(et[0],et[1]),G&&It&&this._edge(i,G,It,et,et.length);else if(this.contains(i,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return et}_clipSegment(i,p,w,A,B,Y){for(;;){if(B===0&&Y===0)return[i,p,w,A];if(B&Y)return null;let G,et,rt=B||Y;8&rt?(G=i+(w-i)*(this.ymax-p)/(A-p),et=this.ymax):4&rt?(G=i+(w-i)*(this.ymin-p)/(A-p),et=this.ymin):2&rt?(et=p+(A-p)*(this.xmax-i)/(w-i),G=this.xmax):(et=p+(A-p)*(this.xmin-i)/(w-i),G=this.xmin),B?(i=G,p=et,B=this._regioncode(i,p)):(w=G,A=et,Y=this._regioncode(w,A))}}_clipInfinite(i,p,w,A,B,Y){let G,et=Array.from(p);if((G=this._project(et[0],et[1],w,A))&&et.unshift(G[0],G[1]),(G=this._project(et[et.length-2],et[et.length-1],B,Y))&&et.push(G[0],G[1]),et=this._clipFinite(i,et))for(let rt,Ot=0,zt=et.length,It=this._edgecode(et[zt-2],et[zt-1]);Ot<zt;Ot+=2)rt=It,It=this._edgecode(et[Ot],et[Ot+1]),rt&&It&&(Ot=this._edge(i,rt,It,et,Ot),zt=et.length);else this.contains(i,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(et=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return et}_edge(i,p,w,A,B){for(;p!==w;){let Y,G;switch(p){case 5:p=4;continue;case 4:p=6,Y=this.xmax,G=this.ymin;break;case 6:p=2;continue;case 2:p=10,Y=this.xmax,G=this.ymax;break;case 10:p=8;continue;case 8:p=9,Y=this.xmin,G=this.ymax;break;case 9:p=1;continue;case 1:p=5,Y=this.xmin,G=this.ymin}A[B]===Y&&A[B+1]===G||!this.contains(i,Y,G)||(A.splice(B,0,Y,G),B+=2)}if(A.length>4)for(let Y=0;Y<A.length;Y+=2){const G=(Y+2)%A.length,et=(Y+4)%A.length;(A[Y]===A[G]&&A[G]===A[et]||A[Y+1]===A[G+1]&&A[G+1]===A[et+1])&&(A.splice(G,2),Y-=2)}return B}_project(i,p,w,A){let B,Y,G,et=1/0;if(A<0){if(p<=this.ymin)return null;(B=(this.ymin-p)/A)<et&&(G=this.ymin,Y=i+(et=B)*w)}else if(A>0){if(p>=this.ymax)return null;(B=(this.ymax-p)/A)<et&&(G=this.ymax,Y=i+(et=B)*w)}if(w>0){if(i>=this.xmax)return null;(B=(this.xmax-i)/w)<et&&(Y=this.xmax,G=p+(et=B)*A)}else if(w<0){if(i<=this.xmin)return null;(B=(this.xmin-i)/w)<et&&(Y=this.xmin,G=p+(et=B)*A)}return[Y,G]}_edgecode(i,p){return(i===this.xmin?1:i===this.xmax?2:0)|(p===this.ymin?4:p===this.ymax?8:0)}_regioncode(i,p){return(i<this.xmin?1:i>this.xmax?2:0)|(p<this.ymin?4:p>this.ymax?8:0)}}const Xg=2*Math.PI,Vh=Math.pow;function Lc(t){return t[0]}function Bb(t){return t[1]}function vh(t,i,p){return[t+Math.sin(t+i)*p,i+Math.cos(t-i)*p]}class Np{static from(i,p=Lc,w=Bb,A){return new Np("length"in i?function(B,Y,G,et){const rt=B.length,Ot=new Float64Array(2*rt);for(let zt=0;zt<rt;++zt){const It=B[zt];Ot[2*zt]=Y.call(et,It,zt,B),Ot[2*zt+1]=G.call(et,It,zt,B)}return Ot}(i,p,w,A):Float64Array.from(function*(B,Y,G,et){let rt=0;for(const Ot of B)yield Y.call(et,Ot,rt,B),yield G.call(et,Ot,rt,B),++rt}(i,p,w,A)))}constructor(i){this._delaunator=new Yh(i),this.inedges=new Int32Array(i.length/2),this._hullIndex=new Int32Array(i.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const i=this._delaunator,p=this.points;if(i.hull&&i.hull.length>2&&function(et){const{triangles:rt,coords:Ot}=et;for(let zt=0;zt<rt.length;zt+=3){const It=2*rt[zt],Gt=2*rt[zt+1],fe=2*rt[zt+2];if((Ot[fe]-Ot[It])*(Ot[Gt+1]-Ot[It+1])-(Ot[Gt]-Ot[It])*(Ot[fe+1]-Ot[It+1])>1e-10)return!1}return!0}(i)){this.collinear=Int32Array.from({length:p.length/2},(It,Gt)=>Gt).sort((It,Gt)=>p[2*It]-p[2*Gt]||p[2*It+1]-p[2*Gt+1]);const et=this.collinear[0],rt=this.collinear[this.collinear.length-1],Ot=[p[2*et],p[2*et+1],p[2*rt],p[2*rt+1]],zt=1e-8*Math.hypot(Ot[3]-Ot[1],Ot[2]-Ot[0]);for(let It=0,Gt=p.length/2;It<Gt;++It){const fe=vh(p[2*It],p[2*It+1],zt);p[2*It]=fe[0],p[2*It+1]=fe[1]}this._delaunator=new Yh(p)}else delete this.collinear;const w=this.halfedges=this._delaunator.halfedges,A=this.hull=this._delaunator.hull,B=this.triangles=this._delaunator.triangles,Y=this.inedges.fill(-1),G=this._hullIndex.fill(-1);for(let et=0,rt=w.length;et<rt;++et){const Ot=B[et%3==2?et-2:et+1];w[et]!==-1&&Y[Ot]!==-1||(Y[Ot]=et)}for(let et=0,rt=A.length;et<rt;++et)G[A[et]]=et;A.length<=2&&A.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=A[0],Y[A[0]]=1,A.length===2&&(Y[A[1]]=0,this.triangles[1]=A[1],this.triangles[2]=A[1]))}voronoi(i){return new Af(this,i)}*neighbors(i){const{inedges:p,hull:w,_hullIndex:A,halfedges:B,triangles:Y,collinear:G}=this;if(G){const zt=G.indexOf(i);return zt>0&&(yield G[zt-1]),void(zt<G.length-1&&(yield G[zt+1]))}const et=p[i];if(et===-1)return;let rt=et,Ot=-1;do{if(yield Ot=Y[rt],rt=rt%3==2?rt-2:rt+1,Y[rt]!==i)return;if(rt=B[rt],rt===-1){const zt=w[(A[i]+1)%w.length];return void(zt!==Ot&&(yield zt))}}while(rt!==et)}find(i,p,w=0){if((i=+i)!=i||(p=+p)!=p)return-1;const A=w;let B;for(;(B=this._step(w,i,p))>=0&&B!==w&&B!==A;)w=B;return B}_step(i,p,w){const{inedges:A,hull:B,_hullIndex:Y,halfedges:G,triangles:et,points:rt}=this;if(A[i]===-1||!rt.length)return(i+1)%(rt.length>>1);let Ot=i,zt=Vh(p-rt[2*i],2)+Vh(w-rt[2*i+1],2);const It=A[i];let Gt=It;do{let fe=et[Gt];const oe=Vh(p-rt[2*fe],2)+Vh(w-rt[2*fe+1],2);if(oe<zt&&(zt=oe,Ot=fe),Gt=Gt%3==2?Gt-2:Gt+1,et[Gt]!==i)break;if(Gt=G[Gt],Gt===-1){if(Gt=B[(Y[i]+1)%B.length],Gt!==fe&&Vh(p-rt[2*Gt],2)+Vh(w-rt[2*Gt+1],2)<zt)return Gt;break}}while(Gt!==It);return Ot}render(i){const p=i==null?i=new Mc:void 0,{points:w,halfedges:A,triangles:B}=this;for(let Y=0,G=A.length;Y<G;++Y){const et=A[Y];if(et<Y)continue;const rt=2*B[Y],Ot=2*B[et];i.moveTo(w[rt],w[rt+1]),i.lineTo(w[Ot],w[Ot+1])}return this.renderHull(i),p&&p.value()}renderPoints(i,p){p!==void 0||i&&typeof i.moveTo=="function"||(p=i,i=null),p=p==null?2:+p;const w=i==null?i=new Mc:void 0,{points:A}=this;for(let B=0,Y=A.length;B<Y;B+=2){const G=A[B],et=A[B+1];i.moveTo(G+p,et),i.arc(G,et,p,0,Xg)}return w&&w.value()}renderHull(i){const p=i==null?i=new Mc:void 0,{hull:w,points:A}=this,B=2*w[0],Y=w.length;i.moveTo(A[B],A[B+1]);for(let G=1;G<Y;++G){const et=2*w[G];i.lineTo(A[et],A[et+1])}return i.closePath(),p&&p.value()}hullPolygon(){const i=new e1;return this.renderHull(i),i.value()}renderTriangle(i,p){const w=p==null?p=new Mc:void 0,{points:A,triangles:B}=this,Y=2*B[i*=3],G=2*B[i+1],et=2*B[i+2];return p.moveTo(A[Y],A[Y+1]),p.lineTo(A[G],A[G+1]),p.lineTo(A[et],A[et+1]),p.closePath(),w&&w.value()}*trianglePolygons(){const{triangles:i}=this;for(let p=0,w=i.length/3;p<w;++p)yield this.trianglePolygon(p)}trianglePolygon(i){const p=new e1;return this.renderTriangle(i,p),p.value()}}const Of=t=>()=>t;function Mf(t,{sourceEvent:i,subject:p,target:w,identifier:A,active:B,x:Y,y:G,dx:et,dy:rt,dispatch:Ot}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:i,enumerable:!0,configurable:!0},subject:{value:p,enumerable:!0,configurable:!0},target:{value:w,enumerable:!0,configurable:!0},identifier:{value:A,enumerable:!0,configurable:!0},active:{value:B,enumerable:!0,configurable:!0},x:{value:Y,enumerable:!0,configurable:!0},y:{value:G,enumerable:!0,configurable:!0},dx:{value:et,enumerable:!0,configurable:!0},dy:{value:rt,enumerable:!0,configurable:!0},_:{value:Ot}})}function n1(t){return!t.ctrlKey&&!t.button}function Lf(){return this.parentNode}function oi(t,i){return i==null?{x:t.x,y:t.y}:i}function r1(){return navigator.maxTouchPoints||"ontouchstart"in this}function Zg(){var t,i,p,w,A=n1,B=Lf,Y=oi,G=r1,et={},rt=fn("start","drag","end"),Ot=0,zt=0;function It(ve){ve.on("mousedown.drag",Gt).filter(G).on("touchstart.drag",ae).on("touchmove.drag",de,Mi).on("touchend.drag touchcancel.drag",be).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function Gt(ve,Be){if(!w&&A.call(this,ve,Be)){var Ne=ye(this,B.call(this,ve,Be),ve,Be,"mouse");Ne&&(Wi(ve.view).on("mousemove.drag",fe,gt).on("mouseup.drag",oe,gt),Me(ve.view),$t(ve),p=!1,t=ve.clientX,i=ve.clientY,Ne("start",ve))}}function fe(ve){if(ce(ve),!p){var Be=ve.clientX-t,Ne=ve.clientY-i;p=Be*Be+Ne*Ne>zt}et.mouse("drag",ve)}function oe(ve){Wi(ve.view).on("mousemove.drag mouseup.drag",null),cn(ve.view,p),ce(ve),et.mouse("end",ve)}function ae(ve,Be){if(A.call(this,ve,Be)){var Ne,pn,On=ve.changedTouches,nn=B.call(this,ve,Be),Je=On.length;for(Ne=0;Ne<Je;++Ne)(pn=ye(this,nn,ve,Be,On[Ne].identifier,On[Ne]))&&($t(ve),pn("start",ve,On[Ne]))}}function de(ve){var Be,Ne,pn=ve.changedTouches,On=pn.length;for(Be=0;Be<On;++Be)(Ne=et[pn[Be].identifier])&&(ce(ve),Ne("drag",ve,pn[Be]))}function be(ve){var Be,Ne,pn=ve.changedTouches,On=pn.length;for(w&&clearTimeout(w),w=setTimeout(function(){w=null},500),Be=0;Be<On;++Be)(Ne=et[pn[Be].identifier])&&($t(ve),Ne("end",ve,pn[Be]))}function ye(ve,Be,Ne,pn,On,nn){var Je,Qe,tn,Fe=rt.copy(),Ze=_c(nn||Ne,Be);if((tn=Y.call(ve,new Mf("beforestart",{sourceEvent:Ne,target:It,identifier:On,active:Ot,x:Ze[0],y:Ze[1],dx:0,dy:0,dispatch:Fe}),pn))!=null)return Je=tn.x-Ze[0]||0,Qe=tn.y-Ze[1]||0,function hn(_n,Pn,Jn){var or,yr=Ze;switch(_n){case"start":et[On]=hn,or=Ot++;break;case"end":delete et[On],--Ot;case"drag":Ze=_c(Jn||Pn,Be),or=Ot}Fe.call(_n,ve,new Mf(_n,{sourceEvent:Pn,subject:tn,target:It,identifier:On,active:or,x:Ze[0]+Je,y:Ze[1]+Qe,dx:Ze[0]-yr[0],dy:Ze[1]-yr[1],dispatch:Fe}),pn)}}return It.filter=function(ve){return arguments.length?(A=typeof ve=="function"?ve:Of(!!ve),It):A},It.container=function(ve){return arguments.length?(B=typeof ve=="function"?ve:Of(ve),It):B},It.subject=function(ve){return arguments.length?(Y=typeof ve=="function"?ve:Of(ve),It):Y},It.touchable=function(ve){return arguments.length?(G=typeof ve=="function"?ve:Of(!!ve),It):G},It.on=function(){var ve=rt.on.apply(rt,arguments);return ve===rt?It:ve},It.clickDistance=function(ve){return arguments.length?(zt=(ve=+ve)*ve,It):Math.sqrt(zt)},It}Mf.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Wh={},Kg={};function i1(t){return new Function("d","return {"+t.map(function(i,p){return JSON.stringify(i)+": d["+p+'] || ""'}).join(",")+"}")}function Jg(t){var i=Object.create(null),p=[];return t.forEach(function(w){for(var A in w)A in i||p.push(i[A]=A)}),p}function bo(t,i){var p=t+"",w=p.length;return w<i?new Array(i-w+1).join(0)+p:p}function bh(t){var i=new RegExp('["'+t+`
\r]`),p=t.charCodeAt(0);function w(G,et){var rt,Ot=[],zt=G.length,It=0,Gt=0,fe=zt<=0,oe=!1;function ae(){if(fe)return Kg;if(oe)return oe=!1,Wh;var be,ye,ve=It;if(G.charCodeAt(ve)===34){for(;It++<zt&&G.charCodeAt(It)!==34||G.charCodeAt(++It)===34;);return(be=It)>=zt?fe=!0:(ye=G.charCodeAt(It++))===10?oe=!0:ye===13&&(oe=!0,G.charCodeAt(It)===10&&++It),G.slice(ve+1,be-1).replace(/""/g,'"')}for(;It<zt;){if((ye=G.charCodeAt(be=It++))===10)oe=!0;else if(ye===13)oe=!0,G.charCodeAt(It)===10&&++It;else if(ye!==p)continue;return G.slice(ve,be)}return fe=!0,G.slice(ve,zt)}for(G.charCodeAt(zt-1)===10&&--zt,G.charCodeAt(zt-1)===13&&--zt;(rt=ae())!==Kg;){for(var de=[];rt!==Wh&&rt!==Kg;)de.push(rt),rt=ae();et&&(de=et(de,Gt++))==null||Ot.push(de)}return Ot}function A(G,et){return G.map(function(rt){return et.map(function(Ot){return Y(rt[Ot])}).join(t)})}function B(G){return G.map(Y).join(t)}function Y(G){return G==null?"":G instanceof Date?function(et){var rt=et.getUTCHours(),Ot=et.getUTCMinutes(),zt=et.getUTCSeconds(),It=et.getUTCMilliseconds();return isNaN(et)?"Invalid Date":function(Gt){return Gt<0?"-"+bo(-Gt,6):Gt>9999?"+"+bo(Gt,6):bo(Gt,4)}(et.getUTCFullYear())+"-"+bo(et.getUTCMonth()+1,2)+"-"+bo(et.getUTCDate(),2)+(It?"T"+bo(rt,2)+":"+bo(Ot,2)+":"+bo(zt,2)+"."+bo(It,3)+"Z":zt?"T"+bo(rt,2)+":"+bo(Ot,2)+":"+bo(zt,2)+"Z":Ot||rt?"T"+bo(rt,2)+":"+bo(Ot,2)+"Z":"")}(G):i.test(G+="")?'"'+G.replace(/"/g,'""')+'"':G}return{parse:function(G,et){var rt,Ot,zt=w(G,function(It,Gt){if(rt)return rt(It,Gt-1);Ot=It,rt=et?function(fe,oe){var ae=i1(fe);return function(de,be){return oe(ae(de),be,fe)}}(It,et):i1(It)});return zt.columns=Ot||[],zt},parseRows:w,format:function(G,et){return et==null&&(et=Jg(G)),[et.map(Y).join(t)].concat(A(G,et)).join(`
`)},formatBody:function(G,et){return et==null&&(et=Jg(G)),A(G,et).join(`
`)},formatRows:function(G){return G.map(B).join(`
`)},formatRow:B,formatValue:Y}}var Gh=bh(","),Qg=Gh.parse,Pp=Gh.parseRows,Rp=Gh.format,zy=Gh.formatBody,Uy=Gh.formatRows,Hy=Gh.formatRow,zl=Gh.formatValue,ga=bh("	"),Bf=ga.parse,$y=ga.parseRows,o1=ga.format,qy=ga.formatBody,Yy=ga.formatRows,jf=ga.formatRow,tm=ga.formatValue;function em(t){for(var i in t){var p,w,A=t[i].trim();if(A)if(A==="true")A=!0;else if(A==="false")A=!1;else if(A==="NaN")A=NaN;else if(isNaN(p=+A)){if(!(w=A.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;Xh&&w[4]&&!w[7]&&(A=A.replace(/-/g,"/").replace(/T/," ")),A=new Date(A)}else A=p;else A=null;t[i]=A}return t}const Xh=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours(),a1=t=>+t;function s1(t){return t*t}function Vy(t){return t*(2-t)}function di(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}var Dp=function t(i){function p(w){return Math.pow(w,i)}return i=+i,p.exponent=t,p}(3),qi=function t(i){function p(w){return 1-Math.pow(1-w,i)}return i=+i,p.exponent=t,p}(3),ca=function t(i){function p(w){return((w*=2)<=1?Math.pow(w,i):2-Math.pow(2-w,i))/2}return i=+i,p.exponent=t,p}(3),If=Math.PI,cs=If/2;function Mo(t){return+t==1?1:1-Math.cos(t*cs)}function Jr(t){return Math.sin(t*cs)}function Zi(t){return(1-Math.cos(If*t))/2}function ac(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function sc(t){return ac(1-+t)}function Pr(t){return 1-ac(t)}function hu(t){return((t*=2)<=1?ac(1-t):2-ac(t-1))/2}function Wy(t){return 1-Math.sqrt(1-t*t)}function Fp(t){return Math.sqrt(1- --t*t)}function c1(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Nr=7.5625;function Ul(t){return 1-ma(1-t)}function ma(t){return(t=+t)<.36363636363636365?Nr*t*t:t<.7272727272727273?Nr*(t-=.5454545454545454)*t+.75:t<.9090909090909091?Nr*(t-=.8181818181818182)*t+.9375:Nr*(t-=.9545454545454546)*t+.984375}function nm(t){return((t*=2)<=1?1-ma(1-t):ma(t-1)+1)/2}var l1=1.70158,Bc=function t(i){function p(w){return(w=+w)*w*(i*(w-1)+w)}return i=+i,p.overshoot=t,p}(l1),Gy=function t(i){function p(w){return--w*w*((w+1)*i+w)+1}return i=+i,p.overshoot=t,p}(l1),ya=function t(i){function p(w){return((w*=2)<1?w*w*((i+1)*w-i):(w-=2)*w*((i+1)*w+i)+2)/2}return i=+i,p.overshoot=t,p}(l1),xh=2*Math.PI,Xy=function t(i,p){var w=Math.asin(1/(i=Math.max(1,i)))*(p/=xh);function A(B){return i*ac(- --B)*Math.sin((w-B)/p)}return A.amplitude=function(B){return t(B,p*xh)},A.period=function(B){return t(i,B)},A}(1,.3),u1=function t(i,p){var w=Math.asin(1/(i=Math.max(1,i)))*(p/=xh);function A(B){return 1-i*ac(B=+B)*Math.sin((B+w)/p)}return A.amplitude=function(B){return t(B,p*xh)},A.period=function(B){return t(i,B)},A}(1,.3),h1=function t(i,p){var w=Math.asin(1/(i=Math.max(1,i)))*(p/=xh);function A(B){return((B=2*B-1)<0?i*ac(-B)*Math.sin((w-B)/p):2-i*ac(B)*Math.sin((w+B)/p))/2}return A.amplitude=function(B){return t(B,p*xh)},A.period=function(B){return t(i,B)},A}(1,.3);function rm(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function du(t,i){return fetch(t,i).then(rm)}function Zy(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function Ky(t,i){return fetch(t,i).then(Zy)}function d1(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Nf(t,i){return fetch(t,i).then(d1)}function f1(t){return function(i,p,w){return arguments.length===2&&typeof p=="function"&&(w=p,p=void 0),Nf(i,p).then(function(A){return t(A,w)})}}function p1(t,i,p,w){arguments.length===3&&typeof p=="function"&&(w=p,p=void 0);var A=bh(t);return Nf(i,p).then(function(B){return A.parse(B,w)})}var g1=f1(Qg),Pu=f1(Bf);function jb(t,i){return new Promise(function(p,w){var A=new Image;for(var B in i)A[B]=i[B];A.onerror=w,A.onload=function(){p(A)},A.src=t})}function Hl(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(t.status!==204&&t.status!==205)return t.json()}function Ib(t,i){return fetch(t,i).then(Hl)}function m1(t){return(i,p)=>Nf(i,p).then(w=>new DOMParser().parseFromString(w,t))}const Nb=m1("application/xml");var zp=m1("text/html"),jd=m1("image/svg+xml");function y1(t,i){var p,w=1;function A(){var B,Y,G=p.length,et=0,rt=0;for(B=0;B<G;++B)et+=(Y=p[B]).x,rt+=Y.y;for(et=(et/G-t)*w,rt=(rt/G-i)*w,B=0;B<G;++B)(Y=p[B]).x-=et,Y.y-=rt}return t==null&&(t=0),i==null&&(i=0),A.initialize=function(B){p=B},A.x=function(B){return arguments.length?(t=+B,A):t},A.y=function(B){return arguments.length?(i=+B,A):i},A.strength=function(B){return arguments.length?(w=+B,A):w},A}function Id(t,i,p,w){if(isNaN(i)||isNaN(p))return t;var A,B,Y,G,et,rt,Ot,zt,It,Gt=t._root,fe={data:w},oe=t._x0,ae=t._y0,de=t._x1,be=t._y1;if(!Gt)return t._root=fe,t;for(;Gt.length;)if((rt=i>=(B=(oe+de)/2))?oe=B:de=B,(Ot=p>=(Y=(ae+be)/2))?ae=Y:be=Y,A=Gt,!(Gt=Gt[zt=Ot<<1|rt]))return A[zt]=fe,t;if(G=+t._x.call(null,Gt.data),et=+t._y.call(null,Gt.data),i===G&&p===et)return fe.next=Gt,A?A[zt]=fe:t._root=fe,t;do A=A?A[zt]=new Array(4):t._root=new Array(4),(rt=i>=(B=(oe+de)/2))?oe=B:de=B,(Ot=p>=(Y=(ae+be)/2))?ae=Y:be=Y;while((zt=Ot<<1|rt)==(It=(et>=Y)<<1|G>=B));return A[It]=Gt,A[zt]=fe,t}function Zs(t,i,p,w,A){this.node=t,this.x0=i,this.y0=p,this.x1=w,this.y1=A}function Pf(t){return t[0]}function v1(t){return t[1]}function Qo(t,i,p){var w=new cc(i==null?Pf:i,p==null?v1:p,NaN,NaN,NaN,NaN);return t==null?w:w.addAll(t)}function cc(t,i,p,w,A,B){this._x=t,this._y=i,this._x0=p,this._y0=w,this._x1=A,this._y1=B,this._root=void 0}function Oa(t){for(var i={data:t.data},p=i;t=t.next;)p=p.next={data:t.data};return i}var Vo=Qo.prototype=cc.prototype;function la(t){return function(){return t}}function wh(t){return 1e-6*(t()-.5)}function Jy(t){return t.x+t.vx}function Rf(t){return t.y+t.vy}function Zh(t){var i,p,w,A=1,B=1;function Y(){for(var rt,Ot,zt,It,Gt,fe,oe,ae=i.length,de=0;de<B;++de)for(Ot=Qo(i,Jy,Rf).visitAfter(G),rt=0;rt<ae;++rt)zt=i[rt],fe=p[zt.index],oe=fe*fe,It=zt.x+zt.vx,Gt=zt.y+zt.vy,Ot.visit(be);function be(ye,ve,Be,Ne,pn){var On=ye.data,nn=ye.r,Je=fe+nn;if(!On)return ve>It+Je||Ne<It-Je||Be>Gt+Je||pn<Gt-Je;if(On.index>zt.index){var Qe=It-On.x-On.vx,tn=Gt-On.y-On.vy,Fe=Qe*Qe+tn*tn;Fe<Je*Je&&(Qe===0&&(Fe+=(Qe=wh(w))*Qe),tn===0&&(Fe+=(tn=wh(w))*tn),Fe=(Je-(Fe=Math.sqrt(Fe)))/Fe*A,zt.vx+=(Qe*=Fe)*(Je=(nn*=nn)/(oe+nn)),zt.vy+=(tn*=Fe)*Je,On.vx-=Qe*(Je=1-Je),On.vy-=tn*Je)}}}function G(rt){if(rt.data)return rt.r=p[rt.data.index];for(var Ot=rt.r=0;Ot<4;++Ot)rt[Ot]&&rt[Ot].r>rt.r&&(rt.r=rt[Ot].r)}function et(){if(i){var rt,Ot,zt=i.length;for(p=new Array(zt),rt=0;rt<zt;++rt)Ot=i[rt],p[Ot.index]=+t(Ot,rt,i)}}return typeof t!="function"&&(t=la(t==null?1:+t)),Y.initialize=function(rt,Ot){i=rt,w=Ot,et()},Y.iterations=function(rt){return arguments.length?(B=+rt,Y):B},Y.strength=function(rt){return arguments.length?(A=+rt,Y):A},Y.radius=function(rt){return arguments.length?(t=typeof rt=="function"?rt:la(+rt),et(),Y):t},Y}function _h(t){return t.index}function Df(t,i){var p=t.get(i);if(!p)throw new Error("node not found: "+i);return p}function b1(t){var i,p,w,A,B,Y,G=_h,et=function(oe){return 1/Math.min(A[oe.source.index],A[oe.target.index])},rt=la(30),Ot=1;function zt(oe){for(var ae=0,de=t.length;ae<Ot;++ae)for(var be,ye,ve,Be,Ne,pn,On,nn=0;nn<de;++nn)ye=(be=t[nn]).source,Be=(ve=be.target).x+ve.vx-ye.x-ye.vx||wh(Y),Ne=ve.y+ve.vy-ye.y-ye.vy||wh(Y),Be*=pn=((pn=Math.sqrt(Be*Be+Ne*Ne))-p[nn])/pn*oe*i[nn],Ne*=pn,ve.vx-=Be*(On=B[nn]),ve.vy-=Ne*On,ye.vx+=Be*(On=1-On),ye.vy+=Ne*On}function It(){if(w){var oe,ae,de=w.length,be=t.length,ye=new Map(w.map((ve,Be)=>[G(ve,Be,w),ve]));for(oe=0,A=new Array(de);oe<be;++oe)(ae=t[oe]).index=oe,typeof ae.source!="object"&&(ae.source=Df(ye,ae.source)),typeof ae.target!="object"&&(ae.target=Df(ye,ae.target)),A[ae.source.index]=(A[ae.source.index]||0)+1,A[ae.target.index]=(A[ae.target.index]||0)+1;for(oe=0,B=new Array(be);oe<be;++oe)ae=t[oe],B[oe]=A[ae.source.index]/(A[ae.source.index]+A[ae.target.index]);i=new Array(be),Gt(),p=new Array(be),fe()}}function Gt(){if(w)for(var oe=0,ae=t.length;oe<ae;++oe)i[oe]=+et(t[oe],oe,t)}function fe(){if(w)for(var oe=0,ae=t.length;oe<ae;++oe)p[oe]=+rt(t[oe],oe,t)}return t==null&&(t=[]),zt.initialize=function(oe,ae){w=oe,Y=ae,It()},zt.links=function(oe){return arguments.length?(t=oe,It(),zt):t},zt.id=function(oe){return arguments.length?(G=oe,zt):G},zt.iterations=function(oe){return arguments.length?(Ot=+oe,zt):Ot},zt.strength=function(oe){return arguments.length?(et=typeof oe=="function"?oe:la(+oe),Gt(),zt):et},zt.distance=function(oe){return arguments.length?(rt=typeof oe=="function"?oe:la(+oe),fe(),zt):rt},zt}Vo.copy=function(){var t,i,p=new cc(this._x,this._y,this._x0,this._y0,this._x1,this._y1),w=this._root;if(!w)return p;if(!w.length)return p._root=Oa(w),p;for(t=[{source:w,target:p._root=new Array(4)}];w=t.pop();)for(var A=0;A<4;++A)(i=w.source[A])&&(i.length?t.push({source:i,target:w.target[A]=new Array(4)}):w.target[A]=Oa(i));return p},Vo.add=function(t){const i=+this._x.call(null,t),p=+this._y.call(null,t);return Id(this.cover(i,p),i,p,t)},Vo.addAll=function(t){var i,p,w,A,B=t.length,Y=new Array(B),G=new Array(B),et=1/0,rt=1/0,Ot=-1/0,zt=-1/0;for(p=0;p<B;++p)isNaN(w=+this._x.call(null,i=t[p]))||isNaN(A=+this._y.call(null,i))||(Y[p]=w,G[p]=A,w<et&&(et=w),w>Ot&&(Ot=w),A<rt&&(rt=A),A>zt&&(zt=A));if(et>Ot||rt>zt)return this;for(this.cover(et,rt).cover(Ot,zt),p=0;p<B;++p)Id(this,Y[p],G[p],t[p]);return this},Vo.cover=function(t,i){if(isNaN(t=+t)||isNaN(i=+i))return this;var p=this._x0,w=this._y0,A=this._x1,B=this._y1;if(isNaN(p))A=(p=Math.floor(t))+1,B=(w=Math.floor(i))+1;else{for(var Y,G,et=A-p||1,rt=this._root;p>t||t>=A||w>i||i>=B;)switch(G=(i<w)<<1|t<p,(Y=new Array(4))[G]=rt,rt=Y,et*=2,G){case 0:A=p+et,B=w+et;break;case 1:p=A-et,B=w+et;break;case 2:A=p+et,w=B-et;break;case 3:p=A-et,w=B-et}this._root&&this._root.length&&(this._root=rt)}return this._x0=p,this._y0=w,this._x1=A,this._y1=B,this},Vo.data=function(){var t=[];return this.visit(function(i){if(!i.length)do t.push(i.data);while(i=i.next)}),t},Vo.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Vo.find=function(t,i,p){var w,A,B,Y,G,et,rt,Ot=this._x0,zt=this._y0,It=this._x1,Gt=this._y1,fe=[],oe=this._root;for(oe&&fe.push(new Zs(oe,Ot,zt,It,Gt)),p==null?p=1/0:(Ot=t-p,zt=i-p,It=t+p,Gt=i+p,p*=p);et=fe.pop();)if(!(!(oe=et.node)||(A=et.x0)>It||(B=et.y0)>Gt||(Y=et.x1)<Ot||(G=et.y1)<zt))if(oe.length){var ae=(A+Y)/2,de=(B+G)/2;fe.push(new Zs(oe[3],ae,de,Y,G),new Zs(oe[2],A,de,ae,G),new Zs(oe[1],ae,B,Y,de),new Zs(oe[0],A,B,ae,de)),(rt=(i>=de)<<1|t>=ae)&&(et=fe[fe.length-1],fe[fe.length-1]=fe[fe.length-1-rt],fe[fe.length-1-rt]=et)}else{var be=t-+this._x.call(null,oe.data),ye=i-+this._y.call(null,oe.data),ve=be*be+ye*ye;if(ve<p){var Be=Math.sqrt(p=ve);Ot=t-Be,zt=i-Be,It=t+Be,Gt=i+Be,w=oe.data}}return w},Vo.remove=function(t){if(isNaN(B=+this._x.call(null,t))||isNaN(Y=+this._y.call(null,t)))return this;var i,p,w,A,B,Y,G,et,rt,Ot,zt,It,Gt=this._root,fe=this._x0,oe=this._y0,ae=this._x1,de=this._y1;if(!Gt)return this;if(Gt.length)for(;;){if((rt=B>=(G=(fe+ae)/2))?fe=G:ae=G,(Ot=Y>=(et=(oe+de)/2))?oe=et:de=et,i=Gt,!(Gt=Gt[zt=Ot<<1|rt]))return this;if(!Gt.length)break;(i[zt+1&3]||i[zt+2&3]||i[zt+3&3])&&(p=i,It=zt)}for(;Gt.data!==t;)if(w=Gt,!(Gt=Gt.next))return this;return(A=Gt.next)&&delete Gt.next,w?(A?w.next=A:delete w.next,this):i?(A?i[zt]=A:delete i[zt],(Gt=i[0]||i[1]||i[2]||i[3])&&Gt===(i[3]||i[2]||i[1]||i[0])&&!Gt.length&&(p?p[It]=Gt:this._root=Gt),this):(this._root=A,this)},Vo.removeAll=function(t){for(var i=0,p=t.length;i<p;++i)this.remove(t[i]);return this},Vo.root=function(){return this._root},Vo.size=function(){var t=0;return this.visit(function(i){if(!i.length)do++t;while(i=i.next)}),t},Vo.visit=function(t){var i,p,w,A,B,Y,G=[],et=this._root;for(et&&G.push(new Zs(et,this._x0,this._y0,this._x1,this._y1));i=G.pop();)if(!t(et=i.node,w=i.x0,A=i.y0,B=i.x1,Y=i.y1)&&et.length){var rt=(w+B)/2,Ot=(A+Y)/2;(p=et[3])&&G.push(new Zs(p,rt,Ot,B,Y)),(p=et[2])&&G.push(new Zs(p,w,Ot,rt,Y)),(p=et[1])&&G.push(new Zs(p,rt,A,B,Ot)),(p=et[0])&&G.push(new Zs(p,w,A,rt,Ot))}return this},Vo.visitAfter=function(t){var i,p=[],w=[];for(this._root&&p.push(new Zs(this._root,this._x0,this._y0,this._x1,this._y1));i=p.pop();){var A=i.node;if(A.length){var B,Y=i.x0,G=i.y0,et=i.x1,rt=i.y1,Ot=(Y+et)/2,zt=(G+rt)/2;(B=A[0])&&p.push(new Zs(B,Y,G,Ot,zt)),(B=A[1])&&p.push(new Zs(B,Ot,G,et,zt)),(B=A[2])&&p.push(new Zs(B,Y,zt,Ot,rt)),(B=A[3])&&p.push(new Zs(B,Ot,zt,et,rt))}w.push(i)}for(;i=w.pop();)t(i.node,i.x0,i.y0,i.x1,i.y1);return this},Vo.x=function(t){return arguments.length?(this._x=t,this):this._x},Vo.y=function(t){return arguments.length?(this._y=t,this):this._y};const Up=4294967296;function x1(t){return t.x}function w1(t){return t.y}var _1=Math.PI*(3-Math.sqrt(5));function k1(t){var i,p=1,w=.001,A=1-Math.pow(w,1/300),B=0,Y=.6,G=new Map,et=Eu(zt),rt=fn("tick","end"),Ot=function(){let oe=1;return()=>(oe=(1664525*oe+1013904223)%Up)/Up}();function zt(){It(),rt.call("tick",i),p<w&&(et.stop(),rt.call("end",i))}function It(oe){var ae,de,be=t.length;oe===void 0&&(oe=1);for(var ye=0;ye<oe;++ye)for(p+=(B-p)*A,G.forEach(function(ve){ve(p)}),ae=0;ae<be;++ae)(de=t[ae]).fx==null?de.x+=de.vx*=Y:(de.x=de.fx,de.vx=0),de.fy==null?de.y+=de.vy*=Y:(de.y=de.fy,de.vy=0);return i}function Gt(){for(var oe,ae=0,de=t.length;ae<de;++ae){if((oe=t[ae]).index=ae,oe.fx!=null&&(oe.x=oe.fx),oe.fy!=null&&(oe.y=oe.fy),isNaN(oe.x)||isNaN(oe.y)){var be=10*Math.sqrt(.5+ae),ye=ae*_1;oe.x=be*Math.cos(ye),oe.y=be*Math.sin(ye)}(isNaN(oe.vx)||isNaN(oe.vy))&&(oe.vx=oe.vy=0)}}function fe(oe){return oe.initialize&&oe.initialize(t,Ot),oe}return t==null&&(t=[]),Gt(),i={tick:It,restart:function(){return et.restart(zt),i},stop:function(){return et.stop(),i},nodes:function(oe){return arguments.length?(t=oe,Gt(),G.forEach(fe),i):t},alpha:function(oe){return arguments.length?(p=+oe,i):p},alphaMin:function(oe){return arguments.length?(w=+oe,i):w},alphaDecay:function(oe){return arguments.length?(A=+oe,i):+A},alphaTarget:function(oe){return arguments.length?(B=+oe,i):B},velocityDecay:function(oe){return arguments.length?(Y=1-oe,i):1-Y},randomSource:function(oe){return arguments.length?(Ot=oe,G.forEach(fe),i):Ot},force:function(oe,ae){return arguments.length>1?(ae==null?G.delete(oe):G.set(oe,fe(ae)),i):G.get(oe)},find:function(oe,ae,de){var be,ye,ve,Be,Ne,pn=0,On=t.length;for(de==null?de=1/0:de*=de,pn=0;pn<On;++pn)(ve=(be=oe-(Be=t[pn]).x)*be+(ye=ae-Be.y)*ye)<de&&(Ne=Be,de=ve);return Ne},on:function(oe,ae){return arguments.length>1?(rt.on(oe,ae),i):rt.on(oe)}}}function C1(){var t,i,p,w,A,B=la(-30),Y=1,G=1/0,et=.81;function rt(Gt){var fe,oe=t.length,ae=Qo(t,x1,w1).visitAfter(zt);for(w=Gt,fe=0;fe<oe;++fe)i=t[fe],ae.visit(It)}function Ot(){if(t){var Gt,fe,oe=t.length;for(A=new Array(oe),Gt=0;Gt<oe;++Gt)fe=t[Gt],A[fe.index]=+B(fe,Gt,t)}}function zt(Gt){var fe,oe,ae,de,be,ye=0,ve=0;if(Gt.length){for(ae=de=be=0;be<4;++be)(fe=Gt[be])&&(oe=Math.abs(fe.value))&&(ye+=fe.value,ve+=oe,ae+=oe*fe.x,de+=oe*fe.y);Gt.x=ae/ve,Gt.y=de/ve}else{(fe=Gt).x=fe.data.x,fe.y=fe.data.y;do ye+=A[fe.data.index];while(fe=fe.next)}Gt.value=ye}function It(Gt,fe,oe,ae){if(!Gt.value)return!0;var de=Gt.x-i.x,be=Gt.y-i.y,ye=ae-fe,ve=de*de+be*be;if(ye*ye/et<ve)return ve<G&&(de===0&&(ve+=(de=wh(p))*de),be===0&&(ve+=(be=wh(p))*be),ve<Y&&(ve=Math.sqrt(Y*ve)),i.vx+=de*Gt.value*w/ve,i.vy+=be*Gt.value*w/ve),!0;if(!(Gt.length||ve>=G)){(Gt.data!==i||Gt.next)&&(de===0&&(ve+=(de=wh(p))*de),be===0&&(ve+=(be=wh(p))*be),ve<Y&&(ve=Math.sqrt(Y*ve)));do Gt.data!==i&&(ye=A[Gt.data.index]*w/ve,i.vx+=de*ye,i.vy+=be*ye);while(Gt=Gt.next)}}return rt.initialize=function(Gt,fe){t=Gt,p=fe,Ot()},rt.strength=function(Gt){return arguments.length?(B=typeof Gt=="function"?Gt:la(+Gt),Ot(),rt):B},rt.distanceMin=function(Gt){return arguments.length?(Y=Gt*Gt,rt):Math.sqrt(Y)},rt.distanceMax=function(Gt){return arguments.length?(G=Gt*Gt,rt):Math.sqrt(G)},rt.theta=function(Gt){return arguments.length?(et=Gt*Gt,rt):Math.sqrt(et)},rt}function im(t,i,p){var w,A,B,Y=la(.1);function G(rt){for(var Ot=0,zt=w.length;Ot<zt;++Ot){var It=w[Ot],Gt=It.x-i||1e-6,fe=It.y-p||1e-6,oe=Math.sqrt(Gt*Gt+fe*fe),ae=(B[Ot]-oe)*A[Ot]*rt/oe;It.vx+=Gt*ae,It.vy+=fe*ae}}function et(){if(w){var rt,Ot=w.length;for(A=new Array(Ot),B=new Array(Ot),rt=0;rt<Ot;++rt)B[rt]=+t(w[rt],rt,w),A[rt]=isNaN(B[rt])?0:+Y(w[rt],rt,w)}}return typeof t!="function"&&(t=la(+t)),i==null&&(i=0),p==null&&(p=0),G.initialize=function(rt){w=rt,et()},G.strength=function(rt){return arguments.length?(Y=typeof rt=="function"?rt:la(+rt),et(),G):Y},G.radius=function(rt){return arguments.length?(t=typeof rt=="function"?rt:la(+rt),et(),G):t},G.x=function(rt){return arguments.length?(i=+rt,G):i},G.y=function(rt){return arguments.length?(p=+rt,G):p},G}function Hp(t){var i,p,w,A=la(.1);function B(G){for(var et,rt=0,Ot=i.length;rt<Ot;++rt)(et=i[rt]).vx+=(w[rt]-et.x)*p[rt]*G}function Y(){if(i){var G,et=i.length;for(p=new Array(et),w=new Array(et),G=0;G<et;++G)p[G]=isNaN(w[G]=+t(i[G],G,i))?0:+A(i[G],G,i)}}return typeof t!="function"&&(t=la(t==null?0:+t)),B.initialize=function(G){i=G,Y()},B.strength=function(G){return arguments.length?(A=typeof G=="function"?G:la(+G),Y(),B):A},B.x=function(G){return arguments.length?(t=typeof G=="function"?G:la(+G),Y(),B):t},B}function S1(t){var i,p,w,A=la(.1);function B(G){for(var et,rt=0,Ot=i.length;rt<Ot;++rt)(et=i[rt]).vy+=(w[rt]-et.y)*p[rt]*G}function Y(){if(i){var G,et=i.length;for(p=new Array(et),w=new Array(et),G=0;G<et;++G)p[G]=isNaN(w[G]=+t(i[G],G,i))?0:+A(i[G],G,i)}}return typeof t!="function"&&(t=la(t==null?0:+t)),B.initialize=function(G){i=G,Y()},B.strength=function(G){return arguments.length?(A=typeof G=="function"?G:la(+G),Y(),B):A},B.y=function(G){return arguments.length?(t=typeof G=="function"?G:la(+G),Y(),B):t},B}function $p(t,i){if((p=(t=i?t.toExponential(i-1):t.toExponential()).indexOf("e"))<0)return null;var p,w=t.slice(0,p);return[w.length>1?w[0]+w.slice(2):w,+t.slice(p+1)]}function Nd(t){return(t=$p(Math.abs(t)))?t[1]:NaN}var lc,jc=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ls(t){if(!(i=jc.exec(t)))throw new Error("invalid format: "+t);var i;return new Kh({fill:i[1],align:i[2],sign:i[3],symbol:i[4],zero:i[5],width:i[6],comma:i[7],precision:i[8]&&i[8].slice(1),trim:i[9],type:i[10]})}function Kh(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}function Ru(t,i){var p=$p(t,i);if(!p)return t+"";var w=p[0],A=p[1];return A<0?"0."+new Array(-A).join("0")+w:w.length>A+1?w.slice(0,A+1)+"."+w.slice(A+1):w+new Array(A-w.length+2).join("0")}ls.prototype=Kh.prototype,Kh.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,0|this.width))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const E1={"%":(t,i)=>(100*t).toFixed(i),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,i)=>t.toExponential(i),f:(t,i)=>t.toFixed(i),g:(t,i)=>t.toPrecision(i),o:t=>Math.round(t).toString(8),p:(t,i)=>Ru(100*t,i),r:Ru,s:function(t,i){var p=$p(t,i);if(!p)return t+"";var w=p[0],A=p[1],B=A-(lc=3*Math.max(-8,Math.min(8,Math.floor(A/3))))+1,Y=w.length;return B===Y?w:B>Y?w+new Array(B-Y+1).join("0"):B>0?w.slice(0,B)+"."+w.slice(B):"0."+new Array(1-B).join("0")+$p(t,Math.max(0,i+B-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function T1(t){return t}var qp,Jh,A1,Qy=Array.prototype.map,tv=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function el(t){var i,p,w=t.grouping===void 0||t.thousands===void 0?T1:(i=Qy.call(t.grouping,Number),p=t.thousands+"",function(It,Gt){for(var fe=It.length,oe=[],ae=0,de=i[0],be=0;fe>0&&de>0&&(be+de+1>Gt&&(de=Math.max(1,Gt-be)),oe.push(It.substring(fe-=de,fe+de)),!((be+=de+1)>Gt));)de=i[ae=(ae+1)%i.length];return oe.reverse().join(p)}),A=t.currency===void 0?"":t.currency[0]+"",B=t.currency===void 0?"":t.currency[1]+"",Y=t.decimal===void 0?".":t.decimal+"",G=t.numerals===void 0?T1:function(It){return function(Gt){return Gt.replace(/[0-9]/g,function(fe){return It[+fe]})}}(Qy.call(t.numerals,String)),et=t.percent===void 0?"%":t.percent+"",rt=t.minus===void 0?"−":t.minus+"",Ot=t.nan===void 0?"NaN":t.nan+"";function zt(It){var Gt=(It=ls(It)).fill,fe=It.align,oe=It.sign,ae=It.symbol,de=It.zero,be=It.width,ye=It.comma,ve=It.precision,Be=It.trim,Ne=It.type;Ne==="n"?(ye=!0,Ne="g"):E1[Ne]||(ve===void 0&&(ve=12),Be=!0,Ne="g"),(de||Gt==="0"&&fe==="=")&&(de=!0,Gt="0",fe="=");var pn=ae==="$"?A:ae==="#"&&/[boxX]/.test(Ne)?"0"+Ne.toLowerCase():"",On=ae==="$"?B:/[%p]/.test(Ne)?et:"",nn=E1[Ne],Je=/[defgprs%]/.test(Ne);function Qe(tn){var Fe,Ze,hn,_n=pn,Pn=On;if(Ne==="c")Pn=nn(tn)+Pn,tn="";else{var Jn=(tn=+tn)<0||1/tn<0;if(tn=isNaN(tn)?Ot:nn(Math.abs(tn),ve),Be&&(tn=function(ar){t:for(var ri,si=ar.length,Gr=1,Kr=-1;Gr<si;++Gr)switch(ar[Gr]){case".":Kr=ri=Gr;break;case"0":Kr===0&&(Kr=Gr),ri=Gr;break;default:if(!+ar[Gr])break t;Kr>0&&(Kr=0)}return Kr>0?ar.slice(0,Kr)+ar.slice(ri+1):ar}(tn)),Jn&&+tn==0&&oe!=="+"&&(Jn=!1),_n=(Jn?oe==="("?oe:rt:oe==="-"||oe==="("?"":oe)+_n,Pn=(Ne==="s"?tv[8+lc/3]:"")+Pn+(Jn&&oe==="("?")":""),Je){for(Fe=-1,Ze=tn.length;++Fe<Ze;)if(48>(hn=tn.charCodeAt(Fe))||hn>57){Pn=(hn===46?Y+tn.slice(Fe+1):tn.slice(Fe))+Pn,tn=tn.slice(0,Fe);break}}}ye&&!de&&(tn=w(tn,1/0));var or=_n.length+tn.length+Pn.length,yr=or<be?new Array(be-or+1).join(Gt):"";switch(ye&&de&&(tn=w(yr+tn,yr.length?be-Pn.length:1/0),yr=""),fe){case"<":tn=_n+tn+Pn+yr;break;case"=":tn=_n+yr+tn+Pn;break;case"^":tn=yr.slice(0,or=yr.length>>1)+_n+tn+Pn+yr.slice(or);break;default:tn=yr+_n+tn+Pn}return G(tn)}return ve=ve===void 0?6:/[gprs]/.test(Ne)?Math.max(1,Math.min(21,ve)):Math.max(0,Math.min(20,ve)),Qe.toString=function(){return It+""},Qe}return{format:zt,formatPrefix:function(It,Gt){var fe=zt(((It=ls(It)).type="f",It)),oe=3*Math.max(-8,Math.min(8,Math.floor(Nd(Gt)/3))),ae=Math.pow(10,-oe),de=tv[8+oe/3];return function(be){return fe(ae*be)+de}}}}function ev(t){return qp=el(t),Jh=qp.format,A1=qp.formatPrefix,qp}function om(t){return Math.max(0,-Nd(Math.abs(t)))}function nv(t,i){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Nd(i)/3)))-Nd(Math.abs(t)))}function $l(t,i){return t=Math.abs(t),i=Math.abs(i)-t,Math.max(0,Nd(i)-Nd(t))+1}ev({thousands:",",grouping:[3],currency:["$",""]});var fi=1e-6,Qh=1e-12,Fi=Math.PI,$a=Fi/2,O1=Fi/4,uc=2*Fi,Wo=180/Fi,ni=Fi/180,ro=Math.abs,td=Math.atan,Ic=Math.atan2,qr=Math.cos,Ff=Math.ceil,M1=Math.exp,ed=Math.hypot,Yp=Math.log,L1=Math.pow,Rr=Math.sin,_l=Math.sign||function(t){return t>0?1:t<0?-1:0},ys=Math.sqrt,B1=Math.tan;function rv(t){return t>1?0:t<-1?Fi:Math.acos(t)}function hc(t){return t>1?$a:t<-1?-$a:Math.asin(t)}function Vp(t){return(t=Rr(t/2))*t}function ta(){}function Wp(t,i){t&&j1.hasOwnProperty(t.type)&&j1[t.type](t,i)}var zf={Feature:function(t,i){Wp(t.geometry,i)},FeatureCollection:function(t,i){for(var p=t.features,w=-1,A=p.length;++w<A;)Wp(p[w].geometry,i)}},j1={Sphere:function(t,i){i.sphere()},Point:function(t,i){t=t.coordinates,i.point(t[0],t[1],t[2])},MultiPoint:function(t,i){for(var p=t.coordinates,w=-1,A=p.length;++w<A;)t=p[w],i.point(t[0],t[1],t[2])},LineString:function(t,i){Uf(t.coordinates,i,0)},MultiLineString:function(t,i){for(var p=t.coordinates,w=-1,A=p.length;++w<A;)Uf(p[w],i,0)},Polygon:function(t,i){I1(t.coordinates,i)},MultiPolygon:function(t,i){for(var p=t.coordinates,w=-1,A=p.length;++w<A;)I1(p[w],i)},GeometryCollection:function(t,i){for(var p=t.geometries,w=-1,A=p.length;++w<A;)Wp(p[w],i)}};function Uf(t,i,p){var w,A=-1,B=t.length-p;for(i.lineStart();++A<B;)w=t[A],i.point(w[0],w[1],w[2]);i.lineEnd()}function I1(t,i){var p=-1,w=t.length;for(i.polygonStart();++p<w;)Uf(t[p],i,1);i.polygonEnd()}function nl(t,i){t&&zf.hasOwnProperty(t.type)?zf[t.type](t,i):Wp(t,i)}var am,sm,Hf,Gp,Pd,ea,Ks,ua,js,Du,Xp,$f,ql,Zp,nd,kh,Kp=new J,qf=new J,Fu={point:ta,lineStart:ta,lineEnd:ta,polygonStart:function(){Kp=new J,Fu.lineStart=N1,Fu.lineEnd=iv},polygonEnd:function(){var t=+Kp;qf.add(t<0?uc+t:t),this.lineStart=this.lineEnd=this.point=ta},sphere:function(){qf.add(uc)}};function N1(){Fu.point=ov}function iv(){Jp(am,sm)}function ov(t,i){Fu.point=Jp,am=t,sm=i,Hf=t*=ni,Gp=qr(i=(i*=ni)/2+O1),Pd=Rr(i)}function Jp(t,i){var p=(t*=ni)-Hf,w=p>=0?1:-1,A=w*p,B=qr(i=(i*=ni)/2+O1),Y=Rr(i),G=Pd*Y,et=Gp*B+G*qr(A),rt=G*w*Rr(A);Kp.add(Ic(rt,et)),Hf=t,Gp=B,Pd=Y}function av(t){return qf=new J,nl(t,Fu),2*qf}function Qp(t){return[Ic(t[1],t[0]),hc(t[2])]}function Is(t){var i=t[0],p=t[1],w=qr(p);return[w*qr(i),w*Rr(i),Rr(p)]}function P1(t,i){return t[0]*i[0]+t[1]*i[1]+t[2]*i[2]}function Rd(t,i){return[t[1]*i[2]-t[2]*i[1],t[2]*i[0]-t[0]*i[2],t[0]*i[1]-t[1]*i[0]]}function Ch(t,i){t[0]+=i[0],t[1]+=i[1],t[2]+=i[2]}function yi(t,i){return[t[0]*i,t[1]*i,t[2]*i]}function t0(t){var i=ys(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=i,t[1]/=i,t[2]/=i}var vs,va,R1,Nc,e0,n0,Yf,Vf,r0,Dd,zu,Uu,cm,bs,Ki,Ji,Pc={point:Wf,lineStart:i0,lineEnd:sv,polygonStart:function(){Pc.point=o0,Pc.lineStart=cv,Pc.lineEnd=lm,Zp=new J,Fu.polygonStart()},polygonEnd:function(){Fu.polygonEnd(),Pc.point=Wf,Pc.lineStart=i0,Pc.lineEnd=sv,Kp<0?(ea=-(ua=180),Ks=-(js=90)):Zp>fi?js=90:Zp<-1e-6&&(Ks=-90),kh[0]=ea,kh[1]=ua},sphere:function(){ea=-(ua=180),Ks=-(js=90)}};function Wf(t,i){nd.push(kh=[ea=t,ua=t]),i<Ks&&(Ks=i),i>js&&(js=i)}function Gf(t,i){var p=Is([t*ni,i*ni]);if(ql){var w=Rd(ql,p),A=Rd([w[1],-w[0],0],w);t0(A),A=Qp(A);var B,Y=t-Du,G=Y>0?1:-1,et=A[0]*Wo*G,rt=ro(Y)>180;rt^(G*Du<et&&et<G*t)?(B=A[1]*Wo)>js&&(js=B):rt^(G*Du<(et=(et+360)%360-180)&&et<G*t)?(B=-A[1]*Wo)<Ks&&(Ks=B):(i<Ks&&(Ks=i),i>js&&(js=i)),rt?t<Du?na(ea,t)>na(ea,ua)&&(ua=t):na(t,ua)>na(ea,ua)&&(ea=t):ua>=ea?(t<ea&&(ea=t),t>ua&&(ua=t)):t>Du?na(ea,t)>na(ea,ua)&&(ua=t):na(t,ua)>na(ea,ua)&&(ea=t)}else nd.push(kh=[ea=t,ua=t]);i<Ks&&(Ks=i),i>js&&(js=i),ql=p,Du=t}function i0(){Pc.point=Gf}function sv(){kh[0]=ea,kh[1]=ua,Pc.point=Wf,ql=null}function o0(t,i){if(ql){var p=t-Du;Zp.add(ro(p)>180?p+(p>0?360:-360):p)}else Xp=t,$f=i;Fu.point(t,i),Gf(t,i)}function cv(){Fu.lineStart()}function lm(){o0(Xp,$f),Fu.lineEnd(),ro(Zp)>fi&&(ea=-(ua=180)),kh[0]=ea,kh[1]=ua,ql=null}function na(t,i){return(i-=t)<0?i+360:i}function Yl(t,i){return t[0]-i[0]}function D1(t,i){return t[0]<=t[1]?t[0]<=i&&i<=t[1]:i<t[0]||t[1]<i}function F1(t){var i,p,w,A,B,Y,G;if(js=ua=-(ea=Ks=1/0),nd=[],nl(t,Pc),p=nd.length){for(nd.sort(Yl),i=1,B=[w=nd[0]];i<p;++i)D1(w,(A=nd[i])[0])||D1(w,A[1])?(na(w[0],A[1])>na(w[0],w[1])&&(w[1]=A[1]),na(A[0],w[1])>na(w[0],w[1])&&(w[0]=A[0])):B.push(w=A);for(Y=-1/0,i=0,w=B[p=B.length-1];i<=p;w=A,++i)A=B[i],(G=na(w[1],A[0]))>Y&&(Y=G,ea=A[0],ua=w[1])}return nd=kh=null,ea===1/0||Ks===1/0?[[NaN,NaN],[NaN,NaN]]:[[ea,Ks],[ua,js]]}var Ns={sphere:ta,point:Ps,lineStart:Fd,lineEnd:Xf,polygonStart:function(){Ns.lineStart=fu,Ns.lineEnd=rd},polygonEnd:function(){Ns.lineStart=Fd,Ns.lineEnd=Xf}};function Ps(t,i){t*=ni;var p=qr(i*=ni);kl(p*qr(t),p*Rr(t),Rr(i))}function kl(t,i,p){++vs,R1+=(t-R1)/vs,Nc+=(i-Nc)/vs,e0+=(p-e0)/vs}function Fd(){Ns.point=um}function um(t,i){t*=ni;var p=qr(i*=ni);bs=p*qr(t),Ki=p*Rr(t),Ji=Rr(i),Ns.point=hm,kl(bs,Ki,Ji)}function hm(t,i){t*=ni;var p=qr(i*=ni),w=p*qr(t),A=p*Rr(t),B=Rr(i),Y=Ic(ys((Y=Ki*B-Ji*A)*Y+(Y=Ji*w-bs*B)*Y+(Y=bs*A-Ki*w)*Y),bs*w+Ki*A+Ji*B);va+=Y,n0+=Y*(bs+(bs=w)),Yf+=Y*(Ki+(Ki=A)),Vf+=Y*(Ji+(Ji=B)),kl(bs,Ki,Ji)}function Xf(){Ns.point=Ps}function fu(){Ns.point=Hu}function rd(){Li(Uu,cm),Ns.point=Ps}function Hu(t,i){Uu=t,cm=i,t*=ni,i*=ni,Ns.point=Li;var p=qr(i);bs=p*qr(t),Ki=p*Rr(t),Ji=Rr(i),kl(bs,Ki,Ji)}function Li(t,i){t*=ni;var p=qr(i*=ni),w=p*qr(t),A=p*Rr(t),B=Rr(i),Y=Ki*B-Ji*A,G=Ji*w-bs*B,et=bs*A-Ki*w,rt=ed(Y,G,et),Ot=hc(rt),zt=rt&&-Ot/rt;r0.add(zt*Y),Dd.add(zt*G),zu.add(zt*et),va+=Ot,n0+=Ot*(bs+(bs=w)),Yf+=Ot*(Ki+(Ki=A)),Vf+=Ot*(Ji+(Ji=B)),kl(bs,Ki,Ji)}function lv(t){vs=va=R1=Nc=e0=n0=Yf=Vf=0,r0=new J,Dd=new J,zu=new J,nl(t,Ns);var i=+r0,p=+Dd,w=+zu,A=ed(i,p,w);return A<Qh&&(i=n0,p=Yf,w=Vf,va<fi&&(i=R1,p=Nc,w=e0),(A=ed(i,p,w))<Qh)?[NaN,NaN]:[Ic(p,i)*Wo,hc(w/A)*Wo]}function Rs(t){return function(){return t}}function z1(t,i){function p(w,A){return w=t(w,A),i(w[0],w[1])}return t.invert&&i.invert&&(p.invert=function(w,A){return(w=i.invert(w,A))&&t.invert(w[0],w[1])}),p}function dm(t,i){return[ro(t)>Fi?t+Math.round(-t/uc)*uc:t,i]}function xo(t,i,p){return(t%=uc)?i||p?z1(U1(t),Zf(i,p)):U1(t):i||p?Zf(i,p):dm}function fm(t){return function(i,p){return[(i+=t)>Fi?i-uc:i<-Fi?i+uc:i,p]}}function U1(t){var i=fm(t);return i.invert=fm(-t),i}function Zf(t,i){var p=qr(t),w=Rr(t),A=qr(i),B=Rr(i);function Y(G,et){var rt=qr(et),Ot=qr(G)*rt,zt=Rr(G)*rt,It=Rr(et),Gt=It*p+Ot*w;return[Ic(zt*A-Gt*B,Ot*p-It*w),hc(Gt*A+zt*B)]}return Y.invert=function(G,et){var rt=qr(et),Ot=qr(G)*rt,zt=Rr(G)*rt,It=Rr(et),Gt=It*A-zt*B;return[Ic(zt*A+It*B,Ot*p+Gt*w),hc(Gt*p-Ot*w)]},Y}function H1(t){function i(p){return(p=t(p[0]*ni,p[1]*ni))[0]*=Wo,p[1]*=Wo,p}return t=xo(t[0]*ni,t[1]*ni,t.length>2?t[2]*ni:0),i.invert=function(p){return(p=t.invert(p[0]*ni,p[1]*ni))[0]*=Wo,p[1]*=Wo,p},i}function pm(t,i,p,w,A,B){if(p){var Y=qr(i),G=Rr(i),et=w*p;A==null?(A=i+w*uc,B=i-et/2):(A=gm(Y,A),B=gm(Y,B),(w>0?A<B:A>B)&&(A+=w*uc));for(var rt,Ot=A;w>0?Ot>B:Ot<B;Ot-=et)rt=Qp([Y,-G*qr(Ot),-G*Rr(Ot)]),t.point(rt[0],rt[1])}}function gm(t,i){(i=Is(i))[0]-=t,t0(i);var p=rv(-i[1]);return((-i[2]<0?-p:p)+uc-fi)%uc}function a0(){var t,i,p=Rs([0,0]),w=Rs(90),A=Rs(6),B={point:function(G,et){t.push(G=i(G,et)),G[0]*=Wo,G[1]*=Wo}};function Y(){var G=p.apply(this,arguments),et=w.apply(this,arguments)*ni,rt=A.apply(this,arguments)*ni;return t=[],i=xo(-G[0]*ni,-G[1]*ni,0).invert,pm(B,et,rt,1),G={type:"Polygon",coordinates:[t]},t=i=null,G}return Y.center=function(G){return arguments.length?(p=typeof G=="function"?G:Rs([+G[0],+G[1]]),Y):p},Y.radius=function(G){return arguments.length?(w=typeof G=="function"?G:Rs(+G),Y):w},Y.precision=function(G){return arguments.length?(A=typeof G=="function"?G:Rs(+G),Y):A},Y}function Kf(){var t,i=[];return{point:function(p,w,A){t.push([p,w,A])},lineStart:function(){i.push(t=[])},lineEnd:ta,rejoin:function(){i.length>1&&i.push(i.pop().concat(i.shift()))},result:function(){var p=i;return i=[],t=null,p}}}function Jf(t,i){return ro(t[0]-i[0])<fi&&ro(t[1]-i[1])<fi}function zd(t,i,p,w){this.x=t,this.z=i,this.o=p,this.e=w,this.v=!1,this.n=this.p=null}function uv(t,i,p,w,A){var B,Y,G=[],et=[];if(t.forEach(function(fe){if(!((oe=fe.length-1)<=0)){var oe,ae,de=fe[0],be=fe[oe];if(Jf(de,be)){if(!de[2]&&!be[2]){for(A.lineStart(),B=0;B<oe;++B)A.point((de=fe[B])[0],de[1]);return void A.lineEnd()}be[0]+=2e-6}G.push(ae=new zd(de,fe,null,!0)),et.push(ae.o=new zd(de,null,ae,!1)),G.push(ae=new zd(be,fe,null,!1)),et.push(ae.o=new zd(be,null,ae,!0))}}),G.length){for(et.sort(i),mm(G),mm(et),B=0,Y=et.length;B<Y;++B)et[B].e=p=!p;for(var rt,Ot,zt=G[0];;){for(var It=zt,Gt=!0;It.v;)if((It=It.n)===zt)return;rt=It.z,A.lineStart();do{if(It.v=It.o.v=!0,It.e){if(Gt)for(B=0,Y=rt.length;B<Y;++B)A.point((Ot=rt[B])[0],Ot[1]);else w(It.x,It.n.x,1,A);It=It.n}else{if(Gt)for(rt=It.p.z,B=rt.length-1;B>=0;--B)A.point((Ot=rt[B])[0],Ot[1]);else w(It.x,It.p.x,-1,A);It=It.p}rt=(It=It.o).z,Gt=!Gt}while(!It.v);A.lineEnd()}}}function mm(t){if(i=t.length){for(var i,p,w=0,A=t[0];++w<i;)A.n=p=t[w],p.p=A,A=p;A.n=p=t[0],p.p=A}}function $1(t){return ro(t[0])<=Fi?t[0]:_l(t[0])*((ro(t[0])+Fi)%uc-Fi)}function ym(t,i){var p=$1(i),w=i[1],A=Rr(w),B=[Rr(p),-qr(p),0],Y=0,G=0,et=new J;A===1?w=$a+fi:A===-1&&(w=-$a-fi);for(var rt=0,Ot=t.length;rt<Ot;++rt)if(It=(zt=t[rt]).length)for(var zt,It,Gt=zt[It-1],fe=$1(Gt),oe=Gt[1]/2+O1,ae=Rr(oe),de=qr(oe),be=0;be<It;++be,fe=ve,ae=Ne,de=pn,Gt=ye){var ye=zt[be],ve=$1(ye),Be=ye[1]/2+O1,Ne=Rr(Be),pn=qr(Be),On=ve-fe,nn=On>=0?1:-1,Je=nn*On,Qe=Je>Fi,tn=ae*Ne;if(et.add(Ic(tn*nn*Rr(Je),de*pn+tn*qr(Je))),Y+=Qe?On+nn*uc:On,Qe^fe>=p^ve>=p){var Fe=Rd(Is(Gt),Is(ye));t0(Fe);var Ze=Rd(B,Fe);t0(Ze);var hn=(Qe^On>=0?-1:1)*hc(Ze[2]);(w>hn||w===hn&&(Fe[0]||Fe[1]))&&(G+=Qe^On>=0?1:-1)}}return(Y<-1e-6||Y<fi&&et<-1e-12)^1&G}function vm(t,i,p,w){return function(A){var B,Y,G,et=i(A),rt=Kf(),Ot=i(rt),zt=!1,It={point:Gt,lineStart:oe,lineEnd:ae,polygonStart:function(){It.point=de,It.lineStart=be,It.lineEnd=ye,Y=[],B=[]},polygonEnd:function(){It.point=Gt,It.lineStart=oe,It.lineEnd=ae,Y=on(Y);var ve=ym(B,w);Y.length?(zt||(A.polygonStart(),zt=!0),uv(Y,bm,ve,p,A)):ve&&(zt||(A.polygonStart(),zt=!0),A.lineStart(),p(null,null,1,A),A.lineEnd()),zt&&(A.polygonEnd(),zt=!1),Y=B=null},sphere:function(){A.polygonStart(),A.lineStart(),p(null,null,1,A),A.lineEnd(),A.polygonEnd()}};function Gt(ve,Be){t(ve,Be)&&A.point(ve,Be)}function fe(ve,Be){et.point(ve,Be)}function oe(){It.point=fe,et.lineStart()}function ae(){It.point=Gt,et.lineEnd()}function de(ve,Be){G.push([ve,Be]),Ot.point(ve,Be)}function be(){Ot.lineStart(),G=[]}function ye(){de(G[0][0],G[0][1]),Ot.lineEnd();var ve,Be,Ne,pn,On=Ot.clean(),nn=rt.result(),Je=nn.length;if(G.pop(),B.push(G),G=null,Je)if(1&On){if((Be=(Ne=nn[0]).length-1)>0){for(zt||(A.polygonStart(),zt=!0),A.lineStart(),ve=0;ve<Be;++ve)A.point((pn=Ne[ve])[0],pn[1]);A.lineEnd()}}else Je>1&&2&On&&nn.push(nn.pop().concat(nn.shift())),Y.push(nn.filter(Pb))}return It}}function Pb(t){return t.length>1}function bm(t,i){return((t=t.x)[0]<0?t[1]-$a-fi:$a-t[1])-((i=i.x)[0]<0?i[1]-$a-fi:$a-i[1])}dm.invert=dm;const Ud=vm(function(){return!0},function(t){var i,p=NaN,w=NaN,A=NaN;return{lineStart:function(){t.lineStart(),i=1},point:function(B,Y){var G=B>0?Fi:-Fi,et=ro(B-p);ro(et-Fi)<fi?(t.point(p,w=(w+Y)/2>0?$a:-$a),t.point(A,w),t.lineEnd(),t.lineStart(),t.point(G,w),t.point(B,w),i=0):A!==G&&et>=Fi&&(ro(p-A)<fi&&(p-=A*fi),ro(B-G)<fi&&(B-=G*fi),w=function(rt,Ot,zt,It){var Gt,fe,oe=Rr(rt-zt);return ro(oe)>fi?td((Rr(Ot)*(fe=qr(It))*Rr(zt)-Rr(It)*(Gt=qr(Ot))*Rr(rt))/(Gt*fe*oe)):(Ot+It)/2}(p,w,B,Y),t.point(A,w),t.lineEnd(),t.lineStart(),t.point(G,w),i=0),t.point(p=B,w=Y),A=G},lineEnd:function(){t.lineEnd(),p=w=NaN},clean:function(){return 2-i}}},function(t,i,p,w){var A;if(t==null)A=p*$a,w.point(-Fi,A),w.point(0,A),w.point(Fi,A),w.point(Fi,0),w.point(Fi,-A),w.point(0,-A),w.point(-Fi,-A),w.point(-Fi,0),w.point(-Fi,A);else if(ro(t[0]-i[0])>fi){var B=t[0]<i[0]?Fi:-Fi;A=p*B/2,w.point(-B,A),w.point(0,A),w.point(B,A)}else w.point(i[0],i[1])},[-Fi,-$a]);function Qf(t){var i=qr(t),p=6*ni,w=i>0,A=ro(i)>fi;function B(et,rt){return qr(et)*qr(rt)>i}function Y(et,rt,Ot){var zt=[1,0,0],It=Rd(Is(et),Is(rt)),Gt=P1(It,It),fe=It[0],oe=Gt-fe*fe;if(!oe)return!Ot&&et;var ae=i*Gt/oe,de=-i*fe/oe,be=Rd(zt,It),ye=yi(zt,ae);Ch(ye,yi(It,de));var ve=be,Be=P1(ye,ve),Ne=P1(ve,ve),pn=Be*Be-Ne*(P1(ye,ye)-1);if(!(pn<0)){var On=ys(pn),nn=yi(ve,(-Be-On)/Ne);if(Ch(nn,ye),nn=Qp(nn),!Ot)return nn;var Je,Qe=et[0],tn=rt[0],Fe=et[1],Ze=rt[1];tn<Qe&&(Je=Qe,Qe=tn,tn=Je);var hn=tn-Qe,_n=ro(hn-Fi)<fi;if(!_n&&Ze<Fe&&(Je=Fe,Fe=Ze,Ze=Je),_n||hn<fi?_n?Fe+Ze>0^nn[1]<(ro(nn[0]-Qe)<fi?Fe:Ze):Fe<=nn[1]&&nn[1]<=Ze:hn>Fi^(Qe<=nn[0]&&nn[0]<=tn)){var Pn=yi(ve,(-Be+On)/Ne);return Ch(Pn,ye),[nn,Qp(Pn)]}}}function G(et,rt){var Ot=w?t:Fi-t,zt=0;return et<-Ot?zt|=1:et>Ot&&(zt|=2),rt<-Ot?zt|=4:rt>Ot&&(zt|=8),zt}return vm(B,function(et){var rt,Ot,zt,It,Gt;return{lineStart:function(){It=zt=!1,Gt=1},point:function(fe,oe){var ae,de=[fe,oe],be=B(fe,oe),ye=w?be?0:G(fe,oe):be?G(fe+(fe<0?Fi:-Fi),oe):0;if(!rt&&(It=zt=be)&&et.lineStart(),be!==zt&&(!(ae=Y(rt,de))||Jf(rt,ae)||Jf(de,ae))&&(de[2]=1),be!==zt)Gt=0,be?(et.lineStart(),ae=Y(de,rt),et.point(ae[0],ae[1])):(ae=Y(rt,de),et.point(ae[0],ae[1],2),et.lineEnd()),rt=ae;else if(A&&rt&&w^be){var ve;ye&Ot||!(ve=Y(de,rt,!0))||(Gt=0,w?(et.lineStart(),et.point(ve[0][0],ve[0][1]),et.point(ve[1][0],ve[1][1]),et.lineEnd()):(et.point(ve[1][0],ve[1][1]),et.lineEnd(),et.lineStart(),et.point(ve[0][0],ve[0][1],3)))}!be||rt&&Jf(rt,de)||et.point(de[0],de[1]),rt=de,zt=be,Ot=ye},lineEnd:function(){zt&&et.lineEnd(),rt=null},clean:function(){return Gt|(It&&zt)<<1}}},function(et,rt,Ot,zt){pm(zt,t,p,Ot,et,rt)},w?[0,-t]:[-Fi,t-Fi])}var s0,tp,ep,Ma,us=1e9,q1=-us;function c0(t,i,p,w){function A(rt,Ot){return t<=rt&&rt<=p&&i<=Ot&&Ot<=w}function B(rt,Ot,zt,It){var Gt=0,fe=0;if(rt==null||(Gt=Y(rt,zt))!==(fe=Y(Ot,zt))||et(rt,Ot)<0^zt>0)do It.point(Gt===0||Gt===3?t:p,Gt>1?w:i);while((Gt=(Gt+zt+4)%4)!==fe);else It.point(Ot[0],Ot[1])}function Y(rt,Ot){return ro(rt[0]-t)<fi?Ot>0?0:3:ro(rt[0]-p)<fi?Ot>0?2:1:ro(rt[1]-i)<fi?Ot>0?1:0:Ot>0?3:2}function G(rt,Ot){return et(rt.x,Ot.x)}function et(rt,Ot){var zt=Y(rt,1),It=Y(Ot,1);return zt!==It?zt-It:zt===0?Ot[1]-rt[1]:zt===1?rt[0]-Ot[0]:zt===2?rt[1]-Ot[1]:Ot[0]-rt[0]}return function(rt){var Ot,zt,It,Gt,fe,oe,ae,de,be,ye,ve,Be=rt,Ne=Kf(),pn={point:On,lineStart:function(){pn.point=nn,zt&&zt.push(It=[]),ye=!0,be=!1,ae=de=NaN},lineEnd:function(){Ot&&(nn(Gt,fe),oe&&be&&Ne.rejoin(),Ot.push(Ne.result())),pn.point=On,be&&Be.lineEnd()},polygonStart:function(){Be=Ne,Ot=[],zt=[],ve=!0},polygonEnd:function(){var Je=function(){for(var Fe=0,Ze=0,hn=zt.length;Ze<hn;++Ze)for(var _n,Pn,Jn=zt[Ze],or=1,yr=Jn.length,ar=Jn[0],ri=ar[0],si=ar[1];or<yr;++or)_n=ri,Pn=si,ri=(ar=Jn[or])[0],si=ar[1],Pn<=w?si>w&&(ri-_n)*(w-Pn)>(si-Pn)*(t-_n)&&++Fe:si<=w&&(ri-_n)*(w-Pn)<(si-Pn)*(t-_n)&&--Fe;return Fe}(),Qe=ve&&Je,tn=(Ot=on(Ot)).length;(Qe||tn)&&(rt.polygonStart(),Qe&&(rt.lineStart(),B(null,null,1,rt),rt.lineEnd()),tn&&uv(Ot,G,Je,B,rt),rt.polygonEnd()),Be=rt,Ot=zt=It=null}};function On(Je,Qe){A(Je,Qe)&&Be.point(Je,Qe)}function nn(Je,Qe){var tn=A(Je,Qe);if(zt&&It.push([Je,Qe]),ye)Gt=Je,fe=Qe,oe=tn,ye=!1,tn&&(Be.lineStart(),Be.point(Je,Qe));else if(tn&&be)Be.point(Je,Qe);else{var Fe=[ae=Math.max(q1,Math.min(us,ae)),de=Math.max(q1,Math.min(us,de))],Ze=[Je=Math.max(q1,Math.min(us,Je)),Qe=Math.max(q1,Math.min(us,Qe))];(function(hn,_n,Pn,Jn,or,yr){var ar,ri=hn[0],si=hn[1],Gr=0,Kr=1,jo=_n[0]-ri,eo=_n[1]-si;if(ar=Pn-ri,jo||!(ar>0)){if(ar/=jo,jo<0){if(ar<Gr)return;ar<Kr&&(Kr=ar)}else if(jo>0){if(ar>Kr)return;ar>Gr&&(Gr=ar)}if(ar=or-ri,jo||!(ar<0)){if(ar/=jo,jo<0){if(ar>Kr)return;ar>Gr&&(Gr=ar)}else if(jo>0){if(ar<Gr)return;ar<Kr&&(Kr=ar)}if(ar=Jn-si,eo||!(ar>0)){if(ar/=eo,eo<0){if(ar<Gr)return;ar<Kr&&(Kr=ar)}else if(eo>0){if(ar>Kr)return;ar>Gr&&(Gr=ar)}if(ar=yr-si,eo||!(ar<0)){if(ar/=eo,eo<0){if(ar>Kr)return;ar>Gr&&(Gr=ar)}else if(eo>0){if(ar<Gr)return;ar<Kr&&(Kr=ar)}return Gr>0&&(hn[0]=ri+Gr*jo,hn[1]=si+Gr*eo),Kr<1&&(_n[0]=ri+Kr*jo,_n[1]=si+Kr*eo),!0}}}}})(Fe,Ze,t,i,p,w)?(be||(Be.lineStart(),Be.point(Fe[0],Fe[1])),Be.point(Ze[0],Ze[1]),tn||Be.lineEnd(),ve=!1):tn&&(Be.lineStart(),Be.point(Je,Qe),ve=!1)}ae=Je,de=Qe,be=tn}return pn}}function Rb(){var t,i,p,w=0,A=0,B=960,Y=500;return p={stream:function(G){return t&&i===G?t:t=c0(w,A,B,Y)(i=G)},extent:function(G){return arguments.length?(w=+G[0][0],A=+G[0][1],B=+G[1][0],Y=+G[1][1],t=i=null,p):[[w,A],[B,Y]]}}}var Hd={sphere:ta,point:ta,lineStart:function(){Hd.point=$u,Hd.lineEnd=hv},lineEnd:ta,polygonStart:ta,polygonEnd:ta};function hv(){Hd.point=Hd.lineEnd=ta}function $u(t,i){tp=t*=ni,ep=Rr(i*=ni),Ma=qr(i),Hd.point=xm}function xm(t,i){t*=ni;var p=Rr(i*=ni),w=qr(i),A=ro(t-tp),B=qr(A),Y=w*Rr(A),G=Ma*p-ep*w*B,et=ep*p+Ma*w*B;s0.add(Ic(ys(Y*Y+G*G),et)),tp=t,ep=p,Ma=w}function l0(t){return s0=new J,nl(t,Hd),+s0}var Y1=[null,null],V1={type:"LineString",coordinates:Y1};function u0(t,i){return Y1[0]=t,Y1[1]=i,l0(V1)}var wm={Feature:function(t,i){return id(t.geometry,i)},FeatureCollection:function(t,i){for(var p=t.features,w=-1,A=p.length;++w<A;)if(id(p[w].geometry,i))return!0;return!1}},W1={Sphere:function(){return!0},Point:function(t,i){return G1(t.coordinates,i)},MultiPoint:function(t,i){for(var p=t.coordinates,w=-1,A=p.length;++w<A;)if(G1(p[w],i))return!0;return!1},LineString:function(t,i){return dv(t.coordinates,i)},MultiLineString:function(t,i){for(var p=t.coordinates,w=-1,A=p.length;++w<A;)if(dv(p[w],i))return!0;return!1},Polygon:function(t,i){return X1(t.coordinates,i)},MultiPolygon:function(t,i){for(var p=t.coordinates,w=-1,A=p.length;++w<A;)if(X1(p[w],i))return!0;return!1},GeometryCollection:function(t,i){for(var p=t.geometries,w=-1,A=p.length;++w<A;)if(id(p[w],i))return!0;return!1}};function id(t,i){return!(!t||!W1.hasOwnProperty(t.type))&&W1[t.type](t,i)}function G1(t,i){return u0(t,i)===0}function dv(t,i){for(var p,w,A,B=0,Y=t.length;B<Y;B++){if((w=u0(t[B],i))===0||B>0&&(A=u0(t[B],t[B-1]))>0&&p<=A&&w<=A&&(p+w-A)*(1-Math.pow((p-w)/A,2))<Qh*A)return!0;p=w}return!1}function X1(t,i){return!!ym(t.map(np),rp(i))}function np(t){return(t=t.map(rp)).pop(),t}function rp(t){return[t[0]*ni,t[1]*ni]}function Db(t,i){return(t&&wm.hasOwnProperty(t.type)?wm[t.type]:id)(t,i)}function _m(t,i,p){var w=Fn(t,i-fi,p).concat(i);return function(A){return w.map(function(B){return[A,B]})}}function h0(t,i,p){var w=Fn(t,i-fi,p).concat(i);return function(A){return w.map(function(B){return[B,A]})}}function km(){var t,i,p,w,A,B,Y,G,et,rt,Ot,zt,It=10,Gt=It,fe=90,oe=360,ae=2.5;function de(){return{type:"MultiLineString",coordinates:be()}}function be(){return Fn(Ff(w/fe)*fe,p,fe).map(Ot).concat(Fn(Ff(G/oe)*oe,Y,oe).map(zt)).concat(Fn(Ff(i/It)*It,t,It).filter(function(ye){return ro(ye%fe)>fi}).map(et)).concat(Fn(Ff(B/Gt)*Gt,A,Gt).filter(function(ye){return ro(ye%oe)>fi}).map(rt))}return de.lines=function(){return be().map(function(ye){return{type:"LineString",coordinates:ye}})},de.outline=function(){return{type:"Polygon",coordinates:[Ot(w).concat(zt(Y).slice(1),Ot(p).reverse().slice(1),zt(G).reverse().slice(1))]}},de.extent=function(ye){return arguments.length?de.extentMajor(ye).extentMinor(ye):de.extentMinor()},de.extentMajor=function(ye){return arguments.length?(w=+ye[0][0],p=+ye[1][0],G=+ye[0][1],Y=+ye[1][1],w>p&&(ye=w,w=p,p=ye),G>Y&&(ye=G,G=Y,Y=ye),de.precision(ae)):[[w,G],[p,Y]]},de.extentMinor=function(ye){return arguments.length?(i=+ye[0][0],t=+ye[1][0],B=+ye[0][1],A=+ye[1][1],i>t&&(ye=i,i=t,t=ye),B>A&&(ye=B,B=A,A=ye),de.precision(ae)):[[i,B],[t,A]]},de.step=function(ye){return arguments.length?de.stepMajor(ye).stepMinor(ye):de.stepMinor()},de.stepMajor=function(ye){return arguments.length?(fe=+ye[0],oe=+ye[1],de):[fe,oe]},de.stepMinor=function(ye){return arguments.length?(It=+ye[0],Gt=+ye[1],de):[It,Gt]},de.precision=function(ye){return arguments.length?(ae=+ye,et=_m(B,A,90),rt=h0(i,t,ae),Ot=_m(G,Y,90),zt=h0(w,p,ae),de):ae},de.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function fv(){return km()()}function ip(t,i){var p=t[0]*ni,w=t[1]*ni,A=i[0]*ni,B=i[1]*ni,Y=qr(w),G=Rr(w),et=qr(B),rt=Rr(B),Ot=Y*qr(p),zt=Y*Rr(p),It=et*qr(A),Gt=et*Rr(A),fe=2*hc(ys(Vp(B-w)+Y*et*Vp(A-p))),oe=Rr(fe),ae=fe?function(de){var be=Rr(de*=fe)/oe,ye=Rr(fe-de)/oe,ve=ye*Ot+be*It,Be=ye*zt+be*Gt,Ne=ye*G+be*rt;return[Ic(Be,ve)*Wo,Ic(Ne,ys(ve*ve+Be*Be))*Wo]}:function(){return[p*Wo,w*Wo]};return ae.distance=fe,ae}const d0=t=>t;var Cm,pv,$d,qd,Yd=new J,Vd=new J,pu={point:ta,lineStart:ta,lineEnd:ta,polygonStart:function(){pu.lineStart=Sm,pu.lineEnd=zb},polygonEnd:function(){pu.lineStart=pu.lineEnd=pu.point=ta,Yd.add(ro(Vd)),Vd=new J},result:function(){var t=Yd/2;return Yd=new J,t}};function Sm(){pu.point=Fb}function Fb(t,i){pu.point=Z1,Cm=$d=t,pv=qd=i}function Z1(t,i){Vd.add(qd*t-$d*i),$d=t,qd=i}function zb(){Z1(Cm,pv)}const gv=pu;var od=1/0,K1=od,Wd=-od,J1=Wd,Em={point:function(t,i){t<od&&(od=t),t>Wd&&(Wd=t),i<K1&&(K1=i),i>J1&&(J1=i)},lineStart:ta,lineEnd:ta,polygonStart:ta,polygonEnd:ta,result:function(){var t=[[od,K1],[Wd,J1]];return Wd=J1=-(K1=od=1/0),t}};const Q1=Em;var tg,mv,qu,Yu,Tm=0,Am=0,Gd=0,Xd=0,f0=0,op=0,eg=0,ad=0,Zd=0,Vl={point:Kd,lineStart:p0,lineEnd:yv,polygonStart:function(){Vl.lineStart=m0,Vl.lineEnd=vv},polygonEnd:function(){Vl.point=Kd,Vl.lineStart=p0,Vl.lineEnd=yv},result:function(){var t=Zd?[eg/Zd,ad/Zd]:op?[Xd/op,f0/op]:Gd?[Tm/Gd,Am/Gd]:[NaN,NaN];return Tm=Am=Gd=Xd=f0=op=eg=ad=Zd=0,t}};function Kd(t,i){Tm+=t,Am+=i,++Gd}function p0(){Vl.point=Rc}function Rc(t,i){Vl.point=g0,Kd(qu=t,Yu=i)}function g0(t,i){var p=t-qu,w=i-Yu,A=ys(p*p+w*w);Xd+=A*(qu+t)/2,f0+=A*(Yu+i)/2,op+=A,Kd(qu=t,Yu=i)}function yv(){Vl.point=Kd}function m0(){Vl.point=bv}function vv(){y0(tg,mv)}function bv(t,i){Vl.point=y0,Kd(tg=qu=t,mv=Yu=i)}function y0(t,i){var p=t-qu,w=i-Yu,A=ys(p*p+w*w);Xd+=A*(qu+t)/2,f0+=A*(Yu+i)/2,op+=A,eg+=(A=Yu*t-qu*i)*(qu+t),ad+=A*(Yu+i),Zd+=3*A,Kd(qu=t,Yu=i)}const Om=Vl;function Jd(t){this._context=t}Jd.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,i){switch(this._point){case 0:this._context.moveTo(t,i),this._point=1;break;case 1:this._context.lineTo(t,i);break;default:this._context.moveTo(t+this._radius,i),this._context.arc(t,i,this._radius,0,uc)}},result:ta};var ng,xv,wv,sd,Wl,cd=new J,rg={point:ta,lineStart:function(){rg.point=Ub},lineEnd:function(){ng&&v0(xv,wv),rg.point=ta},polygonStart:function(){ng=!0},polygonEnd:function(){ng=null},result:function(){var t=+cd;return cd=new J,t}};function Ub(t,i){rg.point=v0,xv=sd=t,wv=Wl=i}function v0(t,i){sd-=t,Wl-=i,cd.add(ys(sd*sd+Wl*Wl)),sd=t,Wl=i}const ap=rg;function Mm(){this._string=[]}function Lm(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function b0(t,i){var p,w,A=4.5;function B(Y){return Y&&(typeof A=="function"&&w.pointRadius(+A.apply(this,arguments)),nl(Y,p(w))),w.result()}return B.area=function(Y){return nl(Y,p(gv)),gv.result()},B.measure=function(Y){return nl(Y,p(ap)),ap.result()},B.bounds=function(Y){return nl(Y,p(Q1)),Q1.result()},B.centroid=function(Y){return nl(Y,p(Om)),Om.result()},B.projection=function(Y){return arguments.length?(p=Y==null?(t=null,d0):(t=Y).stream,B):t},B.context=function(Y){return arguments.length?(w=Y==null?(i=null,new Mm):new Jd(i=Y),typeof A!="function"&&w.pointRadius(A),B):i},B.pointRadius=function(Y){return arguments.length?(A=typeof Y=="function"?Y:(w.pointRadius(+Y),+Y),B):A},B.projection(t).context(i)}function Hb(t){return{stream:x0(t)}}function x0(t){return function(i){var p=new ig;for(var w in t)p[w]=t[w];return p.stream=i,p}}function ig(){}function Bm(t,i,p){var w=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),w!=null&&t.clipExtent(null),nl(p,t.stream(Q1)),i(Q1.result()),w!=null&&t.clipExtent(w),t}function og(t,i,p){return Bm(t,function(w){var A=i[1][0]-i[0][0],B=i[1][1]-i[0][1],Y=Math.min(A/(w[1][0]-w[0][0]),B/(w[1][1]-w[0][1])),G=+i[0][0]+(A-Y*(w[1][0]+w[0][0]))/2,et=+i[0][1]+(B-Y*(w[1][1]+w[0][1]))/2;t.scale(150*Y).translate([G,et])},p)}function jm(t,i,p){return og(t,[[0,0],i],p)}function Im(t,i,p){return Bm(t,function(w){var A=+i,B=A/(w[1][0]-w[0][0]),Y=(A-B*(w[1][0]+w[0][0]))/2,G=-B*w[0][1];t.scale(150*B).translate([Y,G])},p)}function w0(t,i,p){return Bm(t,function(w){var A=+i,B=A/(w[1][1]-w[0][1]),Y=-B*w[0][0],G=(A-B*(w[1][1]+w[0][1]))/2;t.scale(150*B).translate([Y,G])},p)}Mm.prototype={_radius:4.5,_circle:Lm(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(t,i){switch(this._point){case 0:this._string.push("M",t,",",i),this._point=1;break;case 1:this._string.push("L",t,",",i);break;default:this._circle==null&&(this._circle=Lm(this._radius)),this._string.push("M",t,",",i,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},ig.prototype={constructor:ig,point:function(t,i){this.stream.point(t,i)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Nm=qr(30*ni);function _v(t,i){return+i?function(p,w){function A(B,Y,G,et,rt,Ot,zt,It,Gt,fe,oe,ae,de,be){var ye=zt-B,ve=It-Y,Be=ye*ye+ve*ve;if(Be>4*w&&de--){var Ne=et+fe,pn=rt+oe,On=Ot+ae,nn=ys(Ne*Ne+pn*pn+On*On),Je=hc(On/=nn),Qe=ro(ro(On)-1)<fi||ro(G-Gt)<fi?(G+Gt)/2:Ic(pn,Ne),tn=p(Qe,Je),Fe=tn[0],Ze=tn[1],hn=Fe-B,_n=Ze-Y,Pn=ve*hn-ye*_n;(Pn*Pn/Be>w||ro((ye*hn+ve*_n)/Be-.5)>.3||et*fe+rt*oe+Ot*ae<Nm)&&(A(B,Y,G,et,rt,Ot,Fe,Ze,Qe,Ne/=nn,pn/=nn,On,de,be),be.point(Fe,Ze),A(Fe,Ze,Qe,Ne,pn,On,zt,It,Gt,fe,oe,ae,de,be))}}return function(B){var Y,G,et,rt,Ot,zt,It,Gt,fe,oe,ae,de,be={point:ye,lineStart:ve,lineEnd:Ne,polygonStart:function(){B.polygonStart(),be.lineStart=pn},polygonEnd:function(){B.polygonEnd(),be.lineStart=ve}};function ye(Je,Qe){Je=p(Je,Qe),B.point(Je[0],Je[1])}function ve(){Gt=NaN,be.point=Be,B.lineStart()}function Be(Je,Qe){var tn=Is([Je,Qe]),Fe=p(Je,Qe);A(Gt,fe,It,oe,ae,de,Gt=Fe[0],fe=Fe[1],It=Je,oe=tn[0],ae=tn[1],de=tn[2],16,B),B.point(Gt,fe)}function Ne(){be.point=ye,B.lineEnd()}function pn(){ve(),be.point=On,be.lineEnd=nn}function On(Je,Qe){Be(Y=Je,Qe),G=Gt,et=fe,rt=oe,Ot=ae,zt=de,be.point=Be}function nn(){A(Gt,fe,It,oe,ae,de,G,et,Y,rt,Ot,zt,16,B),be.lineEnd=Ne,Ne()}return be}}(t,i):function(p){return x0({point:function(w,A){w=p(w,A),this.stream.point(w[0],w[1])}})}(t)}var $b=x0({point:function(t,i){this.stream.point(t*ni,i*ni)}});function _0(t,i,p,w,A,B){if(!B)return function(oe,ae,de,be,ye){function ve(Be,Ne){return[ae+oe*(Be*=be),de-oe*(Ne*=ye)]}return ve.invert=function(Be,Ne){return[(Be-ae)/oe*be,(de-Ne)/oe*ye]},ve}(t,i,p,w,A);var Y=qr(B),G=Rr(B),et=Y*t,rt=G*t,Ot=Y/t,zt=G/t,It=(G*p-Y*i)/t,Gt=(G*i+Y*p)/t;function fe(oe,ae){return[et*(oe*=w)-rt*(ae*=A)+i,p-rt*oe-et*ae]}return fe.invert=function(oe,ae){return[w*(Ot*oe-zt*ae+It),A*(Gt-zt*oe-Ot*ae)]},fe}function Vu(t){return sp(function(){return t})()}function sp(t){var i,p,w,A,B,Y,G,et,rt,Ot,zt=150,It=480,Gt=250,fe=0,oe=0,ae=0,de=0,be=0,ye=0,ve=1,Be=1,Ne=null,pn=Ud,On=null,nn=d0,Je=.5;function Qe(hn){return et(hn[0]*ni,hn[1]*ni)}function tn(hn){return(hn=et.invert(hn[0],hn[1]))&&[hn[0]*Wo,hn[1]*Wo]}function Fe(){var hn=_0(zt,0,0,ve,Be,ye).apply(null,i(fe,oe)),_n=_0(zt,It-hn[0],Gt-hn[1],ve,Be,ye);return p=xo(ae,de,be),G=z1(i,_n),et=z1(p,G),Y=_v(G,Je),Ze()}function Ze(){return rt=Ot=null,Qe}return Qe.stream=function(hn){return rt&&Ot===hn?rt:rt=$b(function(_n){return x0({point:function(Pn,Jn){var or=_n(Pn,Jn);return this.stream.point(or[0],or[1])}})}(p)(pn(Y(nn(Ot=hn)))))},Qe.preclip=function(hn){return arguments.length?(pn=hn,Ne=void 0,Ze()):pn},Qe.postclip=function(hn){return arguments.length?(nn=hn,On=w=A=B=null,Ze()):nn},Qe.clipAngle=function(hn){return arguments.length?(pn=+hn?Qf(Ne=hn*ni):(Ne=null,Ud),Ze()):Ne*Wo},Qe.clipExtent=function(hn){return arguments.length?(nn=hn==null?(On=w=A=B=null,d0):c0(On=+hn[0][0],w=+hn[0][1],A=+hn[1][0],B=+hn[1][1]),Ze()):On==null?null:[[On,w],[A,B]]},Qe.scale=function(hn){return arguments.length?(zt=+hn,Fe()):zt},Qe.translate=function(hn){return arguments.length?(It=+hn[0],Gt=+hn[1],Fe()):[It,Gt]},Qe.center=function(hn){return arguments.length?(fe=hn[0]%360*ni,oe=hn[1]%360*ni,Fe()):[fe*Wo,oe*Wo]},Qe.rotate=function(hn){return arguments.length?(ae=hn[0]%360*ni,de=hn[1]%360*ni,be=hn.length>2?hn[2]%360*ni:0,Fe()):[ae*Wo,de*Wo,be*Wo]},Qe.angle=function(hn){return arguments.length?(ye=hn%360*ni,Fe()):ye*Wo},Qe.reflectX=function(hn){return arguments.length?(ve=hn?-1:1,Fe()):ve<0},Qe.reflectY=function(hn){return arguments.length?(Be=hn?-1:1,Fe()):Be<0},Qe.precision=function(hn){return arguments.length?(Y=_v(G,Je=hn*hn),Ze()):ys(Je)},Qe.fitExtent=function(hn,_n){return og(Qe,hn,_n)},Qe.fitSize=function(hn,_n){return jm(Qe,hn,_n)},Qe.fitWidth=function(hn,_n){return Im(Qe,hn,_n)},Qe.fitHeight=function(hn,_n){return w0(Qe,hn,_n)},function(){return i=t.apply(this,arguments),Qe.invert=i.invert&&tn,Fe()}}function ag(t){var i=0,p=Fi/3,w=sp(t),A=w(i,p);return A.parallels=function(B){return arguments.length?w(i=B[0]*ni,p=B[1]*ni):[i*Wo,p*Wo]},A}function Pm(t,i){var p=Rr(t),w=(p+Rr(i))/2;if(ro(w)<fi)return function(G){var et=qr(G);function rt(Ot,zt){return[Ot*et,Rr(zt)/et]}return rt.invert=function(Ot,zt){return[Ot/et,hc(zt*et)]},rt}(t);var A=1+p*(2*w-p),B=ys(A)/w;function Y(G,et){var rt=ys(A-2*w*Rr(et))/w;return[rt*Rr(G*=w),B-rt*qr(G)]}return Y.invert=function(G,et){var rt=B-et,Ot=Ic(G,ro(rt))*_l(rt);return rt*w<0&&(Ot-=Fi*_l(G)*_l(rt)),[Ot/w,hc((A-(G*G+rt*rt)*w*w)/(2*w))]},Y}function k0(){return ag(Pm).scale(155.424).center([0,33.6442])}function kv(){return k0().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function S(){var t,i,p,w,A,B,Y=kv(),G=k0().rotate([154,0]).center([-2,58.5]).parallels([55,65]),et=k0().rotate([157,0]).center([-3,19.9]).parallels([8,18]),rt={point:function(It,Gt){B=[It,Gt]}};function Ot(It){var Gt=It[0],fe=It[1];return B=null,p.point(Gt,fe),B||(w.point(Gt,fe),B)||(A.point(Gt,fe),B)}function zt(){return t=i=null,Ot}return Ot.invert=function(It){var Gt=Y.scale(),fe=Y.translate(),oe=(It[0]-fe[0])/Gt,ae=(It[1]-fe[1])/Gt;return(ae>=.12&&ae<.234&&oe>=-.425&&oe<-.214?G:ae>=.166&&ae<.234&&oe>=-.214&&oe<-.115?et:Y).invert(It)},Ot.stream=function(It){return t&&i===It?t:(Gt=[Y.stream(i=It),G.stream(It),et.stream(It)],fe=Gt.length,t={point:function(oe,ae){for(var de=-1;++de<fe;)Gt[de].point(oe,ae)},sphere:function(){for(var oe=-1;++oe<fe;)Gt[oe].sphere()},lineStart:function(){for(var oe=-1;++oe<fe;)Gt[oe].lineStart()},lineEnd:function(){for(var oe=-1;++oe<fe;)Gt[oe].lineEnd()},polygonStart:function(){for(var oe=-1;++oe<fe;)Gt[oe].polygonStart()},polygonEnd:function(){for(var oe=-1;++oe<fe;)Gt[oe].polygonEnd()}});var Gt,fe},Ot.precision=function(It){return arguments.length?(Y.precision(It),G.precision(It),et.precision(It),zt()):Y.precision()},Ot.scale=function(It){return arguments.length?(Y.scale(It),G.scale(.35*It),et.scale(It),Ot.translate(Y.translate())):Y.scale()},Ot.translate=function(It){if(!arguments.length)return Y.translate();var Gt=Y.scale(),fe=+It[0],oe=+It[1];return p=Y.translate(It).clipExtent([[fe-.455*Gt,oe-.238*Gt],[fe+.455*Gt,oe+.238*Gt]]).stream(rt),w=G.translate([fe-.307*Gt,oe+.201*Gt]).clipExtent([[fe-.425*Gt+fi,oe+.12*Gt+fi],[fe-.214*Gt-fi,oe+.234*Gt-fi]]).stream(rt),A=et.translate([fe-.205*Gt,oe+.212*Gt]).clipExtent([[fe-.214*Gt+fi,oe+.166*Gt+fi],[fe-.115*Gt-fi,oe+.234*Gt-fi]]).stream(rt),zt()},Ot.fitExtent=function(It,Gt){return og(Ot,It,Gt)},Ot.fitSize=function(It,Gt){return jm(Ot,It,Gt)},Ot.fitWidth=function(It,Gt){return Im(Ot,It,Gt)},Ot.fitHeight=function(It,Gt){return w0(Ot,It,Gt)},Ot.scale(1070)}function D(t){return function(i,p){var w=qr(i),A=qr(p),B=t(w*A);return B===1/0?[2,0]:[B*A*Rr(i),B*Rr(p)]}}function vt(t){return function(i,p){var w=ys(i*i+p*p),A=t(w),B=Rr(A),Y=qr(A);return[Ic(i*B,w*Y),hc(w&&p*B/w)]}}var Jt=D(function(t){return ys(2/(1+t))});function ge(){return Vu(Jt).scale(124.75).clipAngle(179.999)}Jt.invert=vt(function(t){return 2*hc(t/2)});var je=D(function(t){return(t=rv(t))&&t/Rr(t)});function Ve(){return Vu(je).scale(79.4188).clipAngle(179.999)}function ln(t,i){return[t,Yp(B1(($a+i)/2))]}function Cn(){return Xn(ln).scale(961/uc)}function Xn(t){var i,p,w,A=Vu(t),B=A.center,Y=A.scale,G=A.translate,et=A.clipExtent,rt=null;function Ot(){var zt=Fi*Y(),It=A(H1(A.rotate()).invert([0,0]));return et(rt==null?[[It[0]-zt,It[1]-zt],[It[0]+zt,It[1]+zt]]:t===ln?[[Math.max(It[0]-zt,rt),i],[Math.min(It[0]+zt,p),w]]:[[rt,Math.max(It[1]-zt,i)],[p,Math.min(It[1]+zt,w)]])}return A.scale=function(zt){return arguments.length?(Y(zt),Ot()):Y()},A.translate=function(zt){return arguments.length?(G(zt),Ot()):G()},A.center=function(zt){return arguments.length?(B(zt),Ot()):B()},A.clipExtent=function(zt){return arguments.length?(zt==null?rt=i=p=w=null:(rt=+zt[0][0],i=+zt[0][1],p=+zt[1][0],w=+zt[1][1]),Ot()):rt==null?null:[[rt,i],[p,w]]},Ot()}function Zn(t){return B1(($a+t)/2)}function rr(t,i){var p=qr(t),w=t===i?Rr(t):Yp(p/qr(i))/Yp(Zn(i)/Zn(t)),A=p*L1(Zn(t),w)/w;if(!w)return ln;function B(Y,G){A>0?G<-$a+fi&&(G=-$a+fi):G>$a-fi&&(G=$a-fi);var et=A/L1(Zn(G),w);return[et*Rr(w*Y),A-et*qr(w*Y)]}return B.invert=function(Y,G){var et=A-G,rt=_l(w)*ys(Y*Y+et*et),Ot=Ic(Y,ro(et))*_l(et);return et*w<0&&(Ot-=Fi*_l(Y)*_l(et)),[Ot/w,2*td(L1(A/rt,1/w))-$a]},B}function Or(){return ag(rr).scale(109.5).parallels([30,30])}function Yr(t,i){return[t,i]}function li(){return Vu(Yr).scale(152.63)}function Pi(t,i){var p=qr(t),w=t===i?Rr(t):(p-qr(i))/(i-t),A=p/w+t;if(ro(w)<fi)return Yr;function B(Y,G){var et=A-G,rt=w*Y;return[et*Rr(rt),A-et*qr(rt)]}return B.invert=function(Y,G){var et=A-G,rt=Ic(Y,ro(et))*_l(et);return et*w<0&&(rt-=Fi*_l(Y)*_l(et)),[rt/w,A-_l(w)*ys(Y*Y+et*et)]},B}function ai(){return ag(Pi).scale(131.154).center([0,13.9389])}je.invert=vt(function(t){return t}),ln.invert=function(t,i){return[t,2*td(M1(i))-$a]},Yr.invert=Yr;var Ri=1.340264,Bi=-.081106,Js=893e-6,xs=.003796,dc=ys(3)/2;function La(t,i){var p=hc(dc*Rr(i)),w=p*p,A=w*w*w;return[t*qr(p)/(dc*(Ri+3*Bi*w+A*(7*Js+9*xs*w))),p*(Ri+Bi*w+A*(Js+xs*w))]}function gu(){return Vu(La).scale(177.158)}function mu(t,i){var p=qr(i),w=qr(t)*p;return[p*Rr(t)/w,Rr(i)/w]}function Rm(){return Vu(mu).scale(144.049).clipAngle(60)}function M4(){var t,i,p,w,A,B,Y,G=1,et=0,rt=0,Ot=1,zt=1,It=0,Gt=null,fe=1,oe=1,ae=x0({point:function(ve,Be){var Ne=ye([ve,Be]);this.stream.point(Ne[0],Ne[1])}}),de=d0;function be(){return fe=G*Ot,oe=G*zt,B=Y=null,ye}function ye(ve){var Be=ve[0]*fe,Ne=ve[1]*oe;if(It){var pn=Ne*t-Be*i;Be=Be*t+Ne*i,Ne=pn}return[Be+et,Ne+rt]}return ye.invert=function(ve){var Be=ve[0]-et,Ne=ve[1]-rt;if(It){var pn=Ne*t+Be*i;Be=Be*t-Ne*i,Ne=pn}return[Be/fe,Ne/oe]},ye.stream=function(ve){return B&&Y===ve?B:B=ae(de(Y=ve))},ye.postclip=function(ve){return arguments.length?(de=ve,Gt=p=w=A=null,be()):de},ye.clipExtent=function(ve){return arguments.length?(de=ve==null?(Gt=p=w=A=null,d0):c0(Gt=+ve[0][0],p=+ve[0][1],w=+ve[1][0],A=+ve[1][1]),be()):Gt==null?null:[[Gt,p],[w,A]]},ye.scale=function(ve){return arguments.length?(G=+ve,be()):G},ye.translate=function(ve){return arguments.length?(et=+ve[0],rt=+ve[1],be()):[et,rt]},ye.angle=function(ve){return arguments.length?(i=Rr(It=ve%360*ni),t=qr(It),be()):It*Wo},ye.reflectX=function(ve){return arguments.length?(Ot=ve?-1:1,be()):Ot<0},ye.reflectY=function(ve){return arguments.length?(zt=ve?-1:1,be()):zt<0},ye.fitExtent=function(ve,Be){return og(ye,ve,Be)},ye.fitSize=function(ve,Be){return jm(ye,ve,Be)},ye.fitWidth=function(ve,Be){return Im(ye,ve,Be)},ye.fitHeight=function(ve,Be){return w0(ye,ve,Be)},ye}function qb(t,i){var p=i*i,w=p*p;return[t*(.8707-.131979*p+w*(w*(.003971*p-.001529*w)-.013791)),i*(1.007226+p*(.015085+w*(.028874*p-.044475-.005916*w)))]}function L4(){return Vu(qb).scale(175.295)}function cp(t,i){return[qr(i)*Rr(t),Rr(i)]}function B4(){return Vu(cp).scale(249.5).clipAngle(90.000001)}function Cv(t,i){var p=qr(i),w=1+qr(t)*p;return[p*Rr(t)/w,Rr(i)/w]}function j4(){return Vu(Cv).scale(250).clipAngle(142)}function Sv(t,i){return[Yp(B1(($a+i)/2)),-t]}function I4(){var t=Xn(Sv),i=t.center,p=t.rotate;return t.center=function(w){return arguments.length?i([-w[1],w[0]]):[(w=i())[1],-w[0]]},t.rotate=function(w){return arguments.length?p([w[0],w[1],w.length>2?w[2]+90:90]):[(w=p())[0],w[1],w[2]-90]},p([0,0,90]).scale(159.155)}function N4(t,i){return t.parent===i.parent?1:2}function Sh(t,i){return t+i.x}function Qd(t,i){return Math.max(t,i.y)}function cw(){var t=N4,i=1,p=1,w=!1;function A(B){var Y,G=0;B.eachAfter(function(It){var Gt=It.children;Gt?(It.x=function(fe){return fe.reduce(Sh,0)/fe.length}(Gt),It.y=function(fe){return 1+fe.reduce(Qd,0)}(Gt)):(It.x=Y?G+=t(It,Y):0,It.y=0,Y=It)});var et=function(It){for(var Gt;Gt=It.children;)It=Gt[0];return It}(B),rt=function(It){for(var Gt;Gt=It.children;)It=Gt[Gt.length-1];return It}(B),Ot=et.x-t(et,rt)/2,zt=rt.x+t(rt,et)/2;return B.eachAfter(w?function(It){It.x=(It.x-B.x)*i,It.y=(B.y-It.y)*p}:function(It){It.x=(It.x-Ot)/(zt-Ot)*i,It.y=(1-(B.y?It.y/B.y:1))*p})}return A.separation=function(B){return arguments.length?(t=B,A):t},A.size=function(B){return arguments.length?(w=!1,i=+B[0],p=+B[1],A):w?null:[i,p]},A.nodeSize=function(B){return arguments.length?(w=!0,i=+B[0],p=+B[1],A):w?[i,p]:null},A}function Ev(t){var i=0,p=t.children,w=p&&p.length;if(w)for(;--w>=0;)i+=p[w].value;else i=1;t.value=i}function tf(t,i){t instanceof Map?(t=[void 0,t],i===void 0&&(i=Vb)):i===void 0&&(i=Yb);for(var p,w,A,B,Y,G=new C0(t),et=[G];p=et.pop();)if((A=i(p.data))&&(Y=(A=Array.from(A)).length))for(p.children=A,B=Y-1;B>=0;--B)et.push(w=A[B]=new C0(A[B])),w.parent=p,w.depth=p.depth+1;return G.eachBefore(Gb)}function Yb(t){return t.children}function Vb(t){return Array.isArray(t)?t[1]:null}function Wb(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function Gb(t){var i=0;do t.height=i;while((t=t.parent)&&t.height<++i)}function C0(t){this.data=t,this.depth=this.height=0,this.parent=null}function sg(t){return t==null?null:Xb(t)}function Xb(t){if(typeof t!="function")throw new Error;return t}function Ja(){return 0}function lp(t){return function(){return t}}La.invert=function(t,i){for(var p,w=i,A=w*w,B=A*A*A,Y=0;Y<12&&(B=(A=(w-=p=(w*(Ri+Bi*A+B*(Js+xs*A))-i)/(Ri+3*Bi*A+B*(7*Js+9*xs*A)))*w)*A*A,!(ro(p)<Qh));++Y);return[dc*t*(Ri+3*Bi*A+B*(7*Js+9*xs*A))/qr(w),hc(Rr(w)/dc)]},mu.invert=vt(td),qb.invert=function(t,i){var p,w=i,A=25;do{var B=w*w,Y=B*B;w-=p=(w*(1.007226+B*(.015085+Y*(.028874*B-.044475-.005916*Y)))-i)/(1.007226+B*(.045255+Y*(.259866*B-.311325-.06507600000000001*Y)))}while(ro(p)>fi&&--A>0);return[t/(.8707+(B=w*w)*(B*(B*B*B*(.003971-.001529*B)-.013791)-.131979)),w]},cp.invert=vt(hc),Cv.invert=vt(function(t){return 2*td(t)}),Sv.invert=function(t,i){return[-i,2*td(M1(t))-$a]},C0.prototype=tf.prototype={constructor:C0,count:function(){return this.eachAfter(Ev)},each:function(t,i){let p=-1;for(const w of this)t.call(i,w,++p,this);return this},eachAfter:function(t,i){for(var p,w,A,B=this,Y=[B],G=[],et=-1;B=Y.pop();)if(G.push(B),p=B.children)for(w=0,A=p.length;w<A;++w)Y.push(p[w]);for(;B=G.pop();)t.call(i,B,++et,this);return this},eachBefore:function(t,i){for(var p,w,A=this,B=[A],Y=-1;A=B.pop();)if(t.call(i,A,++Y,this),p=A.children)for(w=p.length-1;w>=0;--w)B.push(p[w]);return this},find:function(t,i){let p=-1;for(const w of this)if(t.call(i,w,++p,this))return w},sum:function(t){return this.eachAfter(function(i){for(var p=+t(i.data)||0,w=i.children,A=w&&w.length;--A>=0;)p+=w[A].value;i.value=p})},sort:function(t){return this.eachBefore(function(i){i.children&&i.children.sort(t)})},path:function(t){for(var i=this,p=function(B,Y){if(B===Y)return B;var G=B.ancestors(),et=Y.ancestors(),rt=null;for(B=G.pop(),Y=et.pop();B===Y;)rt=B,B=G.pop(),Y=et.pop();return rt}(i,t),w=[i];i!==p;)i=i.parent,w.push(i);for(var A=w.length;t!==p;)w.splice(A,0,t),t=t.parent;return w},ancestors:function(){for(var t=this,i=[t];t=t.parent;)i.push(t);return i},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore(function(i){i.children||t.push(i)}),t},links:function(){var t=this,i=[];return t.each(function(p){p!==t&&i.push({source:p.parent,target:p})}),i},copy:function(){return tf(this).eachBefore(Wb)},[Symbol.iterator]:function*(){var t,i,p,w,A=this,B=[A];do for(t=B.reverse(),B=[];A=t.pop();)if(yield A,i=A.children)for(p=0,w=i.length;p<w;++p)B.push(i[p]);while(B.length)}};const Zb=4294967296;function Kb(){let t=1;return()=>(t=(1664525*t+1013904223)%Zb)/Zb}function P4(t){return cg(t,Kb())}function cg(t,i){for(var p,w,A=0,B=(t=function(G,et){let rt,Ot,zt=G.length;for(;zt;)Ot=et()*zt--|0,rt=G[zt],G[zt]=G[Ot],G[Ot]=rt;return G}(Array.from(t),i)).length,Y=[];A<B;)p=t[A],w&&Jb(w,p)?++A:(w=lw(Y=Tv(Y,p)),A=0);return w}function Tv(t,i){var p,w;if(ef(i,t))return[i];for(p=0;p<t.length;++p)if(Dm(i,t[p])&&ef(lg(t[p],i),t))return[t[p],i];for(p=0;p<t.length-1;++p)for(w=p+1;w<t.length;++w)if(Dm(lg(t[p],t[w]),i)&&Dm(lg(t[p],i),t[w])&&Dm(lg(t[w],i),t[p])&&ef(Qb(t[p],t[w],i),t))return[t[p],t[w],i];throw new Error}function Dm(t,i){var p=t.r-i.r,w=i.x-t.x,A=i.y-t.y;return p<0||p*p<w*w+A*A}function Jb(t,i){var p=t.r-i.r+1e-9*Math.max(t.r,i.r,1),w=i.x-t.x,A=i.y-t.y;return p>0&&p*p>w*w+A*A}function ef(t,i){for(var p=0;p<i.length;++p)if(!Jb(t,i[p]))return!1;return!0}function lw(t){switch(t.length){case 1:return{x:(i=t[0]).x,y:i.y,r:i.r};case 2:return lg(t[0],t[1]);case 3:return Qb(t[0],t[1],t[2])}var i}function lg(t,i){var p=t.x,w=t.y,A=t.r,B=i.x,Y=i.y,G=i.r,et=B-p,rt=Y-w,Ot=G-A,zt=Math.sqrt(et*et+rt*rt);return{x:(p+B+et/zt*Ot)/2,y:(w+Y+rt/zt*Ot)/2,r:(zt+A+G)/2}}function Qb(t,i,p){var w=t.x,A=t.y,B=t.r,Y=i.x,G=i.y,et=i.r,rt=p.x,Ot=p.y,zt=p.r,It=w-Y,Gt=w-rt,fe=A-G,oe=A-Ot,ae=et-B,de=zt-B,be=w*w+A*A-B*B,ye=be-Y*Y-G*G+et*et,ve=be-rt*rt-Ot*Ot+zt*zt,Be=Gt*fe-It*oe,Ne=(fe*ve-oe*ye)/(2*Be)-w,pn=(oe*ae-fe*de)/Be,On=(Gt*ye-It*ve)/(2*Be)-A,nn=(It*de-Gt*ae)/Be,Je=pn*pn+nn*nn-1,Qe=2*(B+Ne*pn+On*nn),tn=Ne*Ne+On*On-B*B,Fe=-(Math.abs(Je)>1e-6?(Qe+Math.sqrt(Qe*Qe-4*Je*tn))/(2*Je):tn/Qe);return{x:w+Ne+pn*Fe,y:A+On+nn*Fe,r:Fe}}function t2(t,i,p){var w,A,B,Y,G=t.x-i.x,et=t.y-i.y,rt=G*G+et*et;rt?(A=i.r+p.r,A*=A,Y=t.r+p.r,A>(Y*=Y)?(w=(rt+Y-A)/(2*rt),B=Math.sqrt(Math.max(0,Y/rt-w*w)),p.x=t.x-w*G-B*et,p.y=t.y-w*et+B*G):(w=(rt+A-Y)/(2*rt),B=Math.sqrt(Math.max(0,A/rt-w*w)),p.x=i.x+w*G-B*et,p.y=i.y+w*et+B*G)):(p.x=i.x+p.r,p.y=i.y)}function e2(t,i){var p=t.r+i.r-1e-6,w=i.x-t.x,A=i.y-t.y;return p>0&&p*p>w*w+A*A}function uw(t){var i=t._,p=t.next._,w=i.r+p.r,A=(i.x*p.r+p.x*i.r)/w,B=(i.y*p.r+p.y*i.r)/w;return A*A+B*B}function Av(t){this._=t,this.next=null,this.previous=null}function hw(t,i){if(!(Y=(p=t,t=typeof p=="object"&&"length"in p?p:Array.from(p)).length))return 0;var p,w,A,B,Y,G,et,rt,Ot,zt,It,Gt;if((w=t[0]).x=0,w.y=0,!(Y>1))return w.r;if(A=t[1],w.x=-A.r,A.x=w.r,A.y=0,!(Y>2))return w.r+A.r;t2(A,w,B=t[2]),w=new Av(w),A=new Av(A),B=new Av(B),w.next=B.previous=A,A.next=w.previous=B,B.next=A.previous=w;t:for(rt=3;rt<Y;++rt){t2(w._,A._,B=t[rt]),B=new Av(B),Ot=A.next,zt=w.previous,It=A._.r,Gt=w._.r;do if(It<=Gt){if(e2(Ot._,B._)){A=Ot,w.next=A,A.previous=w,--rt;continue t}It+=Ot._.r,Ot=Ot.next}else{if(e2(zt._,B._)){(w=zt).next=A,A.previous=w,--rt;continue t}Gt+=zt._.r,zt=zt.previous}while(Ot!==zt.next);for(B.previous=w,B.next=A,w.next=A.previous=A=B,G=uw(w);(B=B.next)!==A;)(et=uw(B))<G&&(w=B,G=et);A=w.next}for(w=[A._],B=A;(B=B.next)!==A;)w.push(B._);for(B=cg(w,i),rt=0;rt<Y;++rt)(w=t[rt]).x-=B.x,w.y-=B.y;return B.r}function dw(t){return hw(t,Kb()),t}function n2(t){return Math.sqrt(t.value)}function fw(){var t=null,i=1,p=1,w=Ja;function A(B){const Y=Kb();return B.x=i/2,B.y=p/2,t?B.eachBefore(r2(t)).eachAfter(Ov(w,.5,Y)).eachBefore(Mv(1)):B.eachBefore(r2(n2)).eachAfter(Ov(Ja,1,Y)).eachAfter(Ov(w,B.r/Math.min(i,p),Y)).eachBefore(Mv(Math.min(i,p)/(2*B.r))),B}return A.radius=function(B){return arguments.length?(t=sg(B),A):t},A.size=function(B){return arguments.length?(i=+B[0],p=+B[1],A):[i,p]},A.padding=function(B){return arguments.length?(w=typeof B=="function"?B:lp(+B),A):w},A}function r2(t){return function(i){i.children||(i.r=Math.max(0,+t(i)||0))}}function Ov(t,i,p){return function(w){if(A=w.children){var A,B,Y,G=A.length,et=t(w)*i||0;if(et)for(B=0;B<G;++B)A[B].r+=et;if(Y=hw(A,p),et)for(B=0;B<G;++B)A[B].r-=et;w.r=Y+et}}}function Mv(t){return function(i){var p=i.parent;i.r*=t,p&&(i.x=p.x+t*i.x,i.y=p.y+t*i.y)}}function i2(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function ug(t,i,p,w,A){for(var B,Y=t.children,G=-1,et=Y.length,rt=t.value&&(w-i)/t.value;++G<et;)(B=Y[G]).y0=p,B.y1=A,B.x0=i,B.x1=i+=B.value*rt}function R4(){var t=1,i=1,p=0,w=!1;function A(B){var Y=B.height+1;return B.x0=B.y0=p,B.x1=t,B.y1=i/Y,B.eachBefore(function(G,et){return function(rt){rt.children&&ug(rt,rt.x0,G*(rt.depth+1)/et,rt.x1,G*(rt.depth+2)/et);var Ot=rt.x0,zt=rt.y0,It=rt.x1-p,Gt=rt.y1-p;It<Ot&&(Ot=It=(Ot+It)/2),Gt<zt&&(zt=Gt=(zt+Gt)/2),rt.x0=Ot,rt.y0=zt,rt.x1=It,rt.y1=Gt}}(i,Y)),w&&B.eachBefore(i2),B}return A.round=function(B){return arguments.length?(w=!!B,A):w},A.size=function(B){return arguments.length?(t=+B[0],i=+B[1],A):[t,i]},A.padding=function(B){return arguments.length?(p=+B,A):p},A}var D4={depth:-1},Lv={},Fm={};function F4(t){return t.id}function pw(t){return t.parentId}function gw(){var t,i=F4,p=pw;function w(A){var B,Y,G,et,rt,Ot,zt,It,Gt=Array.from(A),fe=i,oe=p,ae=new Map;if(t!=null){const de=Gt.map((ve,Be)=>function(Ne){let pn=(Ne=`${Ne}`).length;return zm(Ne,pn-1)&&!zm(Ne,pn-2)&&(Ne=Ne.slice(0,-1)),Ne[0]==="/"?Ne:`/${Ne}`}(t(ve,Be,A))),be=de.map(o2),ye=new Set(de).add("");for(const ve of be)ye.has(ve)||(ye.add(ve),de.push(ve),be.push(o2(ve)),Gt.push(Fm));fe=(ve,Be)=>de[Be],oe=(ve,Be)=>be[Be]}for(G=0,B=Gt.length;G<B;++G)Y=Gt[G],Ot=Gt[G]=new C0(Y),(zt=fe(Y,G,A))!=null&&(zt+="")&&(It=Ot.id=zt,ae.set(It,ae.has(It)?Lv:Ot)),(zt=oe(Y,G,A))!=null&&(zt+="")&&(Ot.parent=zt);for(G=0;G<B;++G)if(zt=(Ot=Gt[G]).parent){if(!(rt=ae.get(zt)))throw new Error("missing: "+zt);if(rt===Lv)throw new Error("ambiguous: "+zt);rt.children?rt.children.push(Ot):rt.children=[Ot],Ot.parent=rt}else{if(et)throw new Error("multiple roots");et=Ot}if(!et)throw new Error("no root");if(t!=null){for(;et.data===Fm&&et.children.length===1;)et=et.children[0],--B;for(let de=Gt.length-1;de>=0&&(Ot=Gt[de],Ot.data===Fm);--de)Ot.data=null}if(et.parent=D4,et.eachBefore(function(de){de.depth=de.parent.depth+1,--B}).eachBefore(Gb),et.parent=null,B>0)throw new Error("cycle");return et}return w.id=function(A){return arguments.length?(i=sg(A),w):i},w.parentId=function(A){return arguments.length?(p=sg(A),w):p},w.path=function(A){return arguments.length?(t=sg(A),w):t},w}function o2(t){let i=t.length;if(i<2)return"";for(;--i>1&&!zm(t,i););return t.slice(0,i)}function zm(t,i){if(t[i]==="/"){let p=0;for(;i>0&&t[--i]==="\\";)++p;if(!(1&p))return!0}return!1}function a2(t,i){return t.parent===i.parent?1:2}function ws(t){var i=t.children;return i?i[0]:t.t}function Um(t){var i=t.children;return i?i[i.length-1]:t.t}function S0(t,i,p){var w=p/(i.i-t.i);i.c-=w,i.s+=p,t.c+=w,i.z+=p,i.m+=p}function z4(t,i,p){return t.a.parent===i.parent?t.a:p}function Hm(t,i){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=i}function mw(){var t=a2,i=1,p=1,w=null;function A(et){var rt=function(de){for(var be,ye,ve,Be,Ne,pn=new Hm(de,0),On=[pn];be=On.pop();)if(ve=be._.children)for(be.children=new Array(Ne=ve.length),Be=Ne-1;Be>=0;--Be)On.push(ye=be.children[Be]=new Hm(ve[Be],Be)),ye.parent=be;return(pn.parent=new Hm(null,0)).children=[pn],pn}(et);if(rt.eachAfter(B),rt.parent.m=-rt.z,rt.eachBefore(Y),w)et.eachBefore(G);else{var Ot=et,zt=et,It=et;et.eachBefore(function(de){de.x<Ot.x&&(Ot=de),de.x>zt.x&&(zt=de),de.depth>It.depth&&(It=de)});var Gt=Ot===zt?1:t(Ot,zt)/2,fe=Gt-Ot.x,oe=i/(zt.x+Gt+fe),ae=p/(It.depth||1);et.eachBefore(function(de){de.x=(de.x+fe)*oe,de.y=de.depth*ae})}return et}function B(et){var rt=et.children,Ot=et.parent.children,zt=et.i?Ot[et.i-1]:null;if(rt){(function(Gt){for(var fe,oe=0,ae=0,de=Gt.children,be=de.length;--be>=0;)(fe=de[be]).z+=oe,fe.m+=oe,oe+=fe.s+(ae+=fe.c)})(et);var It=(rt[0].z+rt[rt.length-1].z)/2;zt?(et.z=zt.z+t(et._,zt._),et.m=et.z-It):et.z=It}else zt&&(et.z=zt.z+t(et._,zt._));et.parent.A=function(Gt,fe,oe){if(fe){for(var ae,de=Gt,be=Gt,ye=fe,ve=de.parent.children[0],Be=de.m,Ne=be.m,pn=ye.m,On=ve.m;ye=Um(ye),de=ws(de),ye&&de;)ve=ws(ve),(be=Um(be)).a=Gt,(ae=ye.z+pn-de.z-Be+t(ye._,de._))>0&&(S0(z4(ye,Gt,oe),Gt,ae),Be+=ae,Ne+=ae),pn+=ye.m,Be+=de.m,On+=ve.m,Ne+=be.m;ye&&!Um(be)&&(be.t=ye,be.m+=pn-Ne),de&&!ws(ve)&&(ve.t=de,ve.m+=Be-On,oe=Gt)}return oe}(et,zt,et.parent.A||Ot[0])}function Y(et){et._.x=et.z+et.parent.m,et.m+=et.parent.m}function G(et){et.x*=i,et.y=et.depth*p}return A.separation=function(et){return arguments.length?(t=et,A):t},A.size=function(et){return arguments.length?(w=!1,i=+et[0],p=+et[1],A):w?null:[i,p]},A.nodeSize=function(et){return arguments.length?(w=!0,i=+et[0],p=+et[1],A):w?[i,p]:null},A}function Bv(t,i,p,w,A){for(var B,Y=t.children,G=-1,et=Y.length,rt=t.value&&(A-p)/t.value;++G<et;)(B=Y[G]).x0=i,B.x1=w,B.y0=p,B.y1=p+=B.value*rt}Hm.prototype=Object.create(C0.prototype);var $m=(1+Math.sqrt(5))/2;function up(t,i,p,w,A,B){for(var Y,G,et,rt,Ot,zt,It,Gt,fe,oe,ae,de=[],be=i.children,ye=0,ve=0,Be=be.length,Ne=i.value;ye<Be;){et=A-p,rt=B-w;do Ot=be[ve++].value;while(!Ot&&ve<Be);for(zt=It=Ot,ae=Ot*Ot*(oe=Math.max(rt/et,et/rt)/(Ne*t)),fe=Math.max(It/ae,ae/zt);ve<Be;++ve){if(Ot+=G=be[ve].value,G<zt&&(zt=G),G>It&&(It=G),ae=Ot*Ot*oe,(Gt=Math.max(It/ae,ae/zt))>fe){Ot-=G;break}fe=Gt}de.push(Y={value:Ot,dice:et<rt,children:be.slice(ye,ve)}),Y.dice?ug(Y,p,w,A,Ne?w+=rt*Ot/Ne:B):Bv(Y,p,w,Ne?p+=et*Ot/Ne:A,B),Ne-=Ot,ye=ve}return de}const qm=function t(i){function p(w,A,B,Y,G){up(i,w,A,B,Y,G)}return p.ratio=function(w){return t((w=+w)>1?w:1)},p}($m);function yw(){var t=qm,i=!1,p=1,w=1,A=[0],B=Ja,Y=Ja,G=Ja,et=Ja,rt=Ja;function Ot(It){return It.x0=It.y0=0,It.x1=p,It.y1=w,It.eachBefore(zt),A=[0],i&&It.eachBefore(i2),It}function zt(It){var Gt=A[It.depth],fe=It.x0+Gt,oe=It.y0+Gt,ae=It.x1-Gt,de=It.y1-Gt;ae<fe&&(fe=ae=(fe+ae)/2),de<oe&&(oe=de=(oe+de)/2),It.x0=fe,It.y0=oe,It.x1=ae,It.y1=de,It.children&&(Gt=A[It.depth+1]=B(It)/2,fe+=rt(It)-Gt,oe+=Y(It)-Gt,(ae-=G(It)-Gt)<fe&&(fe=ae=(fe+ae)/2),(de-=et(It)-Gt)<oe&&(oe=de=(oe+de)/2),t(It,fe,oe,ae,de))}return Ot.round=function(It){return arguments.length?(i=!!It,Ot):i},Ot.size=function(It){return arguments.length?(p=+It[0],w=+It[1],Ot):[p,w]},Ot.tile=function(It){return arguments.length?(t=Xb(It),Ot):t},Ot.padding=function(It){return arguments.length?Ot.paddingInner(It).paddingOuter(It):Ot.paddingInner()},Ot.paddingInner=function(It){return arguments.length?(B=typeof It=="function"?It:lp(+It),Ot):B},Ot.paddingOuter=function(It){return arguments.length?Ot.paddingTop(It).paddingRight(It).paddingBottom(It).paddingLeft(It):Ot.paddingTop()},Ot.paddingTop=function(It){return arguments.length?(Y=typeof It=="function"?It:lp(+It),Ot):Y},Ot.paddingRight=function(It){return arguments.length?(G=typeof It=="function"?It:lp(+It),Ot):G},Ot.paddingBottom=function(It){return arguments.length?(et=typeof It=="function"?It:lp(+It),Ot):et},Ot.paddingLeft=function(It){return arguments.length?(rt=typeof It=="function"?It:lp(+It),Ot):rt},Ot}function vw(t,i,p,w,A){var B,Y,G=t.children,et=G.length,rt=new Array(et+1);for(rt[0]=Y=B=0;B<et;++B)rt[B+1]=Y+=G[B].value;(function Ot(zt,It,Gt,fe,oe,ae,de){if(zt>=It-1){var be=G[zt];return be.x0=fe,be.y0=oe,be.x1=ae,void(be.y1=de)}for(var ye=rt[zt],ve=Gt/2+ye,Be=zt+1,Ne=It-1;Be<Ne;){var pn=Be+Ne>>>1;rt[pn]<ve?Be=pn+1:Ne=pn}ve-rt[Be-1]<rt[Be]-ve&&zt+1<Be&&--Be;var On=rt[Be]-ye,nn=Gt-On;if(ae-fe>de-oe){var Je=Gt?(fe*nn+ae*On)/Gt:ae;Ot(zt,Be,On,fe,oe,Je,de),Ot(Be,It,nn,Je,oe,ae,de)}else{var Qe=Gt?(oe*nn+de*On)/Gt:de;Ot(zt,Be,On,fe,oe,ae,Qe),Ot(Be,It,nn,fe,Qe,ae,de)}})(0,et,t.value,i,p,w,A)}function E0(t,i,p,w,A){(1&t.depth?Bv:ug)(t,i,p,w,A)}const Ym=function t(i){function p(w,A,B,Y,G){if((et=w._squarify)&&et.ratio===i)for(var et,rt,Ot,zt,It,Gt=-1,fe=et.length,oe=w.value;++Gt<fe;){for(Ot=(rt=et[Gt]).children,zt=rt.value=0,It=Ot.length;zt<It;++zt)rt.value+=Ot[zt].value;rt.dice?ug(rt,A,B,Y,oe?B+=(G-B)*rt.value/oe:G):Bv(rt,A,B,oe?A+=(Y-A)*rt.value/oe:Y,G),oe-=rt.value}else w._squarify=et=up(i,w,A,B,Y,G),et.ratio=i}return p.ratio=function(w){return t((w=+w)>1?w:1)},p}($m);function Vm(t){var i=t.length;return function(p){return t[Math.max(0,Math.min(i-1,Math.floor(p*i)))]}}function bw(t,i){var p=mf(+t,+i);return function(w){var A=p(w);return A-360*Math.floor(A/360)}}function Wm(t,i){return t=+t,i=+i,function(p){return Math.round(t*(1-p)+i*p)}}function hp(t){return((t=Math.exp(t))+1/t)/2}const s2=function t(i,p,w){function A(B,Y){var G,et,rt=B[0],Ot=B[1],zt=B[2],It=Y[0],Gt=Y[1],fe=Y[2],oe=It-rt,ae=Gt-Ot,de=oe*oe+ae*ae;if(de<1e-12)et=Math.log(fe/zt)/i,G=function(pn){return[rt+pn*oe,Ot+pn*ae,zt*Math.exp(i*pn*et)]};else{var be=Math.sqrt(de),ye=(fe*fe-zt*zt+w*de)/(2*zt*p*be),ve=(fe*fe-zt*zt-w*de)/(2*fe*p*be),Be=Math.log(Math.sqrt(ye*ye+1)-ye),Ne=Math.log(Math.sqrt(ve*ve+1)-ve);et=(Ne-Be)/i,G=function(pn){var On,nn=pn*et,Je=hp(Be),Qe=zt/(p*be)*(Je*(On=i*nn+Be,((On=Math.exp(2*On))-1)/(On+1))-function(tn){return((tn=Math.exp(tn))-1/tn)/2}(Be));return[rt+Qe*oe,Ot+Qe*ae,zt*Je/hp(i*nn+Be)]}}return G.duration=1e3*et*i/Math.SQRT2,G}return A.rho=function(B){var Y=Math.max(.001,+B),G=Y*Y;return t(Y,G,G*G)},A}(Math.SQRT2,2,4);function c2(t){return function(i,p){var w=t((i=vo(i)).h,(p=vo(p)).h),A=Ho(i.s,p.s),B=Ho(i.l,p.l),Y=Ho(i.opacity,p.opacity);return function(G){return i.h=w(G),i.s=A(G),i.l=B(G),i.opacity=Y(G),i+""}}}const xw=c2(mf);var U4=c2(Ho);function H4(t,i){var p=Ho((t=Ta(t)).l,(i=Ta(i)).l),w=Ho(t.a,i.a),A=Ho(t.b,i.b),B=Ho(t.opacity,i.opacity);return function(Y){return t.l=p(Y),t.a=w(Y),t.b=A(Y),t.opacity=B(Y),t+""}}function ww(t){return function(i,p){var w=t((i=qh(i)).h,(p=qh(p)).h),A=Ho(i.c,p.c),B=Ho(i.l,p.l),Y=Ho(i.opacity,p.opacity);return function(G){return i.h=w(G),i.c=A(G),i.l=B(G),i.opacity=Y(G),i+""}}}const $4=ww(mf);var q4=ww(Ho);function _w(t){return function i(p){function w(A,B){var Y=t((A=Fl(A)).h,(B=Fl(B)).h),G=Ho(A.s,B.s),et=Ho(A.l,B.l),rt=Ho(A.opacity,B.opacity);return function(Ot){return A.h=Y(Ot),A.s=G(Ot),A.l=et(Math.pow(Ot,p)),A.opacity=rt(Ot),A+""}}return p=+p,w.gamma=i,w}(1)}const kw=_w(mf);var T0=_w(Ho);function Cw(t,i){i===void 0&&(i=t,t=As);for(var p=0,w=i.length-1,A=i[0],B=new Array(w<0?0:w);p<w;)B[p]=t(A,A=i[++p]);return function(Y){var G=Math.max(0,Math.min(w-1,Math.floor(Y*=w)));return B[G](Y-G)}}function Sw(t,i){for(var p=new Array(i),w=0;w<i;++w)p[w]=t(w/(i-1));return p}function Ew(t){for(var i,p=-1,w=t.length,A=t[w-1],B=0;++p<w;)i=A,A=t[p],B+=i[1]*A[0]-i[0]*A[1];return B/2}function Y4(t){for(var i,p,w=-1,A=t.length,B=0,Y=0,G=t[A-1],et=0;++w<A;)i=G,G=t[w],et+=p=i[0]*G[1]-G[0]*i[1],B+=(i[0]+G[0])*p,Y+=(i[1]+G[1])*p;return[B/(et*=3),Y/et]}function Tw(t,i,p){return(i[0]-t[0])*(p[1]-t[1])-(i[1]-t[1])*(p[0]-t[0])}function Aw(t,i){return t[0]-i[0]||t[1]-i[1]}function Ow(t){const i=t.length,p=[0,1];let w,A=2;for(w=2;w<i;++w){for(;A>1&&Tw(t[p[A-2]],t[p[A-1]],t[w])<=0;)--A;p[A++]=w}return p.slice(0,A)}function Mw(t){if((p=t.length)<3)return null;var i,p,w=new Array(p),A=new Array(p);for(i=0;i<p;++i)w[i]=[+t[i][0],+t[i][1],i];for(w.sort(Aw),i=0;i<p;++i)A[i]=[w[i][0],-w[i][1]];var B=Ow(w),Y=Ow(A),G=Y[0]===B[0],et=Y[Y.length-1]===B[B.length-1],rt=[];for(i=B.length-1;i>=0;--i)rt.push(t[w[B[i]][2]]);for(i=+G;i<Y.length-et;++i)rt.push(t[w[Y[i]][2]]);return rt}function jv(t,i){for(var p,w,A=t.length,B=t[A-1],Y=i[0],G=i[1],et=B[0],rt=B[1],Ot=!1,zt=0;zt<A;++zt)p=(B=t[zt])[0],(w=B[1])>G!=rt>G&&Y<(et-p)*(G-w)/(rt-w)+p&&(Ot=!Ot),et=p,rt=w;return Ot}function Lw(t){for(var i,p,w=-1,A=t.length,B=t[A-1],Y=B[0],G=B[1],et=0;++w<A;)i=Y,p=G,i-=Y=(B=t[w])[0],p-=G=B[1],et+=Math.hypot(i,p);return et}const Ds=Math.random,Iv=function t(i){function p(w,A){return w=w==null?0:+w,A=A==null?1:+A,arguments.length===1?(A=w,w=0):A-=w,function(){return i()*A+w}}return p.source=t,p}(Ds),Bw=function t(i){function p(w,A){return arguments.length<2&&(A=w,w=0),w=Math.floor(w),A=Math.floor(A)-w,function(){return Math.floor(i()*A+w)}}return p.source=t,p}(Ds),nf=function t(i){function p(w,A){var B,Y;return w=w==null?0:+w,A=A==null?1:+A,function(){var G;if(B!=null)G=B,B=null;else do B=2*i()-1,G=2*i()-1,Y=B*B+G*G;while(!Y||Y>1);return w+A*G*Math.sqrt(-2*Math.log(Y)/Y)}}return p.source=t,p}(Ds),Gm=function t(i){var p=nf.source(i);function w(){var A=p.apply(this,arguments);return function(){return Math.exp(A())}}return w.source=t,w}(Ds),hg=function t(i){function p(w){return(w=+w)<=0?()=>0:function(){for(var A=0,B=w;B>1;--B)A+=i();return A+B*i()}}return p.source=t,p}(Ds),jw=function t(i){var p=hg.source(i);function w(A){if((A=+A)==0)return i;var B=p(A);return function(){return B()/A}}return w.source=t,w}(Ds),Iw=function t(i){function p(w){return function(){return-Math.log1p(-i())/w}}return p.source=t,p}(Ds),A0=function t(i){function p(w){if((w=+w)<0)throw new RangeError("invalid alpha");return w=1/-w,function(){return Math.pow(1-i(),w)}}return p.source=t,p}(Ds),Nw=function t(i){function p(w){if((w=+w)<0||w>1)throw new RangeError("invalid p");return function(){return Math.floor(i()+w)}}return p.source=t,p}(Ds),l2=function t(i){function p(w){if((w=+w)<0||w>1)throw new RangeError("invalid p");return w===0?()=>1/0:w===1?()=>1:(w=Math.log1p(-w),function(){return 1+Math.floor(Math.log1p(-i())/w)})}return p.source=t,p}(Ds),Nv=function t(i){var p=nf.source(i)();function w(A,B){if((A=+A)<0)throw new RangeError("invalid k");if(A===0)return()=>0;if(B=B==null?1:+B,A===1)return()=>-Math.log1p(-i())*B;var Y=(A<1?A+1:A)-1/3,G=1/(3*Math.sqrt(Y)),et=A<1?()=>Math.pow(i(),1/A):()=>1;return function(){do{do var rt=p(),Ot=1+G*rt;while(Ot<=0);Ot*=Ot*Ot;var zt=1-i()}while(zt>=1-.0331*rt*rt*rt*rt&&Math.log(zt)>=.5*rt*rt+Y*(1-Ot+Math.log(Ot)));return Y*Ot*et()*B}}return w.source=t,w}(Ds),Pw=function t(i){var p=Nv.source(i);function w(A,B){var Y=p(A),G=p(B);return function(){var et=Y();return et===0?0:et/(et+G())}}return w.source=t,w}(Ds),Rw=function t(i){var p=l2.source(i),w=Pw.source(i);function A(B,Y){return B=+B,(Y=+Y)>=1?()=>B:Y<=0?()=>0:function(){for(var G=0,et=B,rt=Y;et*rt>16&&et*(1-rt)>16;){var Ot=Math.floor((et+1)*rt),zt=w(Ot,et-Ot+1)();zt<=rt?(G+=Ot,et-=Ot,rt=(rt-zt)/(1-zt)):(et=Ot-1,rt/=zt)}for(var It=rt<.5,Gt=p(It?rt:1-rt),fe=Gt(),oe=0;fe<=et;++oe)fe+=Gt();return G+(It?oe:et-oe)}}return A.source=t,A}(Ds),V4=function t(i){function p(w,A,B){var Y;return(w=+w)==0?Y=G=>-Math.log(G):(w=1/w,Y=G=>Math.pow(G,w)),A=A==null?0:+A,B=B==null?1:+B,function(){return A+B*Y(-Math.log1p(-i()))}}return p.source=t,p}(Ds),W4=function t(i){function p(w,A){return w=w==null?0:+w,A=A==null?1:+A,function(){return w+A*Math.tan(Math.PI*i())}}return p.source=t,p}(Ds),G4=function t(i){function p(w,A){return w=w==null?0:+w,A=A==null?1:+A,function(){var B=i();return w+A*Math.log(B/(1-B))}}return p.source=t,p}(Ds),X4=function t(i){var p=Nv.source(i),w=Rw.source(i);function A(B){return function(){for(var Y=0,G=B;G>16;){var et=Math.floor(.875*G),rt=p(et)();if(rt>G)return Y+w(et-1,G/rt)();Y+=et,G-=rt}for(var Ot=-Math.log1p(-i()),zt=0;Ot<=G;++zt)Ot-=Math.log1p(-i());return Y+zt}}return A.source=t,A}(Ds),u2=1/4294967296;function Pv(t=Math.random()){let i=0|(0<=t&&t<1?t/u2:Math.abs(t));return()=>(i=1664525*i+1013904223|0,u2*(i>>>0))}function Wu(t,i){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(i).domain(t)}return this}function Eh(t,i){switch(arguments.length){case 0:break;case 1:typeof t=="function"?this.interpolator(t):this.range(t);break;default:this.domain(t),typeof i=="function"?this.interpolator(i):this.range(i)}return this}const rf=Symbol("implicit");function h2(){var t=new Ct,i=[],p=[],w=rf;function A(B){let Y=t.get(B);if(Y===void 0){if(w!==rf)return w;t.set(B,Y=i.push(B)-1)}return p[Y%p.length]}return A.domain=function(B){if(!arguments.length)return i.slice();i=[],t=new Ct;for(const Y of B)t.has(Y)||t.set(Y,i.push(Y)-1);return A},A.range=function(B){return arguments.length?(p=Array.from(B),A):p.slice()},A.unknown=function(B){return arguments.length?(w=B,A):w},A.copy=function(){return h2(i,p).unknown(w)},Wu.apply(A,arguments),A}function Xm(){var t,i,p=h2().unknown(void 0),w=p.domain,A=p.range,B=0,Y=1,G=!1,et=0,rt=0,Ot=.5;function zt(){var It=w().length,Gt=Y<B,fe=Gt?Y:B,oe=Gt?B:Y;t=(oe-fe)/Math.max(1,It-et+2*rt),G&&(t=Math.floor(t)),fe+=(oe-fe-t*(It-et))*Ot,i=t*(1-et),G&&(fe=Math.round(fe),i=Math.round(i));var ae=Fn(It).map(function(de){return fe+t*de});return A(Gt?ae.reverse():ae)}return delete p.unknown,p.domain=function(It){return arguments.length?(w(It),zt()):w()},p.range=function(It){return arguments.length?([B,Y]=It,B=+B,Y=+Y,zt()):[B,Y]},p.rangeRound=function(It){return[B,Y]=It,B=+B,Y=+Y,G=!0,zt()},p.bandwidth=function(){return i},p.step=function(){return t},p.round=function(It){return arguments.length?(G=!!It,zt()):G},p.padding=function(It){return arguments.length?(et=Math.min(1,rt=+It),zt()):et},p.paddingInner=function(It){return arguments.length?(et=Math.min(1,It),zt()):et},p.paddingOuter=function(It){return arguments.length?(rt=+It,zt()):rt},p.align=function(It){return arguments.length?(Ot=Math.max(0,Math.min(1,It)),zt()):Ot},p.copy=function(){return Xm(w(),[B,Y]).round(G).paddingInner(et).paddingOuter(rt).align(Ot)},Wu.apply(zt(),arguments)}function Rv(t){var i=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Rv(i())},t}function Zm(){return Rv(Xm.apply(null,arguments).paddingInner(1))}function Km(t){return+t}var O0=[0,1];function Dc(t){return t}function Dv(t,i){return(i-=t=+t)?function(w){return(w-t)/i}:(p=isNaN(i)?NaN:.5,function(){return p});var p}function Fv(t,i,p){var w=t[0],A=t[1],B=i[0],Y=i[1];return A<w?(w=Dv(A,w),B=p(Y,B)):(w=Dv(w,A),B=p(B,Y)),function(G){return B(w(G))}}function d2(t,i,p){var w=Math.min(t.length,i.length)-1,A=new Array(w),B=new Array(w),Y=-1;for(t[w]<t[0]&&(t=t.slice().reverse(),i=i.slice().reverse());++Y<w;)A[Y]=Dv(t[Y],t[Y+1]),B[Y]=p(i[Y],i[Y+1]);return function(G){var et=O(t,G,1,w)-1;return B[et](A[et](G))}}function dg(t,i){return i.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function _s(){var t,i,p,w,A,B,Y=O0,G=O0,et=As,rt=Dc;function Ot(){var It,Gt,fe,oe=Math.min(Y.length,G.length);return rt!==Dc&&(It=Y[0],Gt=Y[oe-1],It>Gt&&(fe=It,It=Gt,Gt=fe),rt=function(ae){return Math.max(It,Math.min(Gt,ae))}),w=oe>2?d2:Fv,A=B=null,zt}function zt(It){return It==null||isNaN(It=+It)?p:(A||(A=w(Y.map(t),G,et)))(t(rt(It)))}return zt.invert=function(It){return rt(i((B||(B=w(G,Y.map(t),Ys)))(It)))},zt.domain=function(It){return arguments.length?(Y=Array.from(It,Km),Ot()):Y.slice()},zt.range=function(It){return arguments.length?(G=Array.from(It),Ot()):G.slice()},zt.rangeRound=function(It){return G=Array.from(It),et=Wm,Ot()},zt.clamp=function(It){return arguments.length?(rt=!!It||Dc,Ot()):rt!==Dc},zt.interpolate=function(It){return arguments.length?(et=It,Ot()):et},zt.unknown=function(It){return arguments.length?(p=It,zt):p},function(It,Gt){return t=It,i=Gt,Ot()}}function f2(){return _s()(Dc,Dc)}function Dw(t,i,p,w){var A,B=Te(t,i,p);switch((w=ls(w==null?",f":w)).type){case"s":var Y=Math.max(Math.abs(t),Math.abs(i));return w.precision!=null||isNaN(A=nv(B,Y))||(w.precision=A),A1(w,Y);case"":case"e":case"g":case"p":case"r":w.precision!=null||isNaN(A=$l(B,Math.max(Math.abs(t),Math.abs(i))))||(w.precision=A-(w.type==="e"));break;case"f":case"%":w.precision!=null||isNaN(A=om(B))||(w.precision=A-2*(w.type==="%"))}return Jh(w)}function Qi(t){var i=t.domain;return t.ticks=function(p){var w=i();return Ht(w[0],w[w.length-1],p==null?10:p)},t.tickFormat=function(p,w){var A=i();return Dw(A[0],A[A.length-1],p==null?10:p,w)},t.nice=function(p){p==null&&(p=10);var w,A,B=i(),Y=0,G=B.length-1,et=B[Y],rt=B[G],Ot=10;for(rt<et&&(A=et,et=rt,rt=A,A=Y,Y=G,G=A);Ot-- >0;){if((A=Se(et,rt,p))===w)return B[Y]=et,B[G]=rt,i(B);if(A>0)et=Math.floor(et/A)*A,rt=Math.ceil(rt/A)*A;else{if(!(A<0))break;et=Math.ceil(et*A)/A,rt=Math.floor(rt*A)/A}w=A}return t},t}function Fw(){var t=f2();return t.copy=function(){return dg(t,Fw())},Wu.apply(t,arguments),Qi(t)}function fg(t){var i;function p(w){return w==null||isNaN(w=+w)?i:w}return p.invert=p,p.domain=p.range=function(w){return arguments.length?(t=Array.from(w,Km),p):t.slice()},p.unknown=function(w){return arguments.length?(i=w,p):i},p.copy=function(){return fg(t).unknown(i)},t=arguments.length?Array.from(t,Km):[0,1],Qi(p)}function pg(t,i){var p,w=0,A=(t=t.slice()).length-1,B=t[w],Y=t[A];return Y<B&&(p=w,w=A,A=p,p=B,B=Y,Y=p),t[w]=i.floor(B),t[A]=i.ceil(Y),t}function zw(t){return Math.log(t)}function Uw(t){return Math.exp(t)}function Z4(t){return-Math.log(-t)}function K4(t){return-Math.exp(-t)}function J4(t){return isFinite(t)?+("1e"+t):t<0?0:t}function p2(t){return(i,p)=>-t(-i,p)}function zv(t){const i=t(zw,Uw),p=i.domain;let w,A,B=10;function Y(){return w=function(G){return G===Math.E?Math.log:G===10&&Math.log10||G===2&&Math.log2||(G=Math.log(G),et=>Math.log(et)/G)}(B),A=function(G){return G===10?J4:G===Math.E?Math.exp:et=>Math.pow(G,et)}(B),p()[0]<0?(w=p2(w),A=p2(A),t(Z4,K4)):t(zw,Uw),i}return i.base=function(G){return arguments.length?(B=+G,Y()):B},i.domain=function(G){return arguments.length?(p(G),Y()):p()},i.ticks=G=>{const et=p();let rt=et[0],Ot=et[et.length-1];const zt=Ot<rt;zt&&([rt,Ot]=[Ot,rt]);let It,Gt,fe=w(rt),oe=w(Ot);const ae=G==null?10:+G;let de=[];if(!(B%1)&&oe-fe<ae){if(fe=Math.floor(fe),oe=Math.ceil(oe),rt>0){for(;fe<=oe;++fe)for(It=1;It<B;++It)if(Gt=fe<0?It/A(-fe):It*A(fe),!(Gt<rt)){if(Gt>Ot)break;de.push(Gt)}}else for(;fe<=oe;++fe)for(It=B-1;It>=1;--It)if(Gt=fe>0?It/A(-fe):It*A(fe),!(Gt<rt)){if(Gt>Ot)break;de.push(Gt)}2*de.length<ae&&(de=Ht(rt,Ot,ae))}else de=Ht(fe,oe,Math.min(oe-fe,ae)).map(A);return zt?de.reverse():de},i.tickFormat=(G,et)=>{if(G==null&&(G=10),et==null&&(et=B===10?"s":","),typeof et!="function"&&(B%1||(et=ls(et)).precision!=null||(et.trim=!0),et=Jh(et)),G===1/0)return et;const rt=Math.max(1,B*G/i.ticks().length);return Ot=>{let zt=Ot/A(Math.round(w(Ot)));return zt*B<B-.5&&(zt*=B),zt<=rt?et(Ot):""}},i.nice=()=>p(pg(p(),{floor:G=>A(Math.floor(w(G))),ceil:G=>A(Math.ceil(w(G)))})),i}function Hw(){const t=zv(_s()).domain([1,10]);return t.copy=()=>dg(t,Hw()).base(t.base()),Wu.apply(t,arguments),t}function $w(t){return function(i){return Math.sign(i)*Math.log1p(Math.abs(i/t))}}function qw(t){return function(i){return Math.sign(i)*Math.expm1(Math.abs(i))*t}}function Uv(t){var i=1,p=t($w(i),qw(i));return p.constant=function(w){return arguments.length?t($w(i=+w),qw(i)):i},Qi(p)}function Yw(){var t=Uv(_s());return t.copy=function(){return dg(t,Yw()).constant(t.constant())},Wu.apply(t,arguments)}function g2(t){return function(i){return i<0?-Math.pow(-i,t):Math.pow(i,t)}}function Q4(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function t5(t){return t<0?-t*t:t*t}function m2(t){var i=t(Dc,Dc),p=1;function w(){return p===1?t(Dc,Dc):p===.5?t(Q4,t5):t(g2(p),g2(1/p))}return i.exponent=function(A){return arguments.length?(p=+A,w()):p},Qi(i)}function y2(){var t=m2(_s());return t.copy=function(){return dg(t,y2()).exponent(t.exponent())},Wu.apply(t,arguments),t}function e5(){return y2.apply(null,arguments).exponent(.5)}function Vw(t){return Math.sign(t)*t*t}function n5(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function v2(){var t,i=f2(),p=[0,1],w=!1;function A(B){var Y=n5(i(B));return isNaN(Y)?t:w?Math.round(Y):Y}return A.invert=function(B){return i.invert(Vw(B))},A.domain=function(B){return arguments.length?(i.domain(B),A):i.domain()},A.range=function(B){return arguments.length?(i.range((p=Array.from(B,Km)).map(Vw)),A):p.slice()},A.rangeRound=function(B){return A.range(B).round(!0)},A.round=function(B){return arguments.length?(w=!!B,A):w},A.clamp=function(B){return arguments.length?(i.clamp(B),A):i.clamp()},A.unknown=function(B){return arguments.length?(t=B,A):t},A.copy=function(){return v2(i.domain(),p).round(w).clamp(i.clamp()).unknown(t)},Wu.apply(A,arguments),Qi(A)}function Ww(){var t,i=[],p=[],w=[];function A(){var Y=0,G=Math.max(1,p.length);for(w=new Array(G-1);++Y<G;)w[Y-1]=Kn(i,Y/G);return B}function B(Y){return Y==null||isNaN(Y=+Y)?t:p[O(w,Y)]}return B.invertExtent=function(Y){var G=p.indexOf(Y);return G<0?[NaN,NaN]:[G>0?w[G-1]:i[0],G<w.length?w[G]:i[i.length-1]]},B.domain=function(Y){if(!arguments.length)return i.slice();i=[];for(let G of Y)G==null||isNaN(G=+G)||i.push(G);return i.sort(n),A()},B.range=function(Y){return arguments.length?(p=Array.from(Y),A()):p.slice()},B.unknown=function(Y){return arguments.length?(t=Y,B):t},B.quantiles=function(){return w.slice()},B.copy=function(){return Ww().domain(i).range(p).unknown(t)},Wu.apply(B,arguments)}function Gw(){var t,i=0,p=1,w=1,A=[.5],B=[0,1];function Y(et){return et!=null&&et<=et?B[O(A,et,0,w)]:t}function G(){var et=-1;for(A=new Array(w);++et<w;)A[et]=((et+1)*p-(et-w)*i)/(w+1);return Y}return Y.domain=function(et){return arguments.length?([i,p]=et,i=+i,p=+p,G()):[i,p]},Y.range=function(et){return arguments.length?(w=(B=Array.from(et)).length-1,G()):B.slice()},Y.invertExtent=function(et){var rt=B.indexOf(et);return rt<0?[NaN,NaN]:rt<1?[i,A[0]]:rt>=w?[A[w-1],p]:[A[rt-1],A[rt]]},Y.unknown=function(et){return arguments.length&&(t=et),Y},Y.thresholds=function(){return A.slice()},Y.copy=function(){return Gw().domain([i,p]).range(B).unknown(t)},Wu.apply(Qi(Y),arguments)}function Xw(){var t,i=[.5],p=[0,1],w=1;function A(B){return B!=null&&B<=B?p[O(i,B,0,w)]:t}return A.domain=function(B){return arguments.length?(i=Array.from(B),w=Math.min(i.length,p.length-1),A):i.slice()},A.range=function(B){return arguments.length?(p=Array.from(B),w=Math.min(i.length,p.length-1),A):p.slice()},A.invertExtent=function(B){var Y=p.indexOf(B);return[i[Y-1],i[Y]]},A.unknown=function(B){return arguments.length?(t=B,A):t},A.copy=function(){return Xw().domain(i).range(p).unknown(t)},Wu.apply(A,arguments)}const gg=1e3,dp=6e4,Jm=36e5,b2=864e5,x2=6048e5,w2=31536e6;var _2=new Date,Hv=new Date;function Qs(t,i,p,w){function A(B){return t(B=arguments.length===0?new Date:new Date(+B)),B}return A.floor=function(B){return t(B=new Date(+B)),B},A.ceil=function(B){return t(B=new Date(B-1)),i(B,1),t(B),B},A.round=function(B){var Y=A(B),G=A.ceil(B);return B-Y<G-B?Y:G},A.offset=function(B,Y){return i(B=new Date(+B),Y==null?1:Math.floor(Y)),B},A.range=function(B,Y,G){var et,rt=[];if(B=A.ceil(B),G=G==null?1:Math.floor(G),!(B<Y&&G>0))return rt;do rt.push(et=new Date(+B)),i(B,G),t(B);while(et<B&&B<Y);return rt},A.filter=function(B){return Qs(function(Y){if(Y>=Y)for(;t(Y),!B(Y);)Y.setTime(Y-1)},function(Y,G){if(Y>=Y)if(G<0)for(;++G<=0;)for(;i(Y,-1),!B(Y););else for(;--G>=0;)for(;i(Y,1),!B(Y););})},p&&(A.count=function(B,Y){return _2.setTime(+B),Hv.setTime(+Y),t(_2),t(Hv),Math.floor(p(_2,Hv))},A.every=function(B){return B=Math.floor(B),isFinite(B)&&B>0?B>1?A.filter(w?function(Y){return w(Y)%B==0}:function(Y){return A.count(0,Y)%B==0}):A:null}),A}var $v=Qs(function(){},function(t,i){t.setTime(+t+i)},function(t,i){return i-t});$v.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Qs(function(i){i.setTime(Math.floor(i/t)*t)},function(i,p){i.setTime(+i+p*t)},function(i,p){return(p-i)/t}):$v:null};const k2=$v;var Zw=$v.range,Kw=Qs(function(t){t.setTime(t-t.getMilliseconds())},function(t,i){t.setTime(+t+i*gg)},function(t,i){return(i-t)/gg},function(t){return t.getUTCSeconds()});const fp=Kw;var Jw=Kw.range,Qw=Qs(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*gg)},function(t,i){t.setTime(+t+i*dp)},function(t,i){return(i-t)/dp},function(t){return t.getMinutes()});const qv=Qw;var r5=Qw.range,t_=Qs(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*gg-t.getMinutes()*dp)},function(t,i){t.setTime(+t+i*Jm)},function(t,i){return(i-t)/Jm},function(t){return t.getHours()});const C2=t_;var e_=t_.range,n_=Qs(t=>t.setHours(0,0,0,0),(t,i)=>t.setDate(t.getDate()+i),(t,i)=>(i-t-(i.getTimezoneOffset()-t.getTimezoneOffset())*dp)/b2,t=>t.getDate()-1);const Qm=n_;var i5=n_.range;function M0(t){return Qs(function(i){i.setDate(i.getDate()-(i.getDay()+7-t)%7),i.setHours(0,0,0,0)},function(i,p){i.setDate(i.getDate()+7*p)},function(i,p){return(p-i-(p.getTimezoneOffset()-i.getTimezoneOffset())*dp)/x2})}var mg=M0(0),ty=M0(1),S2=M0(2),r_=M0(3),L0=M0(4),i_=M0(5),o_=M0(6),a_=mg.range,o5=ty.range,a5=S2.range,s5=r_.range,s_=L0.range,c_=i_.range,l_=o_.range,E2=Qs(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,i){t.setMonth(t.getMonth()+i)},function(t,i){return i.getMonth()-t.getMonth()+12*(i.getFullYear()-t.getFullYear())},function(t){return t.getMonth()});const ey=E2;var c5=E2.range,T2=Qs(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,i){t.setFullYear(t.getFullYear()+i)},function(t,i){return i.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});T2.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Qs(function(i){i.setFullYear(Math.floor(i.getFullYear()/t)*t),i.setMonth(0,1),i.setHours(0,0,0,0)},function(i,p){i.setFullYear(i.getFullYear()+p*t)}):null};const ld=T2;var l5=T2.range,A2=Qs(function(t){t.setUTCSeconds(0,0)},function(t,i){t.setTime(+t+i*dp)},function(t,i){return(i-t)/dp},function(t){return t.getUTCMinutes()});const Yv=A2;var u5=A2.range,O2=Qs(function(t){t.setUTCMinutes(0,0,0)},function(t,i){t.setTime(+t+i*Jm)},function(t,i){return(i-t)/Jm},function(t){return t.getUTCHours()});const Vv=O2;var h5=O2.range,M2=Qs(function(t){t.setUTCHours(0,0,0,0)},function(t,i){t.setUTCDate(t.getUTCDate()+i)},function(t,i){return(i-t)/b2},function(t){return t.getUTCDate()-1});const yg=M2;var d5=M2.range;function B0(t){return Qs(function(i){i.setUTCDate(i.getUTCDate()-(i.getUTCDay()+7-t)%7),i.setUTCHours(0,0,0,0)},function(i,p){i.setUTCDate(i.getUTCDate()+7*p)},function(i,p){return(p-i)/x2})}var of=B0(0),Gu=B0(1),L2=B0(2),B2=B0(3),pp=B0(4),Wv=B0(5),u_=B0(6),j2=of.range,Gv=Gu.range,h_=L2.range,d_=B2.range,f_=pp.range,I2=Wv.range,f5=u_.range,zi=Qs(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,i){t.setUTCMonth(t.getUTCMonth()+i)},function(t,i){return i.getUTCMonth()-t.getUTCMonth()+12*(i.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()});const N2=zi;var p5=zi.range,P2=Qs(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,i){t.setUTCFullYear(t.getUTCFullYear()+i)},function(t,i){return i.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});P2.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Qs(function(i){i.setUTCFullYear(Math.floor(i.getUTCFullYear()/t)*t),i.setUTCMonth(0,1),i.setUTCHours(0,0,0,0)},function(i,p){i.setUTCFullYear(i.getUTCFullYear()+p*t)}):null};const gp=P2;var g5=P2.range;function p_(t,i,p,w,A,B){const Y=[[fp,1,gg],[fp,5,5e3],[fp,15,15e3],[fp,30,3e4],[B,1,dp],[B,5,3e5],[B,15,9e5],[B,30,18e5],[A,1,Jm],[A,3,108e5],[A,6,216e5],[A,12,432e5],[w,1,b2],[w,2,1728e5],[p,1,x2],[i,1,2592e6],[i,3,7776e6],[t,1,w2]];function G(et,rt,Ot){const zt=Math.abs(rt-et)/Ot,It=g(([,,oe])=>oe).right(Y,zt);if(It===Y.length)return t.every(Te(et/w2,rt/w2,Ot));if(It===0)return k2.every(Math.max(Te(et,rt,Ot),1));const[Gt,fe]=Y[zt/Y[It-1][2]<Y[It][2]/zt?It-1:It];return Gt.every(fe)}return[function(et,rt,Ot){const zt=rt<et;zt&&([et,rt]=[rt,et]);const It=Ot&&typeof Ot.range=="function"?Ot:G(et,rt,Ot),Gt=It?It.range(et,+rt+1):[];return zt?Gt.reverse():Gt},G]}const[g_,m_]=p_(gp,N2,of,yg,Vv,Yv),[y_,v_]=p_(ld,ey,mg,Qm,C2,qv);function Go(t){if(0<=t.y&&t.y<100){var i=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return i.setFullYear(t.y),i}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Xv(t){if(0<=t.y&&t.y<100){var i=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return i.setUTCFullYear(t.y),i}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ny(t,i,p){return{y:t,m:i,d:p,H:0,M:0,S:0,L:0}}function R2(t){var i=t.dateTime,p=t.date,w=t.time,A=t.periods,B=t.days,Y=t.shortDays,G=t.months,et=t.shortMonths,rt=bg(A),Ot=iy(A),zt=bg(B),It=iy(B),Gt=bg(Y),fe=iy(Y),oe=bg(G),ae=iy(G),de=bg(et),be=iy(et),ye={a:function(nn){return Y[nn.getDay()]},A:function(nn){return B[nn.getDay()]},b:function(nn){return et[nn.getMonth()]},B:function(nn){return G[nn.getMonth()]},c:null,d:$2,e:$2,f:O5,g:P_,G:N5,H:T5,I:O_,j:A5,L:q2,m:M_,M:M5,p:function(nn){return A[+(nn.getHours()>=12)]},q:function(nn){return 1+~~(nn.getMonth()/3)},Q:V2,s:Fc,S:L_,u:L5,U:B_,V:I_,w:B5,W:N_,x:null,X:null,y:j5,Y:I5,Z:P5,"%":to},ve={a:function(nn){return Y[nn.getUTCDay()]},A:function(nn){return B[nn.getUTCDay()]},b:function(nn){return et[nn.getUTCMonth()]},B:function(nn){return G[nn.getUTCMonth()]},c:null,d:R_,e:R_,f:F5,g:F_,G:G5,H:R5,I:Kv,j:D5,L:oy,m:z5,M:U5,p:function(nn){return A[+(nn.getUTCHours()>=12)]},q:function(nn){return 1+~~(nn.getUTCMonth()/3)},Q:V2,s:Fc,S:H5,u:Jv,U:$5,V:q5,w:Y5,W:V5,x:null,X:null,y:W5,Y:Y2,Z:X5,"%":to},Be={a:function(nn,Je,Qe){var tn=Gt.exec(Je.slice(Qe));return tn?(nn.w=fe.get(tn[0].toLowerCase()),Qe+tn[0].length):-1},A:function(nn,Je,Qe){var tn=zt.exec(Je.slice(Qe));return tn?(nn.w=It.get(tn[0].toLowerCase()),Qe+tn[0].length):-1},b:function(nn,Je,Qe){var tn=de.exec(Je.slice(Qe));return tn?(nn.m=be.get(tn[0].toLowerCase()),Qe+tn[0].length):-1},B:function(nn,Je,Qe){var tn=oe.exec(Je.slice(Qe));return tn?(nn.m=ae.get(tn[0].toLowerCase()),Qe+tn[0].length):-1},c:function(nn,Je,Qe){return On(nn,i,Je,Qe)},d:U2,e:U2,f:T_,g:z2,G:C_,H:H2,I:H2,j:_5,L:C5,m:w5,M:k5,p:function(nn,Je,Qe){var tn=rt.exec(Je.slice(Qe));return tn?(nn.p=Ot.get(tn[0].toLowerCase()),Qe+tn[0].length):-1},q:S_,Q:A_,s:E5,S:E_,u:v5,U:__,V:b5,w:w_,W:k_,x:function(nn,Je,Qe){return On(nn,p,Je,Qe)},X:function(nn,Je,Qe){return On(nn,w,Je,Qe)},y:z2,Y:C_,Z:x5,"%":S5};function Ne(nn,Je){return function(Qe){var tn,Fe,Ze,hn=[],_n=-1,Pn=0,Jn=nn.length;for(Qe instanceof Date||(Qe=new Date(+Qe));++_n<Jn;)nn.charCodeAt(_n)===37&&(hn.push(nn.slice(Pn,_n)),(Fe=F2[tn=nn.charAt(++_n)])!=null?tn=nn.charAt(++_n):Fe=tn==="e"?" ":"0",(Ze=Je[tn])&&(tn=Ze(Qe,Fe)),hn.push(tn),Pn=_n+1);return hn.push(nn.slice(Pn,_n)),hn.join("")}}function pn(nn,Je){return function(Qe){var tn,Fe,Ze=ny(1900,void 0,1);if(On(Ze,nn,Qe+="",0)!=Qe.length)return null;if("Q"in Ze)return new Date(Ze.Q);if("s"in Ze)return new Date(1e3*Ze.s+("L"in Ze?Ze.L:0));if(Je&&!("Z"in Ze)&&(Ze.Z=0),"p"in Ze&&(Ze.H=Ze.H%12+12*Ze.p),Ze.m===void 0&&(Ze.m="q"in Ze?Ze.q:0),"V"in Ze){if(Ze.V<1||Ze.V>53)return null;"w"in Ze||(Ze.w=1),"Z"in Ze?(Fe=(tn=Xv(ny(Ze.y,0,1))).getUTCDay(),tn=Fe>4||Fe===0?Gu.ceil(tn):Gu(tn),tn=yg.offset(tn,7*(Ze.V-1)),Ze.y=tn.getUTCFullYear(),Ze.m=tn.getUTCMonth(),Ze.d=tn.getUTCDate()+(Ze.w+6)%7):(Fe=(tn=Go(ny(Ze.y,0,1))).getDay(),tn=Fe>4||Fe===0?ty.ceil(tn):ty(tn),tn=Qm.offset(tn,7*(Ze.V-1)),Ze.y=tn.getFullYear(),Ze.m=tn.getMonth(),Ze.d=tn.getDate()+(Ze.w+6)%7)}else("W"in Ze||"U"in Ze)&&("w"in Ze||(Ze.w="u"in Ze?Ze.u%7:"W"in Ze?1:0),Fe="Z"in Ze?Xv(ny(Ze.y,0,1)).getUTCDay():Go(ny(Ze.y,0,1)).getDay(),Ze.m=0,Ze.d="W"in Ze?(Ze.w+6)%7+7*Ze.W-(Fe+5)%7:Ze.w+7*Ze.U-(Fe+6)%7);return"Z"in Ze?(Ze.H+=Ze.Z/100|0,Ze.M+=Ze.Z%100,Xv(Ze)):Go(Ze)}}function On(nn,Je,Qe,tn){for(var Fe,Ze,hn=0,_n=Je.length,Pn=Qe.length;hn<_n;){if(tn>=Pn)return-1;if((Fe=Je.charCodeAt(hn++))===37){if(Fe=Je.charAt(hn++),!(Ze=Be[Fe in F2?Je.charAt(hn++):Fe])||(tn=Ze(nn,Qe,tn))<0)return-1}else if(Fe!=Qe.charCodeAt(tn++))return-1}return tn}return ye.x=Ne(p,ye),ye.X=Ne(w,ye),ye.c=Ne(i,ye),ve.x=Ne(p,ve),ve.X=Ne(w,ve),ve.c=Ne(i,ve),{format:function(nn){var Je=Ne(nn+="",ye);return Je.toString=function(){return nn},Je},parse:function(nn){var Je=pn(nn+="",!1);return Je.toString=function(){return nn},Je},utcFormat:function(nn){var Je=Ne(nn+="",ve);return Je.toString=function(){return nn},Je},utcParse:function(nn){var Je=pn(nn+="",!0);return Je.toString=function(){return nn},Je}}}var vg,Zv,b_,ry,D2,F2={"-":"",_:" ",0:"0"},fc=/^\s*\d+/,x_=/^%/,m5=/[\\^$*+?|[\]().{}]/g;function ko(t,i,p){var w=t<0?"-":"",A=(w?-t:t)+"",B=A.length;return w+(B<p?new Array(p-B+1).join(i)+A:A)}function y5(t){return t.replace(m5,"\\$&")}function bg(t){return new RegExp("^(?:"+t.map(y5).join("|")+")","i")}function iy(t){return new Map(t.map((i,p)=>[i.toLowerCase(),p]))}function w_(t,i,p){var w=fc.exec(i.slice(p,p+1));return w?(t.w=+w[0],p+w[0].length):-1}function v5(t,i,p){var w=fc.exec(i.slice(p,p+1));return w?(t.u=+w[0],p+w[0].length):-1}function __(t,i,p){var w=fc.exec(i.slice(p,p+2));return w?(t.U=+w[0],p+w[0].length):-1}function b5(t,i,p){var w=fc.exec(i.slice(p,p+2));return w?(t.V=+w[0],p+w[0].length):-1}function k_(t,i,p){var w=fc.exec(i.slice(p,p+2));return w?(t.W=+w[0],p+w[0].length):-1}function C_(t,i,p){var w=fc.exec(i.slice(p,p+4));return w?(t.y=+w[0],p+w[0].length):-1}function z2(t,i,p){var w=fc.exec(i.slice(p,p+2));return w?(t.y=+w[0]+(+w[0]>68?1900:2e3),p+w[0].length):-1}function x5(t,i,p){var w=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(i.slice(p,p+6));return w?(t.Z=w[1]?0:-(w[2]+(w[3]||"00")),p+w[0].length):-1}function S_(t,i,p){var w=fc.exec(i.slice(p,p+1));return w?(t.q=3*w[0]-3,p+w[0].length):-1}function w5(t,i,p){var w=fc.exec(i.slice(p,p+2));return w?(t.m=w[0]-1,p+w[0].length):-1}function U2(t,i,p){var w=fc.exec(i.slice(p,p+2));return w?(t.d=+w[0],p+w[0].length):-1}function _5(t,i,p){var w=fc.exec(i.slice(p,p+3));return w?(t.m=0,t.d=+w[0],p+w[0].length):-1}function H2(t,i,p){var w=fc.exec(i.slice(p,p+2));return w?(t.H=+w[0],p+w[0].length):-1}function k5(t,i,p){var w=fc.exec(i.slice(p,p+2));return w?(t.M=+w[0],p+w[0].length):-1}function E_(t,i,p){var w=fc.exec(i.slice(p,p+2));return w?(t.S=+w[0],p+w[0].length):-1}function C5(t,i,p){var w=fc.exec(i.slice(p,p+3));return w?(t.L=+w[0],p+w[0].length):-1}function T_(t,i,p){var w=fc.exec(i.slice(p,p+6));return w?(t.L=Math.floor(w[0]/1e3),p+w[0].length):-1}function S5(t,i,p){var w=x_.exec(i.slice(p,p+1));return w?p+w[0].length:-1}function A_(t,i,p){var w=fc.exec(i.slice(p));return w?(t.Q=+w[0],p+w[0].length):-1}function E5(t,i,p){var w=fc.exec(i.slice(p));return w?(t.s=+w[0],p+w[0].length):-1}function $2(t,i){return ko(t.getDate(),i,2)}function T5(t,i){return ko(t.getHours(),i,2)}function O_(t,i){return ko(t.getHours()%12||12,i,2)}function A5(t,i){return ko(1+Qm.count(ld(t),t),i,3)}function q2(t,i){return ko(t.getMilliseconds(),i,3)}function O5(t,i){return q2(t,i)+"000"}function M_(t,i){return ko(t.getMonth()+1,i,2)}function M5(t,i){return ko(t.getMinutes(),i,2)}function L_(t,i){return ko(t.getSeconds(),i,2)}function L5(t){var i=t.getDay();return i===0?7:i}function B_(t,i){return ko(mg.count(ld(t)-1,t),i,2)}function j_(t){var i=t.getDay();return i>=4||i===0?L0(t):L0.ceil(t)}function I_(t,i){return t=j_(t),ko(L0.count(ld(t),t)+(ld(t).getDay()===4),i,2)}function B5(t){return t.getDay()}function N_(t,i){return ko(ty.count(ld(t)-1,t),i,2)}function j5(t,i){return ko(t.getFullYear()%100,i,2)}function P_(t,i){return ko((t=j_(t)).getFullYear()%100,i,2)}function I5(t,i){return ko(t.getFullYear()%1e4,i,4)}function N5(t,i){var p=t.getDay();return ko((t=p>=4||p===0?L0(t):L0.ceil(t)).getFullYear()%1e4,i,4)}function P5(t){var i=t.getTimezoneOffset();return(i>0?"-":(i*=-1,"+"))+ko(i/60|0,"0",2)+ko(i%60,"0",2)}function R_(t,i){return ko(t.getUTCDate(),i,2)}function R5(t,i){return ko(t.getUTCHours(),i,2)}function Kv(t,i){return ko(t.getUTCHours()%12||12,i,2)}function D5(t,i){return ko(1+yg.count(gp(t),t),i,3)}function oy(t,i){return ko(t.getUTCMilliseconds(),i,3)}function F5(t,i){return oy(t,i)+"000"}function z5(t,i){return ko(t.getUTCMonth()+1,i,2)}function U5(t,i){return ko(t.getUTCMinutes(),i,2)}function H5(t,i){return ko(t.getUTCSeconds(),i,2)}function Jv(t){var i=t.getUTCDay();return i===0?7:i}function $5(t,i){return ko(of.count(gp(t)-1,t),i,2)}function D_(t){var i=t.getUTCDay();return i>=4||i===0?pp(t):pp.ceil(t)}function q5(t,i){return t=D_(t),ko(pp.count(gp(t),t)+(gp(t).getUTCDay()===4),i,2)}function Y5(t){return t.getUTCDay()}function V5(t,i){return ko(Gu.count(gp(t)-1,t),i,2)}function W5(t,i){return ko(t.getUTCFullYear()%100,i,2)}function F_(t,i){return ko((t=D_(t)).getUTCFullYear()%100,i,2)}function Y2(t,i){return ko(t.getUTCFullYear()%1e4,i,4)}function G5(t,i){var p=t.getUTCDay();return ko((t=p>=4||p===0?pp(t):pp.ceil(t)).getUTCFullYear()%1e4,i,4)}function X5(){return"+0000"}function to(){return"%"}function V2(t){return+t}function Fc(t){return Math.floor(+t/1e3)}function mp(t){return vg=R2(t),Zv=vg.format,b_=vg.parse,ry=vg.utcFormat,D2=vg.utcParse,vg}function Z5(t){return new Date(t)}function W2(t){return t instanceof Date?+t:+new Date(+t)}function Xu(t,i,p,w,A,B,Y,G,et,rt){var Ot=f2(),zt=Ot.invert,It=Ot.domain,Gt=rt(".%L"),fe=rt(":%S"),oe=rt("%I:%M"),ae=rt("%I %p"),de=rt("%a %d"),be=rt("%b %d"),ye=rt("%B"),ve=rt("%Y");function Be(Ne){return(et(Ne)<Ne?Gt:G(Ne)<Ne?fe:Y(Ne)<Ne?oe:B(Ne)<Ne?ae:w(Ne)<Ne?A(Ne)<Ne?de:be:p(Ne)<Ne?ye:ve)(Ne)}return Ot.invert=function(Ne){return new Date(zt(Ne))},Ot.domain=function(Ne){return arguments.length?It(Array.from(Ne,W2)):It().map(Z5)},Ot.ticks=function(Ne){var pn=It();return t(pn[0],pn[pn.length-1],Ne==null?10:Ne)},Ot.tickFormat=function(Ne,pn){return pn==null?Be:rt(pn)},Ot.nice=function(Ne){var pn=It();return Ne&&typeof Ne.range=="function"||(Ne=i(pn[0],pn[pn.length-1],Ne==null?10:Ne)),Ne?It(pg(pn,Ne)):Ot},Ot.copy=function(){return dg(Ot,Xu(t,i,p,w,A,B,Y,G,et,rt))},Ot}function xg(){return Wu.apply(Xu(y_,v_,ld,ey,mg,Qm,C2,qv,fp,Zv).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function rl(){return Wu.apply(Xu(g_,m_,gp,N2,of,yg,Vv,Yv,fp,ry).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Th(){var t,i,p,w,A,B=0,Y=1,G=Dc,et=!1;function rt(zt){return zt==null||isNaN(zt=+zt)?A:G(p===0?.5:(zt=(w(zt)-t)*p,et?Math.max(0,Math.min(1,zt)):zt))}function Ot(zt){return function(It){var Gt,fe;return arguments.length?([Gt,fe]=It,G=zt(Gt,fe),rt):[G(0),G(1)]}}return rt.domain=function(zt){return arguments.length?([B,Y]=zt,t=w(B=+B),i=w(Y=+Y),p=t===i?0:1/(i-t),rt):[B,Y]},rt.clamp=function(zt){return arguments.length?(et=!!zt,rt):et},rt.interpolator=function(zt){return arguments.length?(G=zt,rt):G},rt.range=Ot(As),rt.rangeRound=Ot(Wm),rt.unknown=function(zt){return arguments.length?(A=zt,rt):A},function(zt){return w=zt,t=zt(B),i=zt(Y),p=t===i?0:1/(i-t),rt}}function Ah(t,i){return i.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function af(){var t=Qi(Th()(Dc));return t.copy=function(){return Ah(t,af())},Eh.apply(t,arguments)}function z_(){var t=zv(Th()).domain([1,10]);return t.copy=function(){return Ah(t,z_()).base(t.base())},Eh.apply(t,arguments)}function G2(){var t=Uv(Th());return t.copy=function(){return Ah(t,G2()).constant(t.constant())},Eh.apply(t,arguments)}function X2(){var t=m2(Th());return t.copy=function(){return Ah(t,X2()).exponent(t.exponent())},Eh.apply(t,arguments)}function K5(){return X2.apply(null,arguments).exponent(.5)}function U_(){var t=[],i=Dc;function p(w){if(w!=null&&!isNaN(w=+w))return i((O(t,w,1)-1)/(t.length-1))}return p.domain=function(w){if(!arguments.length)return t.slice();t=[];for(let A of w)A==null||isNaN(A=+A)||t.push(A);return t.sort(n),p},p.interpolator=function(w){return arguments.length?(i=w,p):i},p.range=function(){return t.map((w,A)=>i(A/(t.length-1)))},p.quantiles=function(w){return Array.from({length:w+1},(A,B)=>Mn(t,B/w))},p.copy=function(){return U_(i).domain(t)},Eh.apply(p,arguments)}function Qv(){var t,i,p,w,A,B,Y,G=0,et=.5,rt=1,Ot=1,zt=Dc,It=!1;function Gt(oe){return isNaN(oe=+oe)?Y:(oe=.5+((oe=+B(oe))-i)*(Ot*oe<Ot*i?w:A),zt(It?Math.max(0,Math.min(1,oe)):oe))}function fe(oe){return function(ae){var de,be,ye;return arguments.length?([de,be,ye]=ae,zt=Cw(oe,[de,be,ye]),Gt):[zt(0),zt(.5),zt(1)]}}return Gt.domain=function(oe){return arguments.length?([G,et,rt]=oe,t=B(G=+G),i=B(et=+et),p=B(rt=+rt),w=t===i?0:.5/(i-t),A=i===p?0:.5/(p-i),Ot=i<t?-1:1,Gt):[G,et,rt]},Gt.clamp=function(oe){return arguments.length?(It=!!oe,Gt):It},Gt.interpolator=function(oe){return arguments.length?(zt=oe,Gt):zt},Gt.range=fe(As),Gt.rangeRound=fe(Wm),Gt.unknown=function(oe){return arguments.length?(Y=oe,Gt):Y},function(oe){return B=oe,t=oe(G),i=oe(et),p=oe(rt),w=t===i?0:.5/(i-t),A=i===p?0:.5/(p-i),Ot=i<t?-1:1,Gt}}function H_(){var t=Qi(Qv()(Dc));return t.copy=function(){return Ah(t,H_())},Eh.apply(t,arguments)}function $_(){var t=zv(Qv()).domain([.1,1,10]);return t.copy=function(){return Ah(t,$_()).base(t.base())},Eh.apply(t,arguments)}function ay(){var t=Uv(Qv());return t.copy=function(){return Ah(t,ay()).constant(t.constant())},Eh.apply(t,arguments)}function Z2(){var t=m2(Qv());return t.copy=function(){return Ah(t,Z2()).exponent(t.exponent())},Eh.apply(t,arguments)}function q_(){return Z2.apply(null,arguments).exponent(.5)}function ji(t){for(var i=t.length/6|0,p=new Array(i),w=0;w<i;)p[w]="#"+t.slice(6*w,6*++w);return p}mp({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const K2=ji("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),J2=ji("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Q2=ji("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Y_=ji("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),J5=ji("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Q5=ji("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),tk=ji("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),V_=ji("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),W_=ji("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),tx=ji("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Lo=t=>xd(t[t.length-1]);var ex=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(ji);const G_=Lo(ex);var wg=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(ji);const nx=Lo(wg);var X_=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(ji);const ek=Lo(X_);var tb=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(ji);const nk=Lo(tb);var Z_=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(ji);const rk=Lo(Z_);var K_=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(ji);const ik=Lo(K_);var J_=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(ji);const rx=Lo(J_);var ix=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(ji);const Q_=Lo(ix);var t3=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(ji);const e3=Lo(t3);var ox=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(ji);const ok=Lo(ox);var n3=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(ji);const r3=Lo(n3);var ax=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(ji);const sx=Lo(ax);var cx=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(ji);const Zu=Lo(cx);var yu=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(ji);const lx=Lo(yu);var i3=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(ji);const o3=Lo(i3);var a3=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(ji);const ak=Lo(a3);var sf=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(ji);const eb=Lo(sf);var sy=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(ji);const sk=Lo(sy);var ux=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(ji);const ck=Lo(ux);var hx=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(ji);const lk=Lo(hx);var dx=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(ji);const uk=Lo(dx);var cy=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(ji);const fx=Lo(cy);var s3=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(ji);const px=Lo(s3);var c3=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(ji);const gx=Lo(c3);var l3=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(ji);const mx=Lo(l3);var yx=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(ji);const hk=Lo(yx);var vx=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(ji);const dk=Lo(vx);function u3(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"}const fk=T0(Fl(300,.5,0),Fl(-240,.5,1));var h3=T0(Fl(-100,.75,.35),Fl(80,1.5,.8)),pk=T0(Fl(260,.75,.35),Fl(80,1.5,.8)),ly=Fl();function d3(t){(t<0||t>1)&&(t-=Math.floor(t));var i=Math.abs(t-.5);return ly.h=360*t-100,ly.s=1.5-1.5*i,ly.l=.8-.9*i,ly+""}var uy=ec(),bx=Math.PI/3,nb=2*Math.PI/3;function f3(t){var i;return t=(.5-t)*Math.PI,uy.r=255*(i=Math.sin(t))*i,uy.g=255*(i=Math.sin(t+bx))*i,uy.b=255*(i=Math.sin(t+nb))*i,uy+""}function p3(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"}function rb(t){var i=t.length;return function(p){return t[Math.max(0,Math.min(i-1,Math.floor(p*i)))]}}const gk=rb(ji("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var g3=rb(ji("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),m3=rb(ji("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),mk=rb(ji("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function ib(t){return Wi(oh(t).call(document.documentElement))}var yk=0;function y3(){return new xx}function xx(){this._="@"+(++yk).toString(36)}function _g(t,i){return t.target&&(t=_d(t),i===void 0&&(i=t.currentTarget),t=t.touches||[t]),Array.from(t,p=>_c(p,i))}function kg(t){return typeof t=="string"?new yo([document.querySelectorAll(t)],[document.documentElement]):new yo([Na(t)],oa)}function Ui(t){return function(){return t}}xx.prototype=y3.prototype={constructor:xx,get:function(t){for(var i=this._;!(i in t);)if(!(t=t.parentNode))return;return t[i]},set:function(t,i){return t[this._]=i},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};const v3=Math.abs,il=Math.atan2,cf=Math.cos,vk=Math.max,Cg=Math.min,Cl=Math.sin,Ba=Math.sqrt,zc=1e-12,lf=Math.PI,ob=lf/2,yp=2*lf;function bk(t){return t>1?0:t<-1?lf:Math.acos(t)}function wx(t){return t>=1?ob:t<=-1?-ob:Math.asin(t)}function xk(t){return t.innerRadius}function wk(t){return t.outerRadius}function _k(t){return t.startAngle}function kk(t){return t.endAngle}function Ck(t){return t&&t.padAngle}function b3(t,i,p,w,A,B,Y,G){var et=p-t,rt=w-i,Ot=Y-A,zt=G-B,It=zt*et-Ot*rt;if(!(It*It<zc))return[t+(It=(Ot*(i-B)-zt*(t-A))/It)*et,i+It*rt]}function ab(t,i,p,w,A,B,Y){var G=t-p,et=i-w,rt=(Y?B:-B)/Ba(G*G+et*et),Ot=rt*et,zt=-rt*G,It=t+Ot,Gt=i+zt,fe=p+Ot,oe=w+zt,ae=(It+fe)/2,de=(Gt+oe)/2,be=fe-It,ye=oe-Gt,ve=be*be+ye*ye,Be=A-B,Ne=It*oe-fe*Gt,pn=(ye<0?-1:1)*Ba(vk(0,Be*Be*ve-Ne*Ne)),On=(Ne*ye-be*pn)/ve,nn=(-Ne*be-ye*pn)/ve,Je=(Ne*ye+be*pn)/ve,Qe=(-Ne*be+ye*pn)/ve,tn=On-ae,Fe=nn-de,Ze=Je-ae,hn=Qe-de;return tn*tn+Fe*Fe>Ze*Ze+hn*hn&&(On=Je,nn=Qe),{cx:On,cy:nn,x01:-Ot,y01:-zt,x11:On*(A/Be-1),y11:nn*(A/Be-1)}}function Sk(){var t=xk,i=wk,p=Ui(0),w=null,A=_k,B=kk,Y=Ck,G=null;function et(){var rt,Ot,zt=+t.apply(this,arguments),It=+i.apply(this,arguments),Gt=A.apply(this,arguments)-ob,fe=B.apply(this,arguments)-ob,oe=v3(fe-Gt),ae=fe>Gt;if(G||(G=rt=ur()),It<zt&&(Ot=It,It=zt,zt=Ot),It>zc)if(oe>yp-zc)G.moveTo(It*cf(Gt),It*Cl(Gt)),G.arc(0,0,It,Gt,fe,!ae),zt>zc&&(G.moveTo(zt*cf(fe),zt*Cl(fe)),G.arc(0,0,zt,fe,Gt,ae));else{var de,be,ye=Gt,ve=fe,Be=Gt,Ne=fe,pn=oe,On=oe,nn=Y.apply(this,arguments)/2,Je=nn>zc&&(w?+w.apply(this,arguments):Ba(zt*zt+It*It)),Qe=Cg(v3(It-zt)/2,+p.apply(this,arguments)),tn=Qe,Fe=Qe;if(Je>zc){var Ze=wx(Je/zt*Cl(nn)),hn=wx(Je/It*Cl(nn));(pn-=2*Ze)>zc?(Be+=Ze*=ae?1:-1,Ne-=Ze):(pn=0,Be=Ne=(Gt+fe)/2),(On-=2*hn)>zc?(ye+=hn*=ae?1:-1,ve-=hn):(On=0,ye=ve=(Gt+fe)/2)}var _n=It*cf(ye),Pn=It*Cl(ye),Jn=zt*cf(Ne),or=zt*Cl(Ne);if(Qe>zc){var yr,ar=It*cf(ve),ri=It*Cl(ve),si=zt*cf(Be),Gr=zt*Cl(Be);if(oe<lf&&(yr=b3(_n,Pn,si,Gr,ar,ri,Jn,or))){var Kr=_n-yr[0],jo=Pn-yr[1],eo=ar-yr[0],eh=ri-yr[1],Mg=1/Cl(bk((Kr*eo+jo*eh)/(Ba(Kr*Kr+jo*jo)*Ba(eo*eo+eh*eh)))/2),uf=Ba(yr[0]*yr[0]+yr[1]*yr[1]);tn=Cg(Qe,(zt-uf)/(Mg-1)),Fe=Cg(Qe,(It-uf)/(Mg+1))}}On>zc?Fe>zc?(de=ab(si,Gr,_n,Pn,It,Fe,ae),be=ab(ar,ri,Jn,or,It,Fe,ae),G.moveTo(de.cx+de.x01,de.cy+de.y01),Fe<Qe?G.arc(de.cx,de.cy,Fe,il(de.y01,de.x01),il(be.y01,be.x01),!ae):(G.arc(de.cx,de.cy,Fe,il(de.y01,de.x01),il(de.y11,de.x11),!ae),G.arc(0,0,It,il(de.cy+de.y11,de.cx+de.x11),il(be.cy+be.y11,be.cx+be.x11),!ae),G.arc(be.cx,be.cy,Fe,il(be.y11,be.x11),il(be.y01,be.x01),!ae))):(G.moveTo(_n,Pn),G.arc(0,0,It,ye,ve,!ae)):G.moveTo(_n,Pn),zt>zc&&pn>zc?tn>zc?(de=ab(Jn,or,ar,ri,zt,-tn,ae),be=ab(_n,Pn,si,Gr,zt,-tn,ae),G.lineTo(de.cx+de.x01,de.cy+de.y01),tn<Qe?G.arc(de.cx,de.cy,tn,il(de.y01,de.x01),il(be.y01,be.x01),!ae):(G.arc(de.cx,de.cy,tn,il(de.y01,de.x01),il(de.y11,de.x11),!ae),G.arc(0,0,zt,il(de.cy+de.y11,de.cx+de.x11),il(be.cy+be.y11,be.cx+be.x11),ae),G.arc(be.cx,be.cy,tn,il(be.y11,be.x11),il(be.y01,be.x01),!ae))):G.arc(0,0,zt,Ne,Be,ae):G.lineTo(Jn,or)}else G.moveTo(0,0);if(G.closePath(),rt)return G=null,rt+""||null}return et.centroid=function(){var rt=(+t.apply(this,arguments)+ +i.apply(this,arguments))/2,Ot=(+A.apply(this,arguments)+ +B.apply(this,arguments))/2-lf/2;return[cf(Ot)*rt,Cl(Ot)*rt]},et.innerRadius=function(rt){return arguments.length?(t=typeof rt=="function"?rt:Ui(+rt),et):t},et.outerRadius=function(rt){return arguments.length?(i=typeof rt=="function"?rt:Ui(+rt),et):i},et.cornerRadius=function(rt){return arguments.length?(p=typeof rt=="function"?rt:Ui(+rt),et):p},et.padRadius=function(rt){return arguments.length?(w=rt==null?null:typeof rt=="function"?rt:Ui(+rt),et):w},et.startAngle=function(rt){return arguments.length?(A=typeof rt=="function"?rt:Ui(+rt),et):A},et.endAngle=function(rt){return arguments.length?(B=typeof rt=="function"?rt:Ui(+rt),et):B},et.padAngle=function(rt){return arguments.length?(Y=typeof rt=="function"?rt:Ui(+rt),et):Y},et.context=function(rt){return arguments.length?(G=rt==null?null:rt,et):G},et}var _x=Array.prototype.slice;function j0(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Sg(t){this._context=t}function vp(t){return new Sg(t)}function sb(t){return t[0]}function cb(t){return t[1]}function I0(t,i){var p=Ui(!0),w=null,A=vp,B=null;function Y(G){var et,rt,Ot,zt=(G=j0(G)).length,It=!1;for(w==null&&(B=A(Ot=ur())),et=0;et<=zt;++et)!(et<zt&&p(rt=G[et],et,G))===It&&((It=!It)?B.lineStart():B.lineEnd()),It&&B.point(+t(rt,et,G),+i(rt,et,G));if(Ot)return B=null,Ot+""||null}return t=typeof t=="function"?t:t===void 0?sb:Ui(t),i=typeof i=="function"?i:i===void 0?cb:Ui(i),Y.x=function(G){return arguments.length?(t=typeof G=="function"?G:Ui(+G),Y):t},Y.y=function(G){return arguments.length?(i=typeof G=="function"?G:Ui(+G),Y):i},Y.defined=function(G){return arguments.length?(p=typeof G=="function"?G:Ui(!!G),Y):p},Y.curve=function(G){return arguments.length?(A=G,w!=null&&(B=A(w)),Y):A},Y.context=function(G){return arguments.length?(G==null?w=B=null:B=A(w=G),Y):w},Y}function Eg(t,i,p){var w=null,A=Ui(!0),B=null,Y=vp,G=null;function et(Ot){var zt,It,Gt,fe,oe,ae=(Ot=j0(Ot)).length,de=!1,be=new Array(ae),ye=new Array(ae);for(B==null&&(G=Y(oe=ur())),zt=0;zt<=ae;++zt){if(!(zt<ae&&A(fe=Ot[zt],zt,Ot))===de)if(de=!de)It=zt,G.areaStart(),G.lineStart();else{for(G.lineEnd(),G.lineStart(),Gt=zt-1;Gt>=It;--Gt)G.point(be[Gt],ye[Gt]);G.lineEnd(),G.areaEnd()}de&&(be[zt]=+t(fe,zt,Ot),ye[zt]=+i(fe,zt,Ot),G.point(w?+w(fe,zt,Ot):be[zt],p?+p(fe,zt,Ot):ye[zt]))}if(oe)return G=null,oe+""||null}function rt(){return I0().defined(A).curve(Y).context(B)}return t=typeof t=="function"?t:t===void 0?sb:Ui(+t),i=typeof i=="function"?i:Ui(i===void 0?0:+i),p=typeof p=="function"?p:p===void 0?cb:Ui(+p),et.x=function(Ot){return arguments.length?(t=typeof Ot=="function"?Ot:Ui(+Ot),w=null,et):t},et.x0=function(Ot){return arguments.length?(t=typeof Ot=="function"?Ot:Ui(+Ot),et):t},et.x1=function(Ot){return arguments.length?(w=Ot==null?null:typeof Ot=="function"?Ot:Ui(+Ot),et):w},et.y=function(Ot){return arguments.length?(i=typeof Ot=="function"?Ot:Ui(+Ot),p=null,et):i},et.y0=function(Ot){return arguments.length?(i=typeof Ot=="function"?Ot:Ui(+Ot),et):i},et.y1=function(Ot){return arguments.length?(p=Ot==null?null:typeof Ot=="function"?Ot:Ui(+Ot),et):p},et.lineX0=et.lineY0=function(){return rt().x(t).y(i)},et.lineY1=function(){return rt().x(t).y(p)},et.lineX1=function(){return rt().x(w).y(i)},et.defined=function(Ot){return arguments.length?(A=typeof Ot=="function"?Ot:Ui(!!Ot),et):A},et.curve=function(Ot){return arguments.length?(Y=Ot,B!=null&&(G=Y(B)),et):Y},et.context=function(Ot){return arguments.length?(Ot==null?B=G=null:G=Y(B=Ot),et):B},et}function lb(t,i){return i<t?-1:i>t?1:i>=t?0:NaN}function Ek(t){return t}function Tk(){var t=Ek,i=lb,p=null,w=Ui(0),A=Ui(yp),B=Ui(0);function Y(G){var et,rt,Ot,zt,It,Gt=(G=j0(G)).length,fe=0,oe=new Array(Gt),ae=new Array(Gt),de=+w.apply(this,arguments),be=Math.min(yp,Math.max(-yp,A.apply(this,arguments)-de)),ye=Math.min(Math.abs(be)/Gt,B.apply(this,arguments)),ve=ye*(be<0?-1:1);for(et=0;et<Gt;++et)(It=ae[oe[et]=et]=+t(G[et],et,G))>0&&(fe+=It);for(i!=null?oe.sort(function(Be,Ne){return i(ae[Be],ae[Ne])}):p!=null&&oe.sort(function(Be,Ne){return p(G[Be],G[Ne])}),et=0,Ot=fe?(be-Gt*ve)/fe:0;et<Gt;++et,de=zt)rt=oe[et],zt=de+((It=ae[rt])>0?It*Ot:0)+ve,ae[rt]={data:G[rt],index:et,value:It,startAngle:de,endAngle:zt,padAngle:ye};return ae}return Y.value=function(G){return arguments.length?(t=typeof G=="function"?G:Ui(+G),Y):t},Y.sortValues=function(G){return arguments.length?(i=G,p=null,Y):i},Y.sort=function(G){return arguments.length?(p=G,i=null,Y):p},Y.startAngle=function(G){return arguments.length?(w=typeof G=="function"?G:Ui(+G),Y):w},Y.endAngle=function(G){return arguments.length?(A=typeof G=="function"?G:Ui(+G),Y):A},Y.padAngle=function(G){return arguments.length?(B=typeof G=="function"?G:Ui(+G),Y):B},Y}Sg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;default:this._context.lineTo(t,i)}}};var x3=Cx(vp);function kx(t){this._curve=t}function Cx(t){function i(p){return new kx(t(p))}return i._curve=t,i}function N0(t){var i=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(p){return arguments.length?i(Cx(p)):i()._curve},t}function Sx(){return N0(I0().curve(x3))}function w3(){var t=Eg().curve(x3),i=t.curve,p=t.lineX0,w=t.lineX1,A=t.lineY0,B=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return N0(p())},delete t.lineX0,t.lineEndAngle=function(){return N0(w())},delete t.lineX1,t.lineInnerRadius=function(){return N0(A())},delete t.lineY0,t.lineOuterRadius=function(){return N0(B())},delete t.lineY1,t.curve=function(Y){return arguments.length?i(Cx(Y)):i()._curve},t}function ud(t,i){return[(i=+i)*Math.cos(t-=Math.PI/2),i*Math.sin(t)]}kx.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,i){this._curve.point(i*Math.sin(t),i*-Math.cos(t))}};class P0{constructor(i,p){this._context=i,this._x=p}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(i,p){switch(i=+i,p=+p,this._point){case 0:this._point=1,this._line?this._context.lineTo(i,p):this._context.moveTo(i,p);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+i)/2,this._y0,this._x0,p,i,p):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+p)/2,i,this._y0,i,p)}this._x0=i,this._y0=p}}class _3{constructor(i){this._context=i}lineStart(){this._point=0}lineEnd(){}point(i,p){if(i=+i,p=+p,this._point++==0)this._x0=i,this._y0=p;else{const w=ud(this._x0,this._y0),A=ud(this._x0,this._y0=(this._y0+p)/2),B=ud(i,this._y0),Y=ud(i,p);this._context.moveTo(...w),this._context.bezierCurveTo(...A,...B,...Y)}}}function k3(t){return new P0(t,!0)}function Ex(t){return new P0(t,!1)}function Tx(t){return new _3(t)}function Ak(t){return t.source}function Ok(t){return t.target}function hy(t){let i=Ak,p=Ok,w=sb,A=cb,B=null,Y=null;function G(){let et;const rt=_x.call(arguments),Ot=i.apply(this,rt),zt=p.apply(this,rt);if(B==null&&(Y=t(et=ur())),Y.lineStart(),rt[0]=Ot,Y.point(+w.apply(this,rt),+A.apply(this,rt)),rt[0]=zt,Y.point(+w.apply(this,rt),+A.apply(this,rt)),Y.lineEnd(),et)return Y=null,et+""||null}return G.source=function(et){return arguments.length?(i=et,G):i},G.target=function(et){return arguments.length?(p=et,G):p},G.x=function(et){return arguments.length?(w=typeof et=="function"?et:Ui(+et),G):w},G.y=function(et){return arguments.length?(A=typeof et=="function"?et:Ui(+et),G):A},G.context=function(et){return arguments.length?(et==null?B=Y=null:Y=t(B=et),G):B},G}function Mk(){return hy(k3)}function Tg(){return hy(Ex)}function vu(){const t=hy(Tx);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const dy=Ba(3),Uc={draw(t,i){const p=.59436*Ba(i+Cg(i/28,.75)),w=p/2,A=w*dy;t.moveTo(0,p),t.lineTo(0,-p),t.moveTo(-A,-w),t.lineTo(A,w),t.moveTo(-A,w),t.lineTo(A,-w)}},Bo={draw(t,i){const p=Ba(i/lf);t.moveTo(p,0),t.arc(0,0,p,0,yp)}},C3={draw(t,i){const p=Ba(i/5)/2;t.moveTo(-3*p,-p),t.lineTo(-p,-p),t.lineTo(-p,-3*p),t.lineTo(p,-3*p),t.lineTo(p,-p),t.lineTo(3*p,-p),t.lineTo(3*p,p),t.lineTo(p,p),t.lineTo(p,3*p),t.lineTo(-p,3*p),t.lineTo(-p,p),t.lineTo(-3*p,p),t.closePath()}},S3=Ba(1/3),Lk=2*S3,ub={draw(t,i){const p=Ba(i/Lk),w=p*S3;t.moveTo(0,-p),t.lineTo(w,0),t.lineTo(0,p),t.lineTo(-w,0),t.closePath()}},E3={draw(t,i){const p=.62625*Ba(i);t.moveTo(0,-p),t.lineTo(p,0),t.lineTo(0,p),t.lineTo(-p,0),t.closePath()}},fy={draw(t,i){const p=.87559*Ba(i-Cg(i/7,2));t.moveTo(-p,0),t.lineTo(p,0),t.moveTo(0,p),t.lineTo(0,-p)}},T3={draw(t,i){const p=Ba(i),w=-p/2;t.rect(w,w,p,p)}},hd={draw(t,i){const p=.4431*Ba(i);t.moveTo(p,p),t.lineTo(p,-p),t.lineTo(-p,-p),t.lineTo(-p,p),t.closePath()}},py=Cl(lf/10)/Cl(7*lf/10),A3=Cl(yp/10)*py,Ax=-cf(yp/10)*py,Ag={draw(t,i){const p=Ba(.8908130915292852*i),w=A3*p,A=Ax*p;t.moveTo(0,-p),t.lineTo(w,A);for(let B=1;B<5;++B){const Y=yp*B/5,G=cf(Y),et=Cl(Y);t.lineTo(et*p,-G*p),t.lineTo(G*w-et*A,et*w+G*A)}t.closePath()}},Ox=Ba(3),O3={draw(t,i){const p=-Ba(i/(3*Ox));t.moveTo(0,2*p),t.lineTo(-Ox*p,-p),t.lineTo(Ox*p,-p),t.closePath()}},M3=Ba(3),L3={draw(t,i){const p=.6824*Ba(i),w=p/2,A=p*M3/2;t.moveTo(0,-p),t.lineTo(A,w),t.lineTo(-A,w),t.closePath()}},Ku=-.5,Ju=Ba(3)/2,Mx=1/Ba(12),e=3*(Mx/2+1),o={draw(t,i){const p=Ba(i/e),w=p/2,A=p*Mx,B=w,Y=p*Mx+p,G=-B,et=Y;t.moveTo(w,A),t.lineTo(B,Y),t.lineTo(G,et),t.lineTo(Ku*w-Ju*A,Ju*w+Ku*A),t.lineTo(Ku*B-Ju*Y,Ju*B+Ku*Y),t.lineTo(Ku*G-Ju*et,Ju*G+Ku*et),t.lineTo(Ku*w+Ju*A,Ku*A-Ju*w),t.lineTo(Ku*B+Ju*Y,Ku*Y-Ju*B),t.lineTo(Ku*G+Ju*et,Ku*et-Ju*G),t.closePath()}},x={draw(t,i){const p=.6189*Ba(i-Cg(i/6,1.7));t.moveTo(-p,-p),t.lineTo(p,p),t.moveTo(-p,p),t.lineTo(p,-p)}},T=[Bo,C3,ub,T3,Ag,O3,o],N=[Bo,fy,x,L3,Uc,hd,E3];function z(t,i){let p=null;function w(){let A;if(p||(p=A=ur()),t.apply(this,arguments).draw(p,+i.apply(this,arguments)),A)return p=null,A+""||null}return t=typeof t=="function"?t:Ui(t||Bo),i=typeof i=="function"?i:Ui(i===void 0?64:+i),w.type=function(A){return arguments.length?(t=typeof A=="function"?A:Ui(A),w):t},w.size=function(A){return arguments.length?(i=typeof A=="function"?A:Ui(+A),w):i},w.context=function(A){return arguments.length?(p=A==null?null:A,w):p},w}function nt(){}function tt(t,i,p){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+i)/6,(t._y0+4*t._y1+p)/6)}function ft(t){this._context=t}function Et(t){return new ft(t)}function Dt(t){this._context=t}function Zt(t){return new Dt(t)}function Rt(t){this._context=t}function ie(t){return new Rt(t)}function le(t,i){this._basis=new ft(t),this._beta=i}ft.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:tt(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:tt(this,t,i)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=i}},Dt.prototype={areaStart:nt,areaEnd:nt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._x2=t,this._y2=i;break;case 1:this._point=2,this._x3=t,this._y3=i;break;case 2:this._point=3,this._x4=t,this._y4=i,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+i)/6);break;default:tt(this,t,i)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=i}},Rt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var p=(this._x0+4*this._x1+t)/6,w=(this._y0+4*this._y1+i)/6;this._line?this._context.lineTo(p,w):this._context.moveTo(p,w);break;case 3:this._point=4;default:tt(this,t,i)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=i}},le.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,i=this._y,p=t.length-1;if(p>0)for(var w,A=t[0],B=i[0],Y=t[p]-A,G=i[p]-B,et=-1;++et<=p;)w=et/p,this._basis.point(this._beta*t[et]+(1-this._beta)*(A+w*Y),this._beta*i[et]+(1-this._beta)*(B+w*G));this._x=this._y=null,this._basis.lineEnd()},point:function(t,i){this._x.push(+t),this._y.push(+i)}};const _e=function t(i){function p(w){return i===1?new ft(w):new le(w,i)}return p.beta=function(w){return t(+w)},p}(.85);function xe(t,i,p){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-i),t._y2+t._k*(t._y1-p),t._x2,t._y2)}function pe(t,i){this._context=t,this._k=(1-i)/6}pe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:xe(this,this._x1,this._y1)}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2,this._x1=t,this._y1=i;break;case 2:this._point=3;default:xe(this,t,i)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=i}};const Le=function t(i){function p(w){return new pe(w,i)}return p.tension=function(w){return t(+w)},p}(0);function Ae(t,i){this._context=t,this._k=(1-i)/6}Ae.prototype={areaStart:nt,areaEnd:nt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._x3=t,this._y3=i;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=i);break;case 2:this._point=3,this._x5=t,this._y5=i;break;default:xe(this,t,i)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=i}};const Re=function t(i){function p(w){return new Ae(w,i)}return p.tension=function(w){return t(+w)},p}(0);function en(t,i){this._context=t,this._k=(1-i)/6}en.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:xe(this,t,i)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=i}};const bn=function t(i){function p(w){return new en(w,i)}return p.tension=function(w){return t(+w)},p}(0);function kn(t,i,p){var w=t._x1,A=t._y1,B=t._x2,Y=t._y2;if(t._l01_a>zc){var G=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,et=3*t._l01_a*(t._l01_a+t._l12_a);w=(w*G-t._x0*t._l12_2a+t._x2*t._l01_2a)/et,A=(A*G-t._y0*t._l12_2a+t._y2*t._l01_2a)/et}if(t._l23_a>zc){var rt=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,Ot=3*t._l23_a*(t._l23_a+t._l12_a);B=(B*rt+t._x1*t._l23_2a-i*t._l12_2a)/Ot,Y=(Y*rt+t._y1*t._l23_2a-p*t._l12_2a)/Ot}t._context.bezierCurveTo(w,A,B,Y,t._x2,t._y2)}function Wn(t,i){this._context=t,this._alpha=i}Wn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){if(t=+t,i=+i,this._point){var p=this._x2-t,w=this._y2-i;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(p*p+w*w,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;break;case 2:this._point=3;default:kn(this,t,i)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=i}};const un=function t(i){function p(w){return i?new Wn(w,i):new pe(w,0)}return p.alpha=function(w){return t(+w)},p}(.5);function jn(t,i){this._context=t,this._alpha=i}jn.prototype={areaStart:nt,areaEnd:nt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,i){if(t=+t,i=+i,this._point){var p=this._x2-t,w=this._y2-i;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(p*p+w*w,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=i;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=i);break;case 2:this._point=3,this._x5=t,this._y5=i;break;default:kn(this,t,i)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=i}};const Ie=function t(i){function p(w){return i?new jn(w,i):new Ae(w,0)}return p.alpha=function(w){return t(+w)},p}(.5);function qe(t,i){this._context=t,this._alpha=i}qe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){if(t=+t,i=+i,this._point){var p=this._x2-t,w=this._y2-i;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(p*p+w*w,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:kn(this,t,i)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=i}};const Tn=function t(i){function p(w){return i?new qe(w,i):new en(w,0)}return p.alpha=function(w){return t(+w)},p}(.5);function wn(t){this._context=t}function An(t){return new wn(t)}function pr(t){return t<0?-1:1}function Er(t,i,p){var w=t._x1-t._x0,A=i-t._x1,B=(t._y1-t._y0)/(w||A<0&&-0),Y=(p-t._y1)/(A||w<0&&-0),G=(B*A+Y*w)/(w+A);return(pr(B)+pr(Y))*Math.min(Math.abs(B),Math.abs(Y),.5*Math.abs(G))||0}function Qr(t,i){var p=t._x1-t._x0;return p?(3*(t._y1-t._y0)/p-i)/2:i}function Hi(t,i,p){var w=t._x0,A=t._y0,B=t._x1,Y=t._y1,G=(B-w)/3;t._context.bezierCurveTo(w+G,A+G*i,B-G,Y-G*p,B,Y)}function Yi(t){this._context=t}function Dr(t){this._context=new po(t)}function po(t){this._context=t}function pi(t){return new Yi(t)}function hi(t){return new Dr(t)}function co(t){this._context=t}function pc(t){var i,p,w=t.length-1,A=new Array(w),B=new Array(w),Y=new Array(w);for(A[0]=0,B[0]=2,Y[0]=t[0]+2*t[1],i=1;i<w-1;++i)A[i]=1,B[i]=4,Y[i]=4*t[i]+2*t[i+1];for(A[w-1]=2,B[w-1]=7,Y[w-1]=8*t[w-1]+t[w],i=1;i<w;++i)p=A[i]/B[i-1],B[i]-=p,Y[i]-=p*Y[i-1];for(A[w-1]=Y[w-1]/B[w-1],i=w-2;i>=0;--i)A[i]=(Y[i]-A[i+1])/B[i];for(B[w-1]=(t[w]+A[w-1])/2,i=0;i<w-1;++i)B[i]=2*t[i+1]-A[i+1];return[A,B]}function Fs(t){return new co(t)}function Qu(t,i){this._context=t,this._t=i}function bp(t){return new Qu(t,.5)}function gy(t){return new Qu(t,0)}function my(t){return new Qu(t,1)}function R0(t,i){if((A=t.length)>1)for(var p,w,A,B=1,Y=t[i[0]],G=Y.length;B<A;++B)for(w=Y,Y=t[i[B]],p=0;p<G;++p)Y[p][1]+=Y[p][0]=isNaN(w[p][1])?w[p][0]:w[p][1]}function D0(t){for(var i=t.length,p=new Array(i);--i>=0;)p[i]=i;return p}function Og(t,i){return t[i]}function B3(t){const i=[];return i.key=t,i}function Bk(){var t=Ui([]),i=D0,p=R0,w=Og;function A(B){var Y,G,et=Array.from(t.apply(this,arguments),B3),rt=et.length,Ot=-1;for(const zt of B)for(Y=0,++Ot;Y<rt;++Y)(et[Y][Ot]=[0,+w(zt,et[Y].key,Ot,B)]).data=zt;for(Y=0,G=j0(i(et));Y<rt;++Y)et[G[Y]].index=Y;return p(et,G),et}return A.keys=function(B){return arguments.length?(t=typeof B=="function"?B:Ui(Array.from(B)),A):t},A.value=function(B){return arguments.length?(w=typeof B=="function"?B:Ui(+B),A):w},A.order=function(B){return arguments.length?(i=B==null?D0:typeof B=="function"?B:Ui(Array.from(B)),A):i},A.offset=function(B){return arguments.length?(p=B==null?R0:B,A):p},A}function jk(t,i){if((w=t.length)>0){for(var p,w,A,B=0,Y=t[0].length;B<Y;++B){for(A=p=0;p<w;++p)A+=t[p][B][1]||0;if(A)for(p=0;p<w;++p)t[p][B][1]/=A}R0(t,i)}}function th(t,i){if((G=t.length)>0)for(var p,w,A,B,Y,G,et=0,rt=t[i[0]].length;et<rt;++et)for(B=Y=0,p=0;p<G;++p)(A=(w=t[i[p]][et])[1]-w[0])>0?(w[0]=B,w[1]=B+=A):A<0?(w[1]=Y,w[0]=Y+=A):(w[0]=0,w[1]=A)}function rT(t,i){if((p=t.length)>0){for(var p,w=0,A=t[i[0]],B=A.length;w<B;++w){for(var Y=0,G=0;Y<p;++Y)G+=t[Y][w][1]||0;A[w][1]+=A[w][0]=-G/2}R0(t,i)}}function iT(t,i){if((A=t.length)>0&&(w=(p=t[i[0]]).length)>0){for(var p,w,A,B=0,Y=1;Y<w;++Y){for(var G=0,et=0,rt=0;G<A;++G){for(var Ot=t[i[G]],zt=Ot[Y][1]||0,It=(zt-(Ot[Y-1][1]||0))/2,Gt=0;Gt<G;++Gt){var fe=t[i[Gt]];It+=(fe[Y][1]||0)-(fe[Y-1][1]||0)}et+=zt,rt+=It*zt}p[Y-1][1]+=p[Y-1][0]=B,et&&(B-=rt/et)}p[Y-1][1]+=p[Y-1][0]=B,R0(t,i)}}function R8(t){var i=t.map(oT);return D0(t).sort(function(p,w){return i[p]-i[w]})}function oT(t){for(var i,p=-1,w=0,A=t.length,B=-1/0;++p<A;)(i=+t[p][1])>B&&(B=i,w=p);return w}function D8(t){var i=t.map(F8);return D0(t).sort(function(p,w){return i[p]-i[w]})}function F8(t){for(var i,p=0,w=-1,A=t.length;++w<A;)(i=+t[w][1])&&(p+=i);return p}function aT(t){return D8(t).reverse()}function sT(t){var i,p,w=t.length,A=t.map(F8),B=R8(t),Y=0,G=0,et=[],rt=[];for(i=0;i<w;++i)p=B[i],Y<G?(Y+=A[p],et.push(p)):(G+=A[p],rt.push(p));return rt.reverse().concat(et)}function cT(t){return D0(t).reverse()}wn.prototype={areaStart:nt,areaEnd:nt,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,i){t=+t,i=+i,this._point?this._context.lineTo(t,i):(this._point=1,this._context.moveTo(t,i))}},Yi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Hi(this,this._t0,Qr(this,this._t0))}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){var p=NaN;if(i=+i,(t=+t)!==this._x1||i!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;break;case 2:this._point=3,Hi(this,Qr(this,p=Er(this,t,i)),p);break;default:Hi(this,this._t0,p=Er(this,t,i))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=i,this._t0=p}}},(Dr.prototype=Object.create(Yi.prototype)).point=function(t,i){Yi.prototype.point.call(this,i,t)},po.prototype={moveTo:function(t,i){this._context.moveTo(i,t)},closePath:function(){this._context.closePath()},lineTo:function(t,i){this._context.lineTo(i,t)},bezierCurveTo:function(t,i,p,w,A,B){this._context.bezierCurveTo(i,t,w,p,B,A)}},co.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,i=this._y,p=t.length;if(p)if(this._line?this._context.lineTo(t[0],i[0]):this._context.moveTo(t[0],i[0]),p===2)this._context.lineTo(t[1],i[1]);else for(var w=pc(t),A=pc(i),B=0,Y=1;Y<p;++B,++Y)this._context.bezierCurveTo(w[0][B],A[0][B],w[1][B],A[1][B],t[Y],i[Y]);(this._line||this._line!==0&&p===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,i){this._x.push(+t),this._y.push(+i)}},Qu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,i),this._context.lineTo(t,i);else{var p=this._x*(1-this._t)+t*this._t;this._context.lineTo(p,this._y),this._context.lineTo(p,i)}}this._x=t,this._y=i}};var z8="%Y-%m-%dT%H:%M:%S.%LZ",lT=Date.prototype.toISOString?function(t){return t.toISOString()}:ry(z8);const uT=lT;var hT=+new Date("2000-01-01T00:00:00.000Z")?function(t){var i=new Date(t);return isNaN(i)?null:i}:D2(z8);const dT=hT;function fT(t,i,p){var w=new ml,A=i;return i==null?(w.restart(t,i,p),w):(w._restart=w.restart,w.restart=function(B,Y,G){Y=+Y,G=G==null?Jo():+G,w._restart(function et(rt){rt+=A,w._restart(et,A+=Y,G),B(rt)},Y,G)},w.restart(t,i,p),w)}const j3=t=>()=>t;function pT(t,{sourceEvent:i,target:p,transform:w,dispatch:A}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:i,enumerable:!0,configurable:!0},target:{value:p,enumerable:!0,configurable:!0},transform:{value:w,enumerable:!0,configurable:!0},_:{value:A}})}function xp(t,i,p){this.k=t,this.x=i,this.y=p}xp.prototype={constructor:xp,scale:function(t){return t===1?this:new xp(this.k*t,this.x,this.y)},translate:function(t,i){return t===0&i===0?this:new xp(this.k,this.x+this.k*t,this.y+this.k*i)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var I3=new xp(1,0,0);function U8(t){for(;!t.__zoom;)if(!(t=t.parentNode))return I3;return t.__zoom}function Ik(t){t.stopImmediatePropagation()}function Lx(t){t.preventDefault(),t.stopImmediatePropagation()}function gT(t){return!(t.ctrlKey&&t.type!=="wheel"||t.button)}function mT(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function H8(){return this.__zoom||I3}function yT(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function vT(){return navigator.maxTouchPoints||"ontouchstart"in this}function bT(t,i,p){var w=t.invertX(i[0][0])-p[0][0],A=t.invertX(i[1][0])-p[1][0],B=t.invertY(i[0][1])-p[0][1],Y=t.invertY(i[1][1])-p[1][1];return t.translate(A>w?(w+A)/2:Math.min(0,w)||Math.max(0,A),Y>B?(B+Y)/2:Math.min(0,B)||Math.max(0,Y))}function xT(){var t,i,p,w=gT,A=mT,B=bT,Y=yT,G=vT,et=[0,1/0],rt=[[-1/0,-1/0],[1/0,1/0]],Ot=250,zt=s2,It=fn("start","zoom","end"),Gt=500,fe=0,oe=10;function ae(Fe){Fe.property("__zoom",H8).on("wheel.zoom",pn,{passive:!1}).on("mousedown.zoom",On).on("dblclick.zoom",nn).filter(G).on("touchstart.zoom",Je).on("touchmove.zoom",Qe).on("touchend.zoom touchcancel.zoom",tn).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function de(Fe,Ze){return(Ze=Math.max(et[0],Math.min(et[1],Ze)))===Fe.k?Fe:new xp(Ze,Fe.x,Fe.y)}function be(Fe,Ze,hn){var _n=Ze[0]-hn[0]*Fe.k,Pn=Ze[1]-hn[1]*Fe.k;return _n===Fe.x&&Pn===Fe.y?Fe:new xp(Fe.k,_n,Pn)}function ye(Fe){return[(+Fe[0][0]+ +Fe[1][0])/2,(+Fe[0][1]+ +Fe[1][1])/2]}function ve(Fe,Ze,hn,_n){Fe.on("start.zoom",function(){Be(this,arguments).event(_n).start()}).on("interrupt.zoom end.zoom",function(){Be(this,arguments).event(_n).end()}).tween("zoom",function(){var Pn=this,Jn=arguments,or=Be(Pn,Jn).event(_n),yr=A.apply(Pn,Jn),ar=hn==null?ye(yr):typeof hn=="function"?hn.apply(Pn,Jn):hn,ri=Math.max(yr[1][0]-yr[0][0],yr[1][1]-yr[0][1]),si=Pn.__zoom,Gr=typeof Ze=="function"?Ze.apply(Pn,Jn):Ze,Kr=zt(si.invert(ar).concat(ri/si.k),Gr.invert(ar).concat(ri/Gr.k));return function(jo){if(jo===1)jo=Gr;else{var eo=Kr(jo),eh=ri/eo[2];jo=new xp(eh,ar[0]-eo[0]*eh,ar[1]-eo[1]*eh)}or.zoom(null,jo)}})}function Be(Fe,Ze,hn){return!hn&&Fe.__zooming||new Ne(Fe,Ze)}function Ne(Fe,Ze){this.that=Fe,this.args=Ze,this.active=0,this.sourceEvent=null,this.extent=A.apply(Fe,Ze),this.taps=0}function pn(Fe,...Ze){if(w.apply(this,arguments)){var hn=Be(this,Ze).event(Fe),_n=this.__zoom,Pn=Math.max(et[0],Math.min(et[1],_n.k*Math.pow(2,Y.apply(this,arguments)))),Jn=_c(Fe);if(hn.wheel)hn.mouse[0][0]===Jn[0]&&hn.mouse[0][1]===Jn[1]||(hn.mouse[1]=_n.invert(hn.mouse[0]=Jn)),clearTimeout(hn.wheel);else{if(_n.k===Pn)return;hn.mouse=[Jn,_n.invert(Jn)],ru(this),hn.start()}Lx(Fe),hn.wheel=setTimeout(or,150),hn.zoom("mouse",B(be(de(_n,Pn),hn.mouse[0],hn.mouse[1]),hn.extent,rt))}function or(){hn.wheel=null,hn.end()}}function On(Fe,...Ze){if(!p&&w.apply(this,arguments)){var hn=Fe.currentTarget,_n=Be(this,Ze,!0).event(Fe),Pn=Wi(Fe.view).on("mousemove.zoom",ar,!0).on("mouseup.zoom",ri,!0),Jn=_c(Fe,hn),or=Fe.clientX,yr=Fe.clientY;Me(Fe.view),Ik(Fe),_n.mouse=[Jn,this.__zoom.invert(Jn)],ru(this),_n.start()}function ar(si){if(Lx(si),!_n.moved){var Gr=si.clientX-or,Kr=si.clientY-yr;_n.moved=Gr*Gr+Kr*Kr>fe}_n.event(si).zoom("mouse",B(be(_n.that.__zoom,_n.mouse[0]=_c(si,hn),_n.mouse[1]),_n.extent,rt))}function ri(si){Pn.on("mousemove.zoom mouseup.zoom",null),cn(si.view,_n.moved),Lx(si),_n.event(si).end()}}function nn(Fe,...Ze){if(w.apply(this,arguments)){var hn=this.__zoom,_n=_c(Fe.changedTouches?Fe.changedTouches[0]:Fe,this),Pn=hn.invert(_n),Jn=hn.k*(Fe.shiftKey?.5:2),or=B(be(de(hn,Jn),_n,Pn),A.apply(this,Ze),rt);Lx(Fe),Ot>0?Wi(this).transition().duration(Ot).call(ve,or,_n,Fe):Wi(this).call(ae.transform,or,_n,Fe)}}function Je(Fe,...Ze){if(w.apply(this,arguments)){var hn,_n,Pn,Jn,or=Fe.touches,yr=or.length,ar=Be(this,Ze,Fe.changedTouches.length===yr).event(Fe);for(Ik(Fe),_n=0;_n<yr;++_n)Jn=[Jn=_c(Pn=or[_n],this),this.__zoom.invert(Jn),Pn.identifier],ar.touch0?ar.touch1||ar.touch0[2]===Jn[2]||(ar.touch1=Jn,ar.taps=0):(ar.touch0=Jn,hn=!0,ar.taps=1+!!t);t&&(t=clearTimeout(t)),hn&&(ar.taps<2&&(i=Jn[0],t=setTimeout(function(){t=null},Gt)),ru(this),ar.start())}}function Qe(Fe,...Ze){if(this.__zooming){var hn,_n,Pn,Jn,or=Be(this,Ze).event(Fe),yr=Fe.changedTouches,ar=yr.length;for(Lx(Fe),hn=0;hn<ar;++hn)Pn=_c(_n=yr[hn],this),or.touch0&&or.touch0[2]===_n.identifier?or.touch0[0]=Pn:or.touch1&&or.touch1[2]===_n.identifier&&(or.touch1[0]=Pn);if(_n=or.that.__zoom,or.touch1){var ri=or.touch0[0],si=or.touch0[1],Gr=or.touch1[0],Kr=or.touch1[1],jo=(jo=Gr[0]-ri[0])*jo+(jo=Gr[1]-ri[1])*jo,eo=(eo=Kr[0]-si[0])*eo+(eo=Kr[1]-si[1])*eo;_n=de(_n,Math.sqrt(jo/eo)),Pn=[(ri[0]+Gr[0])/2,(ri[1]+Gr[1])/2],Jn=[(si[0]+Kr[0])/2,(si[1]+Kr[1])/2]}else{if(!or.touch0)return;Pn=or.touch0[0],Jn=or.touch0[1]}or.zoom("touch",B(be(_n,Pn,Jn),or.extent,rt))}}function tn(Fe,...Ze){if(this.__zooming){var hn,_n,Pn=Be(this,Ze).event(Fe),Jn=Fe.changedTouches,or=Jn.length;for(Ik(Fe),p&&clearTimeout(p),p=setTimeout(function(){p=null},Gt),hn=0;hn<or;++hn)_n=Jn[hn],Pn.touch0&&Pn.touch0[2]===_n.identifier?delete Pn.touch0:Pn.touch1&&Pn.touch1[2]===_n.identifier&&delete Pn.touch1;if(Pn.touch1&&!Pn.touch0&&(Pn.touch0=Pn.touch1,delete Pn.touch1),Pn.touch0)Pn.touch0[1]=this.__zoom.invert(Pn.touch0[0]);else if(Pn.end(),Pn.taps===2&&(_n=_c(_n,this),Math.hypot(i[0]-_n[0],i[1]-_n[1])<oe)){var yr=Wi(this).on("dblclick.zoom");yr&&yr.apply(this,arguments)}}}return ae.transform=function(Fe,Ze,hn,_n){var Pn=Fe.selection?Fe.selection():Fe;Pn.property("__zoom",H8),Fe!==Pn?ve(Fe,Ze,hn,_n):Pn.interrupt().each(function(){Be(this,arguments).event(_n).start().zoom(null,typeof Ze=="function"?Ze.apply(this,arguments):Ze).end()})},ae.scaleBy=function(Fe,Ze,hn,_n){ae.scaleTo(Fe,function(){var Pn=this.__zoom.k,Jn=typeof Ze=="function"?Ze.apply(this,arguments):Ze;return Pn*Jn},hn,_n)},ae.scaleTo=function(Fe,Ze,hn,_n){ae.transform(Fe,function(){var Pn=A.apply(this,arguments),Jn=this.__zoom,or=hn==null?ye(Pn):typeof hn=="function"?hn.apply(this,arguments):hn,yr=Jn.invert(or),ar=typeof Ze=="function"?Ze.apply(this,arguments):Ze;return B(be(de(Jn,ar),or,yr),Pn,rt)},hn,_n)},ae.translateBy=function(Fe,Ze,hn,_n){ae.transform(Fe,function(){return B(this.__zoom.translate(typeof Ze=="function"?Ze.apply(this,arguments):Ze,typeof hn=="function"?hn.apply(this,arguments):hn),A.apply(this,arguments),rt)},null,_n)},ae.translateTo=function(Fe,Ze,hn,_n,Pn){ae.transform(Fe,function(){var Jn=A.apply(this,arguments),or=this.__zoom,yr=_n==null?ye(Jn):typeof _n=="function"?_n.apply(this,arguments):_n;return B(I3.translate(yr[0],yr[1]).scale(or.k).translate(typeof Ze=="function"?-Ze.apply(this,arguments):-Ze,typeof hn=="function"?-hn.apply(this,arguments):-hn),Jn,rt)},_n,Pn)},Ne.prototype={event:function(Fe){return Fe&&(this.sourceEvent=Fe),this},start:function(){return++this.active==1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(Fe,Ze){return this.mouse&&Fe!=="mouse"&&(this.mouse[1]=Ze.invert(this.mouse[0])),this.touch0&&Fe!=="touch"&&(this.touch0[1]=Ze.invert(this.touch0[0])),this.touch1&&Fe!=="touch"&&(this.touch1[1]=Ze.invert(this.touch1[0])),this.that.__zoom=Ze,this.emit("zoom"),this},end:function(){return--this.active==0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(Fe){var Ze=Wi(this.that).datum();It.call(Fe,this.that,new pT(Fe,{sourceEvent:this.sourceEvent,target:ae,type:Fe,transform:this.that.__zoom,dispatch:It}),Ze)}},ae.wheelDelta=function(Fe){return arguments.length?(Y=typeof Fe=="function"?Fe:j3(+Fe),ae):Y},ae.filter=function(Fe){return arguments.length?(w=typeof Fe=="function"?Fe:j3(!!Fe),ae):w},ae.touchable=function(Fe){return arguments.length?(G=typeof Fe=="function"?Fe:j3(!!Fe),ae):G},ae.extent=function(Fe){return arguments.length?(A=typeof Fe=="function"?Fe:j3([[+Fe[0][0],+Fe[0][1]],[+Fe[1][0],+Fe[1][1]]]),ae):A},ae.scaleExtent=function(Fe){return arguments.length?(et[0]=+Fe[0],et[1]=+Fe[1],ae):[et[0],et[1]]},ae.translateExtent=function(Fe){return arguments.length?(rt[0][0]=+Fe[0][0],rt[1][0]=+Fe[1][0],rt[0][1]=+Fe[0][1],rt[1][1]=+Fe[1][1],ae):[[rt[0][0],rt[0][1]],[rt[1][0],rt[1][1]]]},ae.constrain=function(Fe){return arguments.length?(B=Fe,ae):B},ae.duration=function(Fe){return arguments.length?(Ot=+Fe,ae):Ot},ae.interpolate=function(Fe){return arguments.length?(zt=Fe,ae):zt},ae.on=function(){var Fe=It.on.apply(It,arguments);return Fe===It?ae:Fe},ae.clickDistance=function(Fe){return arguments.length?(fe=(Fe=+Fe)*Fe,ae):Math.sqrt(fe)},ae.tapDistance=function(Fe){return arguments.length?(oe=+Fe,ae):oe},ae}U8.prototype=xp.prototype},3706:(d,u,s)=>{s.r(u),s.d(u,{adjust:()=>Xt,alpha:()=>J,blue:()=>it,change:()=>P,channel:()=>V,complement:()=>Qt,contrast:()=>Tt,darken:()=>mt,desaturate:()=>xt,fadeIn:()=>Yt,fadeOut:()=>ne,grayscale:()=>Kt,green:()=>st,hex:()=>R,hsl:()=>$,hsla:()=>$,hue:()=>pt,invert:()=>ue,isDark:()=>St,isLight:()=>Ct,isValid:()=>at,lighten:()=>Pt,lightness:()=>lt,luminance:()=>Bt,mix:()=>se,opacify:()=>Yt,opacity:()=>J,red:()=>K,rgb:()=>R,rgba:()=>R,saturate:()=>kt,saturation:()=>ct,scale:()=>re,toHex:()=>j,toHsla:()=>W,toKeyword:()=>F,toRgba:()=>X,transparentize:()=>ne});const n={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:_t=>_t>=255?255:_t<0?0:_t,g:_t=>_t>=255?255:_t<0?0:_t,b:_t=>_t>=255?255:_t<0?0:_t,h:_t=>_t%360,s:_t=>_t>=100?100:_t<0?0:_t,l:_t=>_t>=100?100:_t<0?0:_t,a:_t=>_t>=1?1:_t<0?0:_t},toLinear:_t=>{const ut=_t/255;return _t>.03928?Math.pow((ut+.055)/1.055,2.4):ut/12.92},hue2rgb:(_t,ut,Mt)=>(Mt<0&&(Mt+=1),Mt>1&&(Mt-=1),Mt<1/6?_t+6*(ut-_t)*Mt:Mt<.5?ut:Mt<2/3?_t+(ut-_t)*(2/3-Mt)*6:_t),hsl2rgb:({h:_t,s:ut,l:Mt},qt)=>{if(!ut)return 2.55*Mt;_t/=360,ut/=100;const Nt=(Mt/=100)<.5?Mt*(1+ut):Mt+ut-Mt*ut,Vt=2*Mt-Nt;switch(qt){case"r":return 255*n.hue2rgb(Vt,Nt,_t+1/3);case"g":return 255*n.hue2rgb(Vt,Nt,_t);case"b":return 255*n.hue2rgb(Vt,Nt,_t-1/3)}},rgb2hsl:({r:_t,g:ut,b:Mt},qt)=>{_t/=255,ut/=255,Mt/=255;const Nt=Math.max(_t,ut,Mt),Vt=Math.min(_t,ut,Mt),Ut=(Nt+Vt)/2;if(qt==="l")return 100*Ut;if(Nt===Vt)return 0;const Wt=Nt-Vt;if(qt==="s")return 100*(Ut>.5?Wt/(2-Nt-Vt):Wt/(Nt+Vt));switch(Nt){case _t:return 60*((ut-Mt)/Wt+(ut<Mt?6:0));case ut:return 60*((Mt-_t)/Wt+2);case Mt:return 60*((_t-ut)/Wt+4);default:return-1}}},m={channel:n,lang:{clamp:(_t,ut,Mt)=>ut>Mt?Math.min(ut,Math.max(Mt,_t)):Math.min(Mt,Math.max(ut,_t)),round:_t=>Math.round(1e10*_t)/1e10},unit:{dec2hex:_t=>{const ut=Math.round(_t).toString(16);return ut.length>1?ut:`0${ut}`}}},g={};for(let _t=0;_t<=255;_t++)g[_t]=m.unit.dec2hex(_t);const y=new class{constructor(_t,ut){this.color=ut,this.changed=!1,this.data=_t,this.type=new class{constructor(){this.type=0}get(){return this.type}set(Mt){if(this.type&&this.type!==Mt)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=Mt}reset(){this.type=0}is(Mt){return this.type===Mt}}}set(_t,ut){return this.color=ut,this.changed=!1,this.data=_t,this.type.type=0,this}_ensureHSL(){const _t=this.data,{h:ut,s:Mt,l:qt}=_t;ut===void 0&&(_t.h=m.channel.rgb2hsl(_t,"h")),Mt===void 0&&(_t.s=m.channel.rgb2hsl(_t,"s")),qt===void 0&&(_t.l=m.channel.rgb2hsl(_t,"l"))}_ensureRGB(){const _t=this.data,{r:ut,g:Mt,b:qt}=_t;ut===void 0&&(_t.r=m.channel.hsl2rgb(_t,"r")),Mt===void 0&&(_t.g=m.channel.hsl2rgb(_t,"g")),qt===void 0&&(_t.b=m.channel.hsl2rgb(_t,"b"))}get r(){const _t=this.data,ut=_t.r;return this.type.is(2)||ut===void 0?(this._ensureHSL(),m.channel.hsl2rgb(_t,"r")):ut}get g(){const _t=this.data,ut=_t.g;return this.type.is(2)||ut===void 0?(this._ensureHSL(),m.channel.hsl2rgb(_t,"g")):ut}get b(){const _t=this.data,ut=_t.b;return this.type.is(2)||ut===void 0?(this._ensureHSL(),m.channel.hsl2rgb(_t,"b")):ut}get h(){const _t=this.data,ut=_t.h;return this.type.is(1)||ut===void 0?(this._ensureRGB(),m.channel.rgb2hsl(_t,"h")):ut}get s(){const _t=this.data,ut=_t.s;return this.type.is(1)||ut===void 0?(this._ensureRGB(),m.channel.rgb2hsl(_t,"s")):ut}get l(){const _t=this.data,ut=_t.l;return this.type.is(1)||ut===void 0?(this._ensureRGB(),m.channel.rgb2hsl(_t,"l")):ut}get a(){return this.data.a}set r(_t){this.type.set(1),this.changed=!0,this.data.r=_t}set g(_t){this.type.set(1),this.changed=!0,this.data.g=_t}set b(_t){this.type.set(1),this.changed=!0,this.data.b=_t}set h(_t){this.type.set(2),this.changed=!0,this.data.h=_t}set s(_t){this.type.set(2),this.changed=!0,this.data.s=_t}set l(_t){this.type.set(2),this.changed=!0,this.data.l=_t}set a(_t){this.changed=!0,this.data.a=_t}}({r:0,g:0,b:0,a:0},"transparent"),k={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:_t=>{if(_t.charCodeAt(0)!==35)return;const ut=_t.match(k.re);if(!ut)return;const Mt=ut[1],qt=parseInt(Mt,16),Nt=Mt.length,Vt=Nt%4==0,Ut=Nt>4,Wt=Ut?1:17,Ft=Ut?8:4,jt=Vt?0:-1,ee=Ut?255:15;return y.set({r:(qt>>Ft*(jt+3)&ee)*Wt,g:(qt>>Ft*(jt+2)&ee)*Wt,b:(qt>>Ft*(jt+1)&ee)*Wt,a:Vt?(qt&ee)*Wt/255:1},_t)},stringify:_t=>{const{r:ut,g:Mt,b:qt,a:Nt}=_t;return Nt<1?`#${g[Math.round(ut)]}${g[Math.round(Mt)]}${g[Math.round(qt)]}${g[Math.round(255*Nt)]}`:`#${g[Math.round(ut)]}${g[Math.round(Mt)]}${g[Math.round(qt)]}`}},E=k,C={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:_t=>{const ut=_t.match(C.hueRe);if(ut){const[,Mt,qt]=ut;switch(qt){case"grad":return m.channel.clamp.h(.9*parseFloat(Mt));case"rad":return m.channel.clamp.h(180*parseFloat(Mt)/Math.PI);case"turn":return m.channel.clamp.h(360*parseFloat(Mt))}}return m.channel.clamp.h(parseFloat(_t))},parse:_t=>{const ut=_t.charCodeAt(0);if(ut!==104&&ut!==72)return;const Mt=_t.match(C.re);if(!Mt)return;const[,qt,Nt,Vt,Ut,Wt]=Mt;return y.set({h:C._hue2deg(qt),s:m.channel.clamp.s(parseFloat(Nt)),l:m.channel.clamp.l(parseFloat(Vt)),a:Ut?m.channel.clamp.a(Wt?parseFloat(Ut)/100:parseFloat(Ut)):1},_t)},stringify:_t=>{const{h:ut,s:Mt,l:qt,a:Nt}=_t;return Nt<1?`hsla(${m.lang.round(ut)}, ${m.lang.round(Mt)}%, ${m.lang.round(qt)}%, ${Nt})`:`hsl(${m.lang.round(ut)}, ${m.lang.round(Mt)}%, ${m.lang.round(qt)}%)`}},v=C,h={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:_t=>{_t=_t.toLowerCase();const ut=h.colors[_t];if(ut)return E.parse(ut)},stringify:_t=>{const ut=E.stringify(_t);for(const Mt in h.colors)if(h.colors[Mt]===ut)return Mt}},a=h,O={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:_t=>{const ut=_t.charCodeAt(0);if(ut!==114&&ut!==82)return;const Mt=_t.match(O.re);if(!Mt)return;const[,qt,Nt,Vt,Ut,Wt,Ft,jt,ee]=Mt;return y.set({r:m.channel.clamp.r(Nt?2.55*parseFloat(qt):parseFloat(qt)),g:m.channel.clamp.g(Ut?2.55*parseFloat(Vt):parseFloat(Vt)),b:m.channel.clamp.b(Ft?2.55*parseFloat(Wt):parseFloat(Wt)),a:jt?m.channel.clamp.a(ee?parseFloat(jt)/100:parseFloat(jt)):1},_t)},stringify:_t=>{const{r:ut,g:Mt,b:qt,a:Nt}=_t;return Nt<1?`rgba(${m.lang.round(ut)}, ${m.lang.round(Mt)}, ${m.lang.round(qt)}, ${m.lang.round(Nt)})`:`rgb(${m.lang.round(ut)}, ${m.lang.round(Mt)}, ${m.lang.round(qt)})`}},_=O,M={format:{keyword:h,hex:k,rgb:O,rgba:O,hsl:C,hsla:C},parse:_t=>{if(typeof _t!="string")return _t;const ut=E.parse(_t)||_.parse(_t)||v.parse(_t)||a.parse(_t);if(ut)return ut;throw new Error(`Unsupported color format: "${_t}"`)},stringify:_t=>!_t.changed&&_t.color?_t.color:_t.type.is(2)||_t.data.r===void 0?v.stringify(_t):_t.a<1||!Number.isInteger(_t.r)||!Number.isInteger(_t.g)||!Number.isInteger(_t.b)?_.stringify(_t):E.stringify(_t)},P=(_t,ut)=>{const Mt=M.parse(_t);for(const qt in ut)Mt[qt]=m.channel.clamp[qt](ut[qt]);return M.stringify(Mt)},R=(_t,ut,Mt=0,qt=1)=>{if(typeof _t!="number")return P(_t,{a:ut});const Nt=y.set({r:m.channel.clamp.r(_t),g:m.channel.clamp.g(ut),b:m.channel.clamp.b(Mt),a:m.channel.clamp.a(qt)});return M.stringify(Nt)},$=(_t,ut,Mt,qt=1)=>{const Nt=y.set({h:m.channel.clamp.h(_t),s:m.channel.clamp.s(ut),l:m.channel.clamp.l(Mt),a:m.channel.clamp.a(qt)});return M.stringify(Nt)},F=_t=>M.format.keyword.stringify(M.parse(_t)),j=_t=>M.format.hex.stringify(M.parse(_t)),X=_t=>M.format.rgba.stringify(M.parse(_t)),W=_t=>M.format.hsla.stringify(M.parse(_t)),V=(_t,ut)=>m.lang.round(M.parse(_t)[ut]),K=_t=>V(_t,"r"),st=_t=>V(_t,"g"),it=_t=>V(_t,"b"),pt=_t=>V(_t,"h"),ct=_t=>V(_t,"s"),lt=_t=>V(_t,"l"),J=_t=>V(_t,"a"),Bt=_t=>{const{r:ut,g:Mt,b:qt}=M.parse(_t),Nt=.2126*m.channel.toLinear(ut)+.7152*m.channel.toLinear(Mt)+.0722*m.channel.toLinear(qt);return m.lang.round(Nt)},Tt=(_t,ut)=>{const Mt=Bt(_t),qt=Bt(ut),Nt=Math.max(Mt,qt),Vt=Math.min(Mt,qt),Ut=(Nt+Number.EPSILON)/(Vt+Number.EPSILON);return m.lang.round(m.lang.clamp(Ut,1,10))},Ct=_t=>Bt(_t)>=.5,St=_t=>!Ct(_t),at=_t=>{try{return M.parse(_t),!0}catch(ut){return!1}},yt=(_t,ut,Mt)=>{const qt=M.parse(_t),Nt=qt[ut],Vt=m.channel.clamp[ut](Nt+Mt);return Nt!==Vt&&(qt[ut]=Vt),M.stringify(qt)},kt=(_t,ut)=>yt(_t,"s",ut),xt=(_t,ut)=>yt(_t,"s",-ut),Pt=(_t,ut)=>yt(_t,"l",ut),mt=(_t,ut)=>yt(_t,"l",-ut),Yt=(_t,ut)=>yt(_t,"a",ut),ne=(_t,ut)=>yt(_t,"a",-ut),Qt=_t=>yt(_t,"h",180),Kt=_t=>P(_t,{s:0}),Xt=(_t,ut)=>{const Mt=M.parse(_t),qt={};for(const Nt in ut)ut[Nt]&&(qt[Nt]=Mt[Nt]+ut[Nt]);return P(_t,qt)},se=(_t,ut,Mt=50)=>{const{r:qt,g:Nt,b:Vt,a:Ut}=M.parse(_t),{r:Wt,g:Ft,b:jt,a:ee}=M.parse(ut),Lt=Mt/100,he=2*Lt-1,Ht=Ut-ee,Se=((he*Ht==-1?he:(he+Ht)/(1+he*Ht))+1)/2,Te=1-Se;return R(qt*Se+Wt*Te,Nt*Se+Ft*Te,Vt*Se+jt*Te,Ut*Lt+ee*(1-Lt))},ue=(_t,ut=100)=>{const Mt=M.parse(_t);return Mt.r=255-Mt.r,Mt.g=255-Mt.g,Mt.b=255-Mt.b,se(Mt,_t,ut)},re=(_t,ut)=>{const Mt=M.parse(_t),qt={};for(const Wt in ut)qt[Wt]=(Nt=Mt[Wt],Vt=ut[Wt],Ut=m.channel.max[Wt],Vt>0?(Ut-Nt)*Vt/100:Nt*Vt/100);var Nt,Vt,Ut;return Xt(_t,qt)}},4296:(d,u,s)=>{s.r(u),s.d(u,{customAlphabet:()=>y,customRandom:()=>g,nanoid:()=>k,random:()=>m,urlAlphabet:()=>n});const n="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let m=E=>crypto.getRandomValues(new Uint8Array(E)),g=(E,C,v)=>{let h=(2<<Math.log(E.length-1)/Math.LN2)-1,a=-~(1.6*h*C/E.length);return(O=C)=>{let _="";for(;;){let M=v(a),P=a;for(;P--;)if(_+=E[M[P]&h]||"",_.length===O)return _}}},y=(E,C=21)=>g(E,C,m),k=(E=21)=>crypto.getRandomValues(new Uint8Array(E)).reduce((C,v)=>C+((v&=63)<36?v.toString(36):v<62?(v-26).toString(36).toUpperCase():v>62?"-":"_"),"")}},I={};function L(d){var u=I[d];if(u!==void 0)return u.exports;var s=I[d]={id:d,loaded:!1,exports:{}};return f[d].call(s.exports,s,s.exports,L),s.loaded=!0,s.exports}return L.n=d=>{var u=d&&d.__esModule?()=>d.default:()=>d;return L.d(u,{a:u}),u},L.d=(d,u)=>{for(var s in u)L.o(u,s)&&!L.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:u[s]})},L.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(d){if(typeof window=="object")return window}}(),L.o=(d,u)=>Object.prototype.hasOwnProperty.call(d,u),L.r=d=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},L.nmd=d=>(d.paths=[],d.children||(d.children=[]),d),L.nc=void 0,L(2352)})())})(T8);var sE=T8.exports;const A8=mc(sE);var O8={exports:{}};(function(U,l){(function(f,I){U.exports=I()})(window,function(){return function(f){var I={};function L(d){if(I[d])return I[d].exports;var u=I[d]={i:d,l:!1,exports:{}};return f[d].call(u.exports,u,u.exports,L),u.l=!0,u.exports}return L.m=f,L.c=I,L.d=function(d,u,s){L.o(d,u)||Object.defineProperty(d,u,{enumerable:!0,get:s})},L.r=function(d){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},L.t=function(d,u){if(1&u&&(d=L(d)),8&u||4&u&&typeof d=="object"&&d&&d.__esModule)return d;var s=Object.create(null);if(L.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:d}),2&u&&typeof d!="string")for(var n in d)L.d(s,n,function(m){return d[m]}.bind(null,n));return s},L.n=function(d){var u=d&&d.__esModule?function(){return d.default}:function(){return d};return L.d(u,"a",u),u},L.o=function(d,u){return Object.prototype.hasOwnProperty.call(d,u)},L.p="/",L(L.s=6)}([function(f,I,L){f.exports=function(d){var u={};function s(n){if(u[n])return u[n].exports;var m=u[n]={i:n,l:!1,exports:{}};return d[n].call(m.exports,m,m.exports,s),m.l=!0,m.exports}return s.m=d,s.c=u,s.d=function(n,m,g){s.o(n,m)||Object.defineProperty(n,m,{enumerable:!0,get:g})},s.r=function(n){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},s.t=function(n,m){if(1&m&&(n=s(n)),8&m||4&m&&typeof n=="object"&&n&&n.__esModule)return n;var g=Object.create(null);if(s.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:n}),2&m&&typeof n!="string")for(var y in n)s.d(g,y,function(k){return n[k]}.bind(null,y));return g},s.n=function(n){var m=n&&n.__esModule?function(){return n.default}:function(){return n};return s.d(m,"a",m),m},s.o=function(n,m){return Object.prototype.hasOwnProperty.call(n,m)},s.p="",s(s.s=3)}([function(d,u){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch(n){typeof window=="object"&&(s=window)}d.exports=s},function(d,u,s){(function(n){var m=s(2),g=setTimeout;function y(){}function k(_){if(!(this instanceof k))throw new TypeError("Promises must be constructed via new");if(typeof _!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],O(_,this)}function E(_,M){for(;_._state===3;)_=_._value;_._state!==0?(_._handled=!0,k._immediateFn(function(){var P=_._state===1?M.onFulfilled:M.onRejected;if(P!==null){var R;try{R=P(_._value)}catch($){return void v(M.promise,$)}C(M.promise,R)}else(_._state===1?C:v)(M.promise,_._value)})):_._deferreds.push(M)}function C(_,M){try{if(M===_)throw new TypeError("A promise cannot be resolved with itself.");if(M&&(typeof M=="object"||typeof M=="function")){var P=M.then;if(M instanceof k)return _._state=3,_._value=M,void h(_);if(typeof P=="function")return void O((R=P,$=M,function(){R.apply($,arguments)}),_)}_._state=1,_._value=M,h(_)}catch(F){v(_,F)}var R,$}function v(_,M){_._state=2,_._value=M,h(_)}function h(_){_._state===2&&_._deferreds.length===0&&k._immediateFn(function(){_._handled||k._unhandledRejectionFn(_._value)});for(var M=0,P=_._deferreds.length;M<P;M++)E(_,_._deferreds[M]);_._deferreds=null}function a(_,M,P){this.onFulfilled=typeof _=="function"?_:null,this.onRejected=typeof M=="function"?M:null,this.promise=P}function O(_,M){var P=!1;try{_(function(R){P||(P=!0,C(M,R))},function(R){P||(P=!0,v(M,R))})}catch(R){if(P)return;P=!0,v(M,R)}}k.prototype.catch=function(_){return this.then(null,_)},k.prototype.then=function(_,M){var P=new this.constructor(y);return E(this,new a(_,M,P)),P},k.prototype.finally=m.a,k.all=function(_){return new k(function(M,P){if(!_||_.length===void 0)throw new TypeError("Promise.all accepts an array");var R=Array.prototype.slice.call(_);if(R.length===0)return M([]);var $=R.length;function F(X,W){try{if(W&&(typeof W=="object"||typeof W=="function")){var V=W.then;if(typeof V=="function")return void V.call(W,function(K){F(X,K)},P)}R[X]=W,--$==0&&M(R)}catch(K){P(K)}}for(var j=0;j<R.length;j++)F(j,R[j])})},k.resolve=function(_){return _&&typeof _=="object"&&_.constructor===k?_:new k(function(M){M(_)})},k.reject=function(_){return new k(function(M,P){P(_)})},k.race=function(_){return new k(function(M,P){for(var R=0,$=_.length;R<$;R++)_[R].then(M,P)})},k._immediateFn=typeof n=="function"&&function(_){n(_)}||function(_){g(_,0)},k._unhandledRejectionFn=function(_){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",_)},u.a=k}).call(this,s(5).setImmediate)},function(d,u,s){u.a=function(n){var m=this.constructor;return this.then(function(g){return m.resolve(n()).then(function(){return g})},function(g){return m.resolve(n()).then(function(){return m.reject(g)})})}},function(d,u,s){function n(O){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(O)}s(4);var m,g,y,k,E,C,v,h=s(8),a=(g=function(O){return new Promise(function(_,M){O=k(O),(O=E(O)).beforeSend&&O.beforeSend();var P=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");P.open(O.method,O.url),P.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(O.headers).forEach(function($){var F=O.headers[$];P.setRequestHeader($,F)});var R=O.ratio;P.upload.addEventListener("progress",function($){var F=Math.round($.loaded/$.total*100),j=Math.ceil(F*R/100);O.progress(Math.min(j,100))},!1),P.addEventListener("progress",function($){var F=Math.round($.loaded/$.total*100),j=Math.ceil(F*(100-R)/100)+R;O.progress(Math.min(j,100))},!1),P.onreadystatechange=function(){if(P.readyState===4){var $=P.response;try{$=JSON.parse($)}catch(X){}var F=h.parseHeaders(P.getAllResponseHeaders()),j={body:$,code:P.status,headers:F};v(P.status)?_(j):M(j)}},P.send(O.data)})},y=function(O){return O.method="POST",g(O)},k=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(O.url&&typeof O.url!="string")throw new Error("Url must be a string");if(O.url=O.url||"",O.method&&typeof O.method!="string")throw new Error("`method` must be a string or null");if(O.method=O.method?O.method.toUpperCase():"GET",O.headers&&n(O.headers)!=="object")throw new Error("`headers` must be an object or null");if(O.headers=O.headers||{},O.type&&(typeof O.type!="string"||!Object.values(m).includes(O.type)))throw new Error("`type` must be taken from module's «contentType» library");if(O.progress&&typeof O.progress!="function")throw new Error("`progress` must be a function or null");if(O.progress=O.progress||function(_){},O.beforeSend=O.beforeSend||function(_){},O.ratio&&typeof O.ratio!="number")throw new Error("`ratio` must be a number");if(O.ratio<0||O.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(O.ratio=O.ratio||90,O.accept&&typeof O.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(O.accept=O.accept||"*/*",O.multiple&&typeof O.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(O.multiple=O.multiple||!1,O.fieldName&&typeof O.fieldName!="string")throw new Error("`fieldName` must be a string");return O.fieldName=O.fieldName||"files",O},E=function(O){switch(O.method){case"GET":var _=C(O.data,m.URLENCODED);delete O.data,O.url=/\?/.test(O.url)?O.url+"&"+_:O.url+"?"+_;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var M=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||m.JSON}(O);(h.isFormData(O.data)||h.isFormElement(O.data))&&(M=m.FORM),O.data=C(O.data,M),M!==a.contentType.FORM&&(O.headers["content-type"]=M)}return O},C=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case m.URLENCODED:return h.urlEncode(O);case m.JSON:return h.jsonEncode(O);case m.FORM:return h.formEncode(O);default:return O}},v=function(O){return O>=200&&O<300},{contentType:m={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:g,get:function(O){return O.method="GET",g(O)},post:y,transport:function(O){return O=k(O),h.selectFiles(O).then(function(_){for(var M=new FormData,P=0;P<_.length;P++)M.append(O.fieldName,_[P],_[P].name);h.isObject(O.data)&&Object.keys(O.data).forEach(function($){var F=O.data[$];M.append($,F)});var R=O.beforeSend;return O.beforeSend=function(){return R(_)},O.data=M,y(O)})},selectFiles:function(O){return delete(O=k(O)).beforeSend,h.selectFiles(O)}});d.exports=a},function(d,u,s){s.r(u);var n=s(1);window.Promise=window.Promise||n.a},function(d,u,s){(function(n){var m=n!==void 0&&n||typeof self!="undefined"&&self||window,g=Function.prototype.apply;function y(k,E){this._id=k,this._clearFn=E}u.setTimeout=function(){return new y(g.call(setTimeout,m,arguments),clearTimeout)},u.setInterval=function(){return new y(g.call(setInterval,m,arguments),clearInterval)},u.clearTimeout=u.clearInterval=function(k){k&&k.close()},y.prototype.unref=y.prototype.ref=function(){},y.prototype.close=function(){this._clearFn.call(m,this._id)},u.enroll=function(k,E){clearTimeout(k._idleTimeoutId),k._idleTimeout=E},u.unenroll=function(k){clearTimeout(k._idleTimeoutId),k._idleTimeout=-1},u._unrefActive=u.active=function(k){clearTimeout(k._idleTimeoutId);var E=k._idleTimeout;E>=0&&(k._idleTimeoutId=setTimeout(function(){k._onTimeout&&k._onTimeout()},E))},s(6),u.setImmediate=typeof self!="undefined"&&self.setImmediate||n!==void 0&&n.setImmediate||this&&this.setImmediate,u.clearImmediate=typeof self!="undefined"&&self.clearImmediate||n!==void 0&&n.clearImmediate||this&&this.clearImmediate}).call(this,s(0))},function(d,u,s){(function(n,m){(function(g,y){if(!g.setImmediate){var k,E,C,v,h,a=1,O={},_=!1,M=g.document,P=Object.getPrototypeOf&&Object.getPrototypeOf(g);P=P&&P.setTimeout?P:g,{}.toString.call(g.process)==="[object process]"?k=function(F){m.nextTick(function(){$(F)})}:function(){if(g.postMessage&&!g.importScripts){var F=!0,j=g.onmessage;return g.onmessage=function(){F=!1},g.postMessage("","*"),g.onmessage=j,F}}()?(v="setImmediate$"+Math.random()+"$",h=function(F){F.source===g&&typeof F.data=="string"&&F.data.indexOf(v)===0&&$(+F.data.slice(v.length))},g.addEventListener?g.addEventListener("message",h,!1):g.attachEvent("onmessage",h),k=function(F){g.postMessage(v+F,"*")}):g.MessageChannel?((C=new MessageChannel).port1.onmessage=function(F){$(F.data)},k=function(F){C.port2.postMessage(F)}):M&&"onreadystatechange"in M.createElement("script")?(E=M.documentElement,k=function(F){var j=M.createElement("script");j.onreadystatechange=function(){$(F),j.onreadystatechange=null,E.removeChild(j),j=null},E.appendChild(j)}):k=function(F){setTimeout($,0,F)},P.setImmediate=function(F){typeof F!="function"&&(F=new Function(""+F));for(var j=new Array(arguments.length-1),X=0;X<j.length;X++)j[X]=arguments[X+1];var W={callback:F,args:j};return O[a]=W,k(a),a++},P.clearImmediate=R}function R(F){delete O[F]}function $(F){if(_)setTimeout($,0,F);else{var j=O[F];if(j){_=!0;try{(function(X){var W=X.callback,V=X.args;switch(V.length){case 0:W();break;case 1:W(V[0]);break;case 2:W(V[0],V[1]);break;case 3:W(V[0],V[1],V[2]);break;default:W.apply(void 0,V)}})(j)}finally{R(F),_=!1}}}}})(typeof self=="undefined"?n===void 0?this:n:self)}).call(this,s(0),s(7))},function(d,u){var s,n,m=d.exports={};function g(){throw new Error("setTimeout has not been defined")}function y(){throw new Error("clearTimeout has not been defined")}function k(P){if(s===setTimeout)return setTimeout(P,0);if((s===g||!s)&&setTimeout)return s=setTimeout,setTimeout(P,0);try{return s(P,0)}catch(R){try{return s.call(null,P,0)}catch($){return s.call(this,P,0)}}}(function(){try{s=typeof setTimeout=="function"?setTimeout:g}catch(P){s=g}try{n=typeof clearTimeout=="function"?clearTimeout:y}catch(P){n=y}})();var E,C=[],v=!1,h=-1;function a(){v&&E&&(v=!1,E.length?C=E.concat(C):h=-1,C.length&&O())}function O(){if(!v){var P=k(a);v=!0;for(var R=C.length;R;){for(E=C,C=[];++h<R;)E&&E[h].run();h=-1,R=C.length}E=null,v=!1,function($){if(n===clearTimeout)return clearTimeout($);if((n===y||!n)&&clearTimeout)return n=clearTimeout,clearTimeout($);try{n($)}catch(F){try{return n.call(null,$)}catch(j){return n.call(this,$)}}}(P)}}function _(P,R){this.fun=P,this.array=R}function M(){}m.nextTick=function(P){var R=new Array(arguments.length-1);if(arguments.length>1)for(var $=1;$<arguments.length;$++)R[$-1]=arguments[$];C.push(new _(P,R)),C.length!==1||v||k(O)},_.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={},m.on=M,m.addListener=M,m.once=M,m.off=M,m.removeListener=M,m.removeAllListeners=M,m.emit=M,m.prependListener=M,m.prependOnceListener=M,m.listeners=function(P){return[]},m.binding=function(P){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(P){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}},function(d,u,s){function n(g,y){for(var k=0;k<y.length;k++){var E=y[k];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(g,E.key,E)}}var m=s(9);d.exports=function(){function g(){(function(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")})(this,g)}var y,k;return y=g,(k=[{key:"urlEncode",value:function(E){return m(E)}},{key:"jsonEncode",value:function(E){return JSON.stringify(E)}},{key:"formEncode",value:function(E){if(this.isFormData(E))return E;if(this.isFormElement(E))return new FormData(E);if(this.isObject(E)){var C=new FormData;return Object.keys(E).forEach(function(v){var h=E[v];C.append(v,h)}),C}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(E){return Object.prototype.toString.call(E)==="[object Object]"}},{key:"isFormData",value:function(E){return E instanceof FormData}},{key:"isFormElement",value:function(E){return E instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(C,v){var h=document.createElement("INPUT");h.type="file",E.multiple&&h.setAttribute("multiple","multiple"),E.accept&&h.setAttribute("accept",E.accept),h.style.display="none",document.body.appendChild(h),h.addEventListener("change",function(a){var O=a.target.files;C(O),document.body.removeChild(h)},!1),h.click()})}},{key:"parseHeaders",value:function(E){var C=E.trim().split(/[\r\n]+/),v={};return C.forEach(function(h){var a=h.split(": "),O=a.shift(),_=a.join(": ");O&&(v[O]=_)}),v}}])&&n(y,k),g}()},function(d,u){var s=function(m){return encodeURIComponent(m).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},n=function(m,g,y,k){return g=g||null,y=y||"&",k=k||null,m?function(E){for(var C=new Array,v=0;v<E.length;v++)E[v]&&C.push(E[v]);return C}(Object.keys(m).map(function(E){var C,v,h=E;if(k&&(h=k+"["+h+"]"),typeof m[E]=="object"&&m[E]!==null)C=n(m[E],null,y,h);else{g&&(v=h,h=!isNaN(parseFloat(v))&&isFinite(v)?g+Number(h):h);var a=m[E];a=(a=(a=(a=a===!0?"1":a)===!1?"0":a)===0?"0":a)||"",C=s(h)+"="+s(a)}return C})).join(y).replace(/[!'()*]/g,""):""};d.exports=n}])},function(f,I,L){var d=L(2);typeof d=="string"&&(d=[[f.i,d,""]]);var u={hmr:!0,transform:void 0,insertInto:void 0};L(4)(d,u),d.locals&&(f.exports=d.locals)},function(f,I,L){(f.exports=L(3)(!1)).push([f.i,`.cdx-attaches {
  --color-line: #EFF0F1;
  --color-bg: #fff;
  --color-bg-secondary: #F8F8F8;
  --color-bg-secondary--hover: #f2f2f2;
  --color-text-secondary: #707684;
}

  .cdx-attaches--with-file {
    display: flex;
    align-items: center;
    padding: 10px 12px;
    border: 1px solid var(--color-line);
    border-radius: 7px;
    background: var(--color-bg);
  }

  .cdx-attaches--with-file .cdx-attaches__file-info {
      display: grid;
      grid-gap: 4px;
      max-width: calc(100% - 80px);
      margin: auto 0;
      flex-grow: 2;
    }

  .cdx-attaches--with-file .cdx-attaches__download-button {
      display: flex;
      align-items: center;
      background: var(--color-bg-secondary);
      padding: 6px;
      border-radius: 6px;
      margin: auto 0 auto auto;
    }

  .cdx-attaches--with-file .cdx-attaches__download-button:hover {
        background: var(--color-bg-secondary--hover);
      }

  .cdx-attaches--with-file .cdx-attaches__download-button svg {
        width: 20px;
        height: 20px;
        fill: none;
      }

  .cdx-attaches--with-file .cdx-attaches__file-icon {
      position: relative;
    }

  .cdx-attaches--with-file .cdx-attaches__file-icon-background {
        background-color: #333;

        width: 27px;
        height: 30px;
        margin-right: 12px;
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

  @supports(-webkit-mask-box-image: url('')){

  .cdx-attaches--with-file .cdx-attaches__file-icon-background {
          border-radius: 0;
          -webkit-mask-box-image: url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 10.3872C0 1.83334 1.83334 0 10.3872 0H13.6128C22.1667 0 24 1.83334 24 10.3872V13.6128C24 22.1667 22.1667 24 13.6128 24H10.3872C1.83334 24 0 22.1667 0 13.6128V10.3872Z' fill='black'/%3E%3C/svg%3E%0A") 48% 41% 37.9% 53.3%
      };
        }

  .cdx-attaches--with-file .cdx-attaches__file-icon-label {
        position: absolute;
        left: 3px;
        top: 11px;
        background: inherit;
        text-transform: uppercase;
        line-height: 1em;
        color: #fff;
        padding: 1px 2px;
        border-radius: 3px;
        font-size: 10px;
        font-weight: bold;
        /* box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.22); */
        font-family: ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;
        letter-spacing: 0.02em;
      }

  .cdx-attaches--with-file .cdx-attaches__file-icon svg {
        width: 20px;
        height: 20px;
      }

  .cdx-attaches--with-file .cdx-attaches__file-icon path {
        stroke: #fff;
      }

  .cdx-attaches--with-file .cdx-attaches__size {
      color: var(--color-text-secondary);
      font-size: 12px;
      line-height: 1em;
    }

  .cdx-attaches--with-file .cdx-attaches__size::after {
        content: attr(data-size);
        margin-left: 0.2em;
      }

  .cdx-attaches--with-file .cdx-attaches__title {
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
      outline: none;
      max-width: 90%;
      font-size: 14px;
      font-weight: 500;
      line-height: 1em;
    }

  .cdx-attaches--with-file .cdx-attaches__title:empty::before {
      content: attr(data-placeholder);
      color: #7b7e89;
    }

  .cdx-attaches--loading .cdx-attaches__title,
    .cdx-attaches--loading .cdx-attaches__file-icon,
    .cdx-attaches--loading .cdx-attaches__size,
    .cdx-attaches--loading .cdx-attaches__download-button,
    .cdx-attaches--loading .cdx-attaches__button {
      opacity: 0;
      font-size: 0;
    }

  .cdx-attaches__button {
    display: flex;
    align-items: center;
    justify-content: center;
    color: #000;
    border-radius: 7px;
    font-weight: 500;
  }

  .cdx-attaches__button svg {
      margin-top: 0;
    }
`,""])},function(f,I){f.exports=function(L){var d=[];return d.toString=function(){return this.map(function(u){var s=function(n,m){var g=n[1]||"",y=n[3];if(!y)return g;if(m&&typeof btoa=="function"){var k=(C=y,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(C))))+" */"),E=y.sources.map(function(v){return"/*# sourceURL="+y.sourceRoot+v+" */"});return[g].concat(E).concat([k]).join(`
`)}var C;return[g].join(`
`)}(u,L);return u[2]?"@media "+u[2]+"{"+s+"}":s}).join("")},d.i=function(u,s){typeof u=="string"&&(u=[[null,u,""]]);for(var n={},m=0;m<this.length;m++){var g=this[m][0];typeof g=="number"&&(n[g]=!0)}for(m=0;m<u.length;m++){var y=u[m];typeof y[0]=="number"&&n[y[0]]||(s&&!y[2]?y[2]=s:s&&(y[2]="("+y[2]+") and ("+s+")"),d.push(y))}},d}},function(f,I,L){var d,u,s={},n=(d=function(){return window&&document&&document.all&&!window.atob},function(){return u===void 0&&(u=d.apply(this,arguments)),u}),m=function(W){return document.querySelector(W)},g=function(W){var V={};return function(K){if(typeof K=="function")return K();if(V[K]===void 0){var st=m.call(this,K);if(window.HTMLIFrameElement&&st instanceof window.HTMLIFrameElement)try{st=st.contentDocument.head}catch(it){st=null}V[K]=st}return V[K]}}(),y=null,k=0,E=[],C=L(5);function v(W,V){for(var K=0;K<W.length;K++){var st=W[K],it=s[st.id];if(it){it.refs++;for(var pt=0;pt<it.parts.length;pt++)it.parts[pt](st.parts[pt]);for(;pt<st.parts.length;pt++)it.parts.push(P(st.parts[pt],V))}else{var ct=[];for(pt=0;pt<st.parts.length;pt++)ct.push(P(st.parts[pt],V));s[st.id]={id:st.id,refs:1,parts:ct}}}}function h(W,V){for(var K=[],st={},it=0;it<W.length;it++){var pt=W[it],ct=V.base?pt[0]+V.base:pt[0],lt={css:pt[1],media:pt[2],sourceMap:pt[3]};st[ct]?st[ct].parts.push(lt):K.push(st[ct]={id:ct,parts:[lt]})}return K}function a(W,V){var K=g(W.insertInto);if(!K)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var st=E[E.length-1];if(W.insertAt==="top")st?st.nextSibling?K.insertBefore(V,st.nextSibling):K.appendChild(V):K.insertBefore(V,K.firstChild),E.push(V);else if(W.insertAt==="bottom")K.appendChild(V);else{if(typeof W.insertAt!="object"||!W.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var it=g(W.insertInto+" "+W.insertAt.before);K.insertBefore(V,it)}}function O(W){if(W.parentNode===null)return!1;W.parentNode.removeChild(W);var V=E.indexOf(W);V>=0&&E.splice(V,1)}function _(W){var V=document.createElement("style");return W.attrs.type===void 0&&(W.attrs.type="text/css"),M(V,W.attrs),a(W,V),V}function M(W,V){Object.keys(V).forEach(function(K){W.setAttribute(K,V[K])})}function P(W,V){var K,st,it,pt;if(V.transform&&W.css){if(!(pt=V.transform(W.css)))return function(){};W.css=pt}if(V.singleton){var ct=k++;K=y||(y=_(V)),st=F.bind(null,K,ct,!1),it=F.bind(null,K,ct,!0)}else W.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(K=function(lt){var J=document.createElement("link");return lt.attrs.type===void 0&&(lt.attrs.type="text/css"),lt.attrs.rel="stylesheet",M(J,lt.attrs),a(lt,J),J}(V),st=X.bind(null,K,V),it=function(){O(K),K.href&&URL.revokeObjectURL(K.href)}):(K=_(V),st=j.bind(null,K),it=function(){O(K)});return st(W),function(lt){if(lt){if(lt.css===W.css&&lt.media===W.media&&lt.sourceMap===W.sourceMap)return;st(W=lt)}else it()}}f.exports=function(W,V){if(typeof DEBUG!="undefined"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(V=V||{}).attrs=typeof V.attrs=="object"?V.attrs:{},V.singleton||typeof V.singleton=="boolean"||(V.singleton=n()),V.insertInto||(V.insertInto="head"),V.insertAt||(V.insertAt="bottom");var K=h(W,V);return v(K,V),function(st){for(var it=[],pt=0;pt<K.length;pt++){var ct=K[pt];(lt=s[ct.id]).refs--,it.push(lt)}for(st&&v(h(st,V),V),pt=0;pt<it.length;pt++){var lt;if((lt=it[pt]).refs===0){for(var J=0;J<lt.parts.length;J++)lt.parts[J]();delete s[lt.id]}}}};var R,$=(R=[],function(W,V){return R[W]=V,R.filter(Boolean).join(`
`)});function F(W,V,K,st){var it=K?"":st.css;if(W.styleSheet)W.styleSheet.cssText=$(V,it);else{var pt=document.createTextNode(it),ct=W.childNodes;ct[V]&&W.removeChild(ct[V]),ct.length?W.insertBefore(pt,ct[V]):W.appendChild(pt)}}function j(W,V){var K=V.css,st=V.media;if(st&&W.setAttribute("media",st),W.styleSheet)W.styleSheet.cssText=K;else{for(;W.firstChild;)W.removeChild(W.firstChild);W.appendChild(document.createTextNode(K))}}function X(W,V,K){var st=K.css,it=K.sourceMap,pt=V.convertToAbsoluteUrls===void 0&&it;(V.convertToAbsoluteUrls||pt)&&(st=C(st)),it&&(st+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(it))))+" */");var ct=new Blob([st],{type:"text/css"}),lt=W.href;W.href=URL.createObjectURL(ct),lt&&URL.revokeObjectURL(lt)}},function(f,I){f.exports=function(L){var d=typeof window!="undefined"&&window.location;if(!d)throw new Error("fixUrls requires window.location");if(!L||typeof L!="string")return L;var u=d.protocol+"//"+d.host,s=u+d.pathname.replace(/\/[^\/]*$/,"/");return L.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(n,m){var g,y=m.trim().replace(/^"(.*)"$/,function(k,E){return E}).replace(/^'(.*)'$/,function(k,E){return E});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(y)?n:(g=y.indexOf("//")===0?y:y.indexOf("/")===0?u+y:s+y.replace(/^\.\//,""),"url("+JSON.stringify(g)+")")})}},function(f,I,L){L.r(I),L.d(I,"default",function(){return v}),L(1);var d=L(0),u=L.n(d);function s(h,a){for(var O=0;O<a.length;O++){var _=a[O];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(h,_.key,_)}}var n=function(){function h(_){var M=_.config,P=_.onUpload,R=_.onError;(function($,F){if(!($ instanceof F))throw new TypeError("Cannot call a class as a function")})(this,h),this.config=M,this.onUpload=P,this.onError=R}var a,O;return a=h,(O=[{key:"uploadSelectedFile",value:function(_){var M=this,P=_.onPreview;(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function"?u.a.selectFiles({accept:this.config.types}).then(function(R){P();var $,F=M.config.uploader.uploadByFile(R[0]);return($=F)&&typeof $.then=="function"||console.warn("Custom uploader method uploadByFile should return a Promise"),F}):u.a.transport({url:this.config.endpoint,accept:this.config.types,beforeSend:function(){return P()},fieldName:this.config.field,headers:this.config.additionalRequestHeaders||{}}).then(function(R){return R.body})).then(function(R){M.onUpload(R)}).catch(function(R){var $=R.body,F=$&&$.message?$.message:M.config.errorMessage;M.onError(F)})}}])&&s(a.prototype,O),h}();function m(h){return function(a){if(Array.isArray(a))return g(a)}(h)||function(a){if(typeof Symbol!="undefined"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}(h)||function(a,O){if(a){if(typeof a=="string")return g(a,O);var _=Object.prototype.toString.call(a).slice(8,-1);if(_==="Object"&&a.constructor&&(_=a.constructor.name),_==="Map"||_==="Set")return Array.from(a);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return g(a,O)}}(h)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function g(h,a){(a==null||a>h.length)&&(a=h.length);for(var O=0,_=new Array(a);O<a;O++)_[O]=h[O];return _}function y(h){var a,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},M=document.createElement(h);Array.isArray(O)?(a=M.classList).add.apply(a,m(O)):O&&M.classList.add(O);for(var P in _)M[P]=_[P];return M}function k(h){return Object.keys(h).length===0}const E='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.3236 8.43554L9.49533 12.1908C9.13119 12.5505 8.93118 13.043 8.9393 13.5598C8.94741 14.0767 9.163 14.5757 9.53862 14.947C9.91424 15.3182 10.4191 15.5314 10.9422 15.5397C11.4653 15.5479 11.9637 15.3504 12.3279 14.9908L16.1562 11.2355C16.8845 10.5161 17.2845 9.53123 17.2682 8.4975C17.252 7.46376 16.8208 6.46583 16.0696 5.72324C15.3184 4.98066 14.3086 4.55425 13.2624 4.53782C12.2162 4.52138 11.2193 4.91627 10.4911 5.63562L6.66277 9.39093C5.57035 10.4699 4.97032 11.9473 4.99467 13.4979C5.01903 15.0485 5.66578 16.5454 6.79264 17.6592C7.9195 18.7731 9.43417 19.4127 11.0034 19.4374C12.5727 19.462 14.068 18.8697 15.1604 17.7907L18.9887 14.0354"/></svg>';function C(h,a){for(var O=0;O<a.length;O++){var _=a[O];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(h,_.key,_)}}var v=function(){function h(M){var P=this,R=M.data,$=M.config,F=M.api,j=M.readOnly;(function(X,W){if(!(X instanceof W))throw new TypeError("Cannot call a class as a function")})(this,h),this.api=F,this.readOnly=j,this.nodes={wrapper:null,button:null,title:null},this._data={file:{},title:""},this.config={endpoint:$.endpoint||"",field:$.field||"file",types:$.types||"*",buttonText:$.buttonText||"Select file to upload",errorMessage:$.errorMessage||"File upload failed",uploader:$.uploader||void 0,additionalRequestHeaders:$.additionalRequestHeaders||{}},R===void 0||k(R)||(this.data=R),this.uploader=new n({config:this.config,onUpload:function(X){return P.onUpload(X)},onError:function(X){return P.uploadingFailed(X)}}),this.enableFileUpload=this.enableFileUpload.bind(this)}var a,O,_;return a=h,_=[{key:"toolbox",get:function(){return{icon:E,title:"Attachment"}}},{key:"isReadOnlySupported",get:function(){return!0}}],(O=[{key:"CSS",get:function(){return{baseClass:this.api.styles.block,apiButton:this.api.styles.button,loader:this.api.styles.loader,wrapper:"cdx-attaches",wrapperWithFile:"cdx-attaches--with-file",wrapperLoading:"cdx-attaches--loading",button:"cdx-attaches__button",title:"cdx-attaches__title",size:"cdx-attaches__size",downloadButton:"cdx-attaches__download-button",fileInfo:"cdx-attaches__file-info",fileIcon:"cdx-attaches__file-icon",fileIconBackground:"cdx-attaches__file-icon-background",fileIconLabel:"cdx-attaches__file-icon-label"}}},{key:"EXTENSIONS",get:function(){return{doc:"#1483E9",docx:"#1483E9",odt:"#1483E9",pdf:"#DB2F2F",rtf:"#744FDC",tex:"#5a5a5b",txt:"#5a5a5b",pptx:"#E35200",ppt:"#E35200",mp3:"#eab456",mp4:"#f676a6",xls:"#11AE3D",html:"#2988f0",htm:"#2988f0",png:"#AA2284",jpg:"#D13359",jpeg:"#D13359",gif:"#f6af76",zip:"#4f566f",rar:"#4f566f",exe:"#e26f6f",svg:"#bf5252",key:"#00B2FF",sketch:"#FFC700",ai:"#FB601D",psd:"#388ae5",dmg:"#e26f6f",json:"#2988f0",csv:"#11AE3D"}}},{key:"validate",value:function(M){return!k(M.file)}},{key:"save",value:function(M){if(this.pluginHasData()){var P=M.querySelector(".".concat(this.CSS.title));P&&Object.assign(this.data,{title:P.innerHTML})}return this.data}},{key:"render",value:function(){var M=y("div",this.CSS.baseClass);return this.nodes.wrapper=y("div",this.CSS.wrapper),this.pluginHasData()?this.showFileData():this.prepareUploadButton(),M.appendChild(this.nodes.wrapper),M}},{key:"prepareUploadButton",value:function(){this.nodes.button=y("div",[this.CSS.apiButton,this.CSS.button]),this.nodes.button.innerHTML="".concat(E," ").concat(this.config.buttonText),this.readOnly||this.nodes.button.addEventListener("click",this.enableFileUpload),this.nodes.wrapper.appendChild(this.nodes.button)}},{key:"appendCallback",value:function(){this.nodes.button.click()}},{key:"pluginHasData",value:function(){return this.data.title!==""||Object.values(this.data.file).some(function(M){return M!==void 0})}},{key:"enableFileUpload",value:function(){var M=this;this.uploader.uploadSelectedFile({onPreview:function(){M.nodes.wrapper.classList.add(M.CSS.wrapperLoading,M.CSS.loader)}})}},{key:"onUpload",value:function(M){var P,R,$,F=M;try{F.success&&F.file!==void 0&&!k(F.file)?(this.data={file:F.file,title:F.file.title||""},this.nodes.button.remove(),this.showFileData(),P=this.nodes.title,R=document.createRange(),$=window.getSelection(),R.selectNodeContents(P),R.collapse(!1),$.removeAllRanges(),$.addRange(R),this.removeLoader()):this.uploadingFailed(this.config.errorMessage)}catch(j){console.error("Attaches tool error:",j),this.uploadingFailed(this.config.errorMessage)}this.api.blocks.getBlockByIndex(this.api.blocks.getCurrentBlockIndex()).dispatchChange()}},{key:"appendFileIcon",value:function(M){var P,R=M.extension||((P=M.name)===void 0?"":P.split(".").pop()),$=this.EXTENSIONS[R],F=y("div",this.CSS.fileIcon),j=y("div",this.CSS.fileIconBackground);if($&&(j.style.backgroundColor=$),F.appendChild(j),R){var X=R;R.length>4&&(X=R.substring(0,4)+"…");var W=y("div",this.CSS.fileIconLabel,{textContent:X,title:R});$&&(W.style.backgroundColor=$),F.appendChild(W)}else j.innerHTML=E;this.nodes.wrapper.appendChild(F)}},{key:"removeLoader",value:function(){var M=this;setTimeout(function(){return M.nodes.wrapper.classList.remove(M.CSS.wrapperLoading,M.CSS.loader)},500)}},{key:"showFileData",value:function(){this.nodes.wrapper.classList.add(this.CSS.wrapperWithFile);var M=this.data,P=M.file,R=M.title;this.appendFileIcon(P);var $=y("div",this.CSS.fileInfo);if(this.nodes.title=y("div",this.CSS.title,{contentEditable:this.readOnly===!1}),this.nodes.title.dataset.placeholder=this.api.i18n.t("File title"),this.nodes.title.textContent=R||"",$.appendChild(this.nodes.title),P.size){var F,j,X=y("div",this.CSS.size);Math.log10(+P.size)>=6?(F="MiB",j=P.size/Math.pow(2,20)):(F="KiB",j=P.size/Math.pow(2,10)),X.textContent=j.toFixed(1),X.setAttribute("data-size",F),$.appendChild(X)}if(this.nodes.wrapper.appendChild($),P.url!==void 0){var W=y("a",this.CSS.downloadButton,{innerHTML:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',href:P.url,target:"_blank",rel:"nofollow noindex noreferrer"});this.nodes.wrapper.appendChild(W)}}},{key:"uploadingFailed",value:function(M){this.api.notifier.show({message:M,style:"error"}),this.removeLoader()}},{key:"data",get:function(){return this._data},set:function(M){var P=M.file,R=M.title;this._data={file:P,title:R}}}])&&C(a.prototype,O),_&&C(a,_),h}()}]).default})})(O8);var cE=O8.exports;const lE=mc(cE);var M8={exports:{}};(function(U,l){(function(f,I){U.exports=I()})(window,function(){return function(f){var I={};function L(d){if(I[d])return I[d].exports;var u=I[d]={i:d,l:!1,exports:{}};return f[d].call(u.exports,u,u.exports,L),u.l=!0,u.exports}return L.m=f,L.c=I,L.d=function(d,u,s){L.o(d,u)||Object.defineProperty(d,u,{enumerable:!0,get:s})},L.r=function(d){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},L.t=function(d,u){if(1&u&&(d=L(d)),8&u||4&u&&typeof d=="object"&&d&&d.__esModule)return d;var s=Object.create(null);if(L.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:d}),2&u&&typeof d!="string")for(var n in d)L.d(s,n,function(m){return d[m]}.bind(null,n));return s},L.n=function(d){var u=d&&d.__esModule?function(){return d.default}:function(){return d};return L.d(u,"a",u),u},L.o=function(d,u){return Object.prototype.hasOwnProperty.call(d,u)},L.p="/",L(L.s=5)}([function(f,I,L){var d=L(1);typeof d=="string"&&(d=[[f.i,d,""]]);var u={hmr:!0,transform:void 0,insertInto:void 0};L(3)(d,u),d.locals&&(f.exports=d.locals)},function(f,I,L){(f.exports=L(2)(!1)).push([f.i,`.cdx-marker {
  background: rgba(245,235,111,0.29);
  padding: 3px 0;
}`,""])},function(f,I){f.exports=function(L){var d=[];return d.toString=function(){return this.map(function(u){var s=function(n,m){var g=n[1]||"",y=n[3];if(!y)return g;if(m&&typeof btoa=="function"){var k=(C=y,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(C))))+" */"),E=y.sources.map(function(v){return"/*# sourceURL="+y.sourceRoot+v+" */"});return[g].concat(E).concat([k]).join(`
`)}var C;return[g].join(`
`)}(u,L);return u[2]?"@media "+u[2]+"{"+s+"}":s}).join("")},d.i=function(u,s){typeof u=="string"&&(u=[[null,u,""]]);for(var n={},m=0;m<this.length;m++){var g=this[m][0];typeof g=="number"&&(n[g]=!0)}for(m=0;m<u.length;m++){var y=u[m];typeof y[0]=="number"&&n[y[0]]||(s&&!y[2]?y[2]=s:s&&(y[2]="("+y[2]+") and ("+s+")"),d.push(y))}},d}},function(f,I,L){var d,u,s={},n=(d=function(){return window&&document&&document.all&&!window.atob},function(){return u===void 0&&(u=d.apply(this,arguments)),u}),m=function(F){var j={};return function(X){if(typeof X=="function")return X();if(j[X]===void 0){var W=function(V){return document.querySelector(V)}.call(this,X);if(window.HTMLIFrameElement&&W instanceof window.HTMLIFrameElement)try{W=W.contentDocument.head}catch(V){W=null}j[X]=W}return j[X]}}(),g=null,y=0,k=[],E=L(4);function C(F,j){for(var X=0;X<F.length;X++){var W=F[X],V=s[W.id];if(V){V.refs++;for(var K=0;K<V.parts.length;K++)V.parts[K](W.parts[K]);for(;K<W.parts.length;K++)V.parts.push(M(W.parts[K],j))}else{var st=[];for(K=0;K<W.parts.length;K++)st.push(M(W.parts[K],j));s[W.id]={id:W.id,refs:1,parts:st}}}}function v(F,j){for(var X=[],W={},V=0;V<F.length;V++){var K=F[V],st=j.base?K[0]+j.base:K[0],it={css:K[1],media:K[2],sourceMap:K[3]};W[st]?W[st].parts.push(it):X.push(W[st]={id:st,parts:[it]})}return X}function h(F,j){var X=m(F.insertInto);if(!X)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var W=k[k.length-1];if(F.insertAt==="top")W?W.nextSibling?X.insertBefore(j,W.nextSibling):X.appendChild(j):X.insertBefore(j,X.firstChild),k.push(j);else if(F.insertAt==="bottom")X.appendChild(j);else{if(typeof F.insertAt!="object"||!F.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var V=m(F.insertInto+" "+F.insertAt.before);X.insertBefore(j,V)}}function a(F){if(F.parentNode===null)return!1;F.parentNode.removeChild(F);var j=k.indexOf(F);j>=0&&k.splice(j,1)}function O(F){var j=document.createElement("style");return F.attrs.type===void 0&&(F.attrs.type="text/css"),_(j,F.attrs),h(F,j),j}function _(F,j){Object.keys(j).forEach(function(X){F.setAttribute(X,j[X])})}function M(F,j){var X,W,V,K;if(j.transform&&F.css){if(!(K=j.transform(F.css)))return function(){};F.css=K}if(j.singleton){var st=y++;X=g||(g=O(j)),W=$.bind(null,X,st,!1),V=$.bind(null,X,st,!0)}else F.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(X=function(it){var pt=document.createElement("link");return it.attrs.type===void 0&&(it.attrs.type="text/css"),it.attrs.rel="stylesheet",_(pt,it.attrs),h(it,pt),pt}(j),W=function(it,pt,ct){var lt=ct.css,J=ct.sourceMap,Bt=pt.convertToAbsoluteUrls===void 0&&J;(pt.convertToAbsoluteUrls||Bt)&&(lt=E(lt)),J&&(lt+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(J))))+" */");var Tt=new Blob([lt],{type:"text/css"}),Ct=it.href;it.href=URL.createObjectURL(Tt),Ct&&URL.revokeObjectURL(Ct)}.bind(null,X,j),V=function(){a(X),X.href&&URL.revokeObjectURL(X.href)}):(X=O(j),W=function(it,pt){var ct=pt.css,lt=pt.media;if(lt&&it.setAttribute("media",lt),it.styleSheet)it.styleSheet.cssText=ct;else{for(;it.firstChild;)it.removeChild(it.firstChild);it.appendChild(document.createTextNode(ct))}}.bind(null,X),V=function(){a(X)});return W(F),function(it){if(it){if(it.css===F.css&&it.media===F.media&&it.sourceMap===F.sourceMap)return;W(F=it)}else V()}}f.exports=function(F,j){if(typeof DEBUG!="undefined"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(j=j||{}).attrs=typeof j.attrs=="object"?j.attrs:{},j.singleton||typeof j.singleton=="boolean"||(j.singleton=n()),j.insertInto||(j.insertInto="head"),j.insertAt||(j.insertAt="bottom");var X=v(F,j);return C(X,j),function(W){for(var V=[],K=0;K<X.length;K++){var st=X[K];(it=s[st.id]).refs--,V.push(it)}for(W&&C(v(W,j),j),K=0;K<V.length;K++){var it;if((it=V[K]).refs===0){for(var pt=0;pt<it.parts.length;pt++)it.parts[pt]();delete s[it.id]}}}};var P,R=(P=[],function(F,j){return P[F]=j,P.filter(Boolean).join(`
`)});function $(F,j,X,W){var V=X?"":W.css;if(F.styleSheet)F.styleSheet.cssText=R(j,V);else{var K=document.createTextNode(V),st=F.childNodes;st[j]&&F.removeChild(st[j]),st.length?F.insertBefore(K,st[j]):F.appendChild(K)}}},function(f,I){f.exports=function(L){var d=typeof window!="undefined"&&window.location;if(!d)throw new Error("fixUrls requires window.location");if(!L||typeof L!="string")return L;var u=d.protocol+"//"+d.host,s=u+d.pathname.replace(/\/[^\/]*$/,"/");return L.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(n,m){var g,y=m.trim().replace(/^"(.*)"$/,function(k,E){return E}).replace(/^'(.*)'$/,function(k,E){return E});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(y)?n:(g=y.indexOf("//")===0?y:y.indexOf("/")===0?u+y:s+y.replace(/^\.\//,""),"url("+JSON.stringify(g)+")")})}},function(f,I,L){L.r(I),L(0);function d(n,m){for(var g=0;g<m.length;g++){var y=m[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(n,y.key,y)}}function u(n,m,g){return m&&d(n.prototype,m),g&&d(n,g),n}L.d(I,"default",function(){return s});var s=function(){function n(m){var g=m.api;(function(y,k){if(!(y instanceof k))throw new TypeError("Cannot call a class as a function")})(this,n),this.api=g,this.button=null,this.tag="MARK",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}return u(n,null,[{key:"CSS",get:function(){return"cdx-marker"}}]),u(n,[{key:"render",value:function(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}},{key:"surround",value:function(m){if(m){var g=this.api.selection.findParentTag(this.tag,n.CSS);g?this.unwrap(g):this.wrap(m)}}},{key:"wrap",value:function(m){var g=document.createElement(this.tag);g.classList.add(n.CSS),g.appendChild(m.extractContents()),m.insertNode(g),this.api.selection.expandToTag(g)}},{key:"unwrap",value:function(m){this.api.selection.expandToTag(m);var g=window.getSelection(),y=g.getRangeAt(0),k=y.extractContents();m.parentNode.removeChild(m),y.insertNode(k),g.removeAllRanges(),g.addRange(y)}},{key:"checkState",value:function(){var m=this.api.selection.findParentTag(this.tag,n.CSS);this.button.classList.toggle(this.iconClasses.active,!!m)}},{key:"toolboxIcon",get:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M11.3536 9.31802L12.7678 7.90381C13.5488 7.12276 14.8151 7.12276 15.5962 7.90381C16.3772 8.68486 16.3772 9.95119 15.5962 10.7322L14.182 12.1464M11.3536 9.31802L7.96729 12.7043C7.40889 13.2627 7.02827 13.9739 6.8734 14.7482L6.69798 15.6253C6.55804 16.325 7.17496 16.942 7.87468 16.802L8.75176 16.6266C9.52612 16.4717 10.2373 16.0911 10.7957 15.5327L14.182 12.1464M11.3536 9.31802L14.182 12.1464"/><line x1="15" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>'}}],[{key:"isInline",get:function(){return!0}},{key:"sanitize",get:function(){return{mark:{class:n.CSS}}}}]),n}()}]).default})})(M8);var uE=M8.exports;const hE=mc(uE);var L8={exports:{}};(function(U,l){(function(f,I){U.exports=I()})(self,()=>(()=>{var f={424:(d,u,s)=>{(u=s(645)(!1)).push([d.id,`.picker_wrapper.popup {
  z-index: 99;
  width: 170px;
  margin: 0;
  box-shadow: 0 0 10px 1px #eaeaea;
  background: #ffffff;
}

.picker_arrow {
  display: none;
}

.layout_default .picker_slider, .layout_default .picker_selector {
  padding: 5px;
}

.colorPlugin.ce-inline-tool {
  width: 32px;
  border-radius: 3px;
}

.colorPlugin.ce-inline-tool--active svg {
  fill: #3c99ff;
}

#color-left-btn {
  height: 35px;
  width: 18px;
  font-weight: 600;
  display: flex;
  align-items: center;
}

#color-left-btn:hover {
  border-radius: 5px 0 0 5px;
  background: rgba(203, 203, 203, 0.49);
}

#color-text {
  padding: 0 4px;
}

#color-btn-text {
  height: 15px;
}

`,""]),d.exports=u},645:d=>{d.exports=function(u){var s=[];return s.toString=function(){return this.map(function(n){var m=function(g,y){var k,E,C,v=g[1]||"",h=g[3];if(!h)return v;if(y&&typeof btoa=="function"){var a=(k=h,E=btoa(unescape(encodeURIComponent(JSON.stringify(k)))),C="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(E),"/*# ".concat(C," */")),O=h.sources.map(function(_){return"/*# sourceURL=".concat(h.sourceRoot||"").concat(_," */")});return[v].concat(O).concat([a]).join(`
`)}return[v].join(`
`)}(n,u);return n[2]?"@media ".concat(n[2]," {").concat(m,"}"):m}).join("")},s.i=function(n,m,g){typeof n=="string"&&(n=[[null,n,""]]);var y={};if(g)for(var k=0;k<this.length;k++){var E=this[k][0];E!=null&&(y[E]=!0)}for(var C=0;C<n.length;C++){var v=[].concat(n[C]);g&&y[v[0]]||(m&&(v[2]?v[2]="".concat(m," and ").concat(v[2]):v[2]=m),s.push(v))}},s}},548:(d,u,s)=>{var n=s(379),m=s(424);typeof(m=m.__esModule?m.default:m)=="string"&&(m=[[d.id,m,""]]),n(m,{insert:"head",singleton:!1}),d.exports=m.locals||{}},379:(d,u,s)=>{var n,m=function(){var P={};return function(R){if(P[R]===void 0){var $=document.querySelector(R);if(window.HTMLIFrameElement&&$ instanceof window.HTMLIFrameElement)try{$=$.contentDocument.head}catch(F){$=null}P[R]=$}return P[R]}}(),g=[];function y(P){for(var R=-1,$=0;$<g.length;$++)if(g[$].identifier===P){R=$;break}return R}function k(P,R){for(var $={},F=[],j=0;j<P.length;j++){var X=P[j],W=R.base?X[0]+R.base:X[0],V=$[W]||0,K="".concat(W," ").concat(V);$[W]=V+1;var st=y(K),it={css:X[1],media:X[2],sourceMap:X[3]};st!==-1?(g[st].references++,g[st].updater(it)):g.push({identifier:K,updater:M(it,R),references:1}),F.push(K)}return F}function E(P){var R=document.createElement("style"),$=P.attributes||{};if($.nonce===void 0){var F=s.nc;F&&($.nonce=F)}if(Object.keys($).forEach(function(X){R.setAttribute(X,$[X])}),typeof P.insert=="function")P.insert(R);else{var j=m(P.insert||"head");if(!j)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");j.appendChild(R)}return R}var C,v=(C=[],function(P,R){return C[P]=R,C.filter(Boolean).join(`
`)});function h(P,R,$,F){var j=$?"":F.media?"@media ".concat(F.media," {").concat(F.css,"}"):F.css;if(P.styleSheet)P.styleSheet.cssText=v(R,j);else{var X=document.createTextNode(j),W=P.childNodes;W[R]&&P.removeChild(W[R]),W.length?P.insertBefore(X,W[R]):P.appendChild(X)}}function a(P,R,$){var F=$.css,j=$.media,X=$.sourceMap;if(j?P.setAttribute("media",j):P.removeAttribute("media"),X&&typeof btoa!="undefined"&&(F+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(X))))," */")),P.styleSheet)P.styleSheet.cssText=F;else{for(;P.firstChild;)P.removeChild(P.firstChild);P.appendChild(document.createTextNode(F))}}var O=null,_=0;function M(P,R){var $,F,j;if(R.singleton){var X=_++;$=O||(O=E(R)),F=h.bind(null,$,X,!1),j=h.bind(null,$,X,!0)}else $=E(R),F=a.bind(null,$,R),j=function(){(function(W){if(W.parentNode===null)return!1;W.parentNode.removeChild(W)})($)};return F(P),function(W){if(W){if(W.css===P.css&&W.media===P.media&&W.sourceMap===P.sourceMap)return;F(P=W)}else j()}}d.exports=function(P,R){(R=R||{}).singleton||typeof R.singleton=="boolean"||(R.singleton=(n===void 0&&(n=!!(window&&document&&document.all&&!window.atob)),n));var $=k(P=P||[],R);return function(F){if(F=F||[],Object.prototype.toString.call(F)==="[object Array]"){for(var j=0;j<$.length;j++){var X=y($[j]);g[X].references--}for(var W=k(F,R),V=0;V<$.length;V++){var K=y($[V]);g[K].references===0&&(g[K].updater(),g.splice(K,1))}$=W}}}},452:d=>{d.exports={markerIcon:`<svg fill="#000000" height="34px" width="34px" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
	 viewBox="0 0 491.644 491.644" xml:space="preserve">
<g>
	<path d="M456.623,2.282c-42.758-20.283-141.107,96.84-223.473,264.224c-2.35,4.776-2.686,10.294-0.936,15.32
		c1.75,5.026,5.442,9.145,10.251,11.426L366.758,352.2c4.809,2.281,10.332,2.538,15.333,0.714c5.001-1.825,9.059-5.579,11.272-10.42
		C470.883,172.829,499.385,22.562,456.623,2.282z"/>
	<path d="M34.71,461.799l-17.257,16.708c-2.225,2.17-2.934,5.475-1.773,8.363c1.179,2.886,3.985,4.773,7.099,4.773h160.887
		c-1.364-5.043-0.921-10.445,1.391-15.306l7.919-16.692H40.036C38.036,459.646,36.129,460.419,34.71,461.799z"/>
	<path d="M264.766,448.864l-32.615-15.458c-1.046-0.502-2.161-0.744-3.257-0.744c-2.87,0-5.611,1.614-6.901,4.372l-22.001,46.384
		c-0.871,1.789-0.723,3.895,0.341,5.564c1.046,1.661,2.888,2.661,4.855,2.661h0.046l44.275-0.378
		c2.206-0.016,4.206-1.299,5.159-3.292l13.724-28.925c0.856-1.838,0.967-3.936,0.29-5.846
		C268.004,451.292,266.585,449.728,264.766,448.864z"/>
	<path d="M348.445,366.038l-112.572-51.392c-8.909-4.067-19.434-0.227-23.63,8.622c-2.551,5.378-3.58,11.353-2.975,17.275
		l5.2,50.909c0.703,6.882,4.983,12.884,11.261,15.792l60.031,27.797c6.688,3.097,14.548,2.179,20.343-2.375l45.983-36.137
		c4.931-3.875,7.487-10.041,6.743-16.269C358.086,374.032,354.151,368.642,348.445,366.038z"/>
</g>
</svg>`,textIcon:'<svg fill="#000000" viewBox="-6 0 512 512" xmlns="http://www.w3.org/2000/svg"><g stroke-width="0"></g><g stroke-linecap="round" stroke-linejoin="round"></g><g><title>text</title><path d="M365 432L328 352 172 352 135 432 64 432 227 80 272 80 436 432 365 432ZM201 288L299 288 250 183 201 288Z"></path></g></svg>'}},138:(d,u,s)=>{const n=s(442),{markerIcon:m,textIcon:g}=s(452),{getDefaultColorCache:y,handleCSSVariables:k}=s(697);s(548).toString(),d.exports=class{constructor({config:E,api:C}){this.api=C,this.config=E,this.clickedOnLeft=!1,this.pluginType=this.config.type||"text",this.parentTag=this.pluginType==="marker"?"MARK":"FONT",this.hasCustomPicker=this.config.customPicker||!1,this.color=k(y(this.config.defaultColor,this.pluginType)),this.picker=null,this.icon=null,this.button=null,this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}static get isInline(){return!0}render(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add("colorPlugin"),this.button.classList.add(this.iconClasses.base),this.button.appendChild(this.createLeftButton()),this.button.appendChild(this.createRightButton(this)),this.button}createLeftButton(){return this.icon||(this.icon=document.createElement("div"),this.icon.id="color-left-btn",this.icon.appendChild(this.createButtonIcon()),this.icon.addEventListener("click",()=>this.clickedOnLeft=!0)),this.icon}createButtonIcon(){const E=document.createElement("div");E.id="color-btn-text";const C=this.pluginType==="marker"?m:g;return E.innerHTML=this.config.icon||C,E}createRightButton(E){return this.picker||(this.picker=new n.ColorPlugin({onColorPicked:function(C){E.color=C},hasCustomPicker:this.hasCustomPicker,defaultColor:this.config.defaultColor,colorCollections:this.config.colorCollections,type:this.pluginType})),this.picker}surround(E){if(!E)return;const C=this.api.selection.findParentTag("SPAN");C&&this.unwrap(C);const v=this.api.selection.findParentTag(this.parentTag);v?this.unwrap(v):this.wrap(E),this.clickedOnLeft=!1}wrap(E){const C=E.extractContents(),v=document.createElement(this.parentTag);v.appendChild(C),E.insertNode(v),this.pluginType==="marker"?this.wrapMarker(v):this.wrapTextColor(v),this.api.selection.expandToTag(v)}wrapMarker(E){E.style.backgroundColor=this.color;const C=this.api.selection.findParentTag("FONT");C&&(E.style.color=C.style.color)}wrapTextColor(E){E.style.color=this.color}unwrap(E){this.api.selection.expandToTag(E);const C=window.getSelection(),v=C.getRangeAt(0),h=v.extractContents();this.clickedOnLeft?this.removeWrapper(E):this.updateWrapper(E),v.insertNode(h),C.removeAllRanges(),C.addRange(v)}updateWrapper(E){this.pluginType==="marker"?E.style.backgroundColor=this.color:E.style.color=this.color}removeWrapper(E){E.parentNode.removeChild(E)}checkState(){const E=this.api.selection.findParentTag("SPAN"),C=this.api.selection.findParentTag(this.parentTag);let v=E?this.handleLegacyWrapper(E,C):C;return this.button.classList.toggle(this.iconClasses.active,!!v),!!v}handleLegacyWrapper(E,C){return this.pluginType==="marker"?E:C&E}static get sanitize(){return{font:!0,span:!0,mark:!0}}clear(){this.picker=null,this.icon=null}}},442:(d,u,s)=>{s.r(u),s.d(u,{ColorPlugin:()=>C});class n extends HTMLElement{static get observedAttributes(){return["disabled","icon","loading","href","htmltype"]}constructor(){super(),this.attachShadow({mode:"open"}).innerHTML=`
        <style>
        :host{ 
            position:relative; 
            display:inline-flex; 
            padding: .25em .625em;
            box-sizing:border-box; 
            vertical-align: middle;
            line-height: 1.8;
            width: 5px;
            overflow:hidden; 
            align-items:center;
            justify-content: center;
            font-size: 14px; 
            color: var(--fontColor,#333);  
            border-radius: var(--borderRadius,.25em);
            background: var(--fontColor,#333); 
            transition:background .3s,box-shadow .3s,border-color .3s,color .3s;
        }
        :host([shape="circle"]){ 
            border-radius:50%; 
        }
        /*
        :host(:not([disabled]):active){
            z-index:1;
            transform:translateY(.1em);
        }
        */
        :host([disabled]),:host([loading]){
            pointer-events: none; 
            opacity:.6; 
        }
        :host([block]){ 
            display:flex; 
        }
        :host([disabled]:not([type])){ 
            background:rgba(0,0,0,.1); 
        }
        :host([disabled]) .btn,:host([loading]) .btn{ 
            cursor: not-allowed; 
            pointer-events: all; 
        }
        :host(:not([type="primary"]):not([type="danger"]):not([disabled]):hover),
        :host(:not([type="primary"]):not([type="danger"]):focus-within),
        :host([type="flat"][focus]){ 
            color:var(--themeColor,#42b983); 
            border-color: var(--themeColor,#42b983); 
        }
        :host(:not([type="primary"]):not([type="danger"])) .btn::after{ 
            background-image: radial-gradient(circle, var(--themeColor,#42b983) 10%, transparent 10.01%); 
        }
        :host([type="primary"]){ 
            color: #fff; 
            background:var(--themeBackground,var(--themeColor,#42b983));
        }
        :host([type="danger"]){ 
            color: #fff; 
            background:var(--themeBackground,var(--dangerColor,#ff7875));
        }
        :host([type="dashed"]){ 
            border-style:dashed 
        }
        :host([type="flat"]),:host([type="primary"]),:host([type="danger"]){ 
            border:0;
            padding: calc( .25em + 1px ) calc( .625em + 1px );
        }
        :host([type="flat"]) .btn::before{ 
            content:''; 
            position:absolute; 
            background:var(--themeColor,#42b983);
            pointer-events:none; 
            left:0; 
            right:0; 
            top:0; 
            bottom:0; 
            opacity:0; 
            transition:.3s;
        }
        :host([type="flat"]:not([disabled]):hover) .btn::before{ 
            opacity:.1 
        }
        :host(:not([disabled]):hover){ 
            z-index:1 
        }
        :host([type="flat"]:focus-within) .btn:before,
        :host([type="flat"][focus]) .btn:before{ 
            opacity:.2; 
        }
        :host(:focus-within){ 
            /*box-shadow: 0 0 10px rgba(0,0,0,0.1);*/ 
        }
        .btn{ 
            background:none; 
            outline:0; 
            border:0; 
            position: 
            absolute; 
            left:0; 
            top:0;
            width:100%;
            height:100%;
            padding:0;
            user-select: none;
            cursor: unset;
        }
        xy-loading{ 
            margin-right: 0.35em;  
        }
        ::-moz-focus-inner{
            border:0;
        }
        .btn::before{
            content: "";
            display: block;
            position: absolute;
            width: 100%;
            height: 100%;
            left:0;
            top:0;
            transition:.2s;
            background:#fff;
            opacity:0;
        }
        :host(:not([disabled]):active) .btn::before{ 
            opacity:.2;
        }
        .btn::after {
            content: "";
            display: block;
            position: absolute;
            width: 100%;
            height: 100%;
            left: var(--x,0); 
            top: var(--y,0);
            pointer-events: none;
            background-image: radial-gradient(circle, #fff 10%, transparent 10.01%);
            background-repeat: no-repeat;
            background-position: 50%;
            transform: translate(-50%,-50%) scale(10);
            opacity: 0;
            transition: transform .3s, opacity .8s;
        }
        .btn:not([disabled]):active::after {
            transform: translate(-50%,-50%) scale(0);
            opacity: .3;
            transition: 0s;
        }
        xy-icon{
            margin-right: 0.35em;
            transition: none;
        }
        :host(:empty) xy-icon{
            margin: auto;
        }
        :host(:empty){
            padding: .65em;
        }
        :host([type="flat"]:empty),:host([type="primary"]:empty){ 
            padding: calc( .65em + 1px );
        }
        ::slotted(xy-icon){
            transition: none;
        }
        :host([href]){
            cursor:pointer;
        }
        </style>
        <${this.href?"a":"button"} ${this.htmltype?'type="'+this.htmltype+'"':""} ${this.download&&this.href?'download="'+this.download+'"':""} ${this.href?'href="'+this.href+'" target="'+this.target+'" rel="'+this.rel+'"':""} class="btn" id="btn"></${this.href?"a":"button"}>${!this.loading&&this.icon&&this.icon!="null"?'<xy-icon id="icon" name='+this.icon+"></xy-icon>":""}<slot></slot>
        `}focus(){this.btn.focus()}get disabled(){return this.getAttribute("disabled")!==null}get toggle(){return this.getAttribute("toggle")!==null}get htmltype(){return this.getAttribute("htmltype")}get name(){return this.getAttribute("name")}get checked(){return this.getAttribute("checked")!==null}get href(){return this.getAttribute("href")}get target(){return this.getAttribute("target")||"_blank"}get rel(){return this.getAttribute("rel")}get download(){return this.getAttribute("download")}get icon(){return this.getAttribute("icon")}get loading(){return this.getAttribute("loading")!==null}set icon(h){this.setAttribute("icon",h)}set htmltype(h){this.setAttribute("htmltype",h)}set href(h){this.setAttribute("href",h)}set disabled(h){h===null||h===!1?this.removeAttribute("disabled"):this.setAttribute("disabled","")}set checked(h){h===null||h===!1?this.removeAttribute("checked"):this.setAttribute("checked","")}set loading(h){h===null||h===!1?this.removeAttribute("loading"):this.setAttribute("loading","")}connectedCallback(){this.btn=this.shadowRoot.getElementById("btn"),this.ico=this.shadowRoot.getElementById("icon"),this.load=document.createElement("xy-loading"),this.load.style.color="inherit",this.btn.addEventListener("mousedown",function(h){if(!this.disabled){const{left:a,top:O}=this.getBoundingClientRect();this.style.setProperty("--x",h.clientX-a+"px"),this.style.setProperty("--y",h.clientY-O+"px")}}),this.addEventListener("click",function(h){this.toggle&&(this.checked=!this.checked)}),this.btn.addEventListener("keydown",h=>{h.keyCode===13&&h.stopPropagation()}),this.disabled=this.disabled,this.loading=this.loading}attributeChangedCallback(h,a,O){h=="disabled"&&this.btn&&(O!==null?(this.btn.setAttribute("disabled","disabled"),this.href&&this.btn.removeAttribute("href")):(this.btn.removeAttribute("disabled"),this.href&&(this.btn.href=this.href))),h=="loading"&&this.btn&&(O!==null?(this.shadowRoot.prepend(this.load),this.btn.setAttribute("disabled","disabled")):(this.shadowRoot.removeChild(this.load),this.btn.removeAttribute("disabled"))),h=="icon"&&this.ico&&(this.ico.name=O),h=="href"&&this.btn&&(this.disabled||(this.btn.href=O)),h=="htmltype"&&this.btn&&(this.btn.type=O)}}customElements.get("xy-button")||customElements.define("xy-button",n);class m extends HTMLElement{static get observedAttributes(){return["disabled"]}constructor(){super(),this.attachShadow({mode:"open"}).innerHTML=`
        <style>
        :host {
            display:inline-flex;
        }
        ::slotted(xy-button:not(:first-of-type):not(:last-of-type)){
            border-radius:0;
        }
        ::slotted(xy-button){
            margin:0!important;
        }
        ::slotted(xy-button:not(:first-of-type)){
            margin-left:-1px!important;
        }
        ::slotted(xy-button[type]:not([type="dashed"]):not(:first-of-type)){
            margin-left:1px!important;
        }
        ::slotted(xy-button:first-of-type){
            border-top-right-radius: 0;
            border-bottom-right-radius: 0px;
        }
        ::slotted(xy-button:last-of-type){
            border-top-left-radius: 0;
            border-bottom-left-radius: 0;
        }
        </style>
        <slot></slot>
        `}get disabled(){return this.getAttribute("disabled")!==null}set disabled(h){h===null||h===!1?this.removeAttribute("disabled"):this.setAttribute("disabled","")}connectedCallback(){}attributeChangedCallback(h,a,O){}}customElements.get("xy-button-group")||customElements.define("xy-button-group",m);class g extends HTMLElement{static get observedAttributes(){return["open","title","oktext","canceltext","loading","type"]}constructor(h){super(),this.attachShadow({mode:"open"}).innerHTML=`
        <style>
        :host{
            position:absolute;
            display:flex;
            box-shadow: 2px 2px 15px rgba(0,0,0,0.15);
            box-sizing: border-box;
            transform:scale(0);
            opacity:0.5;
            border-radius: 3px;
            z-index:10;
            transition:.3s cubic-bezier(.645, .045, .355, 1);
            transform-origin:inherit;
            background:#fff;
            visibility:hidden;
        }
        .popcon-content{
            box-sizing: border-box;
            display:flex;
            width: max-content;
            padding: 0 15px;
            flex:1;
            flex-direction:column;
        }
        .popcon-title {
            line-height: 30px;
            padding: 15px 30px 0 0;
            font-weight: 700;
            font-size: 14px;
            color: #4c5161;
            user-select: none;
            cursor: default;
        }
        .popcon-body {
            flex: 1;
            padding: 5px 0 15px 0;
        }
        .popcon-footer {
            padding: 3px 0 15px 0;
            margin-top: -3px;
            text-align: right;
            white-space: nowrap;
        }
        .btn-close{
            position:absolute;
            right:10px;
            top:10px;
            border:0;
        }
        .popcon-footer xy-button {
            font-size: .8em;
            margin-left: .8em;
        }
        .popcon-type{
            display:flex;
            width:30px;
            height:30px;
            font-size:22px;
            margin: 15px -10px 0 15px;
        }
        /*
        :host(:not([type="confirm"])) .popcon-type,
        :host(:not([type="confirm"])) .popcon-footer,
        :host(:not([type])) .popcon-title,
        :host(:not([type])) .btn-close{
            display:none;
        }
        */
        :host([type="confirm"]){
            min-width:250px;
        }
        :host([type="confirm"]) .popcon-body{
            font-size:14px;
        }
        :host(:not([type])) .popcon-content,:host(:not([type])) .popcon-body{
            padding: 0;
        }
        </style>
            ${(h||this.type)==="confirm"?'<xy-icon id="popcon-type" class="popcon-type" name="question-circle" color="var(--waringColor,#faad14)"></xy-icon>':""}
            <div class="popcon-content">
                ${(h||this.type)!==null?'<div class="popcon-title" id="title">'+this.title+'</div><xy-button class="btn-close" id="btn-close" icon="close"></xy-button>':""}
                <div class="popcon-body">
                    <slot></slot>
                </div>
                ${(h||this.type)==="confirm"?'<div class="popcon-footer"><xy-button id="btn-cancel">'+this.canceltext+'</xy-button><xy-button id="btn-submit" type="primary">'+this.oktext+"</xy-button></div>":""}
            </div>
        `}get open(){return this.getAttribute("open")!==null}get stopfocus(){return this.getAttribute("stopfocus")!==null}get title(){return this.getAttribute("title")||"popcon"}get type(){return this.getAttribute("type")}get oktext(){return this.getAttribute("oktext")||"confirm"}get canceltext(){return this.getAttribute("canceltext")||"cancel"}get loading(){return this.getAttribute("loading")!==null}set title(h){this.setAttribute("title",h)}set type(h){h===null||h===!1?this.removeAttribute("type"):this.setAttribute("type",h)}set oktext(h){this.setAttribute("oktext",h)}set canceltext(h){this.setAttribute("canceltext",h)}set open(h){h===null||h===!1?(this.removeAttribute("open"),this.parentNode.removeAttribute("open")):(this.setAttribute("open",""),this.parentNode.setAttribute("open",""),this.loading&&(this.loading=!1))}set loading(h){h===null||h===!1?this.removeAttribute("loading"):this.setAttribute("loading","")}connectedCallback(){this.remove=!1,this.type&&(this.titles=this.shadowRoot.getElementById("title"),this.btnClose=this.shadowRoot.getElementById("btn-close")),this.type=="confirm"&&(this.btnCancel=this.shadowRoot.getElementById("btn-cancel"),this.btnSubmit=this.shadowRoot.getElementById("btn-submit")),this.addEventListener("transitionend",h=>{h.propertyName==="transform"&&this.open&&(this.type=="confirm"&&this.btnSubmit.focus(),this.type=="pane"&&this.btnClose.focus(),this.dispatchEvent(new CustomEvent("open")))}),this.addEventListener("transitionend",h=>{h.propertyName!=="transform"||this.open||(this.remove&&this.parentNode.removeChild(this),this.dispatchEvent(new CustomEvent("close")))}),this.addEventListener("click",h=>{h.target.closest("[autoclose]")&&(this.open=!1,window.xyActiveElement.focus())}),this.type&&this.btnClose.addEventListener("click",()=>{this.open=!1,window.xyActiveElement.focus()}),this.type=="confirm"&&(this.btnCancel.addEventListener("click",()=>Ei(this,null,function*(){this.dispatchEvent(new CustomEvent("cancel")),this.open=!1,window.xyActiveElement.focus()})),this.btnSubmit.addEventListener("click",()=>{this.dispatchEvent(new CustomEvent("submit")),this.loading||(this.open=!1,window.xyActiveElement.focus())}))}attributeChangedCallback(h,a,O){h=="open"&&this.shadowRoot&&O==null&&this.stopfocus,h=="loading"&&this.shadowRoot&&(this.btnSubmit.loading=O!==null),h=="title"&&this.titles&&O!==null&&(this.titles.innerHTML=O),h=="oktext"&&this.btnSubmit&&O!==null&&(this.btnSubmit.innerHTML=O),h=="canceltext"&&this.btnCancel&&O!==null&&(this.btnCancel.innerHTML=O)}}customElements.get("xy-popcon")||customElements.define("xy-popcon",g);class y extends HTMLElement{static get observedAttributes(){return["title","oktext","canceltext","loading","type"]}constructor(){super(),this.attachShadow({mode:"open"}).innerHTML=`
        <style>
        :host {
            display:inline-block;
            position:relative;
            overflow:visible;
        }
        :host([dir="top"]) ::slotted(xy-popcon){
            bottom:100%;
            left:50%;
            transform:translate(-50%,-10px) scale(0);
            transform-origin: center bottom;
        }
        :host([dir="top"]) ::slotted(xy-popcon[open]),
        :host([dir="top"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="top"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(-50%,-10px) scale(1);
        }
        :host([dir="right"]) ::slotted(xy-popcon){
            left:100%;
            top:50%;
            transform:translate(10px,-50%) scale(0);
            transform-origin: left;
        }
        :host([dir="right"]) ::slotted(xy-popcon[open]),
        :host([dir="right"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="right"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(10px,-50%) scale(1);
        }
        :host([dir="bottom"]) ::slotted(xy-popcon){
            top:100%;
            left:50%;
            transform:translate(-50%,10px) scale(0);
            transform-origin: center top;
        }
        :host([dir="bottom"]) ::slotted(xy-popcon[open]),
        :host([dir="bottom"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="bottom"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(-50%,10px) scale(1);
        }
        :host([dir="left"]) ::slotted(xy-popcon){
            right:100%;
            top:50%;
            transform:translate(-10px,-50%) scale(0);
            transform-origin: right;
        }
        :host([dir="left"]) ::slotted(xy-popcon[open]),
        :host([dir="left"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="left"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(-10px,-50%) scale(1);
        }
        :host([dir="lefttop"]) ::slotted(xy-popcon){
            right:100%;
            top:0;
            transform:translate(-10px) scale(0);
            transform-origin: right top;
        }
        :host([dir="lefttop"]) ::slotted(xy-popcon[open]),
        :host([dir="lefttop"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="lefttop"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(-10px) scale(1);
        }
        :host([dir="leftbottom"]) ::slotted(xy-popcon){
            right:100%;
            bottom:0;
            transform:translate(-10px) scale(0);
            transform-origin: right bottom;
        }
        :host([dir="leftbottom"]) ::slotted(xy-popcon[open]),
        :host([dir="leftbottom"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="leftbottom"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(-10px) scale(1);
        }
        :host([dir="topleft"]) ::slotted(xy-popcon){
            bottom:100%;
            left:0;
            transform:translate(0,-10px) scale(0);
            transform-origin: left bottom;
        }
        :host([dir="topleft"]) ::slotted(xy-popcon[open]),
        :host([dir="topleft"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="topleft"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(0,-10px) scale(1);
        }
        :host([dir="topright"]) ::slotted(xy-popcon){
            bottom:100%;
            right:0;
            transform:translate(0,-10px) scale(0);
            transform-origin: right bottom;
        }
        :host([dir="topright"]) ::slotted(xy-popcon[open]),
        :host([dir="topright"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="topright"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(0,-10px) scale(1);
        }
        :host([dir="righttop"]) ::slotted(xy-popcon){
            left:100%;
            top:0;
            transform:translate(10px) scale(0);
            transform-origin: left top;
        }
        :host([dir="righttop"]) ::slotted(xy-popcon[open]),
        :host([dir="righttop"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="righttop"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(10px) scale(1);
        }
        :host([dir="rightbottom"]) ::slotted(xy-popcon){
            left:100%;
            bottom:0;
            transform:translate(10px) scale(0);
            transform-origin: left bottom;
        }
        :host([dir="rightbottom"]) ::slotted(xy-popcon[open]),
        :host([dir="rightbottom"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="rightbottom"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(10px) scale(1);
        }
        :host([dir="bottomleft"]) ::slotted(xy-popcon),
        :host(:not([dir])) ::slotted(xy-popcon){
            left:0;
            top:100%;
            transform:translate(0,10px) scale(0);
            transform-origin: left top;
        }
        :host(:not([dir])) ::slotted(xy-popcon[open]),
        :host(:not([dir])[trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host(:not([dir])[trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon),
        :host([dir="bottomleft"]) ::slotted(xy-popcon[open]),
        :host([dir="bottomleft"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="bottomleft"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(0,10px) scale(1);
        }
        :host([dir="bottomright"]) ::slotted(xy-popcon){
            right:0;
            top:100%;
            transform:translate(0,10px) scale(0);
            transform-origin: right top;
        }
        :host([dir="bottomright"]) ::slotted(xy-popcon[open]),
        :host([dir="bottomright"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="bottomright"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(0,10px) scale(1);
        }
        :host([trigger="contextmenu"]) ::slotted(xy-popcon){
            right:auto;
            bottom:auto;
            left:var(--x,0);
            top:var(--y,100%);
            transform-origin: left top;
            transform:translate(5px,5px) scale(0);
            transition: .15s;
        }
        :host([trigger="contextmenu"]) ::slotted(xy-popcon[open]){
            transform:translate(5px,5px) scale(1);
        }
        :host ::slotted(xy-popcon[open]),
        :host([trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            opacity:1;
            visibility:visible;
        }
        slot{
            border-radius: inherit;
        }
        </style>
        <slot></slot>
        `}get title(){return this.getAttribute("title")||"popcon"}get trigger(){return this.getAttribute("trigger")}get disabled(){return this.getAttribute("disabled")!==null}get type(){return this.getAttribute("type")}get accomplish(){return this.getAttribute("accomplish")!==null}get content(){return this.getAttribute("content")}get oktext(){return this.getAttribute("oktext")}get canceltext(){return this.getAttribute("canceltext")}get dir(){return this.getAttribute("dir")}get loading(){return this.getAttribute("loading")!==null}set dir(h){this.setAttribute("dir",h)}set title(h){this.setAttribute("title",h)}set type(h){this.setAttribute("type",h)}set oktext(h){this.setAttribute("oktext",h)}set canceltext(h){this.setAttribute("canceltext",h)}set loading(h){h===null||h===!1?this.removeAttribute("loading"):this.setAttribute("loading","")}set disabled(h){h===null||h===!1?this.removeAttribute("disabled"):this.setAttribute("disabled","")}show(h){if(this.popcon=this.querySelector("xy-popcon"),this.disabled)(this.popcon||this).dispatchEvent(new CustomEvent("submit"));else if(this.popcon||(this.popcon=new g(this.type),this.popcon.type=this.type,this.appendChild(this.popcon),this.popcon.title=this.title||"popover",this.popcon.innerHTML=this.content||"",this.type=="confirm"&&(this.popcon.oktext=this.oktext||"confirm",this.popcon.canceltext=this.canceltext||"cancel",this.popcon.onsubmit=()=>this.dispatchEvent(new CustomEvent("submit")),this.popcon.oncancel=()=>this.dispatchEvent(new CustomEvent("cancel")))),this.trigger==="contextmenu"){const{x:a,y:O}=this.getBoundingClientRect();this.popcon.style.setProperty("--x",h.clientX-a+"px"),this.popcon.style.setProperty("--y",h.clientY-O+"px"),this.popcon.open=!0}else(h.path||h.composedPath&&h.composedPath()).includes(this.popcon)||(window.xyActiveElement=document.activeElement,this.accomplish?this.popcon.open=!0:this.popcon.open=!this.popcon.open);return this.popcon}connectedCallback(){this.popcon=this.querySelector("xy-popcon"),this.trigger&&this.trigger!=="click"||this.addEventListener("click",this.show),this.trigger==="contextmenu"&&this.addEventListener("contextmenu",h=>{h.preventDefault(),(h.path||h.composedPath&&h.composedPath()).includes(this.popcon)||this.show(h)}),document.addEventListener("mousedown",h=>{const a=h.path||h.composedPath&&h.composedPath();(this.popcon&&!a.includes(this.popcon)&&!this.popcon.loading&&!a.includes(this.children[0])||this.trigger==="contextmenu"&&!a.includes(this.popcon)&&h.which=="1")&&(this.popcon.open=!1)})}attributeChangedCallback(h,a,O){h=="loading"&&this.popcon&&(this.popcon.loading=O!==null),h=="title"&&this.popcon&&O!==null&&(this.popcon.title=O),h=="oktext"&&this.popcon&&O!==null&&(this.popcon.oktext=O),h=="canceltext"&&this.popcon&&O!==null&&(this.popcon.canceltext=O)}}customElements.get("xy-popover")||customElements.define("xy-popover",y);var k=s(697);const E=["#ff1300","#EC7878","#9C27B0","#673AB7","#3F51B5","#0070FF","#03A9F4","#00BCD4","#4CAF50","#8BC34A","#CDDC39","#FFE500","#FFBF00","#FF9800","#795548","#9E9E9E","#5A5A5A","#FFF"];class C extends HTMLElement{static get observedAttributes(){return["disabled","dir"]}constructor(h){super();const a=this.attachShadow({mode:"open"});this.colorCollections=h.colorCollections||E,this.onColorPicked=h.onColorPicked,this.defaulColor=(0,k.handleCSSVariables)(h.defaultColor||this.colorCollections[0]),this.pluginType=h.type,this.hasCustomPicker=h.hasCustomPicker,this.customColor=(0,k.getCustomColorCache)(this.pluginType),a.innerHTML=`
        <style>
        :host{
            display:inline-block;
            width:15px;
            font-size:14px;
            border: none;
        }
        :host([block]){
            display:block;
        }
        :host([disabled]){
            pointer-events:none;
        }
        
        :host(:focus-within) xy-popover,:host(:hover) xy-popover{ 
            z-index: 2;
        }
        input[type="color"]{
            -webkit-appearance: none;
            outline: none;
            border: none;
        }
        xy-popover{
            width: 12px;
            height:35px;
            padding-right: 1px;
        }
        xy-popover:hover {
            border-radius: 0 5px 5px 0;
            background: rgba(203, 203, 203, 0.49);
        }
        .color-btn {
            border: 1px solid #cab9b9;
            margin: 18px 3px 2px 3px;
            width: 7px;
            height: 7px;
            opacity: 0.9;
            padding: 1px 0 1px 0;
            color: var(--themeColor, #42b983);
            background: var(--themeColor, #42b983);
            font-weight: bolder;
            border-radius: 2px;
        }
        .color-btn:hover {
            opacity: 1;
            z-index: auto;
        }
        xy-popover{
            display:block;
        }
        xy-popcon{
            position: fixed;
            min-width:100%;
        }
        #custom-picker {
            position: relative;
            top: -1px;
            background-color: rgb(250, 250, 250);
            border-color: rgb(255 118 21) rgb(245 80 80 / 74%) #89c1c9 #95d5b6;
            border-width: 3px;
            border-radius: 8px;
            height: 18px;
        }
        .pop-footer{
            display:flex;
            justify-content:flex-end;
            padding:0 .8em .8em;
        }
        .pop-footer xy-button{
            font-size: .8em;
            margin-left: .8em;
        }
        .color-btn::before{
            content:'';
            position:absolute;
            left:5px;
            top:5px;
            right:5px;
            bottom:5px;
            z-index:-1;
            background: linear-gradient(45deg, #ddd 25%,transparent 0,transparent 75%,#ddd 0 ), linear-gradient(45deg, #ddd 25%, transparent 0, transparent 75%, #ddd 0);
            background-position: 0 0,5px 5px;
            background-size: 10px 10px;
        }
        .color-sign {
           max-width: 220px;
           padding: 10px;
           display:grid;
           cursor: default;
           grid-template-columns: repeat(auto-fit, minmax(15px, 1fr));
           grid-gap: 10px;     
        }
        .color-sign>button {
            position: relative;
            width: 16px;
            height: 16px;
            border-radius: 6px;
            border: 1px solid #b8b9b49e;
            outline: 0;
            opacity: 0.9;
        }
        .color-sign>button:hover {
            cursor: pointer;
            opacity: 1;
        }
        .color-section {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .color-fire-btn {
            font-size: 17px;
            font-weight: bold;
            height: 28px;
            padding-top: 8px;
            padding-right: 1px;
            margin-left: 3px;
            padding-left: 3px;
            border-radius: 5px 0 0 5px;
        }
        .color-fire-btn:hover {
            font-size: 17px;
            font-weight: bold;
            background: rgba(203, 203, 203, 0.49);
            border-radius: 5px 0 0 5px;
        }
        </style>
        <section class="color-section">
            <xy-popover id="popover" ${this.dir?"dir='"+this.dir+"'":""}>
                <xy-button class="color-btn" id="color-btn" ${this.disabled?"disabled":""}>_</xy-button>
                <xy-popcon id="popcon">
                    <div class="color-sign" id="colors">
                        ${this.hasCustomPicker?'<button id="custom-picker" class="rainbow-mask"/>':""}
                        ${this.colorCollections.map(O=>'<button class="color-cube" style="background-color:'+O+'" data-color='+O+"></button>").join("")}
                    </div>
                </xy-popcon>
            </xy-popover>
        </section>`}focus(){this.colorBtn.focus()}connectedCallback(){this.popover=this.shadowRoot.getElementById("popover"),this.popcon=this.shadowRoot.getElementById("popcon"),this.colorBtn=this.shadowRoot.getElementById("color-btn"),this.colors=this.shadowRoot.getElementById("colors"),this.colors.addEventListener("click",h=>{const a=h.target.closest("button");a&&a.id!=="custom-picker"&&(this.nativeclick=!0,this.value=(0,k.handleCSSVariables)(a.dataset.color),this.onColorPicked(this.value))}),this.popover.addEventListener("click",()=>this.closeConverter()),this.hasCustomPicker&&this.setupCustomPicker(),this.value=this.defaultvalue}closeConverter(){var h;document.getElementsByClassName(k.CONVERTER_PANEL)[0]&&((h=document.getElementsByClassName(k.CONVERTER_BTN)[0])==null||h.click())}disconnectedCallback(){this.pickerInput&&document.body.removeChild(this.pickerInput)}setupCustomPicker(){let h=!1;this.customPicker=this.shadowRoot.getElementById("custom-picker");const a=this.customPicker;a.style.backgroundColor=this.customColor,this.customPicker.addEventListener("click",O=>{if(h)return void(h=!1);this.pickerInput&&document.body.removeChild(this.pickerInput),this.pickerInput=document.createElement("input");const _=this.pickerInput,M=this.popcon.getBoundingClientRect();_.setAttribute("type","color"),_.value=this.customColor,_.style.position="fixed",_.style.left=`${M.x+3}px`,_.style.top=`${M.y+10}px`,_.style.pointerEvents="none",_.style.zIndex="999",_.style.opacity="0",_.addEventListener("input",(0,k.throttle)(P=>{this.nativeclick=!0,this.value=(0,k.handleCSSVariables)(P.target.value),this.onColorPicked(this.value),(0,k.setCustomColorCache)(this.value,this.pluginType),a.style.backgroundColor=this.value,h=!0,a.click()},30)),document.body.appendChild(_),setTimeout(()=>{_.focus(),_.click()},0)})}get defaultvalue(){return this.defaulColor}get value(){return this.$value}get type(){return this.getAttribute("type")}get disabled(){return this.getAttribute("disabled")!==null}get dir(){return this.getAttribute("dir")}set dir(h){this.setAttribute("dir",h)}set disabled(h){h===null||h===!1?this.removeAttribute("disabled"):this.setAttribute("disabled","")}set defaultvalue(h){this.setAttribute("defaultvalue",h)}set value(h){h&&(this.$value=h,this.colorBtn.style.setProperty("--themeColor",this.nativeclick?(0,k.setDefaultColorCache)(h,this.pluginType):(0,k.getDefaultColorCache)(h,this.pluginType)),this.nativeclick?(this.nativeclick=!1,this.dispatchEvent(new CustomEvent("change",{detail:{value:this.value}}))):this.colorPane?this.colorPane.value=this.value:this.defaultvalue=this.value)}attributeChangedCallback(h,a,O){h=="disabled"&&this.colorBtn&&(O!=null?this.colorBtn.setAttribute("disabled","disabled"):this.colorBtn.removeAttribute("disabled")),h=="dir"&&this.popover&&O!=null&&(this.popover.dir=O)}}customElements.get("xy-color-picker")||customElements.define("xy-color-picker",C)},697:(d,u,s)=>{s.r(u),s.d(u,{CONVERTER_BTN:()=>v,CONVERTER_PANEL:()=>h,getCustomColorCache:()=>C,getDefaultColorCache:()=>k,handleCSSVariables:()=>m,setCustomColorCache:()=>E,setDefaultColorCache:()=>y,throttle:()=>g});const n="editor-js-text-color-cache";function m(a){if(function(O){return(typeof(_=O)=="string"||_ instanceof String)&&O.includes("--");var _}(a)){const O=function(_){const M=/\((.*?)\)/.exec(_);if(M)return M[1]}(a);return function(_){return window.getComputedStyle(document.documentElement).getPropertyValue(_)}(O)}return a}function g(a,O){let _;return(...M)=>{_||(_=setTimeout(()=>{a(...M),_=null},O))}}function y(a,O){return sessionStorage.setItem(`${n}-${O}`,JSON.stringify(a)),a}function k(a,O){const _=sessionStorage.getItem(`${n}-${O}`);return _?JSON.parse(_):a}function E(a,O){sessionStorage.setItem(`${n}-${O}-custom`,JSON.stringify(a))}function C(a){const O=sessionStorage.getItem(`${n}-${a}-custom`);return O?JSON.parse(O):null}const v="ce-inline-toolbar__dropdown",h="ce-conversion-toolbar--showed"}},I={};function L(d){var u=I[d];if(u!==void 0)return u.exports;var s=I[d]={id:d,exports:{}};return f[d](s,s.exports,L),s.exports}return L.d=(d,u)=>{for(var s in u)L.o(u,s)&&!L.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:u[s]})},L.o=(d,u)=>Object.prototype.hasOwnProperty.call(d,u),L.r=d=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},L.nc=void 0,L(138)})())})(L8);var dE=L8.exports;const fE=mc(dE);var B8={exports:{}};(function(U,l){(function(f,I){U.exports=I()})(window,function(){return function(f){var I={};function L(d){if(I[d])return I[d].exports;var u=I[d]={i:d,l:!1,exports:{}};return f[d].call(u.exports,u,u.exports,L),u.l=!0,u.exports}return L.m=f,L.c=I,L.d=function(d,u,s){L.o(d,u)||Object.defineProperty(d,u,{enumerable:!0,get:s})},L.r=function(d){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},L.t=function(d,u){if(1&u&&(d=L(d)),8&u||4&u&&typeof d=="object"&&d&&d.__esModule)return d;var s=Object.create(null);if(L.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:d}),2&u&&typeof d!="string")for(var n in d)L.d(s,n,function(m){return d[m]}.bind(null,n));return s},L.n=function(d){var u=d&&d.__esModule?function(){return d.default}:function(){return d};return L.d(u,"a",u),u},L.o=function(d,u){return Object.prototype.hasOwnProperty.call(d,u)},L.p="/",L(L.s=4)}([function(f,I,L){var d=L(1),u=L(2);typeof(u=u.__esModule?u.default:u)=="string"&&(u=[[f.i,u,""]]);var s={insert:"head",singleton:!1};d(u,s),f.exports=u.locals||{}},function(f,I,L){var d,u=function(){return d===void 0&&(d=!!(window&&document&&document.all&&!window.atob)),d},s=function(){var _={};return function(M){if(_[M]===void 0){var P=document.querySelector(M);if(window.HTMLIFrameElement&&P instanceof window.HTMLIFrameElement)try{P=P.contentDocument.head}catch(R){P=null}_[M]=P}return _[M]}}(),n=[];function m(_){for(var M=-1,P=0;P<n.length;P++)if(n[P].identifier===_){M=P;break}return M}function g(_,M){for(var P={},R=[],$=0;$<_.length;$++){var F=_[$],j=M.base?F[0]+M.base:F[0],X=P[j]||0,W="".concat(j," ").concat(X);P[j]=X+1;var V=m(W),K={css:F[1],media:F[2],sourceMap:F[3]};V!==-1?(n[V].references++,n[V].updater(K)):n.push({identifier:W,updater:O(K,M),references:1}),R.push(W)}return R}function y(_){var M=document.createElement("style"),P=_.attributes||{};if(P.nonce===void 0){var R=L.nc;R&&(P.nonce=R)}if(Object.keys(P).forEach(function(F){M.setAttribute(F,P[F])}),typeof _.insert=="function")_.insert(M);else{var $=s(_.insert||"head");if(!$)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");$.appendChild(M)}return M}var k,E=(k=[],function(_,M){return k[_]=M,k.filter(Boolean).join(`
`)});function C(_,M,P,R){var $=P?"":R.media?"@media ".concat(R.media," {").concat(R.css,"}"):R.css;if(_.styleSheet)_.styleSheet.cssText=E(M,$);else{var F=document.createTextNode($),j=_.childNodes;j[M]&&_.removeChild(j[M]),j.length?_.insertBefore(F,j[M]):_.appendChild(F)}}function v(_,M,P){var R=P.css,$=P.media,F=P.sourceMap;if($?_.setAttribute("media",$):_.removeAttribute("media"),F&&typeof btoa!="undefined"&&(R+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(F))))," */")),_.styleSheet)_.styleSheet.cssText=R;else{for(;_.firstChild;)_.removeChild(_.firstChild);_.appendChild(document.createTextNode(R))}}var h=null,a=0;function O(_,M){var P,R,$;if(M.singleton){var F=a++;P=h||(h=y(M)),R=C.bind(null,P,F,!1),$=C.bind(null,P,F,!0)}else P=y(M),R=v.bind(null,P,M),$=function(){(function(j){if(j.parentNode===null)return!1;j.parentNode.removeChild(j)})(P)};return R(_),function(j){if(j){if(j.css===_.css&&j.media===_.media&&j.sourceMap===_.sourceMap)return;R(_=j)}else $()}}f.exports=function(_,M){(M=M||{}).singleton||typeof M.singleton=="boolean"||(M.singleton=u());var P=g(_=_||[],M);return function(R){if(R=R||[],Object.prototype.toString.call(R)==="[object Array]"){for(var $=0;$<P.length;$++){var F=m(P[$]);n[F].references--}for(var j=g(R,M),X=0;X<P.length;X++){var W=m(P[X]);n[W].references===0&&(n[W].updater(),n.splice(W,1))}P=j}}}},function(f,I,L){(I=L(3)(!1)).push([f.i,`.cdx-underline {
    text-decoration: underline;
}
`,""]),f.exports=I},function(f,I,L){f.exports=function(d){var u=[];return u.toString=function(){return this.map(function(s){var n=function(m,g){var y=m[1]||"",k=m[3];if(!k)return y;if(g&&typeof btoa=="function"){var E=(v=k,h=btoa(unescape(encodeURIComponent(JSON.stringify(v)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(h),"/*# ".concat(a," */")),C=k.sources.map(function(O){return"/*# sourceURL=".concat(k.sourceRoot||"").concat(O," */")});return[y].concat(C).concat([E]).join(`
`)}var v,h,a;return[y].join(`
`)}(s,d);return s[2]?"@media ".concat(s[2]," {").concat(n,"}"):n}).join("")},u.i=function(s,n,m){typeof s=="string"&&(s=[[null,s,""]]);var g={};if(m)for(var y=0;y<this.length;y++){var k=this[y][0];k!=null&&(g[k]=!0)}for(var E=0;E<s.length;E++){var C=[].concat(s[E]);m&&g[C[0]]||(n&&(C[2]?C[2]="".concat(n," and ").concat(C[2]):C[2]=n),u.push(C))}},u}},function(f,I,L){L.r(I),L.d(I,"default",function(){return s}),L(0);function d(n){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(n)}function u(n,m){for(var g=0;g<m.length;g++){var y=m[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(n,(k=y.key,E=void 0,E=function(C,v){if(d(C)!=="object"||C===null)return C;var h=C[Symbol.toPrimitive];if(h!==void 0){var a=h.call(C,v||"default");if(d(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(C)}(k,"string"),d(E)==="symbol"?E:String(E)),y)}var k,E}var s=function(){function n(k){var E=k.api;(function(C,v){if(!(C instanceof v))throw new TypeError("Cannot call a class as a function")})(this,n),this.api=E,this.button=null,this.tag="U",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}var m,g,y;return m=n,y=[{key:"CSS",get:function(){return"cdx-underline"}},{key:"isInline",get:function(){return!0}},{key:"sanitize",get:function(){return{u:{class:n.CSS}}}}],(g=[{key:"render",value:function(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}},{key:"surround",value:function(k){if(k){var E=this.api.selection.findParentTag(this.tag,n.CSS);E?this.unwrap(E):this.wrap(k)}}},{key:"wrap",value:function(k){var E=document.createElement(this.tag);E.classList.add(n.CSS),E.appendChild(k.extractContents()),k.insertNode(E),this.api.selection.expandToTag(E)}},{key:"unwrap",value:function(k){this.api.selection.expandToTag(k);var E=window.getSelection(),C=E.getRangeAt(0),v=C.extractContents();k.parentNode.removeChild(k),C.insertNode(v),E.removeAllRanges(),E.addRange(C)}},{key:"checkState",value:function(){var k=this.api.selection.findParentTag(this.tag,n.CSS);this.button.classList.toggle(this.iconClasses.active,!!k)}},{key:"toolboxIcon",get:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7.5V11.5C9 12.2956 9.31607 13.0587 9.87868 13.6213C10.4413 14.1839 11.2044 14.5 12 14.5C12.7956 14.5 13.5587 14.1839 14.1213 13.6213C14.6839 13.0587 15 12.2956 15 11.5V7.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7.71429 18H16.2857"/></svg>'}}])&&u(m.prototype,g),y&&u(m,y),Object.defineProperty(m,"prototype",{writable:!1}),n}()}]).default})})(B8);var pE=B8.exports;const gE=mc(pE);var j8={exports:{}};(function(U,l){(function(f,I){U.exports=I()})(window,function(){return function(f){var I={};function L(d){if(I[d])return I[d].exports;var u=I[d]={i:d,l:!1,exports:{}};return f[d].call(u.exports,u,u.exports,L),u.l=!0,u.exports}return L.m=f,L.c=I,L.d=function(d,u,s){L.o(d,u)||Object.defineProperty(d,u,{enumerable:!0,get:s})},L.r=function(d){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},L.t=function(d,u){if(1&u&&(d=L(d)),8&u||4&u&&typeof d=="object"&&d&&d.__esModule)return d;var s=Object.create(null);if(L.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:d}),2&u&&typeof d!="string")for(var n in d)L.d(s,n,function(m){return d[m]}.bind(null,n));return s},L.n=function(d){var u=d&&d.__esModule?function(){return d.default}:function(){return d};return L.d(u,"a",u),u},L.o=function(d,u){return Object.prototype.hasOwnProperty.call(d,u)},L.p="/",L(L.s=5)}([function(f,I,L){var d=L(1);typeof d=="string"&&(d=[[f.i,d,""]]);var u={hmr:!0,transform:void 0,insertInto:void 0};L(3)(d,u),d.locals&&(f.exports=d.locals)},function(f,I,L){(f.exports=L(2)(!1)).push([f.i,`.inline-code {
  background: rgba(250, 239, 240, 0.78);
  color: #b44437;
  padding: 3px 4px;
  border-radius: 5px;
  margin: 0 1px;
  font-family: inherit;
  font-size: 0.86em;
  font-weight: 500;
  letter-spacing: 0.3px;
}
`,""])},function(f,I){f.exports=function(L){var d=[];return d.toString=function(){return this.map(function(u){var s=function(n,m){var g=n[1]||"",y=n[3];if(!y)return g;if(m&&typeof btoa=="function"){var k=(C=y,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(C))))+" */"),E=y.sources.map(function(v){return"/*# sourceURL="+y.sourceRoot+v+" */"});return[g].concat(E).concat([k]).join(`
`)}var C;return[g].join(`
`)}(u,L);return u[2]?"@media "+u[2]+"{"+s+"}":s}).join("")},d.i=function(u,s){typeof u=="string"&&(u=[[null,u,""]]);for(var n={},m=0;m<this.length;m++){var g=this[m][0];typeof g=="number"&&(n[g]=!0)}for(m=0;m<u.length;m++){var y=u[m];typeof y[0]=="number"&&n[y[0]]||(s&&!y[2]?y[2]=s:s&&(y[2]="("+y[2]+") and ("+s+")"),d.push(y))}},d}},function(f,I,L){var d,u,s={},n=(d=function(){return window&&document&&document.all&&!window.atob},function(){return u===void 0&&(u=d.apply(this,arguments)),u}),m=function(F){var j={};return function(X){if(typeof X=="function")return X();if(j[X]===void 0){var W=function(V){return document.querySelector(V)}.call(this,X);if(window.HTMLIFrameElement&&W instanceof window.HTMLIFrameElement)try{W=W.contentDocument.head}catch(V){W=null}j[X]=W}return j[X]}}(),g=null,y=0,k=[],E=L(4);function C(F,j){for(var X=0;X<F.length;X++){var W=F[X],V=s[W.id];if(V){V.refs++;for(var K=0;K<V.parts.length;K++)V.parts[K](W.parts[K]);for(;K<W.parts.length;K++)V.parts.push(M(W.parts[K],j))}else{var st=[];for(K=0;K<W.parts.length;K++)st.push(M(W.parts[K],j));s[W.id]={id:W.id,refs:1,parts:st}}}}function v(F,j){for(var X=[],W={},V=0;V<F.length;V++){var K=F[V],st=j.base?K[0]+j.base:K[0],it={css:K[1],media:K[2],sourceMap:K[3]};W[st]?W[st].parts.push(it):X.push(W[st]={id:st,parts:[it]})}return X}function h(F,j){var X=m(F.insertInto);if(!X)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var W=k[k.length-1];if(F.insertAt==="top")W?W.nextSibling?X.insertBefore(j,W.nextSibling):X.appendChild(j):X.insertBefore(j,X.firstChild),k.push(j);else if(F.insertAt==="bottom")X.appendChild(j);else{if(typeof F.insertAt!="object"||!F.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var V=m(F.insertInto+" "+F.insertAt.before);X.insertBefore(j,V)}}function a(F){if(F.parentNode===null)return!1;F.parentNode.removeChild(F);var j=k.indexOf(F);j>=0&&k.splice(j,1)}function O(F){var j=document.createElement("style");return F.attrs.type===void 0&&(F.attrs.type="text/css"),_(j,F.attrs),h(F,j),j}function _(F,j){Object.keys(j).forEach(function(X){F.setAttribute(X,j[X])})}function M(F,j){var X,W,V,K;if(j.transform&&F.css){if(!(K=j.transform(F.css)))return function(){};F.css=K}if(j.singleton){var st=y++;X=g||(g=O(j)),W=$.bind(null,X,st,!1),V=$.bind(null,X,st,!0)}else F.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(X=function(it){var pt=document.createElement("link");return it.attrs.type===void 0&&(it.attrs.type="text/css"),it.attrs.rel="stylesheet",_(pt,it.attrs),h(it,pt),pt}(j),W=function(it,pt,ct){var lt=ct.css,J=ct.sourceMap,Bt=pt.convertToAbsoluteUrls===void 0&&J;(pt.convertToAbsoluteUrls||Bt)&&(lt=E(lt)),J&&(lt+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(J))))+" */");var Tt=new Blob([lt],{type:"text/css"}),Ct=it.href;it.href=URL.createObjectURL(Tt),Ct&&URL.revokeObjectURL(Ct)}.bind(null,X,j),V=function(){a(X),X.href&&URL.revokeObjectURL(X.href)}):(X=O(j),W=function(it,pt){var ct=pt.css,lt=pt.media;if(lt&&it.setAttribute("media",lt),it.styleSheet)it.styleSheet.cssText=ct;else{for(;it.firstChild;)it.removeChild(it.firstChild);it.appendChild(document.createTextNode(ct))}}.bind(null,X),V=function(){a(X)});return W(F),function(it){if(it){if(it.css===F.css&&it.media===F.media&&it.sourceMap===F.sourceMap)return;W(F=it)}else V()}}f.exports=function(F,j){if(typeof DEBUG!="undefined"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(j=j||{}).attrs=typeof j.attrs=="object"?j.attrs:{},j.singleton||typeof j.singleton=="boolean"||(j.singleton=n()),j.insertInto||(j.insertInto="head"),j.insertAt||(j.insertAt="bottom");var X=v(F,j);return C(X,j),function(W){for(var V=[],K=0;K<X.length;K++){var st=X[K];(it=s[st.id]).refs--,V.push(it)}for(W&&C(v(W,j),j),K=0;K<V.length;K++){var it;if((it=V[K]).refs===0){for(var pt=0;pt<it.parts.length;pt++)it.parts[pt]();delete s[it.id]}}}};var P,R=(P=[],function(F,j){return P[F]=j,P.filter(Boolean).join(`
`)});function $(F,j,X,W){var V=X?"":W.css;if(F.styleSheet)F.styleSheet.cssText=R(j,V);else{var K=document.createTextNode(V),st=F.childNodes;st[j]&&F.removeChild(st[j]),st.length?F.insertBefore(K,st[j]):F.appendChild(K)}}},function(f,I){f.exports=function(L){var d=typeof window!="undefined"&&window.location;if(!d)throw new Error("fixUrls requires window.location");if(!L||typeof L!="string")return L;var u=d.protocol+"//"+d.host,s=u+d.pathname.replace(/\/[^\/]*$/,"/");return L.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(n,m){var g,y=m.trim().replace(/^"(.*)"$/,function(k,E){return E}).replace(/^'(.*)'$/,function(k,E){return E});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(y)?n:(g=y.indexOf("//")===0?y:y.indexOf("/")===0?u+y:s+y.replace(/^\.\//,""),"url("+JSON.stringify(g)+")")})}},function(f,I,L){L.r(I),L(0);function d(n,m){for(var g=0;g<m.length;g++){var y=m[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(n,y.key,y)}}function u(n,m,g){return m&&d(n.prototype,m),g&&d(n,g),n}L.d(I,"default",function(){return s});var s=function(){function n(m){var g=m.api;(function(y,k){if(!(y instanceof k))throw new TypeError("Cannot call a class as a function")})(this,n),this.api=g,this.button=null,this.tag="CODE",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}return u(n,null,[{key:"CSS",get:function(){return"inline-code"}}]),u(n,[{key:"render",value:function(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}},{key:"surround",value:function(m){if(m){var g=this.api.selection.findParentTag(this.tag,n.CSS);g?this.unwrap(g):this.wrap(m)}}},{key:"wrap",value:function(m){var g=document.createElement(this.tag);g.classList.add(n.CSS),g.appendChild(m.extractContents()),m.insertNode(g),this.api.selection.expandToTag(g)}},{key:"unwrap",value:function(m){this.api.selection.expandToTag(m);var g=window.getSelection(),y=g.getRangeAt(0),k=y.extractContents();m.parentNode.removeChild(m),y.insertNode(k),g.removeAllRanges(),g.addRange(y)}},{key:"checkState",value:function(){var m=this.api.selection.findParentTag(this.tag,n.CSS);this.button.classList.toggle(this.iconClasses.active,!!m)}},{key:"toolboxIcon",get:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.5 8L6.11524 11.8683C6.04926 11.9437 6.04926 12.0563 6.11524 12.1317L9.5 16"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15 8L18.3848 11.8683C18.4507 11.9437 18.4507 12.0563 18.3848 12.1317L15 16"/></svg>'}}],[{key:"isInline",get:function(){return!0}},{key:"sanitize",get:function(){return{code:{class:n.CSS}}}}]),n}()}]).default})})(j8);var mE=j8.exports;const yE=mc(mE);if(Array.prototype.find||(Array.prototype.find=function(U){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof U!="function")throw new TypeError("predicate must be a function");for(var l=Object(this),f=l.length>>>0,I=arguments[1],L,d=0;d<f;d++)if(L=l[d],U.call(I,L,d,l))return L}),window&&typeof window.CustomEvent!="function"){let U=function(l,f){f=f||{bubbles:!1,cancelable:!1,detail:void 0};var I=document.createEvent("CustomEvent");return I.initCustomEvent(l,f.bubbles,f.cancelable,f.detail),I};typeof window.Event!="undefined"&&(U.prototype=window.Event.prototype),window.CustomEvent=U}class aw{constructor(l){this.tribute=l,this.tribute.events=this}static keys(){return[{key:9,value:"TAB"},{key:8,value:"DELETE"},{key:13,value:"ENTER"},{key:27,value:"ESCAPE"},{key:32,value:"SPACE"},{key:38,value:"UP"},{key:40,value:"DOWN"}]}bind(l){l.boundKeydown=this.keydown.bind(l,this),l.boundKeyup=this.keyup.bind(l,this),l.boundInput=this.input.bind(l,this),l.addEventListener("keydown",l.boundKeydown,!1),l.addEventListener("keyup",l.boundKeyup,!1),l.addEventListener("input",l.boundInput,!1)}unbind(l){l.removeEventListener("keydown",l.boundKeydown,!1),l.removeEventListener("keyup",l.boundKeyup,!1),l.removeEventListener("input",l.boundInput,!1),delete l.boundKeydown,delete l.boundKeyup,delete l.boundInput}keydown(l,f){l.shouldDeactivate(f)&&(l.tribute.isActive=!1,l.tribute.hideMenu());let I=this;l.commandEvent=!1,aw.keys().forEach(L=>{L.key===f.keyCode&&(l.commandEvent=!0,l.callbacks()[L.value.toLowerCase()](f,I))})}input(l,f){l.inputEvent=!0,l.keyup.call(this,l,f)}click(l,f){let I=l.tribute;if(I.menu&&I.menu.contains(f.target)){let L=f.target;for(f.preventDefault(),f.stopPropagation();L.nodeName.toLowerCase()!=="li";)if(L=L.parentNode,!L||L===I.menu)throw new Error("cannot find the <li> container for the click");I.selectItemAtIndex(L.getAttribute("data-index"),f),I.hideMenu()}else I.current.element&&!I.current.externalTrigger&&(I.current.externalTrigger=!1,setTimeout(()=>I.hideMenu()))}keyup(l,f){if(l.inputEvent&&(l.inputEvent=!1),l.updateSelection(this),f.keyCode!==27){if(!l.tribute.allowSpaces&&l.tribute.hasTrailingSpace){l.tribute.hasTrailingSpace=!1,l.commandEvent=!0,l.callbacks().space(f,this);return}if(!l.tribute.isActive)if(l.tribute.autocompleteMode)l.callbacks().triggerChar(f,this,"");else{let I=l.getKeyCode(l,this,f);if(isNaN(I)||!I)return;let L=l.tribute.triggers().find(d=>d.charCodeAt(0)===I);typeof L!="undefined"&&l.callbacks().triggerChar(f,this,L)}l.tribute.current.mentionText.length<l.tribute.current.collection.menuShowMinLength||((l.tribute.current.trigger||l.tribute.autocompleteMode)&&l.commandEvent===!1||l.tribute.isActive&&f.keyCode===8)&&l.tribute.showMenuFor(this,!0)}}shouldDeactivate(l){if(!this.tribute.isActive)return!1;if(this.tribute.current.mentionText.length===0){let f=!1;return aw.keys().forEach(I=>{l.keyCode===I.key&&(f=!0)}),!f}return!1}getKeyCode(l,f,I){let L=l.tribute,d=L.range.getTriggerInfo(!1,L.hasTrailingSpace,!0,L.allowSpaces,L.autocompleteMode);return d?d.mentionTriggerChar.charCodeAt(0):!1}updateSelection(l){this.tribute.current.element=l;let f=this.tribute.range.getTriggerInfo(!1,this.tribute.hasTrailingSpace,!0,this.tribute.allowSpaces,this.tribute.autocompleteMode);f&&(this.tribute.current.selectedPath=f.mentionSelectedPath,this.tribute.current.mentionText=f.mentionText,this.tribute.current.selectedOffset=f.mentionSelectedOffset)}callbacks(){return{triggerChar:(l,f,I)=>{let L=this.tribute;L.current.trigger=I;let d=L.collection.find(u=>u.trigger===I);L.current.collection=d,L.current.mentionText.length>=L.current.collection.menuShowMinLength&&L.inputEvent&&L.showMenuFor(f,!0)},enter:(l,f)=>{this.tribute.isActive&&this.tribute.current.filteredItems&&(l.preventDefault(),l.stopPropagation(),setTimeout(()=>{this.tribute.selectItemAtIndex(this.tribute.menuSelected,l),this.tribute.hideMenu()},0))},escape:(l,f)=>{this.tribute.isActive&&(l.preventDefault(),l.stopPropagation(),this.tribute.isActive=!1,this.tribute.hideMenu())},tab:(l,f)=>{this.callbacks().enter(l,f)},space:(l,f)=>{this.tribute.isActive&&(this.tribute.spaceSelectsMatch?this.callbacks().enter(l,f):this.tribute.allowSpaces||(l.stopPropagation(),setTimeout(()=>{this.tribute.hideMenu(),this.tribute.isActive=!1},0)))},up:(l,f)=>{if(this.tribute.isActive&&this.tribute.current.filteredItems){l.preventDefault(),l.stopPropagation();let I=this.tribute.current.filteredItems.length,L=this.tribute.menuSelected;I>L&&L>0?(this.tribute.menuSelected--,this.setActiveLi()):L===0&&(this.tribute.menuSelected=I-1,this.setActiveLi(),this.tribute.menu.scrollTop=this.tribute.menu.scrollHeight)}},down:(l,f)=>{if(this.tribute.isActive&&this.tribute.current.filteredItems){l.preventDefault(),l.stopPropagation();let I=this.tribute.current.filteredItems.length-1,L=this.tribute.menuSelected;I>L?(this.tribute.menuSelected++,this.setActiveLi()):I===L&&(this.tribute.menuSelected=0,this.setActiveLi(),this.tribute.menu.scrollTop=0)}},delete:(l,f)=>{this.tribute.isActive&&this.tribute.current.mentionText.length<1?this.tribute.hideMenu():this.tribute.isActive&&this.tribute.showMenuFor(f)}}}setActiveLi(l){let f=this.tribute.menu.querySelectorAll("li"),I=f.length>>>0;l&&(this.tribute.menuSelected=parseInt(l));for(let L=0;L<I;L++){let d=f[L];if(L===this.tribute.menuSelected){d.classList.add(this.tribute.current.collection.selectClass);let u=d.getBoundingClientRect(),s=this.tribute.menu.getBoundingClientRect();if(u.bottom>s.bottom){let n=u.bottom-s.bottom;this.tribute.menu.scrollTop+=n}else if(u.top<s.top){let n=s.top-u.top;this.tribute.menu.scrollTop-=n}}else d.classList.remove(this.tribute.current.collection.selectClass)}}getFullHeight(l,f){let I=l.getBoundingClientRect().height;if(f){let L=l.currentStyle||window.getComputedStyle(l);return I+parseFloat(L.marginTop)+parseFloat(L.marginBottom)}return I}}class vE{constructor(l){this.tribute=l,this.tribute.menuEvents=this,this.menu=this.tribute.menu}bind(l){this.menuClickEvent=this.tribute.events.click.bind(null,this),this.menuContainerScrollEvent=this.debounce(()=>{this.tribute.isActive&&this.tribute.showMenuFor(this.tribute.current.element,!1)},300,!1),this.windowResizeEvent=this.debounce(()=>{this.tribute.isActive&&this.tribute.range.positionMenuAtCaret(!0)},300,!1),this.tribute.range.getDocument().addEventListener("MSPointerDown",this.menuClickEvent,!1),this.tribute.range.getDocument().addEventListener("mousedown",this.menuClickEvent,!1),window.addEventListener("resize",this.windowResizeEvent),this.menuContainer?this.menuContainer.addEventListener("scroll",this.menuContainerScrollEvent,!1):window.addEventListener("scroll",this.menuContainerScrollEvent)}unbind(l){this.tribute.range.getDocument().removeEventListener("mousedown",this.menuClickEvent,!1),this.tribute.range.getDocument().removeEventListener("MSPointerDown",this.menuClickEvent,!1),window.removeEventListener("resize",this.windowResizeEvent),this.menuContainer?this.menuContainer.removeEventListener("scroll",this.menuContainerScrollEvent,!1):window.removeEventListener("scroll",this.menuContainerScrollEvent)}debounce(l,f,I){var L;return()=>{var d=this,u=arguments,s=()=>{L=null,I||l.apply(d,u)},n=I&&!L;clearTimeout(L),L=setTimeout(s,f),n&&l.apply(d,u)}}}class bE{constructor(l){this.tribute=l,this.tribute.range=this}getDocument(){let l;return this.tribute.current.collection&&(l=this.tribute.current.collection.iframe),l?l.contentWindow.document:document}positionMenuAtCaret(l){let f=this.tribute.current,I,L=this.getTriggerInfo(!1,this.tribute.hasTrailingSpace,!0,this.tribute.allowSpaces,this.tribute.autocompleteMode);if(typeof L!="undefined"){if(!this.tribute.positionMenu){this.tribute.menu.style.cssText="display: block;";return}this.isContentEditable(f.element)?I=this.getContentEditableCaretPosition(L.mentionPosition):I=this.getTextAreaOrInputUnderlinePosition(this.tribute.current.element,L.mentionPosition),this.tribute.menu.style.cssText=`top: ${I.top}px;
                                     left: ${I.left}px;
                                     right: ${I.right}px;
                                     bottom: ${I.bottom}px;
                                     position: absolute;
                                     display: block;`,I.left==="auto"&&(this.tribute.menu.style.left="auto"),I.top==="auto"&&(this.tribute.menu.style.top="auto"),l&&this.scrollIntoView(),window.setTimeout(()=>{let d={width:this.tribute.menu.offsetWidth,height:this.tribute.menu.offsetHeight},u=this.isMenuOffScreen(I,d),s=window.innerWidth>d.width&&(u.left||u.right),n=window.innerHeight>d.height&&(u.top||u.bottom);(s||n)&&(this.tribute.menu.style.cssText="display: none",this.positionMenuAtCaret(l))},0)}else this.tribute.menu.style.cssText="display: none"}get menuContainerIsBody(){return this.tribute.menuContainer===document.body||!this.tribute.menuContainer}selectElement(l,f,I){let L,d=l;if(f)for(var u=0;u<f.length;u++){if(d=d.childNodes[f[u]],d===void 0)return;for(;d.length<I;)I-=d.length,d=d.nextSibling;d.childNodes.length===0&&!d.length&&(d=d.previousSibling)}let s=this.getWindowSelection();L=this.getDocument().createRange(),L.setStart(d,I),L.setEnd(d,I),L.collapse(!0);try{s.removeAllRanges()}catch(n){}s.addRange(L),l.focus()}replaceTriggerText(l,f,I,L,d){let u=this.getTriggerInfo(!0,I,f,this.tribute.allowSpaces,this.tribute.autocompleteMode);if(u!==void 0){let s=this.tribute.current,n=new CustomEvent("tribute-replaced",{detail:{item:d,instance:s,context:u,event:L}});if(this.isContentEditable(s.element)){let m=typeof this.tribute.replaceTextSuffix=="string"?this.tribute.replaceTextSuffix:" ";l+=m;let g=u.mentionPosition+u.mentionText.length;this.tribute.autocompleteMode||(g+=u.mentionTriggerChar.length),this.pasteHtml(l,u.mentionPosition,g)}else{let m=this.tribute.current.element,g=typeof this.tribute.replaceTextSuffix=="string"?this.tribute.replaceTextSuffix:" ";l+=g;let y=u.mentionPosition,k=u.mentionPosition+u.mentionText.length+g.length;this.tribute.autocompleteMode||(k+=u.mentionTriggerChar.length-1),m.value=m.value.substring(0,y)+l+m.value.substring(k,m.value.length),m.selectionStart=y+l.length,m.selectionEnd=y+l.length}s.element.dispatchEvent(new CustomEvent("input",{bubbles:!0})),s.element.dispatchEvent(n)}}pasteHtml(l,f,I){let L,d;d=this.getWindowSelection(),L=this.getDocument().createRange(),L.setStart(d.anchorNode,f),L.setEnd(d.anchorNode,I),L.deleteContents();let u=this.getDocument().createElement("div");u.innerHTML=l;let s=this.getDocument().createDocumentFragment(),n,m;for(;n=u.firstChild;)m=s.appendChild(n);L.insertNode(s),m&&(L=L.cloneRange(),L.setStartAfter(m),L.collapse(!0),d.removeAllRanges(),d.addRange(L))}getWindowSelection(){return this.tribute.collection.iframe?this.tribute.collection.iframe.contentWindow.getSelection():window.getSelection()}getNodePositionInParent(l){if(l.parentNode===null)return 0;for(var f=0;f<l.parentNode.childNodes.length;f++)if(l.parentNode.childNodes[f]===l)return f}getContentEditableSelectedPath(l){let f=this.getWindowSelection(),I=f.anchorNode,L=[],d;if(I!=null){let u,s=I.contentEditable;for(;I!==null&&s!=="true";)u=this.getNodePositionInParent(I),L.push(u),I=I.parentNode,I!==null&&(s=I.contentEditable);return L.reverse(),d=f.getRangeAt(0).startOffset,{selected:I,path:L,offset:d}}}getTextPrecedingCurrentSelection(){let l=this.tribute.current,f="";if(this.isContentEditable(l.element)){let I=this.getWindowSelection().anchorNode;if(I!=null){let L=I.textContent,d=this.getWindowSelection().getRangeAt(0).startOffset;L&&d>=0&&(f=L.substring(0,d))}}else{let I=this.tribute.current.element;if(I){let L=I.selectionStart;I.value&&L>=0&&(f=I.value.substring(0,L))}}return f}getLastWordInText(l){l=l.replace(/\u00A0/g," ");let f=l.split(/\s+/),I=f.length-1;return f[I].trim()}getTriggerInfo(l,f,I,L,d){let u=this.tribute.current,s,n,m;if(!this.isContentEditable(u.element))s=this.tribute.current.element;else{let k=this.getContentEditableSelectedPath(u);k&&(s=k.selected,n=k.path,m=k.offset)}let g=this.getTextPrecedingCurrentSelection(),y=this.getLastWordInText(g);if(d)return{mentionPosition:g.length-y.length,mentionText:y,mentionSelectedElement:s,mentionSelectedPath:n,mentionSelectedOffset:m};if(g!=null){let k=-1,E;if(this.tribute.collection.forEach(C=>{let v=C.trigger,h=C.requireLeadingSpace?this.lastIndexWithLeadingSpace(g,v):g.lastIndexOf(v);h>k&&(k=h,E=v,I=C.requireLeadingSpace)}),k>=0&&(k===0||!I||/[\xA0\s]/g.test(g.substring(k-1,k)))){let C=g.substring(k+E.length,g.length);E=g.substring(k,k+E.length);let v=C.substring(0,1),h=C.length>0&&(v===" "||v===" ");f&&(C=C.trim());let a=L?/[^\S ]/g:/[\xA0\s]/g;if(this.tribute.hasTrailingSpace=a.test(C),!h&&(l||!a.test(C)))return{mentionPosition:k,mentionText:C,mentionSelectedElement:s,mentionSelectedPath:n,mentionSelectedOffset:m,mentionTriggerChar:E}}}}lastIndexWithLeadingSpace(l,f){let I=l.split("").reverse().join(""),L=-1;for(let d=0,u=l.length;d<u;d++){let s=d===l.length-1,n=/\s/.test(I[d+1]),m=!0;for(let g=f.length-1;g>=0;g--)if(f[g]!==I[d-g]){m=!1;break}if(m&&(s||n)){L=l.length-1-d;break}}return L}isContentEditable(l){return l.nodeName!=="INPUT"&&l.nodeName!=="TEXTAREA"}isMenuOffScreen(l,f){let I=window.innerWidth,L=window.innerHeight,d=document.documentElement,u=(window.pageXOffset||d.scrollLeft)-(d.clientLeft||0),s=(window.pageYOffset||d.scrollTop)-(d.clientTop||0),n=typeof l.top=="number"?l.top:s+L-l.bottom-f.height,m=typeof l.right=="number"?l.right:l.left+f.width,g=typeof l.bottom=="number"?l.bottom:l.top+f.height,y=typeof l.left=="number"?l.left:u+I-l.right-f.width;return{top:n<Math.floor(s),right:m>Math.ceil(u+I),bottom:g>Math.ceil(s+L),left:y<Math.floor(u)}}getMenuDimensions(){let l={width:null,height:null};return this.tribute.menu.style.cssText=`top: 0px;
                                 left: 0px;
                                 position: fixed;
                                 display: block;
                                 visibility; hidden;`,l.width=this.tribute.menu.offsetWidth,l.height=this.tribute.menu.offsetHeight,this.tribute.menu.style.cssText="display: none;",l}getTextAreaOrInputUnderlinePosition(l,f,I){let L=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing"],d=window.mozInnerScreenX!==null,u=this.getDocument().createElement("div");u.id="input-textarea-caret-position-mirror-div",this.getDocument().body.appendChild(u);let s=u.style,n=window.getComputedStyle?getComputedStyle(l):l.currentStyle;s.whiteSpace="pre-wrap",l.nodeName!=="INPUT"&&(s.wordWrap="break-word"),s.position="absolute",s.visibility="hidden",L.forEach(R=>{s[R]=n[R]}),d?(s.width=`${parseInt(n.width)-2}px`,l.scrollHeight>parseInt(n.height)&&(s.overflowY="scroll")):s.overflow="hidden",u.textContent=l.value.substring(0,f),l.nodeName==="INPUT"&&(u.textContent=u.textContent.replace(/\s/g," "));let m=this.getDocument().createElement("span");m.textContent=l.value.substring(f)||".",u.appendChild(m);let g=l.getBoundingClientRect(),y=document.documentElement,k=(window.pageXOffset||y.scrollLeft)-(y.clientLeft||0),E=(window.pageYOffset||y.scrollTop)-(y.clientTop||0),C=0,v=0;this.menuContainerIsBody&&(C=g.top,v=g.left);let h={top:C+E+m.offsetTop+parseInt(n.borderTopWidth)+parseInt(n.fontSize)-l.scrollTop,left:v+k+m.offsetLeft+parseInt(n.borderLeftWidth)},a=window.innerWidth,O=window.innerHeight,_=this.getMenuDimensions(),M=this.isMenuOffScreen(h,_);M.right&&(h.right=a-h.left,h.left="auto");let P=this.tribute.menuContainer?this.tribute.menuContainer.offsetHeight:this.getDocument().body.offsetHeight;if(M.bottom){let R=this.tribute.menuContainer?this.tribute.menuContainer.getBoundingClientRect():this.getDocument().body.getBoundingClientRect(),$=P-(O-R.top);h.bottom=$+(O-g.top-m.offsetTop),h.top="auto"}return M=this.isMenuOffScreen(h,_),M.left&&(h.left=a>_.width?k+a-_.width:k,delete h.right),M.top&&(h.top=O>_.height?E+O-_.height:E,delete h.bottom),this.getDocument().body.removeChild(u),h}getContentEditableCaretPosition(l){let f,I=this.getWindowSelection();f=this.getDocument().createRange(),f.setStart(I.anchorNode,l),f.setEnd(I.anchorNode,l),f.collapse(!1);let L=f.getBoundingClientRect(),d=document.documentElement,u=(window.pageXOffset||d.scrollLeft)-(d.clientLeft||0),s=(window.pageYOffset||d.scrollTop)-(d.clientTop||0),n=L.left,m=L.top,g={left:n+u,top:m+L.height+s},y=window.innerWidth,k=window.innerHeight,E=this.getMenuDimensions(),C=this.isMenuOffScreen(g,E);C.right&&(g.left="auto",g.right=y-L.left-u);let v=this.tribute.menuContainer?this.tribute.menuContainer.offsetHeight:this.getDocument().body.offsetHeight;if(C.bottom){let h=this.tribute.menuContainer?this.tribute.menuContainer.getBoundingClientRect():this.getDocument().body.getBoundingClientRect(),a=v-(k-h.top);g.top="auto",g.bottom=a+(k-L.top)}return C=this.isMenuOffScreen(g,E),C.left&&(g.left=y>E.width?u+y-E.width:u,delete g.right),C.top&&(g.top=k>E.height?s+k-E.height:s,delete g.bottom),this.menuContainerIsBody||(g.left=g.left?g.left-this.tribute.menuContainer.offsetLeft:g.left,g.top=g.top?g.top-this.tribute.menuContainer.offsetTop:g.top),g}scrollIntoView(l){let f=20,I,L=100,d=this.menu;if(typeof d=="undefined")return;for(;I===void 0||I.height===0;)if(I=d.getBoundingClientRect(),I.height===0&&(d=d.childNodes[0],d===void 0||!d.getBoundingClientRect))return;let u=I.top,s=u+I.height;if(u<0)window.scrollTo(0,window.pageYOffset+I.top-f);else if(s>window.innerHeight){let n=window.pageYOffset+I.top-f;n-window.pageYOffset>L&&(n=window.pageYOffset+L);let m=window.pageYOffset-(window.innerHeight-s);m>n&&(m=n),window.scrollTo(0,m)}}}class xE{constructor(l){this.tribute=l,this.tribute.search=this}simpleFilter(l,f){return f.filter(I=>this.test(l,I))}test(l,f){return this.match(l,f)!==null}match(l,f,I){I=I||{},f.length;let L=I.pre||"",d=I.post||"",u=I.caseSensitive&&f||f.toLowerCase();if(I.skip)return{rendered:f,score:0};l=I.caseSensitive&&l||l.toLowerCase();let s=this.traverse(u,l,0,0,[]);return s?{rendered:this.render(f,s.cache,L,d),score:s.score}:null}traverse(l,f,I,L,d){if(f.length===L)return{score:this.calculateScore(d),cache:d.slice()};if(l.length===I||f.length-L>l.length-I)return;let u=f[L],s=l.indexOf(u,I),n,m;for(;s>-1;){if(d.push(s),m=this.traverse(l,f,s+1,L+1,d),d.pop(),!m)return n;(!n||n.score<m.score)&&(n=m),s=l.indexOf(u,s+1)}return n}calculateScore(l){let f=0,I=1;return l.forEach((L,d)=>{d>0&&(l[d-1]+1===L?I+=I+1:I=1),f+=I}),f}render(l,f,I,L){var d=l.substring(0,f[0]);return f.forEach((u,s)=>{d+=I+l[u]+L+l.substring(u+1,f[s+1]?f[s+1]:l.length)}),d}filter(l,f,I){return I=I||{},f.reduce((L,d,u,s)=>{let n=d;I.extract&&(n=I.extract(d),n||(n=""));let m=this.match(l,n,I);return m!=null&&(L[L.length]={string:m.rendered,score:m.score,index:u,original:d}),L},[]).sort((L,d)=>{let u=d.score-L.score;return u||L.index-d.index})}}class Dg{constructor({values:l=null,iframe:f=null,selectClass:I="highlight",containerClass:L="tribute-container",itemClass:d="",trigger:u="@",autocompleteMode:s=!1,selectTemplate:n=null,menuItemTemplate:m=null,lookup:g="key",fillAttr:y="value",collection:k=null,menuContainer:E=null,noMatchTemplate:C=null,requireLeadingSpace:v=!0,allowSpaces:h=!1,replaceTextSuffix:a=null,positionMenu:O=!0,spaceSelectsMatch:_=!1,searchOpts:M={},menuItemLimit:P=null,menuShowMinLength:R=0}){if(this.autocompleteMode=s,this.menuSelected=0,this.current={},this.inputEvent=!1,this.isActive=!1,this.menuContainer=E,this.allowSpaces=h,this.replaceTextSuffix=a,this.positionMenu=O,this.hasTrailingSpace=!1,this.spaceSelectsMatch=_,this.autocompleteMode&&(u="",h=!1),l)this.collection=[{trigger:u,iframe:f,selectClass:I,containerClass:L,itemClass:d,selectTemplate:(n||Dg.defaultSelectTemplate).bind(this),menuItemTemplate:(m||Dg.defaultMenuItemTemplate).bind(this),noMatchTemplate:($=>typeof $=="string"?$.trim()===""?null:$:typeof $=="function"?$.bind(this):C||function(){return"<li>No Match Found!</li>"}.bind(this))(C),lookup:g,fillAttr:y,values:l,requireLeadingSpace:v,searchOpts:M,menuItemLimit:P,menuShowMinLength:R}];else if(k)this.autocompleteMode&&console.warn("Tribute in autocomplete mode does not work for collections"),this.collection=k.map($=>({trigger:$.trigger||u,iframe:$.iframe||f,selectClass:$.selectClass||I,containerClass:$.containerClass||L,itemClass:$.itemClass||d,selectTemplate:($.selectTemplate||Dg.defaultSelectTemplate).bind(this),menuItemTemplate:($.menuItemTemplate||Dg.defaultMenuItemTemplate).bind(this),noMatchTemplate:(F=>typeof F=="string"?F.trim()===""?null:F:typeof F=="function"?F.bind(this):C||function(){return"<li>No Match Found!</li>"}.bind(this))(C),lookup:$.lookup||g,fillAttr:$.fillAttr||y,values:$.values,requireLeadingSpace:$.requireLeadingSpace,searchOpts:$.searchOpts||M,menuItemLimit:$.menuItemLimit||P,menuShowMinLength:$.menuShowMinLength||R}));else throw new Error("[Tribute] No collection specified.");new bE(this),new aw(this),new vE(this),new xE(this)}get isActive(){return this._isActive}set isActive(l){if(this._isActive!=l&&(this._isActive=l,this.current.element)){let f=new CustomEvent(`tribute-active-${l}`);this.current.element.dispatchEvent(f)}}static defaultSelectTemplate(l){return typeof l=="undefined"?`${this.current.collection.trigger}${this.current.mentionText}`:this.range.isContentEditable(this.current.element)?'<span class="tribute-mention">'+(this.current.collection.trigger+l.original[this.current.collection.fillAttr])+"</span>":this.current.collection.trigger+l.original[this.current.collection.fillAttr]}static defaultMenuItemTemplate(l){return l.string}static inputTypes(){return["TEXTAREA","INPUT"]}triggers(){return this.collection.map(l=>l.trigger)}attach(l){if(!l)throw new Error("[Tribute] Must pass in a DOM node or NodeList.");if(typeof jQuery!="undefined"&&l instanceof jQuery&&(l=l.get()),l.constructor===NodeList||l.constructor===HTMLCollection||l.constructor===Array){let I=l.length;for(var f=0;f<I;++f)this._attach(l[f])}else this._attach(l)}_attach(l){l.hasAttribute("data-tribute")&&console.warn("Tribute was already bound to "+l.nodeName),this.ensureEditable(l),this.events.bind(l),l.setAttribute("data-tribute",!0)}ensureEditable(l){if(Dg.inputTypes().indexOf(l.nodeName)===-1)if(l.contentEditable)l.contentEditable=!0;else throw new Error("[Tribute] Cannot bind to "+l.nodeName)}createMenu(l){let f=this.range.getDocument().createElement("div"),I=this.range.getDocument().createElement("ul");return f.className=l,f.appendChild(I),this.menuContainer?this.menuContainer.appendChild(f):this.range.getDocument().body.appendChild(f)}showMenuFor(l,f){if(this.isActive&&this.current.element===l&&this.current.mentionText===this.currentMentionTextSnapshot)return;this.currentMentionTextSnapshot=this.current.mentionText,this.menu||(this.menu=this.createMenu(this.current.collection.containerClass),l.tributeMenu=this.menu,this.menuEvents.bind(this.menu)),this.isActive=!0,this.menuSelected=0,this.current.mentionText||(this.current.mentionText="");const I=L=>{if(!this.isActive)return;let d=this.search.filter(this.current.mentionText,L,{pre:this.current.collection.searchOpts.pre||"<span>",post:this.current.collection.searchOpts.post||"</span>",skip:this.current.collection.searchOpts.skip,extract:n=>{if(typeof this.current.collection.lookup=="string")return n[this.current.collection.lookup];if(typeof this.current.collection.lookup=="function")return this.current.collection.lookup(n,this.current.mentionText);throw new Error("Invalid lookup attribute, lookup must be string or function.")}});this.current.collection.menuItemLimit&&(d=d.slice(0,this.current.collection.menuItemLimit)),this.current.filteredItems=d;let u=this.menu.querySelector("ul");if(this.range.positionMenuAtCaret(f),!d.length){let n=new CustomEvent("tribute-no-match",{detail:this.menu});this.current.element.dispatchEvent(n),typeof this.current.collection.noMatchTemplate=="function"&&!this.current.collection.noMatchTemplate()||!this.current.collection.noMatchTemplate?this.hideMenu():typeof this.current.collection.noMatchTemplate=="function"?u.innerHTML=this.current.collection.noMatchTemplate():u.innerHTML=this.current.collection.noMatchTemplate;return}u.innerHTML="";let s=this.range.getDocument().createDocumentFragment();d.forEach((n,m)=>{let g=this.range.getDocument().createElement("li");g.setAttribute("data-index",m),g.className=this.current.collection.itemClass,g.addEventListener("mousemove",y=>{let[k,E]=this._findLiTarget(y.target);y.movementY!==0&&this.events.setActiveLi(E)}),this.menuSelected===m&&g.classList.add(this.current.collection.selectClass),g.innerHTML=this.current.collection.menuItemTemplate(n),s.appendChild(g)}),u.appendChild(s)};typeof this.current.collection.values=="function"?this.current.collection.values(this.current.mentionText,I):I(this.current.collection.values)}_findLiTarget(l){if(!l)return[];const f=l.getAttribute("data-index");return f?[l,f]:this._findLiTarget(l.parentNode)}showMenuForCollection(l,f){l!==document.activeElement&&this.placeCaretAtEnd(l),this.current.collection=this.collection[f||0],this.current.externalTrigger=!0,this.current.element=l,l.isContentEditable?this.insertTextAtCursor(this.current.collection.trigger):this.insertAtCaret(l,this.current.collection.trigger),this.showMenuFor(l)}placeCaretAtEnd(l){if(l.focus(),typeof window.getSelection!="undefined"&&typeof document.createRange!="undefined"){var f=document.createRange();f.selectNodeContents(l),f.collapse(!1);var I=window.getSelection();I.removeAllRanges(),I.addRange(f)}else if(typeof document.body.createTextRange!="undefined"){var L=document.body.createTextRange();L.moveToElementText(l),L.collapse(!1),L.select()}}insertTextAtCursor(l){var f,I;f=window.getSelection(),I=f.getRangeAt(0),I.deleteContents();var L=document.createTextNode(l);I.insertNode(L),I.selectNodeContents(L),I.collapse(!1),f.removeAllRanges(),f.addRange(I)}insertAtCaret(l,f){var I=l.scrollTop,L=l.selectionStart,d=l.value.substring(0,L),u=l.value.substring(l.selectionEnd,l.value.length);l.value=d+f+u,L=L+f.length,l.selectionStart=L,l.selectionEnd=L,l.focus(),l.scrollTop=I}hideMenu(){this.menu&&(this.menu.style.cssText="display: none;",this.isActive=!1,this.menuSelected=0,this.current={})}selectItemAtIndex(l,f){if(l=parseInt(l),typeof l!="number"||isNaN(l))return;let I=this.current.filteredItems[l],L=this.current.collection.selectTemplate(I);L!==null&&this.replaceText(L,f,I)}replaceText(l,f,I){this.range.replaceTriggerText(l,!0,!0,f,I)}_append(l,f,I){if(typeof l.values=="function")throw new Error("Unable to append to values, as it is a function.");I?l.values=f:l.values=l.values.concat(f)}append(l,f,I){let L=parseInt(l);if(typeof L!="number")throw new Error("please provide an index for the collection to update.");let d=this.collection[L];this._append(d,f,I)}appendCurrent(l,f){if(this.isActive)this._append(this.current.collection,l,f);else throw new Error("No active state. Please use append instead and pass an index.")}detach(l){if(!l)throw new Error("[Tribute] Must pass in a DOM node or NodeList.");if(typeof jQuery!="undefined"&&l instanceof jQuery&&(l=l.get()),l.constructor===NodeList||l.constructor===HTMLCollection||l.constructor===Array){let I=l.length;for(var f=0;f<I;++f)this._detach(l[f])}else this._detach(l)}_detach(l){this.events.unbind(l),l.tributeMenu&&this.menuEvents.unbind(l.tributeMenu),setTimeout(()=>{l.removeAttribute("data-tribute"),this.isActive=!1,l.tributeMenu&&l.tributeMenu.remove()})}}class wE extends lE{constructor(l){super(l)}showFileData(){super.showFileData();const l=this.nodes.wrapper.querySelector(`.${this.CSS.downloadButton}`);l.download=this.data.title,l.addEventListener("pointerdown",f=>{f.diagramDetails="prevent node drag"})}}const _E=U=>new Promise((l,f)=>{const I=new FileReader;I.readAsDataURL(U),I.onload=()=>l(I.result),I.onerror=f}),T4={Header:zS,SimpleImage:VS,undo:tE,Marker:hE,Color:fE,Underline:gE,InlineCode:yE,Image:{class:ZS,inlineToolbar:!0,config:{embed:{display:!0},unsplash:{appName:"Dumbot",clientId:"Cgl-gFPWhrotsJzORtqgDAIvMHMc1O7tihMNjw4OsrQ"}}},List:qS,Checklist:DS,embed:{class:GS,config:{services:{youtube:!0,codepen:!0}}},Quote:HS,nestedList:JS,Strikethrough:iE,table:{class:nE,inlineToolbar:!0,config:{rows:2,cols:3,withHeadings:!0}},CodeTool:aE,MermaidTool:A8,attaches:{class:wE,config:{uploader:{uploadByFile:U=>Ei(this,null,function*(){const l=yield _E(U),{type:f,name:I,size:L}=U;return{success:1,file:{url:l,type:f,size:L,name:I,title:U.name}}})}}}},A4=(U,l)=>{if(A8.config({theme:"neutral"}),!U||!l||!l.length)return;new Dg({values:l,selectTemplate:I=>`<span class='dumbot-variable' data-type='${I.original.type}' data-variable='${I.original.key}'>\${${I.original.key}}</span>`}).attach(document.getElementById(U))},kE=ja('<div class="node-content-editor-readonly">'),CE={width:"100%",cursor:"unset"},SE=U=>{let l;return fb(()=>{l=new p8({placeholder:"Please, add some content to this node!!",holder:U.id,readOnly:!0,tools:T4,onReady:A4})}),hf(()=>{console.log("cleaning the mess"),l&&l.destroy&&l.destroy()}),z0(()=>Ei(this,null,function*(){l&&Object.keys(U.content).length>0&&(yield l.isReady,l.render(U.content))})),(()=>{const f=kE();return yb(f,CE),qa(()=>al(f,"id",U.id)),f})()};function EE(U){return Mh({a:{fill:"currentColor",viewBox:"0 0 16 16"},c:'<path d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"/>'},U)}const TE=ja("<div><div></div><div><span></span></div><div>"),AE=ja("<div><div><div>"),OE=U=>{const l=u=>{u.diagramDetails="prevent node drag"},f=()=>{U.onToggle()},I=()=>{U.onNodeSettings()},L=()=>{U.onNodeContentEdit()},d=()=>{U.onDeleteNode()};return(()=>{const u=TE(),s=u.firstChild,n=s.nextSibling,m=n.firstChild,g=n.nextSibling;return s.$$pointerdown=l,Di(s,gr(VC,{onChange:f,get checked(){return!!U.selected}})),Di(m,()=>U.title),g.$$pointerdown=l,Di(g,gr(EE,{size:18,get class(){return Lh.NodeCommands},onPointerDown:L}),null),Di(g,gr(yC,{size:18,get class(){return Lh.NodeCommands},onPointerDown:I}),null),Di(g,(()=>{const y=gc(()=>!U.preventRemoval);return()=>y()&&gr(w6,{size:18,get class(){return Lh.NodeCommands},onPointerDown:d})})(),null),qa(y=>{const k=Lh.NodeHead,E=Lh.NodeHeadTitle,C=Lh.NodeCommandsContainer;return k!==y._v$&&Ya(u,y._v$=k),E!==y._v$2&&Ya(n,y._v$2=E),C!==y._v$3&&Ya(g,y._v$3=C),y},{_v$:void 0,_v$2:void 0,_v$3:void 0}),u})()},ME=U=>{let l;const[f,I]=rh();fb(()=>{U.sizeObserver.observe(l),l.addEventListener("touchstart",M6,{passive:!1}),console.debug("mounting node",U.nodeId)}),hf(()=>{U.sizeObserver.unobserve(l),l.removeEventListener("touchstart",M6)});const L=()=>{const m=f.chart.selected[U.nodeId];I.onToggleNodeSelection(U.nodeId,!m)},d=m=>{if(m.diagramDetails){m.preventDefault(),m.stopImmediatePropagation(),m.stopPropagation(),m.cancelBubble=!0;return}const g=f.scale,y=window.DMBRoot.getElementById(U.canvasId);let k=0;const E=y.getBoundingClientRect();l.classList.add(Lh.NodeDragging),document.body.classList.add("disable-hover");const C=l.getBoundingClientRect(),v={w:E.width/g,h:E.height/g};let h=f.chart.nodes[U.nodeId].position;const a=f.chart.selected[U.nodeId]&&Object.entries(f.chart.selected).filter(V=>V[1]).length>1,O={w:C.width/g,h:C.height/g},_=a?MC(g):{},M={x:m.clientX-C.x,y:m.clientY-C.y},P=y.scrollLeft,R=E.top,$=E.left,F=y.scrollTop;m.preventDefault(),m.stopPropagation();const j=V=>{V.stopPropagation(),V.stopImmediatePropagation(),V.cancelBubble=!0;const K=(V.clientX+P-$-M.x)/g,st=(V.clientY+F-R-M.y)/g,it=O6(v,O,_[`${U.nodeId}-drag-hat`],K,st),pt={x:it.x-h.x,y:it.y-h.y};h=it,a?I.onMultiDrag({leaderId:U.nodeId,leaderPos:it,canvasSize:v,delta:pt,multiSelectOffsets:_}):I.onNodeDrag({nodeId:U.nodeId,position:it})},X=V=>k=requestAnimationFrame(()=>j(V)),W=V=>{V.preventDefault(),V.stopPropagation(),cancelAnimationFrame(k),l.classList.remove(Lh.NodeDragging),document.body.classList.remove("disable-hover"),window.removeEventListener("pointerup",W,!1),window.removeEventListener("pointercancel",W,!1),window.removeEventListener("pointermove",X,!0),I.onNodeDraggingEnd()};window.addEventListener("pointerup",W,!1),window.addEventListener("pointercancel",W,!1),window.addEventListener("pointermove",X,{capture:!0,passive:!0})},u=()=>{I.onDeleteNodes([U.nodeId])},s=()=>{I.onToggleEditNodeSettings(U.nodeId)},n=()=>{I.onToggleEditNodeContent(U.nodeId)};return(()=>{const m=AE(),g=m.firstChild,y=g.firstChild,k=l;return typeof k=="function"?Ig(k,m):l=m,m.$$pointerdown=d,Di(m,gr(OE,{get selected(){return f.chart.selected[U.nodeId]},get title(){return f.chart.nodes[U.nodeId].title},get preventRemoval(){return f.chart.nodes[U.nodeId].preventRemoval},onToggle:L,onDeleteNode:u,onNodeSettings:s,onNodeContentEdit:n}),g),Di(y,gr(SE,{get id(){return U.nodeId},get content(){return f.chart.nodes[U.nodeId].content}})),Di(m,gr(QC,{get nodeId(){return U.nodeId},get canvasId(){return U.canvasId}}),null),qa(E=>{const C=Lh.Node,v={"drag-hat-selected":f.chart.selected[U.nodeId],[`${Lh.NodeSelected}`]:f.chart.selected[U.nodeId]},h=`${U.nodeId}-drag-hat`,a=`${U.nodeId}`,O=`translate(${f.chart.nodes[U.nodeId].position.x}px, ${f.chart.nodes[U.nodeId].position.y}px)`,_=`${Lh.NodeContent} flowchart-node-content`,M=Lh.NodeContentView;return C!==E._v$4&&Ya(m,E._v$4=C),E._v$5=mb(m,v,E._v$5),h!==E._v$6&&al(m,"id",E._v$6=h),a!==E._v$7&&al(m,"data-node-id",E._v$7=a),O!==E._v$8&&((E._v$8=O)!=null?m.style.setProperty("transform",O):m.style.removeProperty("transform")),_!==E._v$9&&Ya(g,E._v$9=_),M!==E._v$10&&Ya(y,E._v$10=M),E},{_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0,_v$9:void 0,_v$10:void 0}),m})()},LE=U=>{const[l,f]=rh(),I=new ResizeObserver(L=>{f.nodesSizeChanged(L)});return hf(()=>I.disconnect()),gr(Ux,{get each(){return Object.keys(l.chart.nodes)},children:L=>gr(ME,{nodeId:L,sizeObserver:I,get canvasId(){return U.canvasId}})})};gb(["pointerdown"]);const tA="",BE={Diagram:"_Diagram_8pl8z_3"},jE=(U,l,f)=>`:root {
    --diagram-width: ${U||"100vw"};
    --diagram-height: ${l||"100vh"};
    --canvas-bg-color: ${(f==null?void 0:f.canvasBgColor)||"#3a5584"};
    --grid-bg-color: ${(f==null?void 0:f.gridBgColor)||"#3a5584"};
    --grid-lines-color: ${(f==null?void 0:f.gridLinesColor)||"rgba(81, 203, 238, 0.1)"};
    --grid-lines-outline-color: ${(f==null?void 0:f.gridLinesOutlineColor)||"rgba(0, 0, 0, 0.1)"};
    --accent-color: ${(f==null?void 0:f.accentColor)||"rgba(81, 203, 238, 1)"};
    --border-color: ${(f==null?void 0:f.borderColor)||"rgb(248, 248, 248)"};
    --connection-color: ${(f==null?void 0:f.connectionsColor)||"cornflowerblue"};
    --brand-color: ${(f==null?void 0:f.brandColor)||"#4a4d70"};
    --bars-color: ${(f==null?void 0:f.barsColor)||"#2b2e4b"};
    --ports-bg-color: ${(f==null?void 0:f.portsBgColor)||"#7D4CDB"};
    --ports-font-color: ${(f==null?void 0:f.portsFontColor)||"#f8f8f8"};
    --diagram-font-family: ${(f==null?void 0:f.fontFamily)||"'Sora',sans-serif"};
    --diagram-font-size: ${(f==null?void 0:f.fontSize)||"16px"};
    --node-font-color: ${(f==null?void 0:f.nodeFontColor)||"#f8f8f8"};
    --node-bg-color: ${(f==null?void 0:f.nodeBgColor)||"#333333"};
    --node-head-font-size:  ${(f==null?void 0:f.nodeHeadFontSize)||"18px"};
    --bg-inactive: ${(f==null?void 0:f.bgInactive)||"rgb(153, 148, 148)"};
    --warning-color: ${(f==null?void 0:f.warningColor)||"rgb(248, 172, 59)"};
    --node-content-bgcolor: ${(f==null?void 0:f.nodeContentBgColor)||"#4a4d70"};
    --node-content-font-color: ${(f==null?void 0:f.nodeContentFontColor)||"#fff"};
    --node-head-bgcolor: ${(f==null?void 0:f.nodeHeadBgColor)||"#4a4d70"};
    --text-selection-color:#000;
    --text-selection-bgcolor:#fff;
    --connection-hover-color: ${(f==null?void 0:f.connectionHoverColor)||"rgba(81, 203, 238, 1)"};
  }
  ::-moz-selection { /* Code for Firefox */
    color: var(--text-selection-color);
    background: var(--text-selection-bgcolor);
  }

  ::selection {
    color: var(--text-selection-color);
    background: var(--text-selection-bgcolor);
  }`,sw={LinkStyle:"_LinkStyle_fc1ju_1",LineMarker:"_LineMarker_fc1ju_14",Line:"_Line_fc1ju_14",LinkCreating:"_LinkCreating_fc1ju_24"},IE=ja('<svg><defs><marker viewBox="0 0 10 10" refX="5" refY="5" markerWidth="4" markerHeight="4" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z"></path></marker></defs><path>');function NE(U,l,f,I,L,d){const u=U/2,s={x:l.x+(L?L.w:0),y:l.y+(L?L.h:0)-(I||1)*U+u},n={x:f.x-5,y:f.y+(d?0:35)};return{startPos:s,endPos:n}}function PE(U,l){const I=U.x,L=l.x,d=U.y,u=l.y,s=I+Math.abs(L-I)*.675,n=L-Math.abs(L-I)*.675;return`M ${I} ${d} C ${s} ${d} ${n} ${u} ${L} ${u}`}const RE=(U,l,f,I)=>{const L=I||U.links[l],d=U.nodes[L.from.nodeId],u=L.posTo||U.nodes[L.to].position,s=d.ports[L.from.portId].index,{startPos:n,endPos:m}=NE(f,d.position,u,s,d.size,!!I);return PE(n,m)},I8=U=>{let l,f;const[I]=rh();return gr(df,{get when(){return U.creating||I.chart.links[U.linkId].from.nodeId!==I.chart.links[U.linkId].to},get children(){const L=IE(),d=L.firstChild,u=d.firstChild,s=u.firstChild,n=d.nextSibling,m=f;typeof m=="function"?Ig(m,s):f=s;const g=l;return typeof g=="function"?Ig(g,n):l=n,qa(y=>{const k=sw.LinkStyle,E={[`${sw.LinkCreating}`]:U.creating},C=`lmark-${U.linkId}`,v=sw.LineMarker,h=`url(#lmark-${U.linkId})`,a=RE(I.chart,U.linkId,I.portOffset,U.creating?I.newLink:void 0),O=sw.Line;return k!==y._v$&&al(L,"class",y._v$=k),y._v$2=mb(L,E,y._v$2),C!==y._v$3&&al(u,"id",y._v$3=C),v!==y._v$4&&al(s,"class",y._v$4=v),h!==y._v$5&&al(n,"marker-end",y._v$5=h),a!==y._v$6&&al(n,"d",y._v$6=a),O!==y._v$7&&al(n,"class",y._v$7=O),y},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0}),L}})},DE=()=>{const[U]=rh();return gr(Ux,{get each(){return Object.keys(U.chart.links)},children:l=>gr(I8,{linkId:l})})},pf={sidenav:"_sidenav_11l7w_1",sidenavHead:"_sidenavHead_11l7w_18",sidenavOpened:"_sidenavOpened_11l7w_41",sidenavClosed:"_sidenavClosed_11l7w_45",nodesContainer:"_nodesContainer_11l7w_49",sidenavButton:"_sidenavButton_11l7w_57",btnContent:"_btnContent_11l7w_60",btnDragging:"_btnDragging_11l7w_71"},FE=ja('<div><div><a href="">&times;</a></div><div>'),zE=ja("<div><i>"),UE=(U,l)=>{var I;const f=l.getNode();U.currentTarget.classList.add(pf.btnDragging),(I=U.dataTransfer)==null||I.setData("DIAGRAM-BLOCK",JSON.stringify(f))},HE=U=>{U.currentTarget.classList.remove(pf.btnDragging)},$E=U=>{const[l,f]=rh(),I=L=>(L.preventDefault(),L.stopPropagation(),f.onToggleSidebar(),!1);return(()=>{const L=FE(),d=L.firstChild,u=d.firstChild,s=d.nextSibling;return u.$$click=I,Di(s,gr(Ux,{get each(){return U.nodes.filter(n=>!n.hide)},children:n=>gr(sl,{get classList(){return{[`${pf.sidenavButton}`]:!0}},draggable:!0,onDragStart:m=>UE(m,n),onDragEnd:HE,get children(){const m=zE(),g=m.firstChild;return Di(m,()=>n.title,null),qa(y=>{const k=pf.btnContent,E=n.icon;return k!==y._v$6&&Ya(m,y._v$6=k),E!==y._v$7&&Ya(g,y._v$7=E),y},{_v$6:void 0,_v$7:void 0}),m}})})),qa(n=>{const m=pf.sidenav,g={[`${pf.sidenavOpened}`]:l.sidebar,[`${pf.sidenavClosed}`]:!l.sidebar},y=pf.sidenavHead,k=pf.closebtn,E=pf.nodesContainer;return m!==n._v$&&Ya(L,n._v$=m),n._v$2=mb(L,g,n._v$2),y!==n._v$3&&Ya(d,n._v$3=y),k!==n._v$4&&Ya(u,n._v$4=k),E!==n._v$5&&Ya(s,n._v$5=E),n},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),L})()};gb(["click"]);const O4={EditorHtmlModal:"_EditorHtmlModal_sbscc_1",invalidTitle:"_invalidTitle_sbscc_6",titleEdit:"_titleEdit_sbscc_11"},qE=ja('<div class="node-content-editor">'),YE=ja('<input type="text">'),VE={width:"100%",cursor:"unset",outline:"none"},WE=()=>{let U;const[l,f]=rh(),[I,L]=wp(!1),[d,u]=wp(""),s=()=>{U&&(U.destroy(),U=void 0)};z0(()=>{l.editNodeContent&&!U&&(U=new p8({placeholder:"Please, add some content to this node!!",holder:`${l.editNodeContent}_editing`,tools:T4,onReady:()=>{l.editNodeContent&&(u(l.chart.nodes[l.editNodeContent].title),A4(`${l.editNodeContent}_editing`,jC(l.chart))),L(!0)},data:l.chart.nodes[l.editNodeContent].content}))}),hf(()=>{s()});const n=()=>Ei(this,null,function*(){if(!d())return;const g=yield U==null?void 0:U.save(),y=dd(ks({},l.chart.nodes[l.editNodeContent]),{content:g,title:d()});s(),f.onToggleEditNodeContent(void 0),f.onNodeChanged(y.id,y)}),m=()=>{s(),f.onToggleEditNodeContent(void 0)};return gr(df,{get when(){return!!l.editNodeContent},get children(){return gr(G3,{open:!0,closeOnEsc:!1,onClose:m,width:"500px",get classList(){return{[`${O4.EditorHtmlModal}`]:!0,"flowchart-node-content":!0}},children:g=>gr(X3,{get children(){return[gr(Z3,{get children(){return[gc(()=>gc(()=>!!I())()?(()=>{const y=YE();return y.addEventListener("change",k=>u(k.target.value)),qa(k=>mb(y,{[`${O4.invalidTitle}`]:!d(),[`${O4.titleEdit}`]:!0},k)),qa(()=>y.value=d()),y})():"Initializing node content editor...."),gr(sl,{variant:"icon",get onclick(){return g.toggle},style:{float:"right"},children:"✕"})]}}),gr(K3,{get children(){const y=qE();return yb(y,VE),qa(()=>al(y,"id",`${l.editNodeContent}_editing`)),y}}),gr(J3,{get children(){return[gr(sl,{variant:"secondary",get onclick(){return g.toggle},children:"Cancel"}),gr(sl,{variant:"primary",onclick:n,children:"Confirm"})]}})]}})})}})};var N8={exports:{}};/*! For license information please see jsoneditor.js.LICENSE.txt */(function(U,l){(function(f,I){U.exports=I()})(self,()=>(()=>{var f={9662:(u,s,n)=>{var m=n(614),g=n(6330),y=TypeError;u.exports=function(k){if(m(k))return k;throw y(g(k)+" is not a function")}},9483:(u,s,n)=>{var m=n(4411),g=n(6330),y=TypeError;u.exports=function(k){if(m(k))return k;throw y(g(k)+" is not a constructor")}},6077:(u,s,n)=>{var m=n(614),g=String,y=TypeError;u.exports=function(k){if(typeof k=="object"||m(k))return k;throw y("Can't set "+g(k)+" as a prototype")}},1223:(u,s,n)=>{var m=n(5112),g=n(30),y=n(3070).f,k=m("unscopables"),E=Array.prototype;E[k]==null&&y(E,k,{configurable:!0,value:g(null)}),u.exports=function(C){E[k][C]=!0}},1530:(u,s,n)=>{var m=n(8710).charAt;u.exports=function(g,y,k){return y+(k?m(g,y).length:1)}},5787:(u,s,n)=>{var m=n(7976),g=TypeError;u.exports=function(y,k){if(m(k,y))return y;throw g("Incorrect invocation")}},9670:(u,s,n)=>{var m=n(111),g=String,y=TypeError;u.exports=function(k){if(m(k))return k;throw y(g(k)+" is not an object")}},8533:(u,s,n)=>{var m=n(2092).forEach,g=n(9341)("forEach");u.exports=g?[].forEach:function(y){return m(this,y,arguments.length>1?arguments[1]:void 0)}},8457:(u,s,n)=>{var m=n(9974),g=n(6916),y=n(7908),k=n(3411),E=n(7659),C=n(4411),v=n(6244),h=n(6135),a=n(4121),O=n(1246),_=Array;u.exports=function(M){var P=y(M),R=C(this),$=arguments.length,F=$>1?arguments[1]:void 0,j=F!==void 0;j&&(F=m(F,$>2?arguments[2]:void 0));var X,W,V,K,st,it,pt=O(P),ct=0;if(!pt||this===_&&E(pt))for(X=v(P),W=R?new this(X):_(X);X>ct;ct++)it=j?F(P[ct],ct):P[ct],h(W,ct,it);else for(st=(K=a(P,pt)).next,W=R?new this:[];!(V=g(st,K)).done;ct++)it=j?k(K,F,[V.value,ct],!0):V.value,h(W,ct,it);return W.length=ct,W}},1318:(u,s,n)=>{var m=n(5656),g=n(1400),y=n(6244),k=function(E){return function(C,v,h){var a,O=m(C),_=y(O),M=g(h,_);if(E&&v!=v){for(;_>M;)if((a=O[M++])!=a)return!0}else for(;_>M;M++)if((E||M in O)&&O[M]===v)return E||M||0;return!E&&-1}};u.exports={includes:k(!0),indexOf:k(!1)}},2092:(u,s,n)=>{var m=n(9974),g=n(1702),y=n(8361),k=n(7908),E=n(6244),C=n(5417),v=g([].push),h=function(a){var O=a==1,_=a==2,M=a==3,P=a==4,R=a==6,$=a==7,F=a==5||R;return function(j,X,W,V){for(var K,st,it=k(j),pt=y(it),ct=m(X,W),lt=E(pt),J=0,Bt=V||C,Tt=O?Bt(j,lt):_||$?Bt(j,0):void 0;lt>J;J++)if((F||J in pt)&&(st=ct(K=pt[J],J,it),a))if(O)Tt[J]=st;else if(st)switch(a){case 3:return!0;case 5:return K;case 6:return J;case 2:v(Tt,K)}else switch(a){case 4:return!1;case 7:v(Tt,K)}return R?-1:M||P?P:Tt}};u.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6),filterReject:h(7)}},1194:(u,s,n)=>{var m=n(7293),g=n(5112),y=n(7392),k=g("species");u.exports=function(E){return y>=51||!m(function(){var C=[];return(C.constructor={})[k]=function(){return{foo:1}},C[E](Boolean).foo!==1})}},9341:(u,s,n)=>{var m=n(7293);u.exports=function(g,y){var k=[][g];return!!k&&m(function(){k.call(null,y||function(){return 1},1)})}},3671:(u,s,n)=>{var m=n(9662),g=n(7908),y=n(8361),k=n(6244),E=TypeError,C=function(v){return function(h,a,O,_){m(a);var M=g(h),P=y(M),R=k(M),$=v?R-1:0,F=v?-1:1;if(O<2)for(;;){if($ in P){_=P[$],$+=F;break}if($+=F,v?$<0:R<=$)throw E("Reduce of empty array with no initial value")}for(;v?$>=0:R>$;$+=F)$ in P&&(_=a(_,P[$],$,M));return _}};u.exports={left:C(!1),right:C(!0)}},3658:(u,s,n)=>{var m=n(9781),g=n(3157),y=TypeError,k=Object.getOwnPropertyDescriptor,E=m&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(C){return C instanceof TypeError}}();u.exports=E?function(C,v){if(g(C)&&!k(C,"length").writable)throw y("Cannot set read only .length");return C.length=v}:function(C,v){return C.length=v}},1589:(u,s,n)=>{var m=n(1400),g=n(6244),y=n(6135),k=Array,E=Math.max;u.exports=function(C,v,h){for(var a=g(C),O=m(v,a),_=m(h===void 0?a:h,a),M=k(E(_-O,0)),P=0;O<_;O++,P++)y(M,P,C[O]);return M.length=P,M}},206:(u,s,n)=>{var m=n(1702);u.exports=m([].slice)},4362:(u,s,n)=>{var m=n(1589),g=Math.floor,y=function(C,v){var h=C.length,a=g(h/2);return h<8?k(C,v):E(C,y(m(C,0,a),v),y(m(C,a),v),v)},k=function(C,v){for(var h,a,O=C.length,_=1;_<O;){for(a=_,h=C[_];a&&v(C[a-1],h)>0;)C[a]=C[--a];a!==_++&&(C[a]=h)}return C},E=function(C,v,h,a){for(var O=v.length,_=h.length,M=0,P=0;M<O||P<_;)C[M+P]=M<O&&P<_?a(v[M],h[P])<=0?v[M++]:h[P++]:M<O?v[M++]:h[P++];return C};u.exports=y},7475:(u,s,n)=>{var m=n(3157),g=n(4411),y=n(111),k=n(5112)("species"),E=Array;u.exports=function(C){var v;return m(C)&&(v=C.constructor,(g(v)&&(v===E||m(v.prototype))||y(v)&&(v=v[k])===null)&&(v=void 0)),v===void 0?E:v}},5417:(u,s,n)=>{var m=n(7475);u.exports=function(g,y){return new(m(g))(y===0?0:y)}},3411:(u,s,n)=>{var m=n(9670),g=n(9212);u.exports=function(y,k,E,C){try{return C?k(m(E)[0],E[1]):k(E)}catch(v){g(y,"throw",v)}}},7072:(u,s,n)=>{var m=n(5112)("iterator"),g=!1;try{var y=0,k={next:function(){return{done:!!y++}},return:function(){g=!0}};k[m]=function(){return this},Array.from(k,function(){throw 2})}catch(E){}u.exports=function(E,C){if(!C&&!g)return!1;var v=!1;try{var h={};h[m]=function(){return{next:function(){return{done:v=!0}}}},E(h)}catch(a){}return v}},4326:(u,s,n)=>{var m=n(1702),g=m({}.toString),y=m("".slice);u.exports=function(k){return y(g(k),8,-1)}},648:(u,s,n)=>{var m=n(1694),g=n(614),y=n(4326),k=n(5112)("toStringTag"),E=Object,C=y(function(){return arguments}())=="Arguments";u.exports=m?y:function(v){var h,a,O;return v===void 0?"Undefined":v===null?"Null":typeof(a=function(_,M){try{return _[M]}catch(P){}}(h=E(v),k))=="string"?a:C?y(h):(O=y(h))=="Object"&&g(h.callee)?"Arguments":O}},9920:(u,s,n)=>{var m=n(2597),g=n(3887),y=n(1236),k=n(3070);u.exports=function(E,C,v){for(var h=g(C),a=k.f,O=y.f,_=0;_<h.length;_++){var M=h[_];m(E,M)||v&&m(v,M)||a(E,M,O(C,M))}}},4964:(u,s,n)=>{var m=n(5112)("match");u.exports=function(g){var y=/./;try{"/./"[g](y)}catch(k){try{return y[m]=!1,"/./"[g](y)}catch(E){}}return!1}},8544:(u,s,n)=>{var m=n(7293);u.exports=!m(function(){function g(){}return g.prototype.constructor=null,Object.getPrototypeOf(new g)!==g.prototype})},6178:u=>{u.exports=function(s,n){return{value:s,done:n}}},8880:(u,s,n)=>{var m=n(9781),g=n(3070),y=n(9114);u.exports=m?function(k,E,C){return g.f(k,E,y(1,C))}:function(k,E,C){return k[E]=C,k}},9114:u=>{u.exports=function(s,n){return{enumerable:!(1&s),configurable:!(2&s),writable:!(4&s),value:n}}},6135:(u,s,n)=>{var m=n(4948),g=n(3070),y=n(9114);u.exports=function(k,E,C){var v=m(E);v in k?g.f(k,v,y(0,C)):k[v]=C}},5573:(u,s,n)=>{var m=n(1702),g=n(7293),y=n(6650).start,k=RangeError,E=isFinite,C=Math.abs,v=Date.prototype,h=v.toISOString,a=m(v.getTime),O=m(v.getUTCDate),_=m(v.getUTCFullYear),M=m(v.getUTCHours),P=m(v.getUTCMilliseconds),R=m(v.getUTCMinutes),$=m(v.getUTCMonth),F=m(v.getUTCSeconds);u.exports=g(function(){return h.call(new Date(-50000000000001))!="0385-07-25T07:06:39.999Z"})||!g(function(){h.call(new Date(NaN))})?function(){if(!E(a(this)))throw k("Invalid time value");var j=this,X=_(j),W=P(j),V=X<0?"-":X>9999?"+":"";return V+y(C(X),V?6:4,0)+"-"+y($(j)+1,2,0)+"-"+y(O(j),2,0)+"T"+y(M(j),2,0)+":"+y(R(j),2,0)+":"+y(F(j),2,0)+"."+y(W,3,0)+"Z"}:h},8709:(u,s,n)=>{var m=n(9670),g=n(2140),y=TypeError;u.exports=function(k){if(m(this),k==="string"||k==="default")k="string";else if(k!=="number")throw y("Incorrect hint");return g(this,k)}},7045:(u,s,n)=>{var m=n(6339),g=n(3070);u.exports=function(y,k,E){return E.get&&m(E.get,k,{getter:!0}),E.set&&m(E.set,k,{setter:!0}),g.f(y,k,E)}},8052:(u,s,n)=>{var m=n(614),g=n(3070),y=n(6339),k=n(3072);u.exports=function(E,C,v,h){h||(h={});var a=h.enumerable,O=h.name!==void 0?h.name:C;if(m(v)&&y(v,O,h),h.global)a?E[C]=v:k(C,v);else{try{h.unsafe?E[C]&&(a=!0):delete E[C]}catch(_){}a?E[C]=v:g.f(E,C,{value:v,enumerable:!1,configurable:!h.nonConfigurable,writable:!h.nonWritable})}return E}},3072:(u,s,n)=>{var m=n(7854),g=Object.defineProperty;u.exports=function(y,k){try{g(m,y,{value:k,configurable:!0,writable:!0})}catch(E){m[y]=k}return k}},5117:(u,s,n)=>{var m=n(6330),g=TypeError;u.exports=function(y,k){if(!delete y[k])throw g("Cannot delete property "+m(k)+" of "+m(y))}},9781:(u,s,n)=>{var m=n(7293);u.exports=!m(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},4154:u=>{var s=typeof document=="object"&&document.all,n=s===void 0&&s!==void 0;u.exports={all:s,IS_HTMLDDA:n}},317:(u,s,n)=>{var m=n(7854),g=n(111),y=m.document,k=g(y)&&g(y.createElement);u.exports=function(E){return k?y.createElement(E):{}}},7207:u=>{var s=TypeError;u.exports=function(n){if(n>9007199254740991)throw s("Maximum allowed index exceeded");return n}},8324:u=>{u.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:(u,s,n)=>{var m=n(317)("span").classList,g=m&&m.constructor&&m.constructor.prototype;u.exports=g===Object.prototype?void 0:g},8886:(u,s,n)=>{var m=n(8113).match(/firefox\/(\d+)/i);u.exports=!!m&&+m[1]},7871:(u,s,n)=>{var m=n(3823),g=n(5268);u.exports=!m&&!g&&typeof window=="object"&&typeof document=="object"},9363:u=>{u.exports=typeof Bun=="function"&&Bun&&typeof Bun.version=="string"},3823:u=>{u.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},256:(u,s,n)=>{var m=n(8113);u.exports=/MSIE|Trident/.test(m)},1528:(u,s,n)=>{var m=n(8113);u.exports=/ipad|iphone|ipod/i.test(m)&&typeof Pebble!="undefined"},8334:(u,s,n)=>{var m=n(8113);u.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(m)},5268:(u,s,n)=>{var m=n(4326);u.exports=typeof process!="undefined"&&m(process)=="process"},1036:(u,s,n)=>{var m=n(8113);u.exports=/web0s(?!.*chrome)/i.test(m)},8113:u=>{u.exports=typeof navigator!="undefined"&&String(navigator.userAgent)||""},7392:(u,s,n)=>{var m,g,y=n(7854),k=n(8113),E=y.process,C=y.Deno,v=E&&E.versions||C&&C.version,h=v&&v.v8;h&&(g=(m=h.split("."))[0]>0&&m[0]<4?1:+(m[0]+m[1])),!g&&k&&(!(m=k.match(/Edge\/(\d+)/))||m[1]>=74)&&(m=k.match(/Chrome\/(\d+)/))&&(g=+m[1]),u.exports=g},8008:(u,s,n)=>{var m=n(8113).match(/AppleWebKit\/(\d+)\./);u.exports=!!m&&+m[1]},748:u=>{u.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(u,s,n)=>{var m=n(7854),g=n(1236).f,y=n(8880),k=n(8052),E=n(3072),C=n(9920),v=n(4705);u.exports=function(h,a){var O,_,M,P,R,$=h.target,F=h.global,j=h.stat;if(O=F?m:j?m[$]||E($,{}):(m[$]||{}).prototype)for(_ in a){if(P=a[_],M=h.dontCallGetSet?(R=g(O,_))&&R.value:O[_],!v(F?_:$+(j?".":"#")+_,h.forced)&&M!==void 0){if(typeof P==typeof M)continue;C(P,M)}(h.sham||M&&M.sham)&&y(P,"sham",!0),k(O,_,P,h)}}},7293:u=>{u.exports=function(s){try{return!!s()}catch(n){return!0}}},7007:(u,s,n)=>{n(4916);var m=n(1470),g=n(8052),y=n(2261),k=n(7293),E=n(5112),C=n(8880),v=E("species"),h=RegExp.prototype;u.exports=function(a,O,_,M){var P=E(a),R=!k(function(){var X={};return X[P]=function(){return 7},""[a](X)!=7}),$=R&&!k(function(){var X=!1,W=/a/;return a==="split"&&((W={}).constructor={},W.constructor[v]=function(){return W},W.flags="",W[P]=/./[P]),W.exec=function(){return X=!0,null},W[P](""),!X});if(!R||!$||_){var F=m(/./[P]),j=O(P,""[a],function(X,W,V,K,st){var it=m(X),pt=W.exec;return pt===y||pt===h.exec?R&&!st?{done:!0,value:F(W,V,K)}:{done:!0,value:it(V,W,K)}:{done:!1}});g(String.prototype,a,j[0]),g(h,P,j[1])}M&&C(h[P],"sham",!0)}},2104:(u,s,n)=>{var m=n(4374),g=Function.prototype,y=g.apply,k=g.call;u.exports=typeof Reflect=="object"&&Reflect.apply||(m?k.bind(y):function(){return k.apply(y,arguments)})},9974:(u,s,n)=>{var m=n(1470),g=n(9662),y=n(4374),k=m(m.bind);u.exports=function(E,C){return g(E),C===void 0?E:y?k(E,C):function(){return E.apply(C,arguments)}}},4374:(u,s,n)=>{var m=n(7293);u.exports=!m(function(){var g=function(){}.bind();return typeof g!="function"||g.hasOwnProperty("prototype")})},7065:(u,s,n)=>{var m=n(1702),g=n(9662),y=n(111),k=n(2597),E=n(206),C=n(4374),v=Function,h=m([].concat),a=m([].join),O={},_=function(M,P,R){if(!k(O,P)){for(var $=[],F=0;F<P;F++)$[F]="a["+F+"]";O[P]=v("C,a","return new C("+a($,",")+")")}return O[P](M,R)};u.exports=C?v.bind:function(M){var P=g(this),R=P.prototype,$=E(arguments,1),F=function(){var j=h($,E(arguments));return this instanceof F?_(P,j.length,j):P.apply(M,j)};return y(R)&&(F.prototype=R),F}},6916:(u,s,n)=>{var m=n(4374),g=Function.prototype.call;u.exports=m?g.bind(g):function(){return g.apply(g,arguments)}},6530:(u,s,n)=>{var m=n(9781),g=n(2597),y=Function.prototype,k=m&&Object.getOwnPropertyDescriptor,E=g(y,"name"),C=E&&function(){}.name==="something",v=E&&(!m||m&&k(y,"name").configurable);u.exports={EXISTS:E,PROPER:C,CONFIGURABLE:v}},5668:(u,s,n)=>{var m=n(1702),g=n(9662);u.exports=function(y,k,E){try{return m(g(Object.getOwnPropertyDescriptor(y,k)[E]))}catch(C){}}},1470:(u,s,n)=>{var m=n(4326),g=n(1702);u.exports=function(y){if(m(y)==="Function")return g(y)}},1702:(u,s,n)=>{var m=n(4374),g=Function.prototype,y=g.call,k=m&&g.bind.bind(y,y);u.exports=m?k:function(E){return function(){return y.apply(E,arguments)}}},5005:(u,s,n)=>{var m=n(7854),g=n(614),y=function(k){return g(k)?k:void 0};u.exports=function(k,E){return arguments.length<2?y(m[k]):m[k]&&m[k][E]}},1246:(u,s,n)=>{var m=n(648),g=n(8173),y=n(8554),k=n(7497),E=n(5112)("iterator");u.exports=function(C){if(!y(C))return g(C,E)||g(C,"@@iterator")||k[m(C)]}},4121:(u,s,n)=>{var m=n(6916),g=n(9662),y=n(9670),k=n(6330),E=n(1246),C=TypeError;u.exports=function(v,h){var a=arguments.length<2?E(v):h;if(g(a))return y(m(a,v));throw C(k(v)+" is not iterable")}},8044:(u,s,n)=>{var m=n(1702),g=n(3157),y=n(614),k=n(4326),E=n(1340),C=m([].push);u.exports=function(v){if(y(v))return v;if(g(v)){for(var h=v.length,a=[],O=0;O<h;O++){var _=v[O];typeof _=="string"?C(a,_):typeof _!="number"&&k(_)!="Number"&&k(_)!="String"||C(a,E(_))}var M=a.length,P=!0;return function(R,$){if(P)return P=!1,$;if(g(this))return $;for(var F=0;F<M;F++)if(a[F]===R)return $}}}},8173:(u,s,n)=>{var m=n(9662),g=n(8554);u.exports=function(y,k){var E=y[k];return g(E)?void 0:m(E)}},647:(u,s,n)=>{var m=n(1702),g=n(7908),y=Math.floor,k=m("".charAt),E=m("".replace),C=m("".slice),v=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,h=/\$([$&'`]|\d{1,2})/g;u.exports=function(a,O,_,M,P,R){var $=_+a.length,F=M.length,j=h;return P!==void 0&&(P=g(P),j=v),E(R,j,function(X,W){var V;switch(k(W,0)){case"$":return"$";case"&":return a;case"`":return C(O,0,_);case"'":return C(O,$);case"<":V=P[C(W,1,-1)];break;default:var K=+W;if(K===0)return X;if(K>F){var st=y(K/10);return st===0?X:st<=F?M[st-1]===void 0?k(W,1):M[st-1]+k(W,1):X}V=M[K-1]}return V===void 0?"":V})}},7854:(u,s,n)=>{var m=function(g){return g&&g.Math==Math&&g};u.exports=m(typeof globalThis=="object"&&globalThis)||m(typeof window=="object"&&window)||m(typeof self=="object"&&self)||m(typeof n.g=="object"&&n.g)||function(){return this}()||Function("return this")()},2597:(u,s,n)=>{var m=n(1702),g=n(7908),y=m({}.hasOwnProperty);u.exports=Object.hasOwn||function(k,E){return y(g(k),E)}},3501:u=>{u.exports={}},842:u=>{u.exports=function(s,n){try{arguments.length==1?console.error(s):console.error(s,n)}catch(m){}}},490:(u,s,n)=>{var m=n(5005);u.exports=m("document","documentElement")},4664:(u,s,n)=>{var m=n(9781),g=n(7293),y=n(317);u.exports=!m&&!g(function(){return Object.defineProperty(y("div"),"a",{get:function(){return 7}}).a!=7})},8361:(u,s,n)=>{var m=n(1702),g=n(7293),y=n(4326),k=Object,E=m("".split);u.exports=g(function(){return!k("z").propertyIsEnumerable(0)})?function(C){return y(C)=="String"?E(C,""):k(C)}:k},9587:(u,s,n)=>{var m=n(614),g=n(111),y=n(7674);u.exports=function(k,E,C){var v,h;return y&&m(v=E.constructor)&&v!==C&&g(h=v.prototype)&&h!==C.prototype&&y(k,h),k}},2788:(u,s,n)=>{var m=n(1702),g=n(614),y=n(5465),k=m(Function.toString);g(y.inspectSource)||(y.inspectSource=function(E){return k(E)}),u.exports=y.inspectSource},9909:(u,s,n)=>{var m,g,y,k=n(4811),E=n(7854),C=n(111),v=n(8880),h=n(2597),a=n(5465),O=n(6200),_=n(3501),M="Object already initialized",P=E.TypeError,R=E.WeakMap;if(k||a.state){var $=a.state||(a.state=new R);$.get=$.get,$.has=$.has,$.set=$.set,m=function(j,X){if($.has(j))throw P(M);return X.facade=j,$.set(j,X),X},g=function(j){return $.get(j)||{}},y=function(j){return $.has(j)}}else{var F=O("state");_[F]=!0,m=function(j,X){if(h(j,F))throw P(M);return X.facade=j,v(j,F,X),X},g=function(j){return h(j,F)?j[F]:{}},y=function(j){return h(j,F)}}u.exports={set:m,get:g,has:y,enforce:function(j){return y(j)?g(j):m(j,{})},getterFor:function(j){return function(X){var W;if(!C(X)||(W=g(X)).type!==j)throw P("Incompatible receiver, "+j+" required");return W}}}},7659:(u,s,n)=>{var m=n(5112),g=n(7497),y=m("iterator"),k=Array.prototype;u.exports=function(E){return E!==void 0&&(g.Array===E||k[y]===E)}},3157:(u,s,n)=>{var m=n(4326);u.exports=Array.isArray||function(g){return m(g)=="Array"}},614:(u,s,n)=>{var m=n(4154),g=m.all;u.exports=m.IS_HTMLDDA?function(y){return typeof y=="function"||y===g}:function(y){return typeof y=="function"}},4411:(u,s,n)=>{var m=n(1702),g=n(7293),y=n(614),k=n(648),E=n(5005),C=n(2788),v=function(){},h=[],a=E("Reflect","construct"),O=/^\s*(?:class|function)\b/,_=m(O.exec),M=!O.exec(v),P=function($){if(!y($))return!1;try{return a(v,h,$),!0}catch(F){return!1}},R=function($){if(!y($))return!1;switch(k($)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return M||!!_(O,C($))}catch(F){return!0}};R.sham=!0,u.exports=!a||g(function(){var $;return P(P.call)||!P(Object)||!P(function(){$=!0})||$})?R:P},5032:(u,s,n)=>{var m=n(2597);u.exports=function(g){return g!==void 0&&(m(g,"value")||m(g,"writable"))}},4705:(u,s,n)=>{var m=n(7293),g=n(614),y=/#|\.prototype\./,k=function(a,O){var _=C[E(a)];return _==h||_!=v&&(g(O)?m(O):!!O)},E=k.normalize=function(a){return String(a).replace(y,".").toLowerCase()},C=k.data={},v=k.NATIVE="N",h=k.POLYFILL="P";u.exports=k},8554:u=>{u.exports=function(s){return s==null}},111:(u,s,n)=>{var m=n(614),g=n(4154),y=g.all;u.exports=g.IS_HTMLDDA?function(k){return typeof k=="object"?k!==null:m(k)||k===y}:function(k){return typeof k=="object"?k!==null:m(k)}},1913:u=>{u.exports=!1},7850:(u,s,n)=>{var m=n(111),g=n(4326),y=n(5112)("match");u.exports=function(k){var E;return m(k)&&((E=k[y])!==void 0?!!E:g(k)=="RegExp")}},2190:(u,s,n)=>{var m=n(5005),g=n(614),y=n(7976),k=n(3307),E=Object;u.exports=k?function(C){return typeof C=="symbol"}:function(C){var v=m("Symbol");return g(v)&&y(v.prototype,E(C))}},408:(u,s,n)=>{var m=n(9974),g=n(6916),y=n(9670),k=n(6330),E=n(7659),C=n(6244),v=n(7976),h=n(4121),a=n(1246),O=n(9212),_=TypeError,M=function(R,$){this.stopped=R,this.result=$},P=M.prototype;u.exports=function(R,$,F){var j,X,W,V,K,st,it,pt=F&&F.that,ct=!(!F||!F.AS_ENTRIES),lt=!(!F||!F.IS_RECORD),J=!(!F||!F.IS_ITERATOR),Bt=!(!F||!F.INTERRUPTED),Tt=m($,pt),Ct=function(at){return j&&O(j,"normal",at),new M(!0,at)},St=function(at){return ct?(y(at),Bt?Tt(at[0],at[1],Ct):Tt(at[0],at[1])):Bt?Tt(at,Ct):Tt(at)};if(lt)j=R.iterator;else if(J)j=R;else{if(!(X=a(R)))throw _(k(R)+" is not iterable");if(E(X)){for(W=0,V=C(R);V>W;W++)if((K=St(R[W]))&&v(P,K))return K;return new M(!1)}j=h(R,X)}for(st=lt?R.next:j.next;!(it=g(st,j)).done;){try{K=St(it.value)}catch(at){O(j,"throw",at)}if(typeof K=="object"&&K&&v(P,K))return K}return new M(!1)}},9212:(u,s,n)=>{var m=n(6916),g=n(9670),y=n(8173);u.exports=function(k,E,C){var v,h;g(k);try{if(!(v=y(k,"return"))){if(E==="throw")throw C;return C}v=m(v,k)}catch(a){h=!0,v=a}if(E==="throw")throw C;if(h)throw v;return g(v),C}},3061:(u,s,n)=>{var m=n(3383).IteratorPrototype,g=n(30),y=n(9114),k=n(8003),E=n(7497),C=function(){return this};u.exports=function(v,h,a,O){var _=h+" Iterator";return v.prototype=g(m,{next:y(+!O,a)}),k(v,_,!1,!0),E[_]=C,v}},1656:(u,s,n)=>{var m=n(2109),g=n(6916),y=n(1913),k=n(6530),E=n(614),C=n(3061),v=n(9518),h=n(7674),a=n(8003),O=n(8880),_=n(8052),M=n(5112),P=n(7497),R=n(3383),$=k.PROPER,F=k.CONFIGURABLE,j=R.IteratorPrototype,X=R.BUGGY_SAFARI_ITERATORS,W=M("iterator"),V="keys",K="values",st="entries",it=function(){return this};u.exports=function(pt,ct,lt,J,Bt,Tt,Ct){C(lt,ct,J);var St,at,yt,kt=function(Kt){if(Kt===Bt&&ne)return ne;if(!X&&Kt in mt)return mt[Kt];switch(Kt){case V:case K:case st:return function(){return new lt(this,Kt)}}return function(){return new lt(this)}},xt=ct+" Iterator",Pt=!1,mt=pt.prototype,Yt=mt[W]||mt["@@iterator"]||Bt&&mt[Bt],ne=!X&&Yt||kt(Bt),Qt=ct=="Array"&&mt.entries||Yt;if(Qt&&(St=v(Qt.call(new pt)))!==Object.prototype&&St.next&&(y||v(St)===j||(h?h(St,j):E(St[W])||_(St,W,it)),a(St,xt,!0,!0),y&&(P[xt]=it)),$&&Bt==K&&Yt&&Yt.name!==K&&(!y&&F?O(mt,"name",K):(Pt=!0,ne=function(){return g(Yt,this)})),Bt)if(at={values:kt(K),keys:Tt?ne:kt(V),entries:kt(st)},Ct)for(yt in at)(X||Pt||!(yt in mt))&&_(mt,yt,at[yt]);else m({target:ct,proto:!0,forced:X||Pt},at);return y&&!Ct||mt[W]===ne||_(mt,W,ne,{name:Bt}),P[ct]=ne,at}},3383:(u,s,n)=>{var m,g,y,k=n(7293),E=n(614),C=n(111),v=n(30),h=n(9518),a=n(8052),O=n(5112),_=n(1913),M=O("iterator"),P=!1;[].keys&&("next"in(y=[].keys())?(g=h(h(y)))!==Object.prototype&&(m=g):P=!0),!C(m)||k(function(){var R={};return m[M].call(R)!==R})?m={}:_&&(m=v(m)),E(m[M])||a(m,M,function(){return this}),u.exports={IteratorPrototype:m,BUGGY_SAFARI_ITERATORS:P}},7497:u=>{u.exports={}},6244:(u,s,n)=>{var m=n(7466);u.exports=function(g){return m(g.length)}},6339:(u,s,n)=>{var m=n(1702),g=n(7293),y=n(614),k=n(2597),E=n(9781),C=n(6530).CONFIGURABLE,v=n(2788),h=n(9909),a=h.enforce,O=h.get,_=String,M=Object.defineProperty,P=m("".slice),R=m("".replace),$=m([].join),F=E&&!g(function(){return M(function(){},"length",{value:8}).length!==8}),j=String(String).split("String"),X=u.exports=function(W,V,K){P(_(V),0,7)==="Symbol("&&(V="["+R(_(V),/^Symbol\(([^)]*)\)/,"$1")+"]"),K&&K.getter&&(V="get "+V),K&&K.setter&&(V="set "+V),(!k(W,"name")||C&&W.name!==V)&&(E?M(W,"name",{value:V,configurable:!0}):W.name=V),F&&K&&k(K,"arity")&&W.length!==K.arity&&M(W,"length",{value:K.arity});try{K&&k(K,"constructor")&&K.constructor?E&&M(W,"prototype",{writable:!1}):W.prototype&&(W.prototype=void 0)}catch(it){}var st=a(W);return k(st,"source")||(st.source=$(j,typeof V=="string"?V:"")),W};Function.prototype.toString=X(function(){return y(this)&&O(this).source||v(this)},"toString")},4758:u=>{var s=Math.ceil,n=Math.floor;u.exports=Math.trunc||function(m){var g=+m;return(g>0?n:s)(g)}},5948:(u,s,n)=>{var m,g,y,k,E,C=n(7854),v=n(9974),h=n(1236).f,a=n(261).set,O=n(8572),_=n(8334),M=n(1528),P=n(1036),R=n(5268),$=C.MutationObserver||C.WebKitMutationObserver,F=C.document,j=C.process,X=C.Promise,W=h(C,"queueMicrotask"),V=W&&W.value;if(!V){var K=new O,st=function(){var it,pt;for(R&&(it=j.domain)&&it.exit();pt=K.get();)try{pt()}catch(ct){throw K.head&&m(),ct}it&&it.enter()};_||R||P||!$||!F?!M&&X&&X.resolve?((k=X.resolve(void 0)).constructor=X,E=v(k.then,k),m=function(){E(st)}):R?m=function(){j.nextTick(st)}:(a=v(a,C),m=function(){a(st)}):(g=!0,y=F.createTextNode(""),new $(st).observe(y,{characterData:!0}),m=function(){y.data=g=!g}),V=function(it){K.head||m(),K.add(it)}}u.exports=V},8523:(u,s,n)=>{var m=n(9662),g=TypeError,y=function(k){var E,C;this.promise=new k(function(v,h){if(E!==void 0||C!==void 0)throw g("Bad Promise constructor");E=v,C=h}),this.resolve=m(E),this.reject=m(C)};u.exports.f=function(k){return new y(k)}},3929:(u,s,n)=>{var m=n(7850),g=TypeError;u.exports=function(y){if(m(y))throw g("The method doesn't accept regular expressions");return y}},2814:(u,s,n)=>{var m=n(7854),g=n(7293),y=n(1702),k=n(1340),E=n(3111).trim,C=n(1361),v=y("".charAt),h=m.parseFloat,a=m.Symbol,O=a&&a.iterator,_=1/h(C+"-0")!=-1/0||O&&!g(function(){h(Object(O))});u.exports=_?function(M){var P=E(k(M)),R=h(P);return R===0&&v(P,0)=="-"?-0:R}:h},3009:(u,s,n)=>{var m=n(7854),g=n(7293),y=n(1702),k=n(1340),E=n(3111).trim,C=n(1361),v=m.parseInt,h=m.Symbol,a=h&&h.iterator,O=/^[+-]?0x/i,_=y(O.exec),M=v(C+"08")!==8||v(C+"0x16")!==22||a&&!g(function(){v(Object(a))});u.exports=M?function(P,R){var $=E(k(P));return v($,R>>>0||(_(O,$)?16:10))}:v},1574:(u,s,n)=>{var m=n(9781),g=n(1702),y=n(6916),k=n(7293),E=n(1956),C=n(5181),v=n(5296),h=n(7908),a=n(8361),O=Object.assign,_=Object.defineProperty,M=g([].concat);u.exports=!O||k(function(){if(m&&O({b:1},O(_({},"a",{enumerable:!0,get:function(){_(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var P={},R={},$=Symbol(),F="abcdefghijklmnopqrst";return P[$]=7,F.split("").forEach(function(j){R[j]=j}),O({},P)[$]!=7||E(O({},R)).join("")!=F})?function(P,R){for(var $=h(P),F=arguments.length,j=1,X=C.f,W=v.f;F>j;)for(var V,K=a(arguments[j++]),st=X?M(E(K),X(K)):E(K),it=st.length,pt=0;it>pt;)V=st[pt++],m&&!y(W,K,V)||($[V]=K[V]);return $}:O},30:(u,s,n)=>{var m,g=n(9670),y=n(6048),k=n(748),E=n(3501),C=n(490),v=n(317),h=n(6200),a="prototype",O="script",_=h("IE_PROTO"),M=function(){},P=function(F){return"<"+O+">"+F+"</"+O+">"},R=function(F){F.write(P("")),F.close();var j=F.parentWindow.Object;return F=null,j},$=function(){try{m=new ActiveXObject("htmlfile")}catch(V){}var F,j,X;$=typeof document!="undefined"?document.domain&&m?R(m):(j=v("iframe"),X="java"+O+":",j.style.display="none",C.appendChild(j),j.src=String(X),(F=j.contentWindow.document).open(),F.write(P("document.F=Object")),F.close(),F.F):R(m);for(var W=k.length;W--;)delete $[a][k[W]];return $()};E[_]=!0,u.exports=Object.create||function(F,j){var X;return F!==null?(M[a]=g(F),X=new M,M[a]=null,X[_]=F):X=$(),j===void 0?X:y.f(X,j)}},6048:(u,s,n)=>{var m=n(9781),g=n(3353),y=n(3070),k=n(9670),E=n(5656),C=n(1956);s.f=m&&!g?Object.defineProperties:function(v,h){k(v);for(var a,O=E(h),_=C(h),M=_.length,P=0;M>P;)y.f(v,a=_[P++],O[a]);return v}},3070:(u,s,n)=>{var m=n(9781),g=n(4664),y=n(3353),k=n(9670),E=n(4948),C=TypeError,v=Object.defineProperty,h=Object.getOwnPropertyDescriptor,a="enumerable",O="configurable",_="writable";s.f=m?y?function(M,P,R){if(k(M),P=E(P),k(R),typeof M=="function"&&P==="prototype"&&"value"in R&&_ in R&&!R[_]){var $=h(M,P);$&&$[_]&&(M[P]=R.value,R={configurable:O in R?R[O]:$[O],enumerable:a in R?R[a]:$[a],writable:!1})}return v(M,P,R)}:v:function(M,P,R){if(k(M),P=E(P),k(R),g)try{return v(M,P,R)}catch($){}if("get"in R||"set"in R)throw C("Accessors not supported");return"value"in R&&(M[P]=R.value),M}},1236:(u,s,n)=>{var m=n(9781),g=n(6916),y=n(5296),k=n(9114),E=n(5656),C=n(4948),v=n(2597),h=n(4664),a=Object.getOwnPropertyDescriptor;s.f=m?a:function(O,_){if(O=E(O),_=C(_),h)try{return a(O,_)}catch(M){}if(v(O,_))return k(!g(y.f,O,_),O[_])}},1156:(u,s,n)=>{var m=n(4326),g=n(5656),y=n(8006).f,k=n(1589),E=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];u.exports.f=function(C){return E&&m(C)=="Window"?function(v){try{return y(v)}catch(h){return k(E)}}(C):y(g(C))}},8006:(u,s,n)=>{var m=n(6324),g=n(748).concat("length","prototype");s.f=Object.getOwnPropertyNames||function(y){return m(y,g)}},5181:(u,s)=>{s.f=Object.getOwnPropertySymbols},9518:(u,s,n)=>{var m=n(2597),g=n(614),y=n(7908),k=n(6200),E=n(8544),C=k("IE_PROTO"),v=Object,h=v.prototype;u.exports=E?v.getPrototypeOf:function(a){var O=y(a);if(m(O,C))return O[C];var _=O.constructor;return g(_)&&O instanceof _?_.prototype:O instanceof v?h:null}},7976:(u,s,n)=>{var m=n(1702);u.exports=m({}.isPrototypeOf)},6324:(u,s,n)=>{var m=n(1702),g=n(2597),y=n(5656),k=n(1318).indexOf,E=n(3501),C=m([].push);u.exports=function(v,h){var a,O=y(v),_=0,M=[];for(a in O)!g(E,a)&&g(O,a)&&C(M,a);for(;h.length>_;)g(O,a=h[_++])&&(~k(M,a)||C(M,a));return M}},1956:(u,s,n)=>{var m=n(6324),g=n(748);u.exports=Object.keys||function(y){return m(y,g)}},5296:(u,s)=>{var n={}.propertyIsEnumerable,m=Object.getOwnPropertyDescriptor,g=m&&!n.call({1:2},1);s.f=g?function(y){var k=m(this,y);return!!k&&k.enumerable}:n},7674:(u,s,n)=>{var m=n(5668),g=n(9670),y=n(6077);u.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var k,E=!1,C={};try{(k=m(Object.prototype,"__proto__","set"))(C,[]),E=C instanceof Array}catch(v){}return function(v,h){return g(v),y(h),E?k(v,h):v.__proto__=h,v}}():void 0)},4699:(u,s,n)=>{var m=n(9781),g=n(1702),y=n(1956),k=n(5656),E=g(n(5296).f),C=g([].push),v=function(h){return function(a){for(var O,_=k(a),M=y(_),P=M.length,R=0,$=[];P>R;)O=M[R++],m&&!E(_,O)||C($,h?[O,_[O]]:_[O]);return $}};u.exports={entries:v(!0),values:v(!1)}},288:(u,s,n)=>{var m=n(1694),g=n(648);u.exports=m?{}.toString:function(){return"[object "+g(this)+"]"}},2140:(u,s,n)=>{var m=n(6916),g=n(614),y=n(111),k=TypeError;u.exports=function(E,C){var v,h;if(C==="string"&&g(v=E.toString)&&!y(h=m(v,E))||g(v=E.valueOf)&&!y(h=m(v,E))||C!=="string"&&g(v=E.toString)&&!y(h=m(v,E)))return h;throw k("Can't convert object to primitive value")}},3887:(u,s,n)=>{var m=n(5005),g=n(1702),y=n(8006),k=n(5181),E=n(9670),C=g([].concat);u.exports=m("Reflect","ownKeys")||function(v){var h=y.f(E(v)),a=k.f;return a?C(h,a(v)):h}},857:(u,s,n)=>{var m=n(7854);u.exports=m},2534:u=>{u.exports=function(s){try{return{error:!1,value:s()}}catch(n){return{error:!0,value:n}}}},3702:(u,s,n)=>{var m=n(7854),g=n(2492),y=n(614),k=n(4705),E=n(2788),C=n(5112),v=n(7871),h=n(3823),a=n(1913),O=n(7392),_=g&&g.prototype,M=C("species"),P=!1,R=y(m.PromiseRejectionEvent),$=k("Promise",function(){var F=E(g),j=F!==String(g);if(!j&&O===66||a&&(!_.catch||!_.finally))return!0;if(!O||O<51||!/native code/.test(F)){var X=new g(function(V){V(1)}),W=function(V){V(function(){},function(){})};if((X.constructor={})[M]=W,!(P=X.then(function(){})instanceof W))return!0}return!j&&(v||h)&&!R});u.exports={CONSTRUCTOR:$,REJECTION_EVENT:R,SUBCLASSING:P}},2492:(u,s,n)=>{var m=n(7854);u.exports=m.Promise},9478:(u,s,n)=>{var m=n(9670),g=n(111),y=n(8523);u.exports=function(k,E){if(m(k),g(E)&&E.constructor===k)return E;var C=y.f(k);return(0,C.resolve)(E),C.promise}},612:(u,s,n)=>{var m=n(2492),g=n(7072),y=n(3702).CONSTRUCTOR;u.exports=y||!g(function(k){m.all(k).then(void 0,function(){})})},2626:(u,s,n)=>{var m=n(3070).f;u.exports=function(g,y,k){k in g||m(g,k,{configurable:!0,get:function(){return y[k]},set:function(E){y[k]=E}})}},8572:u=>{var s=function(){this.head=null,this.tail=null};s.prototype={add:function(n){var m={item:n,next:null},g=this.tail;g?g.next=m:this.head=m,this.tail=m},get:function(){var n=this.head;if(n)return(this.head=n.next)===null&&(this.tail=null),n.item}},u.exports=s},7651:(u,s,n)=>{var m=n(6916),g=n(9670),y=n(614),k=n(4326),E=n(2261),C=TypeError;u.exports=function(v,h){var a=v.exec;if(y(a)){var O=m(a,v,h);return O!==null&&g(O),O}if(k(v)==="RegExp")return m(E,v,h);throw C("RegExp#exec called on incompatible receiver")}},2261:(u,s,n)=>{var m,g,y=n(6916),k=n(1702),E=n(1340),C=n(7066),v=n(2999),h=n(2309),a=n(30),O=n(9909).get,_=n(9441),M=n(7168),P=h("native-string-replace",String.prototype.replace),R=RegExp.prototype.exec,$=R,F=k("".charAt),j=k("".indexOf),X=k("".replace),W=k("".slice),V=(g=/b*/g,y(R,m=/a/,"a"),y(R,g,"a"),m.lastIndex!==0||g.lastIndex!==0),K=v.BROKEN_CARET,st=/()??/.exec("")[1]!==void 0;(V||st||K||_||M)&&($=function(it){var pt,ct,lt,J,Bt,Tt,Ct,St=this,at=O(St),yt=E(it),kt=at.raw;if(kt)return kt.lastIndex=St.lastIndex,pt=y($,kt,yt),St.lastIndex=kt.lastIndex,pt;var xt=at.groups,Pt=K&&St.sticky,mt=y(C,St),Yt=St.source,ne=0,Qt=yt;if(Pt&&(mt=X(mt,"y",""),j(mt,"g")===-1&&(mt+="g"),Qt=W(yt,St.lastIndex),St.lastIndex>0&&(!St.multiline||St.multiline&&F(yt,St.lastIndex-1)!==`
`)&&(Yt="(?: "+Yt+")",Qt=" "+Qt,ne++),ct=new RegExp("^(?:"+Yt+")",mt)),st&&(ct=new RegExp("^"+Yt+"$(?!\\s)",mt)),V&&(lt=St.lastIndex),J=y(R,Pt?ct:St,Qt),Pt?J?(J.input=W(J.input,ne),J[0]=W(J[0],ne),J.index=St.lastIndex,St.lastIndex+=J[0].length):St.lastIndex=0:V&&J&&(St.lastIndex=St.global?J.index+J[0].length:lt),st&&J&&J.length>1&&y(P,J[0],ct,function(){for(Bt=1;Bt<arguments.length-2;Bt++)arguments[Bt]===void 0&&(J[Bt]=void 0)}),J&&xt)for(J.groups=Tt=a(null),Bt=0;Bt<xt.length;Bt++)Tt[(Ct=xt[Bt])[0]]=J[Ct[1]];return J}),u.exports=$},7066:(u,s,n)=>{var m=n(9670);u.exports=function(){var g=m(this),y="";return g.hasIndices&&(y+="d"),g.global&&(y+="g"),g.ignoreCase&&(y+="i"),g.multiline&&(y+="m"),g.dotAll&&(y+="s"),g.unicode&&(y+="u"),g.unicodeSets&&(y+="v"),g.sticky&&(y+="y"),y}},4706:(u,s,n)=>{var m=n(6916),g=n(2597),y=n(7976),k=n(7066),E=RegExp.prototype;u.exports=function(C){var v=C.flags;return v!==void 0||"flags"in E||g(C,"flags")||!y(E,C)?v:m(k,C)}},2999:(u,s,n)=>{var m=n(7293),g=n(7854).RegExp,y=m(function(){var C=g("a","y");return C.lastIndex=2,C.exec("abcd")!=null}),k=y||m(function(){return!g("a","y").sticky}),E=y||m(function(){var C=g("^r","gy");return C.lastIndex=2,C.exec("str")!=null});u.exports={BROKEN_CARET:E,MISSED_STICKY:k,UNSUPPORTED_Y:y}},9441:(u,s,n)=>{var m=n(7293),g=n(7854).RegExp;u.exports=m(function(){var y=g(".","s");return!(y.dotAll&&y.exec(`
`)&&y.flags==="s")})},7168:(u,s,n)=>{var m=n(7293),g=n(7854).RegExp;u.exports=m(function(){var y=g("(?<a>b)","g");return y.exec("b").groups.a!=="b"||"b".replace(y,"$<a>c")!=="bc"})},4488:(u,s,n)=>{var m=n(8554),g=TypeError;u.exports=function(y){if(m(y))throw g("Can't call method on "+y);return y}},7152:(u,s,n)=>{var m,g=n(7854),y=n(2104),k=n(614),E=n(9363),C=n(8113),v=n(206),h=n(8053),a=g.Function,O=/MSIE .\./.test(C)||E&&((m=g.Bun.version.split(".")).length<3||m[0]==0&&(m[1]<3||m[1]==3&&m[2]==0));u.exports=function(_,M){var P=M?2:1;return O?function(R,$){var F=h(arguments.length,1)>P,j=k(R)?R:a(R),X=F?v(arguments,P):[],W=F?function(){y(j,this,X)}:j;return M?_(W,$):_(W)}:_}},6340:(u,s,n)=>{var m=n(5005),g=n(7045),y=n(5112),k=n(9781),E=y("species");u.exports=function(C){var v=m(C);k&&v&&!v[E]&&g(v,E,{configurable:!0,get:function(){return this}})}},8003:(u,s,n)=>{var m=n(3070).f,g=n(2597),y=n(5112)("toStringTag");u.exports=function(k,E,C){k&&!C&&(k=k.prototype),k&&!g(k,y)&&m(k,y,{configurable:!0,value:E})}},6200:(u,s,n)=>{var m=n(2309),g=n(9711),y=m("keys");u.exports=function(k){return y[k]||(y[k]=g(k))}},5465:(u,s,n)=>{var m=n(7854),g=n(3072),y="__core-js_shared__",k=m[y]||g(y,{});u.exports=k},2309:(u,s,n)=>{var m=n(1913),g=n(5465);(u.exports=function(y,k){return g[y]||(g[y]=k!==void 0?k:{})})("versions",[]).push({version:"3.29.0",mode:m?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.29.0/LICENSE",source:"https://github.com/zloirock/core-js"})},6707:(u,s,n)=>{var m=n(9670),g=n(9483),y=n(8554),k=n(5112)("species");u.exports=function(E,C){var v,h=m(E).constructor;return h===void 0||y(v=m(h)[k])?C:g(v)}},8710:(u,s,n)=>{var m=n(1702),g=n(9303),y=n(1340),k=n(4488),E=m("".charAt),C=m("".charCodeAt),v=m("".slice),h=function(a){return function(O,_){var M,P,R=y(k(O)),$=g(_),F=R.length;return $<0||$>=F?a?"":void 0:(M=C(R,$))<55296||M>56319||$+1===F||(P=C(R,$+1))<56320||P>57343?a?E(R,$):M:a?v(R,$,$+2):P-56320+(M-55296<<10)+65536}};u.exports={codeAt:h(!1),charAt:h(!0)}},6650:(u,s,n)=>{var m=n(1702),g=n(7466),y=n(1340),k=n(8415),E=n(4488),C=m(k),v=m("".slice),h=Math.ceil,a=function(O){return function(_,M,P){var R,$,F=y(E(_)),j=g(M),X=F.length,W=P===void 0?" ":y(P);return j<=X||W==""?F:(($=C(W,h((R=j-X)/W.length))).length>R&&($=v($,0,R)),O?F+$:$+F)}};u.exports={start:a(!1),end:a(!0)}},8415:(u,s,n)=>{var m=n(9303),g=n(1340),y=n(4488),k=RangeError;u.exports=function(E){var C=g(y(this)),v="",h=m(E);if(h<0||h==1/0)throw k("Wrong number of repetitions");for(;h>0;(h>>>=1)&&(C+=C))1&h&&(v+=C);return v}},6091:(u,s,n)=>{var m=n(6530).PROPER,g=n(7293),y=n(1361);u.exports=function(k){return g(function(){return!!y[k]()||"​᠎"[k]()!=="​᠎"||m&&y[k].name!==k})}},3111:(u,s,n)=>{var m=n(1702),g=n(4488),y=n(1340),k=n(1361),E=m("".replace),C=RegExp("^["+k+"]+"),v=RegExp("(^|[^"+k+"])["+k+"]+$"),h=function(a){return function(O){var _=y(g(O));return 1&a&&(_=E(_,C,"")),2&a&&(_=E(_,v,"$1")),_}};u.exports={start:h(1),end:h(2),trim:h(3)}},6293:(u,s,n)=>{var m=n(7392),g=n(7293);u.exports=!!Object.getOwnPropertySymbols&&!g(function(){var y=Symbol();return!String(y)||!(Object(y)instanceof Symbol)||!Symbol.sham&&m&&m<41})},6532:(u,s,n)=>{var m=n(6916),g=n(5005),y=n(5112),k=n(8052);u.exports=function(){var E=g("Symbol"),C=E&&E.prototype,v=C&&C.valueOf,h=y("toPrimitive");C&&!C[h]&&k(C,h,function(a){return m(v,this)},{arity:1})}},2015:(u,s,n)=>{var m=n(6293);u.exports=m&&!!Symbol.for&&!!Symbol.keyFor},261:(u,s,n)=>{var m,g,y,k,E=n(7854),C=n(2104),v=n(9974),h=n(614),a=n(2597),O=n(7293),_=n(490),M=n(206),P=n(317),R=n(8053),$=n(8334),F=n(5268),j=E.setImmediate,X=E.clearImmediate,W=E.process,V=E.Dispatch,K=E.Function,st=E.MessageChannel,it=E.String,pt=0,ct={},lt="onreadystatechange";O(function(){m=E.location});var J=function(St){if(a(ct,St)){var at=ct[St];delete ct[St],at()}},Bt=function(St){return function(){J(St)}},Tt=function(St){J(St.data)},Ct=function(St){E.postMessage(it(St),m.protocol+"//"+m.host)};j&&X||(j=function(St){R(arguments.length,1);var at=h(St)?St:K(St),yt=M(arguments,1);return ct[++pt]=function(){C(at,void 0,yt)},g(pt),pt},X=function(St){delete ct[St]},F?g=function(St){W.nextTick(Bt(St))}:V&&V.now?g=function(St){V.now(Bt(St))}:st&&!$?(k=(y=new st).port2,y.port1.onmessage=Tt,g=v(k.postMessage,k)):E.addEventListener&&h(E.postMessage)&&!E.importScripts&&m&&m.protocol!=="file:"&&!O(Ct)?(g=Ct,E.addEventListener("message",Tt,!1)):g=lt in P("script")?function(St){_.appendChild(P("script"))[lt]=function(){_.removeChild(this),J(St)}}:function(St){setTimeout(Bt(St),0)}),u.exports={set:j,clear:X}},863:(u,s,n)=>{var m=n(1702);u.exports=m(1 .valueOf)},1400:(u,s,n)=>{var m=n(9303),g=Math.max,y=Math.min;u.exports=function(k,E){var C=m(k);return C<0?g(C+E,0):y(C,E)}},5656:(u,s,n)=>{var m=n(8361),g=n(4488);u.exports=function(y){return m(g(y))}},9303:(u,s,n)=>{var m=n(4758);u.exports=function(g){var y=+g;return y!=y||y===0?0:m(y)}},7466:(u,s,n)=>{var m=n(9303),g=Math.min;u.exports=function(y){return y>0?g(m(y),9007199254740991):0}},7908:(u,s,n)=>{var m=n(4488),g=Object;u.exports=function(y){return g(m(y))}},7593:(u,s,n)=>{var m=n(6916),g=n(111),y=n(2190),k=n(8173),E=n(2140),C=n(5112),v=TypeError,h=C("toPrimitive");u.exports=function(a,O){if(!g(a)||y(a))return a;var _,M=k(a,h);if(M){if(O===void 0&&(O="default"),_=m(M,a,O),!g(_)||y(_))return _;throw v("Can't convert object to primitive value")}return O===void 0&&(O="number"),E(a,O)}},4948:(u,s,n)=>{var m=n(7593),g=n(2190);u.exports=function(y){var k=m(y,"string");return g(k)?k:k+""}},1694:(u,s,n)=>{var m={};m[n(5112)("toStringTag")]="z",u.exports=String(m)==="[object z]"},1340:(u,s,n)=>{var m=n(648),g=String;u.exports=function(y){if(m(y)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return g(y)}},6330:u=>{var s=String;u.exports=function(n){try{return s(n)}catch(m){return"Object"}}},9711:(u,s,n)=>{var m=n(1702),g=0,y=Math.random(),k=m(1 .toString);u.exports=function(E){return"Symbol("+(E===void 0?"":E)+")_"+k(++g+y,36)}},3307:(u,s,n)=>{var m=n(6293);u.exports=m&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},3353:(u,s,n)=>{var m=n(9781),g=n(7293);u.exports=m&&g(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})},8053:u=>{var s=TypeError;u.exports=function(n,m){if(n<m)throw s("Not enough arguments");return n}},4811:(u,s,n)=>{var m=n(7854),g=n(614),y=m.WeakMap;u.exports=g(y)&&/native code/.test(String(y))},6800:(u,s,n)=>{var m=n(857),g=n(2597),y=n(6061),k=n(3070).f;u.exports=function(E){var C=m.Symbol||(m.Symbol={});g(C,E)||k(C,E,{value:y.f(E)})}},6061:(u,s,n)=>{var m=n(5112);s.f=m},5112:(u,s,n)=>{var m=n(7854),g=n(2309),y=n(2597),k=n(9711),E=n(6293),C=n(3307),v=m.Symbol,h=g("wks"),a=C?v.for||v:v&&v.withoutSetter||k;u.exports=function(O){return y(h,O)||(h[O]=E&&y(v,O)?v[O]:a("Symbol."+O)),h[O]}},1361:u=>{u.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},2222:(u,s,n)=>{var m=n(2109),g=n(7293),y=n(3157),k=n(111),E=n(7908),C=n(6244),v=n(7207),h=n(6135),a=n(5417),O=n(1194),_=n(5112),M=n(7392),P=_("isConcatSpreadable"),R=M>=51||!g(function(){var F=[];return F[P]=!1,F.concat()[0]!==F}),$=function(F){if(!k(F))return!1;var j=F[P];return j!==void 0?!!j:y(F)};m({target:"Array",proto:!0,arity:1,forced:!R||!O("concat")},{concat:function(F){var j,X,W,V,K,st=E(this),it=a(st,0),pt=0;for(j=-1,W=arguments.length;j<W;j++)if($(K=j===-1?st:arguments[j]))for(V=C(K),v(pt+V),X=0;X<V;X++,pt++)X in K&&h(it,pt,K[X]);else v(pt+1),h(it,pt++,K);return it.length=pt,it}})},6541:(u,s,n)=>{var m=n(2109),g=n(2092).every;m({target:"Array",proto:!0,forced:!n(9341)("every")},{every:function(y){return g(this,y,arguments.length>1?arguments[1]:void 0)}})},7327:(u,s,n)=>{var m=n(2109),g=n(2092).filter;m({target:"Array",proto:!0,forced:!n(1194)("filter")},{filter:function(y){return g(this,y,arguments.length>1?arguments[1]:void 0)}})},9826:(u,s,n)=>{var m=n(2109),g=n(2092).find,y=n(1223),k="find",E=!0;k in[]&&Array(1)[k](function(){E=!1}),m({target:"Array",proto:!0,forced:E},{find:function(C){return g(this,C,arguments.length>1?arguments[1]:void 0)}}),y(k)},9554:(u,s,n)=>{var m=n(2109),g=n(8533);m({target:"Array",proto:!0,forced:[].forEach!=g},{forEach:g})},1038:(u,s,n)=>{var m=n(2109),g=n(8457);m({target:"Array",stat:!0,forced:!n(7072)(function(y){Array.from(y)})},{from:g})},6699:(u,s,n)=>{var m=n(2109),g=n(1318).includes,y=n(7293),k=n(1223);m({target:"Array",proto:!0,forced:y(function(){return!Array(1).includes()})},{includes:function(E){return g(this,E,arguments.length>1?arguments[1]:void 0)}}),k("includes")},2772:(u,s,n)=>{var m=n(2109),g=n(1470),y=n(1318).indexOf,k=n(9341),E=g([].indexOf),C=!!E&&1/E([1],1,-0)<0;m({target:"Array",proto:!0,forced:C||!k("indexOf")},{indexOf:function(v){var h=arguments.length>1?arguments[1]:void 0;return C?E(this,v,h)||0:y(this,v,h)}})},9753:(u,s,n)=>{n(2109)({target:"Array",stat:!0},{isArray:n(3157)})},6992:(u,s,n)=>{var m=n(5656),g=n(1223),y=n(7497),k=n(9909),E=n(3070).f,C=n(1656),v=n(6178),h=n(1913),a=n(9781),O="Array Iterator",_=k.set,M=k.getterFor(O);u.exports=C(Array,"Array",function(R,$){_(this,{type:O,target:m(R),index:0,kind:$})},function(){var R=M(this),$=R.target,F=R.kind,j=R.index++;return!$||j>=$.length?(R.target=void 0,v(void 0,!0)):v(F=="keys"?j:F=="values"?$[j]:[j,$[j]],!1)},"values");var P=y.Arguments=y.Array;if(g("keys"),g("values"),g("entries"),!h&&a&&P.name!=="values")try{E(P,"name",{value:"values"})}catch(R){}},9600:(u,s,n)=>{var m=n(2109),g=n(1702),y=n(8361),k=n(5656),E=n(9341),C=g([].join);m({target:"Array",proto:!0,forced:y!=Object||!E("join",",")},{join:function(v){return C(k(this),v===void 0?",":v)}})},1249:(u,s,n)=>{var m=n(2109),g=n(2092).map;m({target:"Array",proto:!0,forced:!n(1194)("map")},{map:function(y){return g(this,y,arguments.length>1?arguments[1]:void 0)}})},5827:(u,s,n)=>{var m=n(2109),g=n(3671).left,y=n(9341),k=n(7392);m({target:"Array",proto:!0,forced:!n(5268)&&k>79&&k<83||!y("reduce")},{reduce:function(E){var C=arguments.length;return g(this,E,C,C>1?arguments[1]:void 0)}})},5069:(u,s,n)=>{var m=n(2109),g=n(1702),y=n(3157),k=g([].reverse),E=[1,2];m({target:"Array",proto:!0,forced:String(E)===String(E.reverse())},{reverse:function(){return y(this)&&(this.length=this.length),k(this)}})},7042:(u,s,n)=>{var m=n(2109),g=n(3157),y=n(4411),k=n(111),E=n(1400),C=n(6244),v=n(5656),h=n(6135),a=n(5112),O=n(1194),_=n(206),M=O("slice"),P=a("species"),R=Array,$=Math.max;m({target:"Array",proto:!0,forced:!M},{slice:function(F,j){var X,W,V,K=v(this),st=C(K),it=E(F,st),pt=E(j===void 0?st:j,st);if(g(K)&&(X=K.constructor,(y(X)&&(X===R||g(X.prototype))||k(X)&&(X=X[P])===null)&&(X=void 0),X===R||X===void 0))return _(K,it,pt);for(W=new(X===void 0?R:X)($(pt-it,0)),V=0;it<pt;it++,V++)it in K&&h(W,V,K[it]);return W.length=V,W}})},5212:(u,s,n)=>{var m=n(2109),g=n(2092).some;m({target:"Array",proto:!0,forced:!n(9341)("some")},{some:function(y){return g(this,y,arguments.length>1?arguments[1]:void 0)}})},2707:(u,s,n)=>{var m=n(2109),g=n(1702),y=n(9662),k=n(7908),E=n(6244),C=n(5117),v=n(1340),h=n(7293),a=n(4362),O=n(9341),_=n(8886),M=n(256),P=n(7392),R=n(8008),$=[],F=g($.sort),j=g($.push),X=h(function(){$.sort(void 0)}),W=h(function(){$.sort(null)}),V=O("sort"),K=!h(function(){if(P)return P<70;if(!(_&&_>3)){if(M)return!0;if(R)return R<603;var st,it,pt,ct,lt="";for(st=65;st<76;st++){switch(it=String.fromCharCode(st),st){case 66:case 69:case 70:case 72:pt=3;break;case 68:case 71:pt=4;break;default:pt=2}for(ct=0;ct<47;ct++)$.push({k:it+ct,v:pt})}for($.sort(function(J,Bt){return Bt.v-J.v}),ct=0;ct<$.length;ct++)it=$[ct].k.charAt(0),lt.charAt(lt.length-1)!==it&&(lt+=it);return lt!=="DGBEFHACIJK"}});m({target:"Array",proto:!0,forced:X||!W||!V||!K},{sort:function(st){st!==void 0&&y(st);var it=k(this);if(K)return st===void 0?F(it):F(it,st);var pt,ct,lt=[],J=E(it);for(ct=0;ct<J;ct++)ct in it&&j(lt,it[ct]);for(a(lt,function(Bt){return function(Tt,Ct){return Ct===void 0?-1:Tt===void 0?1:Bt!==void 0?+Bt(Tt,Ct)||0:v(Tt)>v(Ct)?1:-1}}(st)),pt=E(lt),ct=0;ct<pt;)it[ct]=lt[ct++];for(;ct<J;)C(it,ct++);return it}})},561:(u,s,n)=>{var m=n(2109),g=n(7908),y=n(1400),k=n(9303),E=n(6244),C=n(3658),v=n(7207),h=n(5417),a=n(6135),O=n(5117),_=n(1194)("splice"),M=Math.max,P=Math.min;m({target:"Array",proto:!0,forced:!_},{splice:function(R,$){var F,j,X,W,V,K,st=g(this),it=E(st),pt=y(R,it),ct=arguments.length;for(ct===0?F=j=0:ct===1?(F=0,j=it-pt):(F=ct-2,j=P(M(k($),0),it-pt)),v(it+F-j),X=h(st,j),W=0;W<j;W++)(V=pt+W)in st&&a(X,W,st[V]);if(X.length=j,F<j){for(W=pt;W<it-j;W++)K=W+F,(V=W+j)in st?st[K]=st[V]:O(st,K);for(W=it;W>it-j+F;W--)O(st,W-1)}else if(F>j)for(W=it-j;W>pt;W--)K=W+F-1,(V=W+j-1)in st?st[K]=st[V]:O(st,K);for(W=0;W<F;W++)st[W+pt]=arguments[W+2];return C(st,it-j+F),X}})},3843:(u,s,n)=>{var m=n(2109),g=n(1702),y=Date,k=g(y.prototype.getTime);m({target:"Date",stat:!0},{now:function(){return k(new y)}})},8733:(u,s,n)=>{var m=n(2109),g=n(5573);m({target:"Date",proto:!0,forced:Date.prototype.toISOString!==g},{toISOString:g})},6078:(u,s,n)=>{var m=n(2597),g=n(8052),y=n(8709),k=n(5112)("toPrimitive"),E=Date.prototype;m(E,k)||g(E,k,y)},3710:(u,s,n)=>{var m=n(1702),g=n(8052),y=Date.prototype,k="Invalid Date",E="toString",C=m(y[E]),v=m(y.getTime);String(new Date(NaN))!=k&&g(y,E,function(){var h=v(this);return h==h?C(this):k})},4812:(u,s,n)=>{var m=n(2109),g=n(7065);m({target:"Function",proto:!0,forced:Function.bind!==g},{bind:g})},8309:(u,s,n)=>{var m=n(9781),g=n(6530).EXISTS,y=n(1702),k=n(7045),E=Function.prototype,C=y(E.toString),v=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,h=y(v.exec);m&&!g&&k(E,"name",{configurable:!0,get:function(){try{return h(v,C(this))[1]}catch(a){return""}}})},8862:(u,s,n)=>{var m=n(2109),g=n(5005),y=n(2104),k=n(6916),E=n(1702),C=n(7293),v=n(614),h=n(2190),a=n(206),O=n(8044),_=n(6293),M=String,P=g("JSON","stringify"),R=E(/./.exec),$=E("".charAt),F=E("".charCodeAt),j=E("".replace),X=E(1 .toString),W=/[\uD800-\uDFFF]/g,V=/^[\uD800-\uDBFF]$/,K=/^[\uDC00-\uDFFF]$/,st=!_||C(function(){var lt=g("Symbol")();return P([lt])!="[null]"||P({a:lt})!="{}"||P(Object(lt))!="{}"}),it=C(function(){return P("\uDF06\uD834")!=='"\\udf06\\ud834"'||P("\uDEAD")!=='"\\udead"'}),pt=function(lt,J){var Bt=a(arguments),Tt=O(J);if(v(Tt)||lt!==void 0&&!h(lt))return Bt[1]=function(Ct,St){if(v(Tt)&&(St=k(Tt,this,M(Ct),St)),!h(St))return St},y(P,null,Bt)},ct=function(lt,J,Bt){var Tt=$(Bt,J-1),Ct=$(Bt,J+1);return R(V,lt)&&!R(K,Ct)||R(K,lt)&&!R(V,Tt)?"\\u"+X(F(lt,0),16):lt};P&&m({target:"JSON",stat:!0,arity:3,forced:st||it},{stringify:function(lt,J,Bt){var Tt=a(arguments),Ct=y(st?pt:P,null,Tt);return it&&typeof Ct=="string"?j(Ct,W,ct):Ct}})},3706:(u,s,n)=>{var m=n(7854);n(8003)(m.JSON,"JSON",!0)},2703:(u,s,n)=>{n(8003)(Math,"Math",!0)},9653:(u,s,n)=>{var m=n(2109),g=n(1913),y=n(9781),k=n(7854),E=n(857),C=n(1702),v=n(4705),h=n(2597),a=n(9587),O=n(7976),_=n(2190),M=n(7593),P=n(7293),R=n(8006).f,$=n(1236).f,F=n(3070).f,j=n(863),X=n(3111).trim,W="Number",V=k[W],K=E[W],st=V.prototype,it=k.TypeError,pt=C("".slice),ct=C("".charCodeAt),lt=function(at){var yt=M(at,"number");return typeof yt=="bigint"?yt:J(yt)},J=function(at){var yt,kt,xt,Pt,mt,Yt,ne,Qt,Kt=M(at,"number");if(_(Kt))throw it("Cannot convert a Symbol value to a number");if(typeof Kt=="string"&&Kt.length>2){if(Kt=X(Kt),(yt=ct(Kt,0))===43||yt===45){if((kt=ct(Kt,2))===88||kt===120)return NaN}else if(yt===48){switch(ct(Kt,1)){case 66:case 98:xt=2,Pt=49;break;case 79:case 111:xt=8,Pt=55;break;default:return+Kt}for(Yt=(mt=pt(Kt,2)).length,ne=0;ne<Yt;ne++)if((Qt=ct(mt,ne))<48||Qt>Pt)return NaN;return parseInt(mt,xt)}}return+Kt},Bt=v(W,!V(" 0o1")||!V("0b1")||V("+0x1")),Tt=function(at){return O(st,at)&&P(function(){j(at)})},Ct=function(at){var yt=arguments.length<1?0:V(lt(at));return Tt(this)?a(Object(yt),this,Ct):yt};Ct.prototype=st,Bt&&!g&&(st.constructor=Ct),m({global:!0,constructor:!0,wrap:!0,forced:Bt},{Number:Ct});var St=function(at,yt){for(var kt,xt=y?R(yt):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Pt=0;xt.length>Pt;Pt++)h(yt,kt=xt[Pt])&&!h(at,kt)&&F(at,kt,$(yt,kt))};g&&K&&St(E[W],K),(Bt||g)&&St(E[W],V)},6977:(u,s,n)=>{var m=n(2109),g=n(1702),y=n(9303),k=n(863),E=n(8415),C=n(7293),v=RangeError,h=String,a=Math.floor,O=g(E),_=g("".slice),M=g(1 .toFixed),P=function(j,X,W){return X===0?W:X%2==1?P(j,X-1,W*j):P(j*j,X/2,W)},R=function(j,X,W){for(var V=-1,K=W;++V<6;)K+=X*j[V],j[V]=K%1e7,K=a(K/1e7)},$=function(j,X){for(var W=6,V=0;--W>=0;)V+=j[W],j[W]=a(V/X),V=V%X*1e7},F=function(j){for(var X=6,W="";--X>=0;)if(W!==""||X===0||j[X]!==0){var V=h(j[X]);W=W===""?V:W+O("0",7-V.length)+V}return W};m({target:"Number",proto:!0,forced:C(function(){return M(8e-5,3)!=="0.000"||M(.9,0)!=="1"||M(1.255,2)!=="1.25"||M(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!C(function(){M({})})},{toFixed:function(j){var X,W,V,K,st=k(this),it=y(j),pt=[0,0,0,0,0,0],ct="",lt="0";if(it<0||it>20)throw v("Incorrect fraction digits");if(st!=st)return"NaN";if(st<=-1e21||st>=1e21)return h(st);if(st<0&&(ct="-",st=-st),st>1e-21)if(W=(X=function(J){for(var Bt=0,Tt=J;Tt>=4096;)Bt+=12,Tt/=4096;for(;Tt>=2;)Bt+=1,Tt/=2;return Bt}(st*P(2,69,1))-69)<0?st*P(2,-X,1):st/P(2,X,1),W*=4503599627370496,(X=52-X)>0){for(R(pt,0,W),V=it;V>=7;)R(pt,1e7,0),V-=7;for(R(pt,P(10,V,1),0),V=X-1;V>=23;)$(pt,8388608),V-=23;$(pt,1<<V),R(pt,1,1),$(pt,2),lt=F(pt)}else R(pt,0,W),R(pt,1<<-X,0),lt=F(pt)+O("0",it);return it>0?ct+((K=lt.length)<=it?"0."+O("0",it-K)+lt:_(lt,0,K-it)+"."+_(lt,K-it)):ct+lt}})},9601:(u,s,n)=>{var m=n(2109),g=n(1574);m({target:"Object",stat:!0,arity:2,forced:Object.assign!==g},{assign:g})},8011:(u,s,n)=>{n(2109)({target:"Object",stat:!0,sham:!n(9781)},{create:n(30)})},3321:(u,s,n)=>{var m=n(2109),g=n(9781),y=n(6048).f;m({target:"Object",stat:!0,forced:Object.defineProperties!==y,sham:!g},{defineProperties:y})},9070:(u,s,n)=>{var m=n(2109),g=n(9781),y=n(3070).f;m({target:"Object",stat:!0,forced:Object.defineProperty!==y,sham:!g},{defineProperty:y})},9720:(u,s,n)=>{var m=n(2109),g=n(4699).entries;m({target:"Object",stat:!0},{entries:function(y){return g(y)}})},5003:(u,s,n)=>{var m=n(2109),g=n(7293),y=n(5656),k=n(1236).f,E=n(9781);m({target:"Object",stat:!0,forced:!E||g(function(){k(1)}),sham:!E},{getOwnPropertyDescriptor:function(C,v){return k(y(C),v)}})},9337:(u,s,n)=>{var m=n(2109),g=n(9781),y=n(3887),k=n(5656),E=n(1236),C=n(6135);m({target:"Object",stat:!0,sham:!g},{getOwnPropertyDescriptors:function(v){for(var h,a,O=k(v),_=E.f,M=y(O),P={},R=0;M.length>R;)(a=_(O,h=M[R++]))!==void 0&&C(P,h,a);return P}})},9660:(u,s,n)=>{var m=n(2109),g=n(6293),y=n(7293),k=n(5181),E=n(7908);m({target:"Object",stat:!0,forced:!g||y(function(){k.f(1)})},{getOwnPropertySymbols:function(C){var v=k.f;return v?v(E(C)):[]}})},489:(u,s,n)=>{var m=n(2109),g=n(7293),y=n(7908),k=n(9518),E=n(8544);m({target:"Object",stat:!0,forced:g(function(){k(1)}),sham:!E},{getPrototypeOf:function(C){return k(y(C))}})},7941:(u,s,n)=>{var m=n(2109),g=n(7908),y=n(1956);m({target:"Object",stat:!0,forced:n(7293)(function(){y(1)})},{keys:function(k){return y(g(k))}})},8304:(u,s,n)=>{n(2109)({target:"Object",stat:!0},{setPrototypeOf:n(7674)})},1539:(u,s,n)=>{var m=n(1694),g=n(8052),y=n(288);m||g(Object.prototype,"toString",y,{unsafe:!0})},6833:(u,s,n)=>{var m=n(2109),g=n(4699).values;m({target:"Object",stat:!0},{values:function(y){return g(y)}})},4678:(u,s,n)=>{var m=n(2109),g=n(2814);m({global:!0,forced:parseFloat!=g},{parseFloat:g})},1058:(u,s,n)=>{var m=n(2109),g=n(3009);m({global:!0,forced:parseInt!=g},{parseInt:g})},821:(u,s,n)=>{var m=n(2109),g=n(6916),y=n(9662),k=n(8523),E=n(2534),C=n(408);m({target:"Promise",stat:!0,forced:n(612)},{all:function(v){var h=this,a=k.f(h),O=a.resolve,_=a.reject,M=E(function(){var P=y(h.resolve),R=[],$=0,F=1;C(v,function(j){var X=$++,W=!1;F++,g(P,h,j).then(function(V){W||(W=!0,R[X]=V,--F||O(R))},_)}),--F||O(R)});return M.error&&_(M.value),a.promise}})},4164:(u,s,n)=>{var m=n(2109),g=n(1913),y=n(3702).CONSTRUCTOR,k=n(2492),E=n(5005),C=n(614),v=n(8052),h=k&&k.prototype;if(m({target:"Promise",proto:!0,forced:y,real:!0},{catch:function(O){return this.then(void 0,O)}}),!g&&C(k)){var a=E("Promise").prototype.catch;h.catch!==a&&v(h,"catch",a,{unsafe:!0})}},3401:(u,s,n)=>{var m,g,y,k=n(2109),E=n(1913),C=n(5268),v=n(7854),h=n(6916),a=n(8052),O=n(7674),_=n(8003),M=n(6340),P=n(9662),R=n(614),$=n(111),F=n(5787),j=n(6707),X=n(261).set,W=n(5948),V=n(842),K=n(2534),st=n(8572),it=n(9909),pt=n(2492),ct=n(3702),lt=n(8523),J="Promise",Bt=ct.CONSTRUCTOR,Tt=ct.REJECTION_EVENT,Ct=ct.SUBCLASSING,St=it.getterFor(J),at=it.set,yt=pt&&pt.prototype,kt=pt,xt=yt,Pt=v.TypeError,mt=v.document,Yt=v.process,ne=lt.f,Qt=ne,Kt=!!(mt&&mt.createEvent&&v.dispatchEvent),Xt="unhandledrejection",se=function(Wt){var Ft;return!(!$(Wt)||!R(Ft=Wt.then))&&Ft},ue=function(Wt,Ft){var jt,ee,Lt,he=Ft.value,Ht=Ft.state==1,Se=Ht?Wt.ok:Wt.fail,Te=Wt.resolve,we=Wt.reject,Ue=Wt.domain;try{Se?(Ht||(Ft.rejection===2&&qt(Ft),Ft.rejection=1),Se===!0?jt=he:(Ue&&Ue.enter(),jt=Se(he),Ue&&(Ue.exit(),Lt=!0)),jt===Wt.promise?we(Pt("Promise-chain cycle")):(ee=se(jt))?h(ee,jt,Te,we):Te(jt)):we(he)}catch(We){Ue&&!Lt&&Ue.exit(),we(We)}},re=function(Wt,Ft){Wt.notified||(Wt.notified=!0,W(function(){for(var jt,ee=Wt.reactions;jt=ee.get();)ue(jt,Wt);Wt.notified=!1,Ft&&!Wt.rejection&&ut(Wt)}))},_t=function(Wt,Ft,jt){var ee,Lt;Kt?((ee=mt.createEvent("Event")).promise=Ft,ee.reason=jt,ee.initEvent(Wt,!1,!0),v.dispatchEvent(ee)):ee={promise:Ft,reason:jt},!Tt&&(Lt=v["on"+Wt])?Lt(ee):Wt===Xt&&V("Unhandled promise rejection",jt)},ut=function(Wt){h(X,v,function(){var Ft,jt=Wt.facade,ee=Wt.value;if(Mt(Wt)&&(Ft=K(function(){C?Yt.emit("unhandledRejection",ee,jt):_t(Xt,jt,ee)}),Wt.rejection=C||Mt(Wt)?2:1,Ft.error))throw Ft.value})},Mt=function(Wt){return Wt.rejection!==1&&!Wt.parent},qt=function(Wt){h(X,v,function(){var Ft=Wt.facade;C?Yt.emit("rejectionHandled",Ft):_t("rejectionhandled",Ft,Wt.value)})},Nt=function(Wt,Ft,jt){return function(ee){Wt(Ft,ee,jt)}},Vt=function(Wt,Ft,jt){Wt.done||(Wt.done=!0,jt&&(Wt=jt),Wt.value=Ft,Wt.state=2,re(Wt,!0))},Ut=function(Wt,Ft,jt){if(!Wt.done){Wt.done=!0,jt&&(Wt=jt);try{if(Wt.facade===Ft)throw Pt("Promise can't be resolved itself");var ee=se(Ft);ee?W(function(){var Lt={done:!1};try{h(ee,Ft,Nt(Ut,Lt,Wt),Nt(Vt,Lt,Wt))}catch(he){Vt(Lt,he,Wt)}}):(Wt.value=Ft,Wt.state=1,re(Wt,!1))}catch(Lt){Vt({done:!1},Lt,Wt)}}};if(Bt&&(xt=(kt=function(Wt){F(this,xt),P(Wt),h(m,this);var Ft=St(this);try{Wt(Nt(Ut,Ft),Nt(Vt,Ft))}catch(jt){Vt(Ft,jt)}}).prototype,(m=function(Wt){at(this,{type:J,done:!1,notified:!1,parent:!1,reactions:new st,rejection:!1,state:0,value:void 0})}).prototype=a(xt,"then",function(Wt,Ft){var jt=St(this),ee=ne(j(this,kt));return jt.parent=!0,ee.ok=!R(Wt)||Wt,ee.fail=R(Ft)&&Ft,ee.domain=C?Yt.domain:void 0,jt.state==0?jt.reactions.add(ee):W(function(){ue(ee,jt)}),ee.promise}),g=function(){var Wt=new m,Ft=St(Wt);this.promise=Wt,this.resolve=Nt(Ut,Ft),this.reject=Nt(Vt,Ft)},lt.f=ne=function(Wt){return Wt===kt||Wt===void 0?new g(Wt):Qt(Wt)},!E&&R(pt)&&yt!==Object.prototype)){y=yt.then,Ct||a(yt,"then",function(Wt,Ft){var jt=this;return new kt(function(ee,Lt){h(y,jt,ee,Lt)}).then(Wt,Ft)},{unsafe:!0});try{delete yt.constructor}catch(Wt){}O&&O(yt,xt)}k({global:!0,constructor:!0,wrap:!0,forced:Bt},{Promise:kt}),_(kt,J,!1,!0),M(J)},8674:(u,s,n)=>{n(3401),n(821),n(4164),n(6027),n(683),n(6294)},6027:(u,s,n)=>{var m=n(2109),g=n(6916),y=n(9662),k=n(8523),E=n(2534),C=n(408);m({target:"Promise",stat:!0,forced:n(612)},{race:function(v){var h=this,a=k.f(h),O=a.reject,_=E(function(){var M=y(h.resolve);C(v,function(P){g(M,h,P).then(a.resolve,O)})});return _.error&&O(_.value),a.promise}})},683:(u,s,n)=>{var m=n(2109),g=n(6916),y=n(8523);m({target:"Promise",stat:!0,forced:n(3702).CONSTRUCTOR},{reject:function(k){var E=y.f(this);return g(E.reject,void 0,k),E.promise}})},6294:(u,s,n)=>{var m=n(2109),g=n(5005),y=n(1913),k=n(2492),E=n(3702).CONSTRUCTOR,C=n(9478),v=g("Promise"),h=y&&!E;m({target:"Promise",stat:!0,forced:y||E},{resolve:function(a){return C(h&&this===v?k:this,a)}})},2419:(u,s,n)=>{var m=n(2109),g=n(5005),y=n(2104),k=n(7065),E=n(9483),C=n(9670),v=n(111),h=n(30),a=n(7293),O=g("Reflect","construct"),_=Object.prototype,M=[].push,P=a(function(){function F(){}return!(O(function(){},[],F)instanceof F)}),R=!a(function(){O(function(){})}),$=P||R;m({target:"Reflect",stat:!0,forced:$,sham:$},{construct:function(F,j){E(F),C(j);var X=arguments.length<3?F:E(arguments[2]);if(R&&!P)return O(F,j,X);if(F==X){switch(j.length){case 0:return new F;case 1:return new F(j[0]);case 2:return new F(j[0],j[1]);case 3:return new F(j[0],j[1],j[2]);case 4:return new F(j[0],j[1],j[2],j[3])}var W=[null];return y(M,W,j),new(y(k,F,W))}var V=X.prototype,K=h(v(V)?V:_),st=y(F,K,j);return v(st)?st:K}})},4819:(u,s,n)=>{var m=n(2109),g=n(6916),y=n(111),k=n(9670),E=n(5032),C=n(1236),v=n(9518);m({target:"Reflect",stat:!0},{get:function h(a,O){var _,M,P=arguments.length<3?a:arguments[2];return k(a)===P?a[O]:(_=C.f(a,O))?E(_)?_.value:_.get===void 0?void 0:g(_.get,P):y(M=v(a))?h(M,O,P):void 0}})},4603:(u,s,n)=>{var m=n(9781),g=n(7854),y=n(1702),k=n(4705),E=n(9587),C=n(8880),v=n(8006).f,h=n(7976),a=n(7850),O=n(1340),_=n(4706),M=n(2999),P=n(2626),R=n(8052),$=n(7293),F=n(2597),j=n(9909).enforce,X=n(6340),W=n(5112),V=n(9441),K=n(7168),st=W("match"),it=g.RegExp,pt=it.prototype,ct=g.SyntaxError,lt=y(pt.exec),J=y("".charAt),Bt=y("".replace),Tt=y("".indexOf),Ct=y("".slice),St=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,at=/a/g,yt=/a/g,kt=new it(at)!==at,xt=M.MISSED_STICKY,Pt=M.UNSUPPORTED_Y;if(k("RegExp",m&&(!kt||xt||V||K||$(function(){return yt[st]=!1,it(at)!=at||it(yt)==yt||it(at,"i")!="/a/i"})))){for(var mt=function(Qt,Kt){var Xt,se,ue,re,_t,ut,Mt=h(pt,this),qt=a(Qt),Nt=Kt===void 0,Vt=[],Ut=Qt;if(!Mt&&qt&&Nt&&Qt.constructor===mt)return Qt;if((qt||h(pt,Qt))&&(Qt=Qt.source,Nt&&(Kt=_(Ut))),Qt=Qt===void 0?"":O(Qt),Kt=Kt===void 0?"":O(Kt),Ut=Qt,V&&"dotAll"in at&&(se=!!Kt&&Tt(Kt,"s")>-1)&&(Kt=Bt(Kt,/s/g,"")),Xt=Kt,xt&&"sticky"in at&&(ue=!!Kt&&Tt(Kt,"y")>-1)&&Pt&&(Kt=Bt(Kt,/y/g,"")),K&&(re=function(Wt){for(var Ft,jt=Wt.length,ee=0,Lt="",he=[],Ht={},Se=!1,Te=!1,we=0,Ue="";ee<=jt;ee++){if((Ft=J(Wt,ee))==="\\")Ft+=J(Wt,++ee);else if(Ft==="]")Se=!1;else if(!Se)switch(!0){case Ft==="[":Se=!0;break;case Ft==="(":lt(St,Ct(Wt,ee+1))&&(ee+=2,Te=!0),Lt+=Ft,we++;continue;case(Ft===">"&&Te):if(Ue===""||F(Ht,Ue))throw new ct("Invalid capture group name");Ht[Ue]=!0,he[he.length]=[Ue,we],Te=!1,Ue="";continue}Te?Ue+=Ft:Lt+=Ft}return[Lt,he]}(Qt),Qt=re[0],Vt=re[1]),_t=E(it(Qt,Kt),Mt?this:pt,mt),(se||ue||Vt.length)&&(ut=j(_t),se&&(ut.dotAll=!0,ut.raw=mt(function(Wt){for(var Ft,jt=Wt.length,ee=0,Lt="",he=!1;ee<=jt;ee++)(Ft=J(Wt,ee))!=="\\"?he||Ft!=="."?(Ft==="["?he=!0:Ft==="]"&&(he=!1),Lt+=Ft):Lt+="[\\s\\S]":Lt+=Ft+J(Wt,++ee);return Lt}(Qt),Xt)),ue&&(ut.sticky=!0),Vt.length&&(ut.groups=Vt)),Qt!==Ut)try{C(_t,"source",Ut===""?"(?:)":Ut)}catch(Wt){}return _t},Yt=v(it),ne=0;Yt.length>ne;)P(mt,it,Yt[ne++]);pt.constructor=mt,mt.prototype=pt,R(g,"RegExp",mt,{constructor:!0})}X("RegExp")},4916:(u,s,n)=>{var m=n(2109),g=n(2261);m({target:"RegExp",proto:!0,forced:/./.exec!==g},{exec:g})},9714:(u,s,n)=>{var m=n(6530).PROPER,g=n(8052),y=n(9670),k=n(1340),E=n(7293),C=n(4706),v="toString",h=RegExp.prototype[v],a=E(function(){return h.call({source:"a",flags:"b"})!="/a/b"}),O=m&&h.name!=v;(a||O)&&g(RegExp.prototype,v,function(){var _=y(this);return"/"+k(_.source)+"/"+k(C(_))},{unsafe:!0})},2023:(u,s,n)=>{var m=n(2109),g=n(1702),y=n(3929),k=n(4488),E=n(1340),C=n(4964),v=g("".indexOf);m({target:"String",proto:!0,forced:!C("includes")},{includes:function(h){return!!~v(E(k(this)),E(y(h)),arguments.length>1?arguments[1]:void 0)}})},8783:(u,s,n)=>{var m=n(8710).charAt,g=n(1340),y=n(9909),k=n(1656),E=n(6178),C="String Iterator",v=y.set,h=y.getterFor(C);k(String,"String",function(a){v(this,{type:C,string:g(a),index:0})},function(){var a,O=h(this),_=O.string,M=O.index;return M>=_.length?E(void 0,!0):(a=m(_,M),O.index+=a.length,E(a,!1))})},4723:(u,s,n)=>{var m=n(6916),g=n(7007),y=n(9670),k=n(8554),E=n(7466),C=n(1340),v=n(4488),h=n(8173),a=n(1530),O=n(7651);g("match",function(_,M,P){return[function(R){var $=v(this),F=k(R)?void 0:h(R,_);return F?m(F,R,$):new RegExp(R)[_](C($))},function(R){var $=y(this),F=C(R),j=P(M,$,F);if(j.done)return j.value;if(!$.global)return O($,F);var X=$.unicode;$.lastIndex=0;for(var W,V=[],K=0;(W=O($,F))!==null;){var st=C(W[0]);V[K]=st,st===""&&($.lastIndex=a(F,E($.lastIndex),X)),K++}return K===0?null:V}]})},5306:(u,s,n)=>{var m=n(2104),g=n(6916),y=n(1702),k=n(7007),E=n(7293),C=n(9670),v=n(614),h=n(8554),a=n(9303),O=n(7466),_=n(1340),M=n(4488),P=n(1530),R=n(8173),$=n(647),F=n(7651),j=n(5112)("replace"),X=Math.max,W=Math.min,V=y([].concat),K=y([].push),st=y("".indexOf),it=y("".slice),pt="a".replace(/./,"$0")==="$0",ct=!!/./[j]&&/./[j]("a","$0")==="";k("replace",function(lt,J,Bt){var Tt=ct?"$":"$0";return[function(Ct,St){var at=M(this),yt=h(Ct)?void 0:R(Ct,j);return yt?g(yt,Ct,at,St):g(J,_(at),Ct,St)},function(Ct,St){var at=C(this),yt=_(Ct);if(typeof St=="string"&&st(St,Tt)===-1&&st(St,"$<")===-1){var kt=Bt(J,at,yt,St);if(kt.done)return kt.value}var xt=v(St);xt||(St=_(St));var Pt=at.global;if(Pt){var mt=at.unicode;at.lastIndex=0}for(var Yt=[];;){var ne=F(at,yt);if(ne===null||(K(Yt,ne),!Pt))break;_(ne[0])===""&&(at.lastIndex=P(yt,O(at.lastIndex),mt))}for(var Qt,Kt="",Xt=0,se=0;se<Yt.length;se++){for(var ue=_((ne=Yt[se])[0]),re=X(W(a(ne.index),yt.length),0),_t=[],ut=1;ut<ne.length;ut++)K(_t,(Qt=ne[ut])===void 0?Qt:String(Qt));var Mt=ne.groups;if(xt){var qt=V([ue],_t,re,yt);Mt!==void 0&&K(qt,Mt);var Nt=_(m(St,void 0,qt))}else Nt=$(ue,yt,re,_t,Mt,St);re>=Xt&&(Kt+=it(yt,Xt,re)+Nt,Xt=re+ue.length)}return Kt+it(yt,Xt)}]},!!E(function(){var lt=/./;return lt.exec=function(){var J=[];return J.groups={a:"7"},J},"".replace(lt,"$<a>")!=="7"})||!pt||ct)},6755:(u,s,n)=>{var m,g=n(2109),y=n(1470),k=n(1236).f,E=n(7466),C=n(1340),v=n(3929),h=n(4488),a=n(4964),O=n(1913),_=y("".startsWith),M=y("".slice),P=Math.min,R=a("startsWith");g({target:"String",proto:!0,forced:!(!O&&!R&&(m=k(String.prototype,"startsWith"),m&&!m.writable)||R)},{startsWith:function($){var F=C(h(this));v($);var j=E(P(arguments.length>1?arguments[1]:void 0,F.length)),X=C($);return _?_(F,X,j):M(F,j,j+X.length)===X}})},3210:(u,s,n)=>{var m=n(2109),g=n(3111).trim;m({target:"String",proto:!0,forced:n(6091)("trim")},{trim:function(){return g(this)}})},2443:(u,s,n)=>{n(6800)("asyncIterator")},4032:(u,s,n)=>{var m=n(2109),g=n(7854),y=n(6916),k=n(1702),E=n(1913),C=n(9781),v=n(6293),h=n(7293),a=n(2597),O=n(7976),_=n(9670),M=n(5656),P=n(4948),R=n(1340),$=n(9114),F=n(30),j=n(1956),X=n(8006),W=n(1156),V=n(5181),K=n(1236),st=n(3070),it=n(6048),pt=n(5296),ct=n(8052),lt=n(7045),J=n(2309),Bt=n(6200),Tt=n(3501),Ct=n(9711),St=n(5112),at=n(6061),yt=n(6800),kt=n(6532),xt=n(8003),Pt=n(9909),mt=n(2092).forEach,Yt=Bt("hidden"),ne="Symbol",Qt="prototype",Kt=Pt.set,Xt=Pt.getterFor(ne),se=Object[Qt],ue=g.Symbol,re=ue&&ue[Qt],_t=g.TypeError,ut=g.QObject,Mt=K.f,qt=st.f,Nt=W.f,Vt=pt.f,Ut=k([].push),Wt=J("symbols"),Ft=J("op-symbols"),jt=J("wks"),ee=!ut||!ut[Qt]||!ut[Qt].findChild,Lt=C&&h(function(){return F(qt({},"a",{get:function(){return qt(this,"a",{value:7}).a}})).a!=7})?function(De,me,Oe){var Pe=Mt(se,me);Pe&&delete se[me],qt(De,me,Oe),Pe&&De!==se&&qt(se,me,Pe)}:qt,he=function(De,me){var Oe=Wt[De]=F(re);return Kt(Oe,{type:ne,tag:De,description:me}),C||(Oe.description=me),Oe},Ht=function(De,me,Oe){De===se&&Ht(Ft,me,Oe),_(De);var Pe=P(me);return _(Oe),a(Wt,Pe)?(Oe.enumerable?(a(De,Yt)&&De[Yt][Pe]&&(De[Yt][Pe]=!1),Oe=F(Oe,{enumerable:$(0,!1)})):(a(De,Yt)||qt(De,Yt,$(1,{})),De[Yt][Pe]=!0),Lt(De,Pe,Oe)):qt(De,Pe,Oe)},Se=function(De,me){_(De);var Oe=M(me),Pe=j(Oe).concat(We(Oe));return mt(Pe,function(ze){C&&!y(Te,Oe,ze)||Ht(De,ze,Oe[ze])}),De},Te=function(De){var me=P(De),Oe=y(Vt,this,me);return!(this===se&&a(Wt,me)&&!a(Ft,me))&&(!(Oe||!a(this,me)||!a(Wt,me)||a(this,Yt)&&this[Yt][me])||Oe)},we=function(De,me){var Oe=M(De),Pe=P(me);if(Oe!==se||!a(Wt,Pe)||a(Ft,Pe)){var ze=Mt(Oe,Pe);return!ze||!a(Wt,Pe)||a(Oe,Yt)&&Oe[Yt][Pe]||(ze.enumerable=!0),ze}},Ue=function(De){var me=Nt(M(De)),Oe=[];return mt(me,function(Pe){a(Wt,Pe)||a(Tt,Pe)||Ut(Oe,Pe)}),Oe},We=function(De){var me=De===se,Oe=Nt(me?Ft:M(De)),Pe=[];return mt(Oe,function(ze){!a(Wt,ze)||me&&!a(se,ze)||Ut(Pe,Wt[ze])}),Pe};v||(ct(re=(ue=function(){if(O(re,this))throw _t("Symbol is not a constructor");var De=arguments.length&&arguments[0]!==void 0?R(arguments[0]):void 0,me=Ct(De),Oe=function(Pe){this===se&&y(Oe,Ft,Pe),a(this,Yt)&&a(this[Yt],me)&&(this[Yt][me]=!1),Lt(this,me,$(1,Pe))};return C&&ee&&Lt(se,me,{configurable:!0,set:Oe}),he(me,De)})[Qt],"toString",function(){return Xt(this).tag}),ct(ue,"withoutSetter",function(De){return he(Ct(De),De)}),pt.f=Te,st.f=Ht,it.f=Se,K.f=we,X.f=W.f=Ue,V.f=We,at.f=function(De){return he(St(De),De)},C&&(lt(re,"description",{configurable:!0,get:function(){return Xt(this).description}}),E||ct(se,"propertyIsEnumerable",Te,{unsafe:!0}))),m({global:!0,constructor:!0,wrap:!0,forced:!v,sham:!v},{Symbol:ue}),mt(j(jt),function(De){yt(De)}),m({target:ne,stat:!0,forced:!v},{useSetter:function(){ee=!0},useSimple:function(){ee=!1}}),m({target:"Object",stat:!0,forced:!v,sham:!C},{create:function(De,me){return me===void 0?F(De):Se(F(De),me)},defineProperty:Ht,defineProperties:Se,getOwnPropertyDescriptor:we}),m({target:"Object",stat:!0,forced:!v},{getOwnPropertyNames:Ue}),kt(),xt(ue,ne),Tt[Yt]=!0},1817:(u,s,n)=>{var m=n(2109),g=n(9781),y=n(7854),k=n(1702),E=n(2597),C=n(614),v=n(7976),h=n(1340),a=n(7045),O=n(9920),_=y.Symbol,M=_&&_.prototype;if(g&&C(_)&&(!("description"in M)||_().description!==void 0)){var P={},R=function(){var K=arguments.length<1||arguments[0]===void 0?void 0:h(arguments[0]),st=v(M,this)?new _(K):K===void 0?_():_(K);return K===""&&(P[st]=!0),st};O(R,_),R.prototype=M,M.constructor=R;var $=String(_("test"))=="Symbol(test)",F=k(M.valueOf),j=k(M.toString),X=/^Symbol\((.*)\)[^)]+$/,W=k("".replace),V=k("".slice);a(M,"description",{configurable:!0,get:function(){var K=F(this);if(E(P,K))return"";var st=j(K),it=$?V(st,7,-1):W(st,X,"$1");return it===""?void 0:it}}),m({global:!0,constructor:!0,forced:!0},{Symbol:R})}},763:(u,s,n)=>{var m=n(2109),g=n(5005),y=n(2597),k=n(1340),E=n(2309),C=n(2015),v=E("string-to-symbol-registry"),h=E("symbol-to-string-registry");m({target:"Symbol",stat:!0,forced:!C},{for:function(a){var O=k(a);if(y(v,O))return v[O];var _=g("Symbol")(O);return v[O]=_,h[_]=O,_}})},2165:(u,s,n)=>{n(6800)("iterator")},2526:(u,s,n)=>{n(4032),n(763),n(6620),n(8862),n(9660)},6620:(u,s,n)=>{var m=n(2109),g=n(2597),y=n(2190),k=n(6330),E=n(2309),C=n(2015),v=E("symbol-to-string-registry");m({target:"Symbol",stat:!0,forced:!C},{keyFor:function(h){if(!y(h))throw TypeError(k(h)+" is not a symbol");if(g(v,h))return v[h]}})},6649:(u,s,n)=>{var m=n(6800),g=n(6532);m("toPrimitive"),g()},3680:(u,s,n)=>{var m=n(5005),g=n(6800),y=n(8003);g("toStringTag"),y(m("Symbol"),"Symbol")},4747:(u,s,n)=>{var m=n(7854),g=n(8324),y=n(8509),k=n(8533),E=n(8880),C=function(h){if(h&&h.forEach!==k)try{E(h,"forEach",k)}catch(a){h.forEach=k}};for(var v in g)g[v]&&C(m[v]&&m[v].prototype);C(y)},3948:(u,s,n)=>{var m=n(7854),g=n(8324),y=n(8509),k=n(6992),E=n(8880),C=n(5112),v=C("iterator"),h=C("toStringTag"),a=k.values,O=function(M,P){if(M){if(M[v]!==a)try{E(M,v,a)}catch($){M[v]=a}if(M[h]||E(M,h,P),g[P]){for(var R in k)if(M[R]!==k[R])try{E(M,R,k[R])}catch($){M[R]=k[R]}}}};for(var _ in g)O(m[_]&&m[_].prototype,_);O(y,"DOMTokenList")},6815:(u,s,n)=>{var m=n(2109),g=n(7854),y=n(7152)(g.setInterval,!0);m({global:!0,bind:!0,forced:g.setInterval!==y},{setInterval:y})},8417:(u,s,n)=>{var m=n(2109),g=n(7854),y=n(7152)(g.setTimeout,!0);m({global:!0,bind:!0,forced:g.setTimeout!==y},{setTimeout:y})},2564:(u,s,n)=>{n(6815),n(8417)},4686:()=>{}},I={};function L(u){var s=I[u];if(s!==void 0)return s.exports;var n=I[u]={exports:{}};return f[u](n,n.exports,L),n.exports}L.n=u=>{var s=u&&u.__esModule?()=>u.default:()=>u;return L.d(s,{a:s}),s},L.d=(u,s)=>{for(var n in s)L.o(s,n)&&!L.o(u,n)&&Object.defineProperty(u,n,{enumerable:!0,get:s[n]})},L.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(u){if(typeof window=="object")return window}}(),L.o=(u,s)=>Object.prototype.hasOwnProperty.call(u,s),L.r=u=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})};var d={};return(()=>{L.r(d),L.d(d,{JSONEditor:()=>ss}),L(3710),L(1539),L(9714),L(5827),L(6833),L(9826),L(9554),L(4747),L(7941),L(2222),L(9601),L(6649),L(6078),L(2526),L(1817),L(9653),L(9070),L(8674),L(2165),L(6992),L(8783),L(3948),L(2443),L(3680),L(3706),L(2703),L(8011),L(489),L(8309),L(8304),L(5069),L(7042),L(9753),L(1038),L(4916),L(9720),L(5306),L(4603),L(6699);var u=["actionscript","batchfile","c","c++","cpp","coffee","csharp","css","dart","django","ejs","erlang","golang","groovy","handlebars","haskell","haxe","html","ini","jade","java","javascript","json","less","lisp","lua","makefile","matlab","mysql","objectivec","pascal","perl","pgsql","php","python","r","ruby","sass","scala","scss","smarty","sql","sqlserver","stylus","svg","twig","vbscript","xml","yaml"],s=[function(ht){return ht.type==="string"&&ht.format==="color"&&"colorpicker"},function(ht){return ht.type==="string"&&["ip","ipv4","ipv6","hostname"].includes(ht.format)&&"ip"},function(ht){return ht.type==="string"&&u.includes(ht.format)&&"ace"},function(ht){return ht.type==="string"&&["xhtml","bbcode"].includes(ht.format)&&"sceditor"},function(ht){return ht.type==="string"&&ht.format==="markdown"&&"simplemde"},function(ht){return ht.type==="string"&&ht.format==="jodit"&&"jodit"},function(ht){return ht.type==="string"&&ht.format==="autocomplete"&&"autocomplete"},function(ht){return ht.type==="string"&&ht.format==="uuid"&&"uuid"},function(ht){return ht.format==="info"&&"info"},function(ht){return ht.format==="button"&&"button"},function(ht){if((ht.type==="integer"||ht.type==="number")&&ht.format==="stepper")return"stepper"},function(ht){if(ht.links){for(var H=0;H<ht.links.length;H++)if(ht.links[H].rel&&ht.links[H].rel.toLowerCase()==="describedby")return"describedBy"}},function(ht){return["string","integer"].includes(ht.type)&&["starrating","rating"].includes(ht.format)&&"starrating"},function(ht){return["string","integer"].includes(ht.type)&&["date","time","datetime-local"].includes(ht.format)&&"datetime"},function(ht){return(ht.oneOf||ht.anyOf)&&"multiple"},function(ht){if(ht.type==="array"&&ht.items&&!Array.isArray(ht.items)&&["string","number","integer"].includes(ht.items.type)){if(ht.format==="choices")return"arrayChoices";if(ht.uniqueItems){if(ht.format==="selectize")return"arraySelectize";if(ht.format==="select2")return"arraySelect2";if(ht.items.enum)return"multiselect"}}},function(ht){if(ht.enum){if(ht.type==="array"||ht.type==="object")return"enum";if(ht.type==="number"||ht.type==="integer"||ht.type==="string")return ht.format==="radio"?"radio":ht.format==="select2"?"select2":ht.format==="selectize"?"selectize":ht.format==="choices"?"choices":"select"}},function(ht){if(ht.enumSource)return ht.format==="radio"?"radio":ht.format==="select2"?"select2":ht.format==="selectize"?"selectize":ht.format==="choices"?"choices":"select"},function(ht){return ht.type==="array"&&ht.format==="table"&&"table"},function(ht){return ht.type==="string"&&ht.format==="url"&&window.FileReader&&ht.options&&ht.options.upload===Object(ht.options.upload)&&"upload"},function(ht){return ht.type==="string"&&ht.media&&ht.media.binaryEncoding==="base64"&&"base64"},function(ht){return ht.type==="any"&&"multiple"},function(ht){if(ht.type==="boolean")return ht.format==="checkbox"||ht.options&&ht.options.checkbox?"checkbox":ht.format==="select2"?"select2":ht.format==="selectize"?"selectize":ht.format==="choices"?"choices":"select"},function(ht){return ht.type==="string"&&ht.format==="signature"&&"signature"},function(ht){return typeof ht.type=="string"&&ht.type},function(ht){return!ht.type&&ht.properties&&"object"},function(ht){return typeof ht.type!="string"&&"multiple"}];function n(ht){return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},n(ht)}function m(ht){return!(ht===null||n(ht)!=="object"||ht.nodeType||ht===ht.window||ht.constructor&&!C(ht.constructor.prototype,"isPrototypeOf"))}function g(ht){return m(ht)?y({},ht):Array.isArray(ht)?ht.map(g):ht}function y(ht){for(var H=arguments.length,At=new Array(H>1?H-1:0),q=1;q<H;q++)At[q-1]=arguments[q];return At.forEach(function(bt){bt&&Object.keys(bt).forEach(function(Q){bt[Q]&&m(bt[Q])?(C(ht,Q)||(ht[Q]={}),y(ht[Q],bt[Q])):Array.isArray(bt[Q])?ht[Q]=g(bt[Q]):ht[Q]=bt[Q]})}),ht}function k(ht,H){var At=document.createEvent("HTMLEvents");At.initEvent(H,!0,!0),ht.dispatchEvent(At)}function E(ht){return ht&&(ht.toString()==="[object ShadowRoot]"?ht:E(ht.parentNode))}function C(ht,H){return ht&&Object.prototype.hasOwnProperty.call(ht,H)}L(4812),L(2419),L(4819),L(5003),L(4723),L(2023),L(9600),L(5212),L(6755),L(1249),L(4678),L(1058);var v=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,h=/^\s*(-|\+)?(\d+)\s*$/;function a(){var ht=new Date().getTime();return typeof performance!="undefined"&&typeof performance.now=="function"&&(ht+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(H){var At=(ht+16*Math.random())%16|0;return ht=Math.floor(ht/16),(H==="x"?At:3&At|8).toString(16)})}function O(ht,H){(H==null||H>ht.length)&&(H=ht.length);for(var At=0,q=new Array(H);At<H;At++)q[At]=ht[At];return q}function _(ht){return _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},_(ht)}function M(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(_(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(_(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),_(bt)==="symbol"?bt:String(bt)),q)}var bt}var P=function(){function ht(q,bt){(function(Q,ot){if(!(Q instanceof ot))throw new TypeError("Cannot call a class as a function")})(this,ht),this.defaults=bt,this.jsoneditor=q.jsoneditor,this.theme=this.jsoneditor.theme,this.template_engine=this.jsoneditor.template,this.iconlib=this.jsoneditor.iconlib,this.translate=this.jsoneditor.translate||this.defaults.translate,this.translateProperty=this.jsoneditor.translateProperty||this.defaults.translateProperty,this.original_schema=q.schema,this.schema=this.jsoneditor.expandSchema(this.original_schema),this.active=!0,this.options=y({},this.options||{},this.schema.options||{},q.schema.options||{},q),this.formname=this.jsoneditor.options.form_name_root||"root",q.path||this.schema.id||(this.schema.id=this.formname),this.path=q.path||this.formname,this.formname=q.formname||this.path.replace(/\.([^.]+)/g,"[$1]"),this.parent=q.parent,this.key=this.parent!==void 0?this.path.split(".").slice(this.parent.path.split(".").length).join("."):this.path,this.link_watchers=[],this.watchLoop=!1,q.container&&this.setContainer(q.container),this.registerDependencies()}var H,At;return H=ht,At=[{key:"onChildEditorChange",value:function(q){this.onChange(!0)}},{key:"notify",value:function(){this.path&&this.jsoneditor.notifyWatchers(this.path)}},{key:"change",value:function(){this.parent?this.parent.onChildEditorChange(this):this.jsoneditor&&this.jsoneditor.onChange()}},{key:"onChange",value:function(q){this.notify(),this.watch_listener&&this.watch_listener(),q&&this.change()}},{key:"register",value:function(){this.jsoneditor.registerEditor(this),this.onChange()}},{key:"unregister",value:function(){this.jsoneditor&&this.jsoneditor.unregisterEditor(this)}},{key:"getNumColumns",value:function(){return 12}},{key:"isActive",value:function(){return this.active}},{key:"activate",value:function(){this.active=!0,this.optInCheckbox.checked=!0,this.enable(),this.change()}},{key:"deactivate",value:function(){this.isRequired()||(this.active=!1,this.optInCheckbox.checked=!1,this.disable(),this.change())}},{key:"registerDependencies",value:function(){var q=this;this.dependenciesFulfilled=!0;var bt=this.options.dependencies;bt&&Object.keys(bt).forEach(function(Q){var ot=q.path.split(".");ot[ot.length-1]=Q,ot=ot.join("."),q.jsoneditor.watch(ot,function(){q.evaluateDependencies()})})}},{key:"evaluateDependencies",value:function(){var q=this,bt=this.container||this.control;if(bt&&this.jsoneditor!==null){var Q=this.options.dependencies;if(Q){var ot=this.dependenciesFulfilled;this.dependenciesFulfilled=!0,Object.keys(Q).forEach(function(b){var Z=q.path.split(".");Z[Z.length-1]=b,Z=Z.join(".");var dt=Q[b];q.checkDependency(Z,dt)}),this.dependenciesFulfilled!==ot&&this.notify();var r=this.dependenciesFulfilled?"block":"none";this.options.hidden&&(r="none"),bt.tagName==="TD"?Object.keys(bt.childNodes).forEach(function(b){return bt.childNodes[b].style.display=r}):bt.style.display=r}}}},{key:"checkDependency",value:function(q,bt){var Q=this;if(this.path!==q&&this.jsoneditor!==null){var ot=this.jsoneditor.getEditor(q),r=ot?ot.getValue():void 0;ot&&ot.dependenciesFulfilled?Array.isArray(bt)?this.dependenciesFulfilled=bt.some(function(b){if(JSON.stringify(r)===JSON.stringify(b))return!0}):_(bt)==="object"?_(r)!=="object"?this.dependenciesFulfilled=bt===r:Object.keys(bt).some(function(b){return!!C(bt,b)&&(C(r,b)&&bt[b]===r[b]?void 0:(Q.dependenciesFulfilled=!1,!0))}):typeof bt=="string"||typeof bt=="number"?this.dependenciesFulfilled=this.dependenciesFulfilled&&r===bt:typeof bt=="boolean"&&(this.dependenciesFulfilled=bt?this.dependenciesFulfilled&&(r||r.length>0):this.dependenciesFulfilled&&(!r||r.length===0)):this.dependenciesFulfilled=!1}}},{key:"setContainer",value:function(q){this.container=q,this.setContainerAttributes(),this.schema.id&&this.container.setAttribute("data-schemaid",this.schema.id),this.schema.type&&typeof this.schema.type=="string"&&this.container.setAttribute("data-schematype",this.schema.type),this.container.setAttribute("data-schemapath",this.path)}},{key:"setOptInCheckbox",value:function(q){var bt=this;this.optInCheckbox=document.createElement("input"),this.optInCheckbox.setAttribute("type","checkbox"),this.optInCheckbox.setAttribute("style","margin: 0 10px 0 0;"),this.optInCheckbox.classList.add("json-editor-opt-in"),this.optInCheckbox.addEventListener("click",function(){bt.isActive()?bt.deactivate():bt.activate()});var Q=this.jsoneditor.options.show_opt_in,ot=this.parent.options.show_opt_in!==void 0,r=ot&&this.parent.options.show_opt_in===!0,b=ot&&this.parent.options.show_opt_in===!1;(r||!b&&Q||!ot&&Q)&&this.parent&&this.parent.schema.type==="object"&&!this.isRequired()&&this.header&&(this.header.appendChild(this.optInCheckbox),this.header.insertBefore(this.optInCheckbox,this.header.firstChild))}},{key:"preBuild",value:function(){}},{key:"build",value:function(){}},{key:"postBuild",value:function(){this.setupWatchListeners(),this.addLinks(),this.setValue(this.getDefault(),!0),this.updateHeaderText(),this.register(),this.onWatchedFieldChange()}},{key:"setupWatchListeners",value:function(){var q=this;if(this.watched={},this.schema.vars&&(this.schema.watch=this.schema.vars),this.watched_values={},this.watch_listener=function(){q.refreshWatchedFieldValues()&&q.onWatchedFieldChange()},C(this.schema,"watch")){var bt,Q,ot,r,b,Z=this.container.getAttribute("data-schemapath");Object.keys(this.schema.watch).forEach(function(dt){if(bt=q.schema.watch[dt],Array.isArray(bt)){if(bt.length<2)return;Q=[bt[0]].concat(bt[1].split("."))}else Q=bt.split("."),q.theme.closest(q.container,'[data-schemaid="'.concat(Q[0],'"]'))||Q.unshift("#");if((ot=Q.shift())==="#"&&(ot=q.jsoneditor.schema.id||q.jsoneditor.root.formname),!(r=q.theme.closest(q.container,'[data-schemaid="'.concat(ot,'"]'))))throw new Error("Could not find ancestor node with id ".concat(ot));b="".concat(r.getAttribute("data-schemapath"),".").concat(Q.join(".")),Z.startsWith(b)&&(q.watchLoop=!0),q.jsoneditor.watch(b,q.watch_listener),q.watched[dt]=b})}this.schema.headerTemplate&&(this.header_template=this.jsoneditor.compileTemplate(this.schema.headerTemplate,this.template_engine))}},{key:"addLinks",value:function(){if(!this.no_link_holder&&(this.link_holder=this.theme.getLinksHolder(),this.description!==void 0?this.description.parentNode.insertBefore(this.link_holder,this.description):this.container.appendChild(this.link_holder),this.schema.links))for(var q=0;q<this.schema.links.length;q++)this.addLink(this.getLink(this.schema.links[q]))}},{key:"onMove",value:function(){}},{key:"getButton",value:function(q,bt,Q){var ot=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],r="json-editor-btn-".concat(bt);bt=this.iconlib?this.iconlib.getIcon(bt):null,q=this.translate(q,ot),Q=this.translate(Q,ot),!bt&&Q&&(q=Q,Q=null);var b=this.theme.getButton(q,bt,Q);return b.classList.add(r),b}},{key:"setButtonText",value:function(q,bt,Q,ot){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[];return Q=this.iconlib?this.iconlib.getIcon(Q):null,bt=this.translate(bt,r),ot=this.translate(ot,r),!Q&&ot&&(bt=ot,ot=null),this.theme.setButtonText(q,bt,Q,ot)}},{key:"addLink",value:function(q){this.link_holder&&this.link_holder.appendChild(q)}},{key:"getLink",value:function(q){var bt,Q,ot=(q.mediaType||"application/javascript").split("/")[0],r=this.jsoneditor.compileTemplate(q.href,this.template_engine),b=this.jsoneditor.compileTemplate(q.rel?q.rel:q.href,this.template_engine),Z=null;if(q.download&&(Z=q.download),Z&&Z!==!0&&(Z=this.jsoneditor.compileTemplate(Z,this.template_engine)),ot==="image"){bt=this.theme.getBlockLinkHolder(),(Q=document.createElement("a")).setAttribute("target","_blank");var dt=document.createElement("img");this.theme.createImageLink(bt,Q,dt),this.link_watchers.push(function(te){var Ce=r(te),Ke=b(te);Q.setAttribute("href",Ce),Q.setAttribute("title",Ke||Ce),dt.setAttribute("src",Ce)})}else if(["audio","video"].includes(ot)){bt=this.theme.getBlockLinkHolder(),(Q=this.theme.getBlockLink()).setAttribute("target","_blank");var wt=document.createElement(ot);wt.setAttribute("controls","controls"),this.theme.createMediaLink(bt,Q,wt),this.link_watchers.push(function(te){var Ce=r(te),Ke=b(te);Q.setAttribute("href",Ce),Q.textContent=Ke||Ce,wt.setAttribute("src",Ce)})}else Q=bt=this.theme.getBlockLink(),bt.setAttribute("target","_blank"),bt.textContent=q.rel,bt.style.display="none",this.link_watchers.push(function(te){var Ce=r(te),Ke=b(te);Ce&&(bt.style.display=""),bt.setAttribute("href",Ce),bt.textContent=Ke||Ce});return Z&&Q&&(Z===!0?Q.setAttribute("download",""):this.link_watchers.push(function(te){Q.setAttribute("download",Z(te))})),q.class&&Q.classList.add(q.class),bt}},{key:"refreshWatchedFieldValues",value:function(){var q=this;if(this.watched_values){var bt={},Q=!1;return this.watched&&Object.keys(this.watched).forEach(function(ot){var r=q.jsoneditor.getEditor(q.watched[ot]),b=r?r.getValue():null;q.watched_values[ot]!==b&&(Q=!0),bt[ot]=b}),bt.self=this.getValue(),this.watched_values.self!==bt.self&&(Q=!0),this.watched_values=bt,Q}}},{key:"getWatchedFieldValues",value:function(){return this.watched_values}},{key:"updateHeaderText",value:function(){if(this.header){var q=this.getHeaderText();if(this.header.children.length){for(var bt=0;bt<this.header.childNodes.length;bt++)if(this.header.childNodes[bt].nodeType===3){this.header.childNodes[bt].nodeValue=this.cleanText(q);break}}else window.DOMPurify?this.header.innerHTML=window.DOMPurify.sanitize(q):this.header.textContent=this.cleanText(q)}}},{key:"getHeaderText",value:function(q){return this.header_text?this.header_text:q?this.translateProperty(this.schema.title):this.getTitle()}},{key:"getPathDepth",value:function(){return this.path.split(".").length}},{key:"cleanText",value:function(q){var bt=document.createElement("div");return bt.innerHTML=q,bt.textContent||bt.innerText}},{key:"onWatchedFieldChange",value:function(){var q;if(this.header_template){q=y(this.getWatchedFieldValues(),{key:this.key,i:this.key,i0:1*this.key,i1:1*this.key+1,title:this.getTitle()});var bt=this.header_template(q);bt!==this.header_text&&(this.header_text=bt,this.updateHeaderText(),this.notify())}if(this.link_watchers.length){q=this.getWatchedFieldValues();for(var Q=0;Q<this.link_watchers.length;Q++)this.link_watchers[Q](q)}}},{key:"setValue",value:function(q){this.value=q}},{key:"getValue",value:function(){if(this.dependenciesFulfilled)return this.value}},{key:"refreshValue",value:function(){}},{key:"getChildEditors",value:function(){return!1}},{key:"destroy",value:function(){var q=this;this.unregister(this),this.watched&&Object.values(this.watched).forEach(function(bt){return q.jsoneditor.unwatch(bt,q.watch_listener)}),this.watched=null,this.watched_values=null,this.watch_listener=null,this.header_text=null,this.header_template=null,this.value=null,this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container),this.container=null,this.jsoneditor=null,this.schema=null,this.path=null,this.key=null,this.parent=null}},{key:"isDefaultRequired",value:function(){return this.isRequired()||!!this.jsoneditor.options.use_default_values}},{key:"getDefault",value:function(){if(this.schema.default!==void 0)return this.schema.default;if(this.schema.enum!==void 0)return this.schema.enum[0];var q=this.schema.type||this.schema.oneOf;if(q&&Array.isArray(q)&&(q=q[0]),q&&_(q)==="object"&&(q=q.type),q&&Array.isArray(q)&&(q=q[0]),typeof q=="string"){if(q==="number")return this.isDefaultRequired()?0:void 0;if(q==="boolean")return!this.isDefaultRequired()&&void 0;if(q==="integer")return this.isDefaultRequired()?0:void 0;if(q==="string")return this.isDefaultRequired()?"":void 0;if(q==="null")return null;if(q==="object")return{};if(q==="array")return[]}}},{key:"getTitle",value:function(){return this.translateProperty(this.schema.title||this.key)}},{key:"enable",value:function(){this.disabled=!1}},{key:"disable",value:function(){this.disabled=!0}},{key:"isEnabled",value:function(){return!this.disabled}},{key:"isRequired",value:function(){return typeof this.schema.required=="boolean"?this.schema.required:this.parent&&this.parent.schema&&Array.isArray(this.parent.schema.required)?this.parent.schema.required.includes(this.key):!!this.jsoneditor.options.required_by_default}},{key:"getDisplayText",value:function(q){var bt=[],Q={};q.forEach(function(r){r.title&&(Q[r.title]=Q[r.title]||0,Q[r.title]++),r.description&&(Q[r.description]=Q[r.description]||0,Q[r.description]++),r.format&&(Q[r.format]=Q[r.format]||0,Q[r.format]++),r.type&&(Q[r.type]=Q[r.type]||0,Q[r.type]++)}),q.forEach(function(r){var b;b=typeof r=="string"?r:r.title&&Q[r.title]<=1?r.title:r.format&&Q[r.format]<=1?r.format:r.type&&Q[r.type]<=1?r.type:r.description&&Q[r.description]<=1?r.description:r.title?r.title:r.format?r.format:r.type?r.type:r.description?r.description:JSON.stringify(r).length<500?JSON.stringify(r):"type",bt.push(b)});var ot={};return bt.forEach(function(r,b){ot[r]=ot[r]||0,ot[r]++,Q[r]>1&&(bt[b]="".concat(r," ").concat(ot[r]))}),bt}},{key:"getValidId",value:function(q){return(q=q===void 0?"":q.toString()).replace(/\s+/g,"-")}},{key:"setInputAttributes",value:function(q){var bt=this;if(this.schema.options&&this.schema.options.inputAttributes){var Q=this.schema.options.inputAttributes,ot=["name","type"].concat(q);Object.keys(Q).forEach(function(r){ot.includes(r.toLowerCase())||bt.input.setAttribute(r,Q[r])})}}},{key:"setContainerAttributes",value:function(){var q=this;if(this.schema.options&&this.schema.options.containerAttributes){var bt=this.schema.options.containerAttributes,Q=["data-schemapath","data-schematype","data-schemaid"];Object.keys(bt).forEach(function(ot){Q.includes(ot.toLowerCase())||q.container.setAttribute(ot,bt[ot])})}}},{key:"expandCallbacks",value:function(q,bt){var Q=this,ot=this.defaults.callbacks[q];return Object.entries(bt).forEach(function(r){var b,Z,dt=(Z=2,function(Ce){if(Array.isArray(Ce))return Ce}(b=r)||function(Ce,Ke){var Ln=Ce==null?null:typeof Symbol!="undefined"&&Ce[Symbol.iterator]||Ce["@@iterator"];if(Ln!=null){var Qn,ur,fr,Mr,Ur=[],zr=!0,Si=!1;try{if(fr=(Ln=Ln.call(Ce)).next,Ke===0){if(Object(Ln)!==Ln)return;zr=!1}else for(;!(zr=(Qn=fr.call(Ln)).done)&&(Ur.push(Qn.value),Ur.length!==Ke);zr=!0);}catch(ho){Si=!0,ur=ho}finally{try{if(!zr&&Ln.return!=null&&(Mr=Ln.return(),Object(Mr)!==Mr))return}finally{if(Si)throw ur}}return Ur}}(b,Z)||function(Ce,Ke){if(Ce){if(typeof Ce=="string")return O(Ce,Ke);var Ln=Object.prototype.toString.call(Ce).slice(8,-1);return Ln==="Object"&&Ce.constructor&&(Ln=Ce.constructor.name),Ln==="Map"||Ln==="Set"?Array.from(Ce):Ln==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ln)?O(Ce,Ke):void 0}}(b,Z)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),wt=dt[0],te=dt[1];te===Object(te)?bt[wt]=Q.expandCallbacks(q,te):typeof te=="string"&&_(ot)==="object"&&typeof ot[te]=="function"&&(bt[wt]=ot[te].bind(null,Q))}),bt}},{key:"showValidationErrors",value:function(q){}}],At&&M(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ht}();function R(ht){return R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},R(ht)}function $(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(R(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(R(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),R(bt)==="symbol"?bt:String(bt)),q)}var bt}function F(){return F=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(ht,H,At){var q=function(Q,ot){for(;!Object.prototype.hasOwnProperty.call(Q,ot)&&(Q=X(Q))!==null;);return Q}(ht,H);if(q){var bt=Object.getOwnPropertyDescriptor(q,H);return bt.get?bt.get.call(arguments.length<3?ht:At):bt.value}},F.apply(this,arguments)}function j(ht,H){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},j(ht,H)}function X(ht){return X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},X(ht)}var W=function(ht){(function(r,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(b&&b.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),b&&j(r,b)})(ot,ht);var H,At,q,bt,Q=(q=ot,bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,b=X(q);if(bt){var Z=X(this).constructor;r=Reflect.construct(b,arguments,Z)}else r=b.apply(this,arguments);return function(dt,wt){if(wt&&(R(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(dt)}(this,r)});function ot(){return function(r,b){if(!(r instanceof b))throw new TypeError("Cannot call a class as a function")}(this,ot),Q.apply(this,arguments)}return H=ot,(At=[{key:"register",value:function(){F(X(ot.prototype),"register",this).call(this),this.input&&(this.jsoneditor.options.use_name_attributes&&this.input.setAttribute("name",this.formname),this.input.setAttribute("aria-label",this.formname))}},{key:"unregister",value:function(){F(X(ot.prototype),"unregister",this).call(this),this.input&&(this.input.removeAttribute("name"),this.input.removeAttribute("aria-label"))}},{key:"setValue",value:function(r,b,Z){if((!this.template||Z)&&(this.shouldBeUnset()||r!=null?R(r)==="object"?r=JSON.stringify(r):this.shouldBeUnset()||typeof r=="string"||(r="".concat(r)):r="",r!==this.serialized)){var dt=this.sanitize(r);if(this.input.value!==dt){if(this.setValueToInputField(dt),this.format==="range"){var wt=this.control.querySelector("output");wt&&(wt.value=dt)}var te=Z||this.getValue()!==r;return this.refreshValue(),b?this.is_dirty=!1:this.jsoneditor.options.show_errors==="change"&&(this.is_dirty=!0),this.adjust_height&&this.adjust_height(this.input),this.onChange(te),{changed:te,value:dt}}}}},{key:"setValueToInputField",value:function(r){this.input.value=r===void 0?"":r}},{key:"getNumColumns",value:function(){var r,b=Math.ceil(Math.max(this.getTitle().length,this.schema.maxLength||0,this.schema.minLength||0)/5);return r=this.input_type==="textarea"?6:["text","email"].includes(this.input_type)?4:2,Math.min(12,Math.max(b,r))}},{key:"build",value:function(){var r=this;if(this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle(),this.isRequired())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.translateProperty(this.schema.description))),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.translateProperty(this.options.infoText))),this.format=this.schema.format,!this.format&&this.schema.media&&this.schema.media.type&&(this.format=this.schema.media.type.replace(/(^(application|text)\/(x-)?(script\.)?)|(-source$)/g,"")),!this.format&&this.options.default_format&&(this.format=this.options.default_format),this.options.format&&(this.format=this.options.format),this.format)if(this.format==="textarea")this.input_type="textarea",this.input=this.theme.getTextareaInput();else if(this.format==="range"){this.input_type="range";var b=this.schema.minimum||0,Z=this.schema.maximum||Math.max(100,b+1),dt=1;this.schema.multipleOf&&(b%this.schema.multipleOf&&(b=Math.ceil(b/this.schema.multipleOf)*this.schema.multipleOf),Z%this.schema.multipleOf&&(Z=Math.floor(Z/this.schema.multipleOf)*this.schema.multipleOf),dt=this.schema.multipleOf),this.input=this.theme.getRangeInput(b,Z,dt)}else this.input_type="text",["button","checkbox","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","reset","search","submit","tel","text","time","url","week"].includes(this.format)&&(this.input_type=this.format),this.input=this.theme.getFormInputField(this.input_type);else this.input_type="text",this.input=this.theme.getFormInputField(this.input_type);this.schema.maxLength!==void 0&&this.input.setAttribute("maxlength",this.schema.maxLength),this.schema.pattern!==void 0?this.input.setAttribute("pattern",this.schema.pattern):this.schema.minLength!==void 0&&this.input.setAttribute("pattern",".{".concat(this.schema.minLength,",}")),this.options.compact?this.container.classList.add("compact"):this.options.input_width&&(this.input.style.width=this.options.input_width),(this.schema.readOnly||this.schema.readonly||this.schema.template)&&(this.disable(!0),this.input.setAttribute("readonly","true")),this.setInputAttributes(["maxlength","pattern","readonly","min","max","step"]),this.input.addEventListener("change",function(Ce){if(Ce.preventDefault(),Ce.stopPropagation(),r.schema.template)Ce.currentTarget.value=r.value;else{var Ke=Ce.currentTarget.value,Ln=r.sanitize(Ke);Ke!==Ln&&(Ce.currentTarget.value=Ln),r.is_dirty=!0,r.refreshValue(),r.onChange(!0)}}),this.options.input_height&&(this.input.style.height=this.options.input_height),this.options.expand_height&&(this.adjust_height=function(Ce){if(Ce){var Ke,Ln=Ce.offsetHeight;if(Ce.offsetHeight<Ce.scrollHeight)for(Ke=0;Ce.offsetHeight<Ce.scrollHeight+3&&!(Ke>100);)Ke++,Ln++,Ce.style.height="".concat(Ln,"px");else{for(Ke=0;Ce.offsetHeight>=Ce.scrollHeight+3&&!(Ke>100);)Ke++,Ln--,Ce.style.height="".concat(Ln,"px");Ce.style.height="".concat(Ln+1,"px")}}},this.input.addEventListener("keyup",function(Ce){r.adjust_height(Ce.currentTarget)}),this.input.addEventListener("change",function(Ce){r.adjust_height(Ce.currentTarget)}),this.adjust_height()),this.format&&this.input.setAttribute("data-schemaformat",this.format);var wt=this.input;if(this.format==="range"&&(wt=this.theme.getRangeControl(this.input,this.theme.getRangeOutput(this.input,this.schema.default||Math.max(this.schema.minimum||0,0)))),this.control=this.theme.getFormControl(this.label,wt,this.description,this.infoButton,this.formname),this.container.appendChild(this.control),window.requestAnimationFrame(function(){r.input.parentNode&&r.afterInputReady(),r.adjust_height&&r.adjust_height(r.input),r.format==="range"&&(r.control.querySelector("output").value=r.input.value)}),this.schema.template){var te=this.expandCallbacks("template",{template:this.schema.template});typeof te.template=="function"?this.template=te.template:this.template=this.jsoneditor.compileTemplate(this.schema.template,this.template_engine),this.refreshValue()}else this.refreshValue()}},{key:"setupCleave",value:function(r){var b=this.expandCallbacks("cleave",y({},this.defaults.options.cleave||{},this.options.cleave||{}));R(b)==="object"&&Object.keys(b).length>0&&(this.cleave_instance=new window.Cleave(r,b))}},{key:"setupImask",value:function(r){var b=this.expandCallbacks("imask",y({},this.defaults.options.imask||{},this.options.imask||{}));R(b)==="object"&&Object.keys(b).length>0&&(this.imask_instance=window.IMask(r,this.ajustIMaskOptions(b)))}},{key:"ajustIMaskOptions",value:function(r){var b=this;return Object.keys(r).forEach(function(Z){if(r[Z]===Object(r[Z]))r[Z]=b.ajustIMaskOptions(r[Z]);else if(Z==="mask")if(r[Z].substr(0,6)==="regex:"){var dt=r[Z].match(/^regex:\/(.*)\/([gimsuy]*)$/);if(dt!==null)try{r[Z]=new RegExp(dt[1],dt[2])}catch(wt){}}else r[Z]=b.getGlobalPropertyFromString(r[Z])}),r}},{key:"getGlobalPropertyFromString",value:function(r){if(r.includes(".")){var b=r.split("."),Z=b[0],dt=b[1];if(window[Z]!==void 0&&window[Z][dt]!==void 0)return window[Z][dt]}else if(window[r]!==void 0)return window[r];return r}},{key:"shouldBeUnset",value:function(){return!this.jsoneditor.options.use_default_values&&!this.is_dirty}},{key:"getValue",value:function(){var r=!(!this.input||!this.input.value);if(!this.shouldBeUnset()||r)return this.imask_instance&&this.dependenciesFulfilled&&this.options.imask.returnUnmasked?this.imask_instance.unmaskedValue:F(X(ot.prototype),"getValue",this).call(this)}},{key:"enable",value:function(){this.always_disabled||(this.input.disabled=!1,F(X(ot.prototype),"enable",this).call(this))}},{key:"disable",value:function(r){r&&(this.always_disabled=!0),this.input.disabled=!0,F(X(ot.prototype),"disable",this).call(this)}},{key:"afterInputReady",value:function(){this.theme.afterInputReady(this.input),window.Cleave&&!this.cleave_instance?this.setupCleave(this.input):window.IMask&&!this.imask_instance&&this.setupImask(this.input)}},{key:"refreshValue",value:function(){this.value=this.input.value,typeof this.value=="string"||this.shouldBeUnset()||(this.value=""),this.serialized=this.value}},{key:"destroy",value:function(){this.cleave_instance&&this.cleave_instance.destroy(),this.imask_instance&&this.imask_instance.destroy(),this.template=null,this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),F(X(ot.prototype),"destroy",this).call(this)}},{key:"sanitize",value:function(r){return r}},{key:"onWatchedFieldChange",value:function(){var r;this.template&&(r=this.getWatchedFieldValues(),this.setValue(this.template(r),!1,!0)),F(X(ot.prototype),"onWatchedFieldChange",this).call(this)}},{key:"showValidationErrors",value:function(r){var b=this;if(this.jsoneditor.options.show_errors!=="always"){if(!this.is_dirty&&this.previous_error_setting===this.jsoneditor.options.show_errors)return}this.previous_error_setting=this.jsoneditor.options.show_errors;var Z=r.reduce(function(dt,wt){return wt.path===b.path&&dt.push(wt.message),dt},[]);Z.length?this.theme.addInputError(this.input,"".concat(Z.join(". "),".")):this.theme.removeInputError(this.input)}}])&&$(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ot}(P);function V(ht){return V=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},V(ht)}function K(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(V(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(V(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),V(bt)==="symbol"?bt:String(bt)),q)}var bt}function st(){return st=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(ht,H,At){var q=function(Q,ot){for(;!Object.prototype.hasOwnProperty.call(Q,ot)&&(Q=pt(Q))!==null;);return Q}(ht,H);if(q){var bt=Object.getOwnPropertyDescriptor(q,H);return bt.get?bt.get.call(arguments.length<3?ht:At):bt.value}},st.apply(this,arguments)}function it(ht,H){return it=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},it(ht,H)}function pt(ht){return pt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},pt(ht)}var ct=function(ht){(function(r,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(b&&b.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),b&&it(r,b)})(ot,ht);var H,At,q,bt,Q=(q=ot,bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,b=pt(q);if(bt){var Z=pt(this).constructor;r=Reflect.construct(b,arguments,Z)}else r=b.apply(this,arguments);return function(dt,wt){if(wt&&(V(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(dt)}(this,r)});function ot(){return function(r,b){if(!(r instanceof b))throw new TypeError("Cannot call a class as a function")}(this,ot),Q.apply(this,arguments)}return H=ot,(At=[{key:"setValue",value:function(r,b,Z){var dt=st(pt(ot.prototype),"setValue",this).call(this,r,b,Z);dt!==void 0&&dt.changed&&this.ace_editor_instance&&(this.ace_editor_instance.setValue(dt.value),this.ace_editor_instance.session.getSelection().clearSelection(),this.ace_editor_instance.resize())}},{key:"build",value:function(){this.options.format="textarea",st(pt(ot.prototype),"build",this).call(this),this.input_type=this.schema.format,this.input.setAttribute("data-schemaformat",this.input_type)}},{key:"afterInputReady",value:function(){var r,b=this;if(window.ace){var Z=this.input_type;Z!=="cpp"&&Z!=="c++"&&Z!=="c"||(Z="c_cpp"),r=this.expandCallbacks("ace",y({},{selectionStyle:"text",minLines:30,maxLines:30},this.defaults.options.ace||{},this.options.ace||{},{mode:"ace/mode/".concat(Z)})),this.ace_container=document.createElement("div"),this.ace_container.style.width="100%",this.ace_container.style.position="relative",this.input.parentNode.insertBefore(this.ace_container,this.input),this.input.style.display="none",this.ace_editor_instance=window.ace.edit(this.ace_container,r),this.ace_editor_instance.setValue(this.getValue()),this.ace_editor_instance.session.getSelection().clearSelection(),this.ace_editor_instance.resize(),(this.schema.readOnly||this.schema.readonly||this.schema.template)&&this.ace_editor_instance.setReadOnly(!0),this.ace_editor_instance.on("change",function(){b.input.value=b.ace_editor_instance.getValue(),b.refreshValue(),b.is_dirty=!0,b.onChange(!0)}),this.theme.afterInputReady(this.input)}else st(pt(ot.prototype),"afterInputReady",this).call(this)}},{key:"getNumColumns",value:function(){return 6}},{key:"enable",value:function(){!this.always_disabled&&this.ace_editor_instance&&this.ace_editor_instance.setReadOnly(!1),st(pt(ot.prototype),"enable",this).call(this)}},{key:"disable",value:function(r){this.ace_editor_instance&&this.ace_editor_instance.setReadOnly(!0),st(pt(ot.prototype),"disable",this).call(this,r)}},{key:"destroy",value:function(){this.ace_editor_instance&&(this.ace_editor_instance.destroy(),this.ace_editor_instance=null),st(pt(ot.prototype),"destroy",this).call(this)}}])&&K(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ot}(W);function lt(ht){return lt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},lt(ht)}function J(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(lt(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(lt(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),lt(bt)==="symbol"?bt:String(bt)),q)}var bt}function Bt(){return Bt=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(ht,H,At){var q=function(Q,ot){for(;!Object.prototype.hasOwnProperty.call(Q,ot)&&(Q=Ct(Q))!==null;);return Q}(ht,H);if(q){var bt=Object.getOwnPropertyDescriptor(q,H);return bt.get?bt.get.call(arguments.length<3?ht:At):bt.value}},Bt.apply(this,arguments)}function Tt(ht,H){return Tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},Tt(ht,H)}function Ct(ht){return Ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},Ct(ht)}L(7327);var St=function(ht){(function(r,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(b&&b.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),b&&Tt(r,b)})(ot,ht);var H,At,q,bt,Q=(q=ot,bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,b=Ct(q);if(bt){var Z=Ct(this).constructor;r=Reflect.construct(b,arguments,Z)}else r=b.apply(this,arguments);return function(dt,wt){if(wt&&(lt(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(dt)}(this,r)});function ot(){return function(r,b){if(!(r instanceof b))throw new TypeError("Cannot call a class as a function")}(this,ot),Q.apply(this,arguments)}return H=ot,At=[{key:"askConfirmation",value:function(){return this.jsoneditor.options.prompt_before_delete!==!0||window.confirm(this.translate("button_delete_node_warning"))!==!1}},{key:"getDefault",value:function(){return this.schema.default||[]}},{key:"register",value:function(){Bt(Ct(ot.prototype),"register",this).call(this),this.rows&&this.rows.forEach(function(r){return r.register()})}},{key:"unregister",value:function(){Bt(Ct(ot.prototype),"unregister",this).call(this),this.rows&&this.rows.forEach(function(r){return r.unregister()})}},{key:"getNumColumns",value:function(){var r=this.getItemInfo(0);return this.tabs_holder&&this.schema.format!=="tabs-top"?Math.max(Math.min(12,r.width+2),4):r.width}},{key:"enable",value:function(){var r=this;this.always_disabled||(this.setAvailability(this,!1),this.rows&&this.rows.forEach(function(b){b.enable(),r.setAvailability(b,!1)}),Bt(Ct(ot.prototype),"enable",this).call(this))}},{key:"disable",value:function(r){var b=this;r&&(this.always_disabled=!0),this.setAvailability(this,!0),this.rows&&this.rows.forEach(function(Z){Z.disable(r),b.setAvailability(Z,!0)}),Bt(Ct(ot.prototype),"disable",this).call(this)}},{key:"setAvailability",value:function(r,b){r.add_row_button&&(r.add_row_button.disabled=b),r.remove_all_rows_button&&(r.remove_all_rows_button.disabled=b),r.delete_last_row_button&&(r.delete_last_row_button.disabled=b),r.copy_button&&(r.copy_button.disabled=b),r.delete_button&&(r.delete_button.disabled=b),r.moveup_button&&(r.moveup_button.disabled=b),r.movedown_button&&(r.movedown_button.disabled=b)}},{key:"preBuild",value:function(){Bt(Ct(ot.prototype),"preBuild",this).call(this),this.rows=[],this.row_cache=[],this.hide_delete_buttons=this.options.disable_array_delete||this.jsoneditor.options.disable_array_delete,this.hide_delete_all_rows_buttons=this.hide_delete_buttons||this.options.disable_array_delete_all_rows||this.jsoneditor.options.disable_array_delete_all_rows,this.hide_delete_last_row_buttons=this.hide_delete_buttons||this.options.disable_array_delete_last_row||this.jsoneditor.options.disable_array_delete_last_row,this.hide_move_buttons=this.options.disable_array_reorder||this.jsoneditor.options.disable_array_reorder,this.hide_add_button=this.options.disable_array_add||this.jsoneditor.options.disable_array_add,this.show_copy_button=this.options.enable_array_copy||this.jsoneditor.options.enable_array_copy,this.array_controls_top=this.options.array_controls_top||this.jsoneditor.options.array_controls_top}},{key:"build",value:function(){this.options.compact?(this.title=this.theme.getHeader("",this.getPathDepth()),this.container.appendChild(this.title),this.panel=this.theme.getIndentedPanel(),this.container.appendChild(this.panel),this.title_controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.title_controls),this.controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.controls),this.row_holder=document.createElement("div"),this.panel.appendChild(this.row_holder)):(this.header=document.createElement("label"),this.header.textContent=this.getTitle(),this.title=this.theme.getHeader(this.header,this.getPathDepth()),this.container.appendChild(this.title),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.translateProperty(this.options.infoText)),this.container.appendChild(this.infoButton)),this.title_controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.title_controls),this.schema.description&&(this.description=this.theme.getDescription(this.translateProperty(this.schema.description)),this.container.appendChild(this.description)),this.error_holder=document.createElement("div"),this.container.appendChild(this.error_holder),this.schema.format==="tabs-top"?(this.controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.controls),this.tabs_holder=this.theme.getTopTabHolder(this.getValidId(this.getItemTitle())),this.container.appendChild(this.tabs_holder),this.row_holder=this.theme.getTopTabContentHolder(this.tabs_holder),this.active_tab=null):this.schema.format==="tabs"?(this.controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.controls),this.tabs_holder=this.theme.getTabHolder(this.getValidId(this.getItemTitle())),this.container.appendChild(this.tabs_holder),this.row_holder=this.theme.getTabContentHolder(this.tabs_holder),this.active_tab=null):(this.panel=this.theme.getIndentedPanel(),this.container.appendChild(this.panel),this.row_holder=document.createElement("div"),this.panel.appendChild(this.row_holder),this.controls=this.theme.getButtonHolder(),this.array_controls_top?this.title.appendChild(this.controls):this.panel.appendChild(this.controls))),this.addControls()}},{key:"onChildEditorChange",value:function(r){this.refreshValue(),this.refreshTabs(!0),Bt(Ct(ot.prototype),"onChildEditorChange",this).call(this,r)}},{key:"getItemTitle",value:function(){if(!this.item_title)if(this.schema.items&&!Array.isArray(this.schema.items)){var r=this.jsoneditor.expandRefs(this.schema.items);this.item_title=this.translateProperty(r.title)||this.translate("default_array_item_title")}else this.item_title=this.translate("default_array_item_title");return this.cleanText(this.item_title)}},{key:"getItemSchema",value:function(r){return Array.isArray(this.schema.items)?r>=this.schema.items.length?this.schema.additionalItems===!0?{}:this.schema.additionalItems?y({},this.schema.additionalItems):void 0:y({},this.schema.items[r]):this.schema.items?y({},this.schema.items):{}}},{key:"getItemInfo",value:function(r){var b=this.getItemSchema(r);this.item_info=this.item_info||{};var Z=JSON.stringify(b);return this.item_info[Z]!==void 0||(b=this.jsoneditor.expandRefs(b),this.item_info[Z]={title:this.translateProperty(b.title)||this.translate("default_array_item_title"),default:b.default,width:12,child_editors:b.properties||b.items}),this.item_info[Z]}},{key:"getElementEditor",value:function(r){var b=this.getItemInfo(r),Z=this.getItemSchema(r);(Z=this.jsoneditor.expandRefs(Z)).title="".concat(b.title," ").concat(r+1);var dt,wt=this.jsoneditor.getEditorClass(Z);this.tabs_holder?(dt=this.schema.format==="tabs-top"?this.theme.getTopTabContent():this.theme.getTabContent()).id="".concat(this.path,".").concat(r):dt=b.child_editors?this.theme.getChildEditorHolder():this.theme.getIndentedPanel(),this.row_holder.appendChild(dt);var te=this.jsoneditor.createEditor(wt,{jsoneditor:this.jsoneditor,schema:Z,container:dt,path:"".concat(this.path,".").concat(r),parent:this,required:!0});return te.preBuild(),te.build(),te.postBuild(),te.title_controls||(te.array_controls=this.theme.getButtonHolder(),dt.appendChild(te.array_controls)),te}},{key:"checkParent",value:function(r){return r&&r.parentNode}},{key:"destroy",value:function(){this.empty(!0),this.checkParent(this.title)&&this.title.parentNode.removeChild(this.title),this.checkParent(this.description)&&this.description.parentNode.removeChild(this.description),this.checkParent(this.row_holder)&&this.row_holder.parentNode.removeChild(this.row_holder),this.checkParent(this.controls)&&this.controls.parentNode.removeChild(this.controls),this.checkParent(this.panel)&&this.panel.parentNode.removeChild(this.panel),this.rows=this.row_cache=this.title=this.description=this.row_holder=this.panel=this.controls=null,Bt(Ct(ot.prototype),"destroy",this).call(this)}},{key:"empty",value:function(r){var b=this;this.rows&&(this.rows.forEach(function(Z,dt){r&&(b.checkParent(Z.tab)&&Z.tab.parentNode.removeChild(Z.tab),b.destroyRow(Z,!0),b.row_cache[dt]=null),b.rows[dt]=null}),this.rows=[],r&&(this.row_cache=[]))}},{key:"destroyRow",value:function(r,b){var Z=r.container;b?(r.destroy(),Z.parentNode&&Z.parentNode.removeChild(Z),this.checkParent(r.tab)&&r.tab.parentNode.removeChild(r.tab)):(r.tab&&(r.tab.style.display="none"),Z.style.display="none",r.unregister())}},{key:"getMax",value:function(){return Array.isArray(this.schema.items)&&this.schema.additionalItems===!1?Math.min(this.schema.items.length,this.schema.maxItems||1/0):this.schema.maxItems||1/0}},{key:"refreshTabs",value:function(r){var b=this;this.rows.forEach(function(Z){Z.tab&&(r?Z.tab_text.textContent=Z.getHeaderText():Z.tab===b.active_tab?b.theme.markTabActive(Z):b.theme.markTabInactive(Z))})}},{key:"ensureArraySize",value:function(r){if(Array.isArray(r)||(r=[r]),this.schema.minItems)for(;r.length<this.schema.minItems;)r.push(this.getItemInfo(r.length).default);return this.getMax()&&r.length>this.getMax()&&(r=r.slice(0,this.getMax())),r}},{key:"setValue",value:function(){var r=this,b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],Z=arguments.length>1?arguments[1]:void 0;if(b=this.ensureArraySize(b),JSON.stringify(b)!==this.serialized){b.forEach(function(Ce,Ke){if(r.rows[Ke])r.rows[Ke].setValue(Ce,Z);else if(r.row_cache[Ke])r.rows[Ke]=r.row_cache[Ke],r.rows[Ke].setValue(Ce,Z),r.rows[Ke].container.style.display="",r.rows[Ke].tab&&(r.rows[Ke].tab.style.display=""),r.rows[Ke].register(),r.jsoneditor.trigger("addRow",r.rows[Ke]);else{var Ln=r.addRow(Ce,Z);r.jsoneditor.trigger("addRow",Ln)}});for(var dt=b.length;dt<this.rows.length;dt++)this.destroyRow(this.rows[dt]),this.rows[dt]=null;this.rows=this.rows.slice(0,b.length);var wt=this.rows.find(function(Ce){return Ce.tab===r.active_tab}),te=wt!==void 0?wt.tab:null;!te&&this.rows.length&&(te=this.rows[0].tab),this.active_tab=te,this.refreshValue(Z),this.refreshTabs(!0),this.refreshTabs(),this.onChange()}}},{key:"setVisibility",value:function(r,b){r.style.display=b?"":"none"}},{key:"setupButtons",value:function(r){var b=[];if(this.value.length)if(this.value.length===1){this.remove_all_rows_button.style.display="none";var Z=!(r||this.hide_delete_last_row_buttons);this.setVisibility(this.delete_last_row_button,Z),b.push(Z)}else{var dt=!(r||this.hide_delete_last_row_buttons);this.setVisibility(this.delete_last_row_button,dt),b.push(dt);var wt=!(r||this.hide_delete_all_rows_buttons);this.setVisibility(this.remove_all_rows_button,wt),b.push(wt)}else this.delete_last_row_button.style.display="none",this.remove_all_rows_button.style.display="none";var te=!(this.getMax()&&this.getMax()<=this.rows.length||this.hide_add_button);return this.setVisibility(this.add_row_button,te),b.push(te),b.some(function(Ce){return Ce})}},{key:"refreshValue",value:function(r){var b=this,Z=this.value?this.value.length:0;if(this.value=this.rows.map(function(wt){return wt.getValue()}),Z!==this.value.length||r){var dt=this.schema.minItems&&this.schema.minItems>=this.rows.length;this.rows.forEach(function(wt,te){if(wt.movedown_button){var Ce=te!==b.rows.length-1;b.setVisibility(wt.movedown_button,Ce)}wt.delete_button&&b.setVisibility(wt.delete_button,!dt),b.value[te]=wt.getValue()}),!this.collapsed&&this.setupButtons(dt)?this.controls.style.display="inline-block":this.controls.style.display="none"}this.serialized=JSON.stringify(this.value)}},{key:"addRow",value:function(r,b){var Z=this,dt=this.rows.length;this.rows[dt]=this.getElementEditor(dt),this.row_cache[dt]=this.rows[dt],this.tabs_holder&&(this.rows[dt].tab_text=document.createElement("span"),this.rows[dt].tab_text.textContent=this.rows[dt].getHeaderText(),this.schema.format==="tabs-top"?(this.rows[dt].tab=this.theme.getTopTab(this.rows[dt].tab_text,this.getValidId(this.rows[dt].path)),this.theme.addTopTab(this.tabs_holder,this.rows[dt].tab)):(this.rows[dt].tab=this.theme.getTab(this.rows[dt].tab_text,this.getValidId(this.rows[dt].path)),this.theme.addTab(this.tabs_holder,this.rows[dt].tab)),this.rows[dt].tab.addEventListener("click",function(te){Z.active_tab=Z.rows[dt].tab,Z.refreshTabs(),te.preventDefault(),te.stopPropagation()}));var wt=this.rows[dt].title_controls||this.rows[dt].array_controls;return this.hide_delete_buttons||(this.rows[dt].delete_button=this._createDeleteButton(dt,wt)),this.show_copy_button&&(this.rows[dt].copy_button=this._createCopyButton(dt,wt)),dt&&!this.hide_move_buttons&&(this.rows[dt].moveup_button=this._createMoveUpButton(dt,wt)),this.hide_move_buttons||(this.rows[dt].movedown_button=this._createMoveDownButton(dt,wt)),r!==void 0&&this.rows[dt].setValue(r,b),this.refreshTabs(),this.rows[dt]}},{key:"_createDeleteButton",value:function(r,b){var Z=this,dt=this.getButton(this.getItemTitle(),"delete","button_delete_row_title",[this.getItemTitle()]);return dt.classList.add("delete","json-editor-btntype-delete"),dt.setAttribute("data-i",r),dt.addEventListener("click",function(wt){if(wt.preventDefault(),wt.stopPropagation(),!Z.askConfirmation())return!1;var te=1*wt.currentTarget.getAttribute("data-i"),Ce=Z.getValue().filter(function(Qn,ur){return ur!==te}),Ke=null,Ln=Z.rows[te].getValue();Z.setValue(Ce),Z.rows[te]?Ke=Z.rows[te].tab:Z.rows[te-1]&&(Ke=Z.rows[te-1].tab),Ke&&(Z.active_tab=Ke,Z.refreshTabs()),Z.onChange(!0),Z.jsoneditor.trigger("deleteRow",Ln)}),b&&b.appendChild(dt),dt}},{key:"_createCopyButton",value:function(r,b){var Z=this,dt=this.getButton(this.getItemTitle(),"copy","button_copy_row_title",[this.getItemTitle()]),wt=this.schema;return dt.classList.add("copy","json-editor-btntype-copy"),dt.setAttribute("data-i",r),dt.addEventListener("click",function(te){var Ce=Z.getValue();te.preventDefault(),te.stopPropagation();var Ke=1*te.currentTarget.getAttribute("data-i");Ce.forEach(function(Ln,Qn){if(Qn===Ke){if(wt.items.type==="string"&&wt.items.format==="uuid")Ln=a();else if(wt.items.type==="object"&&wt.items.properties)for(var ur=0,fr=Object.keys(Ln);ur<fr.length;ur++){var Mr=fr[ur];wt.items.properties&&wt.items.properties[Mr]&&wt.items.properties[Mr].format==="uuid"&&(Ln[Mr]=a())}Ce.push(Ln)}}),Z.setValue(Ce),Z.refreshValue(!0),Z.onChange(!0)}),b.appendChild(dt),dt}},{key:"_createMoveUpButton",value:function(r,b){var Z=this,dt=this.getButton("",this.schema.format==="tabs-top"?"moveleft":"moveup","button_move_up_title");return dt.classList.add("moveup","json-editor-btntype-move"),dt.setAttribute("data-i",r),dt.addEventListener("click",function(wt){wt.preventDefault(),wt.stopPropagation();var te=1*wt.currentTarget.getAttribute("data-i");if(!(te<=0)){var Ce=Z.getValue(),Ke=Ce[te-1];Ce[te-1]=Ce[te],Ce[te]=Ke,Z.setValue(Ce),Z.active_tab=Z.rows[te-1].tab,Z.refreshTabs(),Z.onChange(!0),Z.jsoneditor.trigger("moveRow",Z.rows[te-1])}}),b&&b.appendChild(dt),dt}},{key:"_createMoveDownButton",value:function(r,b){var Z=this,dt=this.getButton("",this.schema.format==="tabs-top"?"moveright":"movedown","button_move_down_title");return dt.classList.add("movedown","json-editor-btntype-move"),dt.setAttribute("data-i",r),dt.addEventListener("click",function(wt){wt.preventDefault(),wt.stopPropagation();var te=1*wt.currentTarget.getAttribute("data-i"),Ce=Z.getValue();if(!(te>=Ce.length-1)){var Ke=Ce[te+1];Ce[te+1]=Ce[te],Ce[te]=Ke,Z.setValue(Ce),Z.active_tab=Z.rows[te+1].tab,Z.refreshTabs(),Z.onChange(!0),Z.jsoneditor.trigger("moveRow",Z.rows[te+1])}}),b&&b.appendChild(dt),dt}},{key:"addControls",value:function(){this.collapsed=!1,this.toggle_button=this._createToggleButton(),this.options.collapsed&&k(this.toggle_button,"click"),this.schema.options&&this.schema.options.disable_collapse!==void 0?this.schema.options.disable_collapse&&(this.toggle_button.style.display="none"):this.jsoneditor.options.disable_collapse&&(this.toggle_button.style.display="none"),this.add_row_button=this._createAddRowButton(),this.delete_last_row_button=this._createDeleteLastRowButton(),this.remove_all_rows_button=this._createRemoveAllRowsButton(),this.tabs&&(this.add_row_button.classList.add("je-array-control-btn"),this.delete_last_row_button.classList.add("je-array-control-btn"),this.remove_all_rows_button.classList.add("je-array-control-btn"))}},{key:"_createToggleButton",value:function(){var r=this,b=this.getButton("","collapse","button_collapse");b.classList.add("json-editor-btntype-toggle"),this.title.insertBefore(b,this.title.childNodes[0]);var Z=this.row_holder.style.display,dt=this.controls.style.display;return b.addEventListener("click",function(wt){wt.preventDefault(),wt.stopPropagation(),r.panel&&r.setVisibility(r.panel,r.collapsed),r.tabs_holder&&r.setVisibility(r.tabs_holder,r.collapsed),r.collapsed?(r.collapsed=!1,r.row_holder.style.display=Z,r.controls.style.display=dt,r.setButtonText(wt.currentTarget,"","collapse","button_collapse")):(r.collapsed=!0,r.row_holder.style.display="none",r.controls.style.display="none",r.setButtonText(wt.currentTarget,"","expand","button_expand"))}),b}},{key:"_createAddRowButton",value:function(){var r=this,b=this.getButton(this.getItemTitle(),"add","button_add_row_title",[this.getItemTitle()]);return b.classList.add("json-editor-btntype-add"),b.addEventListener("click",function(Z){Z.preventDefault(),Z.stopPropagation();var dt,wt=r.rows.length;r.row_cache[wt]?(dt=r.rows[wt]=r.row_cache[wt],r.rows[wt].setValue(r.rows[wt].getDefault(),!0),r.rows[wt].container.style.display="",r.rows[wt].tab&&(r.rows[wt].tab.style.display=""),r.rows[wt].register()):dt=r.addRow(),r.active_tab=r.rows[wt].tab,r.refreshTabs(),r.refreshValue(),r.onChange(!0),r.jsoneditor.trigger("addRow",dt)}),this.controls.appendChild(b),b}},{key:"_createDeleteLastRowButton",value:function(){var r=this,b=this.getButton("button_delete_last","subtract","button_delete_last_title",[this.getItemTitle()]);return b.classList.add("json-editor-btntype-deletelast"),b.addEventListener("click",function(Z){if(Z.preventDefault(),Z.stopPropagation(),!r.askConfirmation())return!1;var dt=r.getValue(),wt=null,te=dt.pop();r.setValue(dt),r.rows[r.rows.length-1]&&(wt=r.rows[r.rows.length-1].tab),wt&&(r.active_tab=wt,r.refreshTabs()),r.onChange(!0),r.jsoneditor.trigger("deleteRow",te)}),this.controls.appendChild(b),b}},{key:"_createRemoveAllRowsButton",value:function(){var r=this,b=this.getButton("button_delete_all","delete","button_delete_all_title");return b.classList.add("json-editor-btntype-deleteall"),b.addEventListener("click",function(Z){if(Z.preventDefault(),Z.stopPropagation(),!r.askConfirmation())return!1;var dt=r.getValue();r.empty(!0),r.setValue([]),r.onChange(!0),r.jsoneditor.trigger("deleteAllRows",dt)}),this.controls.appendChild(b),b}},{key:"showValidationErrors",value:function(r){var b=this,Z=[],dt=[];r.forEach(function(wt){wt.path===b.path?Z.push(wt):dt.push(wt)}),this.error_holder&&(Z.length?(this.error_holder.innerHTML="",this.error_holder.style.display="",Z.forEach(function(wt){b.error_holder.appendChild(b.theme.getErrorMessage(wt.message))})):this.error_holder.style.display="none"),this.rows.forEach(function(wt){return wt.showValidationErrors(dt)})}}],At&&J(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ot}(P);function at(ht){return at=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},at(ht)}function yt(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(at(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(at(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),at(bt)==="symbol"?bt:String(bt)),q)}var bt}function kt(){return kt=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(ht,H,At){var q=function(Q,ot){for(;!Object.prototype.hasOwnProperty.call(Q,ot)&&(Q=Pt(Q))!==null;);return Q}(ht,H);if(q){var bt=Object.getOwnPropertyDescriptor(q,H);return bt.get?bt.get.call(arguments.length<3?ht:At):bt.value}},kt.apply(this,arguments)}function xt(ht,H){return xt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},xt(ht,H)}function Pt(ht){return Pt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},Pt(ht)}St.rules={".json-editor-btntype-toggle":"margin:0%2010px%200%200",".je-array-control-btn":"width:100%25;text-align:left;margin-bottom:3px"};var mt=function(ht){(function(r,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(b&&b.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),b&&xt(r,b)})(ot,ht);var H,At,q,bt,Q=(q=ot,bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,b=Pt(q);if(bt){var Z=Pt(this).constructor;r=Reflect.construct(b,arguments,Z)}else r=b.apply(this,arguments);return function(dt,wt){if(wt&&(at(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(dt)}(this,r)});function ot(){return function(r,b){if(!(r instanceof b))throw new TypeError("Cannot call a class as a function")}(this,ot),Q.apply(this,arguments)}return H=ot,(At=[{key:"onInputChange",value:function(){this.value=this.input.value,this.onChange(!0)}},{key:"register",value:function(){kt(Pt(ot.prototype),"register",this).call(this),this.input&&this.jsoneditor.options.use_name_attributes&&this.input.setAttribute("name",this.formname)}},{key:"unregister",value:function(){kt(Pt(ot.prototype),"unregister",this).call(this),this.input&&this.input.removeAttribute("name")}},{key:"getNumColumns",value:function(){var r=this,b=this.getTitle().length;return Object.keys(this.select_values).forEach(function(Z){return b=Math.max(b,"".concat(r.select_values[Z]).length+4)}),Math.min(12,Math.max(b/7,2))}},{key:"preBuild",value:function(){var r;kt(Pt(ot.prototype),"preBuild",this).call(this),this.select_options={},this.select_values={},this.option_titles=[],this.option_keys=[],this.option_enum=[];var b=this.jsoneditor.expandRefs(this.schema.items||{}),Z=b.enum||[],dt=b.options&&b.options.enum||[],wt=b.options&&b.options.enum_titles||[];for(r=0;r<Z.length;r++)if(this.sanitize(Z[r])===Z[r]){var te=dt[r]||{};"title"in te||(te.title="".concat(wt[r]||Z[r])),this.option_keys.push("".concat(Z[r])),this.option_enum.push(te),this.select_values["".concat(Z[r])]=Z[r]}}},{key:"build",value:function(){var r,b=this;if(this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle(),this.isRequired())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.translateProperty(this.schema.description))),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.translateProperty(this.options.infoText))),this.options.compact&&this.container.classList.add("compact"),!this.schema.format&&this.option_keys.length<8||this.schema.format==="checkbox"){for(this.input_type="checkboxes",this.inputs={},this.controls={},r=0;r<this.option_keys.length;r++){var Z=this.formname+r.toString();this.inputs[this.option_keys[r]]=this.theme.getCheckbox(),this.inputs[this.option_keys[r]].id=Z,this.select_options[this.option_keys[r]]=this.inputs[this.option_keys[r]];var dt=this.theme.getCheckboxLabel(this.option_enum[r].title);if(dt.htmlFor=Z,this.option_enum[r].infoText){var wt=this.theme.getInfoButton(this.translateProperty(this.option_enum[r].infoText));dt.appendChild(wt)}this.controls["_"+this.option_keys[r]]=this.theme.getFormControl(dt,this.inputs[this.option_keys[r]])}this.control=this.theme.getMultiCheckboxHolder(this.controls,this.label,this.description,this.infoButton),this.inputs.controlgroup=this.inputs.controls=this.control}else{for(this.input_type="select",this.input=this.theme.getSelectInput(this.option_keys,!0),this.theme.setSelectOptions(this.input,this.option_keys,this.option_enum.map(function(te){return te.title})),this.input.setAttribute("multiple","multiple"),this.input.size=Math.min(10,this.option_keys.length),r=0;r<this.option_keys.length;r++)this.select_options[this.option_keys[r]]=this.input.children[r];this.control=this.theme.getFormControl(this.label,this.input,this.description,this.infoButton)}(this.schema.readOnly||this.schema.readonly)&&this.disable(!0),this.container.appendChild(this.control),this.multiselectChangeHandler=function(te){var Ce=[];for(r=0;r<b.option_keys.length;r++)b.select_options[b.option_keys[r]]&&(b.select_options[b.option_keys[r]].selected||b.select_options[b.option_keys[r]].checked)&&Ce.push(b.select_values[b.option_keys[r]]);b.updateValue(Ce),b.onChange(!0)},this.control.addEventListener("change",this.multiselectChangeHandler,!1),window.requestAnimationFrame(function(){b.afterInputReady()})}},{key:"postBuild",value:function(){kt(Pt(ot.prototype),"postBuild",this).call(this)}},{key:"afterInputReady",value:function(){this.theme.afterInputReady(this.input||this.inputs)}},{key:"setValue",value:function(r,b){var Z=this;r=r||[],Array.isArray(r)||(r=[r]),r=r.map(function(dt){return"".concat(dt)}),Object.keys(this.select_options).forEach(function(dt){Z.select_options[dt][Z.input_type==="select"?"selected":"checked"]=r.includes(dt)}),this.updateValue(r),this.onChange(!0)}},{key:"removeValue",value:function(r){r=[].concat(r),this.setValue(this.getValue().filter(function(b){return!r.includes(b)}))}},{key:"addValue",value:function(r){this.setValue(this.getValue().concat(r))}},{key:"updateValue",value:function(r){for(var b=!1,Z=[],dt=0;dt<r.length;dt++)if(this.select_options["".concat(r[dt])]){var wt=this.sanitize(this.select_values[r[dt]]);Z.push(wt),wt!==r[dt]&&(b=!0)}else b=!0;return this.value=Z,b}},{key:"sanitize",value:function(r){return this.schema.items.type==="boolean"?!!r:this.schema.items.type==="number"?1*r||0:this.schema.items.type==="integer"?Math.floor(1*r||0):"".concat(r)}},{key:"enable",value:function(){var r=this;this.always_disabled||(this.input?this.input.disabled=!1:this.inputs&&Object.keys(this.inputs).forEach(function(b){return r.inputs[b].disabled=!1}),kt(Pt(ot.prototype),"enable",this).call(this))}},{key:"disable",value:function(r){var b=this;r&&(this.always_disabled=!0),this.input?this.input.disabled=!0:this.inputs&&Object.keys(this.inputs).forEach(function(Z){return b.inputs[Z].disabled=!0}),kt(Pt(ot.prototype),"disable",this).call(this)}},{key:"destroy",value:function(){kt(Pt(ot.prototype),"destroy",this).call(this)}},{key:"escapeRegExp",value:function(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}},{key:"showValidationErrors",value:function(r){var b=new RegExp("^".concat(this.escapeRegExp(this.path),"(\\.\\d+)?$")),Z=r.reduce(function(dt,wt){return wt.path.match(b)&&dt.push(wt.message),dt},[]);Z.length?this.theme.addInputError(this.input||this.inputs,"".concat(Z.join(". "),".")):this.theme.removeInputError(this.input||this.inputs)}}])&&yt(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ot}(P);function Yt(ht){return Yt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},Yt(ht)}function ne(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(Yt(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(Yt(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),Yt(bt)==="symbol"?bt:String(bt)),q)}var bt}function Qt(){return Qt=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(ht,H,At){var q=function(Q,ot){for(;!Object.prototype.hasOwnProperty.call(Q,ot)&&(Q=Xt(Q))!==null;);return Q}(ht,H);if(q){var bt=Object.getOwnPropertyDescriptor(q,H);return bt.get?bt.get.call(arguments.length<3?ht:At):bt.value}},Qt.apply(this,arguments)}function Kt(ht,H){return Kt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},Kt(ht,H)}function Xt(ht){return Xt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},Xt(ht)}var se=function(ht){(function(r,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(b&&b.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),b&&Kt(r,b)})(ot,ht);var H,At,q,bt,Q=(q=ot,bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,b=Xt(q);if(bt){var Z=Xt(this).constructor;r=Reflect.construct(b,arguments,Z)}else r=b.apply(this,arguments);return function(dt,wt){if(wt&&(Yt(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(dt)}(this,r)});function ot(){return function(r,b){if(!(r instanceof b))throw new TypeError("Cannot call a class as a function")}(this,ot),Q.apply(this,arguments)}return H=ot,(At=[{key:"setValue",value:function(r,b){this.choices_instance?(r=[].concat(r).map(function(Z){return"".concat(Z)}),this.updateValue(r),this.choices_instance.removeActiveItems(),this.choices_instance.setChoiceByValue(this.value),this.onChange(!0)):Qt(Xt(ot.prototype),"setValue",this).call(this,r,b)}},{key:"afterInputReady",value:function(){var r=this;if(window.Choices&&!this.choices_instance){var b=this.expandCallbacks("choices",y({},{removeItems:!0,removeItemButton:!0},this.defaults.options.choices||{},this.options.choices||{},{addItems:!0,editItems:!1,duplicateItemsAllowed:!1}));this.newEnumAllowed=!1,this.choices_instance=new window.Choices(this.input,b),this.control.removeEventListener("change",this.multiselectChangeHandler),this.multiselectChangeHandler=function(Z){var dt=r.choices_instance.getValue(!0);r.updateValue(dt),r.onChange(!0)},this.control.addEventListener("change",this.multiselectChangeHandler,!1)}Qt(Xt(ot.prototype),"afterInputReady",this).call(this)}},{key:"updateValue",value:function(r){r=[].concat(r);for(var b=!1,Z=[],dt=0;dt<r.length;dt++)if(!(!this.select_values["".concat(r[dt])]&&(b=!0,!this.newEnumAllowed||!this.addNewOption(r[dt])))){var wt=this.sanitize(this.select_values[r[dt]]);Z.push(wt),wt!==r[dt]&&(b=!0)}return this.value=Z,b}},{key:"addNewOption",value:function(r){return this.option_keys.push("".concat(r)),this.option_titles.push("".concat(r)),this.select_values["".concat(r)]=r,this.schema.items.enum.push(r),this.choices_instance.setChoices([{value:"".concat(r),label:"".concat(r)}],"value","label",!1),!0}},{key:"enable",value:function(){!this.always_disabled&&this.choices_instance&&this.choices_instance.enable(),Qt(Xt(ot.prototype),"enable",this).call(this)}},{key:"disable",value:function(r){this.choices_instance&&this.choices_instance.disable(),Qt(Xt(ot.prototype),"disable",this).call(this,r)}},{key:"destroy",value:function(){this.choices_instance&&(this.choices_instance.destroy(),this.choices_instance=null),Qt(Xt(ot.prototype),"destroy",this).call(this)}}])&&ne(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ot}(mt);function ue(ht){return ue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},ue(ht)}function re(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(ue(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(ue(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),ue(bt)==="symbol"?bt:String(bt)),q)}var bt}function _t(){return _t=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(ht,H,At){var q=function(Q,ot){for(;!Object.prototype.hasOwnProperty.call(Q,ot)&&(Q=Mt(Q))!==null;);return Q}(ht,H);if(q){var bt=Object.getOwnPropertyDescriptor(q,H);return bt.get?bt.get.call(arguments.length<3?ht:At):bt.value}},_t.apply(this,arguments)}function ut(ht,H){return ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},ut(ht,H)}function Mt(ht){return Mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},Mt(ht)}var qt=function(ht){(function(r,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(b&&b.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),b&&ut(r,b)})(ot,ht);var H,At,q,bt,Q=(q=ot,bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,b=Mt(q);if(bt){var Z=Mt(this).constructor;r=Reflect.construct(b,arguments,Z)}else r=b.apply(this,arguments);return function(dt,wt){if(wt&&(ue(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(dt)}(this,r)});function ot(){return function(r,b){if(!(r instanceof b))throw new TypeError("Cannot call a class as a function")}(this,ot),Q.apply(this,arguments)}return H=ot,(At=[{key:"setValue",value:function(r,b){this.select2_instance?(r=[].concat(r).map(function(Z){return"".concat(Z)}),this.updateValue(r),this.select2v4?this.select2_instance.val(this.value).change():this.select2_instance.select2("val",this.value),this.onChange(!0)):_t(Mt(ot.prototype),"setValue",this).call(this,r,b)}},{key:"afterInputReady",value:function(){var r,b=this;window.jQuery&&window.jQuery.fn&&window.jQuery.fn.select2&&!this.select2_instance&&(r=this.expandCallbacks("select2",y({},{tags:!0,width:"100%"},this.defaults.options.select2||{},this.options.select2||{})),this.newEnumAllowed=r.tags=!!r.tags&&this.schema.items&&this.schema.items.type==="string",this.select2_instance=window.jQuery(this.input).select2(r),this.select2v4=C(this.select2_instance.select2,"amd"),this.selectChangeHandler=function(){var Z=b.select2v4?b.select2_instance.val():b.select2_instance.select2("val");b.updateValue(Z),b.onChange(!0)},this.select2_instance.on("select2-blur",this.selectChangeHandler),this.select2_instance.on("change",this.selectChangeHandler)),_t(Mt(ot.prototype),"afterInputReady",this).call(this)}},{key:"updateValue",value:function(r){r=[].concat(r);for(var b=!1,Z=[],dt=0;dt<r.length;dt++)if(!(!this.select_values["".concat(r[dt])]&&(b=!0,!this.newEnumAllowed||!this.addNewOption(r[dt])))){var wt=this.sanitize(this.select_values[r[dt]]);Z.push(wt),wt!==r[dt]&&(b=!0)}return this.value=Z,b}},{key:"addNewOption",value:function(r){this.option_keys.push("".concat(r)),this.option_titles.push("".concat(r)),this.select_values["".concat(r)]=r,this.schema.items.enum.push(r);var b=this.input.querySelector('option[value="'.concat(r,'"]'));return b?b.removeAttribute("data-select2-tag"):this.input.appendChild(new Option(r,r,!1,!1)).trigger("change"),!0}},{key:"enable",value:function(){!this.always_disabled&&this.select2_instance&&(this.select2v4?this.select2_instance.prop("disabled",!1):this.select2_instance.select2("enable",!0)),_t(Mt(ot.prototype),"enable",this).call(this)}},{key:"disable",value:function(r){this.select2_instance&&(this.select2v4?this.select2_instance.prop("disabled",!0):this.select2_instance.select2("enable",!1)),_t(Mt(ot.prototype),"disable",this).call(this)}},{key:"destroy",value:function(){this.select2_instance&&(this.select2_instance.select2("destroy"),this.select2_instance=null),_t(Mt(ot.prototype),"destroy",this).call(this)}}])&&re(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ot}(mt);function Nt(ht){return Nt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},Nt(ht)}function Vt(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(Nt(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(Nt(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),Nt(bt)==="symbol"?bt:String(bt)),q)}var bt}function Ut(){return Ut=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(ht,H,At){var q=function(Q,ot){for(;!Object.prototype.hasOwnProperty.call(Q,ot)&&(Q=Ft(Q))!==null;);return Q}(ht,H);if(q){var bt=Object.getOwnPropertyDescriptor(q,H);return bt.get?bt.get.call(arguments.length<3?ht:At):bt.value}},Ut.apply(this,arguments)}function Wt(ht,H){return Wt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},Wt(ht,H)}function Ft(ht){return Ft=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},Ft(ht)}var jt=function(ht){(function(r,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(b&&b.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),b&&Wt(r,b)})(ot,ht);var H,At,q,bt,Q=(q=ot,bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,b=Ft(q);if(bt){var Z=Ft(this).constructor;r=Reflect.construct(b,arguments,Z)}else r=b.apply(this,arguments);return function(dt,wt){if(wt&&(Nt(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(dt)}(this,r)});function ot(){return function(r,b){if(!(r instanceof b))throw new TypeError("Cannot call a class as a function")}(this,ot),Q.apply(this,arguments)}return H=ot,(At=[{key:"setValue",value:function(r,b){this.selectize_instance?(r=[].concat(r).map(function(Z){return"".concat(Z)}),this.updateValue(r),this.selectize_instance.setValue(this.value),this.onChange(!0)):Ut(Ft(ot.prototype),"setValue",this).call(this,r,b)}},{key:"afterInputReady",value:function(){var r,b=this;window.jQuery&&window.jQuery.fn&&window.jQuery.fn.selectize&&!this.selectize_instance&&(r=this.expandCallbacks("selectize",y({},{plugins:["remove_button"],delimiter:!1,createOnBlur:!0,create:!0},this.defaults.options.selectize||{},this.options.selectize||{})),this.newEnumAllowed=r.create=!!r.create&&this.schema.items&&this.schema.items.type==="string",this.selectize_instance=window.jQuery(this.input).selectize(r)[0].selectize,this.control.removeEventListener("change",this.multiselectChangeHandler),this.multiselectChangeHandler=function(Z){var dt=b.selectize_instance.getValue();b.updateValue(dt),b.onChange(!0)},this.selectize_instance.on("change",this.multiselectChangeHandler)),Ut(Ft(ot.prototype),"afterInputReady",this).call(this)}},{key:"updateValue",value:function(r){r=[].concat(r);for(var b=!1,Z=[],dt=0;dt<r.length;dt++)if(!(!this.select_values["".concat(r[dt])]&&(b=!0,!this.newEnumAllowed||!this.addNewOption(r[dt])))){var wt=this.sanitize(this.select_values[r[dt]]);Z.push(wt),wt!==r[dt]&&(b=!0)}return this.value=Z,b}},{key:"addNewOption",value:function(r){return this.option_keys.push("".concat(r)),this.option_titles.push("".concat(r)),this.select_values["".concat(r)]=r,this.schema.items.enum.push(r),this.selectize_instance.addOption({text:r,value:r}),!0}},{key:"enable",value:function(){!this.always_disabled&&this.selectize_instance&&this.selectize_instance.unlock(),Ut(Ft(ot.prototype),"enable",this).call(this)}},{key:"disable",value:function(r){this.selectize_instance&&this.selectize_instance.lock(),Ut(Ft(ot.prototype),"disable",this).call(this,r)}},{key:"destroy",value:function(){this.selectize_instance&&(this.selectize_instance.destroy(),this.selectize_instance=null),Ut(Ft(ot.prototype),"destroy",this).call(this)}}])&&Vt(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ot}(mt);function ee(ht){return ee=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},ee(ht)}function Lt(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(ee(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(ee(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),ee(bt)==="symbol"?bt:String(bt)),q)}var bt}function he(){return he=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(ht,H,At){var q=function(Q,ot){for(;!Object.prototype.hasOwnProperty.call(Q,ot)&&(Q=Se(Q))!==null;);return Q}(ht,H);if(q){var bt=Object.getOwnPropertyDescriptor(q,H);return bt.get?bt.get.call(arguments.length<3?ht:At):bt.value}},he.apply(this,arguments)}function Ht(ht,H){return Ht=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},Ht(ht,H)}function Se(ht){return Se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},Se(ht)}var Te=function(ht){(function(r,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(b&&b.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),b&&Ht(r,b)})(ot,ht);var H,At,q,bt,Q=(q=ot,bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,b=Se(q);if(bt){var Z=Se(this).constructor;r=Reflect.construct(b,arguments,Z)}else r=b.apply(this,arguments);return function(dt,wt){if(wt&&(ee(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(dt)}(this,r)});function ot(){return function(r,b){if(!(r instanceof b))throw new TypeError("Cannot call a class as a function")}(this,ot),Q.apply(this,arguments)}return H=ot,(At=[{key:"postBuild",value:function(){window.Autocomplete&&(this.autocomplete_wrapper=document.createElement("div"),this.input.parentNode.insertBefore(this.autocomplete_wrapper,this.input.nextSibling),this.autocomplete_wrapper.appendChild(this.input),this.autocomplete_dropdown=document.createElement("ul"),this.input.parentNode.insertBefore(this.autocomplete_dropdown,this.input.nextSibling)),he(Se(ot.prototype),"postBuild",this).call(this)}},{key:"afterInputReady",value:function(){var r,b=this;window.Autocomplete&&!this.autocomplete_instance&&(r=this.expandCallbacks("autocomplete",y({},{search:function(Z){return console.log('No "search" callback defined for autocomplete in property "'.concat(Z.key,'"')),[]},onSubmit:function(){b.input.blur()},baseClass:"autocomplete"},this.defaults.options.autocomplete||{},this.options.autocomplete||{})),this.autocomplete_wrapper.classList.add(r.baseClass),this.autocomplete_dropdown.classList.add("".concat(r.baseClass,"-result-list")),this.autocomplete_instance=new window.Autocomplete(this.autocomplete_wrapper,r)),he(Se(ot.prototype),"afterInputReady",this).call(this)}},{key:"destroy",value:function(){this.autocomplete_instance&&(this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.autocomplete_dropdown&&this.autocomplete_dropdown.parentNode&&this.autocomplete_dropdown.parentNode.removeChild(this.autocomplete_dropdown),this.autocomplete_wrapper&&this.autocomplete_wrapper.parentNode&&this.autocomplete_wrapper.parentNode.removeChild(this.autocomplete_wrapper),this.autocomplete_instance=null),he(Se(ot.prototype),"destroy",this).call(this)}}])&&Lt(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ot}(W);function we(ht){return we=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},we(ht)}function Ue(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(we(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(we(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),we(bt)==="symbol"?bt:String(bt)),q)}var bt}function We(){return We=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(ht,H,At){var q=function(Q,ot){for(;!Object.prototype.hasOwnProperty.call(Q,ot)&&(Q=me(Q))!==null;);return Q}(ht,H);if(q){var bt=Object.getOwnPropertyDescriptor(q,H);return bt.get?bt.get.call(arguments.length<3?ht:At):bt.value}},We.apply(this,arguments)}function De(ht,H){return De=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},De(ht,H)}function me(ht){return me=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},me(ht)}L(561);var Oe=function(ht){(function(r,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(b&&b.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),b&&De(r,b)})(ot,ht);var H,At,q,bt,Q=(q=ot,bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,b=me(q);if(bt){var Z=me(this).constructor;r=Reflect.construct(b,arguments,Z)}else r=b.apply(this,arguments);return function(dt,wt){if(wt&&(we(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(dt)}(this,r)});function ot(){return function(r,b){if(!(r instanceof b))throw new TypeError("Cannot call a class as a function")}(this,ot),Q.apply(this,arguments)}return H=ot,(At=[{key:"getNumColumns",value:function(){return 4}},{key:"setFileReaderListener",value:function(r){var b=this;r.addEventListener("load",function(Z){if(b.count===b.current_item_index)b.value[b.count][b.key]=Z.target.result;else{var dt={};for(var wt in b.parent.schema.properties)dt[wt]="";dt[b.key]=Z.target.result,b.value.splice(b.count,0,dt)}b.count+=1,b.count===b.total+b.current_item_index&&b.arrayEditor.setValue(b.value)})}},{key:"build",value:function(){var r=this;if(this.options.compact||(this.title=this.header=this.label=this.theme.getFormInputLabel(this.getTitle(),this.isRequired())),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.translateProperty(this.options.infoText))),this.input=this.theme.getFormInputField("hidden"),this.container.appendChild(this.input),!this.schema.readOnly&&!this.schema.readonly){if(!window.FileReader)throw new Error("FileReader required for base64 editor");this.uploader=this.theme.getFormInputField("file"),this.schema.options&&this.schema.options.multiple&&this.schema.options.multiple===!0&&this.parent&&this.parent.schema.type==="object"&&this.parent.parent&&this.parent.parent.schema.type==="array"&&this.uploader.setAttribute("multiple",""),this.uploader.addEventListener("change",function(b){if(b.preventDefault(),b.stopPropagation(),b.currentTarget.files&&b.currentTarget.files.length)if(b.currentTarget.files.length>1&&r.schema.options&&r.schema.options.multiple&&r.schema.options.multiple===!0&&r.parent&&r.parent.schema.type==="object"&&r.parent.parent&&r.parent.parent.schema.type==="array"){r.arrayEditor=r.jsoneditor.getEditor(r.parent.parent.path),r.value=r.arrayEditor.getValue(),r.total=b.currentTarget.files.length,r.current_item_index=parseInt(r.parent.key),r.count=r.current_item_index;for(var Z=0;Z<r.total;Z++){var dt=new FileReader;r.setFileReaderListener(dt),dt.readAsDataURL(b.currentTarget.files[Z])}}else{var wt=new FileReader;wt.onload=function(te){r.value=te.target.result,r.refreshPreview(),r.onChange(!0),wt=null},wt.readAsDataURL(b.currentTarget.files[0])}})}this.preview=this.theme.getFormInputDescription(this.translateProperty(this.schema.description)),this.container.appendChild(this.preview),this.control=this.theme.getFormControl(this.label,this.uploader||this.input,this.preview,this.infoButton),this.container.appendChild(this.control)}},{key:"refreshPreview",value:function(){if(this.last_preview!==this.value&&(this.last_preview=this.value,this.preview.innerHTML="",this.value)){var r=this.value.match(/^data:([^;,]+)[;,]/);if(r&&(r=r[1]),r){if(this.preview.innerHTML="<strong>Type:</strong> ".concat(r,", <strong>Size:</strong> ").concat(Math.floor((this.value.length-this.value.split(",")[0].length-1)/1.33333)," bytes"),r.substr(0,5)==="image"){this.preview.innerHTML+="<br>";var b=document.createElement("img");b.style.maxWidth="100%",b.style.maxHeight="100px",b.src=this.value,this.preview.appendChild(b)}}else this.preview.innerHTML="<em>Invalid data URI</em>"}}},{key:"enable",value:function(){this.always_disabled||(this.uploader&&(this.uploader.disabled=!1),We(me(ot.prototype),"enable",this).call(this))}},{key:"disable",value:function(r){r&&(this.always_disabled=!0),this.uploader&&(this.uploader.disabled=!0),We(me(ot.prototype),"disable",this).call(this)}},{key:"setValue",value:function(r){this.value!==r&&(this.schema.readOnly&&this.schema.enum&&!this.schema.enum.includes(r)?this.value=this.schema.enum[0]:this.value=r,this.input.value=this.value,this.refreshPreview(),this.onChange())}},{key:"destroy",value:function(){this.preview&&this.preview.parentNode&&this.preview.parentNode.removeChild(this.preview),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.uploader&&this.uploader.parentNode&&this.uploader.parentNode.removeChild(this.uploader),We(me(ot.prototype),"destroy",this).call(this)}}])&&Ue(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ot}(P);function Pe(ht){return Pe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},Pe(ht)}function ze(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(Pe(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(Pe(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),Pe(bt)==="symbol"?bt:String(bt)),q)}var bt}function He(){return He=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(ht,H,At){var q=function(Q,ot){for(;!Object.prototype.hasOwnProperty.call(Q,ot)&&(Q=Mn(Q))!==null;);return Q}(ht,H);if(q){var bt=Object.getOwnPropertyDescriptor(q,H);return bt.get?bt.get.call(arguments.length<3?ht:At):bt.value}},He.apply(this,arguments)}function dn(ht,H){return dn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},dn(ht,H)}function Mn(ht){return Mn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},Mn(ht)}var Kn=function(ht){(function(r,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(b&&b.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),b&&dn(r,b)})(ot,ht);var H,At,q,bt,Q=(q=ot,bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,b=Mn(q);if(bt){var Z=Mn(this).constructor;r=Reflect.construct(b,arguments,Z)}else r=b.apply(this,arguments);return function(dt,wt){if(wt&&(Pe(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(dt)}(this,r)});function ot(r,b){var Z;return function(dt,wt){if(!(dt instanceof wt))throw new TypeError("Cannot call a class as a function")}(this,ot),(Z=Q.call(this,r,b)).active=!1,Z.parent&&Z.parent.schema&&(Array.isArray(Z.parent.schema.required)?Z.parent.schema.required.includes(Z.key)||Z.parent.schema.required.push(Z.key):Z.parent.schema.required=[Z.key]),Z}return H=ot,(At=[{key:"build",value:function(){var r=this;this.options.compact=!0;var b=this.translateProperty(this.schema.title)||this.key,Z=this.expandCallbacks("button",y({},{icon:"",validated:!1,align:"left",action:function(dt,wt){window.alert('No button action defined for "'.concat(dt.path,'"'))}},this.defaults.options.button||{},this.options.button||{}));this.input=this.getButton(b,Z.icon,b),this.input.addEventListener("click",Z.action,!1),(this.schema.readOnly||this.schema.readonly||this.schema.template)&&(this.disable(!0),this.input.setAttribute("readonly","true")),this.setInputAttributes(["readonly"]),this.control=this.theme.getFormButtonHolder(Z.align),this.control.appendChild(this.input),this.container.appendChild(this.control),this.changeHandler=function(){r.jsoneditor.validate(r.jsoneditor.getValue()).length>0?r.disable():r.enable()},Z.validated&&this.jsoneditor.on("change",this.changeHandler)}},{key:"enable",value:function(){this.always_disabled||(this.input.disabled=!1,He(Mn(ot.prototype),"enable",this).call(this))}},{key:"disable",value:function(r){r&&(this.always_disabled=!0),this.input.disabled=!0,He(Mn(ot.prototype),"disable",this).call(this)}},{key:"getNumColumns",value:function(){return 2}},{key:"activate",value:function(){this.active=!1,this.enable()}},{key:"deactivate",value:function(){this.isRequired()||(this.active=!1,this.disable())}},{key:"destroy",value:function(){this.jsoneditor.off("change",this.changeHandler),this.changeHandler=null,He(Mn(ot.prototype),"destroy",this).call(this)}}])&&ze(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ot}(P);function an(ht){return an=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},an(ht)}function mn(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(an(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(an(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),an(bt)==="symbol"?bt:String(bt)),q)}var bt}function Bn(){return Bn=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(ht,H,At){var q=function(Q,ot){for(;!Object.prototype.hasOwnProperty.call(Q,ot)&&(Q=$n(Q))!==null;);return Q}(ht,H);if(q){var bt=Object.getOwnPropertyDescriptor(q,H);return bt.get?bt.get.call(arguments.length<3?ht:At):bt.value}},Bn.apply(this,arguments)}function Rn(ht,H){return Rn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},Rn(ht,H)}function $n(ht){return $n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},$n(ht)}var sn=function(ht){(function(r,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(b&&b.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),b&&Rn(r,b)})(ot,ht);var H,At,q,bt,Q=(q=ot,bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,b=$n(q);if(bt){var Z=$n(this).constructor;r=Reflect.construct(b,arguments,Z)}else r=b.apply(this,arguments);return function(dt,wt){if(wt&&(an(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(dt)}(this,r)});function ot(){return function(r,b){if(!(r instanceof b))throw new TypeError("Cannot call a class as a function")}(this,ot),Q.apply(this,arguments)}return H=ot,(At=[{key:"setValue",value:function(r,b){r=!!r;var Z=this.getValue()!==r;this.value=r,this.input.checked=this.value,this.onChange(Z)}},{key:"register",value:function(){Bn($n(ot.prototype),"register",this).call(this),this.input&&this.jsoneditor.options.use_name_attributes&&this.input.setAttribute("name",this.formname)}},{key:"unregister",value:function(){Bn($n(ot.prototype),"unregister",this).call(this),this.input&&this.input.removeAttribute("name")}},{key:"getNumColumns",value:function(){return Math.min(12,Math.max(this.getTitle().length/7,2))}},{key:"build",value:function(){var r=this;this.parent.options.table_row||(this.label=this.header=this.theme.getCheckboxLabel(this.getTitle(),this.isRequired()),this.label.htmlFor=this.formname),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.translateProperty(this.schema.description))),this.options.infoText&&!this.options.compact&&(this.infoButton=this.theme.getInfoButton(this.translateProperty(this.options.infoText))),this.options.compact&&this.container.classList.add("compact"),this.input=this.theme.getCheckbox(),this.input.id=this.formname,this.control=this.theme.getFormControl(this.label,this.input,this.description,this.infoButton),(this.schema.readOnly||this.schema.readonly)&&(this.disable(!0),this.input.disabled=!0),this.input.addEventListener("change",function(b){b.preventDefault(),b.stopPropagation(),r.value=b.currentTarget.checked,r.onChange(!0)}),this.container.appendChild(this.control)}},{key:"enable",value:function(){this.always_disabled||(this.input.disabled=!1,Bn($n(ot.prototype),"enable",this).call(this))}},{key:"disable",value:function(r){r&&(this.always_disabled=!0),this.input.disabled=!0,Bn($n(ot.prototype),"disable",this).call(this)}},{key:"destroy",value:function(){this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),Bn($n(ot.prototype),"destroy",this).call(this)}},{key:"showValidationErrors",value:function(r){var b=this;this.previous_error_setting=this.jsoneditor.options.show_errors;var Z=r.reduce(function(dt,wt){return wt.path===b.path&&dt.push(wt.message),dt},[]);this.input.controlgroup=this.control,Z.length?this.theme.addInputError(this.input,"".concat(Z.join(". "),".")):this.theme.removeInputError(this.input)}}])&&mn(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ot}(P);function on(ht){return on=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},on(ht)}function yn(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(on(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(on(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),on(bt)==="symbol"?bt:String(bt)),q)}var bt}function Sn(){return Sn=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(ht,H,At){var q=function(Q,ot){for(;!Object.prototype.hasOwnProperty.call(Q,ot)&&(Q=Fn(Q))!==null;);return Q}(ht,H);if(q){var bt=Object.getOwnPropertyDescriptor(q,H);return bt.get?bt.get.call(arguments.length<3?ht:At):bt.value}},Sn.apply(this,arguments)}function Ge(ht,H){return Ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},Ge(ht,H)}function Fn(ht){return Fn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},Fn(ht)}L(2772),L(2707);var ke=function(ht){(function(r,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(b&&b.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),b&&Ge(r,b)})(ot,ht);var H,At,q,bt,Q=(q=ot,bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,b=Fn(q);if(bt){var Z=Fn(this).constructor;r=Reflect.construct(b,arguments,Z)}else r=b.apply(this,arguments);return function(dt,wt){if(wt&&(on(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(dt)}(this,r)});function ot(){return function(r,b){if(!(r instanceof b))throw new TypeError("Cannot call a class as a function")}(this,ot),Q.apply(this,arguments)}return H=ot,(At=[{key:"setValue",value:function(r,b){var Z=this.typecast(r),dt=!!this.jsoneditor.options.use_default_values||this.schema.default!==void 0;(this.enum_options.length>0&&!this.enum_values.includes(Z)||b&&!this.isRequired()&&!dt)&&(Z=this.enum_values[0]),this.value!==Z&&(b?this.is_dirty=!1:this.jsoneditor.options.show_errors==="change"&&(this.is_dirty=!0),this.input.value=this.enum_options[this.enum_values.indexOf(Z)],this.value=Z,this.onChange(),this.change())}},{key:"register",value:function(){Sn(Fn(ot.prototype),"register",this).call(this),this.input&&this.jsoneditor.options.use_name_attributes&&this.input.setAttribute("name",this.formname)}},{key:"unregister",value:function(){Sn(Fn(ot.prototype),"unregister",this).call(this),this.input&&this.input.removeAttribute("name")}},{key:"getNumColumns",value:function(){if(!this.enum_options)return 3;for(var r=this.getTitle().length,b=0;b<this.enum_options.length;b++)r=Math.max(r,this.enum_options[b].length+4);return Math.min(12,Math.max(r/7,2))}},{key:"typecast",value:function(r){return this.schema.type==="boolean"?r==="undefined"||r===void 0?void 0:!!r:this.schema.type==="number"?1*r||0:this.schema.type==="integer"?Math.floor(1*r||0):this.schema.enum&&r===void 0?void 0:"".concat(r)}},{key:"getValue",value:function(){if(this.dependenciesFulfilled)return this.typecast(this.value)}},{key:"preBuild",value:function(){var r,b,Z=this;if(this.input_type="select",this.enum_options=[],this.enum_values=[],this.enum_display=[],this.schema.enum){var dt=this.schema.options&&this.schema.options.enum_titles||[];this.schema.enum.forEach(function(wt,te){Z.enum_options[te]="".concat(wt),Z.enum_display[te]="".concat(Z.translateProperty(dt[te])||wt),Z.enum_values[te]=Z.typecast(wt)})}else if(this.schema.type==="boolean")this.enum_display=this.schema.options&&this.schema.options.enum_titles||["true","false"],this.enum_options=["1",""],this.enum_values=[!0,!1],this.isRequired()||(this.enum_display.unshift(" "),this.enum_options.unshift("undefined"),this.enum_values.unshift(void 0));else{if(!this.schema.enumSource)throw new Error("'select' editor requires the enum property to be set.");if(this.enumSource=[],this.enum_display=[],this.enum_options=[],this.enum_values=[],Array.isArray(this.schema.enumSource))for(r=0;r<this.schema.enumSource.length;r++)typeof this.schema.enumSource[r]=="string"?this.enumSource[r]={source:this.schema.enumSource[r]}:Array.isArray(this.schema.enumSource[r])?this.enumSource[r]=this.schema.enumSource[r]:this.enumSource[r]=y({},this.schema.enumSource[r]);else this.schema.enumValue?this.enumSource=[{source:this.schema.enumSource,value:this.schema.enumValue}]:this.enumSource=[{source:this.schema.enumSource}];for(r=0;r<this.enumSource.length;r++)this.enumSource[r].value&&(typeof(b=this.expandCallbacks("template",{template:this.enumSource[r].value})).template=="function"?this.enumSource[r].value=b.template:this.enumSource[r].value=this.jsoneditor.compileTemplate(this.enumSource[r].value,this.template_engine)),this.enumSource[r].title&&(typeof(b=this.expandCallbacks("template",{template:this.enumSource[r].title})).template=="function"?this.enumSource[r].title=b.template:this.enumSource[r].title=this.jsoneditor.compileTemplate(this.enumSource[r].title,this.template_engine)),this.enumSource[r].filter&&this.enumSource[r].value&&(typeof(b=this.expandCallbacks("template",{template:this.enumSource[r].filter})).template=="function"?this.enumSource[r].filter=b.template:this.enumSource[r].filter=this.jsoneditor.compileTemplate(this.enumSource[r].filter,this.template_engine))}}},{key:"build",value:function(){var r=this;this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle(),this.isRequired())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.translateProperty(this.schema.description))),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.translateProperty(this.options.infoText))),this.options.compact&&this.container.classList.add("compact"),this.input=this.theme.getSelectInput(this.enum_options,!1),this.theme.setSelectOptions(this.input,this.enum_options,this.enum_display),(this.schema.readOnly||this.schema.readonly)&&(this.disable(!0),this.input.disabled=!0),this.setInputAttributes([]),this.input.addEventListener("change",function(b){b.preventDefault(),b.stopPropagation(),r.onInputChange()}),this.control=this.theme.getFormControl(this.label,this.input,this.description,this.infoButton),this.container.appendChild(this.control),this.value=this.enum_values[0],window.requestAnimationFrame(function(){r.input.parentNode&&r.afterInputReady()})}},{key:"afterInputReady",value:function(){this.theme.afterInputReady(this.input)}},{key:"onInputChange",value:function(){var r,b=this.typecast(this.input.value);(r=this.enum_values.includes(b)?this.enum_values[this.enum_values.indexOf(b)]:this.enum_values[0])!==this.value&&(this.is_dirty=!0,this.value=r,this.onChange(!0))}},{key:"onWatchedFieldChange",value:function(){var r,b,Z=[],dt=[];if(this.enumSource){r=this.getWatchedFieldValues();for(var wt=0;wt<this.enumSource.length;wt++)if(Array.isArray(this.enumSource[wt]))Z=Z.concat(this.enumSource[wt]),dt=dt.concat(this.enumSource[wt]);else{var te=[];if(te=Array.isArray(this.enumSource[wt].source)?this.enumSource[wt].source:r[this.enumSource[wt].source]){if(this.enumSource[wt].slice&&(te=Array.prototype.slice.apply(te,this.enumSource[wt].slice)),this.enumSource[wt].filter){var Ce=[];for(b=0;b<te.length;b++)this.enumSource[wt].filter({i:b,item:te[b],watched:r})&&Ce.push(te[b]);te=Ce}var Ke=[],Ln=[];for(b=0;b<te.length;b++){var Qn=te[b];this.enumSource[wt].value?Ln[b]=this.typecast(this.enumSource[wt].value({i:b,item:Qn})):Ln[b]=te[b],this.enumSource[wt].title?Ke[b]=this.enumSource[wt].title({i:b,item:Qn}):Ke[b]=Ln[b]}this.enumSource[wt].sort&&function(fr,Mr,Ur){fr.map(function(zr,Si){return{v:zr,t:Mr[Si]}}).sort(function(zr,Si){return zr.v<Si.v?-Ur:zr.v===Si.v?0:Ur}).forEach(function(zr,Si){fr[Si]=zr.v,Mr[Si]=zr.t})}.bind(null,Ln,Ke,this.enumSource[wt].sort==="desc"?1:-1)(),Z=Z.concat(Ln),dt=dt.concat(Ke)}}var ur=this.value;this.theme.setSelectOptions(this.input,Z,dt),this.enum_options=Z,this.enum_display=dt,this.enum_values=Z,Z.includes(ur)||this.jsoneditor.options.enum_source_value_auto_select!==!1?(this.input.value=ur,this.value=ur):(this.input.value=Z[0],this.value=this.typecast(Z[0]||""),this.parent&&!this.watchLoop?this.parent.onChildEditorChange(this):this.jsoneditor.onChange(),this.jsoneditor.notifyWatchers(this.path))}Sn(Fn(ot.prototype),"onWatchedFieldChange",this).call(this)}},{key:"enable",value:function(){this.always_disabled||(this.input.disabled=!1,Sn(Fn(ot.prototype),"enable",this).call(this))}},{key:"disable",value:function(r){r&&(this.always_disabled=!0),this.input.disabled=!0,Sn(Fn(ot.prototype),"disable",this).call(this,r)}},{key:"destroy",value:function(){this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),Sn(Fn(ot.prototype),"destroy",this).call(this)}},{key:"showValidationErrors",value:function(r){var b=this;this.previous_error_setting=this.jsoneditor.options.show_errors;var Z=r.reduce(function(dt,wt){return wt.path===b.path&&dt.push(wt.message),dt},[]);Z.length?this.theme.addInputError(this.input,"".concat(Z.join(". "),".")):this.theme.removeInputError(this.input)}}])&&yn(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ot}(P);function Fr(ht){return Fr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},Fr(ht)}function Ye(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(Fr(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(Fr(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),Fr(bt)==="symbol"?bt:String(bt)),q)}var bt}function vr(){return vr=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(ht,H,At){var q=function(Q,ot){for(;!Object.prototype.hasOwnProperty.call(Q,ot)&&(Q=jr(Q))!==null;);return Q}(ht,H);if(q){var bt=Object.getOwnPropertyDescriptor(q,H);return bt.get?bt.get.call(arguments.length<3?ht:At):bt.value}},vr.apply(this,arguments)}function Zr(ht,H){return Zr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},Zr(ht,H)}function jr(ht){return jr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},jr(ht)}var _r=function(ht){(function(r,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(b&&b.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),b&&Zr(r,b)})(ot,ht);var H,At,q,bt,Q=(q=ot,bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,b=jr(q);if(bt){var Z=jr(this).constructor;r=Reflect.construct(b,arguments,Z)}else r=b.apply(this,arguments);return function(dt,wt){if(wt&&(Fr(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(dt)}(this,r)});function ot(){return function(r,b){if(!(r instanceof b))throw new TypeError("Cannot call a class as a function")}(this,ot),Q.apply(this,arguments)}return H=ot,(At=[{key:"setValue",value:function(r,b){if(this.choices_instance){var Z=this.typecast(r||"");if(this.enum_values.includes(Z)||(Z=this.enum_values[0]),this.value===Z)return;b?this.is_dirty=!1:this.jsoneditor.options.show_errors==="change"&&(this.is_dirty=!0),this.input.value=this.enum_options[this.enum_values.indexOf(Z)],this.choices_instance.setChoiceByValue(this.input.value),this.value=Z,this.onChange()}else vr(jr(ot.prototype),"setValue",this).call(this,r,b)}},{key:"afterInputReady",value:function(){if(window.Choices&&!this.choices_instance){var r=this.expandCallbacks("choices",y({},this.defaults.options.choices||{},this.options.choices||{}));this.choices_instance=new window.Choices(this.input,r)}vr(jr(ot.prototype),"afterInputReady",this).call(this)}},{key:"onWatchedFieldChange",value:function(){var r=this;if(vr(jr(ot.prototype),"onWatchedFieldChange",this).call(this),this.choices_instance){var b=this.enum_options.map(function(Z,dt){return{value:Z,label:r.enum_display[dt]}});this.choices_instance.setChoices(b,"value","label",!0),this.choices_instance.setChoiceByValue("".concat(this.value))}}},{key:"enable",value:function(){!this.always_disabled&&this.choices_instance&&this.choices_instance.enable(),vr(jr(ot.prototype),"enable",this).call(this)}},{key:"disable",value:function(r){this.choices_instance&&this.choices_instance.disable(),vr(jr(ot.prototype),"disable",this).call(this,r)}},{key:"destroy",value:function(){this.choices_instance&&(this.choices_instance.destroy(),this.choices_instance=null),vr(jr(ot.prototype),"destroy",this).call(this)}}])&&Ye(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ot}(ke);function Hr(ht){return Hr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},Hr(ht)}function Tr(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(Hr(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(Hr(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),Hr(bt)==="symbol"?bt:String(bt)),q)}var bt}function br(){return br=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(ht,H,At){var q=function(Q,ot){for(;!Object.prototype.hasOwnProperty.call(Q,ot)&&(Q=xr(Q))!==null;);return Q}(ht,H);if(q){var bt=Object.getOwnPropertyDescriptor(q,H);return bt.get?bt.get.call(arguments.length<3?ht:At):bt.value}},br.apply(this,arguments)}function mr(ht,H){return mr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},mr(ht,H)}function xr(ht){return xr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},xr(ht)}_r.rules={".choices > *":"box-sizing:border-box"};var kr=function(ht){(function(r,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(b&&b.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),b&&mr(r,b)})(ot,ht);var H,At,q,bt,Q=(q=ot,bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,b=xr(q);if(bt){var Z=xr(this).constructor;r=Reflect.construct(b,arguments,Z)}else r=b.apply(this,arguments);return function(dt,wt){if(wt&&(Hr(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(dt)}(this,r)});function ot(){return function(r,b){if(!(r instanceof b))throw new TypeError("Cannot call a class as a function")}(this,ot),Q.apply(this,arguments)}return H=ot,(At=[{key:"build",value:function(){if(br(xr(ot.prototype),"build",this).call(this),this.input&&(this.schema.max&&typeof this.schema.max=="string"&&this.input.setAttribute("max",this.schema.max),this.schema.min&&typeof this.schema.max=="string"&&this.input.setAttribute("min",this.schema.min),window.flatpickr&&Hr(this.options.flatpickr)==="object")){this.options.flatpickr.enableTime=this.schema.format!=="date",this.options.flatpickr.noCalendar=this.schema.format==="time",this.schema.type==="integer"&&(this.options.flatpickr.mode="single"),this.input.setAttribute("data-input","");var r=this.input;if(this.options.flatpickr.wrap===!0){var b=[];if(this.options.flatpickr.showToggleButton!==!1){var Z=this.getButton("",this.schema.format==="time"?"time":"calendar","flatpickr_toggle_button");Z.setAttribute("data-toggle",""),b.push(Z)}if(this.options.flatpickr.showClearButton!==!1){var dt=this.getButton("","clear","flatpickr_clear_button");dt.setAttribute("data-clear",""),b.push(dt)}var wt=this.input.parentNode,te=this.input.nextSibling,Ce=this.theme.getInputGroup(this.input,b);Ce!==void 0?(this.options.flatpickr.inline=!1,wt.insertBefore(Ce,te),r=Ce):this.options.flatpickr.wrap=!1}this.flatpickr=window.flatpickr(r,this.options.flatpickr),this.options.flatpickr.inline===!0&&this.options.flatpickr.inlineHideInput===!0&&this.input.setAttribute("type","hidden")}}},{key:"getValue",value:function(){if(this.dependenciesFulfilled){if(this.schema.type==="string")return this.value;if(this.value!==""&&this.value!==void 0){var r=this.schema.format==="time"?"1970-01-01 ".concat(this.value):this.value;return parseInt(new Date(r).getTime()/1e3)}}}},{key:"setValue",value:function(r,b,Z){if(this.schema.type==="string")br(xr(ot.prototype),"setValue",this).call(this,r,b,Z),this.flatpickr&&this.flatpickr.setDate(r);else if(r>0){var dt=new Date(1e3*r),wt=dt.getFullYear(),te=this.zeroPad(dt.getMonth()+1),Ce=this.zeroPad(dt.getDate()),Ke=this.zeroPad(dt.getHours()),Ln=this.zeroPad(dt.getMinutes()),Qn=this.zeroPad(dt.getSeconds()),ur=[wt,te,Ce].join("-"),fr=[Ke,Ln,Qn].join(":"),Mr="".concat(ur,"T").concat(fr);this.schema.format==="date"?Mr=ur:this.schema.format==="time"&&(Mr=fr),this.input.value=Mr,this.refreshValue(),this.flatpickr&&this.flatpickr.setDate(Mr)}}},{key:"destroy",value:function(){this.flatpickr&&this.flatpickr.destroy(),this.flatpickr=null,br(xr(ot.prototype),"destroy",this).call(this)}},{key:"zeroPad",value:function(r){return"0".concat(r).slice(-2)}}])&&Tr(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ot}(W);function En(ht){return En=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},En(ht)}function Yn(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(En(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(En(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),En(bt)==="symbol"?bt:String(bt)),q)}var bt}function Un(){return Un=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(ht,H,At){var q=function(Q,ot){for(;!Object.prototype.hasOwnProperty.call(Q,ot)&&(Q=Lr(Q))!==null;);return Q}(ht,H);if(q){var bt=Object.getOwnPropertyDescriptor(q,H);return bt.get?bt.get.call(arguments.length<3?ht:At):bt.value}},Un.apply(this,arguments)}function qn(ht,H){return qn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},qn(ht,H)}function Lr(ht){return Lr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},Lr(ht)}var Ar=function(ht){(function(r,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(b&&b.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),b&&qn(r,b)})(ot,ht);var H,At,q,bt,Q=(q=ot,bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,b=Lr(q);if(bt){var Z=Lr(this).constructor;r=Reflect.construct(b,arguments,Z)}else r=b.apply(this,arguments);return function(dt,wt){if(wt&&(En(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(dt)}(this,r)});function ot(){return function(r,b){if(!(r instanceof b))throw new TypeError("Cannot call a class as a function")}(this,ot),Q.apply(this,arguments)}return H=ot,(At=[{key:"register",value:function(){if(this.editors){for(var r=0;r<this.editors.length;r++)this.editors[r]&&this.editors[r].unregister();this.editors[this.currentEditor]&&this.editors[this.currentEditor].register()}Un(Lr(ot.prototype),"register",this).call(this)}},{key:"unregister",value:function(){if(Un(Lr(ot.prototype),"unregister",this).call(this),this.editors)for(var r=0;r<this.editors.length;r++)this.editors[r]&&this.editors[r].unregister()}},{key:"getNumColumns",value:function(){return this.editors[this.currentEditor]?Math.max(this.editors[this.currentEditor].getNumColumns(),4):4}},{key:"enable",value:function(){if(this.editors)for(var r=0;r<this.editors.length;r++)this.editors[r]&&this.editors[r].enable();Un(Lr(ot.prototype),"enable",this).call(this)}},{key:"disable",value:function(){if(this.editors)for(var r=0;r<this.editors.length;r++)this.editors[r]&&this.editors[r].disable();Un(Lr(ot.prototype),"disable",this).call(this)}},{key:"switchEditor",value:function(){var r=this,b=this.getWatchedFieldValues();if(b){var Z=document.location.origin+document.location.pathname+this.template(b);this.editors[this.refs[Z]]||this.buildChildEditor(Z),this.currentEditor=this.refs[Z],this.register(),this.editors.forEach(function(dt,wt){dt&&(r.currentEditor===wt?dt.container.style.display="":dt.container.style.display="none")}),this.refreshValue(),this.onChange(!0)}}},{key:"buildChildEditor",value:function(r){this.refs[r]=this.editors.length;var b=this.theme.getChildEditorHolder();this.editor_holder.appendChild(b);var Z=y({},this.schema,this.jsoneditor.refs[r]),dt=this.jsoneditor.getEditorClass(Z,this.jsoneditor),wt=this.jsoneditor.createEditor(dt,{jsoneditor:this.jsoneditor,schema:Z,container:b,path:this.path,parent:this,required:!0});this.editors.push(wt),wt.preBuild(),wt.build(),wt.postBuild()}},{key:"preBuild",value:function(){var r;for(this.refs={},this.editors=[],this.currentEditor="",r=0;r<this.schema.links.length;r++)if(this.schema.links[r].rel.toLowerCase()==="describedby"){this.template=this.jsoneditor.compileTemplate(this.schema.links[r].href,this.template_engine);break}this.schema.links=this.schema.links.slice(0,r).concat(this.schema.links.slice(r+1)),this.schema.links.length===0&&delete this.schema.links,this.baseSchema=y({},this.schema)}},{key:"build",value:function(){this.editor_holder=document.createElement("div"),this.container.appendChild(this.editor_holder),this.switchEditor()}},{key:"onWatchedFieldChange",value:function(){this.switchEditor()}},{key:"onChildEditorChange",value:function(r){this.editors[this.currentEditor]&&this.refreshValue(),Un(Lr(ot.prototype),"onChildEditorChange",this).call(this,r)}},{key:"refreshValue",value:function(){this.editors[this.currentEditor]&&(this.value=this.editors[this.currentEditor].getValue())}},{key:"setValue",value:function(r,b){this.editors[this.currentEditor]&&(this.editors[this.currentEditor].setValue(r,b),this.refreshValue(),this.onChange())}},{key:"destroy",value:function(){this.editors.forEach(function(r){r&&r.destroy()}),this.editor_holder&&this.editor_holder.parentNode&&this.editor_holder.parentNode.removeChild(this.editor_holder),Un(Lr(ot.prototype),"destroy",this).call(this)}},{key:"showValidationErrors",value:function(r){this.editors.forEach(function(b){b&&b.showValidationErrors(r)})}}])&&Yn(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ot}(P);function wr(ht){return wr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},wr(ht)}function ei(ht,H){(H==null||H>ht.length)&&(H=ht.length);for(var At=0,q=new Array(H);At<H;At++)q[At]=ht[At];return q}function vi(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(wr(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(wr(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),wr(bt)==="symbol"?bt:String(bt)),q)}var bt}function bi(){return bi=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(ht,H,At){var q=function(Q,ot){for(;!Object.prototype.hasOwnProperty.call(Q,ot)&&(Q=ci(Q))!==null;);return Q}(ht,H);if(q){var bt=Object.getOwnPropertyDescriptor(q,H);return bt.get?bt.get.call(arguments.length<3?ht:At):bt.value}},bi.apply(this,arguments)}function oo(ht,H){return oo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},oo(ht,H)}function ci(ht){return ci=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},ci(ht)}var Eo=function(ht){(function(r,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(b&&b.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),b&&oo(r,b)})(ot,ht);var H,At,q,bt,Q=(q=ot,bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,b=ci(q);if(bt){var Z=ci(this).constructor;r=Reflect.construct(b,arguments,Z)}else r=b.apply(this,arguments);return function(dt,wt){if(wt&&(wr(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(dt)}(this,r)});function ot(){return function(r,b){if(!(r instanceof b))throw new TypeError("Cannot call a class as a function")}(this,ot),Q.apply(this,arguments)}return H=ot,(At=[{key:"getNumColumns",value:function(){return 4}},{key:"build",value:function(){var r=this;this.title=this.header=this.label=this.theme.getFormInputLabel(this.getTitle(),this.isRequired()),this.container.appendChild(this.title),this.options.enum_titles=this.options.enum_titles||[],this.enum=this.schema.enum,this.selected=0,this.select_options=[],this.html_values=[];for(var b=0;b<this.enum.length;b++)this.select_options[b]=this.options.enum_titles[b]||"Value ".concat(b+1),this.html_values[b]=this.getHTML(this.enum[b]);this.switcher=this.theme.getSwitcher(this.select_options),this.container.appendChild(this.switcher),this.display_area=this.theme.getIndentedPanel(),this.container.appendChild(this.display_area),this.options.hide_display&&(this.display_area.style.display="none"),this.switcher.addEventListener("change",function(Z){r.selected=r.select_options.indexOf(Z.currentTarget.value),r.value=r.enum[r.selected],r.refreshValue(),r.onChange(!0)}),this.value=this.enum[0],this.refreshValue(),this.enum.length===1&&(this.switcher.style.display="none")}},{key:"refreshValue",value:function(){var r=this;this.selected=-1;var b=JSON.stringify(this.value);this.enum.forEach(function(Z,dt){if(b===JSON.stringify(Z))return r.selected=dt,!1}),this.selected<0?this.setValue(this.enum[0]):(this.switcher.value=this.select_options[this.selected],this.display_area.innerHTML=this.html_values[this.selected])}},{key:"enable",value:function(){this.always_disabled||(this.switcher.disabled=!1,bi(ci(ot.prototype),"enable",this).call(this))}},{key:"disable",value:function(r){r&&(this.always_disabled=!0),this.switcher.disabled=!0,bi(ci(ot.prototype),"disable",this).call(this)}},{key:"getHTML",value:function(r){var b,Z,dt=this;if(r===null)return"<em>null</em>";if(wr(r)==="object"){var wt="";return b=r,Z=function(te,Ce){var Ke=dt.getHTML(Ce);Array.isArray(r)||(Ke="<div><em>".concat(te,"</em>: ").concat(Ke,"</div>")),wt+="<li>".concat(Ke,"</li>")},Array.isArray(b)||typeof b.length=="number"&&b.length>0&&b.length-1 in b?Array.from(b).forEach(function(te,Ce){return Z(Ce,te)}):Object.entries(b).forEach(function(te){var Ce,Ke,Ln=(Ke=2,function(fr){if(Array.isArray(fr))return fr}(Ce=te)||function(fr,Mr){var Ur=fr==null?null:typeof Symbol!="undefined"&&fr[Symbol.iterator]||fr["@@iterator"];if(Ur!=null){var zr,Si,ho,gi,Br=[],mi=!0,qo=!1;try{if(ho=(Ur=Ur.call(fr)).next,Mr===0){if(Object(Ur)!==Ur)return;mi=!1}else for(;!(mi=(zr=ho.call(Ur)).done)&&(Br.push(zr.value),Br.length!==Mr);mi=!0);}catch(vn){qo=!0,Si=vn}finally{try{if(!mi&&Ur.return!=null&&(gi=Ur.return(),Object(gi)!==gi))return}finally{if(qo)throw Si}}return Br}}(Ce,Ke)||function(fr,Mr){if(fr){if(typeof fr=="string")return ei(fr,Mr);var Ur=Object.prototype.toString.call(fr).slice(8,-1);return Ur==="Object"&&fr.constructor&&(Ur=fr.constructor.name),Ur==="Map"||Ur==="Set"?Array.from(fr):Ur==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ur)?ei(fr,Mr):void 0}}(Ce,Ke)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),Qn=Ln[0],ur=Ln[1];return Z(Qn,ur)}),wt=Array.isArray(r)?"<ol>".concat(wt,"</ol>"):"<ul style='margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0;'>".concat(wt,"</ul>")}return typeof r=="boolean"?r?"true":"false":typeof r=="string"?r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):r}},{key:"setValue",value:function(r){this.value!==r&&(this.value=r,this.refreshValue(),this.onChange())}},{key:"destroy",value:function(){this.display_area&&this.display_area.parentNode&&this.display_area.parentNode.removeChild(this.display_area),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.switcher&&this.switcher.parentNode&&this.switcher.parentNode.removeChild(this.switcher),bi(ci(ot.prototype),"destroy",this).call(this)}}])&&vi(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ot}(P);function xi(ht){return xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},xi(ht)}function Ro(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(xi(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(xi(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),xi(bt)==="symbol"?bt:String(bt)),q)}var bt}function To(){return To=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(ht,H,At){var q=function(Q,ot){for(;!Object.prototype.hasOwnProperty.call(Q,ot)&&(Q=sr(Q))!==null;);return Q}(ht,H);if(q){var bt=Object.getOwnPropertyDescriptor(q,H);return bt.get?bt.get.call(arguments.length<3?ht:At):bt.value}},To.apply(this,arguments)}function wa(ht,H){return wa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},wa(ht,H)}function sr(ht){return sr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},sr(ht)}var Ss=function(ht){(function(r,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(b&&b.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),b&&wa(r,b)})(ot,ht);var H,At,q,bt,Q=(q=ot,bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,b=sr(q);if(bt){var Z=sr(this).constructor;r=Reflect.construct(b,arguments,Z)}else r=b.apply(this,arguments);return function(dt,wt){if(wt&&(xi(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(dt)}(this,r)});function ot(){return function(r,b){if(!(r instanceof b))throw new TypeError("Cannot call a class as a function")}(this,ot),Q.apply(this,arguments)}return H=ot,(At=[{key:"register",value:function(){To(sr(ot.prototype),"register",this).call(this),this.input&&this.jsoneditor.options.use_name_attributes&&this.input.setAttribute("name",this.formname)}},{key:"unregister",value:function(){To(sr(ot.prototype),"unregister",this).call(this),this.input&&this.input.removeAttribute("name")}},{key:"setValue",value:function(r,b,Z){if((!this.template||Z)&&(r==null?r="":xi(r)==="object"?r=JSON.stringify(r):typeof r!="string"&&(r="".concat(r)),r!==this.serialized)){var dt=this.sanitize(r);if(this.input.value!==dt){this.input.value=dt;var wt=Z||this.getValue()!==r;this.refreshValue(),b?this.is_dirty=!1:this.jsoneditor.options.show_errors==="change"&&(this.is_dirty=!0),this.adjust_height&&this.adjust_height(this.input),this.onChange(wt)}}}},{key:"getNumColumns",value:function(){return 2}},{key:"enable",value:function(){To(sr(ot.prototype),"enable",this).call(this)}},{key:"disable",value:function(){To(sr(ot.prototype),"disable",this).call(this)}},{key:"refreshValue",value:function(){this.value=this.input.value,typeof this.value!="string"&&(this.value=""),this.serialized=this.value}},{key:"destroy",value:function(){this.template=null,this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),To(sr(ot.prototype),"destroy",this).call(this)}},{key:"sanitize",value:function(r){return r}},{key:"onWatchedFieldChange",value:function(){var r;this.template&&(r=this.getWatchedFieldValues(),this.setValue(this.template(r),!1,!0)),To(sr(ot.prototype),"onWatchedFieldChange",this).call(this)}},{key:"build",value:function(){if(this.format=this.schema.format,!this.format&&this.options.default_format&&(this.format=this.options.default_format),this.options.format&&(this.format=this.options.format),this.input_type="hidden",this.input=this.theme.getFormInputField(this.input_type),this.format&&this.input.setAttribute("data-schemaformat",this.format),this.container.appendChild(this.input),this.schema.template){var r=this.expandCallbacks("template",{template:this.schema.template});typeof r.template=="function"?this.template=r.template:this.template=this.jsoneditor.compileTemplate(this.schema.template,this.template_engine),this.refreshValue()}else this.refreshValue()}}])&&Ro(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ot}(P);function lo(ht){return lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},lo(ht)}function ul(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(lo(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(lo(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),lo(bt)==="symbol"?bt:String(bt)),q)}var bt}function vc(ht,H){return vc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},vc(ht,H)}function Ia(ht){return Ia=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},Ia(ht)}var Cr=function(ht){(function(r,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(b&&b.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),b&&vc(r,b)})(ot,ht);var H,At,q,bt,Q=(q=ot,bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,b=Ia(q);if(bt){var Z=Ia(this).constructor;r=Reflect.construct(b,arguments,Z)}else r=b.apply(this,arguments);return function(dt,wt){if(wt&&(lo(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(dt)}(this,r)});function ot(){return function(r,b){if(!(r instanceof b))throw new TypeError("Cannot call a class as a function")}(this,ot),Q.apply(this,arguments)}return H=ot,(At=[{key:"build",value:function(){this.options.compact=!1,this.header=this.label=this.theme.getFormInputLabel(this.getTitle()),this.description=this.theme.getDescription(this.schema.description||""),this.control=this.theme.getFormControl(this.label,this.description,null),this.container.appendChild(this.control)}},{key:"getTitle",value:function(){return this.translateProperty(this.schema.title)}},{key:"getNumColumns",value:function(){return 12}}])&&ul(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ot}(Kn);function ki(ht){return ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},ki(ht)}function ii(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(ki(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(ki(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),ki(bt)==="symbol"?bt:String(bt)),q)}var bt}function cr(){return cr=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(ht,H,At){var q=function(Q,ot){for(;!Object.prototype.hasOwnProperty.call(Q,ot)&&(Q=$e(Q))!==null;);return Q}(ht,H);if(q){var bt=Object.getOwnPropertyDescriptor(q,H);return bt.get?bt.get.call(arguments.length<3?ht:At):bt.value}},cr.apply(this,arguments)}function Oi(ht,H){return Oi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},Oi(ht,H)}function $e(ht){return $e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},$e(ht)}var Es=function(ht){(function(r,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(b&&b.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),b&&Oi(r,b)})(ot,ht);var H,At,q,bt,Q=(q=ot,bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,b=$e(q);if(bt){var Z=$e(this).constructor;r=Reflect.construct(b,arguments,Z)}else r=b.apply(this,arguments);return function(dt,wt){if(wt&&(ki(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(dt)}(this,r)});function ot(){return function(r,b){if(!(r instanceof b))throw new TypeError("Cannot call a class as a function")}(this,ot),Q.apply(this,arguments)}return H=ot,(At=[{key:"build",value:function(){if(cr($e(ot.prototype),"build",this).call(this),this.schema.minimum!==void 0){var r=this.schema.minimum;this.schema.exclusiveMinimum!==void 0&&(r+=1),this.input.setAttribute("min",r)}if(this.schema.maximum!==void 0){var b=this.schema.maximum;this.schema.exclusiveMaximum!==void 0&&(b-=1),this.input.setAttribute("max",b)}if(this.schema.step!==void 0){var Z=this.schema.step||1;this.input.setAttribute("step",Z)}this.setInputAttributes(["maxlength","pattern","readonly","min","max","step"])}},{key:"getNumColumns",value:function(){return 2}},{key:"getValue",value:function(){if(this.dependenciesFulfilled)return this.schema.default||this.jsoneditor.options.use_default_values||this.value!==""?function(r){if(r==null)return!1;var b=r.match(v),Z=parseFloat(r);return b!==null&&!isNaN(Z)&&isFinite(Z)}(this.value)?parseFloat(this.value):this.value:void(this.input.value="")}}])&&ii(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ot}(W);function fn(ht){return fn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},fn(ht)}function ao(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(fn(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(fn(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),fn(bt)==="symbol"?bt:String(bt)),q)}var bt}function _a(ht,H){return _a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},_a(ht,H)}function Na(ht){return Na=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},Na(ht)}var ds=function(ht){(function(r,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(b&&b.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),b&&_a(r,b)})(ot,ht);var H,At,q,bt,Q=(q=ot,bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,b=Na(q);if(bt){var Z=Na(this).constructor;r=Reflect.construct(b,arguments,Z)}else r=b.apply(this,arguments);return function(dt,wt){if(wt&&(fn(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(dt)}(this,r)});function ot(){return function(r,b){if(!(r instanceof b))throw new TypeError("Cannot call a class as a function")}(this,ot),Q.apply(this,arguments)}return H=ot,(At=[{key:"getNumColumns",value:function(){return 2}},{key:"getValue",value:function(){if(this.dependenciesFulfilled)return this.schema.default||this.jsoneditor.options.use_default_values||this.value!==""?function(r){if(r==null)return!1;var b=r.match(h),Z=parseInt(r);return b!==null&&!isNaN(Z)&&isFinite(Z)}(this.value)?parseInt(this.value):this.value:void(this.input.value="")}}])&&ao(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ot}(Es);function ra(ht){return ra=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},ra(ht)}function Us(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(ra(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(ra(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),ra(bt)==="symbol"?bt:String(bt)),q)}var bt}function Ni(){return Ni=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(ht,H,At){var q=function(Q,ot){for(;!Object.prototype.hasOwnProperty.call(Q,ot)&&(Q=Zo(Q))!==null;);return Q}(ht,H);if(q){var bt=Object.getOwnPropertyDescriptor(q,H);return bt.get?bt.get.call(arguments.length<3?ht:At):bt.value}},Ni.apply(this,arguments)}function Do(ht,H){return Do=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},Do(ht,H)}function Zo(ht){return Zo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},Zo(ht)}var fs=function(ht){(function(r,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(b&&b.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),b&&Do(r,b)})(ot,ht);var H,At,q,bt,Q=(q=ot,bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,b=Zo(q);if(bt){var Z=Zo(this).constructor;r=Reflect.construct(b,arguments,Z)}else r=b.apply(this,arguments);return function(dt,wt){if(wt&&(ra(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(dt)}(this,r)});function ot(){return function(r,b){if(!(r instanceof b))throw new TypeError("Cannot call a class as a function")}(this,ot),Q.apply(this,arguments)}return H=ot,(At=[{key:"preBuild",value:function(){if(Ni(Zo(ot.prototype),"preBuild",this).call(this),this.schema.options||(this.schema.options={}),!this.schema.options.cleave)switch(this.format){case"ipv6":this.schema.options.cleave={delimiters:[":"],blocks:[4,4,4,4,4,4,4,4],uppercase:!0};break;case"ipv4":this.schema.options.cleave={delimiters:["."],blocks:[3,3,3,3],numericOnly:!0}}this.options=y(this.options,this.schema.options||{})}}])&&Us(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ot}(W);function es(ht){return es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},es(ht)}function Ts(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(es(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(es(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),es(bt)==="symbol"?bt:String(bt)),q)}var bt}function ui(){return ui=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(ht,H,At){var q=function(Q,ot){for(;!Object.prototype.hasOwnProperty.call(Q,ot)&&(Q=mo(Q))!==null;);return Q}(ht,H);if(q){var bt=Object.getOwnPropertyDescriptor(q,H);return bt.get?bt.get.call(arguments.length<3?ht:At):bt.value}},ui.apply(this,arguments)}function Ko(ht,H){return Ko=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},Ko(ht,H)}function mo(ht){return mo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},mo(ht)}var Pa=function(ht){(function(r,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(b&&b.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),b&&Ko(r,b)})(ot,ht);var H,At,q,bt,Q=(q=ot,bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,b=mo(q);if(bt){var Z=mo(this).constructor;r=Reflect.construct(b,arguments,Z)}else r=b.apply(this,arguments);return function(dt,wt){if(wt&&(es(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(dt)}(this,r)});function ot(){return function(r,b){if(!(r instanceof b))throw new TypeError("Cannot call a class as a function")}(this,ot),Q.apply(this,arguments)}return H=ot,(At=[{key:"setValue",value:function(r,b,Z){var dt=ui(mo(ot.prototype),"setValue",this).call(this,r,b,Z);dt!==void 0&&dt.changed&&this.jodit_instance&&this.jodit_instance.setEditorValue(dt.value)}},{key:"build",value:function(){this.options.format="textarea",ui(mo(ot.prototype),"build",this).call(this),this.input_type=this.schema.format,this.input.setAttribute("data-schemaformat",this.input_type)}},{key:"afterInputReady",value:function(){var r,b=this;window.Jodit?(r=this.expandCallbacks("jodit",y({},{height:300},this.defaults.options.jodit||{},this.options.jodit||{})),this.jodit_instance=new window.Jodit(this.input,r),(this.schema.readOnly||this.schema.readonly||this.schema.template)&&this.jodit_instance.setReadOnly(!0),this.jodit_instance.events.on("change",function(){b.value=b.jodit_instance.getEditorValue(),b.is_dirty=!0,b.onChange(!0)}),this.theme.afterInputReady(this.input)):ui(mo(ot.prototype),"afterInputReady",this).call(this)}},{key:"getNumColumns",value:function(){return 6}},{key:"enable",value:function(){!this.always_disabled&&this.jodit_instance&&this.jodit_instance.setReadOnly(!1),ui(mo(ot.prototype),"enable",this).call(this)}},{key:"disable",value:function(r){this.jodit_instance&&this.jodit_instance.setReadOnly(!0),ui(mo(ot.prototype),"disable",this).call(this,r)}},{key:"destroy",value:function(){this.jodit_instance&&(this.jodit_instance.destruct(),this.jodit_instance=null),ui(mo(ot.prototype),"destroy",this).call(this)}}])&&Ts(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ot}(W),Tl=(L(6541),L(9337),L(3321),function(ht){var H=ht.split(".");if(H.length!==4)throw new Error("error_ipv4");H.forEach(function(At){if(isNaN(+At)||+At<0||+At>255)throw new Error("error_ipv4")})}),hl=function(ht){if(!ht.match("^(?:(?:(?:[a-fA-F0-9]{1,4}:){6}|(?=(?:[a-fA-F0-9]{0,4}:){2,6}(?:[0-9]{1,3}.){3}[0-9]{1,3}$)(([0-9a-fA-F]{1,4}:){1,5}|:)((:[0-9a-fA-F]{1,4}){1,5}:|:)|::(?:[a-fA-F0-9]{1,4}:){5})(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9]).){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])|(?:[a-fA-F0-9]{1,4}:){7}[a-fA-F0-9]{1,4}|(?=(?:[a-fA-F0-9]{0,4}:){0,7}[a-fA-F0-9]{0,4}$)(([0-9a-fA-F]{1,4}:){1,7}|:)((:[0-9a-fA-F]{1,4}){1,7}|:)|(?:[a-fA-F0-9]{1,4}:){7}:|:(:[a-fA-F0-9]{1,4}){7})$"))throw new Error("error_ipv6")},rn=function(ht){if(!ht.match("(?=^.{4,253}$)(^((?!-)[a-zA-Z0-9-]{0,62}[a-zA-Z0-9].)+[a-zA-Z]{2,63}$)"))throw new Error("error_hostname")};function er(ht,H,At,q){try{switch(ht.format){case"ipv4":Tl(H);break;case"ipv6":hl(H);break;case"hostname":rn(H)}return[]}catch(bt){return[{path:At,property:"format",message:q(bt.message)}]}}function Vn(ht,H){var At=Object.keys(ht);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(ht);H&&(q=q.filter(function(bt){return Object.getOwnPropertyDescriptor(ht,bt).enumerable})),At.push.apply(At,q)}return At}function wi(ht,H,At){return(H=Ao(H))in ht?Object.defineProperty(ht,H,{value:At,enumerable:!0,configurable:!0,writable:!0}):ht[H]=At,ht}function no(ht,H){return function(At){if(Array.isArray(At))return At}(ht)||function(At,q){var bt=At==null?null:typeof Symbol!="undefined"&&At[Symbol.iterator]||At["@@iterator"];if(bt!=null){var Q,ot,r,b,Z=[],dt=!0,wt=!1;try{if(r=(bt=bt.call(At)).next,q===0){if(Object(bt)!==bt)return;dt=!1}else for(;!(dt=(Q=r.call(bt)).done)&&(Z.push(Q.value),Z.length!==q);dt=!0);}catch(te){wt=!0,ot=te}finally{try{if(!dt&&bt.return!=null&&(b=bt.return(),Object(b)!==b))return}finally{if(wt)throw ot}}return Z}}(ht,H)||Fo(ht,H)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Xr(ht){return function(H){if(Array.isArray(H))return Wa(H)}(ht)||function(H){if(typeof Symbol!="undefined"&&H[Symbol.iterator]!=null||H["@@iterator"]!=null)return Array.from(H)}(ht)||Fo(ht)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Fo(ht,H){if(ht){if(typeof ht=="string")return Wa(ht,H);var At=Object.prototype.toString.call(ht).slice(8,-1);return At==="Object"&&ht.constructor&&(At=ht.constructor.name),At==="Map"||At==="Set"?Array.from(ht):At==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(At)?Wa(ht,H):void 0}}function Wa(ht,H){(H==null||H>ht.length)&&(H=ht.length);for(var At=0,q=new Array(H);At<H;At++)q[At]=ht[At];return q}function Io(ht){return Io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},Io(ht)}function ha(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,Ao(q.key),q)}}function Ao(ht){var H=function(At,q){if(Io(At)!=="object"||At===null)return At;var bt=At[Symbol.toPrimitive];if(bt!==void 0){var Q=bt.call(At,"string");if(Io(Q)!=="object")return Q;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(At)}(ht);return Io(H)==="symbol"?H:String(H)}var ia=function(){function ht(q,bt,Q,ot){(function(r,b){if(!(r instanceof b))throw new TypeError("Cannot call a class as a function")})(this,ht),this.jsoneditor=q,this.schema=bt||this.jsoneditor.schema,this.options=Q||{},this.translate=this.jsoneditor.translate||ot.translate,this.translateProperty=this.jsoneditor.translateProperty||ot.translateProperty,this.defaults=ot,this._validateSubSchema={const:function(r,b,Z){return JSON.stringify(r.const)!==JSON.stringify(b)||Array.isArray(b)||Io(b)==="object"?[{path:Z,property:"const",message:this.translate("error_const",null,r)}]:[]},enum:function(r,b,Z){var dt=JSON.stringify(b);return r.enum.some(function(wt){return dt===JSON.stringify(wt)})?[]:[{path:Z,property:"enum",message:this.translate("error_enum",null,r)}]},extends:function(r,b,Z){var dt=this;return r.extends.reduce(function(wt,te){return wt.push.apply(wt,Xr(dt._validateSchema(te,b,Z))),wt},[])},allOf:function(r,b,Z){var dt=this;return r.allOf.reduce(function(wt,te){return wt.push.apply(wt,Xr(dt._validateSchema(te,b,Z))),wt},[])},anyOf:function(r,b,Z){var dt=this;return r.anyOf.some(function(wt){return!dt._validateSchema(wt,b,Z).length})?[]:[{path:Z,property:"anyOf",message:this.translate("error_anyOf",null,r)}]},oneOf:function(r,b,Z){var dt=this,wt=0,te=[];r.oneOf.forEach(function(Ke,Ln){var Qn=dt._validateSchema(Ke,b,Z);Qn.length||wt++,Qn.forEach(function(ur){ur.path="".concat(Z,".oneOf[").concat(Ln,"]").concat(ur.path.substr(Z.length))}),te.push.apply(te,Xr(Qn))});var Ce=[];return wt!==1&&(Ce.push({path:Z,property:"oneOf",message:this.translate("error_oneOf",[wt],r)}),Ce.push.apply(Ce,te)),Ce},not:function(r,b,Z){return this._validateSchema(r.not,b,Z).length?[]:[{path:Z,property:"not",message:this.translate("error_not",null,r)}]},type:function(r,b,Z){var dt=this;if(Array.isArray(r.type)){if(!r.type.some(function(wt){return dt._checkType(wt,b)}))return[{path:Z,property:"type",message:this.translate("error_type_union",null,r)}]}else if(["date","time","datetime-local"].includes(r.format)&&r.type==="integer"){if(!this._checkType("string","".concat(b)))return[{path:Z,property:"type",message:this.translate("error_type",[r.format],r)}]}else if(!this._checkType(r.type,b))return[{path:Z,property:"type",message:this.translate("error_type",[r.type],r)}];return[]},disallow:function(r,b,Z){var dt=this;if(Array.isArray(r.disallow)){if(r.disallow.some(function(wt){return dt._checkType(wt,b)}))return[{path:Z,property:"disallow",message:this.translate("error_disallow_union",null,r)}]}else if(this._checkType(r.disallow,b))return[{path:Z,property:"disallow",message:this.translate("error_disallow",[r.disallow],r)}];return[]}},this._validateNumberSubSchema={multipleOf:function(r,b,Z){return this._validateNumberSubSchemaMultipleDivisible(r,b,Z)},divisibleBy:function(r,b,Z){return this._validateNumberSubSchemaMultipleDivisible(r,b,Z)},maximum:function(r,b,Z){var dt=r.exclusiveMaximum?b<r.maximum:b<=r.maximum;return window.math?dt=window.math[r.exclusiveMaximum?"smaller":"smallerEq"](window.math.bignumber(b),window.math.bignumber(r.maximum)):window.Decimal&&(dt=new window.Decimal(b)[r.exclusiveMaximum?"lt":"lte"](new window.Decimal(r.maximum))),dt?[]:[{path:Z,property:"maximum",message:this.translate(r.exclusiveMaximum?"error_maximum_excl":"error_maximum_incl",[r.maximum],r)}]},minimum:function(r,b,Z){var dt=r.exclusiveMinimum?b>r.minimum:b>=r.minimum;return window.math?dt=window.math[r.exclusiveMinimum?"larger":"largerEq"](window.math.bignumber(b),window.math.bignumber(r.minimum)):window.Decimal&&(dt=new window.Decimal(b)[r.exclusiveMinimum?"gt":"gte"](new window.Decimal(r.minimum))),dt?[]:[{path:Z,property:"minimum",message:this.translate(r.exclusiveMinimum?"error_minimum_excl":"error_minimum_incl",[r.minimum],r)}]}},this._validateStringSubSchema={maxLength:function(r,b,Z){var dt=[];return"".concat(b).length>r.maxLength&&dt.push({path:Z,property:"maxLength",message:this.translate("error_maxLength",[r.maxLength],r)}),dt},minLength:function(r,b,Z){return"".concat(b).length<r.minLength?[{path:Z,property:"minLength",message:this.translate(r.minLength===1?"error_notempty":"error_minLength",[r.minLength],r)}]:[]},pattern:function(r,b,Z){return new RegExp(r.pattern).test(b)?[]:[{path:Z,property:"pattern",message:r.options&&r.options.patternmessage?r.options.patternmessage:this.translate("error_pattern",[r.pattern],r)}]}},this._validateArraySubSchema={items:function(r,b,Z){var dt=this,wt=[];if(Array.isArray(r.items))for(var te=0;te<b.length;te++)if(r.items[te])wt.push.apply(wt,Xr(this._validateSchema(r.items[te],b[te],"".concat(Z,".").concat(te))));else{if(r.additionalItems===!0)break;if(!r.additionalItems){if(r.additionalItems===!1){wt.push({path:Z,property:"additionalItems",message:this.translate("error_additionalItems",null,r)});break}break}wt.push.apply(wt,Xr(this._validateSchema(r.additionalItems,b[te],"".concat(Z,".").concat(te))))}else b.forEach(function(Ce,Ke){wt.push.apply(wt,Xr(dt._validateSchema(r.items,Ce,"".concat(Z,".").concat(Ke))))});return wt},maxItems:function(r,b,Z){return b.length>r.maxItems?[{path:Z,property:"maxItems",message:this.translate("error_maxItems",[r.maxItems],r)}]:[]},minItems:function(r,b,Z){return b.length<r.minItems?[{path:Z,property:"minItems",message:this.translate("error_minItems",[r.minItems],r)}]:[]},uniqueItems:function(r,b,Z){for(var dt={},wt=0;wt<b.length;wt++){var te=JSON.stringify(b[wt]);if(dt[te])return[{path:Z,property:"uniqueItems",message:this.translate("error_uniqueItems",null,r)}];dt[te]=!0}return[]}},this._validateObjectSubSchema={maxProperties:function(r,b,Z){return Object.keys(b).length>r.maxProperties?[{path:Z,property:"maxProperties",message:this.translate("error_maxProperties",[r.maxProperties],r)}]:[]},minProperties:function(r,b,Z){return Object.keys(b).length<r.minProperties?[{path:Z,property:"minProperties",message:this.translate("error_minProperties",[r.minProperties],r)}]:[]},required:function(r,b,Z){var dt=this,wt=[];return Array.isArray(r.required)&&r.required.forEach(function(te){if(b[te]===void 0){var Ce=dt.jsoneditor.getEditor("".concat(Z,".").concat(te));Ce&&Ce.dependenciesFulfilled===!1||Ce&&["button","info"].includes(Ce.schema.format||Ce.schema.type)||wt.push({path:Z,property:"required",message:dt.translate("error_required",[r&&r.properties&&r.properties[te]&&r.properties[te].title?r.properties[te].title:te],r)})}}),wt},properties:function(r,b,Z,dt){var wt=this,te=[];return Object.entries(r.properties).forEach(function(Ce){var Ke=no(Ce,2),Ln=Ke[0],Qn=Ke[1];dt[Ln]=!0,te.push.apply(te,Xr(wt._validateSchema(Qn,b[Ln],"".concat(Z,".").concat(Ln))))}),te},patternProperties:function(r,b,Z,dt){var wt=this,te=[];return Object.entries(r.patternProperties).forEach(function(Ce){var Ke=no(Ce,2),Ln=Ke[0],Qn=Ke[1],ur=new RegExp(Ln);Object.entries(b).forEach(function(fr){var Mr=no(fr,2),Ur=Mr[0],zr=Mr[1];ur.test(Ur)&&(dt[Ur]=!0,te.push.apply(te,Xr(wt._validateSchema(Qn,zr,"".concat(Z,".").concat(Ur)))))})}),te}},this._validateObjectSubSchema2={propertyNames:function(r,b,Z,dt){for(var wt=this,te=[],Ce=Object.keys(b),Ke=null,Ln=function(){var fr="";return Ke=Ce[Qn],typeof r.propertyNames=="boolean"?r.propertyNames===!0?"continue":(te.push({path:Z,property:"propertyNames",message:wt.translate("error_property_names_false",[Ke],r)}),"break"):Object.entries(r.propertyNames).every(function(Mr){var Ur=no(Mr,2),zr=Ur[0],Si=Ur[1],ho=!1;switch(zr){case"maxLength":if(typeof Si!="number"){fr="error_property_names_maxlength";break}if(Ke.length>Si){fr="error_property_names_exceeds_maxlength";break}return!0;case"const":if(Si!==Ke){fr="error_property_names_const_mismatch";break}return!0;case"enum":if(!Array.isArray(Si)){fr="error_property_names_enum";break}if(Si.forEach(function(gi){gi===Ke&&(ho=!0)}),!ho){fr="error_property_names_enum_mismatch";break}return!0;case"pattern":if(typeof Si!="string"){fr="error_property_names_pattern";break}if(!new RegExp(Si).test(Ke)){fr="error_property_names_pattern_mismatch";break}return!0;default:return te.push({path:Z,property:"propertyNames",message:wt.translate("error_property_names_unsupported",[zr],r)}),!1}return te.push({path:Z,property:"propertyNames",message:wt.translate(fr,[Ke],r)}),!1})?void 0:"break"},Qn=0;Qn<Ce.length;Qn++){var ur=Ln();if(ur!=="continue"&&ur==="break")break}return te},additionalProperties:function(r,b,Z,dt){for(var wt=[],te=Object.keys(b),Ce=0;Ce<te.length;Ce++){var Ke=te[Ce];if(!dt[Ke]){if(!r.additionalProperties){wt.push({path:Z,property:"additionalProperties",message:this.translate("error_additional_properties",[Ke],r)});break}if(r.additionalProperties===!0)break;wt.push.apply(wt,Xr(this._validateSchema(r.additionalProperties,b[Ke],"".concat(Z,".").concat(Ke))))}}return wt},dependencies:function(r,b,Z){var dt=this,wt=[];return Object.entries(r.dependencies).forEach(function(te){var Ce=no(te,2),Ke=Ce[0],Ln=Ce[1];b[Ke]!==void 0&&(Array.isArray(Ln)?Ln.forEach(function(Qn){b[Qn]===void 0&&wt.push({path:Z,property:"dependencies",message:dt.translate("error_dependency",[Qn],r)})}):wt.push.apply(wt,Xr(dt._validateSchema(Ln,b,Z))))}),wt}}}var H,At;return H=ht,At=[{key:"fitTest",value:function(q,bt){var Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e7,ot={match:0,extra:0};if(Io(q)==="object"&&q!==null){var r=this._getSchema(bt);if(r.anyOf){var b,Z=function(Qn){for(var ur=1;ur<arguments.length;ur++){var fr=arguments[ur]!=null?arguments[ur]:{};ur%2?Vn(Object(fr),!0).forEach(function(Mr){wi(Qn,Mr,fr[Mr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Qn,Object.getOwnPropertyDescriptors(fr)):Vn(Object(fr)).forEach(function(Mr){Object.defineProperty(Qn,Mr,Object.getOwnPropertyDescriptor(fr,Mr))})}return Qn}({},ot),dt=function(Qn,ur){var fr=typeof Symbol!="undefined"&&Qn[Symbol.iterator]||Qn["@@iterator"];if(!fr){if(Array.isArray(Qn)||(fr=Fo(Qn))){fr&&(Qn=fr);var Mr=0,Ur=function(){};return{s:Ur,n:function(){return Mr>=Qn.length?{done:!0}:{done:!1,value:Qn[Mr++]}},e:function(gi){throw gi},f:Ur}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var zr,Si=!0,ho=!1;return{s:function(){fr=fr.call(Qn)},n:function(){var gi=fr.next();return Si=gi.done,gi},e:function(gi){ho=!0,zr=gi},f:function(){try{Si||fr.return==null||fr.return()}finally{if(ho)throw zr}}}}(r.anyOf);try{for(dt.s();!(b=dt.n()).done;){var wt=b.value,te=this.fitTest(q,wt,Q);(te.match>Z.match||te.match===Z.match&&te.extra<Z.extra)&&(Z=te)}}catch(Qn){dt.e(Qn)}finally{dt.f()}return Z}var Ce=this._getSchema(bt).properties;for(var Ke in Ce)if(C(Ce,Ke)){if(Io(q[Ke])==="object"&&Io(Ce[Ke])==="object"&&Io(Ce[Ke].properties)==="object"){var Ln=this.fitTest(q[Ke],Ce[Ke],Q/100);ot.match+=Ln.match,ot.extra+=Ln.extra}q[Ke]!==void 0&&(ot.match+=Q)}else ot.extra+=Q}return ot}},{key:"_getSchema",value:function(q){return q===void 0?y({},this.jsoneditor.expandRefs(this.schema)):q}},{key:"validate",value:function(q){return this._validateSchema(this.schema,q)}},{key:"_validateSchema",value:function(q,bt,Q){var ot=this,r=[];return Q=Q||this.jsoneditor.root.formname,q=y({},this.jsoneditor.expandRefs(q)),bt===void 0?this._validateV3Required(q,bt,Q):(Object.keys(q).forEach(function(b){ot._validateSubSchema[b]&&r.push.apply(r,Xr(ot._validateSubSchema[b].call(ot,q,bt,Q)))}),r.push.apply(r,Xr(this._validateByValueType(q,bt,Q))),q.links&&q.links.forEach(function(b,Z){b.rel&&b.rel.toLowerCase()==="describedby"&&(q=ot._expandSchemaLink(q,Z),r.push.apply(r,Xr(ot._validateSchema(q,bt,Q,ot.translate))))}),["date","time","datetime-local"].includes(q.format)&&r.push.apply(r,Xr(this._validateDateTimeSubSchema(q,bt,Q))),["uuid"].includes(q.format)&&r.push.apply(r,Xr(this._validateUUIDSchema(q,bt,Q))),r.push.apply(r,Xr(this._validateCustomValidator(q,bt,Q))),this._removeDuplicateErrors(r))}},{key:"_expandSchemaLink",value:function(q,bt){var Q=q.links[bt].href,ot=this.jsoneditor.root.getValue(),r=this.jsoneditor.compileTemplate(Q,this.jsoneditor.template),b=document.location.origin+document.location.pathname+r(ot);return q.links=q.links.slice(0,bt).concat(q.links.slice(bt+1)),y({},q,this.jsoneditor.refs[b])}},{key:"_validateV3Required",value:function(q,bt,Q){return(q.required!==void 0&&q.required===!0||q.required===void 0&&this.jsoneditor.options.required_by_default===!0)&&q.type!=="info"?[{path:Q,property:"required",message:this.translate("error_notset",null,q)}]:[]}},{key:"_validateByValueType",value:function(q,bt,Q){var ot=this,r=[];if(bt===null)return r;if(typeof bt=="number")Object.keys(q).forEach(function(Z){ot._validateNumberSubSchema[Z]&&r.push.apply(r,Xr(ot._validateNumberSubSchema[Z].call(ot,q,bt,Q)))});else if(typeof bt=="string")Object.keys(q).forEach(function(Z){ot._validateStringSubSchema[Z]&&r.push.apply(r,Xr(ot._validateStringSubSchema[Z].call(ot,q,bt,Q)))});else if(Array.isArray(bt))Object.keys(q).forEach(function(Z){ot._validateArraySubSchema[Z]&&r.push.apply(r,Xr(ot._validateArraySubSchema[Z].call(ot,q,bt,Q)))});else if(Io(bt)==="object"){var b={};Object.keys(q).forEach(function(Z){ot._validateObjectSubSchema[Z]&&r.push.apply(r,Xr(ot._validateObjectSubSchema[Z].call(ot,q,bt,Q,b)))}),q.additionalProperties!==void 0||!this.jsoneditor.options.no_additional_properties||q.oneOf||q.anyOf||q.allOf||(q.additionalProperties=!1),Object.keys(q).forEach(function(Z){ot._validateObjectSubSchema2[Z]!==void 0&&r.push.apply(r,Xr(ot._validateObjectSubSchema2[Z].call(ot,q,bt,Q,b)))})}return r}},{key:"_validateUUIDSchema",value:function(q,bt,Q){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(bt)?[]:[{path:Q,property:"format",message:this.translate("error_pattern",["^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-5][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}$"],q)}]}},{key:"_validateNumberSubSchemaMultipleDivisible",value:function(q,bt,Q){var ot=q.multipleOf||q.divisibleBy,r=bt/ot===Math.floor(bt/ot);return window.math?r=window.math.mod(window.math.bignumber(bt),window.math.bignumber(ot)).equals(0):window.Decimal&&(r=new window.Decimal(bt).mod(new window.Decimal(ot)).equals(0)),r?[]:[{path:Q,property:q.multipleOf?"multipleOf":"divisibleBy",message:this.translate("error_multipleOf",[ot],q)}]}},{key:"_validateDateTimeSubSchema",value:function(q,bt,Q){var ot=this,r=this.jsoneditor.getEditor(Q),b=r&&r.flatpickr?r.flatpickr.config.dateFormat:{date:'"YYYY-MM-DD"',time:'"HH:MM"',"datetime-local":'"YYYY-MM-DD HH:MM"'}[q.format];if(q.type==="integer")return function(Z,dt,wt){return 1*dt<1?[{path:wt,property:"format",message:ot.translate("error_invalid_epoch",null,Z)}]:dt!==Math.abs(parseInt(dt))?[{path:wt,property:"format",message:ot.translate("error_".concat(Z.format.replace(/-/g,"_")),[b],Z)}]:[]}(q,bt,Q);if(r&&r.flatpickr){if(r)return function(Z,dt,wt,te){if(dt!==""){var Ce;if(te.flatpickr.config.mode!=="single"){var Ke=te.flatpickr.config.mode==="range"?te.flatpickr.l10n.rangeSeparator:", ";Ce=te.flatpickr.selectedDates.map(function(Qn){return te.flatpickr.formatDate(Qn,te.flatpickr.config.dateFormat)}).join(Ke)}try{if(Ce){if(Ce!==dt)throw new Error("".concat(te.flatpickr.config.mode," mismatch"))}else if(te.flatpickr.formatDate(te.flatpickr.parseDate(dt,te.flatpickr.config.dateFormat),te.flatpickr.config.dateFormat)!==dt)throw new Error("mismatch")}catch(Qn){var Ln=te.flatpickr.config.errorDateFormat!==void 0?te.flatpickr.config.errorDateFormat:te.flatpickr.config.dateFormat;return[{path:wt,property:"format",message:ot.translate("error_".concat(te.format.replace(/-/g,"_")),[Ln],Z)}]}}return[]}(q,bt,Q,r)}else if(!{date:/^(\d{4}\D\d{2}\D\d{2})?$/,time:/^(\d{2}:\d{2}(?::\d{2})?)?$/,"datetime-local":/^(\d{4}\D\d{2}\D\d{2}[ T]\d{2}:\d{2}(?::\d{2})?)?$/}[q.format].test(bt))return[{path:Q,property:"format",message:this.translate("error_".concat(q.format.replace(/-/g,"_")),[b],q)}];return[]}},{key:"_validateCustomValidator",value:function(q,bt,Q){var ot=this,r=[];r.push.apply(r,Xr(er.call(this,q,bt,Q,this.translate)));var b=function(Z){r.push.apply(r,Xr(Z.call(ot,q,bt,Q)))};return this.defaults.custom_validators.forEach(b),this.options.custom_validators&&this.options.custom_validators.forEach(b),r}},{key:"_removeDuplicateErrors",value:function(q){return q.reduce(function(bt,Q){var ot=!0;return bt||(bt=[]),bt.forEach(function(r){r.message===Q.message&&r.path===Q.path&&r.property===Q.property&&(r.errorcount++,ot=!1)}),ot&&(Q.errorcount=1,bt.push(Q)),bt},[])}},{key:"_checkType",value:function(q,bt){var Q={string:function(ot){return typeof ot=="string"},number:function(ot){return typeof ot=="number"},integer:function(ot){return typeof ot=="number"&&ot===Math.floor(ot)},boolean:function(ot){return typeof ot=="boolean"},array:function(ot){return Array.isArray(ot)},object:function(ot){return ot!==null&&!Array.isArray(ot)&&Io(ot)==="object"},null:function(ot){return ot===null}};return typeof q=="string"?!Q[q]||Q[q](bt):!this._validateSchema(q,bt).length}}],At&&ha(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ht}();function bc(ht){return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},bc(ht)}function dl(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(bc(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(bc(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),bc(bt)==="symbol"?bt:String(bt)),q)}var bt}function zo(){return zo=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(ht,H,At){var q=function(Q,ot){for(;!Object.prototype.hasOwnProperty.call(Q,ot)&&(Q=Oo(Q))!==null;);return Q}(ht,H);if(q){var bt=Object.getOwnPropertyDescriptor(q,H);return bt.get?bt.get.call(arguments.length<3?ht:At):bt.value}},zo.apply(this,arguments)}function wu(ht,H){return wu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},wu(ht,H)}function Oo(ht){return Oo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},Oo(ht)}var xc=function(ht){(function(r,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(b&&b.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),b&&wu(r,b)})(ot,ht);var H,At,q,bt,Q=(q=ot,bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,b=Oo(q);if(bt){var Z=Oo(this).constructor;r=Reflect.construct(b,arguments,Z)}else r=b.apply(this,arguments);return function(dt,wt){if(wt&&(bc(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(dt)}(this,r)});function ot(){return function(r,b){if(!(r instanceof b))throw new TypeError("Cannot call a class as a function")}(this,ot),Q.apply(this,arguments)}return H=ot,(At=[{key:"register",value:function(){if(this.editors){for(var r=0;r<this.editors.length;r++)this.editors[r]&&this.editors[r].unregister();this.editors[this.type]&&this.editors[this.type].register()}zo(Oo(ot.prototype),"register",this).call(this)}},{key:"unregister",value:function(){if(zo(Oo(ot.prototype),"unregister",this).call(this),this.editors)for(var r=0;r<this.editors.length;r++)this.editors[r]&&this.editors[r].unregister()}},{key:"getNumColumns",value:function(){return this.editors[this.type]?Math.max(this.editors[this.type].getNumColumns(),4):4}},{key:"enable",value:function(){if(!this.always_disabled){if(this.editors)for(var r=0;r<this.editors.length;r++)this.editors[r]&&this.editors[r].enable();this.switcher.disabled=!1,zo(Oo(ot.prototype),"enable",this).call(this)}}},{key:"disable",value:function(r){if(r&&(this.always_disabled=!0),this.editors)for(var b=0;b<this.editors.length;b++)this.editors[b]&&this.editors[b].disable(r);this.switcher.disabled=!0,zo(Oo(ot.prototype),"disable",this).call(this)}},{key:"switchEditor",value:function(r){var b=this;this.editors[r]||this.buildChildEditor(r);var Z=this.getValue();this.type=r,this.register(),this.editors.forEach(function(dt,wt){dt&&(b.type===wt?(b.keep_values&&dt.setValue(Z,!0),dt.container.style.display=""):dt.container.style.display="none")}),this.refreshValue(),this.refreshHeaderText()}},{key:"buildChildEditor",value:function(r){var b,Z=this,dt=this.types[r],wt=this.theme.getChildEditorHolder();this.editor_holder.appendChild(wt),typeof dt=="string"?(b=y({},this.schema)).type=dt:(b=y({},this.schema,dt),b=this.jsoneditor.expandRefs(b),dt&&dt.required&&Array.isArray(dt.required)&&this.schema.required&&Array.isArray(this.schema.required)&&(b.required=this.schema.required.concat(dt.required)));var te=this.jsoneditor.getEditorClass(b);this.editors[r]=this.jsoneditor.createEditor(te,{jsoneditor:this.jsoneditor,schema:b,container:wt,path:this.path,parent:this,required:!0}),this.editors[r].preBuild(),this.editors[r].build(),this.editors[r].postBuild(),this.editors[r].header&&(this.editors[r].header.style.display="none"),this.editors[r].option=this.switcher_options[r],wt.addEventListener("change_header_text",function(){Z.refreshHeaderText()}),r!==this.type&&(wt.style.display="none")}},{key:"preBuild",value:function(){if(this.types=[],this.type=0,this.editors=[],this.validators=[],this.keep_values=!0,this.jsoneditor.options.keep_oneof_values!==void 0&&(this.keep_values=this.jsoneditor.options.keep_oneof_values),this.options.keep_oneof_values!==void 0&&(this.keep_values=this.options.keep_oneof_values),this.schema.oneOf)this.oneOf=!0,this.types=this.schema.oneOf,delete this.schema.oneOf;else if(this.schema.anyOf)this.anyOf=!0,this.types=this.schema.anyOf,delete this.schema.anyOf;else{if(this.schema.type&&this.schema.type!=="any")Array.isArray(this.schema.type)?this.types=this.schema.type:this.types=[this.schema.type];else if(this.types=["string","number","integer","boolean","object","array","null"],this.schema.disallow){var r=this.schema.disallow;bc(r)==="object"&&Array.isArray(r)||(r=[r]);var b=[];this.types.forEach(function(Z){r.includes(Z)||b.push(Z)}),this.types=b}delete this.schema.type}this.display_text=this.getDisplayText(this.types)}},{key:"build",value:function(){var r=this,b=this.container;this.header=this.label=this.theme.getFormInputLabel(this.getTitle(),this.isRequired()),this.container.appendChild(this.header),this.switcher=this.theme.getSwitcher(this.display_text),b.appendChild(this.switcher),this.switcher.addEventListener("change",function(dt){dt.preventDefault(),dt.stopPropagation(),r.switchEditor(r.display_text.indexOf(dt.currentTarget.value)),r.onChange(!0)}),this.editor_holder=document.createElement("div"),b.appendChild(this.editor_holder);var Z={};this.jsoneditor.options.custom_validators&&(Z.custom_validators=this.jsoneditor.options.custom_validators),this.switcher_options=this.theme.getSwitcherOptions(this.switcher),this.types.forEach(function(dt,wt){var te;r.editors[wt]=!1,typeof dt=="string"?(te=y({},r.schema)).type=dt:(te=y({},r.schema,dt),dt.required&&Array.isArray(dt.required)&&r.schema.required&&Array.isArray(r.schema.required)&&(te.required=r.schema.required.concat(dt.required))),r.validators[wt]=new ia(r.jsoneditor,te,Z,r.defaults)}),this.switchEditor(0)}},{key:"onChildEditorChange",value:function(r){this.editors[this.type]&&(this.refreshValue(),this.refreshHeaderText()),zo(Oo(ot.prototype),"onChildEditorChange",this).call(this)}},{key:"refreshHeaderText",value:function(){var r=this.getDisplayText(this.types);Array.from(this.switcher_options).forEach(function(b,Z){b.textContent=r[Z]})}},{key:"refreshValue",value:function(){this.value=this.editors[this.type].getValue()}},{key:"setValue",value:function(r,b){var Z=this,dt=this.type,wt={match:0,extra:0,i:this.type},te={match:0,i:null};this.validators.forEach(function(Ln,Qn){var ur=null;Z.anyOf!==void 0&&Z.anyOf&&(ur=Ln.fitTest(r),(wt.match<ur.match||wt.match===ur.match&&wt.extra>ur.extra)&&((wt=ur).i=Qn)),Ln.validate(r).length||te.i!==null?wt=te:(te.i=Qn,ur!==null&&(te.match=ur.match))});var Ce=te.i;this.anyOf!==void 0&&this.anyOf&&te.match<wt.match&&(Ce=wt.i),Ce===null&&(Ce=this.type),this.type=Ce,this.switcher.value=this.display_text[Ce];var Ke=this.type!==dt;Ke&&this.switchEditor(this.type),r!==void 0&&this.editors[this.type].setValue(r,b),this.refreshValue(),this.onChange(Ke)}},{key:"destroy",value:function(){this.editors.forEach(function(r){r&&r.destroy()}),this.editor_holder&&this.editor_holder.parentNode&&this.editor_holder.parentNode.removeChild(this.editor_holder),this.switcher&&this.switcher.parentNode&&this.switcher.parentNode.removeChild(this.switcher),zo(Oo(ot.prototype),"destroy",this).call(this)}},{key:"showValidationErrors",value:function(r){var b=this;if(this.oneOf||this.anyOf){var Z=this.oneOf?"oneOf":"anyOf";this.editors.forEach(function(dt,wt){if(dt){var te="".concat(b.path,".").concat(Z,"[").concat(wt,"]");dt.showValidationErrors(r.reduce(function(Ce,Ke){if(Ke.path.startsWith(te)||Ke.path===te.substr(0,Ke.path.length)){var Ln=y({},Ke);Ke.path.startsWith(te)&&(Ln.path=b.path+Ln.path.substr(te.length)),Ce.push(Ln)}return Ce},[]))}})}else this.editors.forEach(function(dt){dt&&dt.showValidationErrors(r)})}},{key:"addLinks",value:function(){}}])&&dl(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ot}(P);function ir(ht){return ir=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},ir(ht)}function _u(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(ir(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(ir(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),ir(bt)==="symbol"?bt:String(bt)),q)}var bt}function so(ht,H){return so=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},so(ht,H)}function $c(ht){return $c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},$c(ht)}var Gl=function(ht){(function(r,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(b&&b.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),b&&so(r,b)})(ot,ht);var H,At,q,bt,Q=(q=ot,bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,b=$c(q);if(bt){var Z=$c(this).constructor;r=Reflect.construct(b,arguments,Z)}else r=b.apply(this,arguments);return function(dt,wt){if(wt&&(ir(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(dt)}(this,r)});function ot(){return function(r,b){if(!(r instanceof b))throw new TypeError("Cannot call a class as a function")}(this,ot),Q.apply(this,arguments)}return H=ot,(At=[{key:"getValue",value:function(){if(this.dependenciesFulfilled)return null}},{key:"setValue",value:function(){this.onChange()}},{key:"getNumColumns",value:function(){return 2}}])&&_u(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ot}(P);function Ga(ht,H){var At=Object.keys(ht);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(ht);H&&(q=q.filter(function(bt){return Object.getOwnPropertyDescriptor(ht,bt).enumerable})),At.push.apply(At,q)}return At}function Xa(ht){for(var H=1;H<arguments.length;H++){var At=arguments[H]!=null?arguments[H]:{};H%2?Ga(Object(At),!0).forEach(function(q){Gi(ht,q,At[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ht,Object.getOwnPropertyDescriptors(At)):Ga(Object(At)).forEach(function(q){Object.defineProperty(ht,q,Object.getOwnPropertyDescriptor(At,q))})}return ht}function Gi(ht,H,At){return(H=ku(H))in ht?Object.defineProperty(ht,H,{value:At,enumerable:!0,configurable:!0,writable:!0}):ht[H]=At,ht}function qc(ht,H){return function(At){if(Array.isArray(At))return At}(ht)||function(At,q){var bt=At==null?null:typeof Symbol!="undefined"&&At[Symbol.iterator]||At["@@iterator"];if(bt!=null){var Q,ot,r,b,Z=[],dt=!0,wt=!1;try{if(r=(bt=bt.call(At)).next,q===0){if(Object(bt)!==bt)return;dt=!1}else for(;!(dt=(Q=r.call(bt)).done)&&(Z.push(Q.value),Z.length!==q);dt=!0);}catch(te){wt=!0,ot=te}finally{try{if(!dt&&bt.return!=null&&(b=bt.return(),Object(b)!==b))return}finally{if(wt)throw ot}}return Z}}(ht,H)||function(At,q){if(At){if(typeof At=="string")return ih(At,q);var bt=Object.prototype.toString.call(At).slice(8,-1);return bt==="Object"&&At.constructor&&(bt=At.constructor.name),bt==="Map"||bt==="Set"?Array.from(At):bt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(bt)?ih(At,q):void 0}}(ht,H)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ih(ht,H){(H==null||H>ht.length)&&(H=ht.length);for(var At=0,q=new Array(H);At<H;At++)q[At]=ht[At];return q}function Ra(ht){return Ra=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},Ra(ht)}function tc(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,ku(q.key),q)}}function ku(ht){var H=function(At,q){if(Ra(At)!=="object"||At===null)return At;var bt=At[Symbol.toPrimitive];if(bt!==void 0){var Q=bt.call(At,"string");if(Ra(Q)!=="object")return Q;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(At)}(ht);return Ra(H)==="symbol"?H:String(H)}function Vi(){return Vi=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(ht,H,At){var q=function(Q,ot){for(;!Object.prototype.hasOwnProperty.call(Q,ot)&&(Q=ns(Q))!==null;);return Q}(ht,H);if(q){var bt=Object.getOwnPropertyDescriptor(q,H);return bt.get?bt.get.call(arguments.length<3?ht:At):bt.value}},Vi.apply(this,arguments)}function Yc(ht,H){return Yc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},Yc(ht,H)}function ns(ht){return ns=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},ns(ht)}var yd=function(ht){(function(r,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(b&&b.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),b&&Yc(r,b)})(ot,ht);var H,At,q,bt,Q=(q=ot,bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,b=ns(q);if(bt){var Z=ns(this).constructor;r=Reflect.construct(b,arguments,Z)}else r=b.apply(this,arguments);return function(dt,wt){if(wt&&(Ra(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(dt)}(this,r)});function ot(r,b,Z){var dt;return function(wt,te){if(!(wt instanceof te))throw new TypeError("Cannot call a class as a function")}(this,ot),(dt=Q.call(this,r,b)).currentDepth=Z,dt}return H=ot,(At=[{key:"getDefault",value:function(){return y({},this.schema.default||{})}},{key:"getChildEditors",value:function(){return this.editors}},{key:"register",value:function(){Vi(ns(ot.prototype),"register",this).call(this),this.editors&&Object.values(this.editors).forEach(function(r){return r.register()})}},{key:"unregister",value:function(){Vi(ns(ot.prototype),"unregister",this).call(this),this.editors&&Object.values(this.editors).forEach(function(r){return r.unregister()})}},{key:"getNumColumns",value:function(){return Math.max(Math.min(12,this.maxwidth),3)}},{key:"enable",value:function(){this.always_disabled||(this.editjson_control&&(this.editjson_control.disabled=!1),this.addproperty_button&&(this.addproperty_button.disabled=!1),Vi(ns(ot.prototype),"enable",this).call(this),this.editors&&Object.values(this.editors).forEach(function(r){r.isActive()&&r.enable(),r.optInCheckbox.disabled=!1}))}},{key:"disable",value:function(r){r&&(this.always_disabled=!0),this.editjson_control&&(this.editjson_control.disabled=!0),this.addproperty_button&&(this.addproperty_button.disabled=!0),this.hideEditJSON(),Vi(ns(ot.prototype),"disable",this).call(this),this.editors&&Object.values(this.editors).forEach(function(b){b.isActive()&&b.disable(r),b.optInCheckbox.disabled=!0})}},{key:"layoutEditors",value:function(){var r,b,Z=this;if(this.row_container){var dt;this.property_order=Object.keys(this.editors),this.property_order=this.property_order.sort(function(gi,Br){var mi=Z.editors[gi].schema.propertyOrder,qo=Z.editors[Br].schema.propertyOrder;return typeof mi!="number"&&(mi=1e3),typeof qo!="number"&&(qo=1e3),mi-qo});var wt,te=this.format==="categories",Ce=[],Ke=null,Ln=null;if(this.format==="grid-strict"){var Qn=0;if(wt=[],this.property_order.forEach(function(gi){var Br=Z.editors[gi];if(!Br.property_removed){var mi=Br.options.hidden?0:Br.options.grid_columns||Br.getNumColumns(),qo=Br.options.hidden?0:Br.options.grid_offset||0,vn=!Br.options.hidden&&(Br.options.grid_break||!1),gn={key:gi,width:mi,offset:qo,height:Br.options.hidden?0:Br.container.offsetHeight};wt.push(gn),Ce[Qn]=wt,vn&&(Qn++,wt=[])}}),this.layout===JSON.stringify(Ce))return!1;for(this.layout=JSON.stringify(Ce),dt=document.createElement("div"),r=0;r<Ce.length;r++)for(wt=this.theme.getGridRow(),dt.appendChild(wt),b=0;b<Ce[r].length;b++)Ke=Ce[r][b].key,(Ln=this.editors[Ke]).options.hidden?Ln.container.style.display="none":this.theme.setGridColumnSize(Ln.container,Ce[r][b].width,Ce[r][b].offset),wt.appendChild(Ln.container)}else if(this.format==="grid"){for(this.property_order.forEach(function(gi){var Br=Z.editors[gi];if(!Br.property_removed){for(var mi=!1,qo=Br.options.hidden?0:Br.options.grid_columns||Br.getNumColumns(),vn=Br.options.hidden?0:Br.container.offsetHeight,gn=0;gn<Ce.length;gn++)Ce[gn].width+qo<=12&&(!vn||.5*Ce[gn].minh<vn&&2*Ce[gn].maxh>vn)&&(mi=gn);mi===!1&&(Ce.push({width:0,minh:999999,maxh:0,editors:[]}),mi=Ce.length-1),Ce[mi].editors.push({key:gi,width:qo,height:vn}),Ce[mi].width+=qo,Ce[mi].minh=Math.min(Ce[mi].minh,vn),Ce[mi].maxh=Math.max(Ce[mi].maxh,vn)}}),r=0;r<Ce.length;r++)if(Ce[r].width<12){var ur=!1,fr=0;for(b=0;b<Ce[r].editors.length;b++)(ur===!1||Ce[r].editors[b].width>Ce[r].editors[ur].width)&&(ur=b),Ce[r].editors[b].width*=12/Ce[r].width,Ce[r].editors[b].width=Math.floor(Ce[r].editors[b].width),fr+=Ce[r].editors[b].width;fr<12&&(Ce[r].editors[ur].width+=12-fr),Ce[r].width=12}if(this.layout===JSON.stringify(Ce))return!1;for(this.layout=JSON.stringify(Ce),dt=document.createElement("div"),r=0;r<Ce.length;r++)for(wt=this.theme.getGridRow(),dt.appendChild(wt),b=0;b<Ce[r].editors.length;b++)Ke=Ce[r].editors[b].key,(Ln=this.editors[Ke]).options.hidden?Ln.container.style.display="none":this.theme.setGridColumnSize(Ln.container,Ce[r].editors[b].width),wt.appendChild(Ln.container)}else{if(dt=document.createElement("div"),te){var Mr=document.createElement("div"),Ur=this.theme.getTopTabHolder(this.translateProperty(this.schema.title)),zr=this.theme.getTopTabContentHolder(Ur);for(this.property_order.forEach(function(gi){var Br=Z.editors[gi];if(!Br.property_removed){var mi=Z.theme.getTabContent(),qo=Br.schema&&(Br.schema.type==="object"||Br.schema.type==="array");mi.isObjOrArray=qo;var vn=Z.theme.getGridRow();Br.tab||(Z.basicPane===void 0?Z.addRow(Br,Ur,mi):Z.addRow(Br,Ur,Z.basicPane)),mi.id=Z.getValidId(Br.tab_text.textContent),qo?(mi.appendChild(vn),zr.appendChild(mi),Z.theme.addTopTab(Ur,Br.tab)):(Mr.appendChild(vn),zr.childElementCount>0?zr.firstChild.isObjOrArray&&(mi.appendChild(Mr),zr.insertBefore(mi,zr.firstChild),Z.theme.insertBasicTopTab(Br.tab,Ur),Br.basicPane=mi):(mi.appendChild(Mr),zr.appendChild(mi),Z.theme.addTopTab(Ur,Br.tab),Br.basicPane=mi)),Br.options.hidden?Br.container.style.display="none":Z.theme.setGridColumnSize(Br.container,12),vn.appendChild(Br.container),Br.rowPane=mi}});this.tabPanesContainer.firstChild;)this.tabPanesContainer.removeChild(this.tabPanesContainer.firstChild);var Si=this.tabs_holder.parentNode;Si.removeChild(Si.firstChild),Si.appendChild(Ur),this.tabPanesContainer=zr,this.tabs_holder=Ur;var ho=this.theme.getFirstTab(this.tabs_holder);return void(ho&&k(ho,"click"))}this.property_order.forEach(function(gi){var Br=Z.editors[gi];Br.property_removed||(wt=Z.theme.getGridRow(),dt.appendChild(wt),Br.options.hidden?Br.container.style.display="none":Z.theme.setGridColumnSize(Br.container,12),wt.appendChild(Br.container))})}for(;this.row_container.firstChild;)this.row_container.removeChild(this.row_container.firstChild);this.row_container.appendChild(dt)}}},{key:"getPropertySchema",value:function(r){var b=this,Z=this.schema.properties[r]||{};Z=y({},Z);var dt=!!this.schema.properties[r];return this.schema.patternProperties&&Object.keys(this.schema.patternProperties).forEach(function(wt){new RegExp(wt).test(r)&&(Z.allOf=Z.allOf||[],Z.allOf.push(b.schema.patternProperties[wt]),dt=!0)}),!dt&&this.schema.additionalProperties&&Ra(this.schema.additionalProperties)==="object"&&(Z=y({},this.schema.additionalProperties)),Z}},{key:"preBuild",value:function(){var r=this;if(Vi(ns(ot.prototype),"preBuild",this).call(this),this.editors={},this.cached_editors={},this.format=this.options.layout||this.options.object_layout||this.schema.format||this.jsoneditor.options.object_layout||"normal",this.schema.properties=this.schema.properties||{},this.minwidth=0,this.maxwidth=0,this.options.table_row)Object.entries(this.schema.properties).forEach(function(b){var Z=qc(b,2),dt=Z[0],wt=Z[1],te=r.jsoneditor.getEditorClass(wt);r.editors[dt]=r.jsoneditor.createEditor(te,{jsoneditor:r.jsoneditor,schema:wt,path:"".concat(r.path,".").concat(dt),parent:r,compact:!0,required:!0},r.currentDepth+1),r.editors[dt].preBuild();var Ce=r.editors[dt].options.hidden?0:r.editors[dt].options.grid_columns||r.editors[dt].getNumColumns();r.minwidth+=Ce,r.maxwidth+=Ce}),this.no_link_holder=!0;else{if(this.options.table)throw new Error("Not supported yet");this.schema.defaultProperties||(this.jsoneditor.options.display_required_only||this.options.display_required_only?this.schema.defaultProperties=Object.keys(this.schema.properties).filter(function(b){return r.isRequiredObject({key:b,schema:r.schema.properties[b]})}):this.schema.defaultProperties=Object.keys(this.schema.properties)),this.maxwidth+=1,Array.isArray(this.schema.defaultProperties)&&this.schema.defaultProperties.forEach(function(b){r.addObjectProperty(b,!0),r.editors[b]&&(r.minwidth=Math.max(r.minwidth,r.editors[b].options.grid_columns||r.editors[b].getNumColumns()),r.maxwidth+=r.editors[b].options.grid_columns||r.editors[b].getNumColumns())})}this.property_order=Object.keys(this.editors),this.property_order=this.property_order.sort(function(b,Z){var dt=r.editors[b].schema.propertyOrder,wt=r.editors[Z].schema.propertyOrder;return typeof dt!="number"&&(dt=1e3),typeof wt!="number"&&(wt=1e3),dt-wt})}},{key:"addTab",value:function(r){var b=this,Z=this.rows[r].schema&&(this.rows[r].schema.type==="object"||this.rows[r].schema.type==="array");this.tabs_holder&&(this.rows[r].tab_text=document.createElement("span"),this.rows[r].tab_text.textContent=Z?this.rows[r].getHeaderText():this.schema.basicCategoryTitle===void 0?"Basic":this.schema.basicCategoryTitle,this.rows[r].tab=this.theme.getTopTab(this.rows[r].tab_text,this.getValidId(this.rows[r].tab_text.textContent)),this.rows[r].tab.addEventListener("click",function(dt){b.active_tab=b.rows[r].tab,b.refreshTabs(),dt.preventDefault(),dt.stopPropagation()}))}},{key:"addRow",value:function(r,b,Z){var dt=this.rows.length,wt=r.schema.type==="object"||r.schema.type==="array";this.rows[dt]=r,this.rows[dt].rowPane=Z,wt?(this.addTab(dt),this.theme.addTopTab(b,this.rows[dt].tab)):this.basicTab===void 0?(this.addTab(dt),this.basicTab=dt,this.basicPane=Z,this.theme.addTopTab(b,this.rows[dt].tab)):(this.rows[dt].tab=this.rows[this.basicTab].tab,this.rows[dt].tab_text=this.rows[this.basicTab].tab_text,this.rows[dt].rowPane=this.rows[this.basicTab].rowPane)}},{key:"refreshTabs",value:function(r){var b=this,Z=this.basicTab!==void 0,dt=!1;this.rows.forEach(function(wt){wt.tab&&wt.rowPane&&wt.rowPane.parentNode&&(Z&&wt.tab===b.rows[b.basicTab].tab&&dt||(r?wt.tab_text.textContent=wt.getHeaderText():(Z&&wt.tab===b.rows[b.basicTab].tab&&(dt=!0),wt.tab===b.active_tab?b.theme.markTabActive(wt):b.theme.markTabInactive(wt))))})}},{key:"build",value:function(){var r=this,b=this.format==="categories";if(this.rows=[],this.active_tab=null,this.options.table_row)this.editor_holder=this.container,Object.entries(this.editors).forEach(function(dt){var wt=qc(dt,2),te=wt[0],Ce=wt[1],Ke=r.theme.getTableCell();r.editor_holder.appendChild(Ke),Ce.setContainer(Ke),Ce.build(),Ce.postBuild(),Ce.setOptInCheckbox(Ce.header),Ce.setValue(Ce.getDefault(),!0),r.editors[te].options.hidden&&(Ke.style.display="none"),r.editors[te].options.input_width&&(Ke.style.width=r.editors[te].options.input_width)});else{if(this.options.table)throw new Error("Not supported yet");this.header="",this.options.compact||(this.header=document.createElement("label"),this.header.textContent=this.getTitle()),this.title=this.theme.getHeader(this.header,this.getPathDepth()),this.title.classList.add("je-object__title"),this.controls=this.theme.getButtonHolder(),this.controls.classList.add("je-object__controls"),this.container.appendChild(this.title),this.container.appendChild(this.controls),this.container.classList.add("je-object__container"),this.editjson_holder=this.theme.getModal(),this.editjson_textarea=this.theme.getTextareaInput(),this.editjson_textarea.classList.add("je-edit-json--textarea"),this.editjson_save=this.getButton("button_save","save","button_save"),this.editjson_save.classList.add("json-editor-btntype-save"),this.editjson_save.addEventListener("click",function(dt){dt.preventDefault(),dt.stopPropagation(),r.saveJSON()}),this.editjson_copy=this.getButton("button_copy","copy","button_copy"),this.editjson_copy.classList.add("json-editor-btntype-copy"),this.editjson_copy.addEventListener("click",function(dt){dt.preventDefault(),dt.stopPropagation(),r.copyJSON()}),this.editjson_cancel=this.getButton("button_cancel","cancel","button_cancel"),this.editjson_cancel.classList.add("json-editor-btntype-cancel"),this.editjson_cancel.addEventListener("click",function(dt){dt.preventDefault(),dt.stopPropagation(),r.hideEditJSON()}),this.editjson_holder.appendChild(this.editjson_textarea),this.editjson_holder.appendChild(this.editjson_save),this.editjson_holder.appendChild(this.editjson_copy),this.editjson_holder.appendChild(this.editjson_cancel),this.addproperty_holder=this.theme.getModal(),this.addproperty_list=document.createElement("div"),this.addproperty_list.classList.add("property-selector"),this.addproperty_add=this.getButton("button_add","add","button_add"),this.addproperty_add.classList.add("json-editor-btntype-add"),this.addproperty_input=this.theme.getFormInputField("text"),this.addproperty_input.setAttribute("placeholder","Property name..."),this.addproperty_input.classList.add("property-selector-input"),this.addproperty_add.addEventListener("click",function(dt){if(dt.preventDefault(),dt.stopPropagation(),r.addproperty_input.value){if(r.editors[r.addproperty_input.value])return void window.alert("there is already a property with that name");r.addObjectProperty(r.addproperty_input.value),r.editors[r.addproperty_input.value]&&r.editors[r.addproperty_input.value].disable(),r.onChange(!0)}}),this.addproperty_input.addEventListener("input",function(dt){dt.target.previousSibling.childNodes.forEach(function(wt){wt.innerText.includes(dt.target.value)?wt.style.display="":wt.style.display="none"})}),this.addproperty_holder.appendChild(this.addproperty_list),this.addproperty_holder.appendChild(this.addproperty_input),this.addproperty_holder.appendChild(this.addproperty_add);var Z=document.createElement("div");Z.style.clear="both",this.addproperty_holder.appendChild(Z),this.onOutsideModalClickListener=this.onOutsideModalClick.bind(this),document.addEventListener("click",this.onOutsideModalClickListener,!0),this.schema.description&&(this.description=this.theme.getDescription(this.translateProperty(this.schema.description)),this.container.appendChild(this.description)),this.error_holder=document.createElement("div"),this.container.appendChild(this.error_holder),this.editor_holder=this.theme.getIndentedPanel(),this.container.appendChild(this.editor_holder),this.row_container=this.theme.getGridContainer(),b?(this.tabs_holder=this.theme.getTopTabHolder(this.getValidId(this.translateProperty(this.schema.title))),this.tabPanesContainer=this.theme.getTopTabContentHolder(this.tabs_holder),this.editor_holder.appendChild(this.tabs_holder)):(this.tabs_holder=this.theme.getTabHolder(this.getValidId(this.translateProperty(this.schema.title))),this.tabPanesContainer=this.theme.getTabContentHolder(this.tabs_holder),this.editor_holder.appendChild(this.row_container)),Object.values(this.editors).forEach(function(dt){var wt=r.theme.getTabContent(),te=r.theme.getGridColumn(),Ce=!(!dt.schema||dt.schema.type!=="object"&&dt.schema.type!=="array");if(wt.isObjOrArray=Ce,b){if(Ce){var Ke=r.theme.getGridContainer();Ke.appendChild(te),wt.appendChild(Ke),r.tabPanesContainer.appendChild(wt),r.row_container=Ke}else r.row_container_basic===void 0&&(r.row_container_basic=r.theme.getGridContainer(),wt.appendChild(r.row_container_basic),r.tabPanesContainer.childElementCount===0?r.tabPanesContainer.appendChild(wt):r.tabPanesContainer.insertBefore(wt,r.tabPanesContainer.childNodes[1])),r.row_container_basic.appendChild(te);r.addRow(dt,r.tabs_holder,wt),wt.id=r.getValidId(dt.schema.title)}else r.row_container.appendChild(te);dt.setContainer(te),dt.build(),dt.postBuild(),dt.setOptInCheckbox(dt.header)}),this.rows[0]&&k(this.rows[0].tab,"click"),this.collapsed=!1,this.collapse_control=this.getButton("","collapse","button_collapse"),this.collapse_control.classList.add("json-editor-btntype-toggle"),this.title.insertBefore(this.collapse_control,this.title.childNodes[0]),this.collapse_control.addEventListener("click",function(dt){dt.preventDefault(),dt.stopPropagation(),r.collapsed?(r.editor_holder.style.display="",r.collapsed=!1,r.setButtonText(r.collapse_control,"","collapse","button_collapse")):(r.editor_holder.style.display="none",r.collapsed=!0,r.setButtonText(r.collapse_control,"","expand","button_expand"))}),this.options.collapsed&&k(this.collapse_control,"click"),this.schema.options&&this.schema.options.disable_collapse!==void 0?this.schema.options.disable_collapse&&(this.collapse_control.style.display="none"):this.jsoneditor.options.disable_collapse&&(this.collapse_control.style.display="none"),this.editjson_control=this.getButton("JSON","edit","button_edit_json"),this.editjson_control.classList.add("json-editor-btntype-editjson"),this.editjson_control.addEventListener("click",function(dt){dt.preventDefault(),dt.stopPropagation(),r.toggleEditJSON()}),this.controls.appendChild(this.editjson_control),this.controls.insertBefore(this.editjson_holder,this.controls.childNodes[0]),this.schema.options&&this.schema.options.disable_edit_json!==void 0?this.schema.options.disable_edit_json&&(this.editjson_control.style.display="none"):this.jsoneditor.options.disable_edit_json&&(this.editjson_control.style.display="none"),this.addproperty_button=this.getButton("properties","edit_properties","button_object_properties"),this.addproperty_button.classList.add("json-editor-btntype-properties"),this.addproperty_button.addEventListener("click",function(dt){dt.preventDefault(),dt.stopPropagation(),r.toggleAddProperty()}),this.controls.appendChild(this.addproperty_button),this.controls.insertBefore(this.addproperty_holder,this.controls.childNodes[1]),this.refreshAddProperties(),this.deactivateNonRequiredProperties()}this.options.table_row?(this.editor_holder=this.container,this.property_order.forEach(function(dt){r.editor_holder.appendChild(r.editors[dt].container)})):(this.layoutEditors(),this.layoutEditors())}},{key:"deactivateNonRequiredProperties",value:function(){var r=this,b=this.jsoneditor.options.show_opt_in,Z=this.options.show_opt_in!==void 0,dt=Z&&this.options.show_opt_in===!0,wt=Z&&this.options.show_opt_in===!1;(dt||!wt&&b||!Z&&b)&&Object.entries(this.editors).forEach(function(te){var Ce=qc(te,2),Ke=Ce[0],Ln=Ce[1];r.isRequiredObject(Ln)||r.editors[Ke].deactivate()})}},{key:"showEditJSON",value:function(){this.editjson_holder&&(this.hideAddProperty(),this.editjson_holder.style.left="".concat(this.editjson_control.offsetLeft,"px"),this.editjson_holder.style.top="".concat(this.editjson_control.offsetTop+this.editjson_control.offsetHeight,"px"),this.editjson_textarea.value=JSON.stringify(this.getValue(),null,2),this.disable(),this.editjson_holder.style.display="",this.editjson_control.disabled=!1,this.editing_json=!0)}},{key:"hideEditJSON",value:function(){this.editjson_holder&&this.editing_json&&(this.editjson_holder.style.display="none",this.enable(),this.editing_json=!1)}},{key:"copyJSON",value:function(){if(this.editjson_holder){var r=document.createElement("textarea");r.value=this.editjson_textarea.value,r.setAttribute("readonly",""),r.style.position="absolute",r.style.left="-9999px",document.body.appendChild(r),r.select(),document.execCommand("copy"),document.body.removeChild(r)}}},{key:"saveJSON",value:function(){if(this.editjson_holder)try{var r=JSON.parse(this.editjson_textarea.value);this.setValue(r),this.hideEditJSON(),this.onChange(!0)}catch(b){throw window.alert("invalid JSON"),b}}},{key:"toggleEditJSON",value:function(){this.editing_json?this.hideEditJSON():this.showEditJSON()}},{key:"insertPropertyControlUsingPropertyOrder",value:function(r,b,Z){var dt;this.schema.properties[r]&&(dt=this.schema.properties[r].propertyOrder),typeof dt!="number"&&(dt=1e3),b.propertyOrder=dt;for(var wt=0;wt<Z.childNodes.length;wt++){var te=Z.childNodes[wt];if(b.propertyOrder<te.propertyOrder){this.addproperty_list.insertBefore(b,te),b=null;break}}b&&this.addproperty_list.appendChild(b)}},{key:"addPropertyCheckbox",value:function(r){var b,Z=this,dt=this.theme.getCheckbox();dt.style.width="auto",b=this.schema.properties[r]&&this.schema.properties[r].title?this.schema.properties[r].title:r;var wt=this.theme.getCheckboxLabel(b),te=this.theme.getFormControl(wt,dt);return te.style.paddingBottom=te.style.marginBottom=te.style.paddingTop=te.style.marginTop=0,te.style.height="auto",this.insertPropertyControlUsingPropertyOrder(r,te,this.addproperty_list),dt.checked=r in this.editors,dt.addEventListener("change",function(){dt.checked?Z.addObjectProperty(r):Z.removeObjectProperty(r),Z.onChange(!0)}),this.addproperty_checkboxes[r]=dt,dt}},{key:"showAddProperty",value:function(){this.addproperty_holder&&(this.hideEditJSON(),this.addproperty_holder.style.left="".concat(this.addproperty_button.offsetLeft,"px"),this.addproperty_holder.style.top="".concat(this.addproperty_button.offsetTop+this.addproperty_button.offsetHeight,"px"),this.disable(),this.adding_property=!0,this.addproperty_button.disabled=!1,this.addproperty_holder.style.display="",this.refreshAddProperties())}},{key:"hideAddProperty",value:function(){this.addproperty_holder&&this.adding_property&&(this.addproperty_holder.style.display="none",this.enable(),this.adding_property=!1)}},{key:"toggleAddProperty",value:function(){this.adding_property?this.hideAddProperty():this.showAddProperty()}},{key:"removeObjectProperty",value:function(r){this.editors[r]&&(this.editors[r].unregister(),delete this.editors[r],this.refreshValue(),this.layoutEditors())}},{key:"getSchemaOnMaxDepth",value:function(r){return Object.keys(r).reduce(function(b,Z){switch(Z){case"$ref":return b;case"properties":case"items":return Xa(Xa({},b),{},Gi({},Z,{}));case"additionalProperties":case"propertyNames":return Xa(Xa({},b),{},Gi({},Z,!0));default:return Xa(Xa({},b),{},Gi({},Z,r[Z]))}},{})}},{key:"addObjectProperty",value:function(r,b){if(!this.editors[r]){if(this.cached_editors[r]){if(this.editors[r]=this.cached_editors[r],b)return;this.editors[r].register()}else{if(!(this.canHaveAdditionalProperties()||this.schema.properties&&this.schema.properties[r]||this.schema.patternProperties&&Object.keys(this.schema.patternProperties).find(function(Ce){return new RegExp(Ce).test(r)})))return;var Z=this.getPropertySchema(r);typeof Z.propertyOrder!="number"&&(Z.propertyOrder=Object.keys(this.editors).length+1e3);var dt=this.jsoneditor.getEditorClass(Z),wt=this.jsoneditor.options.max_depth;if(this.editors[r]=this.jsoneditor.createEditor(dt,{jsoneditor:this.jsoneditor,schema:wt&&this.currentDepth>=wt?this.getSchemaOnMaxDepth(Z):Z,path:"".concat(this.path,".").concat(r),parent:this},this.currentDepth+1),this.editors[r].preBuild(),!b){var te=this.theme.getChildEditorHolder();this.editor_holder.appendChild(te),this.editors[r].setContainer(te),this.editors[r].build(),this.editors[r].postBuild(),this.editors[r].setOptInCheckbox(dt.header),this.editors[r].activate()}this.cached_editors[r]=this.editors[r]}b||(this.refreshValue(),this.layoutEditors())}}},{key:"onOutsideModalClick",value:function(r){var b=r.path||r.composedPath&&r.composedPath();this.addproperty_holder&&!this.addproperty_holder.contains(b[0])&&this.adding_property&&(r.preventDefault(),r.stopPropagation(),this.toggleAddProperty())}},{key:"onChildEditorChange",value:function(r){this.refreshValue(),Vi(ns(ot.prototype),"onChildEditorChange",this).call(this,r)}},{key:"canHaveAdditionalProperties",value:function(){return typeof this.schema.additionalProperties=="boolean"?this.schema.additionalProperties:!this.jsoneditor.options.no_additional_properties}},{key:"destroy",value:function(){Object.values(this.cached_editors).forEach(function(r){return r.destroy()}),this.editor_holder&&(this.editor_holder.innerHTML=""),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.error_holder&&this.error_holder.parentNode&&this.error_holder.parentNode.removeChild(this.error_holder),this.editors=null,this.cached_editors=null,this.editor_holder&&this.editor_holder.parentNode&&this.editor_holder.parentNode.removeChild(this.editor_holder),this.editor_holder=null,document.removeEventListener("click",this.onOutsideModalClickListener,!0),Vi(ns(ot.prototype),"destroy",this).call(this)}},{key:"getValue",value:function(){if(this.dependenciesFulfilled){var r=Vi(ns(ot.prototype),"getValue",this).call(this);return r&&(this.jsoneditor.options.remove_empty_properties||this.options.remove_empty_properties)&&Object.keys(r).forEach(function(b){var Z;((Z=r[b])===void 0||Z===""||Z===Object(Z)&&Object.keys(Z).length===0&&Z.constructor===Object)&&delete r[b]}),r}}},{key:"refreshValue",value:function(){var r=this;this.value={},this.editors&&(Object.keys(this.editors).forEach(function(b){r.editors[b].isActive()&&(r.value[b]=r.editors[b].getValue())}),this.adding_property&&this.refreshAddProperties())}},{key:"refreshAddProperties",value:function(){var r=this;if(this.options.disable_properties||this.options.disable_properties!==!1&&this.jsoneditor.options.disable_properties)this.addproperty_button.style.display="none";else{var b,Z=0,dt=!1;Object.keys(this.editors).forEach(function(wt){return Z++}),b=this.canHaveAdditionalProperties()&&!(this.schema.maxProperties!==void 0&&Z>=this.schema.maxProperties),this.addproperty_checkboxes&&(this.addproperty_list.innerHTML=""),this.addproperty_checkboxes={},Object.keys(this.cached_editors).forEach(function(wt){r.addPropertyCheckbox(wt),r.isRequiredObject(r.cached_editors[wt])&&wt in r.editors&&(r.addproperty_checkboxes[wt].disabled=!0),r.schema.minProperties!==void 0&&Z<=r.schema.minProperties?(r.addproperty_checkboxes[wt].disabled=r.addproperty_checkboxes[wt].checked,r.addproperty_checkboxes[wt].checked||(dt=!0)):wt in r.editors?dt=!0:b||C(r.schema.properties,wt)?(r.addproperty_checkboxes[wt].disabled=!1,dt=!0):r.addproperty_checkboxes[wt].disabled=!0}),this.canHaveAdditionalProperties()&&(dt=!0),Object.keys(this.schema.properties).forEach(function(wt){r.cached_editors[wt]||(dt=!0,r.addPropertyCheckbox(wt))}),dt?this.canHaveAdditionalProperties()?this.addproperty_add.disabled=!b:(this.addproperty_add.style.display="none",this.addproperty_input.style.display="none"):(this.hideAddProperty(),this.addproperty_button.style.display="none")}}},{key:"isRequiredObject",value:function(r){if(r)return typeof r.schema.required=="boolean"?r.schema.required:Array.isArray(this.schema.required)?this.schema.required.includes(r.key):!!this.jsoneditor.options.required_by_default}},{key:"setValue",value:function(r,b){var Z=this;(Ra(r=r||{})!=="object"||Array.isArray(r))&&(r={}),Object.entries(this.cached_editors).forEach(function(dt){var wt=qc(dt,2),te=wt[0],Ce=wt[1];r[te]!==void 0?(Z.addObjectProperty(te),Ce.setValue(r[te],b),Ce.activate()):b||Z.isRequiredObject(Ce)?Ce.setValue(Ce.getDefault(),b):Z.jsoneditor.options.show_opt_in||Z.options.show_opt_in?Ce.deactivate():Z.removeObjectProperty(te)}),Object.entries(r).forEach(function(dt){var wt=qc(dt,2),te=wt[0],Ce=wt[1];Z.cached_editors[te]||(Z.addObjectProperty(te),Z.editors[te]&&Z.editors[te].setValue(Ce,b,!!Z.editors[te].template))}),this.refreshValue(),this.layoutEditors(),this.onChange()}},{key:"showValidationErrors",value:function(r){var b=this,Z=[],dt=[];r.forEach(function(wt){wt.path===b.path?Z.push(wt):dt.push(wt)}),this.error_holder&&(Z.length?(this.error_holder.innerHTML="",this.error_holder.style.display="",Z.forEach(function(wt){wt.errorcount&&wt.errorcount>1&&(wt.message+=" (".concat(wt.errorcount," errors)")),b.error_holder.appendChild(b.theme.getErrorMessage(wt.message))})):this.error_holder.style.display="none"),this.options.table_row&&(Z.length?this.theme.addTableRowError(this.container):this.theme.removeTableRowError(this.container)),Object.values(this.editors).forEach(function(wt){wt.showValidationErrors(dt)})}}])&&tc(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ot}(P);function ka(ht){return ka=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},ka(ht)}function oh(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(ka(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(ka(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),ka(bt)==="symbol"?bt:String(bt)),q)}var bt}function Al(){return Al=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(ht,H,At){var q=function(Q,ot){for(;!Object.prototype.hasOwnProperty.call(Q,ot)&&(Q=Da(Q))!==null;);return Q}(ht,H);if(q){var bt=Object.getOwnPropertyDescriptor(q,H);return bt.get?bt.get.call(arguments.length<3?ht:At):bt.value}},Al.apply(this,arguments)}function ah(ht,H){return ah=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},ah(ht,H)}function Da(ht){return Da=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},Da(ht)}yd.rules={".je-object__title":"display:inline-block",".je-object__controls":"margin:0%200%200%2010px",".je-object__container":"position:relative",".je-object__property-checkbox":"margin:0;height:auto",".property-selector":"width:295px;max-height:160px;padding:5px%200;overflow-y:auto;overflow-x:hidden;padding-left:5px",".property-selector-input":"width:220px;margin-bottom:0;display:inline-block",".json-editor-btntype-toggle":"margin:0%2010px%200%200",".je-edit-json--textarea":"height:170px;width:300px;display:block"};var Ol=function(ht){(function(r,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(b&&b.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),b&&ah(r,b)})(ot,ht);var H,At,q,bt,Q=(q=ot,bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,b=Da(q);if(bt){var Z=Da(this).constructor;r=Reflect.construct(b,arguments,Z)}else r=b.apply(this,arguments);return function(dt,wt){if(wt&&(ka(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(dt)}(this,r)});function ot(){return function(r,b){if(!(r instanceof b))throw new TypeError("Cannot call a class as a function")}(this,ot),Q.apply(this,arguments)}return H=ot,(At=[{key:"preBuild",value:function(){Al(Da(ot.prototype),"preBuild",this).call(this)}},{key:"build",value:function(){var r=this;this.label="",this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle(),this.isRequired())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.translateProperty(this.schema.description))),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.translateProperty(this.options.infoText))),this.options.compact&&this.container.classList.add("compact"),this.radioContainer=document.createElement("div"),this.radioGroup=[];for(var b=function(Ln){r.setValue(Ln.currentTarget.value),r.onChange(!0)},Z=0;Z<this.enum_values.length;Z++){var dt={id:"".concat(this.formname,"[").concat(Z,"]"),value:this.enum_values[Z]};this.jsoneditor.options.use_name_attributes&&(dt.name=this.formname),this.input=this.theme.getFormRadio(dt),this.setInputAttributes(["id","value","name"]),this.input.addEventListener("change",b,!1),this.radioGroup.push(this.input);var wt=this.theme.getFormRadioLabel(this.enum_display[Z]);wt.htmlFor=this.input.id;var te=this.theme.getFormRadioControl(wt,this.input,!(this.options.layout!=="horizontal"&&!this.options.compact));this.radioContainer.appendChild(te)}if(this.schema.readOnly||this.schema.readonly){this.disable(!0);for(var Ce=0;Ce<this.radioGroup.length;Ce++)this.radioGroup[Ce].disabled=!0;this.radioContainer.classList.add("readonly")}var Ke=this.theme.getContainer();Ke.appendChild(this.radioContainer),Ke.dataset.containerFor="radio",this.input=Ke,this.control=this.theme.getFormControl(this.label,Ke,this.description,this.infoButton),this.container.appendChild(this.control),window.requestAnimationFrame(function(){r.input.parentNode&&r.afterInputReady()})}},{key:"enable",value:function(){if(!this.always_disabled){for(var r=0;r<this.radioGroup.length;r++)this.radioGroup[r].disabled=!1;this.radioContainer.classList.remove("readonly"),Al(Da(ot.prototype),"enable",this).call(this)}}},{key:"disable",value:function(r){r&&(this.always_disabled=!0);for(var b=0;b<this.radioGroup.length;b++)this.radioGroup[b].disabled=!0;this.radioContainer.classList.add("readonly"),Al(Da(ot.prototype),"disable",this).call(this)}},{key:"destroy",value:function(){this.radioContainer.parentNode&&this.radioContainer.parentNode.parentNode&&this.radioContainer.parentNode.parentNode.removeChild(this.radioContainer.parentNode),this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),Al(Da(ot.prototype),"destroy",this).call(this)}},{key:"getNumColumns",value:function(){return 2}},{key:"setValue",value:function(r){typeof r!="string"&&(r=String(r));for(var b=0;b<this.radioGroup.length;b++)if(this.radioGroup[b].value===r){this.radioGroup[b].checked=!0,this.value=r,this.onChange();break}}}])&&oh(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ot}(ke);function Hs(ht){return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},Hs(ht)}function jh(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(Hs(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(Hs(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),Hs(bt)==="symbol"?bt:String(bt)),q)}var bt}function $s(){return $s=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(ht,H,At){var q=function(Q,ot){for(;!Object.prototype.hasOwnProperty.call(Q,ot)&&(Q=rs(Q))!==null;);return Q}(ht,H);if(q){var bt=Object.getOwnPropertyDescriptor(q,H);return bt.get?bt.get.call(arguments.length<3?ht:At):bt.value}},$s.apply(this,arguments)}function wc(ht,H){return wc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},wc(ht,H)}function rs(ht){return rs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},rs(ht)}var Xl=function(ht){(function(r,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(b&&b.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),b&&wc(r,b)})(ot,ht);var H,At,q,bt,Q=(q=ot,bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,b=rs(q);if(bt){var Z=rs(this).constructor;r=Reflect.construct(b,arguments,Z)}else r=b.apply(this,arguments);return function(dt,wt){if(wt&&(Hs(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(dt)}(this,r)});function ot(){return function(r,b){if(!(r instanceof b))throw new TypeError("Cannot call a class as a function")}(this,ot),Q.apply(this,arguments)}return H=ot,(At=[{key:"setValue",value:function(r,b,Z){var dt=$s(rs(ot.prototype),"setValue",this).call(this,r,b,Z);dt!==void 0&&dt.changed&&this.sceditor_instance&&this.sceditor_instance.val(dt.value)}},{key:"build",value:function(){this.options.format="textarea",$s(rs(ot.prototype),"build",this).call(this),this.input_type=this.schema.format,this.input.setAttribute("data-schemaformat",this.input_type)}},{key:"afterInputReady",value:function(){var r=this;if(window.sceditor){var b=this.expandCallbacks("sceditor",y({},{format:this.input_type,emoticonsEnabled:!1,width:"100%",height:300,readOnly:this.schema.readOnly||this.schema.readonly||this.schema.template},this.defaults.options.sceditor||{},this.options.sceditor||{},{element:this.input})),Z=window.sceditor.instance(this.input);Z===void 0&&window.sceditor.create(this.input,b),this.sceditor_instance=Z||window.sceditor.instance(this.input),this.sceditor_instance.blur(function(){r.value=r.sceditor_instance.val(),r.sceditor_instance.updateOriginal(),r.is_dirty=!0,r.onChange(!0)}),this.theme.afterInputReady(this.input)}else $s(rs(ot.prototype),"afterInputReady",this).call(this)}},{key:"getNumColumns",value:function(){return 6}},{key:"enable",value:function(){!this.always_disabled&&this.sceditor_instance&&this.sceditor_instance.readOnly(!1),$s(rs(ot.prototype),"enable",this).call(this)}},{key:"disable",value:function(r){this.sceditor_instance&&this.sceditor_instance.readOnly(!0),$s(rs(ot.prototype),"disable",this).call(this,r)}},{key:"destroy",value:function(){this.sceditor_instance&&(this.sceditor_instance.destroy(),this.sceditor_instance=null),$s(rs(ot.prototype),"destroy",this).call(this)}}])&&jh(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ot}(W);function oa(ht){return oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},oa(ht)}function yo(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(oa(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(oa(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),oa(bt)==="symbol"?bt:String(bt)),q)}var bt}function is(){return is=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(ht,H,At){var q=function(Q,ot){for(;!Object.prototype.hasOwnProperty.call(Q,ot)&&(Q=Wi(Q))!==null;);return Q}(ht,H);if(q){var bt=Object.getOwnPropertyDescriptor(q,H);return bt.get?bt.get.call(arguments.length<3?ht:At):bt.value}},is.apply(this,arguments)}function Fa(ht,H){return Fa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},Fa(ht,H)}function Wi(ht){return Wi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},Wi(ht)}var Mi=function(ht){(function(r,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(b&&b.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),b&&Fa(r,b)})(ot,ht);var H,At,q,bt,Q=(q=ot,bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,b=Wi(q);if(bt){var Z=Wi(this).constructor;r=Reflect.construct(b,arguments,Z)}else r=b.apply(this,arguments);return function(dt,wt){if(wt&&(oa(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(dt)}(this,r)});function ot(){return function(r,b){if(!(r instanceof b))throw new TypeError("Cannot call a class as a function")}(this,ot),Q.apply(this,arguments)}return H=ot,(At=[{key:"setValue",value:function(r,b){if(this.select2_instance){b?this.is_dirty=!1:this.jsoneditor.options.show_errors==="change"&&(this.is_dirty=!0);var Z=this.updateValue(r);this.input.value=Z,this.select2v4?this.select2_instance.val(Z).trigger("change"):this.select2_instance.select2("val",Z),this.onChange(!0)}else is(Wi(ot.prototype),"setValue",this).call(this,r,b)}},{key:"afterInputReady",value:function(){var r=this;if(window.jQuery&&window.jQuery.fn&&window.jQuery.fn.select2&&!this.select2_instance){var b=this.expandCallbacks("select2",y({},this.defaults.options.select2||{},this.options.select2||{}));this.newEnumAllowed=b.tags=!!b.tags&&this.schema.type==="string",this.select2_instance=window.jQuery(this.input).select2(b),this.select2v4=C(this.select2_instance.select2,"amd"),this.selectChangeHandler=function(){var Z=r.select2v4?r.select2_instance.val():r.select2_instance.select2("val");r.updateValue(Z),r.onChange(!0)},this.select2_instance.on("change",this.selectChangeHandler),this.select2_instance.on("select2-blur",this.selectChangeHandler)}is(Wi(ot.prototype),"afterInputReady",this).call(this)}},{key:"updateValue",value:function(r){var b=this.enum_values[0];return r=this.typecast(r||""),this.enum_values.includes(r)?b=r:this.newEnumAllowed&&(b=this.addNewOption(r)?r:b),this.value=b,b}},{key:"addNewOption",value:function(r){var b,Z=this.typecast(r),dt=!1;return this.enum_values.includes(Z)||Z===""||(this.enum_options.push("".concat(Z)),this.enum_display.push("".concat(Z)),this.enum_values.push(Z),this.schema.enum.push(Z),(b=this.input.querySelector('option[value="'.concat(Z,'"]')))?b.removeAttribute("data-select2-tag"):this.input.appendChild(new Option(Z,Z,!1,!1)).trigger("change"),dt=!0),dt}},{key:"enable",value:function(){this.always_disabled||this.select2_instance&&(this.select2v4?this.select2_instance.prop("disabled",!1):this.select2_instance.select2("enable",!0)),is(Wi(ot.prototype),"enable",this).call(this)}},{key:"disable",value:function(r){this.select2_instance&&(this.select2v4?this.select2_instance.prop("disabled",!0):this.select2_instance.select2("enable",!1)),is(Wi(ot.prototype),"disable",this).call(this,r)}},{key:"destroy",value:function(){this.select2_instance&&(this.select2_instance.select2("destroy"),this.select2_instance=null),is(Wi(ot.prototype),"destroy",this).call(this)}}])&&yo(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ot}(ke);function gt(ht){return gt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},gt(ht)}function $t(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(gt(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(gt(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),gt(bt)==="symbol"?bt:String(bt)),q)}var bt}function ce(){return ce=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(ht,H,At){var q=function(Q,ot){for(;!Object.prototype.hasOwnProperty.call(Q,ot)&&(Q=cn(Q))!==null;);return Q}(ht,H);if(q){var bt=Object.getOwnPropertyDescriptor(q,H);return bt.get?bt.get.call(arguments.length<3?ht:At):bt.value}},ce.apply(this,arguments)}function Me(ht,H){return Me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},Me(ht,H)}function cn(ht){return cn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},cn(ht)}var Nn=function(ht){(function(r,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(b&&b.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),b&&Me(r,b)})(ot,ht);var H,At,q,bt,Q=(q=ot,bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,b=cn(q);if(bt){var Z=cn(this).constructor;r=Reflect.construct(b,arguments,Z)}else r=b.apply(this,arguments);return function(dt,wt){if(wt&&(gt(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(dt)}(this,r)});function ot(){return function(r,b){if(!(r instanceof b))throw new TypeError("Cannot call a class as a function")}(this,ot),Q.apply(this,arguments)}return H=ot,(At=[{key:"setValue",value:function(r,b){if(this.selectize_instance){b?this.is_dirty=!1:this.jsoneditor.options.show_errors==="change"&&(this.is_dirty=!0);var Z=this.updateValue(r);this.input.value=Z,this.selectize_instance.clear(!0),this.selectize_instance.setValue(Z),this.onChange(!0)}else ce(cn(ot.prototype),"setValue",this).call(this,r,b)}},{key:"afterInputReady",value:function(){var r=this;if(window.jQuery&&window.jQuery.fn&&window.jQuery.fn.selectize&&!this.selectize_instance){var b=this.expandCallbacks("selectize",y({},this.defaults.options.selectize||{},this.options.selectize||{}));this.newEnumAllowed=b.create=!!b.create&&this.schema.type==="string",this.selectize_instance=window.jQuery(this.input).selectize(b)[0].selectize,this.control.removeEventListener("change",this.multiselectChangeHandler),this.multiselectChangeHandler=function(Z){r.updateValue(Z),r.onChange(!0)},this.selectize_instance.on("change",this.multiselectChangeHandler)}ce(cn(ot.prototype),"afterInputReady",this).call(this)}},{key:"updateValue",value:function(r){var b=this.enum_values[0];return r=this.typecast(r||""),this.enum_values.includes(r)?b=r:this.newEnumAllowed&&(b=this.addNewOption(r)?r:b),this.value=b,b}},{key:"addNewOption",value:function(r){var b=this.typecast(r),Z=!1;return this.enum_values.includes(b)||b===""||(this.enum_options.push("".concat(b)),this.enum_display.push("".concat(b)),this.enum_values.push(b),this.schema.enum.push(b),this.selectize_instance.addItem(b),this.selectize_instance.refreshOptions(!1),Z=!0),Z}},{key:"onWatchedFieldChange",value:function(){var r=this;ce(cn(ot.prototype),"onWatchedFieldChange",this).call(this),this.selectize_instance&&(this.selectize_instance.clear(!0),this.selectize_instance.clearOptions(!0),this.enum_options.forEach(function(b,Z){r.selectize_instance.addOption({value:b,text:r.enum_display[Z]})}),this.selectize_instance.addItem("".concat(this.value),!0))}},{key:"enable",value:function(){!this.always_disabled&&this.selectize_instance&&this.selectize_instance.unlock(),ce(cn(ot.prototype),"enable",this).call(this)}},{key:"disable",value:function(r){this.selectize_instance&&this.selectize_instance.lock(),ce(cn(ot.prototype),"disable",this).call(this,r)}},{key:"destroy",value:function(){this.selectize_instance&&(this.selectize_instance.destroy(),this.selectize_instance=null),ce(cn(ot.prototype),"destroy",this).call(this)}}])&&$t(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ot}(ke);function zn(ht){return zn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},zn(ht)}function tr(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(zn(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(zn(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),zn(bt)==="symbol"?bt:String(bt)),q)}var bt}function nr(ht,H){return nr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},nr(ht,H)}function lr(ht){return lr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},lr(ht)}var dr=function(ht){(function(r,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(b&&b.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),b&&nr(r,b)})(ot,ht);var H,At,q,bt,Q=(q=ot,bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,b=lr(q);if(bt){var Z=lr(this).constructor;r=Reflect.construct(b,arguments,Z)}else r=b.apply(this,arguments);return function(dt,wt){if(wt&&(zn(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(dt)}(this,r)});function ot(){return function(r,b){if(!(r instanceof b))throw new TypeError("Cannot call a class as a function")}(this,ot),Q.apply(this,arguments)}return H=ot,(At=[{key:"build",value:function(){var r=this;this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle(),this.isRequired())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.translateProperty(this.schema.description)));var b=this.formname.replace(/\W/g,"");if(typeof SignaturePad=="function"){this.input=this.theme.getFormInputField("hidden"),this.container.appendChild(this.input);var Z=document.createElement("div");Z.classList.add("signature-container");var dt=document.createElement("canvas");this.jsoneditor.options.use_name_attributes&&dt.setAttribute("name",b),dt.classList.add("signature"),Z.appendChild(dt),this.signaturePad=new window.SignaturePad(dt,{onEnd:function(){this.signaturePad.isEmpty()?this.input.value="":this.input.value=this.signaturePad.toDataURL(),this.is_dirty=!0,this.refreshValue(),this.watch_listener(),this.jsoneditor.notifyWatchers(this.path),this.parent?this.parent.onChildEditorChange(this):this.jsoneditor.onChange()}});var wt=document.createElement("div"),te=document.createElement("button");te.classList.add("tiny","button"),te.innerHTML="Clear signature",wt.appendChild(te),Z.appendChild(wt),this.options.compact&&this.container.setAttribute("class","".concat(this.container.getAttribute("class")," compact")),(this.schema.readOnly||this.schema.readonly)&&(this.disable(!0),Array.from(this.inputs).forEach(function(Ke){dt.setAttribute("readOnly","readOnly"),Ke.disabled=!0})),te.addEventListener("click",function(Ke){Ke.preventDefault(),Ke.stopPropagation(),r.signaturePad.clear(),r.signaturePad.strokeEnd()}),this.control=this.theme.getFormControl(this.label,Z,this.description),this.container.appendChild(this.control),this.refreshValue(),dt.width=Z.offsetWidth,this.options&&this.options.canvas_height?dt.height=this.options.canvas_height:dt.height="300"}else{var Ce=document.createElement("p");Ce.innerHTML="Signature pad is not available, please include SignaturePad from https://github.com/szimek/signature_pad",this.container.appendChild(Ce)}}},{key:"setValue",value:function(r){if(typeof SignaturePad=="function"){var b=this.sanitize(r);return this.value===b?void 0:(this.value=b,this.input.value=this.value,this.signaturePad.clear(),r&&r!==""&&this.signaturePad.fromDataURL(r),this.watch_listener(),this.jsoneditor.notifyWatchers(this.path),!1)}}},{key:"destroy",value:function(){this.signaturePad.off(),delete this.signaturePad}}])&&tr(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ot}(W);function Vr(ht){return Vr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},Vr(ht)}function Ir(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(Vr(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(Vr(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),Vr(bt)==="symbol"?bt:String(bt)),q)}var bt}function Ci(){return Ci=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(ht,H,At){var q=function(Q,ot){for(;!Object.prototype.hasOwnProperty.call(Q,ot)&&(Q=_i(Q))!==null;);return Q}(ht,H);if(q){var bt=Object.getOwnPropertyDescriptor(q,H);return bt.get?bt.get.call(arguments.length<3?ht:At):bt.value}},Ci.apply(this,arguments)}function $i(ht,H){return $i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},$i(ht,H)}function _i(ht){return _i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},_i(ht)}L(2564);var No=function(ht){(function(r,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(b&&b.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),b&&$i(r,b)})(ot,ht);var H,At,q,bt,Q=(q=ot,bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,b=_i(q);if(bt){var Z=_i(this).constructor;r=Reflect.construct(b,arguments,Z)}else r=b.apply(this,arguments);return function(dt,wt){if(wt&&(Vr(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(dt)}(this,r)});function ot(){return function(r,b){if(!(r instanceof b))throw new TypeError("Cannot call a class as a function")}(this,ot),Q.apply(this,arguments)}return H=ot,(At=[{key:"setValue",value:function(r,b,Z){var dt=Ci(_i(ot.prototype),"setValue",this).call(this,r,b,Z);dt!==void 0&&dt.changed&&this.simplemde_instance&&this.simplemde_instance.value(dt.value)}},{key:"build",value:function(){this.options.format="textarea",Ci(_i(ot.prototype),"build",this).call(this),this.input_type=this.schema.format,this.input.setAttribute("data-schemaformat",this.input_type)}},{key:"afterInputReady",value:function(){var r,b=this;window.SimpleMDE?(r=this.expandCallbacks("simplemde",y({},{height:300},this.defaults.options.simplemde||{},this.options.simplemde||{},{element:this.input})),this.simplemde_instance=new window.SimpleMDE(r),(this.schema.readOnly||this.schema.readonly||this.schema.template)&&(this.simplemde_instance.codemirror.options.readOnly=!0),this.simplemde_instance.codemirror.on("change",function(){b.value=b.simplemde_instance.value(),b.is_dirty=!0,b.onChange(!0)}),r.autorefresh&&this.startListening(this.simplemde_instance.codemirror,this.simplemde_instance.codemirror.state.autoRefresh={delay:250}),this.theme.afterInputReady(this.input)):Ci(_i(ot.prototype),"afterInputReady",this).call(this)}},{key:"getNumColumns",value:function(){return 6}},{key:"enable",value:function(){!this.always_disabled&&this.simplemde_instance&&(this.simplemde_instance.codemirror.options.readOnly=!1),Ci(_i(ot.prototype),"enable",this).call(this)}},{key:"disable",value:function(r){this.simplemde_instance&&(this.simplemde_instance.codemirror.options.readOnly=!0),Ci(_i(ot.prototype),"disable",this).call(this,r)}},{key:"destroy",value:function(){this.simplemde_instance&&(this.simplemde_instance.toTextArea(),this.simplemde_instance=null),Ci(_i(ot.prototype),"destroy",this).call(this)}},{key:"startListening",value:function(r,b){function Z(){r.display.wrapper.offsetHeight?(this.stopListening(r,b),r.display.lastWrapHeight!==r.display.wrapper.clientHeight&&r.refresh()):b.timeout=window.setTimeout(Z,b.delay)}b.timeout=window.setTimeout(Z,b.delay),b.hurry=function(){window.clearTimeout(b.timeout),b.timeout=window.setTimeout(Z,50)},r.on(window,"mouseup",b.hurry),r.on(window,"keyup",b.hurry)}},{key:"stopListening",value:function(r,b){window.clearTimeout(b.timeout),r.off(window,"mouseup",b.hurry),r.off(window,"keyup",b.hurry)}}])&&Ir(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ot}(W);function Za(ht){return Za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},Za(ht)}function Cu(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(Za(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(Za(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),Za(bt)==="symbol"?bt:String(bt)),q)}var bt}function vd(){return vd=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(ht,H,At){var q=function(Q,ot){for(;!Object.prototype.hasOwnProperty.call(Q,ot)&&(Q=za(Q))!==null;);return Q}(ht,H);if(q){var bt=Object.getOwnPropertyDescriptor(q,H);return bt.get?bt.get.call(arguments.length<3?ht:At):bt.value}},vd.apply(this,arguments)}function Ml(ht,H){return Ml=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},Ml(ht,H)}function za(ht){return za=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},za(ht)}var bd=function(ht){(function(r,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(b&&b.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),b&&Ml(r,b)})(ot,ht);var H,At,q,bt,Q=(q=ot,bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,b=za(q);if(bt){var Z=za(this).constructor;r=Reflect.construct(b,arguments,Z)}else r=b.apply(this,arguments);return function(dt,wt){if(wt&&(Za(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(dt)}(this,r)});function ot(){return function(r,b){if(!(r instanceof b))throw new TypeError("Cannot call a class as a function")}(this,ot),Q.apply(this,arguments)}return H=ot,(At=[{key:"build",value:function(){var r=this;if(this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle(),this.isRequired())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.translateProperty(this.schema.description))),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.translateProperty(this.options.infoText))),this.options.compact&&this.container.classList.add("compact"),this.ratingContainer=document.createElement("div"),this.ratingContainer.classList.add("starrating"),this.schema.enum===void 0){var b=this.schema.maximum?this.schema.maximum:5;this.schema.exclusiveMaximum&&b--,this.enum_values=[];for(var Z=0;Z<b;Z++)this.enum_values.push(Z+1)}else this.enum_values=this.schema.enum;this.radioGroup=[];for(var dt=function(ur){ur.preventDefault(),ur.stopPropagation(),r.setValue(ur.currentTarget.value),r.onChange(!0)},wt=this.enum_values.length-1;wt>-1;wt--){var te=this.formname+(wt+1),Ce=this.theme.getFormInputField("radio");Ce.name="".concat(this.formname,"[starrating]"),Ce.value=this.enum_values[wt],Ce.id=te,Ce.addEventListener("change",dt,!1),this.radioGroup.push(Ce);var Ke=document.createElement("label");Ke.htmlFor=te,Ke.title=this.enum_values[wt],this.options.displayValue&&Ke.classList.add("starrating-display-enabled"),this.ratingContainer.appendChild(Ce),this.ratingContainer.appendChild(Ke)}if(this.options.displayValue&&(this.displayRating=document.createElement("div"),this.displayRating.classList.add("starrating-display"),this.displayRating.innerText=this.enum_values[0],this.ratingContainer.appendChild(this.displayRating)),this.schema.readOnly||this.schema.readonly){this.disable(!0);for(var Ln=0;Ln<this.radioGroup.length;Ln++)this.radioGroup[Ln].disabled=!0;this.ratingContainer.classList.add("readonly")}var Qn=this.theme.getContainer();Qn.appendChild(this.ratingContainer),this.input=Qn,this.control=this.theme.getFormControl(this.label,Qn,this.description,this.infoButton),this.container.appendChild(this.control),this.refreshValue()}},{key:"enable",value:function(){if(!this.always_disabled){for(var r=0;r<this.radioGroup.length;r++)this.radioGroup[r].disabled=!1;this.ratingContainer.classList.remove("readonly"),this.disabled=!1}}},{key:"disable",value:function(r){r&&(this.always_disabled=!0);for(var b=0;b<this.radioGroup.length;b++)this.radioGroup[b].disabled=!0;this.ratingContainer.classList.add("readonly"),this.disabled=!0}},{key:"destroy",value:function(){this.ratingContainer.parentNode&&this.ratingContainer.parentNode.parentNode&&this.ratingContainer.parentNode.parentNode.removeChild(this.ratingContainer.parentNode),this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),vd(za(ot.prototype),"destroy",this).call(this)}},{key:"getNumColumns",value:function(){return 2}},{key:"getValue",value:function(){if(this.dependenciesFulfilled)return this.schema.type==="integer"?this.value===""?void 0:1*this.value:this.value}},{key:"setValue",value:function(r){for(var b=0;b<this.radioGroup.length;b++)if(this.radioGroup[b].value==="".concat(r)){this.radioGroup[b].checked=!0,this.value=r,this.options.displayValue&&(this.displayRating.innerHTML=this.value),this.onChange(!0);break}}}])&&Cu(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ot}(W);function qs(ht){return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},qs(ht)}function Sp(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(qs(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(qs(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),qs(bt)==="symbol"?bt:String(bt)),q)}var bt}function Zl(){return Zl=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(ht,H,At){var q=function(Q,ot){for(;!Object.prototype.hasOwnProperty.call(Q,ot)&&(Q=ec(Q))!==null;);return Q}(ht,H);if(q){var bt=Object.getOwnPropertyDescriptor(q,H);return bt.get?bt.get.call(arguments.length<3?ht:At):bt.value}},Zl.apply(this,arguments)}function Ih(ht,H){return Ih=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},Ih(ht,H)}function ec(ht){return ec=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},ec(ht)}bd.rules={".starrating":"direction:rtl;display:inline-block;white-space:nowrap",".starrating > input":"display:none",".starrating > label:before":"content:'%5C2606';margin:1px;font-size:18px;font-style:normal;font-weight:400;line-height:1;font-family:'Arial';display:inline-block",".starrating > label":"color:%23888;cursor:pointer;margin:8px%200%202px%200",".starrating > label.starrating-display-enabled":"margin:1px%200%200%200",".starrating > input:checked ~ label":"color:%23ffca08",".starrating:not(.readonly) > input:hover ~ label":"color:%23ffca08",".starrating > input:checked ~ label:before":"content:'%5C2605';text-shadow:0%200%201px%20rgba(0%2C20%2C20%2C1)",".starrating:not(.readonly) > input:hover ~ label:before":"content:'%5C2605';text-shadow:0%200%201px%20rgba(0%2C20%2C20%2C1)",".starrating .starrating-display":"position:relative;direction:rtl;text-align:center;font-size:10px;line-height:0px"};var aa=function(ht){(function(r,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(b&&b.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),b&&Ih(r,b)})(ot,ht);var H,At,q,bt,Q=(q=ot,bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,b=ec(q);if(bt){var Z=ec(this).constructor;r=Reflect.construct(b,arguments,Z)}else r=b.apply(this,arguments);return function(dt,wt){if(wt&&(qs(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(dt)}(this,r)});function ot(){return function(r,b){if(!(r instanceof b))throw new TypeError("Cannot call a class as a function")}(this,ot),Q.apply(this,arguments)}return H=ot,(At=[{key:"build",value:function(){Zl(ec(ot.prototype),"build",this).call(this),this.input.setAttribute("type","number"),this.input.getAttribute("step")||this.input.setAttribute("step","1");var r=this.theme.getStepperButtons(this.input);this.control.appendChild(r),this.stepperDown=this.control.querySelector(".stepper-down"),this.stepperUp=this.control.querySelector(".stepper-up")}},{key:"enable",value:function(){Zl(ec(ot.prototype),"enable",this).call(this),this.stepperDown.removeAttribute("disabled"),this.stepperUp.removeAttribute("disabled")}},{key:"disable",value:function(){Zl(ec(ot.prototype),"disable",this).call(this),this.stepperDown.setAttribute("disabled",!0),this.stepperUp.setAttribute("disabled",!0)}}])&&Sp(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ot}(ds);function xn(ht){return xn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},xn(ht)}function Hn(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(xn(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(xn(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),xn(bt)==="symbol"?bt:String(bt)),q)}var bt}function In(){return In=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(ht,H,At){var q=function(Q,ot){for(;!Object.prototype.hasOwnProperty.call(Q,ot)&&(Q=Wr(Q))!==null;);return Q}(ht,H);if(q){var bt=Object.getOwnPropertyDescriptor(q,H);return bt.get?bt.get.call(arguments.length<3?ht:At):bt.value}},In.apply(this,arguments)}function Sr(ht,H){return Sr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},Sr(ht,H)}function Wr(ht){return Wr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},Wr(ht)}var uo=function(ht){(function(r,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(b&&b.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),b&&Sr(r,b)})(ot,ht);var H,At,q,bt,Q=(q=ot,bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,b=Wr(q);if(bt){var Z=Wr(this).constructor;r=Reflect.construct(b,arguments,Z)}else r=b.apply(this,arguments);return function(dt,wt){if(wt&&(xn(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(dt)}(this,r)});function ot(){return function(r,b){if(!(r instanceof b))throw new TypeError("Cannot call a class as a function")}(this,ot),Q.apply(this,arguments)}return H=ot,At=[{key:"register",value:function(){if(In(Wr(ot.prototype),"register",this).call(this),this.rows)for(var r=0;r<this.rows.length;r++)this.rows[r].register()}},{key:"unregister",value:function(){if(In(Wr(ot.prototype),"unregister",this).call(this),this.rows)for(var r=0;r<this.rows.length;r++)this.rows[r].unregister()}},{key:"getNumColumns",value:function(){return Math.max(Math.min(12,this.width),3)}},{key:"preBuild",value:function(){var r=this.jsoneditor.expandRefs(this.schema.items||{});this.item_title=r.title||"row",this.item_default=r.default||null,this.item_has_child_editors=r.properties||r.items,this.width=12,this.array_controls_top=this.options.array_controls_top||this.jsoneditor.options.array_controls_top,In(Wr(ot.prototype),"preBuild",this).call(this)}},{key:"build",value:function(){this.table=this.theme.getTable(),this.container.appendChild(this.table),this.thead=this.theme.getTableHead(),this.table.appendChild(this.thead),this.header_row=this.theme.getTableRow(),this.thead.appendChild(this.header_row),this.row_holder=this.theme.getTableBody(),this.table.appendChild(this.row_holder);var r=this.getElementEditor(0,!0);if(this.item_default=r.getDefault(),this.width=r.getNumColumns()+2,this.options.compact?(this.panel=document.createElement("div"),this.container.appendChild(this.panel)):(this.header=document.createElement("label"),this.header.textContent=this.getTitle(),this.title=this.theme.getHeader(this.header,this.getPathDepth()),this.container.appendChild(this.title),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.translateProperty(this.options.infoText)),this.container.appendChild(this.infoButton)),this.title_controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.title_controls),this.schema.description&&(this.description=this.theme.getDescription(this.translateProperty(this.schema.description)),this.container.appendChild(this.description)),this.panel=this.theme.getIndentedPanel(),this.container.appendChild(this.panel),this.error_holder=document.createElement("div"),this.panel.appendChild(this.error_holder)),this.panel.appendChild(this.table),this.controls=this.theme.getButtonHolder(),this.array_controls_top?this.title.appendChild(this.controls):this.panel.appendChild(this.controls),this.item_has_child_editors)for(var b=r.getChildEditors(),Z=r.property_order||Object.keys(b),dt=0;dt<Z.length;dt++){var wt=this.theme.getTableHeaderCell(b[Z[dt]].getTitle());b[Z[dt]].options.hidden&&(wt.style.display="none"),this.header_row.appendChild(wt)}else this.header_row.appendChild(this.theme.getTableHeaderCell(this.item_title));r.destroy(),this.row_holder.innerHTML="",this.controls_header_cell=this.theme.getTableHeaderCell(" "),this.controls_header_cell.setAttribute("aria-hidden","true"),this.header_row.appendChild(this.controls_header_cell),this.addControls()}},{key:"onChildEditorChange",value:function(r){this.refreshValue(),In(Wr(ot.prototype),"onChildEditorChange",this).call(this)}},{key:"getItemDefault",value:function(){return y({},{default:this.item_default}).default}},{key:"getItemTitle",value:function(){return this.item_title}},{key:"getElementEditor",value:function(r,b){var Z=y({},this.schema.items),dt=this.jsoneditor.getEditorClass(Z,this.jsoneditor),wt=this.row_holder.appendChild(this.theme.getTableRow()),te=wt;this.item_has_child_editors||(te=this.theme.getTableCell(),wt.appendChild(te));var Ce=this.jsoneditor.createEditor(dt,{jsoneditor:this.jsoneditor,schema:Z,container:te,path:"".concat(this.path,".").concat(r),parent:this,compact:!0,table_row:!0});return Ce.preBuild(),b||(Ce.build(),Ce.postBuild(),Ce.controls_cell=wt.appendChild(this.theme.getTableCell()),Ce.row=wt,Ce.table_controls=this.theme.getButtonHolder(),Ce.controls_cell.appendChild(Ce.table_controls),Ce.table_controls.style.margin=0,Ce.table_controls.style.padding=0),Ce}},{key:"destroy",value:function(){this.innerHTML="",this.checkParent(this.title)&&this.title.parentNode.removeChild(this.title),this.checkParent(this.description)&&this.description.parentNode.removeChild(this.description),this.checkParent(this.row_holder)&&this.row_holder.parentNode.removeChild(this.row_holder),this.checkParent(this.table)&&this.table.parentNode.removeChild(this.table),this.checkParent(this.panel)&&this.panel.parentNode.removeChild(this.panel),this.rows=this.title=this.description=this.row_holder=this.table=this.panel=null,In(Wr(ot.prototype),"destroy",this).call(this)}},{key:"ensureArraySize",value:function(r){if(Array.isArray(r)||(r=[r]),this.schema.minItems)for(;r.length<this.schema.minItems;)r.push(this.getItemDefault());return this.schema.maxItems&&r.length>this.schema.maxItems&&(r=r.slice(0,this.schema.maxItems)),r}},{key:"setValue",value:function(){var r=this,b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],Z=arguments.length>1?arguments[1]:void 0;if(b=this.ensureArraySize(b),JSON.stringify(b)!==this.serialized){var dt=!1;b.forEach(function(Ce,Ke){r.rows[Ke]?r.rows[Ke].setValue(Ce):(r.addRow(Ce),dt=!0)});for(var wt=b.length;wt<this.rows.length;wt++){var te=this.rows[wt].container;this.item_has_child_editors||this.rows[wt].row.parentNode.removeChild(this.rows[wt].row),this.rows[wt].destroy(),te.parentNode&&te.parentNode.removeChild(te),this.rows[wt]=null,dt=!0}this.rows=this.rows.slice(0,b.length),this.refreshValue(),(dt||Z)&&this.refreshRowButtons(),this.onChange()}}},{key:"refreshRowButtons",value:function(){var r=this,b=this.schema.minItems&&this.schema.minItems>=this.rows.length,Z=this.schema.maxItems&&this.schema.maxItems<=this.rows.length,dt=[];this.rows.forEach(function(Qn,ur){if(Qn.delete_button){var fr=!b;r.setVisibility(Qn.delete_button,fr),dt.push(fr)}if(Qn.copy_button){var Mr=!Z;r.setVisibility(Qn.copy_button,Mr),dt.push(Mr)}if(Qn.moveup_button){var Ur=ur!==0;r.setVisibility(Qn.moveup_button,Ur),dt.push(Ur)}if(Qn.movedown_button){var zr=ur!==r.rows.length-1;r.setVisibility(Qn.movedown_button,zr),dt.push(zr)}});var wt=dt.some(function(Qn){return Qn});this.rows.forEach(function(Qn){return r.setVisibility(Qn.controls_cell,wt)}),this.setVisibility(this.controls_header_cell,wt),this.setVisibility(this.table,this.value.length);var te=!(Z||this.hide_add_button);this.setVisibility(this.add_row_button,te);var Ce=!(!this.value.length||b||this.hide_delete_last_row_buttons);this.setVisibility(this.delete_last_row_button,Ce);var Ke=!(this.value.length<=1||b||this.hide_delete_all_rows_buttons);this.setVisibility(this.remove_all_rows_button,Ke);var Ln=te||Ce||Ke;this.setVisibility(this.controls,Ln)}},{key:"refreshValue",value:function(){var r=this;this.value=[],this.rows.forEach(function(b,Z){r.value[Z]=b.getValue()}),this.serialized=JSON.stringify(this.value)}},{key:"addRow",value:function(r){var b=this.rows.length;this.rows[b]=this.getElementEditor(b);var Z=this.rows[b].table_controls;return this.hide_delete_buttons||(this.rows[b].delete_button=this._createDeleteButton(b,Z)),this.show_copy_button&&(this.rows[b].copy_button=this._createCopyButton(b,Z)),this.hide_move_buttons||(this.rows[b].moveup_button=this._createMoveUpButton(b,Z)),this.hide_move_buttons||(this.rows[b].movedown_button=this._createMoveDownButton(b,Z)),r!==void 0&&this.rows[b].setValue(r),this.rows[b]}},{key:"_createDeleteButton",value:function(r,b){var Z=this,dt=this.getButton("","delete","button_delete_row_title_short");return dt.classList.add("delete","json-editor-btntype-delete"),dt.setAttribute("data-i",r),dt.addEventListener("click",function(wt){if(wt.preventDefault(),wt.stopPropagation(),!Z.askConfirmation())return!1;var te=1*wt.currentTarget.getAttribute("data-i"),Ce=Z.getValue(),Ke=Z.getValue()[te];Ce.splice(te,1),Z.setValue(Ce),Z.onChange(!0),Z.jsoneditor.trigger("deleteRow",Ke)}),b.appendChild(dt),dt}},{key:"_createCopyButton",value:function(r,b){var Z=this,dt=this.getButton("","copy","button_copy_row_title_short"),wt=this.schema;return dt.classList.add("copy","json-editor-btntype-copy"),dt.setAttribute("data-i",r),dt.addEventListener("click",function(te){te.preventDefault(),te.stopPropagation();var Ce=1*te.currentTarget.getAttribute("data-i"),Ke=Z.getValue(),Ln=Ke[Ce];wt.items.type==="string"&&wt.items.format==="uuid"?Ln=a():wt.items.type==="object"&&wt.items.properties&&Ke.forEach(function(Qn,ur){if(Ce===ur)for(var fr=0,Mr=Object.keys(Qn);fr<Mr.length;fr++){var Ur=Mr[fr];wt.items.properties&&wt.items.properties[Ur]&&wt.items.properties[Ur].format==="uuid"&&((Ln=Object.assign({},Ke[Ce]))[Ur]=a())}}),Ke.splice(Ce+1,0,Ln),Z.setValue(Ke),Z.onChange(!0),Z.jsoneditor.trigger("copyRow",Z.rows[Ce+1])}),b.appendChild(dt),dt}},{key:"_createMoveUpButton",value:function(r,b){var Z=this,dt=this.getButton("","moveup","button_move_up_title");return dt.classList.add("moveup","json-editor-btntype-move"),dt.setAttribute("data-i",r),dt.addEventListener("click",function(wt){wt.preventDefault(),wt.stopPropagation();var te=1*wt.currentTarget.getAttribute("data-i"),Ce=Z.getValue();Ce.splice(te-1,0,Ce.splice(te,1)[0]),Z.setValue(Ce),Z.onChange(!0),Z.jsoneditor.trigger("moveRow",Z.rows[te-1])}),b.appendChild(dt),dt}},{key:"_createMoveDownButton",value:function(r,b){var Z=this,dt=this.getButton("","movedown","button_move_down_title");return dt.classList.add("movedown","json-editor-btntype-move"),dt.setAttribute("data-i",r),dt.addEventListener("click",function(wt){wt.preventDefault(),wt.stopPropagation();var te=1*wt.currentTarget.getAttribute("data-i"),Ce=Z.getValue();Ce.splice(te+1,0,Ce.splice(te,1)[0]),Z.setValue(Ce),Z.onChange(!0),Z.jsoneditor.trigger("moveRow",Z.rows[te+1])}),b.appendChild(dt),dt}},{key:"addControls",value:function(){var r=this;this.collapsed=!1,this.toggle_button=this._createToggleButton(),this.title_controls&&(this.title.insertBefore(this.toggle_button,this.title.childNodes[0]),this.toggle_button.addEventListener("click",function(b){b.preventDefault(),b.stopPropagation(),r.setVisibility(r.panel,r.collapsed),r.collapsed?(r.collapsed=!1,r.setButtonText(b.currentTarget,"","collapse","button_collapse")):(r.collapsed=!0,r.setButtonText(b.currentTarget,"","expand","button_expand"))}),this.options.collapsed&&k(this.toggle_button,"click"),this.schema.options&&this.schema.options.disable_collapse!==void 0?this.schema.options.disable_collapse&&(this.toggle_button.style.display="none"):this.jsoneditor.options.disable_collapse&&(this.toggle_button.style.display="none")),this.add_row_button=this._createAddRowButton(),this.delete_last_row_button=this._createDeleteLastRowButton(),this.remove_all_rows_button=this._createRemoveAllRowsButton()}},{key:"_createToggleButton",value:function(){var r=this.getButton("","collapse","button_collapse");return r.classList.add("json-editor-btntype-toggle"),r}},{key:"_createAddRowButton",value:function(){var r=this,b=this.getButton(this.getItemTitle(),"add","button_add_row_title",[this.getItemTitle()]);return b.classList.add("json-editor-btntype-add"),b.addEventListener("click",function(Z){Z.preventDefault(),Z.stopPropagation();var dt=r.addRow();r.refreshValue(),r.refreshRowButtons(),r.onChange(!0),r.jsoneditor.trigger("addRow",dt)}),this.controls.appendChild(b),b}},{key:"_createDeleteLastRowButton",value:function(){var r=this,b=this.getButton("button_delete_last","subtract","button_delete_last_title",[this.getItemTitle()]);return b.classList.add("json-editor-btntype-deletelast"),b.addEventListener("click",function(Z){if(Z.preventDefault(),Z.stopPropagation(),!r.askConfirmation())return!1;var dt=r.getValue(),wt=dt.pop();r.setValue(dt),r.onChange(!0),r.jsoneditor.trigger("deleteRow",wt)}),this.controls.appendChild(b),b}},{key:"_createRemoveAllRowsButton",value:function(){var r=this,b=this.getButton("button_delete_all","delete","button_delete_all_title");return b.classList.add("json-editor-btntype-deleteall"),b.addEventListener("click",function(Z){if(Z.preventDefault(),Z.stopPropagation(),!r.askConfirmation())return!1;var dt=r.getValue();r.setValue([]),r.onChange(!0),r.jsoneditor.trigger("deleteAllRows",dt)}),this.controls.appendChild(b),b}}],At&&Hn(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ot}(St);function Uo(ht){return Uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},Uo(ht)}function vo(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(Uo(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(Uo(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),Uo(bt)==="symbol"?bt:String(bt)),q)}var bt}function ps(){return ps=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(ht,H,At){var q=function(Q,ot){for(;!Object.prototype.hasOwnProperty.call(Q,ot)&&(Q=da(Q))!==null;);return Q}(ht,H);if(q){var bt=Object.getOwnPropertyDescriptor(q,H);return bt.get?bt.get.call(arguments.length<3?ht:At):bt.value}},ps.apply(this,arguments)}function gf(ht,H){return gf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},gf(ht,H)}function da(ht){return da=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},da(ht)}function fl(ht){return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},fl(ht)}function $0(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(fl(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(fl(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),fl(bt)==="symbol"?bt:String(bt)),q)}var bt}function pl(){return pl=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(ht,H,At){var q=function(Q,ot){for(;!Object.prototype.hasOwnProperty.call(Q,ot)&&(Q=nc(Q))!==null;);return Q}(ht,H);if(q){var bt=Object.getOwnPropertyDescriptor(q,H);return bt.get?bt.get.call(arguments.length<3?ht:At):bt.value}},pl.apply(this,arguments)}function sh(ht,H){return sh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},sh(ht,H)}function nc(ht){return nc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},nc(ht)}function Xi(ht){return Xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},Xi(ht)}function mf(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(Xi(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(Xi(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),Xi(bt)==="symbol"?bt:String(bt)),q)}var bt}function Ho(){return Ho=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(ht,H,At){var q=function(Q,ot){for(;!Object.prototype.hasOwnProperty.call(Q,ot)&&(Q=Vc(Q))!==null;);return Q}(ht,H);if(q){var bt=Object.getOwnPropertyDescriptor(q,H);return bt.get?bt.get.call(arguments.length<3?ht:At):bt.value}},Ho.apply(this,arguments)}function Ll(ht,H){return Ll=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},Ll(ht,H)}function Vc(ht){return Vc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},Vc(ht)}L(6977);var xd={ace:ct,array:St,arrayChoices:se,arraySelect2:qt,arraySelectize:jt,autocomplete:Te,base64:Oe,button:Kn,checkbox:sn,choices:_r,datetime:kr,describedBy:Ar,enum:Eo,hidden:Ss,info:Cr,integer:ds,ip:fs,jodit:Pa,multiple:xc,multiselect:mt,null:Gl,number:Es,object:yd,radio:Ol,sceditor:Xl,select:ke,select2:Mi,selectize:Nn,signature:dr,simplemde:No,starrating:bd,stepper:aa,string:W,table:uo,upload:function(ht){(function(r,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(b&&b.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),b&&gf(r,b)})(ot,ht);var H,At,q,bt,Q=(q=ot,bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,b=da(q);if(bt){var Z=da(this).constructor;r=Reflect.construct(b,arguments,Z)}else r=b.apply(this,arguments);return function(dt,wt){if(wt&&(Uo(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(dt)}(this,r)});function ot(){return function(r,b){if(!(r instanceof b))throw new TypeError("Cannot call a class as a function")}(this,ot),Q.apply(this,arguments)}return H=ot,(At=[{key:"getNumColumns",value:function(){return 4}},{key:"build",value:function(){var r=this;if(this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle(),this.isRequired())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.translateProperty(this.schema.description))),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.translateProperty(this.options.infoText))),this.options.hidden&&(this.container.style.display="none"),this.options=this.expandCallbacks("upload",y({},{title:"Browse",icon:"",auto_upload:!1,hide_input:!1,enable_drag_drop:!1,drop_zone_text:"Drag & Drop file here",drop_zone_top:!1,alt_drop_zone:"",mime_type:"",max_upload_size:0,upload_handler:function(dt,wt,te,Ce){window.alert('No upload_handler defined for "'.concat(dt.path,'". You must create your own handler to enable upload to server'))}},this.defaults.options.upload||{},this.options.upload||{})),this.options.mime_type=this.options.mime_type?[].concat(this.options.mime_type):[],this.input=this.theme.getFormInputField("hidden"),this.container.appendChild(this.input),!this.schema.readOnly&&!this.schema.readonly){if(typeof this.options.upload_handler!="function")throw new Error("Upload handler required for upload editor");if(this.uploader=this.theme.getFormInputField("file"),this.uploader.style.display="none",this.options.mime_type.length&&this.uploader.setAttribute("accept",this.options.mime_type),this.options.enable_drag_drop===!0&&this.options.hide_input===!0||(this.clickHandler=function(dt){r.uploader.dispatchEvent(new window.MouseEvent("click",{view:window,bubbles:!0,cancelable:!1}))},this.browseButton=this.getButton(this.options.title,this.options.icon,this.options.title),this.browseButton.addEventListener("click",this.clickHandler),this.fileDisplay=this.theme.getFormInputField("input"),this.fileDisplay.setAttribute("readonly",!0),this.fileDisplay.value="No file selected.",this.fileDisplay.addEventListener("dblclick",this.clickHandler),this.fileUploadGroup=this.theme.getInputGroup(this.fileDisplay,[this.browseButton]),this.fileUploadGroup||(this.fileUploadGroup=document.createElement("div"),this.fileUploadGroup.appendChild(this.fileDisplay),this.fileUploadGroup.appendChild(this.browseButton))),this.options.enable_drag_drop===!0){if(this.options.alt_drop_zone!==""){if(this.altDropZone=document.querySelector(this.options.alt_drop_zone),!this.altDropZone)throw new Error('Error: alt_drop_zone selector "'.concat(this.options.alt_drop_zone,'" not found!'));this.dropZone=this.altDropZone}else this.dropZone=this.theme.getDropZone(this.options.drop_zone_text);this.dropZone&&(this.dropZone.classList.add("upload-dropzone"),this.dropZone.addEventListener("dblclick",this.clickHandler))}this.uploadHandler=function(dt){dt.preventDefault(),dt.stopPropagation();var wt=dt.target.files||dt.dataTransfer.files;if(wt&&wt.length)if(r.options.max_upload_size!==0&&wt[0].size>r.options.max_upload_size)r.theme.addInputError(r.uploader,"".concat(r.translate("upload_max_size")," ").concat(r.options.max_upload_size));else if(r.options.mime_type.length===0||r.isValidMimeType(wt[0].type,r.options.mime_type)){r.fileDisplay&&(r.fileDisplay.value=wt[0].name);var te=new window.FileReader;te.onload=function(Ce){r.preview_value=Ce.target.result,r.refreshPreview(wt),r.onChange(!0),te=null},te.readAsDataURL(wt[0])}else r.theme.addInputError(r.uploader,"".concat(r.translate("upload_wrong_file_format")," ").concat(r.options.mime_type.toString()))},this.uploader.addEventListener("change",this.uploadHandler),this.dragHandler=function(dt){var wt=dt.dataTransfer.items||dt.dataTransfer.files,te=wt&&wt.length&&(r.options.mime_type.length===0||r.isValidMimeType(wt[0].type,r.options.mime_type)),Ce=dt.currentTarget.classList&&dt.currentTarget.classList.contains("upload-dropzone")&&te;switch((dt.currentTarget===window?"w_":"e_")+dt.type){case"w_drop":case"w_dragover":Ce||(dt.dataTransfer.dropEffect="none");break;case"e_dragenter":Ce?(r.dropZone.classList.add("valid-dropzone"),dt.dataTransfer.dropEffect="copy"):r.dropZone.classList.add("invalid-dropzone");break;case"e_dragover":Ce&&(dt.dataTransfer.dropEffect="copy");break;case"e_dragleave":r.dropZone.classList.remove("valid-dropzone","invalid-dropzone");break;case"e_drop":r.dropZone.classList.remove("valid-dropzone","invalid-dropzone"),Ce&&r.uploadHandler(dt)}Ce||dt.preventDefault()},this.options.enable_drag_drop===!0&&(["dragover","drop"].forEach(function(dt){window.addEventListener(dt,r.dragHandler,!0)}),["dragenter","dragover","dragleave","drop"].forEach(function(dt){r.dropZone.addEventListener(dt,r.dragHandler,!0)}))}this.preview=document.createElement("div"),this.control=this.input.controlgroup=this.theme.getFormControl(this.label,this.uploader||this.input,this.description,this.infoButton),this.uploader&&(this.uploader.controlgroup=this.control);var b=this.uploader||this.input,Z=document.createElement("div");this.dropZone&&!this.altDropZone&&this.options.drop_zone_top===!0&&Z.appendChild(this.dropZone),this.fileUploadGroup&&Z.appendChild(this.fileUploadGroup),this.dropZone&&!this.altDropZone&&this.options.drop_zone_top!==!0&&Z.appendChild(this.dropZone),Z.appendChild(this.preview),b.parentNode.insertBefore(Z,b.nextSibling),this.container.appendChild(this.control),window.requestAnimationFrame(function(){r.afterInputReady()})}},{key:"afterInputReady",value:function(){var r=this;if(this.value){var b=document.createElement("img");b.style.maxWidth="100%",b.style.maxHeight="100px",b.onload=function(Z){r.preview.appendChild(b)},b.onerror=function(Z){console.error("upload error",Z,Z.currentTarget)},b.src=this.container.querySelector("a").href}this.theme.afterInputReady(this.input)}},{key:"refreshPreview",value:function(r){var b=this;if(this.last_preview!==this.preview_value&&(this.last_preview=this.preview_value,this.preview.innerHTML="",this.preview_value)){var Z=r[0],dt=this.preview_value.match(/^data:([^;,]+)[;,]/);if(Z.mimeType=dt?dt[1]:"unknown",Z.size>0){var wt=Math.floor(Math.log(Z.size)/Math.log(1024));Z.formattedSize="".concat(parseFloat((Z.size/Math.pow(1024,wt)).toFixed(2))," ").concat(["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][wt])}else Z.formattedSize="0 Bytes";var te=this.getButton("button_upload","upload","button_upload");te.addEventListener("click",function(Ce){Ce.preventDefault(),te.setAttribute("disabled","disabled"),b.theme.removeInputError(b.uploader),b.theme.getProgressBar&&(b.progressBar=b.theme.getProgressBar(),b.preview.appendChild(b.progressBar)),b.options.upload_handler(b.path,Z,{success:function(Ke){b.setValue(Ke),b.parent?b.parent.onChildEditorChange(b):b.jsoneditor.onChange(),b.progressBar&&b.preview.removeChild(b.progressBar),te.removeAttribute("disabled")},failure:function(Ke){b.theme.addInputError(b.uploader,Ke),b.progressBar&&b.preview.removeChild(b.progressBar),te.removeAttribute("disabled")},updateProgress:function(Ke){b.progressBar&&(Ke?b.theme.updateProgressBar(b.progressBar,Ke):b.theme.updateProgressBarUnknown(b.progressBar))}})}),this.preview.appendChild(this.theme.getUploadPreview(Z,te,this.preview_value)),this.options.auto_upload&&(te.dispatchEvent(new window.MouseEvent("click")),te.parentNode.removeChild(te))}}},{key:"enable",value:function(){this.always_disabled||(this.uploader&&(this.uploader.disabled=!1),ps(da(ot.prototype),"enable",this).call(this))}},{key:"disable",value:function(r){r&&(this.always_disabled=!0),this.uploader&&(this.uploader.disabled=!0),ps(da(ot.prototype),"disable",this).call(this)}},{key:"setValue",value:function(r){this.value!==r&&(this.value=r,this.input.value=this.value,this.onChange())}},{key:"destroy",value:function(){var r=this;this.options.enable_drag_drop===!0&&(["dragover","drop"].forEach(function(b){window.removeEventListener(b,r.dragHandler,!0)}),["dragenter","dragover","dragleave","drop"].forEach(function(b){r.dropZone.removeEventListener(b,r.dragHandler,!0)}),this.dropZone.removeEventListener("dblclick",this.clickHandler),this.dropZone&&this.dropZone.parentNode&&this.dropZone.parentNode.removeChild(this.dropZone)),this.uploader&&this.uploader.parentNode&&(this.uploader.removeEventListener("change",this.uploadHandler),this.uploader.parentNode.removeChild(this.uploader)),this.browseButton&&this.browseButton.parentNode&&(this.browseButton.removeEventListener("click",this.clickHandler),this.browseButton.parentNode.removeChild(this.browseButton)),this.fileDisplay&&this.fileDisplay.parentNode&&(this.fileDisplay.removeEventListener("dblclick",this.clickHandler),this.fileDisplay.parentNode.removeChild(this.fileDisplay)),this.fileUploadGroup&&this.fileUploadGroup.parentNode&&this.fileUploadGroup.parentNode.removeChild(this.fileUploadGroup),this.preview&&this.preview.parentNode&&this.preview.parentNode.removeChild(this.preview),this.header&&this.header.parentNode&&this.header.parentNode.removeChild(this.header),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),ps(da(ot.prototype),"destroy",this).call(this)}},{key:"isValidMimeType",value:function(r,b){return b.reduce(function(Z,dt){return Z||new RegExp(dt.replace(/\*/g,".*"),"gi").test(r)},!1)}}])&&vo(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ot}(P),uuid:function(ht){(function(r,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(b&&b.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),b&&sh(r,b)})(ot,ht);var H,At,q,bt,Q=(q=ot,bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,b=nc(q);if(bt){var Z=nc(this).constructor;r=Reflect.construct(b,arguments,Z)}else r=b.apply(this,arguments);return function(dt,wt){if(wt&&(fl(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(dt)}(this,r)});function ot(){return function(r,b){if(!(r instanceof b))throw new TypeError("Cannot call a class as a function")}(this,ot),Q.apply(this,arguments)}return H=ot,(At=[{key:"preBuild",value:function(){pl(nc(ot.prototype),"preBuild",this).call(this),this.schema.default=this.uuid=this.getUuid(),this.schema.options||(this.schema.options={}),this.schema.options.cleave||(this.schema.options.cleave={delimiters:["-"],blocks:[8,4,4,4,12]})}},{key:"build",value:function(){pl(nc(ot.prototype),"build",this).call(this),this.disable(!0),this.input.setAttribute("readonly","true")}},{key:"sanitize",value:function(r){return this.testUuid(r)||(r=this.uuid),r}},{key:"setValue",value:function(r,b,Z){this.testUuid(r)||(r=this.uuid),this.uuid=r,pl(nc(ot.prototype),"setValue",this).call(this,r,b,Z)}},{key:"getUuid",value:function(){return a()}},{key:"testUuid",value:function(r){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(r)}}])&&$0(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ot}(W),colorpicker:function(ht){(function(r,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(b&&b.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),b&&Ll(r,b)})(ot,ht);var H,At,q,bt,Q=(q=ot,bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,b=Vc(q);if(bt){var Z=Vc(this).constructor;r=Reflect.construct(b,arguments,Z)}else r=b.apply(this,arguments);return function(dt,wt){if(wt&&(Xi(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(dt)}(this,r)});function ot(){return function(r,b){if(!(r instanceof b))throw new TypeError("Cannot call a class as a function")}(this,ot),Q.apply(this,arguments)}return H=ot,(At=[{key:"postBuild",value:function(){window.Picker&&(this.input.type="text"),this.input.style.padding="3px"}},{key:"setValue",value:function(r,b,Z){var dt=Ho(Vc(ot.prototype),"setValue",this).call(this,r,b,Z);return this.picker_instance&&this.picker_instance.domElement&&dt&&dt.changed&&this.picker_instance.setColor(dt.value,!0),dt}},{key:"getNumColumns",value:function(){return 2}},{key:"afterInputReady",value:function(){Ho(Vc(ot.prototype),"afterInputReady",this).call(this),this.createPicker(!0)}},{key:"disable",value:function(){if(Ho(Vc(ot.prototype),"disable",this).call(this),this.picker_instance&&this.picker_instance.domElement){this.picker_instance.domElement.style.pointerEvents="none";for(var r=this.picker_instance.domElement.querySelectorAll("button"),b=0;b<r.length;b++)r[b].disabled=!0}}},{key:"enable",value:function(){if(Ho(Vc(ot.prototype),"enable",this).call(this),this.picker_instance&&this.picker_instance.domElement){this.picker_instance.domElement.style.pointerEvents="auto";for(var r=this.picker_instance.domElement.querySelectorAll("button"),b=0;b<r.length;b++)r[b].disabled=!1}}},{key:"destroy",value:function(){this.createPicker(!1),Ho(Vc(ot.prototype),"destroy",this).call(this)}},{key:"createPicker",value:function(r){var b=this;if(r){if(window.Picker&&!this.picker_instance){var Z=this.expandCallbacks("colorpicker",y({},{editor:!1,alpha:!1,color:this.value,popup:"bottom"},this.defaults.options.colorpicker||{},this.options.colorpicker||{},{parent:this.container})),dt=function(wt){var te=b.picker_instance.settings.editorFormat,Ce=b.picker_instance.settings.alpha;b.setValue(te==="hex"?Ce?wt.hex:wt.hex.slice(0,7):wt["".concat(te+(Ce?"a":""),"String")])};Z.popup||typeof Z.onChange=="function"?Z.popup&&typeof Z.onDone!="function"&&(Z.onDone=dt):Z.onChange=dt,this.picker_instance=new window.Picker(Z),Z.popup||(this.input.style.display="none",this.theme.afterInputReady(this.picker_instance.domElement))}}else this.picker_instance&&(this.picker_instance.destroy(),this.picker_instance=null,this.input.style.display="")}}])&&mf(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ot}(W)};function q0(ht,H){(H==null||H>ht.length)&&(H=ht.length);for(var At=0,q=new Array(H);At<H;At++)q[At]=ht[At];return q}var ch={},gl="en",yf=gl;ch.en={error_notset:"Property must be set",error_notempty:"Value required",error_enum:"Value must be one of the enumerated values",error_const:"Value must be the constant value",error_anyOf:"Value must validate against at least one of the provided schemas",error_oneOf:"Value must validate against exactly one of the provided schemas. It currently validates against {{0}} of the schemas.",error_not:"Value must not validate against the provided schema",error_type_union:"Value must be one of the provided types",error_type:"Value must be of type {{0}}",error_disallow_union:"Value must not be one of the provided disallowed types",error_disallow:"Value must not be of type {{0}}",error_multipleOf:"Value must be a multiple of {{0}}",error_maximum_excl:"Value must be less than {{0}}",error_maximum_incl:"Value must be at most {{0}}",error_minimum_excl:"Value must be greater than {{0}}",error_minimum_incl:"Value must be at least {{0}}",error_maxLength:"Value must be at most {{0}} characters long",error_minLength:"Value must be at least {{0}} characters long",error_pattern:"Value must match the pattern {{0}}",error_additionalItems:"No additional items allowed in this array",error_maxItems:"Value must have at most {{0}} items",error_minItems:"Value must have at least {{0}} items",error_uniqueItems:"Array must have unique items",error_maxProperties:"Object must have at most {{0}} properties",error_minProperties:"Object must have at least {{0}} properties",error_required:"Object is missing the required property '{{0}}'",error_additional_properties:"No additional properties allowed, but property {{0}} is set",error_property_names_exceeds_maxlength:"Property name {{0}} exceeds maxLength",error_property_names_enum_mismatch:"Property name {{0}} does not match any enum values",error_property_names_const_mismatch:"Property name {{0}} does not match the const value",error_property_names_pattern_mismatch:"Property name {{0}} does not match pattern",error_property_names_false:"Property name {{0}} fails when propertyName is false",error_property_names_maxlength:"Property name {{0}} cannot match invalid maxLength",error_property_names_enum:"Property name {{0}} cannot match invalid enum",error_property_names_pattern:"Property name {{0}} cannot match invalid pattern",error_property_names_unsupported:"Unsupported propertyName {{0}}",error_dependency:"Must have property {{0}}",error_date:"Date must be in the format {{0}}",error_time:"Time must be in the format {{0}}",error_datetime_local:"Datetime must be in the format {{0}}",error_invalid_epoch:"Date must be greater than 1 January 1970",error_ipv4:"Value must be a valid IPv4 address in the form of 4 numbers between 0 and 255, separated by dots",error_ipv6:"Value must be a valid IPv6 address",error_hostname:"The hostname has the wrong format",upload_max_size:"Filesize too large. Max size is ",upload_wrong_file_format:"Wrong file format. Allowed format(s): ",button_save:"Save",button_copy:"Copy",button_cancel:"Cancel",button_add:"Add",button_delete_all:"All",button_delete_all_title:"Delete All",button_delete_last:"Last {{0}}",button_delete_last_title:"Delete Last {{0}}",button_add_row_title:"Add {{0}}",button_move_down_title:"Move down",button_move_up_title:"Move up",button_properties:"Properties",button_object_properties:"Object Properties",button_copy_row_title:"Copy {{0}}",button_delete_row_title:"Delete {{0}}",button_delete_row_title_short:"Delete",button_copy_row_title_short:"Copy",button_collapse:"Collapse",button_expand:"Expand",button_edit_json:"Edit JSON",button_upload:"Upload",flatpickr_toggle_button:"Toggle",flatpickr_clear_button:"Clear",choices_placeholder_text:"Start typing to add value",default_array_item_title:"item",button_delete_node_warning:"Are you sure you want to remove this node?"},Object.entries(xd).forEach(function(ht){var H=function(bt,Q){return function(ot){if(Array.isArray(ot))return ot}(bt)||function(ot,r){var b=ot==null?null:typeof Symbol!="undefined"&&ot[Symbol.iterator]||ot["@@iterator"];if(b!=null){var Z,dt,wt,te,Ce=[],Ke=!0,Ln=!1;try{if(wt=(b=b.call(ot)).next,r===0){if(Object(b)!==b)return;Ke=!1}else for(;!(Ke=(Z=wt.call(b)).done)&&(Ce.push(Z.value),Ce.length!==r);Ke=!0);}catch(Qn){Ln=!0,dt=Qn}finally{try{if(!Ke&&b.return!=null&&(te=b.return(),Object(te)!==te))return}finally{if(Ln)throw dt}}return Ce}}(bt,Q)||function(ot,r){if(ot){if(typeof ot=="string")return q0(ot,r);var b=Object.prototype.toString.call(ot).slice(8,-1);return b==="Object"&&ot.constructor&&(b=ot.constructor.name),b==="Map"||b==="Set"?Array.from(ot):b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b)?q0(ot,r):void 0}}(bt,Q)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}(ht,2),At=H[0],q=H[1];xd[At].options=q.options||{}});var os={options:{upload:function(ht,H,At){console.log("Upload handler required for upload editor")},use_name_attributes:!0,prompt_before_delete:!0,use_default_values:!0,max_depth:0},theme:"html",template:"default",themes:{},callbacks:{},templates:{},iconlibs:{},editors:xd,languages:ch,resolvers:s,custom_validators:[],default_language:gl,language:yf,translate:function(ht,H,At){var q={};At&&At.options&&At.options.error_messages&&At.options.error_messages[os.language]&&(q=At.options.error_messages[os.language]);var bt=os.languages[os.language];if(!bt)throw new Error("Unknown language ".concat(os.language));var Q=q[ht]||bt[ht]||os.languages[gl][ht]||ht;if(H)for(var ot=0;ot<H.length;ot++)Q=Q.replace(new RegExp("\\{\\{".concat(ot,"}}"),"g"),H[ot]);return Q},translateProperty:function(ht,H){return ht}};function Wc(){Wc=function(){return ht};var ht={},H=Object.prototype,At=H.hasOwnProperty,q=Object.defineProperty||function(vn,gn,Xe){vn[gn]=Xe.value},bt=typeof Symbol=="function"?Symbol:{},Q=bt.iterator||"@@iterator",ot=bt.asyncIterator||"@@asyncIterator",r=bt.toStringTag||"@@toStringTag";function b(vn,gn,Xe){return Object.defineProperty(vn,gn,{value:Xe,enumerable:!0,configurable:!0,writable:!0}),vn[gn]}try{b({},"")}catch(vn){b=function(gn,Xe,hr){return gn[Xe]=hr}}function Z(vn,gn,Xe,hr){var Gn=gn&&gn.prototype instanceof te?gn:te,$r=Object.create(Gn.prototype),Ai=new Br(hr||[]);return q($r,"_invoke",{value:zr(vn,Xe,Ai)}),$r}function dt(vn,gn,Xe){try{return{type:"normal",arg:vn.call(gn,Xe)}}catch(hr){return{type:"throw",arg:hr}}}ht.wrap=Z;var wt={};function te(){}function Ce(){}function Ke(){}var Ln={};b(Ln,Q,function(){return this});var Qn=Object.getPrototypeOf,ur=Qn&&Qn(Qn(mi([])));ur&&ur!==H&&At.call(ur,Q)&&(Ln=ur);var fr=Ke.prototype=te.prototype=Object.create(Ln);function Mr(vn){["next","throw","return"].forEach(function(gn){b(vn,gn,function(Xe){return this._invoke(gn,Xe)})})}function Ur(vn,gn){function Xe(Gn,$r,Ai,_o){var So=dt(vn[Gn],vn,$r);if(So.type!=="throw"){var Yo=So.arg,xl=Yo.value;return xl&&$o(xl)=="object"&&At.call(xl,"__await")?gn.resolve(xl.__await).then(function(Ta){Xe("next",Ta,Ai,_o)},function(Ta){Xe("throw",Ta,Ai,_o)}):gn.resolve(xl).then(function(Ta){Yo.value=Ta,Ai(Yo)},function(Ta){return Xe("throw",Ta,Ai,_o)})}_o(So.arg)}var hr;q(this,"_invoke",{value:function(Gn,$r){function Ai(){return new gn(function(_o,So){Xe(Gn,$r,_o,So)})}return hr=hr?hr.then(Ai,Ai):Ai()}})}function zr(vn,gn,Xe){var hr="suspendedStart";return function(Gn,$r){if(hr==="executing")throw new Error("Generator is already running");if(hr==="completed"){if(Gn==="throw")throw $r;return{value:void 0,done:!0}}for(Xe.method=Gn,Xe.arg=$r;;){var Ai=Xe.delegate;if(Ai){var _o=Si(Ai,Xe);if(_o){if(_o===wt)continue;return _o}}if(Xe.method==="next")Xe.sent=Xe._sent=Xe.arg;else if(Xe.method==="throw"){if(hr==="suspendedStart")throw hr="completed",Xe.arg;Xe.dispatchException(Xe.arg)}else Xe.method==="return"&&Xe.abrupt("return",Xe.arg);hr="executing";var So=dt(vn,gn,Xe);if(So.type==="normal"){if(hr=Xe.done?"completed":"suspendedYield",So.arg===wt)continue;return{value:So.arg,done:Xe.done}}So.type==="throw"&&(hr="completed",Xe.method="throw",Xe.arg=So.arg)}}}function Si(vn,gn){var Xe=gn.method,hr=vn.iterator[Xe];if(hr===void 0)return gn.delegate=null,Xe==="throw"&&vn.iterator.return&&(gn.method="return",gn.arg=void 0,Si(vn,gn),gn.method==="throw")||Xe!=="return"&&(gn.method="throw",gn.arg=new TypeError("The iterator does not provide a '"+Xe+"' method")),wt;var Gn=dt(hr,vn.iterator,gn.arg);if(Gn.type==="throw")return gn.method="throw",gn.arg=Gn.arg,gn.delegate=null,wt;var $r=Gn.arg;return $r?$r.done?(gn[vn.resultName]=$r.value,gn.next=vn.nextLoc,gn.method!=="return"&&(gn.method="next",gn.arg=void 0),gn.delegate=null,wt):$r:(gn.method="throw",gn.arg=new TypeError("iterator result is not an object"),gn.delegate=null,wt)}function ho(vn){var gn={tryLoc:vn[0]};1 in vn&&(gn.catchLoc=vn[1]),2 in vn&&(gn.finallyLoc=vn[2],gn.afterLoc=vn[3]),this.tryEntries.push(gn)}function gi(vn){var gn=vn.completion||{};gn.type="normal",delete gn.arg,vn.completion=gn}function Br(vn){this.tryEntries=[{tryLoc:"root"}],vn.forEach(ho,this),this.reset(!0)}function mi(vn){if(vn){var gn=vn[Q];if(gn)return gn.call(vn);if(typeof vn.next=="function")return vn;if(!isNaN(vn.length)){var Xe=-1,hr=function Gn(){for(;++Xe<vn.length;)if(At.call(vn,Xe))return Gn.value=vn[Xe],Gn.done=!1,Gn;return Gn.value=void 0,Gn.done=!0,Gn};return hr.next=hr}}return{next:qo}}function qo(){return{value:void 0,done:!0}}return Ce.prototype=Ke,q(fr,"constructor",{value:Ke,configurable:!0}),q(Ke,"constructor",{value:Ce,configurable:!0}),Ce.displayName=b(Ke,r,"GeneratorFunction"),ht.isGeneratorFunction=function(vn){var gn=typeof vn=="function"&&vn.constructor;return!!gn&&(gn===Ce||(gn.displayName||gn.name)==="GeneratorFunction")},ht.mark=function(vn){return Object.setPrototypeOf?Object.setPrototypeOf(vn,Ke):(vn.__proto__=Ke,b(vn,r,"GeneratorFunction")),vn.prototype=Object.create(fr),vn},ht.awrap=function(vn){return{__await:vn}},Mr(Ur.prototype),b(Ur.prototype,ot,function(){return this}),ht.AsyncIterator=Ur,ht.async=function(vn,gn,Xe,hr,Gn){Gn===void 0&&(Gn=Promise);var $r=new Ur(Z(vn,gn,Xe,hr),Gn);return ht.isGeneratorFunction(gn)?$r:$r.next().then(function(Ai){return Ai.done?Ai.value:$r.next()})},Mr(fr),b(fr,r,"Generator"),b(fr,Q,function(){return this}),b(fr,"toString",function(){return"[object Generator]"}),ht.keys=function(vn){var gn=Object(vn),Xe=[];for(var hr in gn)Xe.push(hr);return Xe.reverse(),function Gn(){for(;Xe.length;){var $r=Xe.pop();if($r in gn)return Gn.value=$r,Gn.done=!1,Gn}return Gn.done=!0,Gn}},ht.values=mi,Br.prototype={constructor:Br,reset:function(vn){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(gi),!vn)for(var gn in this)gn.charAt(0)==="t"&&At.call(this,gn)&&!isNaN(+gn.slice(1))&&(this[gn]=void 0)},stop:function(){this.done=!0;var vn=this.tryEntries[0].completion;if(vn.type==="throw")throw vn.arg;return this.rval},dispatchException:function(vn){if(this.done)throw vn;var gn=this;function Xe(So,Yo){return $r.type="throw",$r.arg=vn,gn.next=So,Yo&&(gn.method="next",gn.arg=void 0),!!Yo}for(var hr=this.tryEntries.length-1;hr>=0;--hr){var Gn=this.tryEntries[hr],$r=Gn.completion;if(Gn.tryLoc==="root")return Xe("end");if(Gn.tryLoc<=this.prev){var Ai=At.call(Gn,"catchLoc"),_o=At.call(Gn,"finallyLoc");if(Ai&&_o){if(this.prev<Gn.catchLoc)return Xe(Gn.catchLoc,!0);if(this.prev<Gn.finallyLoc)return Xe(Gn.finallyLoc)}else if(Ai){if(this.prev<Gn.catchLoc)return Xe(Gn.catchLoc,!0)}else{if(!_o)throw new Error("try statement without catch or finally");if(this.prev<Gn.finallyLoc)return Xe(Gn.finallyLoc)}}}},abrupt:function(vn,gn){for(var Xe=this.tryEntries.length-1;Xe>=0;--Xe){var hr=this.tryEntries[Xe];if(hr.tryLoc<=this.prev&&At.call(hr,"finallyLoc")&&this.prev<hr.finallyLoc){var Gn=hr;break}}Gn&&(vn==="break"||vn==="continue")&&Gn.tryLoc<=gn&&gn<=Gn.finallyLoc&&(Gn=null);var $r=Gn?Gn.completion:{};return $r.type=vn,$r.arg=gn,Gn?(this.method="next",this.next=Gn.finallyLoc,wt):this.complete($r)},complete:function(vn,gn){if(vn.type==="throw")throw vn.arg;return vn.type==="break"||vn.type==="continue"?this.next=vn.arg:vn.type==="return"?(this.rval=this.arg=vn.arg,this.method="return",this.next="end"):vn.type==="normal"&&gn&&(this.next=gn),wt},finish:function(vn){for(var gn=this.tryEntries.length-1;gn>=0;--gn){var Xe=this.tryEntries[gn];if(Xe.finallyLoc===vn)return this.complete(Xe.completion,Xe.afterLoc),gi(Xe),wt}},catch:function(vn){for(var gn=this.tryEntries.length-1;gn>=0;--gn){var Xe=this.tryEntries[gn];if(Xe.tryLoc===vn){var hr=Xe.completion;if(hr.type==="throw"){var Gn=hr.arg;gi(Xe)}return Gn}}throw new Error("illegal catch attempt")},delegateYield:function(vn,gn,Xe){return this.delegate={iterator:mi(vn),resultName:gn,nextLoc:Xe},this.method==="next"&&(this.arg=void 0),wt}},ht}function Ys(ht,H,At,q,bt,Q,ot){try{var r=ht[Q](ot),b=r.value}catch(Z){return void At(Z)}r.done?H(b):Promise.resolve(b).then(q,bt)}function Kl(ht){return function(){var H=this,At=arguments;return new Promise(function(q,bt){var Q=ht.apply(H,At);function ot(b){Ys(Q,q,bt,ot,r,"next",b)}function r(b){Ys(Q,q,bt,ot,r,"throw",b)}ot(void 0)})}}function Gc(ht,H){return function(At){if(Array.isArray(At))return At}(ht)||function(At,q){var bt=At==null?null:typeof Symbol!="undefined"&&At[Symbol.iterator]||At["@@iterator"];if(bt!=null){var Q,ot,r,b,Z=[],dt=!0,wt=!1;try{if(r=(bt=bt.call(At)).next,q===0){if(Object(bt)!==bt)return;dt=!1}else for(;!(dt=(Q=r.call(bt)).done)&&(Z.push(Q.value),Z.length!==q);dt=!0);}catch(te){wt=!0,ot=te}finally{try{if(!dt&&bt.return!=null&&(b=bt.return(),Object(b)!==b))return}finally{if(wt)throw ot}}return Z}}(ht,H)||function(At,q){if(At){if(typeof At=="string")return wd(At,q);var bt=Object.prototype.toString.call(At).slice(8,-1);return bt==="Object"&&At.constructor&&(bt=At.constructor.name),bt==="Map"||bt==="Set"?Array.from(At):bt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(bt)?wd(At,q):void 0}}(ht,H)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function wd(ht,H){(H==null||H>ht.length)&&(H=ht.length);for(var At=0,q=new Array(H);At<H;At++)q[At]=ht[At];return q}function $o(ht){return $o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},$o(ht)}function As(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if($o(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if($o(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),$o(bt)==="symbol"?bt:String(bt)),q)}var bt}L(8733);var _d=function(){function ht(Q){(function(ot,r){if(!(ot instanceof r))throw new TypeError("Cannot call a class as a function")})(this,ht),this.options=Q||{},this.schema={},this.refs=this.options.refs||{},this.refs_with_info={},this.refs_prefix="#/counter/",this.refs_counter=1,this._subSchema1={type:function(ot){$o(ot.type)==="object"&&(ot.type=this._expandSubSchema(ot.type))},disallow:function(ot){$o(ot.disallow)==="object"&&(ot.disallow=this._expandSubSchema(ot.disallow))},anyOf:function(ot){var r=this;Object.entries(ot.anyOf).forEach(function(b){var Z=Gc(b,2),dt=Z[0],wt=Z[1];ot.anyOf[dt]=r.expandSchema(wt)})},dependencies:function(ot){var r=this;Object.entries(ot.dependencies).forEach(function(b){var Z=Gc(b,2),dt=Z[0],wt=Z[1];$o(wt)!=="object"||Array.isArray(wt)||(ot.dependencies[dt]=r.expandSchema(wt))})},not:function(ot){ot.not=this.expandSchema(ot.not)}},this._subSchema2={allOf:function(ot,r){var b=this,Z=y({},r);return Object.entries(ot.allOf).forEach(function(dt){var wt=Gc(dt,2),te=wt[0],Ce=wt[1];ot.allOf[te]=b.expandRefs(Ce,!0),Z=b.extendSchemas(Z,b.expandSchema(Ce))}),delete Z.allOf,Z},extends:function(ot,r){var b,Z=this;return delete(b=Array.isArray(ot.extends)?ot.extends.reduce(function(dt,wt,te){return Z.extendSchemas(dt,Z.expandSchema(wt))},r):this.extendSchemas(r,this.expandSchema(ot.extends))).extends,b},oneOf:function(ot,r){var b=this,Z=y({},r);return delete Z.oneOf,ot.oneOf.reduce(function(dt,wt,te){return dt.oneOf[te]=b.extendSchemas(b.expandSchema(wt),Z),dt},r),r}}}var H,At,q,bt;return H=ht,At=[{key:"load",value:(bt=Kl(Wc().mark(function Q(ot,r,b){return Wc().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return this.schema=ot,Z.next=3,this._asyncloadExternalRefs(ot,r,this._getFileBase(b),!0);case 3:return Z.abrupt("return",this.expandRefs(ot));case 4:case"end":return Z.stop()}},Q,this)})),function(Q,ot,r){return bt.apply(this,arguments)})},{key:"expandRefs",value:function(Q,ot){var r=this,b=y({},Q);if(!b.$ref)return b;var Z=b.$ref.split("#");if(Z.length===2&&!this.refs_with_info[b.$ref]){var dt=this.expandRecursivePointer(this.schema,Z[1]);return this.extendSchemas(b,this.expandSchema(dt))}var wt=Z.length>2?this.refs_with_info["#"+Z[1]]:this.refs_with_info[b.$ref];delete b.$ref;var te=wt.$ref.startsWith("#")?wt.fetchUrl:"",Ce=this._getRef(te,wt);if(this.refs[Ce]){if(ot&&C(this.refs[Ce],"allOf")){var Ke=this.refs[Ce].allOf;Object.keys(Ke).forEach(function(Ln){Ke[Ln]=r.expandRefs(Ke[Ln],!0)})}}else console.warn("reference:'".concat(Ce,"' not found!"));return Z.length>2?this.extendSchemas(b,this.expandSchema(this.expandRecursivePointer(this.refs[Ce],Z[2]))):this.extendSchemas(b,this.expandSchema(this.refs[Ce]))}},{key:"expandRecursivePointer",value:function(Q,ot){var r=Q;return ot.split("/").slice(1).forEach(function(b){r[b]&&(r=r[b])}),r.$refs&&r.$refs.startsWith("#")?this.expandRecursivePointer(Q,r.$refs):r}},{key:"expandSchema",value:function(Q){var ot=this;Object.entries(this._subSchema1).forEach(function(b){var Z=Gc(b,2),dt=Z[0],wt=Z[1];Q[dt]&&wt.call(ot,Q)});var r=y({},Q);return Object.entries(this._subSchema2).forEach(function(b){var Z=Gc(b,2),dt=Z[0],wt=Z[1];Q[dt]&&(r=wt.call(ot,Q,r))}),this.expandRefs(r)}},{key:"_getRef",value:function(Q,ot){var r=Q+ot;return this.refs[r]?r:Q+decodeURIComponent(ot.$ref)}},{key:"_expandSubSchema",value:function(Q){var ot=this;return Array.isArray(Q)?Q.map(function(r){return $o(r)==="object"?ot.expandSchema(r):r}):this.expandSchema(Q)}},{key:"_manageRecursivePointer",value:function(Q,ot){Object.keys(Q).forEach(function(r){Q[r].$ref&&Q[r].$ref.indexOf("#")===0&&(Q[r].$ref=ot+Q[r].$ref)})}},{key:"_getExternalRefs",value:function(Q,ot){var r=this,b=arguments.length>2&&arguments[2]!==void 0&&arguments[2];b||this._manageRecursivePointer(Q,ot);var Z={},dt=function(Ln){return Object.keys(Ln).forEach(function(Qn){Z[Qn]=!0})};if(Q.$ref&&$o(Q.$ref)!=="object"&&(Q.$ref.indexOf("#")!==0||!b)){var wt=Q.$ref,te="";wt.indexOf("#")>0&&(wt=wt.substr(0,wt.indexOf("#"))),wt!==Q.$ref&&(te=Q.$ref.substr(Q.$ref.indexOf("#")));var Ce=this.refs_prefix+this.refs_counter++,Ke=Ce+te;Q.$ref.substr(0,1)==="#"||this.refs[Q.$ref]||(Z[wt]=!0),this.refs_with_info[Ce]={fetchUrl:ot,$ref:wt},Q.$ref=Ke}return Object.values(Q).forEach(function(Ln){Ln&&$o(Ln)==="object"&&(Array.isArray(Ln)?Object.values(Ln).forEach(function(Qn){Qn&&$o(Qn)==="object"&&dt(r._getExternalRefs(Qn,ot,b))}):Ln.$ref&&typeof Ln.$ref=="string"&&Ln.$ref.startsWith("#")||dt(r._getExternalRefs(Ln,ot,b)))}),Q.id&&typeof Q.id=="string"&&Q.id.substr(0,4)==="urn:"?this.refs[Q.id]=Q:Q.$id&&typeof Q.$id=="string"&&Q.$id.substr(0,4)==="urn:"&&(this.refs[Q.$id]=Q),Z}},{key:"_getFileBase",value:function(Q){if(!Q)return"/";var ot=this.options.ajaxBase;return ot===void 0?this._getFileBaseFromFileLocation(Q):ot}},{key:"_getFileBaseFromFileLocation",value:function(Q){var ot=Q.split("/");return ot.pop(),"".concat(ot.join("/"),"/")}},{key:"_joinUrl",value:function(Q,ot){var r=Q;return Q.substr(0,7)!=="http://"&&Q.substr(0,8)!=="https://"&&Q.substr(0,5)!=="blob:"&&Q.substr(0,5)!=="data:"&&Q.substr(0,1)!=="#"&&Q.substr(0,1)!=="/"&&(r=ot+Q),r.indexOf("#")>0&&(r=r.substr(0,r.indexOf("#"))),r}},{key:"_isUniformResourceName",value:function(Q){return Q.substr(0,4)==="urn:"}},{key:"_asyncloadExternalRefs",value:(q=Kl(Wc().mark(function Q(ot,r,b){var Z,dt,wt,te,Ce,Ke,Ln=this,Qn=arguments;return Wc().wrap(function(ur){for(;;)switch(ur.prev=ur.next){case 0:Z=Qn.length>3&&Qn[3]!==void 0&&Qn[3],dt=this._getExternalRefs(ot,r,Z),wt=0,te=Wc().mark(function fr(){var Mr,Ur,zr,Si,ho,gi,Br,mi,qo,vn,gn;return Wc().wrap(function(Xe){for(;;)switch(Xe.prev=Xe.next){case 0:if((Mr=Ke[Ce])!==void 0){Xe.next=3;break}return Xe.abrupt("return","continue");case 3:if(!Ln.refs[Mr]){Xe.next=5;break}return Xe.abrupt("return","continue");case 5:if(!Ln._isUniformResourceName(Mr)){Xe.next=40;break}if(Ln.refs[Mr]="loading",wt++,Ur=Ln.options.urn_resolver,zr=Mr,typeof Ur=="function"){Xe.next=13;break}throw console.log('No "urn_resolver" callback defined to resolve "'.concat(zr,'"')),new Error("Must set urn_resolver option to a callback to resolve ".concat(zr));case 13:return zr.indexOf("#")>0&&(zr=zr.substr(0,zr.indexOf("#"))),Xe.prev=14,Xe.next=17,Ur(zr);case 17:Si=Xe.sent,Xe.prev=18,ho=JSON.parse(Si),Xe.next=26;break;case 22:throw Xe.prev=22,Xe.t0=Xe.catch(18),console.log(Xe.t0),new Error("Failed to parse external ref ".concat(zr));case 26:if(!(typeof ho!="boolean"&&$o(ho)!=="object"||ho===null||Array.isArray(ho))){Xe.next=28;break}throw new Error("External ref does not contain a valid schema - ".concat(zr));case 28:return Ln.refs[Mr]=ho,Xe.next=31,Ln._asyncloadExternalRefs(ho,Mr,b);case 31:Xe.next=37;break;case 33:throw Xe.prev=33,Xe.t1=Xe.catch(14),console.log(Xe.t1),new Error("Failed to parse external ref ".concat(zr));case 37:if(typeof Si!="boolean"){Xe.next=39;break}throw new Error("External ref does not contain a valid schema - ".concat(zr));case 39:return Xe.abrupt("return","continue");case 40:if(Ln.options.ajax){Xe.next=42;break}throw new Error("Must set ajax option to true to load external ref ".concat(Mr));case 42:if(wt++,gi=Ln._joinUrl(Mr,b),Ln.options.ajax_cache_responses&&(mi=Ln.cacheGet(gi))&&(Br=mi),Br){Xe.next=60;break}return Xe.next=48,new Promise(function(hr){var Gn=new XMLHttpRequest;Ln.options.ajaxCredentials&&(Gn.withCredentials=Ln.options.ajaxCredentials),Gn.overrideMimeType("application/json"),Gn.open("GET",gi,!0),Gn.onload=function(){hr(Gn)},Gn.onerror=function($r){hr(void 0)},Gn.send()});case 48:if((qo=Xe.sent)!==void 0){Xe.next=51;break}throw new Error("Failed to fetch ref via ajax - ".concat(Mr));case 51:Xe.prev=51,Br=JSON.parse(qo.responseText),Ln.options.ajax_cache_responses&&Ln.cacheSet(gi,Br),Xe.next=60;break;case 56:throw Xe.prev=56,Xe.t2=Xe.catch(51),console.log(Xe.t2),new Error("Failed to parse external ref ".concat(gi));case 60:if(!(typeof Br!="boolean"&&$o(Br)!=="object"||Br===null||Array.isArray(Br))){Xe.next=62;break}throw new Error("External ref does not contain a valid schema - ".concat(gi));case 62:return Ln.refs[Mr]=Br,vn=Ln._getFileBaseFromFileLocation(gi),gi!==Mr&&(gn=gi.split("/"),gi=(Mr.substr(0,1)==="/"?"/":"")+gn.pop()),Xe.next=67,Ln._asyncloadExternalRefs(Br,gi,vn);case 67:case"end":return Xe.stop()}},fr,null,[[14,33],[18,22],[51,56]])}),Ce=0,Ke=Object.keys(dt);case 5:if(!(Ce<Ke.length)){ur.next=13;break}return ur.delegateYield(te(),"t0",7);case 7:if(ur.t0!=="continue"){ur.next=10;break}return ur.abrupt("continue",10);case 10:Ce++,ur.next=5;break;case 13:if(wt){ur.next=15;break}return ur.abrupt("return",!0);case 15:case"end":return ur.stop()}},Q,this)})),function(Q,ot,r){return q.apply(this,arguments)})},{key:"extendSchemas",value:function(Q,ot){var r=this;Q=y({},Q),ot=y({},ot);var b={},Z=function(dt){typeof dt=="string"&&(dt=[dt]),typeof ot.type=="string"&&(ot.type=[ot.type]),ot.type&&ot.type.length?b.type=dt.filter(function(wt){return ot.type.includes(wt)}):b.type=dt,b.type.length===1&&typeof b.type[0]=="string"?b.type=b.type[0]:b.type.length===0&&delete b.type};return Object.entries(Q).forEach(function(dt){var wt=Gc(dt,2),te=wt[0],Ce=wt[1];ot[te]!==void 0?function(Ke,Ln){(function(Qn,ur){return(Qn==="required"||Qn==="defaultProperties")&&$o(ur)==="object"&&Array.isArray(ur)})(Ke,Ln)?b[Ke]=Ln.concat(ot[Ke]).reduce(function(Qn,ur){return Qn.includes(ur)||Qn.push(ur),Qn},[]):Ke!=="type"||typeof Ln!="string"&&!Array.isArray(Ln)?$o(Ln)!=="object"||Array.isArray(Ln)||Ln===null?b[Ke]=Ln:b[Ke]=r.extendSchemas(Ln,ot[Ke]):Z(Ln)}(te,Ce):b[te]=Ce}),Object.entries(ot).forEach(function(dt){var wt=Gc(dt,2),te=wt[0],Ce=wt[1];Q[te]===void 0&&(b[te]=Ce)}),b}},{key:"getCacheKey",value:function(Q){return["je-cache",Q].join("::")}},{key:"getCacheBuster",value:function(){return this.options.ajax_cache_buster||new Date().toISOString().slice(0,10)}},{key:"cacheSet",value:function(Q,ot){try{window.localStorage.setItem(this.getCacheKey(Q),JSON.stringify({cacheBuster:this.getCacheBuster(),schema:ot}))}catch(r){console.error(r)}}},{key:"cacheGet",value:function(Q){try{var ot=window.localStorage.getItem(this.getCacheKey(Q));if(ot){var r=JSON.parse(ot);if(r.cacheBuster&&r.schema&&r.cacheBuster===this.getCacheBuster())return r.schema;this.cacheDelete(Q)}}catch(b){console.error(b)}}},{key:"cacheDelete",value:function(Q){window.localStorage.removeItem(this.getCacheKey(Q))}}],At&&As(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ht}(),_c=(L(3210),{default:function(){return{compile:function(ht){var H=ht.match(/{{\s*([a-zA-Z0-9\-_ .]+)\s*}}/g),At=H&&H.length;if(!At)return function(){return ht};for(var q=[],bt=function(ot){var r,b,Z=H[ot].replace(/[{}]+/g,"").trim().split("."),dt=Z.length;dt>1?r=function(wt){for(b=wt,ot=0;ot<dt&&(b=b[Z[ot]]);ot++);return b}:(Z=Z[0],r=function(wt){return wt[Z]}),q.push({s:H[ot],r})},Q=0;Q<At;Q++)bt(Q);return function(ot){var r,b="".concat(ht);for(Q=0;Q<At;Q++)r=q[Q],b=b.replace(r.s,r.r(ot));return b}}}},ejs:function(){return!!window.EJS&&{compile:function(ht){var H=new window.EJS({text:ht});return function(At){return H.render(At)}}}},handlebars:function(){return window.Handlebars},hogan:function(){return!!window.Hogan&&{compile:function(ht){var H=window.Hogan.compile(ht);return function(At){return H.render(At)}}}},lodash:function(){return!!window._&&{compile:function(ht){return function(H){return window._.template(ht)(H)}}}},markup:function(){return!(!window.Mark||!window.Mark.up)&&{compile:function(ht){return function(H){return window.Mark.up(ht,H)}}}},mustache:function(){return!!window.Mustache&&{compile:function(ht){return function(H){return window.Mustache.render(ht,H)}}}},swig:function(){return window.swig},underscore:function(){return!!window._&&{compile:function(ht){return function(H){return window._.template(ht)(H)}}}}});function Su(ht){return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},Su(ht)}function Jl(ht,H){(H==null||H>ht.length)&&(H=ht.length);for(var At=0,q=new Array(H);At<H;At++)q[At]=ht[At];return q}function Ql(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(Su(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(Su(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),Su(bt)==="symbol"?bt:String(bt)),q)}var bt}var tu={collapse:"",expand:"",delete:"",edit:"",add:"",cancel:"",save:"",moveup:"",movedown:""},Os=function(){function ht(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",bt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tu;(function(Q,ot){if(!(Q instanceof ot))throw new TypeError("Cannot call a class as a function")})(this,ht),this.mapping=bt,this.icon_prefix=q}var H,At;return H=ht,(At=[{key:"getIconClass",value:function(q){return this.mapping[q]?this.icon_prefix+this.mapping[q]:this.icon_prefix+q}},{key:"getIcon",value:function(q){var bt,Q=this.getIconClass(q);if(!Q)return null;var ot,r=document.createElement("i");return(bt=r.classList).add.apply(bt,function(b){if(Array.isArray(b))return Jl(b)}(ot=Q.split(" "))||function(b){if(typeof Symbol!="undefined"&&b[Symbol.iterator]!=null||b["@@iterator"]!=null)return Array.from(b)}(ot)||function(b,Z){if(b){if(typeof b=="string")return Jl(b,Z);var dt=Object.prototype.toString.call(b).slice(8,-1);return dt==="Object"&&b.constructor&&(dt=b.constructor.name),dt==="Map"||dt==="Set"?Array.from(b):dt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(dt)?Jl(b,Z):void 0}}(ot)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),r}}])&&Ql(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ht}();function lh(ht){return lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},lh(ht)}function Xc(ht,H){return Xc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},Xc(ht,H)}function Zc(ht){return Zc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},Zc(ht)}var Bl="glyphicon glyphicon-",Ca={collapse:"chevron-down",expand:"chevron-right",delete:"trash",edit:"pencil",add:"plus",subtract:"minus",cancel:"floppy-remove",save:"floppy-saved",moveup:"arrow-up",moveright:"arrow-right",movedown:"arrow-down",moveleft:"arrow-left",copy:"copy",clear:"remove-circle",time:"time",calendar:"calendar",edit_properties:"list"};function Jo(ht){return Jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},Jo(ht)}function Ep(ht,H){return Ep=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},Ep(ht,H)}function ml(ht){return ml=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},ml(ht)}var Eu="icon-",Y0={collapse:"chevron-down",expand:"chevron-right",delete:"trash",edit:"pencil",add:"plus",subtract:"minus",cancel:"ban-circle",save:"save",moveup:"arrow-up",moveright:"arrow-right",movedown:"arrow-down",moveleft:"arrow-left",copy:"copy",clear:"remove-circle",time:"time",calendar:"calendar",edit_properties:"list"};function rc(ht){return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},rc(ht)}function Tu(ht,H){return Tu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},Tu(ht,H)}function eu(ht){return eu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},eu(ht)}var Au="fa fa-",kd={collapse:"caret-square-o-down",expand:"caret-square-o-right",delete:"times",edit:"pencil",add:"plus",subtract:"minus",cancel:"ban",save:"save",moveup:"arrow-up",moveright:"arrow-right",movedown:"arrow-down",moveleft:"arrow-left",copy:"files-o",clear:"times-circle-o",time:"clock-o",calendar:"calendar",edit_properties:"list"};function yl(ht){return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},yl(ht)}function nu(ht,H){return nu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},nu(ht,H)}function vl(ht){return vl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},vl(ht)}var jl="fas fa-",kc={collapse:"caret-down",expand:"caret-right",delete:"trash",edit:"pen",add:"plus",subtract:"minus",cancel:"ban",save:"save",moveup:"arrow-up",moveright:"arrow-right",movedown:"arrow-down",moveleft:"arrow-left",copy:"copy",clear:"times-circle",time:"clock",calendar:"calendar",edit_properties:"list"};function ru(ht){return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},ru(ht)}function Nh(ht,H){return Nh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},Nh(ht,H)}function Cd(ht){return Cd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},Cd(ht)}var Ph="ui-icon ui-icon-",Rh={collapse:"triangle-1-s",expand:"triangle-1-e",delete:"trash",edit:"pencil",add:"plusthick",subtract:"minusthick",cancel:"closethick",save:"disk",moveup:"arrowthick-1-n",moveright:"arrowthick-1-e",movedown:"arrowthick-1-s",moveleft:"arrowthick-1-w",copy:"copy",clear:"circle-close",time:"time",calendar:"calendar",edit_properties:"note"};function uh(ht){return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},uh(ht)}function Ee(ht,H){return Ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},Ee(ht,H)}function bl(ht){return bl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},bl(ht)}var Sd="oi oi-",Vs={collapse:"collapse-down",expand:"expand-right",delete:"trash",edit:"pencil",add:"plus",subtract:"minus",cancel:"ban",save:"file",moveup:"arrow-thick-top",moveright:"arrow-thick-right",movedown:"arrow-thick-bottom",moveleft:"arrow-thick-left",copy:"clipboard",clear:"circle-x",time:"clock",calendar:"calendar",edit_properties:"list"};function Ti(ht){return Ti=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},Ti(ht)}function Ed(ht,H){return Ed=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},Ed(ht,H)}function vf(ht){return vf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},vf(ht)}var Fg="icon icon-",hh={collapse:"arrow-down",expand:"arrow-right",delete:"delete",edit:"edit",add:"plus",subtract:"minus",cancel:"cross",save:"check",moveup:"upward",moveright:"forward",movedown:"downward",moveleft:"back",copy:"copy",clear:"close",time:"time",calendar:"bookmark",edit_properties:"menu"},Tp={bootstrap3:function(ht){(function(ot,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");ot.prototype=Object.create(r&&r.prototype,{constructor:{value:ot,writable:!0,configurable:!0}}),Object.defineProperty(ot,"prototype",{writable:!1}),r&&Xc(ot,r)})(Q,ht);var H,At,q,bt=(At=Q,q=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ot){return!1}}(),function(){var ot,r=Zc(At);if(q){var b=Zc(this).constructor;ot=Reflect.construct(r,arguments,b)}else ot=r.apply(this,arguments);return function(Z,dt){if(dt&&(lh(dt)==="object"||typeof dt=="function"))return dt;if(dt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(wt){if(wt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return wt}(Z)}(this,ot)});function Q(){return function(ot,r){if(!(ot instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Q),bt.call(this,Bl,Ca)}return H=Q,Object.defineProperty(H,"prototype",{writable:!1}),H}(Os),fontawesome3:function(ht){(function(ot,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");ot.prototype=Object.create(r&&r.prototype,{constructor:{value:ot,writable:!0,configurable:!0}}),Object.defineProperty(ot,"prototype",{writable:!1}),r&&Ep(ot,r)})(Q,ht);var H,At,q,bt=(At=Q,q=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ot){return!1}}(),function(){var ot,r=ml(At);if(q){var b=ml(this).constructor;ot=Reflect.construct(r,arguments,b)}else ot=r.apply(this,arguments);return function(Z,dt){if(dt&&(Jo(dt)==="object"||typeof dt=="function"))return dt;if(dt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(wt){if(wt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return wt}(Z)}(this,ot)});function Q(){return function(ot,r){if(!(ot instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Q),bt.call(this,Eu,Y0)}return H=Q,Object.defineProperty(H,"prototype",{writable:!1}),H}(Os),fontawesome4:function(ht){(function(ot,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");ot.prototype=Object.create(r&&r.prototype,{constructor:{value:ot,writable:!0,configurable:!0}}),Object.defineProperty(ot,"prototype",{writable:!1}),r&&Tu(ot,r)})(Q,ht);var H,At,q,bt=(At=Q,q=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ot){return!1}}(),function(){var ot,r=eu(At);if(q){var b=eu(this).constructor;ot=Reflect.construct(r,arguments,b)}else ot=r.apply(this,arguments);return function(Z,dt){if(dt&&(rc(dt)==="object"||typeof dt=="function"))return dt;if(dt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(wt){if(wt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return wt}(Z)}(this,ot)});function Q(){return function(ot,r){if(!(ot instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Q),bt.call(this,Au,kd)}return H=Q,Object.defineProperty(H,"prototype",{writable:!1}),H}(Os),fontawesome5:function(ht){(function(ot,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");ot.prototype=Object.create(r&&r.prototype,{constructor:{value:ot,writable:!0,configurable:!0}}),Object.defineProperty(ot,"prototype",{writable:!1}),r&&nu(ot,r)})(Q,ht);var H,At,q,bt=(At=Q,q=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ot){return!1}}(),function(){var ot,r=vl(At);if(q){var b=vl(this).constructor;ot=Reflect.construct(r,arguments,b)}else ot=r.apply(this,arguments);return function(Z,dt){if(dt&&(yl(dt)==="object"||typeof dt=="function"))return dt;if(dt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(wt){if(wt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return wt}(Z)}(this,ot)});function Q(){return function(ot,r){if(!(ot instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Q),bt.call(this,jl,kc)}return H=Q,Object.defineProperty(H,"prototype",{writable:!1}),H}(Os),jqueryui:function(ht){(function(ot,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");ot.prototype=Object.create(r&&r.prototype,{constructor:{value:ot,writable:!0,configurable:!0}}),Object.defineProperty(ot,"prototype",{writable:!1}),r&&Nh(ot,r)})(Q,ht);var H,At,q,bt=(At=Q,q=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ot){return!1}}(),function(){var ot,r=Cd(At);if(q){var b=Cd(this).constructor;ot=Reflect.construct(r,arguments,b)}else ot=r.apply(this,arguments);return function(Z,dt){if(dt&&(ru(dt)==="object"||typeof dt=="function"))return dt;if(dt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(wt){if(wt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return wt}(Z)}(this,ot)});function Q(){return function(ot,r){if(!(ot instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Q),bt.call(this,Ph,Rh)}return H=Q,Object.defineProperty(H,"prototype",{writable:!1}),H}(Os),openiconic:function(ht){(function(ot,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");ot.prototype=Object.create(r&&r.prototype,{constructor:{value:ot,writable:!0,configurable:!0}}),Object.defineProperty(ot,"prototype",{writable:!1}),r&&Ee(ot,r)})(Q,ht);var H,At,q,bt=(At=Q,q=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ot){return!1}}(),function(){var ot,r=bl(At);if(q){var b=bl(this).constructor;ot=Reflect.construct(r,arguments,b)}else ot=r.apply(this,arguments);return function(Z,dt){if(dt&&(uh(dt)==="object"||typeof dt=="function"))return dt;if(dt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(wt){if(wt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return wt}(Z)}(this,ot)});function Q(){return function(ot,r){if(!(ot instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Q),bt.call(this,Sd,Vs)}return H=Q,Object.defineProperty(H,"prototype",{writable:!1}),H}(Os),spectre:function(ht){(function(ot,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");ot.prototype=Object.create(r&&r.prototype,{constructor:{value:ot,writable:!0,configurable:!0}}),Object.defineProperty(ot,"prototype",{writable:!1}),r&&Ed(ot,r)})(Q,ht);var H,At,q,bt=(At=Q,q=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ot){return!1}}(),function(){var ot,r=vf(At);if(q){var b=vf(this).constructor;ot=Reflect.construct(r,arguments,b)}else ot=r.apply(this,arguments);return function(Z,dt){if(dt&&(Ti(dt)==="object"||typeof dt=="function"))return dt;if(dt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(wt){if(wt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return wt}(Z)}(this,ot)});function Q(){return function(ot,r){if(!(ot instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Q),bt.call(this,Fg,hh)}return H=Q,Object.defineProperty(H,"prototype",{writable:!1}),H}(Os)};function dh(ht){return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},dh(ht)}function Ap(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(dh(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(dh(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),dh(bt)==="symbol"?bt:String(bt)),q)}var bt}var Ou=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].find(function(ht){return ht in document.documentElement}),iu=function(){function ht(q){var bt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{disable_theme_rules:!1};(function(Q,ot){if(!(Q instanceof ot))throw new TypeError("Cannot call a class as a function")})(this,ht),this.jsoneditor=q,Object.keys(bt).forEach(function(Q){q.options[Q]!==void 0&&(bt[Q]=q.options[Q])}),this.options=bt}var H,At;return H=ht,At=[{key:"getContainer",value:function(){return document.createElement("div")}},{key:"getFloatRightLinkHolder",value:function(){var q=document.createElement("div");return q.classList.add("je-float-right-linkholder"),q}},{key:"getModal",value:function(){var q=document.createElement("div");return q.style.display="none",q.classList.add("je-modal"),q}},{key:"getGridContainer",value:function(){return document.createElement("div")}},{key:"getGridRow",value:function(){var q=document.createElement("div");return q.classList.add("row"),q}},{key:"getGridColumn",value:function(){return document.createElement("div")}},{key:"setGridColumnSize",value:function(q,bt){}},{key:"getLink",value:function(q){var bt=document.createElement("a");return bt.setAttribute("href","#"),bt.appendChild(document.createTextNode(q)),bt}},{key:"disableHeader",value:function(q){q.style.color="#ccc"}},{key:"disableLabel",value:function(q){q.style.color="#ccc"}},{key:"enableHeader",value:function(q){q.style.color=""}},{key:"enableLabel",value:function(q){q.style.color=""}},{key:"getInfoButton",value:function(q){var bt=document.createElement("span");bt.innerText="ⓘ",bt.classList.add("je-infobutton-icon");var Q=document.createElement("span");return Q.classList.add("je-infobutton-tooltip"),Q.innerText=q,bt.onmouseover=function(){Q.style.visibility="visible"},bt.onmouseleave=function(){Q.style.visibility="hidden"},bt.appendChild(Q),bt}},{key:"getFormInputLabel",value:function(q,bt){var Q=document.createElement("label");return Q.appendChild(document.createTextNode(q)),bt&&Q.classList.add("required"),Q}},{key:"getHeader",value:function(q,bt){var Q=document.createElement("h3");return typeof q=="string"?Q.textContent=q:Q.appendChild(q),Q.classList.add("je-header"),Q}},{key:"getCheckbox",value:function(){var q=this.getFormInputField("checkbox");return q.classList.add("je-checkbox"),q}},{key:"getCheckboxLabel",value:function(q,bt){var Q=document.createElement("label");return Q.appendChild(document.createTextNode(" ".concat(q))),bt&&Q.classList.add("required"),Q}},{key:"getMultiCheckboxHolder",value:function(q,bt,Q,ot){var r=document.createElement("div");return r.classList.add("control-group"),bt&&(bt.style.display="block",r.appendChild(bt),ot&&bt.appendChild(ot)),Object.values(q).forEach(function(b){b.style.display="inline-block",b.style.marginRight="20px",r.appendChild(b)}),Q&&r.appendChild(Q),r}},{key:"getFormCheckboxControl",value:function(q,bt,Q){var ot=document.createElement("div");return ot.appendChild(q),bt.style.width="auto",q.insertBefore(bt,q.firstChild),Q&&ot.classList.add("je-checkbox-control--compact"),ot}},{key:"getFormRadio",value:function(q){var bt=this.getFormInputField("radio");return Object.keys(q).forEach(function(Q){return bt.setAttribute(Q,q[Q])}),bt.classList.add("je-radio"),bt}},{key:"getFormRadioLabel",value:function(q,bt){var Q=document.createElement("label");return Q.appendChild(document.createTextNode(" ".concat(q))),bt&&Q.classList.add("required"),Q}},{key:"getFormRadioControl",value:function(q,bt,Q){var ot=document.createElement("div");return ot.appendChild(q),bt.style.width="auto",q.insertBefore(bt,q.firstChild),Q&&ot.classList.add("je-radio-control--compact"),ot}},{key:"getSelectInput",value:function(q,bt){var Q=document.createElement("select");return q&&this.setSelectOptions(Q,q),Q}},{key:"getSwitcher",value:function(q){var bt=this.getSelectInput(q,!1);return bt.classList.add("je-switcher"),bt}},{key:"getSwitcherOptions",value:function(q){return q.getElementsByTagName("option")}},{key:"setSwitcherOptions",value:function(q,bt,Q){this.setSelectOptions(q,bt,Q)}},{key:"setSelectOptions",value:function(q,bt){var Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];q.innerHTML="";for(var ot=0;ot<bt.length;ot++){var r=document.createElement("option");r.setAttribute("value",bt[ot]),r.textContent=Q[ot]||bt[ot],q.appendChild(r)}}},{key:"getTextareaInput",value:function(){var q=document.createElement("textarea");return q.classList.add("je-textarea"),q}},{key:"getRangeInput",value:function(q,bt,Q){var ot=this.getFormInputField("range");return ot.setAttribute("min",q),ot.setAttribute("max",bt),ot.setAttribute("step",Q),ot}},{key:"getStepperButtons",value:function(q){var bt=document.createElement("div"),Q=document.createElement("button");Q.setAttribute("type","button"),Q.classList.add("stepper-down");var ot=document.createElement("button");ot.setAttribute("type","button"),ot.classList.add("stepper-up"),q.getAttribute("readonly")&&(Q.setAttribute("disabled",!0),ot.setAttribute("disabled",!0)),Q.textContent="-",ot.textContent="+";var r=function(dt,wt){dt.value=Number(wt||dt.value),dt.setAttribute("initialized","1")},b=q.getAttribute("min"),Z=q.getAttribute("max");return Q.addEventListener("click",function(){q.getAttribute("initialized")?b?Number(q.value)>Number(b)&&q.stepDown():q.stepDown():r(q,b),k(q,"change")}),ot.addEventListener("click",function(){q.getAttribute("initialized")?Z?Number(q.value)<Number(Z)&&q.stepUp():q.stepUp():r(q,b),k(q,"change")}),bt.appendChild(Q),bt.appendChild(ot),bt}},{key:"getRangeOutput",value:function(q,bt){var Q=document.createElement("output"),ot=function(r){Q.value=r.currentTarget.value};return q.addEventListener("change",ot,!1),q.addEventListener("input",ot,!1),Q}},{key:"getRangeControl",value:function(q,bt){var Q=document.createElement("div");return Q.classList.add("je-range-control"),bt&&Q.appendChild(bt),Q.appendChild(q),Q}},{key:"getFormInputField",value:function(q){var bt=document.createElement("input");return bt.setAttribute("type",q),bt}},{key:"afterInputReady",value:function(q){}},{key:"getFormControl",value:function(q,bt,Q,ot,r){var b=document.createElement("div");return b.classList.add("form-control"),q&&(b.appendChild(q),r&&q.setAttribute("for",r)),bt.type!=="checkbox"&&bt.type!=="radio"||!q?(ot&&q&&q.appendChild(ot),b.appendChild(bt)):(bt.style.width="auto",q.insertBefore(bt,q.firstChild),ot&&q.appendChild(ot)),Q&&b.appendChild(Q),b}},{key:"getIndentedPanel",value:function(){var q=document.createElement("div");return q.classList.add("je-indented-panel"),q}},{key:"getTopIndentedPanel",value:function(){var q=document.createElement("div");return q.classList.add("je-indented-panel--top"),q}},{key:"getChildEditorHolder",value:function(){return document.createElement("div")}},{key:"getDescription",value:function(q){var bt=document.createElement("p");return window.DOMPurify?bt.innerHTML=window.DOMPurify.sanitize(q):bt.textContent=this.cleanText(q),bt}},{key:"getCheckboxDescription",value:function(q){return this.getDescription(q)}},{key:"getFormInputDescription",value:function(q){return this.getDescription(q)}},{key:"getButtonHolder",value:function(){return document.createElement("span")}},{key:"getHeaderButtonHolder",value:function(){return this.getButtonHolder()}},{key:"getFormButtonHolder",value:function(q){return this.getButtonHolder()}},{key:"getButton",value:function(q,bt,Q){var ot=document.createElement("button");return ot.type="button",this.setButtonText(ot,q,bt,Q),ot}},{key:"getFormButton",value:function(q,bt,Q){return this.getButton(q,bt,Q)}},{key:"setButtonText",value:function(q,bt,Q,ot){for(;q.firstChild;)q.removeChild(q.firstChild);if(Q&&(q.appendChild(Q),bt=" ".concat(bt)),!this.jsoneditor.options.iconlib||!this.jsoneditor.options.remove_button_labels||!Q){var r=document.createElement("span");r.appendChild(document.createTextNode(bt)),q.appendChild(r)}ot&&q.setAttribute("title",ot)}},{key:"getTable",value:function(){return document.createElement("table")}},{key:"getTableRow",value:function(){return document.createElement("tr")}},{key:"getTableHead",value:function(){return document.createElement("thead")}},{key:"getTableBody",value:function(){return document.createElement("tbody")}},{key:"getTableHeaderCell",value:function(q){var bt=document.createElement("th");return bt.textContent=q,bt}},{key:"getTableCell",value:function(){return document.createElement("td")}},{key:"getErrorMessage",value:function(q){var bt=document.createElement("p");return bt.style=bt.style||{},bt.style.color="red",bt.appendChild(document.createTextNode(q)),bt}},{key:"addInputError",value:function(q,bt){}},{key:"removeInputError",value:function(q){}},{key:"addTableRowError",value:function(q){}},{key:"removeTableRowError",value:function(q){}},{key:"getTabHolder",value:function(q){var bt=q===void 0?"":q,Q=document.createElement("div");return Q.innerHTML="<div class='je-tabholder tabs'></div><div class='content' id='".concat(bt,"'></div><div class='je-tabholder--clear'></div>"),Q}},{key:"getTopTabHolder",value:function(q){var bt=q===void 0?"":q,Q=document.createElement("div");return Q.innerHTML="<div class='tabs je-tabholder--top'></div><div class='je-tabholder--clear'></div><div class='content' id='".concat(bt,"'></div>"),Q}},{key:"applyStyles",value:function(q,bt){Object.keys(bt).forEach(function(Q){return q.style[Q]=bt[Q]})}},{key:"closest",value:function(q,bt){for(;q&&q!==document;){if(!q[Ou])return!1;if(q[Ou](bt))return q;q=q.parentNode}return!1}},{key:"insertBasicTopTab",value:function(q,bt){bt.firstChild.insertBefore(q,bt.firstChild.firstChild)}},{key:"getTab",value:function(q,bt){var Q=document.createElement("div");return Q.appendChild(q),Q.id=bt,Q.classList.add("je-tab"),Q}},{key:"getTopTab",value:function(q,bt){var Q=document.createElement("div");return Q.appendChild(q),Q.id=bt,Q.classList.add("je-tab--top"),Q}},{key:"getTabContentHolder",value:function(q){return q.children[1]}},{key:"getTopTabContentHolder",value:function(q){return q.children[1]}},{key:"getTabContent",value:function(){return this.getIndentedPanel()}},{key:"getTopTabContent",value:function(){return this.getTopIndentedPanel()}},{key:"markTabActive",value:function(q){this.applyStyles(q.tab,{opacity:1,background:"white"}),q.rowPane!==void 0?q.rowPane.style.display="":q.container.style.display=""}},{key:"markTabInactive",value:function(q){this.applyStyles(q.tab,{opacity:.5,background:""}),q.rowPane!==void 0?q.rowPane.style.display="none":q.container.style.display="none"}},{key:"addTab",value:function(q,bt){q.children[0].appendChild(bt)}},{key:"addTopTab",value:function(q,bt){q.children[0].appendChild(bt)}},{key:"getBlockLink",value:function(){var q=document.createElement("a");return q.classList.add("je-block-link"),q}},{key:"getBlockLinkHolder",value:function(){return document.createElement("div")}},{key:"getLinksHolder",value:function(){return document.createElement("div")}},{key:"createMediaLink",value:function(q,bt,Q){q.appendChild(bt),Q.classList.add("je-media"),q.appendChild(Q)}},{key:"createImageLink",value:function(q,bt,Q){q.appendChild(bt),bt.appendChild(Q)}},{key:"getFirstTab",value:function(q){return q.firstChild.firstChild}},{key:"getInputGroup",value:function(q,bt){}},{key:"cleanText",value:function(q){var bt=document.createElement("div");return bt.innerHTML=q,bt.textContent||bt.innerText}},{key:"getDropZone",value:function(q){var bt=document.createElement("div");return bt.setAttribute("data-text",q),bt.classList.add("je-dropzone"),bt}},{key:"getUploadPreview",value:function(q,bt,Q){var ot=document.createElement("div");if(ot.classList.add("je-upload-preview"),q.mimeType.substr(0,5)==="image"){var r=document.createElement("img");r.src=Q,ot.appendChild(r)}var b=document.createElement("div");b.innerHTML+="<strong>Name:</strong> ".concat(q.name,"<br><strong>Type:</strong> ").concat(q.type,"<br><strong>Size:</strong> ").concat(q.formattedSize),ot.appendChild(b),ot.appendChild(bt);var Z=document.createElement("div");return Z.style.clear="left",ot.appendChild(Z),ot}},{key:"getProgressBar",value:function(){var q=document.createElement("progress");return q.setAttribute("max",100),q.setAttribute("value",0),q}},{key:"updateProgressBar",value:function(q,bt){q&&q.setAttribute("value",bt)}},{key:"updateProgressBarUnknown",value:function(q){q&&q.removeAttribute("value")}}],At&&Ap(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ht}();function Ms(ht){return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},Ms(ht)}function V0(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(Ms(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(Ms(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),Ms(bt)==="symbol"?bt:String(bt)),q)}var bt}function Cc(){return Cc=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(ht,H,At){var q=function(Q,ot){for(;!Object.prototype.hasOwnProperty.call(Q,ot)&&(Q=Il(Q))!==null;);return Q}(ht,H);if(q){var bt=Object.getOwnPropertyDescriptor(q,H);return bt.get?bt.get.call(arguments.length<3?ht:At):bt.value}},Cc.apply(this,arguments)}function Op(ht,H){return Op=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},Op(ht,H)}function Il(ht){return Il=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},Il(ht)}var W0=function(ht){(function(r,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(b&&b.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),b&&Op(r,b)})(ot,ht);var H,At,q,bt,Q=(q=ot,bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,b=Il(q);if(bt){var Z=Il(this).constructor;r=Reflect.construct(b,arguments,Z)}else r=b.apply(this,arguments);return function(dt,wt){if(wt&&(Ms(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(dt)}(this,r)});function ot(){return function(r,b){if(!(r instanceof b))throw new TypeError("Cannot call a class as a function")}(this,ot),Q.apply(this,arguments)}return H=ot,(At=[{key:"getFormInputLabel",value:function(r,b){var Z=Cc(Il(ot.prototype),"getFormInputLabel",this).call(this,r,b);return Z.classList.add("je-form-input-label"),Z}},{key:"getFormInputDescription",value:function(r){var b=Cc(Il(ot.prototype),"getFormInputDescription",this).call(this,r);return b.classList.add("je-form-input-label"),b}},{key:"getIndentedPanel",value:function(){var r=Cc(Il(ot.prototype),"getIndentedPanel",this).call(this);return r.classList.add("je-indented-panel"),r}},{key:"getTopIndentedPanel",value:function(){return this.getIndentedPanel()}},{key:"getChildEditorHolder",value:function(){var r=Cc(Il(ot.prototype),"getChildEditorHolder",this).call(this);return r.classList.add("je-child-editor-holder"),r}},{key:"getHeaderButtonHolder",value:function(){var r=this.getButtonHolder();return r.classList.add("je-header-button-holder"),r}},{key:"getTable",value:function(){var r=Cc(Il(ot.prototype),"getTable",this).call(this);return r.classList.add("je-table"),r}},{key:"addInputError",value:function(r,b){var Z=this.closest(r,".form-control")||r.controlgroup;r.errmsg?r.errmsg.style.display="block":(r.errmsg=document.createElement("div"),r.errmsg.setAttribute("class","errmsg"),r.errmsg.style=r.errmsg.style||{},r.errmsg.style.color="red",Z.appendChild(r.errmsg)),r.errmsg.innerHTML="",r.errmsg.appendChild(document.createTextNode(b))}},{key:"removeInputError",value:function(r){r.style&&(r.style.borderColor=""),r.errmsg&&(r.errmsg.style.display="none")}}])&&V0(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ot}(iu);W0.rules={".je-form-input-label":"display:block;margin-bottom:3px;font-weight:bold",".je-form-input-description":"display:inline-block;margin:0;font-size:0.8em;font-style:italic",".je-indented-panel":"padding:5px;margin:10px;border-radius:3px;border:1px%20solid%20%23ddd",".je-child-editor-holder":"margin-bottom:8px",".je-header-button-holder":"display:inline-block;margin-left:10px;font-size:0.8em;vertical-align:middle",".je-table":"margin-bottom:5px;border-bottom:1px%20solid%20%23ccc",".je-upload-preview img":"float:left;margin:0%200.5rem%200.5rem%200;max-width:100%25;max-height:5rem",".je-dropzone":"position:relative;margin:0.5rem%200;border:2px%20dashed%20black;width:100%25;height:60px;background:teal;transition:all%200.5s",".je-dropzone:before":"position:absolute;content:attr(data-text);color:rgba(0%2C%200%2C%200%2C%200.6);left:50%25;top:50%25;transform:translate(-50%25%2C%20-50%25)",".je-dropzone.valid-dropzone":"background:green",".je-dropzone.invalid-dropzone":"background:red"};var ou=L(4686),zg=L.n(ou);function Dh(ht){return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},Dh(ht)}function Sc(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(Dh(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(Dh(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),Dh(bt)==="symbol"?bt:String(bt)),q)}var bt}function au(){return au=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(ht,H,At){var q=function(Q,ot){for(;!Object.prototype.hasOwnProperty.call(Q,ot)&&(Q=fa(Q))!==null;);return Q}(ht,H);if(q){var bt=Object.getOwnPropertyDescriptor(q,H);return bt.get?bt.get.call(arguments.length<3?ht:At):bt.value}},au.apply(this,arguments)}function bf(ht,H){return bf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},bf(ht,H)}function fa(ht){return fa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},fa(ht)}var G0=function(ht){(function(r,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(b&&b.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),b&&bf(r,b)})(ot,ht);var H,At,q,bt,Q=(q=ot,bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,b=fa(q);if(bt){var Z=fa(this).constructor;r=Reflect.construct(b,arguments,Z)}else r=b.apply(this,arguments);return function(dt,wt){if(wt&&(Dh(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(dt)}(this,r)});function ot(){return function(r,b){if(!(r instanceof b))throw new TypeError("Cannot call a class as a function")}(this,ot),Q.apply(this,arguments)}return H=ot,(At=[{key:"getSelectInput",value:function(r,b){var Z=au(fa(ot.prototype),"getSelectInput",this).call(this,r);return Z.classList.add("form-control"),Z}},{key:"setGridColumnSize",value:function(r,b,Z){r.classList.add("col-md-".concat(b)),Z&&r.classList.add("col-md-offset-".concat(Z))}},{key:"afterInputReady",value:function(r){if(!r.controlgroup&&(r.controlgroup=this.closest(r,".form-group"),this.closest(r,".compact")&&(r.controlgroup.style.marginBottom=0),this.queuedInputErrorText)){var b=this.queuedInputErrorText;delete this.queuedInputErrorText,this.addInputError(r,b)}}},{key:"getTextareaInput",value:function(){var r=document.createElement("textarea");return r.classList.add("form-control"),r}},{key:"getRangeInput",value:function(r,b,Z){return au(fa(ot.prototype),"getRangeInput",this).call(this,r,b,Z)}},{key:"getFormInputField",value:function(r){var b=au(fa(ot.prototype),"getFormInputField",this).call(this,r);return r!=="checkbox"&&r!=="radio"&&b.classList.add("form-control"),b}},{key:"getFormControl",value:function(r,b,Z,dt){var wt=document.createElement("div");return!r||b.type!=="checkbox"&&b.type!=="radio"?(wt.classList.add("form-group"),r&&(r.classList.add("control-label"),wt.appendChild(r),dt&&r.appendChild(dt)),wt.appendChild(b)):(wt.classList.add(b.type),dt&&r.appendChild(dt),r.insertBefore(b,r.firstChild),wt.appendChild(r)),Z&&wt.appendChild(Z),wt}},{key:"getIndentedPanel",value:function(){var r=document.createElement("div");return r.classList.add("well","well-sm"),r.style.paddingBottom=0,r}},{key:"getInfoButton",value:function(r){var b=document.createElement("span");b.classList.add("glyphicon","glyphicon-info-sign","pull-right"),b.style.padding=".25rem",b.style.position="relative",b.style.display="inline-block";var Z=document.createElement("span");return Z.style["font-family"]="sans-serif",Z.style.visibility="hidden",Z.style["background-color"]="rgba(50, 50, 50, .75)",Z.style.margin="0 .25rem",Z.style.color="#FAFAFA",Z.style.padding=".5rem 1rem",Z.style["border-radius"]=".25rem",Z.style.width="25rem",Z.style.position="absolute",Z.innerText=r,b.onmouseover=function(){Z.style.visibility="visible"},b.onmouseleave=function(){Z.style.visibility="hidden"},b.appendChild(Z),b}},{key:"getFormInputDescription",value:function(r){var b=document.createElement("p");return b.classList.add("help-block"),window.DOMPurify?b.innerHTML=window.DOMPurify.sanitize(r):b.textContent=this.cleanText(r),b}},{key:"getHeaderButtonHolder",value:function(){var r=this.getButtonHolder();return r.style.marginLeft="10px",r}},{key:"getButtonHolder",value:function(){var r=document.createElement("span");return r.classList.add("btn-group"),r}},{key:"getButton",value:function(r,b,Z){var dt=au(fa(ot.prototype),"getButton",this).call(this,r,b,Z);return dt.classList.add("btn","btn-default"),dt}},{key:"getTable",value:function(){var r=document.createElement("table");return r.classList.add("table","table-bordered"),r.style.width="auto",r.style.maxWidth="none",r}},{key:"addInputError",value:function(r,b){r.controlgroup?(r.controlgroup.classList.add("has-error"),r.errmsg?r.errmsg.style.display="":(r.errmsg=document.createElement("p"),r.errmsg.classList.add("help-block","errormsg"),r.controlgroup.appendChild(r.errmsg)),r.errmsg.textContent=b):this.queuedInputErrorText=b}},{key:"removeInputError",value:function(r){r.controlgroup||delete this.queuedInputErrorText,r.errmsg&&(r.errmsg.style.display="none",r.controlgroup.classList.remove("has-error"))}},{key:"getTabHolder",value:function(r){var b=r===void 0?"":r,Z=document.createElement("div");return Z.innerHTML="<ul class='col-md-2 nav nav-pills nav-stacked' id='".concat(b,"' role='tablist'></ul><div class='col-md-10 tab-content active well well-small'  id='").concat(b,"'></div>"),Z}},{key:"getTopTabHolder",value:function(r){var b=r===void 0?"":r,Z=document.createElement("div");return Z.innerHTML="<ul class='nav nav-tabs' id='".concat(b,"' role='tablist'></ul><div class='tab-content active well well-small'  id='").concat(b,"'></div>"),Z}},{key:"getTab",value:function(r,b){var Z=document.createElement("li");Z.setAttribute("role","presentation");var dt=document.createElement("a");return dt.setAttribute("href","#".concat(b)),dt.appendChild(r),dt.setAttribute("aria-controls",b),dt.setAttribute("role","tab"),dt.setAttribute("data-toggle","tab"),Z.appendChild(dt),Z}},{key:"getTopTab",value:function(r,b){var Z=document.createElement("li");Z.setAttribute("role","presentation");var dt=document.createElement("a");return dt.setAttribute("href","#".concat(b)),dt.appendChild(r),dt.setAttribute("aria-controls",b),dt.setAttribute("role","tab"),dt.setAttribute("data-toggle","tab"),Z.appendChild(dt),Z}},{key:"getTabContent",value:function(){var r=document.createElement("div");return r.classList.add("tab-pane"),r.setAttribute("role","tabpanel"),r}},{key:"getTopTabContent",value:function(){var r=document.createElement("div");return r.classList.add("tab-pane"),r.setAttribute("role","tabpanel"),r}},{key:"markTabActive",value:function(r){r.tab.classList.add("active"),r.rowPane!==void 0?r.rowPane.classList.add("active"):r.container.classList.add("active")}},{key:"markTabInactive",value:function(r){r.tab.classList.remove("active"),r.rowPane!==void 0?r.rowPane.classList.remove("active"):r.container.classList.remove("active")}},{key:"getProgressBar",value:function(){var r=document.createElement("div");r.classList.add("progress");var b=document.createElement("div");return b.classList.add("progress-bar"),b.setAttribute("role","progressbar"),b.setAttribute("aria-valuenow",0),b.setAttribute("aria-valuemin",0),b.setAttribute("aria-valuenax",100),b.innerHTML="".concat(0,"%"),r.appendChild(b),r}},{key:"updateProgressBar",value:function(r,b){if(r){var Z=r.firstChild,dt="".concat(b,"%");Z.setAttribute("aria-valuenow",b),Z.style.width=dt,Z.innerHTML=dt}}},{key:"updateProgressBarUnknown",value:function(r){if(r){var b=r.firstChild;r.classList.add("progress","progress-striped","active"),b.removeAttribute("aria-valuenow"),b.style.width="100%",b.innerHTML=""}}},{key:"getInputGroup",value:function(r,b){if(r){var Z=document.createElement("div");Z.classList.add("input-group"),Z.appendChild(r);var dt=document.createElement("div");dt.classList.add("input-group-btn"),Z.appendChild(dt);for(var wt=0;wt<b.length;wt++)dt.appendChild(b[wt]);return Z}}}])&&Sc(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ot}(iu);function Fh(ht){return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},Fh(ht)}function Ua(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(Fh(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(Fh(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),Fh(bt)==="symbol"?bt:String(bt)),q)}var bt}function Mu(){return Mu=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(ht,H,At){var q=function(Q,ot){for(;!Object.prototype.hasOwnProperty.call(Q,ot)&&(Q=Ha(Q))!==null;);return Q}(ht,H);if(q){var bt=Object.getOwnPropertyDescriptor(q,H);return bt.get?bt.get.call(arguments.length<3?ht:At):bt.value}},Mu.apply(this,arguments)}function Td(ht,H){return Td=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},Td(ht,H)}function Ha(ht){return Ha=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},Ha(ht)}G0.rules=zg(),L(3843);var fh={disable_theme_rules:!1,input_size:"normal",custom_forms:!1,object_indent:!0,object_background:"bg-light",object_text:"",table_border:!1,table_zebrastyle:!1,tooltip:"bootstrap"},Mp=function(ht){(function(r,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(b&&b.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),b&&Td(r,b)})(ot,ht);var H,At,q,bt,Q=(q=ot,bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,b=Ha(q);if(bt){var Z=Ha(this).constructor;r=Reflect.construct(b,arguments,Z)}else r=b.apply(this,arguments);return function(dt,wt){if(wt&&(Fh(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(dt)}(this,r)});function ot(r){return function(b,Z){if(!(b instanceof Z))throw new TypeError("Cannot call a class as a function")}(this,ot),Q.call(this,r,fh)}return H=ot,(At=[{key:"getSelectInput",value:function(r,b){var Z=Mu(Ha(ot.prototype),"getSelectInput",this).call(this,r);return Z.classList.add("form-control"),this.options.custom_forms===!1?(this.options.input_size==="small"&&Z.classList.add("form-control-sm"),this.options.input_size==="large"&&Z.classList.add("form-control-lg")):(Z.classList.remove("form-control"),Z.classList.add("custom-select"),this.options.input_size==="small"&&Z.classList.add("custom-select-sm"),this.options.input_size==="large"&&Z.classList.add("custom-select-lg")),Z}},{key:"getContainer",value:function(){var r=document.createElement("div");return this.options.object_indent||r.classList.add("je-noindent"),r}},{key:"setGridColumnSize",value:function(r,b,Z){r.classList.add("col-md-".concat(b)),Z&&r.classList.add("offset-md-".concat(Z))}},{key:"afterInputReady",value:function(r){if(!r.controlgroup){var b=r.name;r.id=b;var Z=r.parentNode.parentNode.getElementsByTagName("label")[0];Z&&(Z.htmlFor=b),r.controlgroup=this.closest(r,".form-group")}}},{key:"getTextareaInput",value:function(){var r=document.createElement("textarea");return r.classList.add("form-control"),this.options.input_size==="small"&&r.classList.add("form-control-sm"),this.options.input_size==="large"&&r.classList.add("form-control-lg"),r}},{key:"getRangeInput",value:function(r,b,Z){var dt=Mu(Ha(ot.prototype),"getRangeInput",this).call(this,r,b,Z);return this.options.custom_forms===!0&&(dt.classList.remove("form-control"),dt.classList.add("custom-range")),dt}},{key:"getStepperButtons",value:function(r){var b=document.createElement("div"),Z=document.createElement("div"),dt=document.createElement("div"),wt=document.createElement("button");wt.setAttribute("type","button");var te=document.createElement("button");te.setAttribute("type","button"),b.appendChild(Z),b.appendChild(r),b.appendChild(dt),Z.appendChild(wt),dt.appendChild(te),b.classList.add("input-group"),Z.classList.add("input-group-prepend"),dt.classList.add("input-group-append"),wt.classList.add("btn"),wt.classList.add("btn-secondary"),wt.classList.add("stepper-down"),te.classList.add("btn"),te.classList.add("btn-secondary"),te.classList.add("stepper-up"),r.getAttribute("readonly")&&(wt.setAttribute("disabled",!0),te.setAttribute("disabled",!0)),wt.textContent="-",te.textContent="+";var Ce=function(Qn,ur){Qn.value=Number(ur||Qn.value),Qn.setAttribute("initialized","1")},Ke=r.getAttribute("min"),Ln=r.getAttribute("max");return r.addEventListener("change",function(){r.getAttribute("initialized")||r.setAttribute("initialized","1")}),wt.addEventListener("click",function(){r.getAttribute("initialized")?Ke?Number(r.value)>Number(Ke)&&r.stepDown():r.stepDown():Ce(r,Ke),k(r,"change")}),te.addEventListener("click",function(){r.getAttribute("initialized")?Ln?Number(r.value)<Number(Ln)&&r.stepUp():r.stepUp():Ce(r,Ke),k(r,"change")}),b}},{key:"getFormInputField",value:function(r){var b=Mu(Ha(ot.prototype),"getFormInputField",this).call(this,r);return r!=="checkbox"&&r!=="radio"&&r!=="file"&&(b.classList.add("form-control"),this.options.input_size==="small"&&b.classList.add("form-control-sm"),this.options.input_size==="large"&&b.classList.add("form-control-lg")),r==="file"&&b.classList.add("form-control-file"),b}},{key:"getFormControl",value:function(r,b,Z,dt){var wt=document.createElement("div");if(wt.classList.add("form-group"),!r||b.type!=="checkbox"&&b.type!=="radio")r&&(wt.appendChild(r),dt&&wt.appendChild(dt)),wt.appendChild(b);else{var te=document.createElement("div");this.options.custom_forms===!1?(te.classList.add("form-check"),b.classList.add("form-check-input"),r.classList.add("form-check-label")):(te.classList.add("custom-control"),b.classList.add("custom-control-input"),r.classList.add("custom-control-label"),b.type==="checkbox"?te.classList.add("custom-checkbox"):te.classList.add("custom-radio"));var Ce=(Date.now()*Math.random()).toFixed(0);b.setAttribute("id",Ce),r.setAttribute("for",Ce),te.appendChild(b),te.appendChild(r),dt&&te.appendChild(dt),wt.appendChild(te)}return Z&&wt.appendChild(Z),wt}},{key:"getInfoButton",value:function(r){var b=document.createElement("button");b.type="button",b.classList.add("ml-3","jsoneditor-twbs4-text-button"),b.setAttribute("data-toggle","tooltip"),b.setAttribute("data-placement","auto"),b.title=r;var Z=document.createTextNode("ⓘ");return b.appendChild(Z),this.options.tooltip==="bootstrap"?window.jQuery&&window.jQuery().tooltip?window.jQuery(b).tooltip():console.warn("Could not find popper jQuery plugin of Bootstrap."):this.options.tooltip==="css"&&b.classList.add("je-tooltip"),b}},{key:"getCheckbox",value:function(){return this.getFormInputField("checkbox")}},{key:"getMultiCheckboxHolder",value:function(r,b,Z,dt){var wt=document.createElement("div");wt.classList.add("form-group"),b&&(wt.appendChild(b),dt&&b.appendChild(dt));var te=document.createElement("div");return Object.values(r).forEach(function(Ce){var Ke=Ce.firstChild;te.appendChild(Ke)}),wt.appendChild(te),Z&&wt.appendChild(Z),wt}},{key:"getFormRadio",value:function(r){var b=this.getFormInputField("radio");for(var Z in r)b.setAttribute(Z,r[Z]);return this.options.custom_forms===!1?b.classList.add("form-check-input"):b.classList.add("custom-control-input"),b}},{key:"getFormRadioLabel",value:function(r,b){var Z=document.createElement("label");return this.options.custom_forms===!1?Z.classList.add("form-check-label"):Z.classList.add("custom-control-label"),Z.appendChild(document.createTextNode(r)),Z}},{key:"getFormRadioControl",value:function(r,b,Z){var dt=document.createElement("div");return this.options.custom_forms===!1?dt.classList.add("form-check"):dt.classList.add("custom-control","custom-radio"),dt.appendChild(b),dt.appendChild(r),Z&&(this.options.custom_forms===!1?dt.classList.add("form-check-inline"):dt.classList.add("custom-control-inline")),dt}},{key:"getIndentedPanel",value:function(){var r=document.createElement("div");return r.classList.add("card","card-body","mb-3"),this.options.object_background&&r.classList.add(this.options.object_background),this.options.object_text&&r.classList.add(this.options.object_text),r}},{key:"getFormInputDescription",value:function(r){var b=document.createElement("small");return b.classList.add("form-text"),window.DOMPurify?b.innerHTML=window.DOMPurify.sanitize(r):b.textContent=this.cleanText(r),b}},{key:"getHeader",value:function(r,b){var Z=document.createElement("h3");return Z.classList.add("card-title"),Z.classList.add("level-"+b),typeof r=="string"?Z.textContent=r:Z.appendChild(r),Z.style.display="inline-block",Z}},{key:"getHeaderButtonHolder",value:function(){return this.getButtonHolder()}},{key:"getButtonHolder",value:function(){var r=document.createElement("span");return r.classList.add("btn-group"),r}},{key:"getFormButtonHolder",value:function(r){var b=this.getButtonHolder();return b.classList.add("d-block"),r==="center"?b.classList.add("text-center"):r==="right"&&b.classList.add("text-right"),b}},{key:"getButton",value:function(r,b,Z){var dt=Mu(Ha(ot.prototype),"getButton",this).call(this,r,b,Z);return dt.classList.add("btn","btn-secondary","btn-sm"),dt}},{key:"getTable",value:function(){var r=document.createElement("table");return r.classList.add("table","table-sm"),this.options.table_border&&r.classList.add("table-bordered"),this.options.table_zebrastyle&&r.classList.add("table-striped"),r}},{key:"getErrorMessage",value:function(r){var b=document.createElement("div");return b.classList.add("alert","alert-danger"),b.setAttribute("role","alert"),b.appendChild(document.createTextNode(r)),b}},{key:"addInputError",value:function(r,b){r.controlgroup&&(r.controlgroup.classList.add("is-invalid"),r.errmsg||(r.errmsg=document.createElement("p"),r.errmsg.classList.add("invalid-feedback"),r.controlgroup.appendChild(r.errmsg),r.errmsg.style.display="block"),r.errmsg.style.display="block",r.errmsg.textContent=b)}},{key:"removeInputError",value:function(r){r.errmsg&&(r.errmsg.style.display="none",r.controlgroup.classList.remove("is-invalid"))}},{key:"getTabHolder",value:function(r){var b=document.createElement("div"),Z=r===void 0?"":r;return b.innerHTML="<div class='col-md-2' id='".concat(Z,"'><ul class='nav flex-column nav-pills'></ul></div><div class='col-md-10'><div class='tab-content' id='").concat(Z,"'></div></div>"),b.classList.add("row"),b}},{key:"addTab",value:function(r,b){r.children[0].children[0].appendChild(b)}},{key:"getTabContentHolder",value:function(r){return r.children[1].children[0]}},{key:"getTopTabHolder",value:function(r){var b=r===void 0?"":r,Z=document.createElement("div");return Z.classList.add("card"),Z.innerHTML="<div class='card-header'><ul class='nav nav-tabs card-header-tabs' id='".concat(b,"'></ul></div><div class='card-body'><div class='tab-content' id='").concat(b,"'></div></div>"),Z}},{key:"getTab",value:function(r,b){var Z=document.createElement("li");Z.classList.add("nav-item");var dt=document.createElement("a");return dt.classList.add("nav-link"),dt.setAttribute("href","#".concat(b)),dt.setAttribute("data-toggle","tab"),dt.appendChild(r),Z.appendChild(dt),Z}},{key:"getTopTab",value:function(r,b){var Z=document.createElement("li");Z.classList.add("nav-item");var dt=document.createElement("a");return dt.classList.add("nav-link"),dt.setAttribute("href","#".concat(b)),dt.setAttribute("data-toggle","tab"),dt.appendChild(r),Z.appendChild(dt),Z}},{key:"getTabContent",value:function(){var r=document.createElement("div");return r.classList.add("tab-pane"),r.setAttribute("role","tabpanel"),r}},{key:"getTopTabContent",value:function(){var r=document.createElement("div");return r.classList.add("tab-pane"),r.setAttribute("role","tabpanel"),r}},{key:"markTabActive",value:function(r){r.tab.firstChild.classList.add("active"),r.rowPane!==void 0?r.rowPane.classList.add("active"):r.container.classList.add("active")}},{key:"markTabInactive",value:function(r){r.tab.firstChild.classList.remove("active"),r.rowPane!==void 0?r.rowPane.classList.remove("active"):r.container.classList.remove("active")}},{key:"insertBasicTopTab",value:function(r,b){b.children[0].children[0].insertBefore(r,b.children[0].children[0].firstChild)}},{key:"addTopTab",value:function(r,b){r.children[0].children[0].appendChild(b)}},{key:"getTopTabContentHolder",value:function(r){return r.children[1].children[0]}},{key:"getFirstTab",value:function(r){return r.firstChild.firstChild.firstChild}},{key:"getProgressBar",value:function(){var r=document.createElement("div");r.classList.add("progress");var b=document.createElement("div");return b.classList.add("progress-bar"),b.setAttribute("role","progressbar"),b.setAttribute("aria-valuenow",0),b.setAttribute("aria-valuemin",0),b.setAttribute("aria-valuenax",100),b.innerHTML="".concat(0,"%"),r.appendChild(b),r}},{key:"updateProgressBar",value:function(r,b){if(r){var Z=r.firstChild,dt="".concat(b,"%");Z.setAttribute("aria-valuenow",b),Z.style.width=dt,Z.innerHTML=dt}}},{key:"updateProgressBarUnknown",value:function(r){if(r){var b=r.firstChild;r.classList.add("progress","progress-striped","active"),b.removeAttribute("aria-valuenow"),b.style.width="100%",b.innerHTML=""}}},{key:"getBlockLink",value:function(){var r=document.createElement("a");return r.classList.add("mb-3","d-inline-block"),r}},{key:"getLinksHolder",value:function(){return document.createElement("div")}},{key:"getInputGroup",value:function(r,b){if(r){var Z=document.createElement("div");Z.classList.add("input-group"),Z.appendChild(r);var dt=document.createElement("div");dt.classList.add("input-group-append"),Z.appendChild(dt);for(var wt=0;wt<b.length;wt++)b[wt].classList.remove("mr-2","btn-secondary"),b[wt].classList.add("btn-outline-secondary"),dt.appendChild(b[wt]);return Z}}}])&&Ua(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ot}(iu);function su(ht){return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},su(ht)}function X0(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(su(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(su(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),su(bt)==="symbol"?bt:String(bt)),q)}var bt}function zh(){return zh=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(ht,H,At){var q=function(Q,ot){for(;!Object.prototype.hasOwnProperty.call(Q,ot)&&(Q=Kc(Q))!==null;);return Q}(ht,H);if(q){var bt=Object.getOwnPropertyDescriptor(q,H);return bt.get?bt.get.call(arguments.length<3?ht:At):bt.value}},zh.apply(this,arguments)}function Lp(ht,H){return Lp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},Lp(ht,H)}function Kc(ht){return Kc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},Kc(ht)}Mp.rules={".jsoneditor-twbs4-text-button":"background:none;padding:0;border:0;color:currentColor","td > .form-group":"margin-bottom:0",".json-editor-btn-upload":"margin-top:1rem",".je-noindent .card":"padding:0;border:0",".je-tooltip:hover::before":"display:block;position:absolute;font-size:0.8em;color:%23fff;border-radius:0.2em;content:attr(title);background-color:%23000;margin-top:-2.5em;padding:0.3em",".je-tooltip:hover::after":"display:block;position:absolute;font-size:0.8em;color:%23fff",".select2-container--default .select2-selection--single":"height:calc(1.5em%20%2B%200.75rem%20%2B%202px)",".select2-container--default   .select2-selection--single   .select2-selection__arrow":"height:calc(1.5em%20%2B%200.75rem%20%2B%202px)",".select2-container--default   .select2-selection--single   .select2-selection__rendered":"line-height:calc(1.5em%20%2B%200.75rem%20%2B%202px)",".selectize-control.form-control":"padding:0",".selectize-dropdown.form-control":"padding:0;height:auto",".je-upload-preview img":"float:left;margin:0%200.5rem%200.5rem%200;max-width:100%25;max-height:5rem",".je-dropzone":"position:relative;margin:0.5rem%200;border:2px%20dashed%20black;width:100%25;height:60px;background:teal;transition:all%200.5s",".je-dropzone:before":"position:absolute;content:attr(data-text);color:rgba(0%2C%200%2C%200%2C%200.6);left:50%25;top:50%25;transform:translate(-50%25%2C%20-50%25)",".je-dropzone.valid-dropzone":"background:green",".je-dropzone.invalid-dropzone":"background:red"};var Lu={disable_theme_rules:!1,input_size:"normal",object_indent:!0,object_background:"bg-light",object_text:"",table_border:!1,table_zebrastyle:!1,tooltip:"bootstrap"},Uh=function(ht){(function(r,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(b&&b.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),b&&Lp(r,b)})(ot,ht);var H,At,q,bt,Q=(q=ot,bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,b=Kc(q);if(bt){var Z=Kc(this).constructor;r=Reflect.construct(b,arguments,Z)}else r=b.apply(this,arguments);return function(dt,wt){if(wt&&(su(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(dt)}(this,r)});function ot(r){return function(b,Z){if(!(b instanceof Z))throw new TypeError("Cannot call a class as a function")}(this,ot),Q.call(this,r,Lu)}return H=ot,(At=[{key:"getSelectInput",value:function(r,b){var Z=zh(Kc(ot.prototype),"getSelectInput",this).call(this,r);return Z.classList.add("form-control"),Z.classList.add("form-select"),this.options.input_size==="small"&&Z.classList.add("form-control-sm"),this.options.input_size==="large"&&Z.classList.add("form-control-lg"),Z}},{key:"getContainer",value:function(){var r=document.createElement("div");return this.options.object_indent||r.classList.add("je-noindent"),r}},{key:"setGridColumnSize",value:function(r,b,Z){r.classList.add("col-md-".concat(b)),Z&&r.classList.add("offset-md-".concat(Z))}},{key:"afterInputReady",value:function(r){if(!r.controlgroup){var b=r.name;r.id=b;var Z=r.parentNode.parentNode.getElementsByTagName("label")[0];Z&&(Z.classList.add("form-label"),Z.htmlFor=b),r.controlgroup=this.closest(r,".form-group")}}},{key:"getTextareaInput",value:function(){var r=document.createElement("textarea");return r.classList.add("form-control"),this.options.input_size==="small"&&r.classList.add("form-control-sm"),this.options.input_size==="large"&&r.classList.add("form-control-lg"),r}},{key:"getRangeInput",value:function(r,b,Z){var dt=zh(Kc(ot.prototype),"getRangeInput",this).call(this,r,b,Z);return dt.classList.remove("form-control"),dt.classList.add("form-range"),dt}},{key:"getStepperButtons",value:function(r){var b=document.createElement("div"),Z=document.createElement("button");Z.setAttribute("type","button");var dt=document.createElement("button");dt.setAttribute("type","button"),b.appendChild(Z),b.appendChild(r),b.appendChild(dt),b.classList.add("input-group"),Z.classList.add("btn"),Z.classList.add("btn-secondary"),Z.classList.add("stepper-down"),dt.classList.add("btn"),dt.classList.add("btn-secondary"),dt.classList.add("stepper-up"),r.getAttribute("readonly")&&(Z.setAttribute("disabled",!0),dt.setAttribute("disabled",!0)),Z.textContent="-",dt.textContent="+";var wt=function(Ke,Ln){Ke.value=Number(Ln||Ke.value),Ke.setAttribute("initialized","1")},te=r.getAttribute("min"),Ce=r.getAttribute("max");return r.addEventListener("change",function(){r.getAttribute("initialized")||r.setAttribute("initialized","1")}),Z.addEventListener("click",function(){r.getAttribute("initialized")?te?Number(r.value)>Number(te)&&r.stepDown():r.stepDown():wt(r,te),k(r,"change")}),dt.addEventListener("click",function(){r.getAttribute("initialized")?Ce?Number(r.value)<Number(Ce)&&r.stepUp():r.stepUp():wt(r,te),k(r,"change")}),b}},{key:"getFormInputField",value:function(r){var b=zh(Kc(ot.prototype),"getFormInputField",this).call(this,r);return r!=="checkbox"&&r!=="radio"&&(b.classList.add("form-control"),this.options.input_size==="small"&&b.classList.add("form-control-sm"),this.options.input_size==="large"&&b.classList.add("form-control-lg")),b}},{key:"getFormControl",value:function(r,b,Z,dt){var wt=document.createElement("div");if(wt.classList.add("form-group"),!r||b.type!=="checkbox"&&b.type!=="radio")r&&(r.classList.add("form-label"),wt.appendChild(r),dt&&wt.appendChild(dt)),wt.appendChild(b);else{var te=document.createElement("div");te.classList.add("form-check"),b.classList.add("form-check-input"),r.classList.add("form-check-label");var Ce=(Date.now()*Math.random()).toFixed(0);b.setAttribute("id",Ce),r.setAttribute("for",Ce),te.appendChild(b),te.appendChild(r),dt&&te.appendChild(dt),wt.appendChild(te)}return Z&&wt.appendChild(Z),wt}},{key:"getInfoButton",value:function(r){var b=document.createElement("button");b.type="button",b.classList.add("ms-3","jsoneditor-twbs5-text-button"),b.setAttribute("data-toggle","tooltip"),b.setAttribute("data-placement","auto"),b.title=r;var Z=document.createTextNode("ⓘ");return b.appendChild(Z),this.options.tooltip==="bootstrap"?window.jQuery&&window.jQuery().tooltip?window.jQuery(b).tooltip():console.warn("Could not find popper jQuery plugin of Bootstrap."):this.options.tooltip==="css"&&b.classList.add("je-tooltip"),b}},{key:"getCheckbox",value:function(){return this.getFormInputField("checkbox")}},{key:"getMultiCheckboxHolder",value:function(r,b,Z,dt){var wt=document.createElement("div");wt.classList.add("form-group"),b&&(wt.appendChild(b),dt&&b.appendChild(dt));var te=document.createElement("div");return Object.values(r).forEach(function(Ce){var Ke=Ce.firstChild;te.appendChild(Ke)}),wt.appendChild(te),Z&&wt.appendChild(Z),wt}},{key:"getFormRadio",value:function(r){var b=this.getFormInputField("radio");for(var Z in r)b.setAttribute(Z,r[Z]);return b.classList.add("form-check-input"),b}},{key:"getFormRadioLabel",value:function(r,b){var Z=document.createElement("label");return Z.classList.add("form-check-label"),Z.appendChild(document.createTextNode(r)),Z}},{key:"getFormRadioControl",value:function(r,b,Z){var dt=document.createElement("div");return dt.classList.add("form-check"),dt.appendChild(b),dt.appendChild(r),Z&&dt.classList.add("form-check-inline"),dt}},{key:"getIndentedPanel",value:function(){var r=document.createElement("div");return r.classList.add("card","card-body","my-3"),this.options.object_background&&r.classList.add(this.options.object_background),this.options.object_text&&r.classList.add(this.options.object_text),r}},{key:"getFormInputDescription",value:function(r){var b=document.createElement("small");return b.classList.add("form-text"),b.classList.add("d-block"),window.DOMPurify?b.innerHTML=window.DOMPurify.sanitize(r):b.textContent=this.cleanText(r),b}},{key:"getHeader",value:function(r,b){var Z=document.createElement("h3");return Z.classList.add("card-title"),Z.classList.add("level-"+b),typeof r=="string"?Z.textContent=r:Z.appendChild(r),Z.style.display="inline-block",Z}},{key:"getHeaderButtonHolder",value:function(){return this.getButtonHolder()}},{key:"getButtonHolder",value:function(){var r=document.createElement("span");return r.classList.add("btn-group"),r}},{key:"getFormButtonHolder",value:function(r){var b=this.getButtonHolder();return b.classList.add("d-block"),r==="center"?b.classList.add("text-center"):r==="right"&&b.classList.add("text-end"),b}},{key:"getButton",value:function(r,b,Z){var dt=zh(Kc(ot.prototype),"getButton",this).call(this,r,b,Z);return dt.classList.add("btn","btn-secondary","btn-sm"),dt}},{key:"getTable",value:function(){var r=document.createElement("table");return r.classList.add("table","table-sm"),this.options.table_border&&r.classList.add("table-bordered"),this.options.table_zebrastyle&&r.classList.add("table-striped"),r}},{key:"getErrorMessage",value:function(r){var b=document.createElement("div");return b.classList.add("alert","alert-danger"),b.setAttribute("role","alert"),b.appendChild(document.createTextNode(r)),b}},{key:"addInputError",value:function(r,b){r.controlgroup&&(r.controlgroup.classList.add("is-invalid"),r.errmsg||(r.errmsg=document.createElement("p"),r.errmsg.classList.add("invalid-feedback"),r.controlgroup.appendChild(r.errmsg),r.errmsg.style.display="block"),r.errmsg.style.display="block",r.errmsg.textContent=b)}},{key:"removeInputError",value:function(r){r.errmsg&&(r.errmsg.style.display="none",r.controlgroup.classList.remove("is-invalid"))}},{key:"getTabHolder",value:function(r){var b=document.createElement("div"),Z=r===void 0?"":r;return b.innerHTML="<div class='col-md-2' id='".concat(Z,"'><ul class='nav flex-column nav-pills'></ul></div><div class='col-md-10'><div class='tab-content' id='").concat(Z,"'></div></div>"),b.classList.add("row"),b}},{key:"addTab",value:function(r,b){r.children[0].children[0].appendChild(b)}},{key:"getTabContentHolder",value:function(r){return r.children[1].children[0]}},{key:"getTopTabHolder",value:function(r){var b=r===void 0?"":r,Z=document.createElement("div");return Z.classList.add("card"),Z.innerHTML="<div class='card-header'><ul class='nav nav-tabs card-header-tabs' id='".concat(b,"'></ul></div><div class='card-body'><div class='tab-content' id='").concat(b,"'></div></div>"),Z}},{key:"getTab",value:function(r,b){var Z=document.createElement("li");Z.classList.add("nav-item");var dt=document.createElement("a");return dt.classList.add("nav-link"),dt.setAttribute("href","#".concat(b)),dt.setAttribute("data-toggle","tab"),dt.appendChild(r),Z.appendChild(dt),Z}},{key:"getTopTab",value:function(r,b){var Z=document.createElement("li");Z.classList.add("nav-item");var dt=document.createElement("a");return dt.classList.add("nav-link"),dt.setAttribute("href","#".concat(b)),dt.setAttribute("data-toggle","tab"),dt.appendChild(r),Z.appendChild(dt),Z}},{key:"getTabContent",value:function(){var r=document.createElement("div");return r.classList.add("tab-pane"),r.setAttribute("role","tabpanel"),r}},{key:"getTopTabContent",value:function(){var r=document.createElement("div");return r.classList.add("tab-pane"),r.setAttribute("role","tabpanel"),r}},{key:"markTabActive",value:function(r){r.tab.firstChild.classList.add("active"),r.rowPane!==void 0?r.rowPane.classList.add("active"):r.container.classList.add("active")}},{key:"markTabInactive",value:function(r){r.tab.firstChild.classList.remove("active"),r.rowPane!==void 0?r.rowPane.classList.remove("active"):r.container.classList.remove("active")}},{key:"insertBasicTopTab",value:function(r,b){b.children[0].children[0].insertBefore(r,b.children[0].children[0].firstChild)}},{key:"addTopTab",value:function(r,b){r.children[0].children[0].appendChild(b)}},{key:"getTopTabContentHolder",value:function(r){return r.children[1].children[0]}},{key:"getFirstTab",value:function(r){return r.firstChild.firstChild.firstChild}},{key:"getProgressBar",value:function(){var r=document.createElement("div");r.classList.add("progress");var b=document.createElement("div");return b.classList.add("progress-bar"),b.setAttribute("role","progressbar"),b.setAttribute("aria-valuenow",0),b.setAttribute("aria-valuemin",0),b.setAttribute("aria-valuenax",100),b.innerHTML="".concat(0,"%"),r.appendChild(b),r}},{key:"updateProgressBar",value:function(r,b){if(r){var Z=r.firstChild,dt="".concat(b,"%");Z.setAttribute("aria-valuenow",b),Z.style.width=dt,Z.innerHTML=dt}}},{key:"updateProgressBarUnknown",value:function(r){if(r){var b=r.firstChild;r.classList.add("progress","progress-striped","active"),b.removeAttribute("aria-valuenow"),b.style.width="100%",b.innerHTML=""}}},{key:"getBlockLink",value:function(){var r=document.createElement("a");return r.classList.add("mb-3","d-inline-block"),r}},{key:"getLinksHolder",value:function(){return document.createElement("div")}},{key:"getInputGroup",value:function(r,b){if(r){var Z=document.createElement("div");Z.classList.add("input-group"),Z.appendChild(r);for(var dt=0;dt<b.length;dt++)b[dt].classList.remove("me-2","btn-secondary"),b[dt].classList.add("btn-outline-secondary"),Z.appendChild(b[dt]);return Z}}}])&&X0(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ot}(iu);function ph(ht){return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},ph(ht)}function Ad(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(ph(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(ph(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),ph(bt)==="symbol"?bt:String(bt)),q)}var bt}function cu(){return cu=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(ht,H,At){var q=function(Q,ot){for(;!Object.prototype.hasOwnProperty.call(Q,ot)&&(Q=gs(Q))!==null;);return Q}(ht,H);if(q){var bt=Object.getOwnPropertyDescriptor(q,H);return bt.get?bt.get.call(arguments.length<3?ht:At):bt.value}},cu.apply(this,arguments)}function ic(ht,H){return ic=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},ic(ht,H)}function gs(ht){return gs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},gs(ht)}Uh.rules={".form-group":"margin-bottom:1rem",".form-text":"display:block",".jsoneditor-twbs5-text-button":"background:none;padding:0;border:0;color:currentColor","td > .form-group":"margin-bottom:0",".json-editor-btn-upload":"margin-top:1rem",".je-noindent .card":"padding:0;border:0",".je-tooltip:hover::before":"display:block;position:absolute;font-size:0.8em;color:%23fff;border-radius:0.2em;content:attr(title);background-color:%23000;margin-top:-2.5em;padding:0.3em",".je-tooltip:hover::after":"display:block;position:absolute;font-size:0.8em;color:%23fff",".select2-container--default .select2-selection--single":"height:calc(1.5em%20%2B%200.75rem%20%2B%202px)",".select2-container--default   .select2-selection--single   .select2-selection__arrow":"height:calc(1.5em%20%2B%200.75rem%20%2B%202px)",".select2-container--default   .select2-selection--single   .select2-selection__rendered":"line-height:calc(1.5em%20%2B%200.75rem%20%2B%202px)",".selectize-control.form-control":"padding:0",".selectize-dropdown.form-control":"padding:0;height:auto",".je-upload-preview img":"float:left;margin:0%200.5rem%200.5rem%200;max-width:100%25;max-height:5rem",".je-dropzone":"position:relative;margin:0.5rem%200;border:2px%20dashed%20black;width:100%25;height:60px;background:teal;transition:all%200.5s",".je-dropzone:before":"position:absolute;content:attr(data-text);color:rgba(0%2C%200%2C%200%2C%200.6);left:50%25;top:50%25;transform:translate(-50%25%2C%20-50%25)",".je-dropzone.valid-dropzone":"background:green",".je-dropzone.invalid-dropzone":"background:red"};var Ec=function(ht){(function(r,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(b&&b.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),b&&ic(r,b)})(ot,ht);var H,At,q,bt,Q=(q=ot,bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,b=gs(q);if(bt){var Z=gs(this).constructor;r=Reflect.construct(b,arguments,Z)}else r=b.apply(this,arguments);return function(dt,wt){if(wt&&(ph(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(dt)}(this,r)});function ot(){return function(r,b){if(!(r instanceof b))throw new TypeError("Cannot call a class as a function")}(this,ot),Q.apply(this,arguments)}return H=ot,(At=[{key:"getTable",value:function(){var r=cu(gs(ot.prototype),"getTable",this).call(this);return r.setAttribute("cellpadding",5),r.setAttribute("cellspacing",0),r}},{key:"getTableHeaderCell",value:function(r){var b=cu(gs(ot.prototype),"getTableHeaderCell",this).call(this,r);return b.classList.add("ui-state-active"),b.style.fontWeight="bold",b}},{key:"getTableCell",value:function(){var r=cu(gs(ot.prototype),"getTableCell",this).call(this);return r.classList.add("ui-widget-content"),r}},{key:"getHeaderButtonHolder",value:function(){var r=this.getButtonHolder();return r.style.marginLeft="10px",r.style.fontSize=".6em",r.style.display="inline-block",r}},{key:"getFormInputDescription",value:function(r){var b=this.getDescription(r);return b.style.marginLeft="10px",b.style.display="inline-block",b}},{key:"getFormControl",value:function(r,b,Z,dt){var wt=cu(gs(ot.prototype),"getFormControl",this).call(this,r,b,Z,dt);return b.type==="checkbox"?(wt.style.lineHeight="25px",wt.style.padding="3px 0"):wt.style.padding="4px 0 8px 0",wt}},{key:"getDescription",value:function(r){var b=document.createElement("span");return b.style.fontSize=".8em",b.style.fontStyle="italic",window.DOMPurify?b.innerHTML=window.DOMPurify.sanitize(r):b.textContent=this.cleanText(r),b}},{key:"getButtonHolder",value:function(){var r=document.createElement("div");return r.classList.add("ui-buttonset"),r.style.fontSize=".7em",r}},{key:"getFormInputLabel",value:function(r,b){var Z=document.createElement("label");return Z.style.fontWeight="bold",Z.style.display="block",Z.textContent=r,b&&Z.classList.add("required"),Z}},{key:"getButton",value:function(r,b,Z){var dt=document.createElement("button");dt.classList.add("ui-button","ui-widget","ui-state-default","ui-corner-all"),b&&!r?(dt.classList.add("ui-button-icon-only"),b.classList.add("ui-button-icon-primary","ui-icon-primary"),dt.appendChild(b)):b?(dt.classList.add("ui-button-text-icon-primary"),b.classList.add("ui-button-icon-primary","ui-icon-primary"),dt.appendChild(b)):dt.classList.add("ui-button-text-only");var wt=document.createElement("span");return wt.classList.add("ui-button-text"),wt.textContent=r||Z||".",dt.appendChild(wt),dt.setAttribute("title",Z),dt}},{key:"setButtonText",value:function(r,b,Z,dt){r.innerHTML="",r.classList.add("ui-button","ui-widget","ui-state-default","ui-corner-all"),Z&&!b?(r.classList.add("ui-button-icon-only"),Z.classList.add("ui-button-icon-primary","ui-icon-primary"),r.appendChild(Z)):Z?(r.classList.add("ui-button-text-icon-primary"),Z.classList.add("ui-button-icon-primary","ui-icon-primary"),r.appendChild(Z)):r.classList.add("ui-button-text-only");var wt=document.createElement("span");wt.classList.add("ui-button-text"),wt.textContent=b||dt||".",r.appendChild(wt),r.setAttribute("title",dt)}},{key:"getIndentedPanel",value:function(){var r=document.createElement("div");return r.classList.add("ui-widget-content","ui-corner-all"),r.style.padding="1em 1.4em",r.style.marginBottom="20px",r}},{key:"afterInputReady",value:function(r){if(!r.controls&&(r.controls=this.closest(r,".form-control"),this.queuedInputErrorText)){var b=this.queuedInputErrorText;delete this.queuedInputErrorText,this.addInputError(r,b)}}},{key:"addInputError",value:function(r,b){r.controls?(r.errmsg?r.errmsg.style.display="":(r.errmsg=document.createElement("div"),r.errmsg.classList.add("ui-state-error"),r.controls.appendChild(r.errmsg)),r.errmsg.textContent=b):this.queuedInputErrorText=b}},{key:"removeInputError",value:function(r){r.controls||delete this.queuedInputErrorText,r.errmsg&&(r.errmsg.style.display="none")}},{key:"markTabActive",value:function(r){r.tab.classList.remove("ui-widget-header"),r.tab.classList.add("ui-state-active"),r.rowPane!==void 0?r.rowPane.style.display="":r.container.style.display=""}},{key:"markTabInactive",value:function(r){r.tab.classList.add("ui-widget-header"),r.tab.classList.remove("ui-state-active"),r.rowPane!==void 0?r.rowPane.style.display="none":r.container.style.display="none"}}])&&Ad(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ot}(iu);function Sa(ht){return Sa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},Sa(ht)}function Po(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(Sa(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(Sa(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),Sa(bt)==="symbol"?bt:String(bt)),q)}var bt}function Ea(ht,H){return Ea=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},Ea(ht,H)}function Bu(ht){return Bu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},Bu(ht)}Ec.rules={'div[data-schemaid="root"]:after':'position:relative;color:red;margin:10px 0;font-weight:600;display:block;width:100%;text-align:center;content:"This is an old JSON-Editor 1.x Theme and might not display elements correctly when used with the 2.x version"'};var Nl=function(ht){(function(r,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(b&&b.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),b&&Ea(r,b)})(ot,ht);var H,At,q,bt,Q=(q=ot,bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,b=Bu(q);if(bt){var Z=Bu(this).constructor;r=Reflect.construct(b,arguments,Z)}else r=b.apply(this,arguments);return function(dt,wt){if(wt&&(Sa(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(dt)}(this,r)});function ot(){return function(r,b){if(!(r instanceof b))throw new TypeError("Cannot call a class as a function")}(this,ot),Q.apply(this,arguments)}return H=ot,(At=[{key:"addInputError",value:function(r,b){if(r.errmsg)r.errmsg.style.display="block";else{var Z=this.closest(r,".form-control");r.errmsg=document.createElement("div"),r.errmsg.setAttribute("class","errmsg"),Z.nodeName&&Z.appendChild(r.errmsg)}r.errmsg.innerHTML="",r.errmsg.appendChild(document.createTextNode(b))}},{key:"removeInputError",value:function(r){r.style&&(r.style.borderColor=""),r.errmsg&&(r.errmsg.style.display="none")}}])&&Po(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ot}(iu);function as(ht){return as=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},as(ht)}function Hh(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(as(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(as(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),as(bt)==="symbol"?bt:String(bt)),q)}var bt}function Ls(){return Ls=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(ht,H,At){var q=function(Q,ot){for(;!Object.prototype.hasOwnProperty.call(Q,ot)&&(Q=wo(Q))!==null;);return Q}(ht,H);if(q){var bt=Object.getOwnPropertyDescriptor(q,H);return bt.get?bt.get.call(arguments.length<3?ht:At):bt.value}},Ls.apply(this,arguments)}function ms(ht,H){return ms=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},ms(ht,H)}function wo(ht){return wo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},wo(ht)}Nl.rules={".je-upload-preview img":"float:left;margin:0%200.5rem%200.5rem%200;max-width:100%25;max-height:5rem",".je-dropzone":"position:relative;margin:0.5rem%200;border:2px%20dashed%20black;width:100%25;height:60px;background:teal;transition:all%200.5s",".je-dropzone:before":"position:absolute;content:attr(data-text);color:rgba(0%2C%200%2C%200%2C%200.6);left:50%25;top:50%25;transform:translate(-50%25%2C%20-50%25)",".je-dropzone.valid-dropzone":"background:green",".je-dropzone.invalid-dropzone":"background:red"};var xf={disable_theme_rules:!1,label_bold:!0,align_bottom:!1,object_indent:!1,object_border:!1,table_border:!1,table_zebrastyle:!1,input_size:"normal"},Ka=function(ht){(function(r,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(b&&b.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),b&&ms(r,b)})(ot,ht);var H,At,q,bt,Q=(q=ot,bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,b=wo(q);if(bt){var Z=wo(this).constructor;r=Reflect.construct(b,arguments,Z)}else r=b.apply(this,arguments);return function(dt,wt){if(wt&&(as(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(dt)}(this,r)});function ot(r){return function(b,Z){if(!(b instanceof Z))throw new TypeError("Cannot call a class as a function")}(this,ot),Q.call(this,r,xf)}return H=ot,(At=[{key:"setGridColumnSize",value:function(r,b,Z){r.classList.add("col-".concat(b)),Z&&r.classList.add("col-mx-auto")}},{key:"getGridContainer",value:function(){var r=document.createElement("div");return r.classList.add("container"),this.options.object_indent||r.classList.add("je-noindent"),r}},{key:"getGridRow",value:function(){var r=document.createElement("div");return r.classList.add("columns"),r}},{key:"getGridColumn",value:function(){var r=document.createElement("div");return r.classList.add("column"),this.options.align_bottom&&r.classList.add("je-align-bottom"),r}},{key:"getIndentedPanel",value:function(){var r=document.createElement("div");return r.classList.add("je-panel"),this.options.object_border&&r.classList.add("je-border"),r}},{key:"getTopIndentedPanel",value:function(){var r=document.createElement("div");return r.classList.add("je-panel-top"),this.options.object_border&&r.classList.add("je-border"),r}},{key:"getHeaderButtonHolder",value:function(){return this.getButtonHolder()}},{key:"getButtonHolder",value:function(){var r=Ls(wo(ot.prototype),"getButtonHolder",this).call(this);return r.classList.add("btn-group"),r}},{key:"getFormButtonHolder",value:function(r){var b=Ls(wo(ot.prototype),"getFormButtonHolder",this).call(this);return b.classList.remove("btn-group"),b.classList.add("d-block"),r==="center"?b.classList.add("text-center"):r==="right"?b.classList.add("text-right"):b.classList.add("text-left"),b}},{key:"getFormButton",value:function(r,b,Z){var dt=Ls(wo(ot.prototype),"getFormButton",this).call(this,r,b,Z);return dt.classList.add("btn","btn-primary","mx-2","my-1"),this.options.input_size!=="small"&&dt.classList.remove("btn-sm"),this.options.input_size==="large"&&dt.classList.add("btn-lg"),dt}},{key:"getButton",value:function(r,b,Z){var dt=Ls(wo(ot.prototype),"getButton",this).call(this,r,b,Z);return dt.classList.add("btn","btn-sm","btn-primary","mr-2","my-1"),dt}},{key:"getHeader",value:function(r,b){var Z=document.createElement("h4");return typeof r=="string"?Z.textContent=r:Z.appendChild(r),Z.style.display="inline-block",Z}},{key:"getFormInputDescription",value:function(r){var b=Ls(wo(ot.prototype),"getFormInputDescription",this).call(this,r);return b.classList.add("je-desc","hide-sm"),b}},{key:"getFormInputLabel",value:function(r,b){var Z=Ls(wo(ot.prototype),"getFormInputLabel",this).call(this,r,b);return this.options.label_bold&&Z.classList.add("je-label"),Z}},{key:"getCheckbox",value:function(){return this.getFormInputField("checkbox")}},{key:"getCheckboxLabel",value:function(r,b){var Z=Ls(wo(ot.prototype),"getCheckboxLabel",this).call(this,r,b),dt=document.createElement("i");return dt.classList.add("form-icon"),Z.classList.add("form-checkbox","pr-0"),Z.insertBefore(dt,Z.firstChild),Z}},{key:"getFormCheckboxControl",value:function(r,b,Z){return r.insertBefore(b,r.firstChild),Z&&r.classList.add("form-inline"),r}},{key:"getMultiCheckboxHolder",value:function(r,b,Z,dt){return Ls(wo(ot.prototype),"getMultiCheckboxHolder",this).call(this,r,b,Z,dt)}},{key:"getFormRadio",value:function(r){var b=this.getFormInputField("radio");for(var Z in r)b.setAttribute(Z,r[Z]);return b}},{key:"getFormRadioLabel",value:function(r,b){var Z=Ls(wo(ot.prototype),"getFormRadioLabel",this).call(this,r,b),dt=document.createElement("i");return dt.classList.add("form-icon"),Z.classList.add("form-radio"),Z.insertBefore(dt,Z.firstChild),Z}},{key:"getFormRadioControl",value:function(r,b,Z){return r.insertBefore(b,r.firstChild),Z&&r.classList.add("form-inline"),r}},{key:"getFormInputField",value:function(r){var b=Ls(wo(ot.prototype),"getFormInputField",this).call(this,r);return["checkbox","radio"].includes(r)||b.classList.add("form-input"),b}},{key:"getRangeInput",value:function(r,b,Z){var dt=this.getFormInputField("range");return dt.classList.add("slider"),dt.classList.remove("form-input"),dt.setAttribute("oninput",'this.setAttribute("value", this.value)'),dt.setAttribute("min",r),dt.setAttribute("max",b),dt.setAttribute("step",Z),dt}},{key:"getRangeControl",value:function(r,b){var Z=Ls(wo(ot.prototype),"getRangeControl",this).call(this,r,b);return Z.classList.add("text-center"),Z}},{key:"getSelectInput",value:function(r,b){var Z=Ls(wo(ot.prototype),"getSelectInput",this).call(this,r);return Z.classList.add("form-select"),Z}},{key:"getTextareaInput",value:function(){var r=document.createElement("textarea");return r.classList.add("form-input"),r}},{key:"getFormControl",value:function(r,b,Z,dt){var wt=document.createElement("div");return wt.classList.add("form-group"),!r||b.type!=="checkbox"&&b.type!=="radio"?(r&&(r.classList.add("form-label"),wt.appendChild(r),dt&&r.appendChild(dt)),wt.appendChild(b)):(wt.classList.add(b.type),dt&&r.appendChild(dt),r.insertBefore(b,r.firstChild),wt.appendChild(r)),this.options.input_size==="small"?b.classList.add("input-sm","select-sm"):this.options.input_size==="large"&&b.classList.add("input-lg","select-lg"),b.type!=="checkbox"&&wt.appendChild(b),Z&&wt.appendChild(Z),wt}},{key:"getInputGroup",value:function(r,b){if(r){var Z=document.createElement("div");Z.classList.add("input-group"),Z.appendChild(r);for(var dt=0;dt<b.length;dt++)b[dt].classList.add("input-group-btn"),b[dt].classList.remove("btn-sm","mr-2","my-1"),Z.appendChild(b[dt]);return Z}}},{key:"getInfoButton",value:function(r){var b=document.createElement("div");b.classList.add("popover","popover-left","float-right");var Z=document.createElement("button");Z.classList.add("btn","btn-secondary","btn-info","btn-action","s-circle"),Z.setAttribute("tabindex","-1"),b.appendChild(Z);var dt=document.createTextNode("I");Z.appendChild(dt);var wt=document.createElement("div");wt.classList.add("popover-container"),b.appendChild(wt);var te=document.createElement("div");te.classList.add("card"),wt.appendChild(te);var Ce=document.createElement("div");return Ce.classList.add("card-body"),Ce.innerHTML=r,te.appendChild(Ce),b}},{key:"getTable",value:function(){var r=Ls(wo(ot.prototype),"getTable",this).call(this);return r.classList.add("table","table-scroll"),this.options.table_border&&r.classList.add("je-table-border"),this.options.table_zebrastyle&&r.classList.add("table-striped"),r}},{key:"getProgressBar",value:function(){var r=Ls(wo(ot.prototype),"getProgressBar",this).call(this);return r.classList.add("progress"),r}},{key:"getTabHolder",value:function(r){var b=r===void 0?"":r,Z=document.createElement("div");return Z.classList.add("columns"),Z.innerHTML='<div class="column col-2"></div><div class="column col-10 content" id="'.concat(b,'"></div>'),Z}},{key:"getTopTabHolder",value:function(r){var b=r===void 0?"":r,Z=document.createElement("div");return Z.innerHTML='<ul class="tab"></ul><div class="content" id="'.concat(b,'"></div>'),Z}},{key:"getTab",value:function(r,b){var Z=document.createElement("a");return Z.classList.add("btn","btn-secondary","btn-block"),Z.setAttribute("href","#".concat(b)),Z.appendChild(r),Z}},{key:"getTopTab",value:function(r,b){var Z=document.createElement("li");Z.id=b,Z.classList.add("tab-item");var dt=document.createElement("a");return dt.setAttribute("href","#".concat(b)),dt.appendChild(r),Z.appendChild(dt),Z}},{key:"markTabActive",value:function(r){r.tab.classList.add("active"),r.rowPane!==void 0?r.rowPane.style.display="":r.container.style.display=""}},{key:"markTabInactive",value:function(r){r.tab.classList.remove("active"),r.rowPane!==void 0?r.rowPane.style.display="none":r.container.style.display="none"}},{key:"afterInputReady",value:function(r){if(r.localName==="select"){if(r.classList.contains("selectized")){var b=r.nextSibling;b&&(b.classList.remove("form-select"),Array.from(b.querySelectorAll(".form-select")).forEach(function(dt){dt.classList.remove("form-select")}))}else if(r.classList.contains("select2-hidden-accessible")){var Z=r.nextSibling;Z&&Z.querySelector(".select2-selection--single")&&Z.classList.add("form-select")}}r.controlgroup||(r.controlgroup=this.closest(r,".form-group"),this.closest(r,".compact")&&(r.controlgroup.style.marginBottom=0))}},{key:"addInputError",value:function(r,b){r.controlgroup&&(r.controlgroup.classList.add("has-error"),r.errmsg||(r.errmsg=document.createElement("p"),r.errmsg.classList.add("form-input-hint"),r.controlgroup.appendChild(r.errmsg)),r.errmsg.classList.remove("d-hide"),r.errmsg.textContent=b)}},{key:"removeInputError",value:function(r){r.errmsg&&(r.errmsg.classList.add("d-hide"),r.controlgroup.classList.remove("has-error"))}}])&&Hh(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ot}(iu);function Pl(ht){return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},Pl(ht)}function ju(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(Pl(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(Pl(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),Pl(bt)==="symbol"?bt:String(bt)),q)}var bt}function Co(){return Co=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(ht,H,At){var q=function(Q,ot){for(;!Object.prototype.hasOwnProperty.call(Q,ot)&&(Q=sa(Q))!==null;);return Q}(ht,H);if(q){var bt=Object.getOwnPropertyDescriptor(q,H);return bt.get?bt.get.call(arguments.length<3?ht:At):bt.value}},Co.apply(this,arguments)}function lu(ht,H){return lu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,q){return At.__proto__=q,At},lu(ht,H)}function sa(ht){return sa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},sa(ht)}Ka.rules={"*":"--primary-color:%235755d9;--gray-color:%23bcc3ce;--light-color:%23fff",".slider:focus":"box-shadow:none","h4 > label + .btn-group":"margin-left:1rem",".text-right > button":"margin-right:0%20!important",".text-left > button":"margin-left:0%20!important",".property-selector":"font-size:0.7rem;font-weight:normal;max-height:260px%20!important;width:395px%20!important",".property-selector .form-checkbox":"margin:0",textarea:"width:100%25;min-height:2rem;resize:vertical",table:"border-collapse:collapse",".table td":"padding:0.4rem%200.4rem",".mr-5":"margin-right:1rem%20!important","div[data-schematype]:not([data-schematype='object'])":"transition:0.5s","div[data-schematype]:not([data-schematype='object']):hover":"background-color:%23eee",".je-table-border td":"border:0.05rem%20solid%20%23dadee4%20!important",".btn-info":"font-size:0.5rem;font-weight:bold;height:0.8rem;padding:0.15rem%200;line-height:0.8;margin:0.3rem%200%200.3rem%200.1rem",".je-label + select":"min-width:5rem",".je-label":"font-weight:600",".btn-action.btn-info":"width:0.8rem",".je-border":"border:0.05rem%20solid%20%23dadee4",".je-panel":"padding:0.2rem;margin:0.2rem;background-color:rgba(218%2C%20222%2C%20228%2C%200.1)",".je-panel-top":"padding:0.2rem;margin:0.2rem;background-color:rgba(218%2C%20222%2C%20228%2C%200.1)",".required:after":"content:%22%20*%22;color:red;font:inherit",".je-align-bottom":"margin-top:auto",".je-desc":"font-size:smaller;margin:0.2rem%200",".je-upload-preview img":"float:left;margin:0%200.5rem%200.5rem%200;max-width:100%25;max-height:5rem;border:3px%20solid%20white;box-shadow:0px%200px%208px%20rgba(0%2C%200%2C%200%2C%200.3);box-sizing:border-box",".je-dropzone":"position:relative;margin:0.5rem%200;border:2px%20dashed%20black;width:100%25;height:60px;background:teal;transition:all%200.5s",".je-dropzone:before":"position:absolute;content:attr(data-text);color:rgba(0%2C%200%2C%200%2C%200.6);left:50%25;top:50%25;transform:translate(-50%25%2C%20-50%25)",".je-dropzone.valid-dropzone":"background:green",".je-dropzone.invalid-dropzone":"background:red",".columns .container.je-noindent":"padding-left:0;padding-right:0",".selectize-control.multi .item":"background:var(--primary-color)%20!important",".select2-container--default   .select2-selection--single   .select2-selection__arrow":"display:none",".select2-container--default .select2-selection--single":"border:none",".select2-container .select2-selection--single .select2-selection__rendered":"padding:0",".select2-container .select2-search--inline .select2-search__field":"margin-top:0",".select2-container--default.select2-container--focus   .select2-selection--multiple":"border:0.05rem%20solid%20var(--gray-color)",".select2-container--default   .select2-selection--multiple   .select2-selection__choice":"margin:0.4rem%200.2rem%200.2rem%200;padding:2px%205px;background-color:var(--primary-color);color:var(--light-color)",".select2-container--default .select2-search--inline .select2-search__field":"line-height:normal",".choices":"margin-bottom:auto",".choices__list--multiple .choices__item":"border:none;background-color:var(--primary-color);color:var(--light-color)",".choices[data-type*='select-multiple'] .choices__button":"border-left:0.05rem%20solid%20%232826a6",".choices__inner":"font-size:inherit;min-height:20px;padding:4px%207.5px%204px%203.75px",".choices[data-type*='select-one'] .choices__inner":"padding-bottom:4px",".choices__list--dropdown .choices__item":"font-size:inherit"};var Rl={disable_theme_rules:!1,label_bold:!1,object_panel_default:!0,object_indent:!0,object_border:!1,table_border:!1,table_hdiv:!1,table_zebrastyle:!1,input_size:"small",enable_compact:!1},wf=function(ht){(function(r,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(b&&b.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),b&&lu(r,b)})(ot,ht);var H,At,q,bt,Q=(q=ot,bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,b=sa(q);if(bt){var Z=sa(this).constructor;r=Reflect.construct(b,arguments,Z)}else r=b.apply(this,arguments);return function(dt,wt){if(wt&&(Pl(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(dt)}(this,r)});function ot(r){return function(b,Z){if(!(b instanceof Z))throw new TypeError("Cannot call a class as a function")}(this,ot),Q.call(this,r,Rl)}return H=ot,(At=[{key:"getGridContainer",value:function(){var r=document.createElement("div");return r.classList.add("flex","flex-col","w-full"),this.options.object_indent||r.classList.add("je-noindent"),r}},{key:"getGridRow",value:function(){var r=document.createElement("div");return r.classList.add("flex","flex-wrap","w-full"),r}},{key:"getGridColumn",value:function(){var r=document.createElement("div");return r.classList.add("flex","flex-col"),r}},{key:"setGridColumnSize",value:function(r,b,Z){b>0&&b<12?r.classList.add("w-".concat(b,"/12"),"px-1"):r.classList.add("w-full","px-1"),Z&&(r.style.marginLeft="".concat(100/12*Z,"%"))}},{key:"getIndentedPanel",value:function(){var r=document.createElement("div");return this.options.object_panel_default?r.classList.add("w-full","p-1"):r.classList.add("relative","flex","flex-col","rounded","break-words","border","bg-white","border-0","border-blue-400","p-1","shadow-md"),this.options.object_border&&r.classList.add("je-border"),r}},{key:"getTopIndentedPanel",value:function(){var r=document.createElement("div");return this.options.object_panel_default?r.classList.add("w-full","m-2"):r.classList.add("relative","flex","flex-col","rounded","break-words","border","bg-white","border-0","border-blue-400","p-1","shadow-md"),this.options.object_border&&r.classList.add("je-border"),r}},{key:"getTitle",value:function(){return this.translateProperty(this.schema.title)}},{key:"getSelectInput",value:function(r,b){var Z=Co(sa(ot.prototype),"getSelectInput",this).call(this,r);return b?Z.classList.add("form-multiselect","block","py-0","h-auto","w-full","px-1","text-sm","text-black","leading-normal","bg-white","border","border-grey","rounded"):Z.classList.add("form-select","block","py-0","h-6","w-full","px-1","text-sm","text-black","leading-normal","bg-white","border","border-grey","rounded"),this.options.enable_compact&&Z.classList.add("compact"),Z}},{key:"afterInputReady",value:function(r){r.controlgroup||(r.controlgroup=this.closest(r,".form-group"),this.closest(r,".compact")&&(r.controlgroup.style.marginBottom=0))}},{key:"getTextareaInput",value:function(){var r=Co(sa(ot.prototype),"getTextareaInput",this).call(this);return r.classList.add("block","w-full","px-1","text-sm","leading-normal","bg-white","text-black","border","border-grey","rounded"),this.options.enable_compact&&r.classList.add("compact"),r.style.height=0,r}},{key:"getRangeInput",value:function(r,b,Z){var dt=this.getFormInputField("range");return dt.classList.add("slider"),this.options.enable_compact&&dt.classList.add("compact"),dt.setAttribute("oninput",'this.setAttribute("value", this.value)'),dt.setAttribute("min",r),dt.setAttribute("max",b),dt.setAttribute("step",Z),dt}},{key:"getRangeControl",value:function(r,b){var Z=Co(sa(ot.prototype),"getRangeControl",this).call(this,r,b);return Z.classList.add("text-center","text-black"),Z}},{key:"getCheckbox",value:function(){var r=this.getFormInputField("checkbox");return r.classList.add("form-checkbox","text-red-600"),r}},{key:"getCheckboxLabel",value:function(r,b){var Z=Co(sa(ot.prototype),"getCheckboxLabel",this).call(this,r,b);return Z.classList.add("inline-flex","items-center"),Z}},{key:"getFormCheckboxControl",value:function(r,b,Z){return r.insertBefore(b,r.firstChild),Z&&r.classList.add("inline-flex flex-row"),r}},{key:"getMultiCheckboxHolder",value:function(r,b,Z,dt){var wt=Co(sa(ot.prototype),"getMultiCheckboxHolder",this).call(this,r,b,Z,dt);return wt.classList.add("inline-flex","flex-col"),wt}},{key:"getFormRadio",value:function(r){var b=this.getFormInputField("radio");for(var Z in b.classList.add("form-radio","text-red-600"),r)b.setAttribute(Z,r[Z]);return b}},{key:"getFormRadioLabel",value:function(r,b){var Z=Co(sa(ot.prototype),"getFormRadioLabel",this).call(this,r,b);return Z.classList.add("inline-flex","items-center","mr-2"),Z}},{key:"getFormRadioControl",value:function(r,b,Z){return r.insertBefore(b,r.firstChild),Z&&r.classList.add("form-radio"),r}},{key:"getRadioHolder",value:function(r,b,Z,dt,wt){var te=Co(sa(ot.prototype),"getRadioHolder",this).call(this,b,Z,dt,wt);return r.options.layout==="h"?te.classList.add("inline-flex","flex-row"):te.classList.add("inline-flex","flex-col"),te}},{key:"getFormInputLabel",value:function(r,b){var Z=Co(sa(ot.prototype),"getFormInputLabel",this).call(this,r,b);return this.options.label_bold?Z.classList.add("font-bold"):Z.classList.add("required"),Z}},{key:"getFormInputField",value:function(r){var b=Co(sa(ot.prototype),"getFormInputField",this).call(this,r);return["checkbox","radio"].includes(r)||b.classList.add("block","w-full","px-1","text-black","text-sm","leading-normal","bg-white","border","border-grey","rounded"),this.options.enable_compact&&b.classList.add("compact"),b}},{key:"getFormInputDescription",value:function(r){var b=document.createElement("p");return b.classList.add("block","mt-1","text-xs"),window.DOMPurify?b.innerHTML=window.DOMPurify.sanitize(r):b.textContent=this.cleanText(r),b}},{key:"getFormControl",value:function(r,b,Z,dt){var wt=document.createElement("div");return wt.classList.add("form-group","mb-1","w-full"),r&&(r.classList.add("text-xs"),b.type==="checkbox"&&(b.classList.add("form-checkbox","text-xs","text-red-600","mr-1"),r.classList.add("items-center","flex"),r=this.getFormCheckboxControl(r,b,!1,dt)),b.type==="radio"&&(b.classList.add("form-radio","text-red-600","mr-1"),r.classList.add("items-center","flex"),r=this.getFormRadioControl(r,b,!1,dt)),wt.appendChild(r),!["checkbox","radio"].includes(b.type)&&dt&&wt.appendChild(dt)),["checkbox","radio"].includes(b.type)||(this.options.input_size==="small"?b.classList.add("text-xs"):this.options.input_size==="normal"?b.classList.add("text-base"):this.options.input_size==="large"&&b.classList.add("text-xl"),wt.appendChild(b)),Z&&wt.appendChild(Z),wt}},{key:"getHeaderButtonHolder",value:function(){var r=this.getButtonHolder();return r.classList.add("text-sm"),r}},{key:"getButtonHolder",value:function(){var r=document.createElement("div");return r.classList.add("flex","relative","inline-flex","align-middle"),r}},{key:"getButton",value:function(r,b,Z){var dt=Co(sa(ot.prototype),"getButton",this).call(this,r,b,Z);return dt.classList.add("inline-block","align-middle","text-center","text-sm","bg-blue-700","text-white","py-1","pr-1","m-2","shadow","select-none","whitespace-no-wrap","rounded"),dt}},{key:"getInfoButton",value:function(r){var b=document.createElement("a");b.classList.add("tooltips","float-right"),b.innerHTML="ⓘ";var Z=document.createElement("span");return Z.innerHTML=r,b.appendChild(Z),b}},{key:"getTable",value:function(){var r=Co(sa(ot.prototype),"getTable",this).call(this);return this.options.table_border?r.classList.add("je-table-border"):r.classList.add("table","border","p-0"),r}},{key:"getTableRow",value:function(){var r=Co(sa(ot.prototype),"getTableRow",this).call(this);return this.options.table_border&&r.classList.add("je-table-border"),this.options.table_zebrastyle&&r.classList.add("je-table-zebra"),r}},{key:"getTableHeaderCell",value:function(r){var b=Co(sa(ot.prototype),"getTableHeaderCell",this).call(this,r);return this.options.table_border?b.classList.add("je-table-border"):this.options.table_hdiv?b.classList.add("je-table-hdiv"):b.classList.add("text-xs","border","p-0","m-0"),b}},{key:"getTableCell",value:function(){var r=Co(sa(ot.prototype),"getTableCell",this).call(this);return this.options.table_border?r.classList.add("je-table-border"):this.options.table_hdiv?r.classList.add("je-table-hdiv"):r.classList.add("border-0","p-0","m-0"),r}},{key:"addInputError",value:function(r,b){r.controlgroup&&(r.controlgroup.classList.add("has-error"),r.controlgroup.classList.add("text-red-600"),r.errmsg?r.errmsg.style.display="":(r.errmsg=document.createElement("p"),r.errmsg.classList.add("block","mt-1","text-xs","text-red"),r.controlgroup.appendChild(r.errmsg)),r.errmsg.textContent=b)}},{key:"removeInputError",value:function(r){r.errmsg&&(r.errmsg.style.display="none",r.controlgroup.classList.remove("text-red-600"),r.controlgroup.classList.remove("has-error"))}},{key:"getTabHolder",value:function(r){var b=document.createElement("div"),Z=r===void 0?"":r;return b.innerHTML="<div class='w-2/12' id='".concat(Z,"'><ul class='list-reset pl-0 mb-0'></ul></div><div class='w-10/12' id='").concat(Z,"'></div>"),b.classList.add("flex"),b}},{key:"addTab",value:function(r,b){r.children[0].children[0].appendChild(b)}},{key:"getTopTabHolder",value:function(r){var b=r===void 0?"":r,Z=document.createElement("div");return Z.innerHTML="<ul class='nav-tabs flex list-reset pl-0 mb-0 border-b border-grey-light' id='".concat(b,"'></ul><div class='p-6 block' id='").concat(b,"'></div>"),Z}},{key:"getTab",value:function(r,b){var Z=document.createElement("li");Z.classList.add("nav-item","flex-col","text-center","text-white","bg-blue-500","shadow-md","border","p-2","mb-2","mr-2","hover:bg-blue-400","rounded");var dt=document.createElement("a");return dt.classList.add("nav-link","text-center"),dt.setAttribute("href","#".concat(b)),dt.setAttribute("data-toggle","tab"),dt.appendChild(r),Z.appendChild(dt),Z}},{key:"getTopTab",value:function(r,b){var Z=document.createElement("li");Z.classList.add("nav-item","flex","border-l","border-t","border-r");var dt=document.createElement("a");return dt.classList.add("nav-link","-mb-px","flex-row","text-center","bg-white","p-2","hover:bg-blue-400","rounded-t"),dt.setAttribute("href","#".concat(b)),dt.setAttribute("data-toggle","tab"),dt.appendChild(r),Z.appendChild(dt),Z}},{key:"getTabContent",value:function(){var r=document.createElement("div");return r.setAttribute("role","tabpanel"),r}},{key:"getTopTabContent",value:function(){var r=document.createElement("div");return r.setAttribute("role","tabpanel"),r}},{key:"markTabActive",value:function(r){r.tab.firstChild.classList.add("block"),r.tab.firstChild.classList.contains("border-b")===!0?(r.tab.firstChild.classList.add("border-b-0"),r.tab.firstChild.classList.remove("border-b")):r.tab.firstChild.classList.add("border-b-0"),r.container.classList.contains("hidden")===!0&&r.container.classList.remove("hidden"),r.container.classList.add("block")}},{key:"markTabInactive",value:function(r){r.tab.firstChild.classList.contains("border-b-0")===!0?(r.tab.firstChild.classList.add("border-b"),r.tab.firstChild.classList.remove("border-b-0")):r.tab.firstChild.classList.add("border-b"),r.container.classList.contains("block")===!0&&(r.container.classList.remove("block"),r.container.classList.add("hidden"))}},{key:"getProgressBar",value:function(){var r=document.createElement("div");r.classList.add("progress");var b=document.createElement("div");return b.classList.add("bg-blue","leading-none","py-1","text-xs","text-center","text-white"),b.setAttribute("role","progressbar"),b.setAttribute("aria-valuenow",0),b.setAttribute("aria-valuemin",0),b.setAttribute("aria-valuenax",100),b.innerHTML="".concat(0,"%"),r.appendChild(b),r}},{key:"updateProgressBar",value:function(r,b){if(r){var Z=r.firstChild,dt="".concat(b,"%");Z.setAttribute("aria-valuenow",b),Z.style.width=dt,Z.innerHTML=dt}}},{key:"updateProgressBarUnknown",value:function(r){if(r){var b=r.firstChild;r.classList.add("progress","bg-blue","leading-none","py-1","text-xs","text-center","text-white","block"),b.removeAttribute("aria-valuenow"),b.classList.add("w-full"),b.innerHTML=""}}},{key:"getInputGroup",value:function(r,b){if(r){var Z=document.createElement("div");Z.classList.add("relative","items-stretch","w-full"),Z.appendChild(r);var dt=document.createElement("div");dt.classList.add("-mr-1"),Z.appendChild(dt);for(var wt=0;wt<b.length;wt++)dt.appendChild(b[wt]);return Z}}}])&&ju(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ot}(iu);wf.rules={".slider":"-webkit-appearance:none;-moz-appearance:none;appearance:none;background:transparent;display:block;border:none;height:1.2rem;width:100%25",".slider:focus":"box-shadow:0%200%200%200%20rgba(87%2C%2085%2C%20217%2C%200.2);outline:none",".slider.tooltip:not([data-tooltip])::after":"content:attr(value)",".slider::-webkit-slider-thumb":"-webkit-appearance:none;background:%23f17405;border-radius:100%25;height:0.6rem;margin-top:-0.25rem;transition:transform%200.2s;width:0.6rem",".slider:active::-webkit-slider-thumb":"transform:scale(1.25);outline:none",".slider::-webkit-slider-runnable-track":"background:%23b2b4b6;border-radius:0.1rem;height:0.1rem;width:100%25","a.tooltips":"position:relative;display:inline","a.tooltips span":"position:absolute;white-space:nowrap;width:auto;padding-left:1rem;padding-right:1rem;color:%23ffffff;background:rgba(56%2C%2056%2C%2056%2C%200.85);height:1.5rem;line-height:1.5rem;text-align:center;visibility:hidden;border-radius:3px","a.tooltips span:after":"content:%22%22;position:absolute;top:50%25;left:100%25;margin-top:-5px;width:0;height:0;border-left:5px%20solid%20rgba(56%2C%2056%2C%2056%2C%200.85);border-top:5px%20solid%20transparent;border-bottom:5px%20solid%20transparent","a:hover.tooltips span":"visibility:visible;opacity:0.9;font-size:0.8rem;right:100%25;top:50%25;margin-top:-12px;margin-right:10px;z-index:999",".json-editor-btntype-properties + div":"font-size:0.8rem;font-weight:normal",textarea:"width:100%25;min-height:2rem;resize:vertical",table:"width:100%25;border-collapse:collapse",".table td":"padding:0rem%200rem","div[data-schematype]:not([data-schematype='object'])":"transition:0.5s","div[data-schematype]:not([data-schematype='object']):hover":"background-color:%23e6f4fe","div[data-schemaid='root']":"position:relative;width:inherit;display:inherit;overflow-x:hidden;z-index:10","select[multiple]":"height:auto","select[multiple].from-select":"height:auto",".je-table-zebra:nth-child(even)":"background-color:%23f2f2f2",".je-table-border":"border:0.5px%20solid%20black",".je-table-hdiv":"border-bottom:1px%20solid%20black",".je-border":"border:0.05rem%20solid%20%233182ce",".je-panel":"width:inherit;padding:0.2rem;margin:0.2rem;background-color:rgba(218%2C%20222%2C%20228%2C%200.1)",".je-panel-top":"width:100%25;padding:0.2rem;margin:0.2rem;background-color:rgba(218%2C%20222%2C%20228%2C%200.1)",".required:after":"content:%22%20*%22;color:red;font:inherit;font-weight:bold",".je-desc":"font-size:smaller;margin:0.2rem%200",".container-xl.je-noindent":"padding-left:0;padding-right:0",".json-editor-btntype-add":"color:white;margin:0.3rem;padding:0.3rem%200.8rem;background-color:%234299e1;box-shadow:3px%203px%205px%201px%20rgba(4%2C%204%2C%204%2C%200.2);-webkit-box-shadow:3px%203px%205px%201px%20rgba(4%2C%204%2C%204%2C%200.2);-moz-box-shadow:3px%203px%205px%201px%20rgba(4%2C%204%2C%204%2C%200.2)",".json-editor-btntype-deletelast":"color:white;margin:0.3rem;padding:0.3rem%200.8rem;background-color:%23e53e3e;box-shadow:3px%203px%205px%201px%20rgba(4%2C%204%2C%204%2C%200.2);-webkit-box-shadow:3px%203px%205px%201px%20rgba(4%2C%204%2C%204%2C%200.2);-moz-box-shadow:3px%203px%205px%201px%20rgba(4%2C%204%2C%204%2C%200.2)",".json-editor-btntype-deleteall":"color:white;margin:0.3rem;padding:0.3rem%200.8rem;background-color:%23000000;box-shadow:3px%203px%205px%201px%20rgba(4%2C%204%2C%204%2C%200.2);-webkit-box-shadow:3px%203px%205px%201px%20rgba(4%2C%204%2C%204%2C%200.2);-moz-box-shadow:3px%203px%205px%201px%20rgba(4%2C%204%2C%204%2C%200.2)",".json-editor-btn-save":"float:right;color:white;margin:0.3rem;padding:0.3rem%200.8rem;background-color:%232b6cb0;box-shadow:3px%203px%205px%201px%20rgba(4%2C%204%2C%204%2C%200.2);-webkit-box-shadow:3px%203px%205px%201px%20rgba(4%2C%204%2C%204%2C%200.2);-moz-box-shadow:3px%203px%205px%201px%20rgba(4%2C%204%2C%204%2C%200.2)",".json-editor-btn-back":"color:white;margin:0.3rem;padding:0.3rem%200.8rem;background-color:%232b6cb0;box-shadow:3px%203px%205px%201px%20rgba(4%2C%204%2C%204%2C%200.2);-webkit-box-shadow:3px%203px%205px%201px%20rgba(4%2C%204%2C%204%2C%200.2);-moz-box-shadow:3px%203px%205px%201px%20rgba(4%2C%204%2C%204%2C%200.2)",".json-editor-btntype-delete":"color:%23e53e3e;background-color:rgba(218%2C%20222%2C%20228%2C%200.1);margin:0.03rem;padding:0.1rem",".json-editor-btntype-move":"color:%23000000;background-color:rgba(218%2C%20222%2C%20228%2C%200.1);margin:0.03rem;padding:0.1rem",".json-editor-btn-collapse":"padding:0em%200.8rem;font-size:1.3rem;color:%23e53e3e;background-color:rgba(218%2C%20222%2C%20228%2C%200.1)",".je-upload-preview img":"float:left;margin:0%200.5rem%200.5rem%200;max-width:100%25;max-height:5rem",".je-dropzone":"position:relative;margin:0.5rem%200;border:2px%20dashed%20black;width:100%25;height:60px;background:teal;transition:all%200.5s",".je-dropzone:before":"position:absolute;content:attr(data-text);color:rgba(0%2C%200%2C%200%2C%200.6);left:50%25;top:50%25;transform:translate(-50%25%2C%20-50%25)",".je-dropzone.valid-dropzone":"background:green",".je-dropzone.invalid-dropzone":"background:red"};var Ws={html:W0,bootstrap3:G0,bootstrap4:Mp,bootstrap5:Uh,jqueryui:Ec,barebones:Nl,spectre:Ka,tailwind:wf};const Tc={".je-float-right-linkholder":"float:right;margin-left:10px",".je-modal":"background-color:white;border:1px%20solid%20black;box-shadow:3px%203px%20black;position:absolute;z-index:10",".je-infobutton-icon":"font-size:16px;font-weight:bold;padding:0.25rem;position:relative;display:inline-block",".je-infobutton-tooltip":"font-size:12px;font-weight:normal;font-family:sans-serif;visibility:hidden;background-color:rgba(50%2C%2050%2C%2050%2C%200.75);margin:0%200.25rem;color:%23fafafa;padding:0.5rem%201rem;border-radius:0.25rem;width:20rem;position:absolute",".je-not-loaded":"pointer-events:none",".je-header":"display:inline-block",".je-upload-preview img":"float:left;margin:0%200.5rem%200.5rem%200;max-width:100%25;max-height:5rem",".je-checkbox":"display:inline-block;width:auto",".je-checkbox-control--compact":"display:inline-block;margin-right:1rem",".je-radio":"display:inline-block;width:auto",".je-radio-control--compact":"display:inline-block;margin-right:1rem",".je-switcher":"background-color:transparent;display:inline-block;font-style:italic;font-weight:normal;height:auto;width:auto;margin-bottom:0;margin-left:5px;padding:0%200%200%203px",".je-textarea":"width:100%25;height:300px;box-sizing:border-box",".je-range-control":"text-align:center",".je-indented-panel":"padding-left:10px;margin-left:10px;border-left:1px%20solid%20%23ccc",".je-indented-panel--top":"padding-left:10px;margin-left:10px",".je-tabholder":"float:left;width:130px",".je-tabholder .content":"margin-left:120px",".je-tabholder--top":"margin-left:10px",".je-tabholder--clear":"clear:both",".je-tab":"border:1px%20solid%20%23ccc;border-width:1px%200%201px%201px;text-align:center;line-height:30px;border-radius:5px;border-bottom-right-radius:0;border-top-right-radius:0;font-weight:bold;cursor:pointer",".je-tab--top":"float:left;border:1px%20solid%20%23ccc;border-width:1px%201px%200px%201px;text-align:center;line-height:30px;border-radius:5px;padding-left:5px;padding-right:5px;border-bottom-right-radius:0;border-bottom-left-radius:0;font-weight:bold;cursor:pointer",".je-block-link":"display:block",".je-media":"width:100%25"};function Jc(ht){return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},Jc(ht)}function _f(ht,H){(H==null||H>ht.length)&&(H=ht.length);for(var At=0,q=new Array(H);At<H;At++)q[At]=ht[At];return q}function Od(){Od=function(){return ht};var ht={},H=Object.prototype,At=H.hasOwnProperty,q=Object.defineProperty||function(vn,gn,Xe){vn[gn]=Xe.value},bt=typeof Symbol=="function"?Symbol:{},Q=bt.iterator||"@@iterator",ot=bt.asyncIterator||"@@asyncIterator",r=bt.toStringTag||"@@toStringTag";function b(vn,gn,Xe){return Object.defineProperty(vn,gn,{value:Xe,enumerable:!0,configurable:!0,writable:!0}),vn[gn]}try{b({},"")}catch(vn){b=function(gn,Xe,hr){return gn[Xe]=hr}}function Z(vn,gn,Xe,hr){var Gn=gn&&gn.prototype instanceof te?gn:te,$r=Object.create(Gn.prototype),Ai=new Br(hr||[]);return q($r,"_invoke",{value:zr(vn,Xe,Ai)}),$r}function dt(vn,gn,Xe){try{return{type:"normal",arg:vn.call(gn,Xe)}}catch(hr){return{type:"throw",arg:hr}}}ht.wrap=Z;var wt={};function te(){}function Ce(){}function Ke(){}var Ln={};b(Ln,Q,function(){return this});var Qn=Object.getPrototypeOf,ur=Qn&&Qn(Qn(mi([])));ur&&ur!==H&&At.call(ur,Q)&&(Ln=ur);var fr=Ke.prototype=te.prototype=Object.create(Ln);function Mr(vn){["next","throw","return"].forEach(function(gn){b(vn,gn,function(Xe){return this._invoke(gn,Xe)})})}function Ur(vn,gn){function Xe(Gn,$r,Ai,_o){var So=dt(vn[Gn],vn,$r);if(So.type!=="throw"){var Yo=So.arg,xl=Yo.value;return xl&&Jc(xl)=="object"&&At.call(xl,"__await")?gn.resolve(xl.__await).then(function(Ta){Xe("next",Ta,Ai,_o)},function(Ta){Xe("throw",Ta,Ai,_o)}):gn.resolve(xl).then(function(Ta){Yo.value=Ta,Ai(Yo)},function(Ta){return Xe("throw",Ta,Ai,_o)})}_o(So.arg)}var hr;q(this,"_invoke",{value:function(Gn,$r){function Ai(){return new gn(function(_o,So){Xe(Gn,$r,_o,So)})}return hr=hr?hr.then(Ai,Ai):Ai()}})}function zr(vn,gn,Xe){var hr="suspendedStart";return function(Gn,$r){if(hr==="executing")throw new Error("Generator is already running");if(hr==="completed"){if(Gn==="throw")throw $r;return{value:void 0,done:!0}}for(Xe.method=Gn,Xe.arg=$r;;){var Ai=Xe.delegate;if(Ai){var _o=Si(Ai,Xe);if(_o){if(_o===wt)continue;return _o}}if(Xe.method==="next")Xe.sent=Xe._sent=Xe.arg;else if(Xe.method==="throw"){if(hr==="suspendedStart")throw hr="completed",Xe.arg;Xe.dispatchException(Xe.arg)}else Xe.method==="return"&&Xe.abrupt("return",Xe.arg);hr="executing";var So=dt(vn,gn,Xe);if(So.type==="normal"){if(hr=Xe.done?"completed":"suspendedYield",So.arg===wt)continue;return{value:So.arg,done:Xe.done}}So.type==="throw"&&(hr="completed",Xe.method="throw",Xe.arg=So.arg)}}}function Si(vn,gn){var Xe=gn.method,hr=vn.iterator[Xe];if(hr===void 0)return gn.delegate=null,Xe==="throw"&&vn.iterator.return&&(gn.method="return",gn.arg=void 0,Si(vn,gn),gn.method==="throw")||Xe!=="return"&&(gn.method="throw",gn.arg=new TypeError("The iterator does not provide a '"+Xe+"' method")),wt;var Gn=dt(hr,vn.iterator,gn.arg);if(Gn.type==="throw")return gn.method="throw",gn.arg=Gn.arg,gn.delegate=null,wt;var $r=Gn.arg;return $r?$r.done?(gn[vn.resultName]=$r.value,gn.next=vn.nextLoc,gn.method!=="return"&&(gn.method="next",gn.arg=void 0),gn.delegate=null,wt):$r:(gn.method="throw",gn.arg=new TypeError("iterator result is not an object"),gn.delegate=null,wt)}function ho(vn){var gn={tryLoc:vn[0]};1 in vn&&(gn.catchLoc=vn[1]),2 in vn&&(gn.finallyLoc=vn[2],gn.afterLoc=vn[3]),this.tryEntries.push(gn)}function gi(vn){var gn=vn.completion||{};gn.type="normal",delete gn.arg,vn.completion=gn}function Br(vn){this.tryEntries=[{tryLoc:"root"}],vn.forEach(ho,this),this.reset(!0)}function mi(vn){if(vn){var gn=vn[Q];if(gn)return gn.call(vn);if(typeof vn.next=="function")return vn;if(!isNaN(vn.length)){var Xe=-1,hr=function Gn(){for(;++Xe<vn.length;)if(At.call(vn,Xe))return Gn.value=vn[Xe],Gn.done=!1,Gn;return Gn.value=void 0,Gn.done=!0,Gn};return hr.next=hr}}return{next:qo}}function qo(){return{value:void 0,done:!0}}return Ce.prototype=Ke,q(fr,"constructor",{value:Ke,configurable:!0}),q(Ke,"constructor",{value:Ce,configurable:!0}),Ce.displayName=b(Ke,r,"GeneratorFunction"),ht.isGeneratorFunction=function(vn){var gn=typeof vn=="function"&&vn.constructor;return!!gn&&(gn===Ce||(gn.displayName||gn.name)==="GeneratorFunction")},ht.mark=function(vn){return Object.setPrototypeOf?Object.setPrototypeOf(vn,Ke):(vn.__proto__=Ke,b(vn,r,"GeneratorFunction")),vn.prototype=Object.create(fr),vn},ht.awrap=function(vn){return{__await:vn}},Mr(Ur.prototype),b(Ur.prototype,ot,function(){return this}),ht.AsyncIterator=Ur,ht.async=function(vn,gn,Xe,hr,Gn){Gn===void 0&&(Gn=Promise);var $r=new Ur(Z(vn,gn,Xe,hr),Gn);return ht.isGeneratorFunction(gn)?$r:$r.next().then(function(Ai){return Ai.done?Ai.value:$r.next()})},Mr(fr),b(fr,r,"Generator"),b(fr,Q,function(){return this}),b(fr,"toString",function(){return"[object Generator]"}),ht.keys=function(vn){var gn=Object(vn),Xe=[];for(var hr in gn)Xe.push(hr);return Xe.reverse(),function Gn(){for(;Xe.length;){var $r=Xe.pop();if($r in gn)return Gn.value=$r,Gn.done=!1,Gn}return Gn.done=!0,Gn}},ht.values=mi,Br.prototype={constructor:Br,reset:function(vn){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(gi),!vn)for(var gn in this)gn.charAt(0)==="t"&&At.call(this,gn)&&!isNaN(+gn.slice(1))&&(this[gn]=void 0)},stop:function(){this.done=!0;var vn=this.tryEntries[0].completion;if(vn.type==="throw")throw vn.arg;return this.rval},dispatchException:function(vn){if(this.done)throw vn;var gn=this;function Xe(So,Yo){return $r.type="throw",$r.arg=vn,gn.next=So,Yo&&(gn.method="next",gn.arg=void 0),!!Yo}for(var hr=this.tryEntries.length-1;hr>=0;--hr){var Gn=this.tryEntries[hr],$r=Gn.completion;if(Gn.tryLoc==="root")return Xe("end");if(Gn.tryLoc<=this.prev){var Ai=At.call(Gn,"catchLoc"),_o=At.call(Gn,"finallyLoc");if(Ai&&_o){if(this.prev<Gn.catchLoc)return Xe(Gn.catchLoc,!0);if(this.prev<Gn.finallyLoc)return Xe(Gn.finallyLoc)}else if(Ai){if(this.prev<Gn.catchLoc)return Xe(Gn.catchLoc,!0)}else{if(!_o)throw new Error("try statement without catch or finally");if(this.prev<Gn.finallyLoc)return Xe(Gn.finallyLoc)}}}},abrupt:function(vn,gn){for(var Xe=this.tryEntries.length-1;Xe>=0;--Xe){var hr=this.tryEntries[Xe];if(hr.tryLoc<=this.prev&&At.call(hr,"finallyLoc")&&this.prev<hr.finallyLoc){var Gn=hr;break}}Gn&&(vn==="break"||vn==="continue")&&Gn.tryLoc<=gn&&gn<=Gn.finallyLoc&&(Gn=null);var $r=Gn?Gn.completion:{};return $r.type=vn,$r.arg=gn,Gn?(this.method="next",this.next=Gn.finallyLoc,wt):this.complete($r)},complete:function(vn,gn){if(vn.type==="throw")throw vn.arg;return vn.type==="break"||vn.type==="continue"?this.next=vn.arg:vn.type==="return"?(this.rval=this.arg=vn.arg,this.method="return",this.next="end"):vn.type==="normal"&&gn&&(this.next=gn),wt},finish:function(vn){for(var gn=this.tryEntries.length-1;gn>=0;--gn){var Xe=this.tryEntries[gn];if(Xe.finallyLoc===vn)return this.complete(Xe.completion,Xe.afterLoc),gi(Xe),wt}},catch:function(vn){for(var gn=this.tryEntries.length-1;gn>=0;--gn){var Xe=this.tryEntries[gn];if(Xe.tryLoc===vn){var hr=Xe.completion;if(hr.type==="throw"){var Gn=hr.arg;gi(Xe)}return Gn}}throw new Error("illegal catch attempt")},delegateYield:function(vn,gn,Xe){return this.delegate={iterator:mi(vn),resultName:gn,nextLoc:Xe},this.method==="next"&&(this.arg=void 0),wt}},ht}function Qc(ht,H,At,q,bt,Q,ot){try{var r=ht[Q](ot),b=r.value}catch(Z){return void At(Z)}r.done?H(b):Promise.resolve(b).then(q,bt)}function $h(ht,H){for(var At=0;At<H.length;At++){var q=H[At];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ht,(bt=function(Q,ot){if(Jc(Q)!=="object"||Q===null)return Q;var r=Q[Symbol.toPrimitive];if(r!==void 0){var b=r.call(Q,"string");if(Jc(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(q.key),Jc(bt)==="symbol"?bt:String(bt)),q)}var bt}var ss=function(){function ht(Q){var ot=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(function(Ke,Ln){if(!(Ke instanceof Ln))throw new TypeError("Cannot call a class as a function")}(this,ht),!(Q instanceof Element))throw new Error("element should be an instance of Element");this.element=Q,this.options=y({},ht.defaults.options,r),this.ready=!1,this.copyClipboard=null,this.schema=this.options.schema,this.template=this.options.template,this.translate=this.options.translate||ht.defaults.translate,this.translateProperty=this.options.translateProperty||ht.defaults.translateProperty,this.uuid=0,this.__data={};var b=this.options.theme||ht.defaults.theme,Z=ht.defaults.themes[b];if(!Z)throw new Error("Unknown theme ".concat(b));this.element.setAttribute("data-theme",b),this.element.classList.add("je-not-loaded"),this.element.classList.remove("je-ready"),this.theme=new Z(this);var dt=y(Tc,this.getEditorsRules()),wt=function(Ke,Ln,Qn){return Qn?ot.addNewStyleRulesToShadowRoot(Ke,Ln,Qn):ot.addNewStyleRules(Ke,Ln)};if(!this.theme.options.disable_theme_rules){var te=E(this.element);wt("default",dt,te),Z.rules!==void 0&&wt(b,Z.rules,te)}var Ce=ht.defaults.iconlibs[this.options.iconlib||ht.defaults.iconlib];Ce&&(this.iconlib=new Ce),this.root_container=this.theme.getContainer(),this.element.appendChild(this.root_container),this.promise=this.load()}var H,At,q,bt;return H=ht,At=[{key:"load",value:(q=Od().mark(function Q(){var ot,r,b,Z,dt,wt,te=this;return Od().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:return ot=document.location.origin+document.location.pathname.toString(),r=new _d(this.options),this.expandSchema=function(Ke){return r.expandSchema(Ke)},this.expandRefs=function(Ke,Ln){return r.expandRefs(Ke,Ln)},b=document.location.toString(),Ce.next=7,r.load(this.schema,ot,b);case 7:Z=Ce.sent,dt=this.options.custom_validators?{custom_validators:this.options.custom_validators}:{},this.validator=new ia(this,null,dt,ht.defaults),wt=this.getEditorClass(Z),this.root=this.createEditor(wt,{jsoneditor:this,schema:Z,required:!0,container:this.root_container}),this.root.preBuild(),this.root.build(),this.root.postBuild(),C(this.options,"startval")&&this.root.setValue(this.options.startval),this.validation_results=this.validator.validate(this.root.getValue()),this.root.showValidationErrors(this.validation_results),this.ready=!0,this.element.classList.remove("je-not-loaded"),this.element.classList.add("je-ready"),window.requestAnimationFrame(function(){te.ready&&(te.validation_results=te.validator.validate(te.root.getValue()),te.root.showValidationErrors(te.validation_results),te.trigger("ready"),te.trigger("change"))});case 22:case"end":return Ce.stop()}},Q,this)}),bt=function(){var Q=this,ot=arguments;return new Promise(function(r,b){var Z=q.apply(Q,ot);function dt(te){Qc(Z,r,b,dt,wt,"next",te)}function wt(te){Qc(Z,r,b,dt,wt,"throw",te)}dt(void 0)})},function(){return bt.apply(this,arguments)})},{key:"getValue",value:function(){if(!this.ready)throw new Error("JSON Editor not ready yet. Make sure the load method is complete");return this.root.getValue()}},{key:"setValue",value:function(Q){if(!this.ready)throw new Error("JSON Editor not ready yet. Make sure the load method is complete");return this.root.setValue(Q),this}},{key:"validate",value:function(Q){if(!this.ready)throw new Error("JSON Editor not ready yet. Make sure the load method is complete");return arguments.length===1?this.validator.validate(Q):this.validation_results}},{key:"destroy",value:function(){this.destroyed||this.ready&&(this.schema=null,this.options=null,this.root.destroy(),this.root=null,this.root_container=null,this.validator=null,this.validation_results=null,this.theme=null,this.iconlib=null,this.template=null,this.__data=null,this.ready=!1,this.element.innerHTML="",this.element.removeAttribute("data-theme"),this.destroyed=!0)}},{key:"on",value:function(Q,ot){return this.callbacks=this.callbacks||{},this.callbacks[Q]=this.callbacks[Q]||[],this.callbacks[Q].push(ot),this}},{key:"off",value:function(Q,ot){if(Q&&ot){this.callbacks=this.callbacks||{},this.callbacks[Q]=this.callbacks[Q]||[];for(var r=[],b=0;b<this.callbacks[Q].length;b++)this.callbacks[Q][b]!==ot&&r.push(this.callbacks[Q][b]);this.callbacks[Q]=r}else Q?(this.callbacks=this.callbacks||{},this.callbacks[Q]=[]):this.callbacks={};return this}},{key:"trigger",value:function(Q,ot){if(this.callbacks&&this.callbacks[Q]&&this.callbacks[Q].length)for(var r=0;r<this.callbacks[Q].length;r++)this.callbacks[Q][r].apply(this,[ot]);return this}},{key:"setOption",value:function(Q,ot){if(Q!=="show_errors")throw new Error("Option ".concat(Q," must be set during instantiation and cannot be changed later"));return this.options.show_errors=ot,this.onChange(),this}},{key:"getEditorsRules",value:function(){return Object.values(ht.defaults.editors).reduce(function(Q,ot){return ot.rules?y(Q,ot.rules):Q},{})}},{key:"getEditorClass",value:function(Q){var ot;if(Q=this.expandSchema(Q),ht.defaults.resolvers.find(function(r){return(ot=r(Q))&&ht.defaults.editors[ot]}),!ot)throw new Error("Unknown editor for schema ".concat(JSON.stringify(Q)));if(!ht.defaults.editors[ot])throw new Error("Unknown editor ".concat(ot));return ht.defaults.editors[ot]}},{key:"createEditor",value:function(Q,ot){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return new Q(ot=y({},Q.options||{},ot),ht.defaults,r)}},{key:"onChange",value:function(){var Q=this;if(this.ready&&!this.firing_change)return this.firing_change=!0,window.requestAnimationFrame(function(){Q.firing_change=!1,Q.ready&&(Q.validation_results=Q.validator.validate(Q.root.getValue()),Q.options.show_errors!=="never"?Q.root.showValidationErrors(Q.validation_results):Q.root.showValidationErrors([]),Q.trigger("change"))}),this}},{key:"compileTemplate",value:function(Q){var ot,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ht.defaults.template;if(typeof r=="string"){if(!ht.defaults.templates[r])throw new Error("Unknown template engine ".concat(r));if(!(ot=ht.defaults.templates[r]()))throw new Error("Template engine ".concat(r," missing required library."))}else ot=r;if(!ot)throw new Error("No template engine set");if(!ot.compile)throw new Error("Invalid template engine set");return ot.compile(Q)}},{key:"_data",value:function(Q,ot,r){if(arguments.length!==3)return Q.hasAttribute("data-jsoneditor-".concat(ot))?this.__data[Q.getAttribute("data-jsoneditor-".concat(ot))]:null;var b;Q.hasAttribute("data-jsoneditor-".concat(ot))?b=Q.getAttribute("data-jsoneditor-".concat(ot)):(b=this.uuid++,Q.setAttribute("data-jsoneditor-".concat(ot),b)),this.__data[b]=r}},{key:"registerEditor",value:function(Q){return this.editors=this.editors||{},this.editors[Q.path]=Q,this}},{key:"unregisterEditor",value:function(Q){return this.editors=this.editors||{},this.editors[Q.path]=null,this}},{key:"getEditor",value:function(Q){if(this.editors)return this.editors[Q]}},{key:"watch",value:function(Q,ot){return this.watchlist=this.watchlist||{},this.watchlist[Q]=this.watchlist[Q]||[],this.watchlist[Q].push(ot),this}},{key:"unwatch",value:function(Q,ot){if(!this.watchlist||!this.watchlist[Q])return this;if(!ot)return this.watchlist[Q]=null,this;for(var r=[],b=0;b<this.watchlist[Q].length;b++)this.watchlist[Q][b]!==ot&&r.push(this.watchlist[Q][b]);return this.watchlist[Q]=r.length?r:null,this}},{key:"notifyWatchers",value:function(Q){if(!this.watchlist||!this.watchlist[Q])return this;for(var ot=0;ot<this.watchlist[Q].length;ot++)this.watchlist[Q][ot]()}},{key:"isEnabled",value:function(){return!this.root||this.root.isEnabled()}},{key:"enable",value:function(){this.root.enable()}},{key:"disable",value:function(){this.root.disable()}},{key:"setCopyClipboardContents",value:function(Q){this.copyClipboard=Q}},{key:"getCopyClipboardContents",value:function(){return this.copyClipboard}},{key:"addNewStyleRules",value:function(Q,ot){var r=document.querySelector("#theme-".concat(Q));r||((r=document.createElement("style")).setAttribute("id","theme-".concat(Q)),r.appendChild(document.createTextNode("")),document.head.appendChild(r));for(var b=r.sheet?r.sheet:r.styleSheet,Z=this.element.nodeName.toLowerCase();b.cssRules.length>0;)b.deleteRule(0);Object.keys(ot).forEach(function(dt){var wt=Q==="default"?dt:"".concat(Z,'[data-theme="').concat(Q,'"] ').concat(dt);b.insertRule?b.insertRule(wt+" {"+decodeURIComponent(ot[dt])+"}",0):b.addRule&&b.addRule(wt,decodeURIComponent(ot[dt]),0)})}},{key:"addNewStyleRulesToShadowRoot",value:function(Q,ot,r){var b=this.element.nodeName.toLowerCase(),Z="";Object.keys(ot).forEach(function(te){var Ce=Q==="default"?te:"".concat(b,'[data-theme="').concat(Q,'"] ').concat(te);Z+=Ce+" {"+decodeURIComponent(ot[te])+`}
`});var dt,wt=new CSSStyleSheet;wt.replaceSync(Z),r.adoptedStyleSheets=[].concat(function(te){if(Array.isArray(te))return _f(te)}(dt=r.adoptedStyleSheets)||function(te){if(typeof Symbol!="undefined"&&te[Symbol.iterator]!=null||te["@@iterator"]!=null)return Array.from(te)}(dt)||function(te,Ce){if(te){if(typeof te=="string")return _f(te,Ce);var Ke=Object.prototype.toString.call(te).slice(8,-1);return Ke==="Object"&&te.constructor&&(Ke=te.constructor.name),Ke==="Map"||Ke==="Set"?Array.from(te):Ke==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ke)?_f(te,Ce):void 0}}(dt)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}(),[wt])}}],At&&$h(H.prototype,At),Object.defineProperty(H,"prototype",{writable:!1}),ht}();ss.defaults=os,ss.AbstractEditor=P,ss.AbstractTheme=iu,ss.AbstractIconLib=Os,Object.assign(ss.defaults.themes,Ws),Object.assign(ss.defaults.editors,xd),Object.assign(ss.defaults.templates,_c),Object.assign(ss.defaults.iconlibs,Tp)})(),d})())})(N8);var P8=N8.exports;const GE={EditorNodeSettingsModal:"_EditorNodeSettingsModal_wxfz0_2"},vA="",XE=ja('<div class="node-settings-editor">');P8.JSONEditor.defaults.options.iconlib="bootstrap";const ZE={width:"100%",cursor:"unset",outline:"none"},KE=U=>{let l;const[f,I]=rh(),[L,d]=wp(!1),u=()=>{l&&(l.destroy(),l=void 0)};z0(()=>{if(f.editNodeSettings&&!l){const g=f.chart.nodes[f.editNodeSettings],y=window.DMBRoot.getElementById(`${f.editNodeSettings}_editing_settings`),k=U.nodes.find(E=>E.type===g.type);l=new P8.JSONEditor(y,{schema:k?k.schema:null,disable_collapse:!1,disable_edit_json:!1,disable_properties:!0,no_additional_properties:!0,remove_empty_properties:!1,remove_button_labels:!1,theme:"bootstrap5",object_layout:"normal"}),l.on("ready",()=>{l.setValue(g),d(!0)})}}),hf(()=>{u()});const s=g=>g.reduce((y,k,E)=>dd(ks({},y),{[`${k.id}`]:dd(ks({},k),{index:E+1})}),{}),n=()=>Ei(this,null,function*(){const g=l.getValue(),y=f.chart.nodes[f.editNodeSettings],k=dd(ks({},y),{output:g.output,properties:g.properties||{displayAs:"message"},ports:g.ports&&g.ports.length?s(g.ports):y.ports});I.onToggleEditNodeSettings(void 0),I.onNodeChanged(k.id,k),u()}),m=()=>{I.onToggleEditNodeSettings(void 0),u()};return gr(df,{get when(){return!!f.editNodeSettings},get children(){return gr(G3,{open:!0,closeOnEsc:!1,onClose:m,width:"100vw",get classList(){return{[`${GE.EditorNodeSettingsModal}`]:!0}},children:g=>gr(X3,{get children(){return[gr(Z3,{get children(){return["Edit node settings",gr(sl,{variant:"icon",get onclick(){return g.toggle},style:{float:"right"},children:"✕"})]}}),gr(K3,{get children(){const y=XE();return yb(y,ZE),qa(()=>al(y,"id",`${f.editNodeSettings}_editing_settings`)),y}}),gr(J3,{get children(){return[gr(sl,{variant:"secondary",get onclick(){return g.toggle},children:"Cancel"}),gr(sl,{variant:"primary",onclick:n,children:"Confirm"})]}})]}})})}})},JE=ja("<div>"),QE=ja('<style type="text/css" id="customBotCssOverrides">'),tT=U=>{const I=Q3(10),[L,d]=rh();fb(()=>{console.debug("Mounting flowchart diagram"),U.onLoad&&U.onLoad(d)});const u=s=>{d.onScale(s.getTransform().scale)};return(()=>{const s=JE();return Di(s,gr(WE,{}),null),Di(s,gr(KE,{get nodes(){return U.availableNodes}}),null),Di(s,gr($E,{get nodes(){return U.availableNodes}}),null),Di(s,gr($C,{id:I,onScale:u,minZoom:.2,maxZoom:2,get children(){return[gr(LE,{canvasId:I}),gr(DE,{}),gr(df,{get when(){return!!L.newLink},get children(){return gr(I8,{linkId:"newLink",creating:!0})}})]}}),null),qa(()=>Ya(s,BE.Diagram)),s})()},eT=U=>{window.DMBRoot=U.root||document;const l=I=>{var L;(L=U.onLoad)==null||L.call(U,I)},f=I=>{var L;(L=U.onHistoryChange)==null||L.call(U,I)};return[(()=>{const I=QE();return Di(I,()=>jE(U.width,U.height,U.customTheme)),I})(),gr(IC,{get initialChart(){return U.initialChart},onHistoryChange:f,get children(){return gr(c7,{fallback:I=>I,get children(){return gr(tT,{get width(){return U.width},get height(){return U.height},onLoad:l,get availableNodes(){return U.availableNodes}})}})}})]};function nT(U,l){v7(()=>gr(eT,{get initialChart(){return U.chart},get width(){return U.width},get height(){return U.height},get root(){return U.root||document},get fontFace(){return U.fontFace},get availableNodes(){return U.availableNodes},get onHistoryChange(){return U.onHistoryChange},get onLoad(){return U.onLoad},get customTheme(){return U.customTheme}}),document.getElementById(l))}Xo.FChart=nT,Xo.onReady=A4,Xo.tools=T4,Object.defineProperty(Xo,Symbol.toStringTag,{value:"Module"})});
